(()=>{var e,t={3520:(e,t,o)=>{t.GameSimulator=class{constructor(){this.gameState={resources:{clones:0,sticks:0,vines:0,rocks:0,fish:0,wood:0,ponder:0,ore:0,sand:0,wheat:0,freshwater:0,hides:0,clay:0,herbs:0,game:0,husks:0,violence:0,sharprocks:0,rope:0,handle:0,staff:0,fishingrod:0,spear:0,axe:0,pickaxe:0,glass:0,paper:0,gold:0,iron:0,silver:0,bricks:0,bread:0,steel:0,beams:0,crates:0,nails:0,slabs:0,medicine:0,leather:0,concrete:0},maxes:{clones:0,sticks:50,vines:50,rocks:30,fish:10,wood:40,ponder:20,ore:20,sand:20,wheat:20,freshwater:50,hides:50,clay:50,herbs:50,game:50,husks:1e3,violence:100},buildings:{animal_pen:0,bakery:0,barn:0,barracks:0,campfire:0,desk:0,drying_racks:0,fish_traps:0,fishery:0,forge:0,garden:0,grove:0,herbalist_hut:0,hospital:0,house:0,hut:0,irrigation:0,library:0,lumber_yard:0,marketplace:0,military_school:0,mine:0,observatory:0,reservoir:0,rock_role:0,sand_scoop:0,shed:0,shelter:0,stockpile:0,stone_depot:0,stone_quarry:0,tannery:0,teepee:0,telescope:0,tower:0,traps:0,vineyard:0,warehouse:0,water_pump:0,windmill:0,workshop:0},time:0},this.log=[]}buildingsConst=o(5882).buildings;buyBuilding(e){let t={};for(const[o,s]of Object.entries(this.buildingsConst[e].basecost))t[o]=s*Math.pow(this.buildingsConst[e].ratio,this.gameState.buildings[e]);let o=!0;for(let e in t)if(this.gameState.resources[e]<t[e])return void(o=!1);if(o){for(let e in t)this.gameState.resources[e]-=t[e];if(this.gameState.buildings[e]+=1,this.storage.includes(e))for(const[t,o]of Object.entries(this.buildingsConst[e].effects))this.gameState.maxes[t]+=o}}simulateTick(){this.performActions(),this.updateResources(),this.gameState.time+=1,this.logGameState()}housing=["hut","shelter","house","barracks","hospital","teepee"];storage=["shed","stockpile","workshop","warehouse","drying_racks","water_pump","military_school","barn","herbalist_hut","mine","bakery","animal_pen","reservoir","stone_depot"];buildingPriority=[...this.housing,...this.storage];performActions(){for(let e of Object.values(this.buildingPriority))try{this.buyBuilding(e)}catch(t){console.error("Failed to buy",e,t)}}resourcesToGather=["sticks"];updateResources(){for(let[e,t]of Object.entries(this.resourcesToGather)){let e=0;"sticks"!==t&&"vines"!==t&&"wood"!==t&&"rocks"!==t&&"fish"!==t&&"ore"!==t||(e=1),this.gameState.resources[t]+=(e+.25*this.gameState.resources.clones)/this.resourcesToGather.length,Object.keys(this.gameState.maxes).includes(t)&&this.gameState.resources[t]>this.gameState.maxes[t]&&(this.gameState.resources[t]=this.gameState.maxes[t],"vines"===t&&Math.random()>.5&&(this.gameState.resources.rope+=this.gameState.resources.vines/3,this.gameState.resources.vines=0),"wood"===t&&Math.random()>.5&&(this.gameState.resources.paper+=this.gameState.resources.wood/12,this.gameState.resources.wood=0),"ore"===t&&Math.random()>.5&&(Math.random()>.5?(this.gameState.resources.iron+=this.gameState.resources.ore/20,this.gameState.resources.ore=0):(this.gameState.resources.gold+=this.gameState.resources.ore/100,this.gameState.resources.ore=0)),"sand"===t&&Math.random()>.5&&(this.gameState.resources.paper+=this.gameState.resources.sand/10,this.gameState.resources.sand=0),"clay"===t&&Math.random()>.5&&(this.gameState.resources.bricks+=this.gameState.resources.clay/15,this.gameState.resources.clay=0))}this.gameState.resources.sticks>=10&&!this.resourcesToGather.includes("vines")&&(this.resourcesToGather.push("vines"),console.warn(this.resourcesToGather)),this.gameState.resources.vines>=10&&!this.resourcesToGather.includes("rocks")&&(this.resourcesToGather.push("rocks"),console.warn(this.resourcesToGather)),this.gameState.resources.rocks>=10&&!this.resourcesToGather.includes("fish")&&(this.resourcesToGather.push("fish"),console.warn(this.resourcesToGather)),this.gameState.resources.fish>=10&&!this.resourcesToGather.includes("wood")&&(this.resourcesToGather.push("wood"),console.warn(this.resourcesToGather)),this.gameState.resources.wood>=10&&!this.resourcesToGather.includes("ore")&&(this.resourcesToGather.push("ore"),console.warn(this.resourcesToGather)),this.gameState.resources.clones>=1&&!this.resourcesToGather.includes("ponder")&&(this.resourcesToGather.push("ponder"),console.warn(this.resourcesToGather)),this.gameState.resources.clones>=3&&!this.resourcesToGather.includes("sand")&&(this.resourcesToGather.push("sand"),console.warn(this.resourcesToGather)),this.gameState.resources.clones>=4&&!this.resourcesToGather.includes("clay")&&(this.resourcesToGather.push("clay"),console.warn(this.resourcesToGather)),this.gameState.resources.clones=this.gameState.buildings.shelter+this.gameState.buildings.hut+2*this.gameState.buildings.house+3*this.gameState.buildings.hospital+2*this.gameState.buildings.teepee+this.gameState.buildings.barracks}logGameState(){const e=JSON.parse(JSON.stringify(this.gameState));this.log.push({time:this.gameState.time,...e})}runSimulation(e){for(let t=0;t<e;t++)this.simulateTick();this.outputResults()}outputResults(){const e=function(e){const t=Object.keys(e[0].buildings),o=Object.keys(e[0].resources),s=(Object.keys(e[0].maxes),[...Object.keys(e[0]).filter((e=>"buildings"!==e&&"resources"!==e)),...t,...o]),n=[s.join(",")];return e.forEach((e=>{const t=s.map((t=>e.buildings&&e.buildings.hasOwnProperty(t)?e.buildings[t]:e.resources&&e.resources.hasOwnProperty(t)?e.resources[t]:e[t]));n.push(t.join(","))})),n.join("\n")}(this.log),t=new Blob([e],{type:"text/csv"}),o=URL.createObjectURL(t),s=document.createElement("a");s.href=o,s.download="data.csv",s.textContent="Download CSV",document.body.appendChild(s),console.table(this.log)}}},1621:e=>{var t=!1;e.exports={ateFish:t,setAteFish:function(e){return t=e},getAteFish:function(){return t}}},5098:e=>{let t=.5;function o(){return t}let s=.5;function n(){return s}e.exports={setMusicVolume:function(e){t=e},getMusicVolume:o,setSfxVolume:function(e){s=e},getSfxVolume:n,playSound:function(e,t){const s=new Audio(e);s.volume=t?n():o(),s.play()}}},5151:(e,t,o)=>{const{buildings:s,isPopBuilding:n}=o(5882),{increaseMaterial:i,increaseMax:r}=o(9594),{updateTotal:a}=o(5150),{hasPerk:c}=o(134),{getMaterial:l}=o(3924),{passedStage:u}=o(8751),{recalcMaxClones:d}=o(6995),{updateBuildingButtonCount:f}=o(2607),{recalculateBuildingCost:p}=o(8022),{canBuyBuilding:g}=o(5023),{isPondered:h}=o(4369),{updateBuildingList:m}=o(2831),{capitalizeFirst:b}=o(6681),{ponders:y}=o(6397),{logEvent:v,getAnalytics:k}=o(9013),{getPlayerUid:w}=o(9476),{triggerFloatUpText:x}=o(8727);function S(e){console.log("Buying building "+e);const t=s[e];if(g(e)){t.count++;for(const e in t.cost)i(e,-t.cost[e]);for(const[e,o]of Object.entries(t.effects))r(e,o),"clones"===e&&(d(),a());for(const[e,o]of Object.entries(t.boost)){const t=document.getElementById(`${e}IncreaseRate`);if(!t)continue;const o=t.getBoundingClientRect();x(o.right,o.bottom,"+speed","aqua")}f(e,t.count,JSON.parse(JSON.stringify(t.emoji))),p(e),m(),v(k(),"building_purchase",{building_name:e,user_id:w()})}}e.exports={generateBuildingTooltipCost:function(e){return Object.entries(e).map((([e,t])=>`${t.toFixed(2)} ${e}`)).join("\n")},createBuildingButton:function(e,t){try{const o=t[e];o.cost=JSON.parse(JSON.stringify(o.basecost));const s=Object.entries(o.cost).map((([e,t])=>`${e}: ${t}`)).join(", "),n=function(e){return function(){const t=Object.entries(e).every((([e,t])=>l(e)>=Math.floor(t/2)));return u("clones")&&t}}(o.cost);return console.log("create building button:",o,JSON.parse(JSON.stringify(o.emoji))),{class:"tooltip "+e,tab:"production",text:`${JSON.parse(JSON.stringify(o.emoji))} ${b(e)} (${o.count})`,tooltipDesc:t[e].tooltipDesc||"A mysterious building with untold benefits.",tooltipCost:s,requirement:()=>n(),data_building:e}}catch(o){console.error("Could not create building button for",e,t)}},buyMaxBuildings:function(e){let t=0;for(s[e];g(e);)S(e),++t;return v(k(),"building_purchase_max",{building_name:e,user_id:w(),count:t}),t},buyBuilding:S,generateEffectString:function(e){let t=[];for(let[o,s]of Object.entries(e.effects))t.push(`+${s} max ${o}`);for(let[o,s]of Object.entries(e.boost)){let e=Math.round(100*(s-1));for(const[t,o]of Object.entries(y))h(t)&&t.startsWith("effectiveBuildings")&&(e*=1.03);t.push(`+${e.toFixed(2)}% ${o} production`)}return t.join("<br>")},updateBuildingList:m}},8121:(e,t,o)=>{const{resources:s}=o(2587),{craftedResources:n}=o(3371),{skills:i}=o(2324),{getWorkers:r}=o(5150),{hasPerk:a}=o(134),{isPondered:c}=o(4369),{getFactoryProduction:l}=o(1051),{hasPrestige:u,getLevelOfPrestige:d}=o(6425),{getMaterial:f}=o(3924),{hasTool:p}=o(2609),{ponders:g}=o(6397),h={Lumberjack:["wood","sticks"],Miner:["rocks","ore"],Botanist:["vines","herbs","wheat"]},m={gathering:["gatheringBoost"],masonry:["masonryBoost"],carpentry:["carpentryBoost"],thinking:["thinkingBoost"],farming:["farmingBoost"],fishing:["fishingBoost"],hunting:["huntingBoost"]},b={wood:"axe",ore:"pickaxe",fish:"fishingrod",game:"spear",ponder:"paper",sticks:"staff"};t.calcIncrease=function(e,t){var n=0;if(c("eatBread")&&f("bread")>0&&"bread"===e)return parseFloat((-1*t/1e3).toFixed(3));const l=o(5882).buildings;"clones"===e&&c("autoClone")&&(n=1),s[e]&&s[e].isGetting&&(n+=1),n+=(a("Leader")?.375:.25)*r(e)||0,u("cloneBoost")&&(n*=1.05*r(e)*d("cloneBoost")),n=function(e,t){for(const[o,s]of Object.entries(h))s.includes(t)&&a(o)&&(e*=1.75);return e}(n,e),n=function(e,t){for(const[o,s]of Object.entries(m))if(i[o].affectedResources.includes(t)){s.forEach((t=>{u(t)&&(e*=1.1*d(t))}));let t=1.06,n=1+(Math.pow(t,i[o].level)-1)/100;e*=n}return e}(n,e);for(const t of Object.keys(l)){const s=o(5882).getBoost(t,e);if(s){var p=Math.pow(s,l[t].count);for(const[e,t]of Object.entries(g))c(e)&&e.startsWith("effectiveBuildings")&&(p*=1.03);n*=p}}return c("eatBread")&&f("bread")>0&&"bread"!==e&&(n*=1.1),n=function(e,t){const o=b[t];return o&&f(o)>10&&(e*=1+Math.log10(f(o)/10)),e}(n=function(e,t){for(const[o,s]of Object.entries(g))c(o)&&(o.startsWith("fasterResourceGain")&&(e*=1.05),o.startsWith("fasterPonder")&&"ponder"===t&&(e*=1.05));return e}(n,e),e),f("husks")>10&&(n*=1+Math.log(f("husks")/10)),n=Math.sqrt(n),parseFloat((n*t/1e3).toFixed(3))}},5023:(e,t,o)=>{const{resources:s}=o(2587),{getMaterial:n}=o(3924),{passedStage:i}=o(8751);t.canBuyBuilding=function(e){let t=!0;const r=o(5882).buildings[e];for(const e in r.cost)if(r.cost[e]>n(e,s)){t=!1;break}return r.effects&&r.effects.clones&&!i("clone")&&(t=!1),t}},7064:(e,t,o)=>{const{craftedResources:s}=o(3371),{getMaterial:n}=o(3924);t.canCraft=function(e){let t=s[e].cost;for(const[e,o]of Object.entries(t))if(n(e)<o)return!1;return!0}},6681:(e,t)=>{t.capitalizeFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},7169:(e,t)=>{const o=document.getElementById("message");t.messageElement=o,t.changeMessage=function(e,t,s="You feel peckish for some seafood"){null===s&&(s="You feel peckish for some seafood");const n=e.replace(t,`<span class='tooltip' id="alone" tooltipDesc="${s}" tooltipcost="Click to clone yourself.">${t}</span>`);o.innerHTML=n}},4856:(e,t,o)=>{const{getMaterial:s}=o(3924),{increaseMaterial:n}=o(9594),i={husks:{probability:.05,quantity:1},nails:{probability:.1,quantity:50},slabs:{probability:.2,quantity:50},beams:{probability:.1,quantity:60},axe:{probability:.15,quantity:5},spear:{probability:1,quantity:5},gold:{probability:.1,quantity:10},iron:{probability:.15,quantity:50},silver:{probability:.05,quantity:20},steel:{probability:.1,quantity:30},bricks:{probability:.15,quantity:80}};let r={};function a(){return r}function c(){let e={};for(const t in i)if(Math.random()<i[t].probability){const o=Math.floor(i[t].quantity*(.4*Math.random()+.8));o>0&&(e[t]=o)}return r=e,console.log(r),e}const l=document.getElementById("arena");function u(e,t){for(let o=0;o<t;o++){const t=document.createElement("div");t.className=`ball ${e}`,t.style.left=("player"===e?10:90)+"%",t.style.top=10+30*o+"px",l.appendChild(t),"player"===e?d.push(t):f.push(t)}}let d=[],f=[],p=[];const g=3e3;function h(){document.querySelectorAll(".ball").forEach((e=>{const t=e.classList.contains("player")?l.offsetWidth:-l.offsetWidth;p.push(e.animate([{transform:`translateX(${t}px)`}],{duration:g,fill:"none"}).finished.then((()=>{e.remove()})))})),v(),setTimeout((()=>{const e=document.querySelectorAll(".player").length,t=document.querySelectorAll(".enemy").length;if(0!==e&&0!==t){for(const e of document.querySelectorAll(".ball"))e.remove();u("player",e),u("enemy",t),h()}}),g-100)}let m=!1;function b(){if(m)return;const e=document.querySelectorAll(".player").length,t=document.querySelectorAll(".enemy").length;if(0===e&&t>0?x="enemy":0===t&&e>0&&(x="player"),null!==x){const e=document.getElementById("combatResult");if(e.textContent="player"===x?"You won!":"enemy"===x?"The Enemy won!":"It's a draw!",setTimeout((()=>{w.disabled=!1}),g/2),"player"===x){m=!0;let t=1;"aggressive"===$()&&(t=.75),"careful"===$()&&(t=1.25);for(const[o,s]of Object.entries(r))n(o,s*t),e.innerHTML+=`<br>+${s*t} ${o}`;c()}return console.log("battle result was",x),function(e){if(null===e)return C;e?C*=1.3:C/=1.1,C<200&&(C=200)}(null===x||"player"===x),D(),!0}return!1}function y(e,t){const o=e.getBoundingClientRect(),s=t.getBoundingClientRect();return!(o.right<s.left||o.left>s.right||o.bottom<s.top||o.top>s.bottom)}function v(){!function(e,t){for(let n=0;n<e.length;n++)for(let e=0;e<t.length;e++)y(d[n],f[e])&&(o=d[n],s=f[e],Math.random()<1/(1+Math.pow(10,(T()-B())/S))?s.remove():o.remove());var o,s}(d,f),b()||m||requestAnimationFrame(v)}function k(){const e=B(),t=T(),o=Math.ceil(e/12),s=Math.ceil(t/12),n=Math.max(o,s),i=Math.floor(e/n),r=Math.floor(t/n);return document.getElementById("approximateBall").textContent=n.toString(),[i,r]}const w=document.querySelector("button#startCombat");let x=null;const S=200;function B(){let e=s("violence")+s("spear")+s("medicine");return"aggressive"===$()?e*=1.2:"careful"===$()&&(e*=.8),e}let C=400;function T(){return C}const M=document.getElementById("playerMight"),j=document.getElementById("enemyMight");function E(){const e=B(),t=T(),o=1/(1+Math.pow(10,(t-e)/S));M.textContent=e.toFixed(0),M.setAttribute("tooltipdesc",`${s("violence").toFixed(0)} violence + ${s("spear").toFixed(0)} spears + ${s("medicine").toFixed(0)} medicine`),j.textContent=t.toFixed(0);const n=document.getElementById("chanceToWin");return n.textContent=(100*o).toFixed(1)+"%",n.style.color=`hsl(${(120*o).toString(10)},100%,50%)`,o}let A="balanced";function $(){return A}const q=document.querySelectorAll("button.stance");function O(e){console.log("switch stance to ",e),q.forEach((e=>{e.disabled=!1})),document.querySelector(`#${e}Stance`).disabled=!0,function(e){A=e}(e),D()}function D(){Object.keys(a()).length<1&&c();const e=document.getElementById("lootList");e.innerHTML="";for(const[t,o]of Object.entries(a()))e.innerHTML+=`<span>${t} (${o})</span> <br>`;j.textContent=T().toString(),k(),E()}window.switchStance=O,e.exports={combat:function(){x=null;for(const e of document.querySelectorAll(".ball"))e.remove();let[e,t]=k();u("player",e),u("enemy",t),document.getElementById("combatResult").textContent="",w.disabled=!0,m=!1,h()},calculateWinChance:E,refreshValues:D,pauseAnimation:function(){p.forEach((e=>{e.pause()}))},battleResult:x,simulateBattle:function(){x=function(){const e=B(),t=T(),o=1/(1+Math.pow(10,(t-e)/S));return Math.random()<o?"player":"enemy"}(),b()},switchStance:O,getCurrEnemyMight:T,setEnemyMight:function(e){C=e}}},1051:(e,t,o)=>{const{getSfxVolume:s,playSound:n}=o(5098),{canCraft:i}=o(7064),{getMaterial:r}=o(3924),{craftedResources:a}=o(3371),{resources:c}=o(2587);var l={beams:["wood"],bricks:["clay"],concrete:["sand"],crates:["wood"],glass:["sand"],gold:["ore"],handle:["sticks"],iron:["ore"],leather:["hides"],medicine:["herbs"],nails:["iron"],paper:["wood"],sharprocks:["rocks"],silver:["ore"],slabs:["rocks"],spear:["staff","sharprocks","rope"],staff:["handle","rope"],steel:["iron"],sticks:["wood"],rope:["vines"],wood:["sticks"]},u=[];Object.keys(c).forEach((e=>u.push(e))),Object.keys(a).forEach((e=>u.push(e))),console.log("All materials: ",u);let d={},f={};function p(e,t){e&&"none"!==e&&(d[e]--,Array.from(a[e].cost).forEach((e=>{f[e.resource]-=e.amount}))),d[t]?d[t]++:d[t]=1,a[t]&&Array.from(a[t].cost).forEach((e=>{f[e.resource]+=e.amount}))}function g(){const e=document.getElementById("factories"),t=document.createElement("div");t.className="factory";const s=document.createElement("span");s.classList.add("factoryCost");const i=document.createElement("select");Object.keys(l).forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,i.appendChild(t)})),i.setAttribute("data-produced","none"),i.addEventListener("change",(function(){const e=this.getAttribute("data-produced");"none"!==e&&(document.querySelector(`#resource-${e}`).style.color="");const t=i.value;n("./audio/factoryoption.wav"),p(e,t),this.setAttribute("data-produced",t),t&&"none"!==t&&(document.querySelector(`#resource-${t}`).style.color="thistle",s.innerHTML="",s.innerHTML+=`${o(9594).generateTooltipCost(a[i.value].cost)}`)}));const r=document.createElement("span");return r.innerHTML="&#8594;",t.appendChild(s),t.appendChild(r),t.appendChild(i),function(e,t){const o=document.createElement("option");o.value="",o.textContent="Select a Resource",o.selected=!0,e.appendChild(o)}(i),e.appendChild(t),t}let h=2,m=30;var b=50;e.exports={createFactoryDiv:g,attemptManufacture:function(){document.querySelectorAll(".factory").forEach((e=>{const t=e.querySelector("select:last-child").value,s=l[t];s&&t&&i(t)&&function(e,t){console.trace();let s=[];e.forEach((e=>s.push(r(e)/a[t].cost[e])));let n=Math.min(h,...s);console.log(n,h,...s),n*=1,o(9594).craftResourceQuantity(t,n)}(s,t)}))},buyFactory:function(){const e=document.getElementById("buyFactoryButton");r("silver")<b?console.log("Not enough silver!"):(o(9594).increaseMaterial("silver",-b),g(),n("./audio/factorybuild.wav"),b*=1.2,e.setAttribute("tooltipCost",`${b.toFixed(0)} silver`))},upgradeBulk:function(){r("silver")<m||(h+=2,m+=10,n("./audio/factorybulk.wav"),document.getElementById("upgradeBulkButton").setAttribute("tooltipCost",`${h} → ${h+2}: ${m.toFixed(0)} silver`))},allMaterials:u,getFactoryProduction:function(e){return d[e]*h},loadFactory:function(e){console.log("loading a factory for ",e);let t=g();if(e)try{t.querySelector("select").value=e,document.querySelector(`#resource-${e}`).style.color="thistle",t.querySelector(".factoryCost").innerHTML="",t.querySelector(".factoryCost").innerHTML+=`${o(9594).generateTooltipCost(a[e].cost)}`}catch(e){console.warn(e)}const s=document.getElementById("buyFactoryButton");s&&(s.setAttribute("tooltipCost",`${b.toFixed(0)} silver`),p("none",e)),b*=1.2},activeFactoriesProducing:d}},7531:(e,t)=>{t.fitCharToCell=function(e,t,o,s){const n=document.createElement("span");n.textContent=e,n.style.fontSize=`${s}px`,n.style.position="absolute",n.style.whiteSpace="nowrap",n.style.visibility="hidden",document.body.appendChild(n);let i=s;for(;n.offsetWidth<t&&n.offsetHeight<o&&(i++,n.style.fontSize=`${i}px`,!(i>=1e3)););return document.body.removeChild(n),i}},215:(e,t,o)=>{const{resources:s}=o(2587),{capitalizeFirst:n}=o(6681),{getSfxVolume:i}=o(5098),{updateDisplayValue:r}=o(5453),a=document.querySelector("#resources");const c=document.querySelector("#emojiGatherDisplay");t.toggleResource=function(e){const t=new Audio("./audio/gather.wav");t.volume=i(),t.play();const o=s[e],l=document.querySelector("#resources").querySelector("#resource-"+e),u=document.querySelector("#gather"+e.charAt(0).toUpperCase()+e.slice(1));c.textContent="𓀟",o.isGetting?(o.isGetting=!1,u.classList.remove("gathering"),u.textContent=o.defaultText,l&&(l.style.fontWeight="normal")):(function(){for(const[e,t]of Object.entries(s)){t.isGetting=!1;const o=document.querySelector("#gather"+n(e));o&&(o.textContent=t.defaultText,o.classList.remove("gathering"));const s=a.querySelector("#resource-"+e);s&&(s.style.fontWeight="normal"),r(e)}}(),o.isGetting=!0,u.textContent=o.activeText,l&&(l.style.fontWeight="bold"),c.textContent=o.emoji,console.log(o.emoji),u.classList.add("gathering"))}},429:(e,t,o)=>{const{craftedResources:s}=o(3371),{buildings:n}=o(5882),{buttons:i}=o(2054),{generateTooltipCost:r}=o(9594),{createBuildingButton:a}=o(5151),{hasPerk:c}=o(134),{recalculateBuildingCost:l}=o(8022),{showTab:u}=o(2093);function d(e){const t=[];for(let o=0;o<3;o++){const o=document.createElement("div");o.style.width="33.33%",o.style.display="inline-block",o.classList.add("visible"),e.prepend(o),t.push(o)}return t}function f(e,t){const o=document.createElement("button");return o.id=t,o.className=e.class,o.textContent=e.text.split("_").join(" "),e.tooltipDesc&&o.setAttribute("data-tooltip-desc",e.tooltipDesc),e.tooltipEffect&&o.setAttribute("data-tooltip-effect",e.tooltipEffect),o.setAttribute("unlock",e.unlock),o.setAttribute("data_building",e.data_building),o}t.generateButtons=function(){console.log("Generating buttons"),console.trace();for(let e in n){const t=a(e,n);i[e]=t}const e=document.getElementById("tabs"),t=document.getElementById("productionTab"),o=document.getElementById("experimentTab").querySelector(".button-columns"),c=document.getElementById("ponderTab"),p=d(o);d(c);let g=1,h=0,m=1;for(let o in i){const a=i[o],d=f(a,o),b=Object.values(s).find((e=>e.id===o));b&&(a.tooltipCost=r(b.cost)),d.setAttribute("data-tooltip-cost",a.tooltipCost),a.showTab&&d.addEventListener("click",(()=>{u(a.showTab),console.log("Switching to tab: "+a.showTab)})),"production"===a.tab?(d.style.gridColumn=g.toString(),g=(g+1)%4,t.appendChild(d)):"experiment"===a.tab?(p[h].appendChild(d),h=(h+1)%3):"tabs"===a.tab?e.appendChild(d):"ponder"===a.tab?(d.style.gridColumn=m.toString(),m=(m+1)%3,c.appendChild(d)):"job"===a.tab||document.getElementById(a.tab).appendChild(a),Object.keys(n).find((e=>e===o))&&l(o);try{a.requirement()||(d.style.display="none")}catch(e){}}}},6900:(e,t,o)=>{const{capitalizeFirst:s}=o(6681),{craftedResources:n}=o(3371),{resources:i}=o(2587),r=Object.keys(i).filter((e=>"husks"!==e)),a=Object.keys(n);function c(e,t){return Math.random()*(t-e)+e}function l(){const e=[{start:78107,end:78142},{start:78307,end:78367}],t=e[Math.floor(Math.random()*e.length)],o=Math.floor(c(t.start,t.end+1));return String.fromCodePoint(o)}const u=["bustling","majestic","ancient","elegant","hidden","glorious","enchanted","whispering","mystical","luminous","radiant","spectacular","dazzling","serenade","celestial","vibrant","imposing","venerable","immaculate","enigmatic","harmonious","ethereal","resplendent","tranquil","serene","awe-inspiring","peaceful","picturesque","captivating"],d=["Sanctuary","Citadel","Haven","Monastery","Outpost","Observatory","Stronghold","Palace","Temple","Manor","Keep","Chateau","Acropolis","Cathedral","Villa","Fortress","Bastion","Lighthouse","Castle","Coliseum","Pyramid","Mansion","Estate","Museum","Tower","Hall","Library","Gallery","Bazaar"],f=["sanctuary","citadel","haven","monastery","outpost","observatory","stronghold","palace","temple","manor"],p=["provides","enhances","imbues","radiates","embodies","inspires","evokes","exudes","bestows","creates"],g=["with","through","amidst","beneath","above","alongside"],h=["and","while","as","although","yet"];t.generateRandomBuilding=function(){const e=function(){const e=u[Math.floor(Math.random()*u.length)],t=d[Math.floor(Math.random()*d.length)];return`${s(e)} ${t}`}(),t=function(){const e=u[Math.floor(Math.random()*u.length)],t=u[Math.floor(Math.random()*u.length)],o=f[Math.floor(Math.random()*f.length)],n=p[Math.floor(Math.random()*p.length)],i=g[Math.floor(Math.random()*g.length)],r=h[Math.floor(Math.random()*h.length)];let a="";switch(Math.floor(6*Math.random())){case 0:a=`${e} ${o} that ${n} an aura of splendor.`;break;case 1:a=`${s(i)} its ${e} appearance, the ${o} ${n} an aura of ${t}.`;break;case 2:a=`${s(e)} ${o} ${n} gracefully, exuding an enchanting atmosphere.`;break;case 3:a=`The ${o} is ${e} and ${n} with a sense of wonder.`;break;case 4:a=`Amidst the ${e} surroundings, the ${o} ${n} tranquility and beauty.`;break;case 5:a=`An ${e} ${o} that ${n} an aura of charm ${r} mystique.`;break;default:a=`${s(e)} ${o} that ${n} an aura of splendor.`}return a}(),o=c(1,3),n={};for(let e=0;e<o;e++)n[r[Math.floor(Math.random()*r.length)]]=Math.floor(100*Math.random()*(5-o));const i=c(0,1);for(let e=0;e<i;e++)n[a[Math.floor(Math.random()*a.length)]]=Math.floor(50*Math.random());const m={},b=c(0,1);for(let e=0;e<b;e++){const e=r[Math.floor(Math.random()*r.length)];let t=Math.floor(c(30,200));"clones"===e?t=Math.floor(c(1,3)):"husks"===e&&(t=Math.floor(c(1,10))),m[e]=t}const y={},v=c(0===b?1:0,1);for(let e=0;e<v;e++){const e=r[Math.floor(Math.random()*r.length)],t=c(1.01,1.2);y[e]=t}return{name:e,description:t,basecost:n,cost:n,effects:m,boost:y,count:0,ratio:c(1.3,1.6),emoji:l()}}},6590:(e,t,o)=>{t.getCraftedResource=function(e,t){return e=e.toLowerCase(),t||(t=o(3371).craftedResources),t.hasOwnProperty(e)&&t[e].value||0}},3924:(e,t,o)=>{const{getCraftedResource:s}=o(6590);t.getMaterial=function(e,t){return t||(t=o(2587).resources),t.hasOwnProperty(e)?t[e].value:s(e,null)}},8078:(e,t,o)=>{const{hasPrestige:s,getLevelOfPrestige:n}=o(6425),{resources:i,isResource:r}=o(2587),{skills:a}=o(2324),{isPondered:c}=o(4369),{passedStage:l}=o(8751),{updateBounceAnimation:u}=o(5994);let d=new Set(["gatherSticks"]);t.allVisibleButtons=d,e.exports={getMax:function(e){if(r(e)){let t=i[e].basemax,r=t;for(const[t,s]of Object.entries(o(5882).buildings))s.effects&&s.effects[e]&&(r+=s.effects[e]*s.count);if(s("storageSpace")&&"clones"!==e)r=t*(1.05*n("storageSpace"));else if("clones"===e){l("clone")&&(r+=1);const e=o(5882).buildings;c("biggerShelter")&&(r+=1*e.shelter.count),c("biggerHut")&&(r+=1*e.hut.count),c("biggerHouse")&&(r+=2*e.house.count),c("biggerTeepee")&&(r+=4*e.teepee.count),c("evenBiggerShelter")&&(r+=1*e.shelter.count),s("maxClones")&&(r+=1*n("maxClones"))}return r}return 1/0},calcCraftBonus:function(e){let t=1;for(let o in a)if(a[o].affectedResources.includes(e)){let e=1.06;t*=1+(Math.pow(e,a[o].level)-1)/100}return t},isButtonIdVisible:function(e){return d.has(e)},setVisibleButton:function(e){d.add(e)},clearSidebar:function(){document.querySelector("#resources").innerHTML=""}}},6842:(e,t)=>{t.O={thinking:"thinking",fishing:"fishing",smithing:"not-unlockable",farming:"agriculture",combat:"combatTab",hunting:"hunting"}},5150:(e,t,o)=>{const{skills:s}=o(2324),{resources:n}=o(2587),{getMaterial:i}=o(3924),{isPondered:r}=o(4369),{getMax:a}=o(8078),{triggerFloatUpText:c}=o(8727),{playSound:l}=o(5098),u={};for(let e in s)u[e]=0;const d=document.getElementById("jobsTab");function f(){var e=0;for(let t in u)e+=u[t];return e}Object.keys(s).forEach((e=>{const t=document.createElement("div");t.classList.add("job-button"),t.setAttribute("data-job",e),t.id="job-button-"+e;const o=document.createElement("div");o.classList.add("btn-decrement"),o.textContent="-",t.appendChild(o);const s=document.createElement("span");s.classList.add("job-name"),s.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: 0`,t.appendChild(s);const n=document.createElement("div");n.classList.add("btn-increment"),n.textContent="+",t.appendChild(n),d.appendChild(t)})),document.querySelectorAll(".btn-increment").forEach((e=>{e.addEventListener("click",(function(e){const t=this.closest(".job-button").getAttribute("data-job");if(l("./audio/job.wav"),i("clones",n)>f()){const o=e.pageX,s=e.pageY;if(e.shiftKey){let e=i("clones",n)-f();u[t]+=e,c(o,s,`+${e} workers`,"green")}else if(e.ctrlKey){let e=Math.min(10,i("clones",n)-f());u[t]+=e,c(o,s,`+${e} workers`,"green")}else u[t]++,c(o,s,"+1 worker","green");g(t,u[t]),m(t),b()}}))})),document.querySelectorAll(".btn-decrement").forEach((e=>{e.addEventListener("click",(function(e){const t=this.closest(".job-button").getAttribute("data-job"),o=e.pageX,s=e.pageY;if(l("./audio/job.wav"),e.shiftKey){let e=u[t];u[t]=0,e>0&&c(o,s,`-${e} workers`,"red")}else if(e.ctrlKey){let e=Math.min(10,u[t]);u[t]-=e,c(o,s,`-${e} workers`,"red")}else u[t]>0&&(u[t]--,c(o,s,"-1 worker","red"));g(t,u[t]),m(t),b()}))}));let p=new Map;function g(e,t){if(!s[e])return null;let o=s[e].affectedResources;o=o.filter((e=>e in n));let i=o.length,r=Math.floor(t/i);for(let t of o)p.set(t,r),r>0&&h(e,t);let a=t-r*i;for(let t of o)a>0&&(p.set(t,p.get(t)+1),a--,h(e,t))}function h(e,t){const o=Array.from(document.querySelectorAll(".job-button")).find((t=>t.getAttribute("data-job")===e));if(!o||"none"===o.style.display)return;const s=document.getElementById(`resource-${t}`);if(!s||"none"===s.style.display)return;const n=o.getBoundingClientRect(),i=s.getBoundingClientRect(),r=document.createElement("div");r.style.position="absolute",r.style.width="10px",r.style.height="10px",r.style.borderRadius="50%",r.style.backgroundColor="white",r.style.opacity=".8",r.style.left=`${n.left+window.scrollX}px`,r.style.top=`${n.top+window.scrollY}px`,document.body.appendChild(r),r.animate([{transform:`translate(${i.left-n.left}px, ${i.top-n.top}px)`}],{duration:1e3,easing:"cubic-bezier(.23,-0.34,0,1.06)"}).onfinish=()=>{r.style.display="none"}}function m(e){const t=document.querySelector(`.job-button[data-job="${e}"]`);t||console.warn("Couldn't find job button for job: ",e);const s=t.querySelector(".job-name");s&&(s.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: ${u[e]}`),o(9594).updateEmojiDisplay()}function b(){document.querySelector("#jobs-total").textContent="Assigned Clones: "+f()+" / "+a("clones")}let y=new Map,v=document.getElementById("lineCanvas"),k=v.getContext("2d");function w(e,t,o){let s=e.getBoundingClientRect(),n=s.left+s.width/2,i=scrollY+s.top+s.height/2;k.beginPath(),k.moveTo(n,i),k.lineTo(t,o),k.stroke(),function(e,t,o,s,n,i){let r,a,c,l=s,u=n;e.beginPath(),r=Math.atan2(n-o,s-t),a=i*Math.cos(r)+l,c=i*Math.sin(r)+u,e.moveTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+u,e.lineTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+u,e.lineTo(a,c),e.closePath(),e.fill()}(k,n,i,t,o,10)}function x(e,t){let o=u[e];u[e]=0,u[t]+=o,m(e),m(t)}v.width=window.innerWidth,v.height=window.innerHeight,e.exports={clearJobAssignments:function(){k.clearRect(0,0,v.width,v.height),y=new Map},reassignJobsBasedOnResources:function(){try{const e=y.entries();if(void 0===e)throw"Entries is undefined";for(let[t,o]of e){let e=document.getElementById(t).getAttribute("data-job");const r=t.replace("job-button-",""),a=o.replace("job-button-","");let c=!0,l=s[e].affectedResources;if(!l)return;for(const e of l)if(void 0!==n[e]&&i(e)<n[e].max){c=!1;break}c&&u[e]>0&&(x(r,a),g(r,u[r]),g(a,u[a]))}}catch(e){console.warn("reassignJobs",e)}},switchJob:x,drawAllConnections:function(){k.clearRect(0,0,v.width,v.height);try{for(let[e,t]of y.entries()){let o=document.getElementById(e),s=document.getElementById(t),n=s.getBoundingClientRect(),i=n.left+n.width/2,r=0;r=n.bottom>o.getBoundingClientRect().bottom?s.offsetTop-10:s.offsetTop+s.offsetHeight+10,w(o,i,r)}}catch(e){console.warn("drawAllConnections",e)}},getWorkers:function(e){return p.get(e)},updateTotal:b,setConnections:function(e){y=e},getConnections:function(){return y},distributeWorkers:g,updateDisplay:m,jobCounts:u,resetAllJobs:function(){for(let e in s)u[e]=0,g(e,0),b(),m(e)}}},5882:(e,t,o)=>{const{hasPerk:s}=o(134),{recalcMaxClones:n}=o(6995),{recalculateBuildingCost:i}=o(8022),{updateBuildingButtonCount:r}=o(2607),a={shelter:{basecost:{sticks:30},effects:{clones:1},boost:{},count:0,ratio:1.4,tooltipDesc:"For when you need a home away from home.",emoji:"八"},hut:{basecost:{sticks:50,vines:30},effects:{clones:1},boost:{},count:0,ratio:1.4,tooltipDesc:"A cozy, idyllic chunk of wood.",emoji:"冂"},house:{basecost:{wood:50,rocks:20,fish:10},effects:{clones:2},boost:{},count:0,ratio:1.5,tooltipDesc:"Every clone's dream. Minus the white picket fence.",emoji:"介"},teepee:{basecost:{wood:10,hides:25,fish:15},effects:{clones:2},boost:{},count:0,ratio:1.5,tooltipDesc:"Wrap some hides around some wood and call it a home.",emoji:"穴"},hospital:{basecost:{concrete:10,medicine:20,fish:20},effects:{clones:3},boost:{},count:0,ratio:1.7,tooltipDesc:"Keep yourself safe.",emoji:"+"},barracks:{basecost:{spear:20,violence:1,wood:200},effects:{clones:1,violence:20},boost:{},count:0,ratio:1.5,tooltipDesc:"A hall of raucous soldiers.",emoji:"𓈏"},shed:{basecost:{wood:40},effects:{wood:50,sticks:50,rocks:20},boost:{},count:0,ratio:1.2,tooltipDesc:"The ultimate storage solution for the pack rat in you.",emoji:"个"},stockpile:{basecost:{rocks:30,wood:40},effects:{wood:100},ratio:1.2,boost:{},count:0,tooltipDesc:"Chuck a bunch of logs in a pile, what could happen?",emoji:"品"},drying_racks:{basecost:{sticks:30,fish:5},effects:{fish:20},boost:{},count:0,ratio:1.2,tooltipDesc:"Air drying: Nature's way of preserving food.",emoji:"四"},workshop:{basecost:{wood:40,sticks:20,rocks:10},effects:{rocks:50,ore:50,sand:100,clay:50},boost:{},count:0,ratio:1.4,tooltipDesc:"DIY's dream destination.",emoji:"𓎰"},barn:{basecost:{wood:30,wheat:5},effects:{wheat:100,vines:40},boost:{},count:0,ratio:1.2,tooltipDesc:"Hay, what's in that building?",emoji:"𓏆"},herbalist_hut:{basecost:{sticks:50,vines:50,herbs:50},effects:{herbs:100,vines:100},boost:{herbs:1.2,vines:1.1},count:0,ratio:1.2,tooltipDesc:"A place for brewing and stewing.",emoji:"𓏃"},bakery:{basecost:{wood:80,bread:10,rocks:40},effects:{wheat:200},boost:{},count:0,ratio:1.25,tooltipDesc:"Freshly baked bread, hot and ready.",emoji:"𓏖"},animal_pen:{basecost:{sticks:50,game:20,fish:25},effects:{game:100,hides:30},boost:{},count:0,ratio:1.2,tooltipDesc:"A place to put those lesser than you.",emoji:"皿"},reservoir:{basecost:{rocks:100,clay:50,water:10},effects:{water:100},boost:{},count:0,ratio:1.3,tooltipDesc:"A hole filled with water. Useful.",emoji:"𓈞"},stone_depot:{basecost:{rocks:200},effects:{rocks:250},boost:{},count:0,ratio:1.2,tooltipDesc:"A big stack of rocks.",emoji:"𓈓"},warehouse:{basecost:{crates:10,concrete:20},effects:{wood:100,rocks:100,clay:100,sand:100},boost:{},count:0,ratio:1.3,tooltipDesc:"Put stuff in a box inside a larger box.",emoji:"𓇦"},military_school:{basecost:{bricks:20,violence:10},effects:{violence:100},boost:{violence:1.05},count:0,ratio:1.4,tooltipDesc:"Learn the art of hurting others.",emoji:"𓇻"},grove:{basecost:{wood:20,vines:20},effects:{},boost:{wood:1.05,sticks:1.1},count:0,ratio:1.2,tooltipDesc:"A nice grove of trees to find wood faster.",emoji:"𓆭𓆭"},fish_traps:{basecost:{rope:40},effects:{},boost:{fish:1.05},count:0,ratio:1.2,tooltipDesc:"Fishing made easy. No patience required.",emoji:"井"},mine:{basecost:{rocks:30,wood:30},effects:{},boost:{ore:1.05,rocks:1.05},count:0,ratio:1.2,tooltipDesc:"Dig deep and find your inner ore.",emoji:"𓊍"},campfire:{basecost:{rocks:20,sticks:20},effects:{},boost:{all:1.02},count:0,ratio:1.5,tooltipDesc:"Where stories are told and marshmallows are toasted.",emoji:"火"},lumber_yard:{basecost:{wood:200,iron:1},effects:{},boost:{wood:1.2},count:0,ratio:1.3,tooltipDesc:"Wood you like some more wood?",emoji:"𓌏"},stone_quarry:{basecost:{rocks:50,wood:20,rope:30},effects:{},boost:{rocks:1.1},count:0,ratio:1.3,tooltipDesc:"Rock on with your bad self!",emoji:"𓊎"},fishery:{basecost:{wood:40,rope:15},effects:{fish:50},boost:{},count:0,ratio:1.2,tooltipDesc:"Fish are friends. And food.",emoji:"𓌤"},irrigation:{basecost:{freshwater:20},effects:{},boost:{wheat:1.05},count:0,ratio:1.2,tooltipDesc:"Wetten your wheat with water.",emoji:"𓈗"},vineyard:{basecost:{wood:20,vines:50},effects:{},boost:{vines:1.1},count:0,ratio:1.2,tooltipDesc:"For the finest vines. What else would it grow?",emoji:"🜌"},forge:{basecost:{rocks:40,ore:20,wood:100},effects:{},boost:{ore:1.2},count:0,ratio:1.2,tooltipDesc:"Melt, mold, and make marvelous metals.",emoji:"𓊫"},water_pump:{basecost:{rocks:30,rope:1,wood:10,wheat:2},effects:{freshwater:30},boost:{freshwater:1.1},count:0,ratio:1.4,tooltipDesc:"Fresh water on demand!",emoji:"𓏂"},tower:{basecost:{bricks:20,rocks:10,wood:30},effects:{},boost:{hides:1.05,game:1.1},count:0,ratio:1.3,tooltipDesc:"See things from afar.",emoji:"𓊢"},tannery:{basecost:{wood:60,hides:40},effects:{hides:50},boost:{hides:1.1},count:0,ratio:1.3,tooltipDesc:"Treat hides to make quality leather.",emoji:"𓃔"},marketplace:{basecost:{wood:100,rocks:50,gold:1},effects:{},boost:{all:1.05},count:0,ratio:1.25,tooltipDesc:"A bustling hub of trade and barter.",emoji:"₿"},windmill:{basecost:{wood:100,rocks:60,wheat:50},effects:{},boost:{wheat:1.2},count:0,ratio:1.3,tooltipDesc:"Grind grains efficiently with wind power.",emoji:"𓇬"},garden:{basecost:{beams:20,herbs:20,freshwater:10},effects:{},boost:{herbs:1.1,sticks:1.05},count:0,ratio:1.3,tooltipDesc:"Nice nature, carefully cultivated.",emoji:"𓆷"},sand_scoop:{basecost:{beams:10,iron:5},effects:{},boost:{sand:1.1},count:0,ratio:1.2,tooltipDesc:"Scoop the sand from the shore? Sure!",emoji:"𓄛"},traps:{basecost:{nails:10,sticks:20,herbs:20,vines:15},effects:{},boost:{game:1.1},count:0,ratio:1.2,tooltipDesc:"Watch your step!",emoji:"𓄦"},rock_role:{basecost:{slabs:20,freshwater:30,vines:15},effects:{},boost:{rocks:1.2},count:0,ratio:1.3,tooltipDesc:"In order to gather the rock you must become the rock.",emoji:"𓆇"},telescope:{basecost:{glass:1,wood:10,ponder:10},effects:{},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"Look, up in the sky! It's a star!",emoji:"𓌩"},observatory:{basecost:{bricks:70,wood:30,glass:50,ponder:50},effects:{},boost:{ponder:1.2},count:0,ratio:1.3,tooltipDesc:"Stargazing has never been so... productive?",emoji:"☆"},library:{basecost:{wood:70,paper:25,ponder:25},effects:{ponder:50},boost:{ponder:1.1},count:0,ratio:1.3,tooltipDesc:"Knowledge is power. And a fire hazard if not stored properly.",emoji:"🕮"},desk:{basecost:{wood:15,sticks:20,ponder:10},effects:{ponder:30},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"A writer's block is no match for armor-piercing pencils!",emoji:"𓊬"}};e.exports={buildings:a,getBuildingCount:function(e){return a[e].count},getBoost:function(e,t){const o=a[e];if(o&&o.boost){if(o.boost[t])return o.boost[t];if(o.boost.all)return o.boost.all}return null},resetBuildings:function(){for(const[e,t]of Object.entries(a))t.count=0,r(e,0),i(e);n()},isPopBuilding:function(e){switch(e){case"shelter":case"hut":case"house":case"teepee":case"hospital":case"barracks":return!0;default:return!1}}}},2054:(e,t,o)=>{const{passedStage:s}=o(8751),{getMaterial:n}=o(3924),{hasTool:i}=o(2609),{resources:r}=o(2587),a={gatherSticks:{class:"tooltip startVisible",tab:"production",text:"𓀝 Gather Sticks",tooltipDesc:"Five, Six, Pick up sticks.",tooltipCost:"Free",requirement:()=>!0,hide:()=>!1},gatherVines:{class:"tooltip stick",tab:"production",text:"𓍯 Gather Vines",tooltipDesc:"Some vines are rubbery, others are gummy.",tooltipCost:"Free",requirement:()=>n("sticks",r)>=10||s("vines"),hide:()=>!1},gatherRocks:{class:"tooltip stick",tab:"production",text:"𓊖𓀩 Gather Rocks",tooltipDesc:"Not a single window to throw them through.",tooltipCost:"Free",requirement:()=>n("vines",r)>=10||s("rocks"),hide:()=>!1},gatherFish:{class:"tooltip fishing",tab:"production",text:"𓆝 𓆟 𓆞 Go Fish",tooltipDesc:"Got any tuna?",tooltipCost:"Free",requirement:()=>i("Spear")||i("Fishing Rod")||s("fishing"),hide:()=>!1},gatherWood:{class:"woodToggle wood",tab:"production",text:"𓌏 Chop Wood",tooltipDesc:"An axe hurts way less than using your hands.",tooltipCost:"Free",requirement:()=>i("Axe")||s("wood"),hide:()=>!1},gatherOre:{class:"tooltip ",tab:"production",text:"𓉸 Mine Ore",tooltipDesc:"Diggy Diggy Hole",tooltipCost:"Free",requirement:()=>i("Pickaxe")||s("ore"),hide:()=>!1},productionTabButton:{class:"tab-button",text:"Production",showTab:"productionTab",tab:"tabs",requirement:()=>s("tab-button"),hide:()=>!1},experimentTabButton:{class:"tab-button",text:"Experiment",showTab:"experimentTab",tab:"tabs",requirement:()=>s("tab-button"),hide:()=>!1},ponderTabButton:{class:"tab-button",text:"Ponder",showTab:"ponderTab",tab:"tabs",requirement:()=>s("ponder-tab"),hide:()=>!1},jobsTabButton:{class:"tab-button",text:"Jobs",showTab:"jobsTab",tab:"tabs",requirement:()=>s("jobs-tab"),hide:()=>!1},skillsTabButton:{class:"tab-button",text:"Skills",showTab:"skillsTab",tab:"tabs",requirement:()=>s("skillsTable"),hide:()=>!1},perksTabButton:{class:"tab-button",text:"Perks",showTab:"perksTab",tab:"tabs",requirement:()=>s("perksTab"),hide:()=>!1},factoryTabButton:{class:"tab-button",text:"Factories",showTab:"factoryTab",tab:"tabs",requirement:()=>s("factoryTab"),hide:()=>!1},combatTabButton:{class:"tab-button",text:"Combat",showTab:"combatTab",tab:"tabs",requirement:()=>s("combatTab"),hide:()=>!1},gatherPonder:{class:"tooltip",text:"Ponder",tooltipDesc:"Wrap your head around the great mysteries",tooltipCost:"Time",tab:"ponder",requirement:()=>s("ponder-tab"),hide:()=>!1}};e.exports={buttons:a}},3371:(e,t,o)=>{const{getMaterial:s}=o(3924),{getCraftedResource:n}=o(6590),{resources:i}=o(2587),{passedStage:r}=o(8751),a={sharprocks:{text:"Sharp Rocks",id:"craftSharprocksButton",value:0,cost:{rocks:2},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"Craft a rock using nothing but rocks!",tooltipCost:"Rocks: 5",class:"craftRocks"},rope:{id:"craftRopeButton",value:0,cost:{vines:3},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"The basis of attaching things to other things.",tooltipCost:"Vines: 3",class:"craftRocks"},handle:{id:"craftHandleButton",value:0,cost:{sticks:2},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"Shear off that bark to hold it better",tooltipCost:"Sharp Rocks: 1",class:"craftRocks"},staff:{id:"craftStaffButton",value:0,cost:{handle:2,rope:1},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"Stick some sheared sticks together",tooltipCost:"Handles: 2",class:"rope"},fishingrod:{id:"craftFishingrodButton",text:"Fishing Rod",value:0,cost:{staff:1,rope:2},craftedOnce:!1,requiredStage:"fishing",tooltipDesc:"A weapon feared by underwater life",tooltipCost:"",class:"fishing"},spear:{id:"craftSpearButton",value:0,cost:{staff:1,sharprocks:1,rope:1},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"A long and pointy stick",tooltipCost:"Staffs: 1",class:"rope"},axe:{id:"craftAxeButton",value:0,cost:{handle:1,rope:1,sharprocks:2},craftedOnce:!1,requiredStage:"spear",tooltipDesc:"Put a rock straight through that handle",tooltipCost:"Spears: 1",class:"spear"},pickaxe:{id:"craftPickaxeButton",value:0,cost:{handle:1,sharprocks:3,rope:1,rocks:10},craftedOnce:!1,requiredStage:"spear",tooltipDesc:"Sadly not made of diamonds",tooltipCost:"Axes: 1",class:"spear"},glass:{id:"craftGlassButton",value:0,cost:{sand:10},craftedOnce:!1,tooltipDesc:"You can see right through it!",requiredStage:"glassBlowing",class:"glassBlowing"},paper:{id:"craftPaperButton",value:0,cost:{wood:12},craftedOnce:!1,tooltipDesc:"Outsource your memory",requiredStage:"paper",class:"paper"},gold:{id:"craftGoldButton",value:0,cost:{ore:100},craftedOnce:!1,requiredStage:"metalWorking",tooltipDesc:"There's some yellow bits in this ore",tooltipCost:"",class:"metalWorking"},iron:{id:"craftIronButton",value:0,cost:{ore:20},craftedOnce:!1,requiredStage:"metalWorking",tooltipDesc:"There's some sturdy-looking bits in this ore",tooltipCost:"",class:"metalWorking"},silver:{id:"craftSilverButton",value:0,cost:{ore:50},craftedOnce:!1,requiredStage:"metalWorking",tooltipDesc:"There's some shiny gray bits in this ore",tooltipCost:"",class:"metalWorking"},bricks:{id:"craftBricksButton",value:0,cost:{clay:15},craftedOnce:!1,requiredStage:"clay",tooltipDesc:"Leave some clay by the fire",tooltipCost:"",class:"clay"},bread:{id:"craftBreadButton",value:0,cost:{wheat:13},craftedOnce:!1,requiredStage:"agriculture",tooltipDesc:"I'm gonna grind your wheat to make my bread!",tooltipcost:"",class:"agriculture"},steel:{value:0,cost:{iron:5}},beams:{value:0,cost:{wood:10}},crates:{value:0,cost:{wood:15}},nails:{value:0,cost:{iron:1}},slabs:{value:0,cost:{rocks:20}},medicine:{value:0,cost:{herbs:50}},leather:{value:0,cost:{hides:10}},concrete:{value:0,cost:{sand:32}},wood:{value:0,cost:{sticks:8}},sticks:{value:0,cost:{wood:.1}}};e.exports={craftedResources:a,getCraftedResourceConfigById:function(e){for(const[t,o]of Object.entries(a))if(o.id===e||o.id===e)return o;return null},getCraftedResourceKeyByConfig:function(e){for(let t in a)if(a[t].id===e.id)return t;return null},resetCraftedResources:function(){for(const[e,t]of Object.entries(a))t.value=0,t.craftedOnce=!1}}},7055:e=>{e.exports={perks:{tier1:["Lumberjack","Miner","Botanist","Leader","Architect"],tier2:["Thinker","General","Merchant","Generalist","Specialist"]}}},6397:(e,t,o)=>{const{capitalizeFirst:s}=o(6681);let n={"jobs-tab":{id:"ponderJobs-tab",isPondered:!1,cost:{ponder:20},text:"Understand Cloning",tooltipDesc:"Why are there two of you?",requirement:()=>!0,tooltipCost:"Sanity (20 Ponder)"},skillsTable:{id:"ponderSkillsTable",isPondered:!1,cost:{ponder:50},tooltipDesc:"You're starting to learn things, right?",requirement:()=>!0,text:"Notice Improvement"},fishing:{id:"ponderFishing",isPondered:!1,cost:{ponder:50,fish:50},tooltipDesc:"What if... your clones could go fishing?",requirement:()=>!0,text:"Fishing Job"},fasterSkills:{id:"ponderFasterSkills",isPondered:!1,cost:{ponder:80},requirement:()=>!0,text:"Skills I",tooltipDesc:"Think Smarter. 5% bonus to skill exp"},thinking:{id:"ponderThinking",isPondered:!1,cost:{ponder:150},text:"Thinking Job",requirement:()=>!0,tooltipDesc:"Let your clones start thinking for themselves."},metalWorking:{id:"ponderMetalWorking",isPondered:!1,requirement:()=>!0,text:"Metal Working",tooltipDesc:"Start processing that ore",cost:{ponder:100,ore:50,rocks:50}},glassBlowing:{id:"ponderGlassBlowing",isPondered:!1,requirement:()=>!0,text:"Glass Blowing",tooltipDesc:"Huff and puff and make a cool vase",cost:{sand:20,ponder:80}},organization:{id:"ponderOrganization",isPondered:!1,requirement:()=>!0,text:"Organized Storage",tooltipDesc:"Organize your storage by groups",cost:{ponder:200}},paper:{id:"ponderPaper",isPondered:!1,requirement:()=>!0,text:"Paper Processing",tooltipDesc:"Smash down some wood into paper",cost:{ponder:200,wood:100}},autoClone:{id:"ponderAutoClone",requirement:()=>!0,isPondered:!1,text:"Auto Clone",tooltipDesc:"Automatically produce clones",cost:{ponder:140,clones:20}},agriculture:{id:"ponderAgriculture",requirement:()=>!0,isPondered:!1,text:"Agriculture",tooltipDesc:"Find some seeds from all those plants",cost:{ponder:180}},combatTab:{id:"ponderCombatTab",requirement:()=>!0,isPondered:!1,text:"Combat",tooltipDesc:"Is there anyone to spar with besides you?",cost:{ponder:300,spear:100}},hunting:{id:"ponderHunting",requirement:()=>!0,isPondered:!1,text:"Hunting",tooltipDesc:"At least there are animals",cost:{ponder:200,fish:50}},perksTab:{id:"ponderPerksTab",requirement:()=>!0,isPondered:!1,text:"Perks",tooltipDesc:"Maybe you as the original should specialize",cost:{ponder:400}},factoryTab:{id:"ponderFactoryTab",requirement:()=>!0,isPondered:!1,text:"Factories",tooltipDesc:"Ascend to the next level of economy",cost:{ponder:500,gold:10,wood:1e3,wheat:1e3,rocks:1e3}},biggerShelter:{id:"ponderBiggerShelter",requirement:()=>!0,isPondered:!1,text:"Expand Shelter",tooltipDesc:"Shelters can house 1 more clone each",cost:{ponder:500,sticks:1e3}},biggerHut:{id:"ponderBiggerHut",requirement:()=>!0,isPondered:!1,text:"Expand Hut",tooltipDesc:"Huts can house 1 more clone each",cost:{ponder:750,sticks:1500,vines:1e3}},biggerHouse:{id:"ponderBiggerHouse",requirement:()=>!0,isPondered:!1,text:"Two-story houses",tooltipDesc:"Houses can house 2 more clones each",cost:{ponder:1e3,wood:2e3,rocks:2e3}},biggerTeepee:{id:"ponderBiggerTeepee",requirement:()=>!0,isPondered:!1,text:"Double diameter Teepees",tooltipDesc:"Teepees can house 4 more clones each",cost:{ponder:1250,wood:3e3,hides:1500}},evenBiggerShelter:{id:"ponderEvenBiggerShelter",requirement:()=>!0,isPondered:!1,text:"Expand Shelter Again",tooltipDesc:"Shelters can house 1 more clone each",cost:{ponder:1500,sticks:3e3,fish:1e3}},eatBread:{id:"ponderEatBread",requirement:()=>!0,isPondered:!1,text:"Eat Bread",tooltipDesc:"Eating some bread will help you work faster",cost:{ponder:400,bread:30}}};function i(e){const t=[{value:1e3,numeral:"M"},{value:900,numeral:"CM"},{value:500,numeral:"D"},{value:400,numeral:"CD"},{value:100,numeral:"C"},{value:90,numeral:"XC"},{value:50,numeral:"L"},{value:40,numeral:"XL"},{value:10,numeral:"X"},{value:9,numeral:"IX"},{value:5,numeral:"V"},{value:4,numeral:"IV"},{value:1,numeral:"I"}];let o="";for(const s of t)for(;e>=s.value;)o+=s.numeral,e-=s.value;return o}!function(e){for(let e=1;e<=100;e++)n[`fasterResourceGain${e}`]={id:`ponderFasterResourceGain${e}`,isPondered:!1,cost:{ponder:40*Math.pow(3,e-1)},requirement:()=>!0,text:`Productivity ${i(e)}`,tooltipDesc:"Just work harder. Bonus to resource gain"};for(let e=1;e<=100;e++)n[`fasterPonder${e}`]={id:`ponderFasterPonder${e}`,isPondered:!1,cost:{ponder:10*Math.pow(5,e-1)},text:`Think Harder ${i(e)}`,tooltipDesc:"Small boost to pondering speed",requirement:()=>!0};for(let e=1;e<=100;e++)n[`effectiveBuildings${e}`]={id:`ponderEffectiveBuildings${e}`,isPondered:!1,cost:{ponder:30*Math.pow(3,e-1)},text:`Buildings ${i(e)}`,tooltipDesc:"Increase building effects by a small amount",requirement:()=>!0}}(),e.exports={ponders:n,resetPonders:function(){for(const[e,t]of Object.entries(n))t.isPondered=!1}}},6425:e=>{const t={maxClones:{text:"Cramped",tooltipDesc:"Max Clones (+1)",cost:2,level:0},cloneBoost:{text:"Handyman",tooltipDesc:"Clone Productivity (+5%)",cost:1,level:0},gatheringBoost:{text:"Picker",tooltipDesc:"Gathering Efficiency (+10%)",cost:1,level:0},masonryBoost:{text:"Rocker",tooltipDesc:"Masonry Efficiency (+10%)",cost:1,level:0},carpentryBoost:{text:"Chopped",tooltipDesc:"Carpentry Efficiency (+10%)",cost:1,level:0},thinkingBoost:{text:"Wizened",tooltipDesc:"Thinking Efficiency (+10%)",cost:1,level:0},farmingBoost:{text:"Pruned",tooltipDesc:"Farming Efficiency (+10%)",cost:1,level:0},fishingBoost:{text:"Hooked",tooltipDesc:"Fishing Efficiency (+10%)",cost:1,level:0},huntingBoost:{text:"Tracker",tooltipDesc:"Hunting Efficiency (+10%)",cost:1,level:0},cheaperBuildings:{text:"Rickety",tooltipDesc:"Building Cost (-5%)",cost:2,level:0},storageSpace:{text:"Stuffed",tooltipDesc:"Storage Space (+5%)",cost:2,level:0}};function o(e){return t[e].level}e.exports={prestige:t,hasPrestige:function(e){return o(e)>0},getLevelOfPrestige:o,setPrestigeCost:function(e,o){t[e].cost=o},setPrestigeLevel:function(e,o){t[e].level=o}}},2587:e=>{const t={clones:{id:"makeClone",value:0,isVisible:!1,basemax:0},sticks:{id:"gatherSticks",isGetting:!1,isVisible:!0,activeText:"𓆱𓀜 Gathering Sticks",defaultText:"𓆱 Gather Sticks",value:0,emoji:"𓀝",basemax:50},vines:{id:"gatherVines",isGetting:!1,isVisible:!1,activeText:"𓍯𓀪 Gathering Vines",defaultText:"𓍯 Gather Vines",tools:[{tool:"Axe",val:1.5}],value:0,emoji:"𓀪",basemax:50},rocks:{id:"gatherRocks",isGetting:!1,isVisible:!1,activeText:"𓊖𓀩 Gathering Rocks",defaultText:"𓊖 Gather Rocks",value:0,emoji:"𓀩",basemax:30},fish:{id:"gatherFish",isGetting:!1,isVisible:!1,activeText:"𓆝𓆟𓆞 𓁃 Gone Fishing",defaultText:"𓆝𓆟𓆞 Go Fish",value:0,emoji:"𓁃",tools:[{tool:"Spear",val:1},{tool:"Fishing Rod",val:2}],basemax:10},wood:{id:"gatherWood",isGetting:!1,isVisible:!1,activeText:"𓀨 Chopping Wood",defaultText:"𓌏 Chop Wood",emoji:"𓀨",tools:[{tool:"Axe",val:1.5},{tool:"Chainsaw",val:3}],value:0,basemax:40},ponder:{id:"gatherPonder",isGetting:!1,isVisible:!1,activeText:"𓀁 Pondering",defaultText:"𓀁 Ponder",emoji:"𓀁",value:0,basemax:20},ore:{value:0,id:"gatherOre",isGetting:!1,isVisible:!1,activeText:"𓉸𓁄 Mining Ore",defaultText:"𓉸 Mine Ore",emoji:"𓁄",basemax:20},sand:{value:0,id:"gatherSand",isGetting:!1,isVisible:!1,activeText:"𓀩 Scooping Sand",defaultText:"𓀩 Scoop Sand",emoji:"𓀩",basemax:20},wheat:{value:0,id:"gatherWheat",isGetting:!1,isVisible:!1,activeText:"𓀩 Harvesting Wheat",defaultText:"𓀩 Harvest Wheat",emoji:"𓀝",basemax:20},freshwater:{value:0,id:"gatherFreshwater",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",basemax:50},hides:{value:0,id:"gatherHides",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀎",basemax:50},clay:{value:0,id:"gatherClay",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",basemax:50},herbs:{value:0,id:"gatherHerbs",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",basemax:50},game:{value:0,id:"gatherGame",isGetting:!1,isVisible:!1,activeText:"𓃚𓀎 Hunting",defaultText:"𓀎 Hunt",emoji:"𓀎",basemax:50},husks:{value:0,id:"gatherHusks",isGetting:!1,isVisible:!1,activeText:"",defaultText:"",emoji:"X",basemax:1e3},violence:{value:0,id:"gatherViolence",isGetting:!1,isVisible:!1,activeText:"",defaultText:"",emoji:"",basemax:100}};e.exports={resources:t,isResource:function(e){return e in t},getResourceConfigById:function(e){for(let o in t)if(t[o].id===e)return t[o];return null},resetResources:function(){for(const[e,o]of Object.entries(t))o.value=0},getBaseMax:function(e){return t[e].basemax}}},2324:e=>{e.exports={skills:{gathering:{exp:0,level:0,affectedResources:["sticks","vines","sand","herbs","berries"]},masonry:{exp:0,level:0,affectedResources:["rocks","ore","clay"],needTools:[{Pickaxe:["ore"]}]},carpentry:{exp:0,level:0,affectedResources:["wood","handle","staff","fishingrod"],needTools:[{Axe:["wood"]}]},thinking:{exp:0,level:0,affectedResources:["ponder"]},farming:{exp:0,level:0,affectedResources:["wheat","freshwater"]},combat:{exp:0,level:0,affectedResources:["violence"]},fishing:{exp:0,level:0,affectedResources:["fish"]},hunting:{exp:0,level:0,affectedResources:["hides","game"]}}}},808:(e,t,o)=>{const{craftedResources:s,resetCraftedResources:n}=o(3371),{buildings:i,resetBuildings:r}=o(5882),{ponders:a,resetPonders:c}=o(6397),{buttons:l}=o(2054),{resources:u,resetResources:d}=o(2587),{saveGame:f,loadGame:p}=o(502),{appendCraftedResourceButtons:g,increaseMaterial:h,craftAllResources:m,craftResource:b,calcIncrease:y,updateResourceIncreaseRates:v,increaseMax:k}=o(9594),{buyMaxBuildings:w,buyBuilding:x}=o(5151),{selectAbility:S,resetPerks:B}=o(134),{clearSidebar:C,getMax:T}=o(8078),{makeVisible:M}=o(1123),{updateButtonVisibility:j}=o(7667),{getCraftedResource:E}=o(6590),{getMaterial:A}=o(3924),{buyFactory:$,attemptManufacture:q,upgradeBulk:O,allMaterials:D}=o(1051),{isPondered:P,generatePonderButtons:R}=o(4369),{hasTool:L,addTool:I}=o(2609),{getAteFish:F,setAteFish:G}=o(1621),{updateTotal:V,clearJobAssignments:H,resetAllJobs:_}=o(5150),{capitalizeFirst:N}=o(6681),{passedStage:W,resetStages:z}=o(8751),{recalcMaxClones:J}=o(6995),{initializeResourceTags:U,updateSidebar:Y,updateDisplayValue:K}=o(5453),{prestige:X}=o(6425),{triggerFloatUpText:Q}=o(8727),{updateBounceAnimation:Z}=o(5994),{updateTooltip:ee,hideTooltip:te}=o(8208),{canCraft:oe}=o(7064),{calculateWinChance:se,combat:ne,switchStance:ie}=o(4856),{showTab:re,getCurrentTab:ae}=o(2093),{getSfxVolume:ce,getMusicVolume:le,setMusicVolume:ue,setSfxVolume:de,playSound:fe}=o(5098),{generateRandomBuilding:pe}=o(6900),{changeMessage:ge,messageElement:he}=o(7169),{generateButtons:me}=o(429),{toggleResource:be}=o(215),{GameSimulator:ye}=o(3520),{initializeApp:ve}=o(5752),{getAnalytics:ke}=o(9013),{setMaterial:we}=o(3671),{recalculateAllBuildingCosts:xe}=o(8022),Se={SharpRocks:"craftRocks",Spear:"fishing",FishingRod:"fishing",Axe:"wood",Pickaxe:"ore"},Be=[{condition:()=>A("sticks",u)>=1,action:()=>M("stick")},{condition:()=>A("sticks",u)>=10,action:()=>M("vines")},{condition:()=>A("vines",u)>=10,action:()=>M("rocks")},{condition:()=>A("rocks",u)>=1,action:()=>{M("tab-button"),M("craftRocks")}},{condition:()=>E("spear",s)>0,action:()=>M("spear")},{condition:()=>A("fish",u)>=1,action:()=>M("fishing")},{condition:()=>L("Axe"),action:()=>M("wood")},{condition:()=>E("rope")>=1,action:()=>M("rope")},{condition:()=>A("fish",u)>=5&&!F(),action:()=>M("eatFish")},{condition:()=>F(),action:()=>{M("clone"),M("ponder-tab")}},{condition:()=>P("ponderFinish"),action:()=>(document.getElementById("page-transition-overlay").classList.add("fade-in"),void setTimeout((function(){window.location.href="stage2.html"}),300))},{condition:()=>P("biggerShelter"),action:()=>J()},{condition:()=>P("biggerHut"),action:()=>J()},{condition:()=>P("biggerHouse"),action:()=>J()},{condition:()=>P("biggerTeepee"),action:()=>J()},{condition:()=>P("evenBiggerShelter"),action:()=>J()},{condition:()=>A("clones")>=30,action:()=>M("prestige")},{condition:()=>A("clay")>0,action:()=>M("clay")},{condition:()=>!document.getElementById("toggle-basics")&&P("organization"),action:()=>U(!0)},{condition:()=>W("combatTab"),action:()=>se()}],Ce=["./audio/song1.wav","./audio/song2.wav","./audio/song3.wav","./audio/song4.wav","./audio/song5.wav","./audio/song6.wav","./audio/song7.wav","./audio/song8.wav","./audio/song9.wav","./audio/song10.wav"];let Te=null,Me=null;function je(){Te&&(Te.pause(),Te.currentTime=0);const e=Math.floor(Math.random()*Ce.length);Te=new Audio(Ce[e]),Te.volume=le(),Te.play(),function(){Me&&clearTimeout(Me);const e=3e4*Math.random()+5e3;Te.onended=()=>{Me=setTimeout(je,e)}}()}document.addEventListener("keydown",(function(e){switch(e.key){case"1":re("productionTab");break;case"2":W("tab-button")&&re("experimentTab");break;case"3":W("ponder-tab")&&re("ponderTab");break;case"4":W("jobs-tab")&&re("jobsTab");break;case"5":W("skillsTable")&&re("skillsTab");break;case"6":W("perksTab")&&re("perksTab");break;case"7":W("factoryTab")&&re("factoryTab");break;case"8":W("combatTab")&&re("combatTab");break;case"a":"combatTab"===ae()&&ie("aggressive");break;case"b":"combatTab"===ae()&&ie("balanced");break;case"c":"combatTab"===ae()&&ie("careful");break;case"f":"combatTab"!==ae()||document.getElementById("startCombat").disabled?be("fish"):ne();break;case"s":be("sticks");break;case"r":W("rocks")&&be("rocks");break;case"v":W("vines")&&be("vines");break;case"w":W("wood")&&be("wood");break;case"o":W("ore")&&be("ore");break;case"p":W("ponder-tab")&&be("ponder");break;case"Escape":He();break;case" ":e.target===document.body&&e.preventDefault(),W("clone")&&Ne(e)}}));const Ee=document.body;Ee.classList.toggle("dark-mode");let Ae=!0;function $e(){const e=document.getElementById("overlay"),t=document.getElementById("overlay-text"),o=document.getElementById("overlay-button");e.style.display="flex",setTimeout((()=>{t.style.opacity="1"}),2e3),setTimeout((()=>{o.style.display="block",o.style.opacity="1"}),5e3)}let qe=50,Oe=null,De=0,Pe=0;function Re(e){null===Oe&&(Oe=e);const t=e-Oe;De+=t,Pe+=t,Oe=e;let o=qe;for(Pe>=10*qe&&(qe=Pe/10);Pe>=qe;)Pe-=qe,Ve(qe);qe=o,requestAnimationFrame(Re)}let Le=0,Ie=0;const Fe=1e4,Ge=1e3;function Ve(e){for(const t of[...new Set(Object.values(D))])h(t,y(t,e));!function(){for(let e=Be.length-1;e>=0;e--){const t=Be[e];t.condition()&&(t.action(),Be.splice(e,1))}for(let e in Se)!L(e)&&E(e)>0&&(I(e),M(Se[e]));try{j(),null!==Ke&&ee(Ke)}catch(e){console.warn(e)}}(),Le+=e,Ie+=e,De+=e,Le>=Fe&&(f(),Le=0),W("factoryTab")&&Ie>=Ge&&(console.log("manufacturing attempt",Ie,Ge),Ie=0,q())}function He(){fe("./audio/options.wav",!0);const e=document.getElementById("optionsMenu");e.style.display="none"===e.style.display?"block":"none"}window.onbeforeunload=function(){_e||f()};let _e=!1;function Ne(e){let t="+1 Clone";A("clones")<T("clones")?u.clones.value+=1:t="Max Clones",fe("+1 Clone"===t?"./audio/clone.wav":"./audio/failclone.wav");const o=e.pageX||10,s=e.pageY||120;Q(o,s,t,"+1 Clone"===t?"green":"red"),V(),K("clones")}document.addEventListener("DOMContentLoaded",(e=>{const t=ve({apiKey:"AIzaSyCotsZUfpU3dBSARhviv3oKtlnEyv7e_gk",authDomain:"clone-experiment.firebaseapp.com",projectId:"clone-experiment",storageBucket:"clone-experiment.appspot.com",messagingSenderId:"1028768441674",appId:"1:1028768441674:web:2bf0906e5a94f5b2400db3",measurementId:"G-M45BJLXJFR"});ke(t),R(a),p(),me(),function(){const e=document.querySelector("#factoryButtons"),t=document.createElement("button");t.classList.add("tooltip"),t.id="buyFactoryButton",t.textContent="Buy New Factory",t.setAttribute("data-tooltip-desc","The factory must grow!"),t.setAttribute("tooltipCost","50 silver"),e.appendChild(t),t.addEventListener("click",(()=>{console.log("buying factory"),$()}));const o=document.createElement("button");o.classList.add("tooltip"),o.id="upgradeBulkButton",o.textContent="Upgrade Bulk",o.setAttribute("data-tooltip-desc","Craft more resources per second"),o.setAttribute("tooltipCost","2 → 4: 30 silver"),e.appendChild(o),o.addEventListener("click",(()=>{console.log("upgrading bulk"),O()}))}(),U(),p(),C(),U(P("organization")),g(),Y(),re("productionTab"),o(7864).generateTradeTable(u),document.addEventListener("click",(e=>{if(null===Te&&je(),e.target.matches("button")){const n=e.target;if(n.getAttribute("data_building")&&"undefined"!==n.getAttribute("data_building")&&n.classList.contains("purchasable")){var t=n.getAttribute("data_building");const o=e.clientX,s=e.clientY;fe("./audio/building.wav",!0);const i=N(t).split("_").join(" ");if(e.shiftKey){let e=w(t);Q(o,s,`+${e} ${i}s`,"aqua")}else x(t),Q(o,s,`+1 ${i}`,"aqua")}else if(n.classList.contains("unlock")){const e=n.getAttribute("unlock");if(console.log(e),a[e]){var o=!0;for(let t in a[e].cost)if(A(t,u)<a[e].cost[t]){o=!1;break}if(o){for(let t in a[e].cost)h(t,-a[e].cost[t]);a[e].isPondered=!0,M(e),n.display="none",fe("./audio/ponder.wav",!0),"organization"===e&&location.reload(),e.startsWith("ponderEffectiveBuildings")&&xe()}}}else if("undefined"!==n.id)if("gather"===n.id.slice(0,6))be(function(e){for(const[t,o]of Object.entries(u))if(o.id===e)return t;return"error "+e}(n.id));else if("craft"===n.id.slice(0,5)){fe("./audio/craft.wav",!0);let t=function(e){for(const[t,o]of Object.entries(s))if(console.log(t,o,e),o.id===e)return t;return"error "+e}(n.id);oe(t)&&Q(e.clientX,e.clientY,`+${t}`,"aqua"),e.shiftKey?m(t):b(t)}else"saveButton"===n.id?(fe("./audio/options.wav"),f()):"eatFish"===n.id?function(){if(!F()&&A("fish",u)>=1){const e=new Audio("./audio/fish.wav");e.volume=ce(),e.play(),h("fish",-1),$e(),G(!0),document.querySelector("#eatFish").style.display="none",setTimeout((()=>{ge("You are with yourself in a forest.","with yourself","You feel peckish for some seafood."),k("clones",1),h("clones",1)}),1e3)}}():"overlay-button"===n.id?(document.getElementById("overlay-text").style.opacity="0",document.getElementById("overlay-button").style.opacity="0",document.getElementById("overlay").style.display="none",document.getElementById("isekaiButtons").innerHTML="",location.reload()):"deleteSaveButton"===n.id&&confirm("Are you sure you want to delete your save data? This will reset all your progress.")?Xe():"clearJobAssignments"===n.id?H():"darkModeToggle"===n.id?(Ee.classList.toggle("dark-mode"),darkModeToggle.classList.toggle("dark"),Ae=!Ae,darkModeToggle.textContent=Ae?"Light Mode":"Dark Mode"):"prestige"===n.id?Ye():"startCombat"===n.id&&ne();if(n.classList.contains("tierOneButton")){let e=n.textContent;S(e)}}e.target.matches("#alone")&&Ne(e)})),document.getElementById("optionsButton").addEventListener("click",He),document.getElementById("musicVolume").addEventListener("input",(function(){ue(this.value),Te.volume=le()})),document.getElementById("sfxVolume").addEventListener("input",(function(){de(this.value)})),requestAnimationFrame(Re),document.querySelectorAll(".tooltip").forEach((e=>{e.addEventListener("mouseenter",(function(t){ee(e),Ke=e})),e.addEventListener("onclick",(function(){ee(e)})),e.addEventListener("mouseleave",(function(){te(),Ke=null}))})),V(),Z(),we("clones",T("clones"))}));const We=document.getElementById("overlay"),ze=document.getElementById("overlay-text"),Je=document.getElementById("overlay-button"),Ue=document.getElementById("overlay-back-button");function Ye(){Je.addEventListener("click",(()=>{const t=A("clones")+A("husks");d(),n(),c(),B(),r(),_(),z(),fe("./audio/isekaiconfirm.wav",!0);for(let[e,t]of Object.entries(u))t.max=100;h("husks",t),We.style.display="none";let o=null;for(let t=0;t<e;t++){const e=pe();i[e.name.split(" ").join("_")]=e,o=e}ge("You are in another world.","another",`You feel a need to acquire ${Object.values(o.cost).join(",")}`),U(!1)}));const e=4;Ue.addEventListener("click",(()=>{We.style.display="none"}));const t=new Audio("./audio/isekai.wav");t.volume=ce(),t.play();const o=document.getElementById("husksIsekaiValue");let s;s=o||document.createElement("p"),s.id="husksIsekaiValue",s.innerHTML=`Husks:  ${A("husks")} <br> You will get ${A("clones")} Husks post-isekai.<br>You will receive ${e} randomly generated new buildings, unique to this new world.`,s.style.opacity="0",We.prepend(s),We.style.backgroundColor="MidnightBlue",ze.textContent="You step through to another world.",$e(),setTimeout((()=>{Ue.style.opacity="1"}),5e3),setTimeout((function(){const e=document.getElementById("isekaiButtons");let t=1;Object.keys(X).forEach((o=>{const n=document.createElement("button");n.innerHTML=`<b>${X[o].text}</b><br>Level: ${X[o].level}<br>Cost: ${X[o].cost}`,n.setAttribute("tooltipCost",X[o].cost),n.setAttribute("tooltipDesc",X[o].tooltipDesc),n.classList.add("tooltip"),n.style.gridColumn=(t%4+1).toString(),n.style.gridRow=Math.floor(t/4+1).toString(),++t,n.addEventListener("click",(()=>{console.log(`Button ${o} was clicked`),A("husks")<X[o].cost||(X[o].level++,h("husks",-X[o].cost),X[o].cost=function(e){let t=e*(1+Math.sqrt(5))/2;return Math.round(t)}(X[o].cost),n.setAttribute("tooltipCost",X[o].cost),n.innerHTML=`<b>${X[o].text}</b><br>Level: ${X[o].level}<br>Cost: ${X[o].cost}`,s.textContent="Husks: "+A("husks"),ee(n))})),n.addEventListener("contextmenu",(e=>{e.preventDefault(),console.log(`Button ${o} was right clicked`),X[o].level<=0||(X[o].level--,X[o].cost=function(e){let t=e/((1+Math.sqrt(5))/2);return Math.round(t)}(X[o].cost),n.setAttribute("tooltipCost",X[o].cost),h("husks",X[o].cost),n.innerHTML=`<b>${X[o].text}</b><br>Level: ${X[o].level}<br>Cost: ${X[o].cost}`,s.textContent="Husks: "+A("husks"),ee(n))})),e.appendChild(n),n.addEventListener("mouseenter",(function(e){ee(n),Ke=n})),n.addEventListener("mouseleave",(function(){te(),Ke=null}))}))}),5e3),setTimeout((()=>{s.style.opacity="1"}),5e3)}var Ke=null;function Xe(){localStorage.removeItem("save"),_e=!0,location.reload()}e.exports={updateUI:function(e){const t=document.createElement("div");t.innerHTML=`${e}: ${u[e].value}`,document.body.appendChild(t)},setTotalTime:function(e){De=e},changeMessage:ge,getMessage:function(){return he},total_time:De,currentHoverButton:Ke,deleteGame:Xe,isekai:Ye,update:Ve},window.deleteGame=Xe,window.isekai=Ye},1123:(e,t,o)=>{const{setStage:s,passedStage:n}=o(8751),{updateButtonVisibility:i}=o(7667);t.makeVisible=function(e){n(e)||s(e),document.querySelectorAll("."+e).forEach((e=>{e.classList.add("visible"),e.classList.remove("hidden"),e.style.display=""})),i()}},134:(e,t,o)=>{const{buildings:s}=o(5882),{perks:n}=o(7055);let i=[];function r(e){return i.includes(e)}function a(e){if(i.push(e),"Architect"===e){const e=o(5882).buildings;for(let t of Object.keys(e))o(8022).recalculateBuildingCost(t)}}e.exports={hasPerk:r,addPerk:a,selectAbility:function(e){r(e)||window.confirm("Do you want to select "+e+"? This decision cannot be easily changed.")&&(a(e),o(1495).selectCorrectPerkButton(e))},getPerkFromTier:function(e){for(let t in n["tier"+e])if(r(t))return t;return""},getAllPerks:function(){return i},resetPerks:function(){i=[]}}},9476:e=>{e.exports={getPlayerUid:function(){return null},generateUniqueID:function(){return Date.now().toString(36)+Math.random().toString(36).substr(2,5)}}},4369:(e,t,o)=>{const{capitalizeFirst:s}=o(6681),{ponders:n}=o(6397),{getMaterial:i}=o(3924),{resources:r}=o(2587),{buttons:a}=o(2054);function c(e){return!!n[e]&&n[e].isPondered}e.exports={canUnlock:function(e){var t="";for(let o in n)n[o].id===e&&(t=o);if(""===t)return console.warn("invalid unlock id: ",e),!1;var o=!0;for(let e in n[t].cost)if(i(e,r)<n[t].cost[e]){o=!1;break}return o},isPondered:c,generatePonderButtons:function(e){for(const[t,i]of Object.entries(e)){const e=`ponder${s(t)}`;let r=o(9594).generateTooltipCost(i.cost);a[e]={class:"tooltip unlock",text:i.text||"Ponder a Mystery?",tooltipDesc:i.tooltipDesc||"Who knows what you'll discover",tooltipCost:r,tab:"ponder",unlock:t,requirement:()=>o(8078).getMax("ponder")>=n[t].cost.ponder/2,hide:()=>c(t)}}}}},6995:(e,t,o)=>{const{hasPrestige:s,getLevelOfPrestige:n}=o(6425),{isPondered:i}=o(4369),{passedStage:r}=o(8751),{updateBounceAnimation:a}=o(5994);t.recalcMaxClones=function(){let e=o(2587).getBaseMax("clones");r("clone")&&(e+=1);const t=o(5882).buildings;for(const[o,s]of Object.entries(t))s.effects&&s.effects.clones&&(e+=s.effects.clones*s.count);i("biggerShelter")&&(e+=1*t.shelter.count),i("biggerHut")&&(e+=1*t.hut.count),i("biggerHouse")&&(e+=2*t.house.count),i("biggerTeepee")&&(e+=4*t.teepee.count),i("evenBiggerShelter")&&(e+=1*t.shelter.count),s("maxClones")&&(e+=1*n("maxClones")),o(5722).setMax("clones",e),a()}},8022:(e,t,o)=>{function s(e){let t=o(5882).buildings[e];if(t&&t.cost&&t.ratio)for(let e in t.cost)console.log(t,t.basecost[e],t.ratio,t.count),t.cost[e]=Math.round(t.basecost[e]*Math.pow(t.ratio,t.count)),o(134).hasPerk("Architect")&&(t.cost[e]*=.75),o(6425).hasPrestige("cheaperBuildings")&&(t.cost[e]*=Math.pow(.95,o(6425).getLevelOfPrestige("cheaperBuildings")));const s=document.querySelector("#"+e);var n=o(9594).generateTooltipCost(t.cost);if(!s)throw"Button not found for "+e;{s.setAttribute("data-tooltip-cost",n);const e=o(5151).generateEffectString(t);s.setAttribute("data-tooltip-effect",e)}}t.recalculateBuildingCost=s,t.recalculateAllBuildingCosts=function(){const e=o(5882).buildings;for(let t of Object.keys(e))s(t)}},9594:(e,t,o)=>{const{resources:s}=o(2587),{craftedResources:n}=o(3371),{buttons:i}=o(2054),{skills:r}=o(2324),{getWorkers:a,updateTotal:c}=o(5150),{hasTool:l}=o(2609),{calcCraftBonus:u,getMax:d}=o(8078),{canCraft:f}=o(7064),{capitalizeFirst:p}=o(6681),{getMaterial:g}=o(3924),{isPondered:h}=o(4369),{calcIncrease:m}=o(8121),{updateSidebar:b,abbreviateNumber:y}=o(5453),{passedStage:v}=o(8751),{updateDisplayValue:k}=o(5453),{updateSkills:w}=o(8491),{recalcMaxClones:x}=o(6995),{triggerFloatUpText:S}=o(8727),B=document.getElementById("resources");function C(e,t){s[e].max+=t;const o=document.getElementById(`${e}Value`).getBoundingClientRect();S(o.right,o.bottom,"+max","green"),b(),c()}function T(e,t){0==t||Number.isNaN(t)||((e=e.toLowerCase())in s?(g(e)<d(e)&&t>0?(h("fasterResourceGain")&&(t*=1.05),s[e].value+=t,w(e,t),"violence"===e&&o(4856).refreshValues()):t<0?s[e].value+=t:s[e].value=d(e),k(e)):e in n?(console.log("crafting a material",e,t),n[e].value+=t,k(e),w(e,t)):(s[e]&&(s[e].value+=t),n[e]&&(n[e].value+=t),b()))}function M(e){const t=document.createElement("button");t.className=e.class+" tooltip",t.setAttribute("id",e.id),t.setAttribute("requirement",e.requiredStage);const o=Object.keys(n).find((t=>n[t]===e));return t.innerHTML=`${e.text||p(o)}`,t.tab="experiment",t}t.resourcesContainer=B,window.increaseMaterial=T,window.increaseMax=C;const j=document.querySelector("#craftedResourceButtons");function E(e){if(null===e)return"";var t="";for(let o in e)t+=`<span class="tooltip-${o} ${g(o,s)>=e[o]?"enough":"not-enough"}">${y(e[o])} ${o}</span><br>`;return t}const A=document.getElementById("emojiDisplay");function $(){let e="";function t(){return Math.floor(55*Math.random()+200)}for(const[o,n]of Object.entries(r)){const o=t(),i=t(),r=`rgb(${o}, ${t()}, ${i})`;for(const t of Object.values(n.affectedResources)){const o=a(t);if(void 0===o||0==o)continue;const n=s[t].emoji||"𓀟";n&&(e+=`<span class='tooltip' style='color:${r};'tooltipdesc='${t}' tooltipcost=''>${n.repeat(o)}</span>`)}}A.innerHTML=e}function q(e,t){if(!n.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;if(!f(e))return;let o=n[e].cost;t=Math.floor(t);for(const[e,s]of Object.entries(o))console.log("crafting quantity:",e,s),T(e,-s*t),k(e);T(e,u(e)*t),n[e].craftedOnce||(n[e].craftedOnce=!0),k(e)}$(),e.exports={increaseMaterial:T,increaseMax:C,craftAllResources:function(e){try{const t=n[e].cost;let o=[];for(let e in t)o.push(g(e,s)/t[e]);let i=Math.floor(Math.min(...o));console.log(e,i),q(e,i)}catch(t){console.log("Failed to craftall for: ",e,t)}},craftResource:function(e){if(!n.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;f(e)&&(!function(e,t,o){for(const[e,o]of Object.entries(t))T(e,-o);T(e,o)}(e,n[e].cost,u(e)),n[e].craftedOnce||(n[e].craftedOnce=!0),k(e))},updateEmojiDisplay:$,generateTooltipCost:E,calcSecondsRemaining:function(e,t){if(t<=g(e))return 0;const o=m(e,1e3);return 0==o?-1:(t-g(e))/o},appendCraftedResourceButtons:function(){for(let e in n){const t=M(n[e]);t.setAttribute("data-tooltip-desc",n[e].tooltipDesc||""),t.setAttribute("data-tooltip-cost",E(n[e].cost)||""),j.appendChild(t),v(t.getAttribute("requirement"))?t.classList.remove("hidden"):t.classList.add("hidden"),i[n[e].id]=n[e]}},calcIncrease:m,updateResourceIncreaseRates:function(){for(let t in s){const o=m(t,1e3);var e=document.getElementById(`${t}IncreaseRate`);e&&(e.textContent=o)}},craftResourceQuantity:q}},502:(e,t,o)=>{const{calcIncrease:s,updateEmojiDisplay:n}=o(9594),{addTool:i,getAllTools:r}=o(2609),{allVisibleButtons:a,setVisibleButton:c,getMax:l}=o(8078),{makeVisible:u}=o(1123),{getCraftedResource:d}=o(6590),{getMaterial:f}=o(3924),{getAllPerks:p,addPerk:g,hasPerk:h,selectAbility:m}=o(134),{isPondered:b}=o(4369),{jobCounts:y,setConnections:v,getConnections:k,distributeWorkers:w,updateDisplay:x}=o(5150),{total_time:S}=o(808),{setAteFish:B,getAteFish:C}=o(1621),{craftedResources:T}=o(3371),{buildings:M}=o(5882),{ponders:j}=o(6397),{resources:E}=o(2587),{skills:A}=o(2324),{getAllStages:$}=o(8751),{activeFactoriesProducing:q,loadFactory:O}=o(1051),{recalcMaxClones:D}=o(6995),{updateSidebar:P}=o(5453),{prestige:R,setPrestigeCost:L,setPrestigeLevel:I}=o(6425),{recalculateBuildingCost:F}=o(8022),{updateBuildingButtonCount:G}=o(2607),{updateBuildingList:V}=o(5151),{populateSkillsTable:H}=o(8491),{getAnalytics:_,logEvent:N}=o(9013),{generateUniqueID:W}=o(9476);function z(){let e={skills:{},craftedResources:{},resources:{},tools:[],stages:[],unlocks:{},jobs:{},buildings:{},time:{},allVisibleButtons:[],message:[],connections:new Map,perks:[],factories:{},prestige:{},newBuildings:{}};for(let t in A)e.skills[t]={exp:A[t].exp,level:A[t].level};for(let t in T)e.craftedResources.hasOwnProperty(t)||(e.craftedResources[t]={value:0,craftedOnce:!1}),e.craftedResources[t].value=d(t),e.craftedResources[t].craftedOnce=T[t].craftedOnce;for(let t in E)e.resources.hasOwnProperty(t)||(e.resources[t]={value:0,max:0}),e.resources[t].value=f(t,E),e.resources[t].max=l(t);e.tools=r(),e.stages=$(),e.jobs=y;try{e.perks=[new Set(p())]}catch(t){e.perks=[],console.error("saving perks error",t)}e.connections=Array.from(k().entries());for(let t in j)e.unlocks[t]=b(t);let t=null;for(let o in M)e.buildings[o]=M[o].count,M[o].hasOwnProperty("name")&&(e.newBuildings[o]=M[o],t=M[o]);for(let t in a)e.allVisibleButtons.push(t);for(const[t,o]of Object.entries(q))e.factories[t]=o;const s=o(808).getMessage().innerHTML,n=function(){let e="You feel peckish for some seafood.";return t&&t.cost&&(e="You feel a strange, constructive urge to acquire "+Object.keys(t.cost).join(", ")),console.log("message tooltip:",e),e}(),i=function(e){const t=document.createElement("div");return t.innerHTML=e,[t.textContent,t.querySelector("span").textContent]}(s);i.push(n),e.message=i;for(const[t,o]of Object.entries(R))e.prestige[t]={cost:o.cost,level:o.level};return e.time.total_time=S,e.time.time_of_save=Date.now(),console.log(e),localStorage.setItem("save",JSON.stringify(e)),N(_(),"save",e),e}e.exports={saveGame:z,loadGame:function(){if(console.log("Loading Game"),!localStorage.getItem("player_uid")){const e=W();localStorage.setItem("player_uid",e)}const e=localStorage.getItem("player_uid");var t=JSON.parse(localStorage.getItem("save"));if(console.log(t),N(_(),"load",{savegame:t,playerUid:e}),null!==t){if(void 0!==t.resources)for(let e in t.resources)if("undefined"!==e.valueOf()&&null!==e&&null!==E[e]){try{o(3671).setMaterial(e,t.resources[e].value),o(5722).setMax(e,t.resources[e].max)}catch(t){console.warn("error with loading resource",e,t)}console.log("Updating resources for "+e+" to "+t.resources[e].value,t.resources[e].max);try{0!=E[e].value&&o(5453).updateDisplayValue(e)}catch(e){}}if(void 0!==t.skills)for(let e in t.skills)A[e].exp=t.skills[e].exp,A[e].level=t.skills[e].level;if(void 0!==t.craftedResources)for(var a of Object.keys(t.craftedResources))if(T[a]){T[a].value=t.craftedResources[a].value,Number.isNaN(T[a].value)&&(T[a].value=0),T[a].craftedOnce=t.craftedResources[a].craftedOnce;try{o(5453).updateDisplayValue(a)}catch(e){}}if(void 0!==t.tools){let e=[...new Set([...r(),...t.tools])];for(let t in e)i(t)}if(void 0!==t.stages)for(let e in t.stages)u(t.stages[e]);if(void 0!==t.jobs)for(let e in t.jobs)y[e]=t.jobs[e],x(e);if(void 0!==t.unlocks)for(let e in t.unlocks)try{j[e].isPondered=t.unlocks[e]}catch(t){console.warn("Old save data includes obsolete ponder",e)}if(b("skillsTable")&&H(),void 0!==t.perks)for(let[e,s]of Object.entries(t.perks))if(g(s),o(1495).selectCorrectPerkButton(s),parseFloat(e)>100)break;if(void 0!==t.prestige)for(const[e,o]of Object.entries(t.prestige))L(e,o.cost),I(e,o.level);if(function(e){if(void 0!==e.newBuildings)for(let t in e.newBuildings)M[t]=e.newBuildings[t];if(void 0!==e.buildings){for(let t in e.buildings)try{M[t].count=e.buildings[t],M[t].count>0&&(G(t,M[t].count,M[t].emoji),F(t))}catch(e){console.warn("error with building",t,e)}P()}}(t),D(),V(),B(E.clones.max>=1),C()&&(document.querySelector("#eatFish").style.display="none"),void 0!==t.message&&o(7169).changeMessage(t.message[0],t.message[1],t.message[2]?t.message[2]:null),void 0!==t.time){o(808).setTotalTime(t.time[S]);const e=Date.now()-t.time.time_of_save;for(let t in E){const o=s(t,e);E[t].value+=o,E[t].value>E[t].max&&(E[t].value=E[t].max)}}if(void 0!==t.allVisibleButtons){console.log(t.allVisibleButtons);for(let e in t.allVisibleButtons)c(e)}void 0!==t.connections&&(v(new Map(t.connections)),0===k().size&&v(new Map),console.log(k()));for(let e in y)w(e,y[e]);if(n(),void 0!==t.factories)for(const[e,o]of Object.entries(t.factories))if(o>0)for(let t=1;t<o;++t)O(e)}}},window.saveGame=z},1495:(e,t)=>{t.selectCorrectPerkButton=function(e){let t,o=document.querySelectorAll(".tierOneButton");try{t=document.querySelector(`#${e}Perk`)}catch(e){}t?(o.forEach((e=>{e.setAttribute("disabled","true")})),console.log(t,e),t.removeAttribute("disabled"),t.classList.add("selected")):console.warn("No button found with ability name: "+e)}},3671:(e,t,o)=>{const{updateTotal:s}=o(5150),{updateDisplayValue:n}=o(5453),{resources:i}=o(2587);t.setMaterial=function(e,t){void 0!==i[e]&&(i[e].value=t,n(e),s())}},5722:(e,t,o)=>{const{resources:s}=o(2587),{updateTotal:n}=o(5150),{updateDisplayValue:i}=o(5453);t.setMax=function(e,t){void 0!==s[e]&&(s[e].max=t,i(e),n())}},2093:(e,t,o)=>{const{drawAllConnections:s}=o(5150),{updateSidebar:n}=o(5453),{refreshValues:i,combat:r,pauseAnimation:a,battleResult:c,simulateBattle:l}=o(4856),{getSfxVolume:u,playSound:d}=o(5098);function f(){let e="";for(let t of p)t.classList.contains("active")&&(e=t.id);return e}t.getCurrentTab=f;let p=document.querySelectorAll(".tab-content > .content");t.showTab=function(e){console.log("show tab: "+e);let t=f();if(e===t)return;d("./audio/tab.wav");let o=document.getElementById(t);o&&(o.classList.remove("active"),o.style.opacity="0");let n=document.querySelectorAll(".tab-button");for(let e of n)e.classList.remove("active");let r=document.getElementById(e);setTimeout((()=>{r.classList.add("active")}),100),setTimeout((()=>{r.style.opacity="1"}),200);const a=`#${e}Button`;let u=document.querySelector(a);u&&u.classList.add("active"),"jobsTab"===e&&s(),"combatTab"===e&&(i(),null===c&&l()),console.log(t,">",e)}},5453:(e,t,o)=>{const{calcIncrease:s}=o(8121),{capitalizeFirst:n}=o(6681),{getMaterial:i}=o(3924),{getMax:r}=o(8078),{resources:a}=o(2587),{isPondered:c}=o(4369);function l(e){var t=!0;return i(e)>0&&(t=!1,a[e]&&(a[e].isVisible=!0)),a[e]&&a[e].isVisible&&(t=!1),t}function u(e){if("number"!=typeof e)return e;function t(e,t){return e<10?o(e,2)+t:e<100?o(e,1)+t:e<1e3?o(e,0)+t:Math.round(e)+t}function o(e,t){const o=Math.pow(10,t);return(Math.round(e*o)/o).toFixed(t)}return e<1e3?o(e,1):e<1e6?t(e/1e3,"K"):e<1e9?t(e/1e6,"M"):e<1e12?t(e/1e9,"B"):(e===1/0&&(e="∞"),e.toString())}const d=document.getElementById("resources");function f(e,t){let o;t?(o=document.getElementById(`group-${t}`),o||(o=function(e){const t=document.createElement("div");t.className="resourceGroup",t.id=`group-${e}`;const o=document.createElement("button");return o.textContent=e.toUpperCase(),o.onclick=()=>function(e){const t=document.getElementById(`group-${e}`),o=document.getElementById(`toggle-${e}`);Array.from(t.children).forEach((e=>{"P"===e.tagName&&e.classList.toggle("hidden")})),o.classList.contains("arrow-down")?(o.classList.remove("arrow-down"),o.classList.add("arrow-right")):(o.classList.remove("arrow-right"),o.classList.add("arrow-down"))}(e),o.className="toggle-button arrow-down",o.id=`toggle-${e}`,t.appendChild(o),t}(t),d.appendChild(o))):o=document.getElementById("resources");const s=n(e).split("_").join(" "),a=document.createElement("p");a.className="resource",a.id=`resource-${e}`;const c=document.createElement("span");c.className="resourceName",c.textContent=`${s}:`;const l=document.createElement("span");l.className="resourceValue",l.id=`${e}Value`;let u=r(e)&&r(e)<1/0?r(e).toFixed(2):"∞";l.textContent=`${i(e).toFixed(2)} / ${u}`;const f=document.createElement("span");return f.className="resourceRate",f.innerHTML=`<span id="${e}IncreaseRate"></span>)`,a.appendChild(c),a.appendChild(l),a.appendChild(f),o.appendChild(a),a}function p(e){const t=d.querySelector(`#${e}Value`),o=d.querySelector(`#${e}IncreaseRate`);if(t){try{const n=i(e),a=r(e);if(t.textContent=`${u(n)} / ${u(a)}`,t.style.color="white",n/a>.6&&(t.style.color="#ffc"),n/a>.8&&(t.style.color="#fec"),n/a>.95&&(t.style.color="#fcc"),o){const t=s(e,1e3);0===t||Number.isNaN(t)?o.parentElement.innerHTML=`<span id="${e}IncreaseRate"></span>`:o.parentElement.innerHTML=`${t>=0?"+":"-"}<span id="${e}IncreaseRate">${t.toFixed(2)}</span>/s`}l(e)?t.parentElement.style.display="none":t.parentElement.style.display=""}catch(o){console.error(t,e,o)}if(a[e]&&a[e].isGetting){const t=document.querySelector("#resources").querySelector("#resource-"+e);t&&(t.style.fontWeight="bold")}}}e.exports={updateSidebar:function(){const e=o(1051).allMaterials;Array.from(e).forEach((e=>{p(e)}))},initializeResourceTags:function(e){console.log("initialzing resource tags"),console.trace();const t={special:["clones","husks","ponder","violence"],food:["berries","fish","game","wheat","bread","freshwater"],materials:["sticks","vines","rocks","wood","sand","clay","hides","herbs"],tools:["sharprocks","rope","handle","fishingrod","pickaxe","axe","spear","staff"],advanced:["glass","paper","crates","medicine","leather"],metal:["ore","gold","iron","silver","steel"],construction:["bricks","beams","nails","slabs","concrete"]};for(let[o,s]of Object.entries(t))s.forEach((t=>{let s=document.getElementById("resource-"+t);e||(o=null),s||(s=f(t,o)),l(t)?s.style.display="none":s.style.display=""}))},updateDisplayValue:p,abbreviateNumber:u}},8491:(e,t,o)=>{const{skills:s}=o(2324),{triggerFloatUpText:n}=o(8727),i=function(e){let t={};for(const[o,s]of Object.entries(e))for(const e of s.affectedResources)t[e]||(t[e]=[]),t[e].push(o);return t}(s);console.log(i);let r=!1;function a(){const e=document.getElementById("skillsTable");if(r)for(let e in s){(s[e].exp>0||s[e].level>0)&&(document.querySelector("#tr-"+e).style.display="");let t=document.querySelector(`.progressBar[data-skill="${e}"]`);t&&(t.style.width=s[e].exp+"%",document.querySelector("#level-"+e).textContent=`[level ${s[e].level}] (${Math.floor(s[e].exp).toFixed(0)}%)   ${e}`)}else{console.log("Generating table for the first time"),r=!0;for(let t in s){let o=document.createElement("tr");o.id="tr-"+t;let n=document.createElement("td");n.style.position="relative";let i=document.createElement("div");i.setAttribute("class","progressBar"),i.style.height="20px",i.setAttribute("data-skill",t);let r=document.createElement("span");r.textContent=`[level ${s[t].level} (${s[t].exp}%)]   ${t}`,r.setAttribute("id","level-"+t),r.style.position="absolute",r.style.left="10px",r.style.top="50%",r.style.transform="translateY(-50%)",0==s[t].exp&&0==s[t].level&&(o.style.display="none"),n.appendChild(i),n.appendChild(r),o.appendChild(n),e.appendChild(o)}}}e.exports={updateSkills:function(e,t){if(t=Math.abs(t),o(4369).isPondered("fasterSkills")&&(t*=1.05),!i[e])return;const r=i[e][0].toString();if(s[r].level>=100)return s[r].level=100,void(s[r].exp=0);if(s[r].exp+=t/Math.pow(1.4,s[r].level),s[r].exp>=100){s[r].level+=1,s[r].exp=0;let e=`Level up! ${r} → ${s[r].level}`;const t=document.getElementById("prestige").getBoundingClientRect();n(t.x,t.y,e,"#F4D03F")}o(8751).passedStage("skillsTable")&&a()},populateSkillsTable:a}},8751:e=>{let t=[];e.exports={setStage:function(e){t.push(e)},passedStage:function(e){return Object.values(t).includes(e)},getAllStages:function(){return t},resetStages:function(){for(;t.length>0;)t.pop()}}},2609:e=>{let t=["Bare Hands"];function o(e){return t.includes(e)}e.exports={hasTool:o,addTool:function(e){(isNaN(e)||isNaN(parseFloat(e)))&&(o(e)||(t.push(e),function(e){var t=document.getElementById("tools-list"),o=document.createElement("li");o.appendChild(document.createTextNode(e)),t&&t.appendChild(o)}(e)))},getAllTools:function(){return t},getToolValueForResource:function(e){if(!e)return 1;if(!e.tools)return 1;const t=e.tools.sort(((e,t)=>t.val-e.val));for(let e of t)if(o(e.tool))return e.val;return 1}}},7864:(e,t,o)=>{const{getMaterial:s}=o(3924),n=document.getElementById("resourceList"),i=document.getElementById("goldAmount");function r(e,t){s("gold",o(2587).resources)>=t&&(o(9594).increaseMaterial("gold",-t),o(9594).increaseMaterial(e,t),i.textContent=s("gold",o(2587).resources))}function a(e,t){s(e,o(2587).resources)>=1&&(o(9594).increaseMaterial("gold",t),o(9594).increaseMaterial(e,-1),i.textContent=s("gold",o(2587).resources))}t.generateTradeTable=function(e){for(let t in e){const e=document.createElement("tr"),o=Math.floor(100*Math.random())+10;e.innerHTML=`\n            <td class="tradetd">${t}</td>\n            <td class="tradetd">${o}</td>\n            <td class="tradetd" style="display:flex; flex-direction:row;">\n                <button class="buyBtn" data-resource="${t}" data-price="${o}">Buy</button>\n                <button class="sellBtn" data-resource="${t}" data-price="${o}">Sell</button>\n            </td>\n        `,n.appendChild(e)}document.querySelectorAll(".buyBtn").forEach((e=>{e.addEventListener("click",(e=>{r(e.target.getAttribute("data-resource"),parseFloat(e.target.getAttribute("data-price")))}))})),document.querySelectorAll(".sellBtn").forEach((e=>{e.addEventListener("click",(e=>{a(e.target.getAttribute("data-resource"),parseFloat(e.target.getAttribute("data-price")))}))}))},t.buyResource=r,t.sellResource=a},8727:(e,t)=>{t.triggerFloatUpText=function(e,t,o,s){const n=document.createElement("div");n.textContent=o,n.style.left=`${window.scrollX+e}px`,n.style.top=window.scrollY+t-30+"px",n.style.color=s,n.classList.add("float-up-fade-out"),document.body.appendChild(n),n.addEventListener("animationend",(()=>{n.remove()}))}},5994:(e,t,o)=>{const{getMaterial:s}=o(3924),{getMax:n}=o(8078);t.updateBounceAnimation=function e(){const t=document.getElementById("alone");s("clones")<n("clones")?(t.classList.add("bouncing"),setTimeout((()=>{t.classList.remove("bouncing"),t.offsetHeight,e()}),11e3)):t.classList.remove("bouncing")}},2607:(e,t,o)=>{const{capitalizeFirst:s}=o(6681);t.updateBuildingButtonCount=function(e,t,o){document.getElementById(`${e}`).textContent=`${o} ${s(e).split("_").join(" ")} (${t})`}},2831:(e,t,o)=>{const{buildings:s}=o(5882),{updateTooltip:n,hideTooltip:i}=o(8208),{fitCharToCell:r}=o(7531),a=document.getElementById("buildingList");t.updateBuildingList=function(){const e=document.createDocumentFragment();let t=0;for(const[o,n]of Object.entries(s))for(let s=0;s<n.count;++s,++t){let s=(t%6+1).toString(),i=Math.floor(t/6+1).toString();const r=document.createElement("span");r.className="tooltip",r.style.gridColumn=s,r.style.gridRow=i,r.style.fontSize="36px",r.setAttribute("tooltipDesc",o),r.textContent=n.emoji||"?",e.appendChild(r)}a.innerHTML="",a.appendChild(e),a.addEventListener("mouseenter",(e=>{e.target.classList.contains("tooltip")&&n(e.target)}),!0),a.addEventListener("mouseleave",(e=>{e.target.classList.contains("tooltip")&&i()}),!0)}},7667:(e,t,o)=>{const{buttons:s}=o(2054),{getCraftedResourceConfigById:n}=o(3371),{getBuildingCount:i}=o(5882),{isPondered:r,canUnlock:a}=o(4369),{getCraftedResourceKeyByConfig:c}=o(3371),{isButtonIdVisible:l,setVisibleButton:u}=o(8078),{canCraft:d}=o(7064),{canBuyBuilding:f}=o(5023),{passedStage:p}=o(8751);t.updateButtonVisibility=function(){document.querySelectorAll("button").forEach((e=>{const t=s[e.id];if(t){e.classList.remove("hidden","purchasable","button-disabled");var o="hidden";e.id&&l(e.id)&&(o="button-disabled");try{t.requirement&&t.requirement()&&(o="button-disabled",t.tab&&!t.data_building&&"production"===t.tab&&(o="purchasable"),e.id&&"gatherPonder"===e.id&&(o="purchasable"),t.tab&&"ponder"===t.tab&&e.id&&e.classList.contains("unlock")&&(a(e.id)&&(o="purchasable"),r(e.getAttribute("unlock"))&&(o="hidden")),t.tab&&"tabs"===t.tab&&(o="visible"))}catch(e){}if(t.id&&"craft"===t.id.slice(0,5)){t.craftedOnce&&(o="button-disabled");var g=n(t.id);g.value>0&&(o="button-disabled");const e=c(g);d(e)&&(o=!t.requiredStage||t.requiredStage&&p(t.requiredStage)?"purchasable":"hidden")}t.data_building&&(o=i(t.data_building)?"button-disabled":o,o=f(t.data_building)?"purchasable":o),t.hide&&(o=t.hide()?"hidden":o),""!==o&&e.classList.add(o),"hidden"===o?e.style.display="none":(u(e.id),e.style.display="")}})),document.querySelectorAll(".job-button").forEach((e=>{const t=e.getAttribute("data-job");e.classList.remove("hidden","purchasable","button-disabled");var s;const n=o(6842).O[t];"hidden"==(s=null==n||r(n)?"purchasable":"not-unlockable"===n?"hidden":"button-disabled")?e.style.display="none":(u(e.id),e.classList.add(s),e.style.display="")}))}},8208:(e,t,o)=>{const{getCraftedResourceConfigById:s}=o(3371),{buildings:n}=o(5882),{ponders:i}=o(6397),{resources:r,getResourceConfigById:a}=o(2587),{calcSecondsRemaining:c}=o(9594),{getMax:l}=o(8078),{getMaterial:u}=o(3924),d=document.getElementById("dynamic-tooltip");t.hideTooltip=function(){d.style.display="none"},t.updateTooltip=function(e){const t=e.getAttribute("data-tooltip-desc")||e.getAttribute("tooltipDesc"),o=e.getAttribute("data-tooltip-effect"),f=a(e.id)||s(e.id)||n[e.getAttribute("data_building")]||i[e.getAttribute("unlock")],p=e.getAttribute("tooltipCost")||e.getAttribute("data-tooltip-cost")||f&&f.cost;!function(e,t,o,s){let n="";function i(e){let t=parseFloat(e);return e.includes("K")?t*=1e3:e.includes("M")?t*=1e6:e.includes("B")&&(t*=1e9),t}if(t&&(n+=`<span >${t}</span><hr>`),o&&(n+=`<span style="color:#4cf">${o}</span><hr>`),s)try{if(s.toString().includes("span"))n+=function(e,t){const o=/class="tooltip-(\w+) .+?">([\d.]+[KM]?)\s(\w+)</g;let s,n="";for(;null!==(s=o.exec(e));){const e=s[1],o=s[2],a=i(o);var r=u(e,t)>=a?"enough":"not-enough";l(e)<a&&(r="exceeds-max"),n+=`<span class="tooltip-${e} ${r}">${o} ${e}</span>`;let d=0;t[e]&&(d=c(e,a)),d>0&&"exceeds-max"!=r&&(n+=`<span class="time-remaining">(${d.toFixed(0)} seconds)</span>`),n+="<br>"}return n}(s,r);else{var a="";for(const[e,t]of Object.entries(s)){var f=u(e,r)>=t?"enough":"not-enough";l(e)<t&&(f="exceeds-max"),a+=`<span class="tooltip-${e} ${f}">${t.toFixed(0)} ${e}</span>`;let o=0;r[e]&&(o=c(e,t)),o>0&&"exceeds-max"!=f&&(a+=`<span class="time-remaining">(${o.toFixed(0)} seconds)</span>`),a+="<br>"}n+=a}}catch(e){void 0!==s&&"undefined"!==s&&(n+=s)}d.innerHTML=n,d.style.left=e.getBoundingClientRect().right+5+"px",d.style.top=e.getBoundingClientRect().top-d.offsetHeight/2+"px",d.style.display="block"}(e,t,o,p)}}},o={};function s(e){var n=o[e];if(void 0!==n)return n.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,s),i.exports}s.m=t,e=[],s.O=(t,o,n,i)=>{if(!o){var r=1/0;for(u=0;u<e.length;u++){for(var[o,n,i]=e[u],a=!0,c=0;c<o.length;c++)(!1&i||r>=i)&&Object.keys(s.O).every((e=>s.O[e](o[c])))?o.splice(c--,1):(a=!1,i<r&&(r=i));if(a){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,n,i]},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var n,i,[r,a,c]=o,l=0;if(r.some((t=>0!==e[t]))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(c)var u=c(s)}for(t&&t(o);l<r.length;l++)i=r[l],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},o=self.webpackChunkclone_idle=self.webpackChunkclone_idle||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=s.O(void 0,[13],(()=>s(808)));n=s.O(n)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFvQkssT0FBRXZWLEVBQVcsQ0FBQyxLQUFLLElBQU9rVixFQUFvQixPQUM1Rm1DLEVBQXNCbkMsRUFBb0JLLEVBQUU4QixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL0dhbWVTaW11bGF0b3IuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvYXRlRmlzaC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9hdWRpby5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9idWlsZGluZ3MuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvY2FsY0luY3JlYXNlLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2NhbkJ1eUJ1aWxkaW5nLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2NhbkNyYWZ0LmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2NhcGl0YWxpemVGaXJzdC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9jaGFuZ2VNZXNzYWdlLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2NvbWJhdC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9mYWN0b3J5LmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2ZpdENoYXJUb0NlbGwuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvZ2F0aGVyaW5nLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2dlbmVyYXRlQnV0dG9ucy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9nZW5lcmF0ZVJhbmRvbUJ1aWxkaW5nLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2dldENyYWZ0ZWRSZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9nZXRNYXRlcmlhbC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9oZWxwZXIuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvam9iUmVxdWlyZWRQb25kZXJzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pvYnMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9idWlsZGluZ3MuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9idXR0b25zLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vY3JhZnRlZFJlc291cmNlcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL3BlcmtzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vcG9uZGVyLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vcHJlc3RpZ2UuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9yZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9za2lsbHMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvbWFpbi5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9tYWtlVmlzaWJsZS5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9wZXJrcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9wbGF5ZXJVaWQuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvcG9uZGVyLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3JlY2FsY01heENsb25lcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9yZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvc2F2aW5nLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3NlbGVjdENvcnJlY3RQZXJrQnV0dG9uLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3NldE1hdGVyaWFsLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3NldE1heC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9zaG93VGFiLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3NpZGViYXIuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvc2tpbGxzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3N0YWdlcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy90b29scy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy90cmFkZS5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy90cmlnZ2VyRmxvYXRVcFRleHQuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvdXBkYXRlQm91bmNlQW5pbWF0aW9uLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3VwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvdXBkYXRlQnVpbGRpbmdMaXN0LmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3VwZGF0ZUJ1dHRvblZpc2liaWxpdHkuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvdXBkYXRlVG9vbHRpcC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Nsb25lLWlkbGUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2Nsb25lLWlkbGUvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2Nsb25lLWlkbGUvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwiY2xhc3MgR2FtZVNpbXVsYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IHtcclxuICAgICAgICAgICAgcmVzb3VyY2VzOiB7XHJcbiAgICAgICAgICAgICAgICBjbG9uZXM6IDAsXHJcbiAgICAgICAgICAgICAgICBzdGlja3M6IDAsXHJcbiAgICAgICAgICAgICAgICB2aW5lczogMCxcclxuICAgICAgICAgICAgICAgIHJvY2tzOiAwLFxyXG4gICAgICAgICAgICAgICAgZmlzaDogMCxcclxuICAgICAgICAgICAgICAgIHdvb2Q6IDAsXHJcbiAgICAgICAgICAgICAgICBwb25kZXI6IDAsXHJcbiAgICAgICAgICAgICAgICBvcmU6IDAsXHJcbiAgICAgICAgICAgICAgICBzYW5kOiAwLFxyXG4gICAgICAgICAgICAgICAgd2hlYXQ6IDAsXHJcbiAgICAgICAgICAgICAgICBmcmVzaHdhdGVyOiAwLFxyXG4gICAgICAgICAgICAgICAgaGlkZXM6IDAsXHJcbiAgICAgICAgICAgICAgICBjbGF5OiAwLFxyXG4gICAgICAgICAgICAgICAgaGVyYnM6IDAsXHJcbiAgICAgICAgICAgICAgICBnYW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgaHVza3M6IDAsXHJcbiAgICAgICAgICAgICAgICB2aW9sZW5jZTogMCxcclxuICAgICAgICAgICAgICAgIHNoYXJwcm9ja3M6IDAsXHJcbiAgICAgICAgICAgICAgICByb3BlOiAwLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlOiAwLFxyXG4gICAgICAgICAgICAgICAgc3RhZmY6IDAsXHJcbiAgICAgICAgICAgICAgICBmaXNoaW5ncm9kOiAwLFxyXG4gICAgICAgICAgICAgICAgc3BlYXI6IDAsXHJcbiAgICAgICAgICAgICAgICBheGU6IDAsXHJcbiAgICAgICAgICAgICAgICBwaWNrYXhlOiAwLFxyXG4gICAgICAgICAgICAgICAgZ2xhc3M6IDAsXHJcbiAgICAgICAgICAgICAgICBwYXBlcjogMCxcclxuICAgICAgICAgICAgICAgIGdvbGQ6IDAsXHJcbiAgICAgICAgICAgICAgICBpcm9uOiAwLFxyXG4gICAgICAgICAgICAgICAgc2lsdmVyOiAwLFxyXG4gICAgICAgICAgICAgICAgYnJpY2tzOiAwLFxyXG4gICAgICAgICAgICAgICAgYnJlYWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBzdGVlbDogMCxcclxuICAgICAgICAgICAgICAgIGJlYW1zOiAwLFxyXG4gICAgICAgICAgICAgICAgY3JhdGVzOiAwLFxyXG4gICAgICAgICAgICAgICAgbmFpbHM6IDAsXHJcbiAgICAgICAgICAgICAgICBzbGFiczogMCxcclxuICAgICAgICAgICAgICAgIG1lZGljaW5lOiAwLFxyXG4gICAgICAgICAgICAgICAgbGVhdGhlcjogMCxcclxuICAgICAgICAgICAgICAgIGNvbmNyZXRlOiAwLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtYXhlczoge1xyXG4gICAgICAgICAgICAgICAgXCJjbG9uZXNcIjogMCxcclxuICAgICAgICAgICAgICAgIFwic3RpY2tzXCI6IDUwLFxyXG4gICAgICAgICAgICAgICAgXCJ2aW5lc1wiOiA1MCxcclxuICAgICAgICAgICAgICAgIFwicm9ja3NcIjogMzAsXHJcbiAgICAgICAgICAgICAgICBcImZpc2hcIjogMTAsXHJcbiAgICAgICAgICAgICAgICBcIndvb2RcIjogNDAsXHJcbiAgICAgICAgICAgICAgICBcInBvbmRlclwiOiAyMCxcclxuICAgICAgICAgICAgICAgIFwib3JlXCI6IDIwLFxyXG4gICAgICAgICAgICAgICAgXCJzYW5kXCI6IDIwLFxyXG4gICAgICAgICAgICAgICAgXCJ3aGVhdFwiOiAyMCxcclxuICAgICAgICAgICAgICAgICdmcmVzaHdhdGVyJzogNTAsXHJcbiAgICAgICAgICAgICAgICAnaGlkZXMnOiA1MCxcclxuICAgICAgICAgICAgICAgICdjbGF5JzogNTAsXHJcbiAgICAgICAgICAgICAgICAnaGVyYnMnOiA1MCxcclxuICAgICAgICAgICAgICAgICdnYW1lJzogNTAsXHJcbiAgICAgICAgICAgICAgICAnaHVza3MnOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgJ3Zpb2xlbmNlJzogMTAwXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBidWlsZGluZ3M6IHtcclxuICAgICAgICAgICAgICAgIGFuaW1hbF9wZW46IDAsXHJcbiAgICAgICAgICAgICAgICBiYWtlcnk6IDAsXHJcbiAgICAgICAgICAgICAgICBiYXJuOiAwLFxyXG4gICAgICAgICAgICAgICAgYmFycmFja3M6IDAsXHJcbiAgICAgICAgICAgICAgICBjYW1wZmlyZTogMCxcclxuICAgICAgICAgICAgICAgIGRlc2s6IDAsXHJcbiAgICAgICAgICAgICAgICBkcnlpbmdfcmFja3M6IDAsXHJcbiAgICAgICAgICAgICAgICBmaXNoX3RyYXBzOiAwLFxyXG4gICAgICAgICAgICAgICAgZmlzaGVyeTogMCxcclxuICAgICAgICAgICAgICAgIGZvcmdlOiAwLFxyXG4gICAgICAgICAgICAgICAgZ2FyZGVuOiAwLFxyXG4gICAgICAgICAgICAgICAgZ3JvdmU6IDAsXHJcbiAgICAgICAgICAgICAgICBoZXJiYWxpc3RfaHV0OiAwLFxyXG4gICAgICAgICAgICAgICAgaG9zcGl0YWw6IDAsXHJcbiAgICAgICAgICAgICAgICBob3VzZTogMCxcclxuICAgICAgICAgICAgICAgIGh1dDogMCxcclxuICAgICAgICAgICAgICAgIGlycmlnYXRpb246IDAsXHJcbiAgICAgICAgICAgICAgICBsaWJyYXJ5OiAwLFxyXG4gICAgICAgICAgICAgICAgbHVtYmVyX3lhcmQ6IDAsXHJcbiAgICAgICAgICAgICAgICBtYXJrZXRwbGFjZTogMCxcclxuICAgICAgICAgICAgICAgIG1pbGl0YXJ5X3NjaG9vbDogMCxcclxuICAgICAgICAgICAgICAgIG1pbmU6IDAsXHJcbiAgICAgICAgICAgICAgICBvYnNlcnZhdG9yeTogMCxcclxuICAgICAgICAgICAgICAgIHJlc2Vydm9pcjogMCxcclxuICAgICAgICAgICAgICAgIHJvY2tfcm9sZTogMCxcclxuICAgICAgICAgICAgICAgIHNhbmRfc2Nvb3A6IDAsXHJcbiAgICAgICAgICAgICAgICBzaGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgc2hlbHRlcjogMCxcclxuICAgICAgICAgICAgICAgIHN0b2NrcGlsZTogMCxcclxuICAgICAgICAgICAgICAgIHN0b25lX2RlcG90OiAwLFxyXG4gICAgICAgICAgICAgICAgc3RvbmVfcXVhcnJ5OiAwLFxyXG4gICAgICAgICAgICAgICAgdGFubmVyeTogMCxcclxuICAgICAgICAgICAgICAgIHRlZXBlZTogMCxcclxuICAgICAgICAgICAgICAgIHRlbGVzY29wZTogMCxcclxuICAgICAgICAgICAgICAgIHRvd2VyOiAwLFxyXG4gICAgICAgICAgICAgICAgdHJhcHM6IDAsXHJcbiAgICAgICAgICAgICAgICB2aW5leWFyZDogMCxcclxuICAgICAgICAgICAgICAgIHdhcmVob3VzZTogMCxcclxuICAgICAgICAgICAgICAgIHdhdGVyX3B1bXA6IDAsXHJcbiAgICAgICAgICAgICAgICB3aW5kbWlsbDogMCxcclxuICAgICAgICAgICAgICAgIHdvcmtzaG9wOiAwLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aW1lOiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmxvZyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkaW5nc0NvbnN0ID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpLmJ1aWxkaW5ncztcclxuICAgIGJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgICAgIC8vIFNpbWlsYXIgbG9naWMgdG8gdGhlIG9yaWdpbmFsIGJ1eUJ1aWxkaW5nLFxyXG4gICAgICAgIC8vIGJ1dCB3b3JrcyBvbiB0aGlzLmdhbWVTdGF0ZSBpbnN0ZWFkIG9mIHRoZSBnbG9iYWwgZ2FtZSBzdGF0ZVxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBjb3N0c1xyXG4gICAgICAgIGxldCBjb3N0ID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5idWlsZGluZ3NDb25zdFtidWlsZGluZ05hbWVdLmJhc2Vjb3N0KSkge1xyXG4gICAgICAgICAgICBjb3N0W2tleV0gPSB2YWx1ZSAqIE1hdGgucG93KHRoaXMuYnVpbGRpbmdzQ29uc3RbYnVpbGRpbmdOYW1lXS5yYXRpbywgdGhpcy5nYW1lU3RhdGUuYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhjb3N0KTtcclxuICAgICAgICAvLyBDaGVjayBpZiBlbm91Z2ggcmVzb3VyY2VzIGFyZSBhdmFpbGFibGVcclxuICAgICAgICBsZXQgY2FuQnV5ID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKGxldCBjIGluIGNvc3QpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlc1tjXSA8IGNvc3RbY10pIHtcclxuICAgICAgICAgICAgICAgIGNhbkJ1eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBCdXkgYnVpbGRpbmcgaWYgZW5vdWdoIHJlc291cmNlcyBhcmUgYXZhaWxhYmxlXHJcbiAgICAgICAgaWYgKGNhbkJ1eSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjIGluIGNvc3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlc1tjXSAtPSBjb3N0W2NdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJ1aWxkaW5nc1tidWlsZGluZ05hbWVdICs9IDE7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yYWdlLmluY2x1ZGVzKGJ1aWxkaW5nTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIEluY3JlYXNlIHRoZSBtYXggc3RvcmFnZVxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbciwgdmFsXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmJ1aWxkaW5nc0NvbnN0W2J1aWxkaW5nTmFtZV0uZWZmZWN0cykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5tYXhlc1tyXSArPSB2YWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2ltdWxhdGVUaWNrKCkge1xyXG4gICAgICAgIC8vIFNpbXVsYXRlIGEgc2luZ2xlIHRpY2sgb2YgdGhlIGdhbWVcclxuICAgICAgICB0aGlzLnBlcmZvcm1BY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVSZXNvdXJjZXMoKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS50aW1lICs9IDE7IC8vIEluY3JlbWVudCB0aW1lXHJcbiAgICAgICAgdGhpcy5sb2dHYW1lU3RhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBob3VzaW5nID0gWydodXQnLCAnc2hlbHRlcicsICdob3VzZScsICdiYXJyYWNrcycsICdob3NwaXRhbCcsICd0ZWVwZWUnXTtcclxuICAgIHN0b3JhZ2UgPSBbJ3NoZWQnLCAnc3RvY2twaWxlJywgJ3dvcmtzaG9wJywgJ3dhcmVob3VzZScsICdkcnlpbmdfcmFja3MnLCAnd2F0ZXJfcHVtcCcsICdtaWxpdGFyeV9zY2hvb2wnLCAnYmFybicsICdoZXJiYWxpc3RfaHV0JywgJ21pbmUnLCAnYmFrZXJ5JywgJ2FuaW1hbF9wZW4nLCAncmVzZXJ2b2lyJywgJ3N0b25lX2RlcG90J107XHJcbiAgICBidWlsZGluZ1ByaW9yaXR5ID0gWy4uLnRoaXMuaG91c2luZywgLi4udGhpcy5zdG9yYWdlXTtcclxuICAgIHBlcmZvcm1BY3Rpb25zKCkge1xyXG4gICAgICAgIC8vIERlZmluZSBwbGF5ZXIgYWN0aW9ucyBoZXJlLCBlLmcuLCBidXkgYnVpbGRpbmdzLCBjcmFmdCByZXNvdXJjZXNcclxuICAgICAgICBmb3IgKGxldCBiIG9mIE9iamVjdC52YWx1ZXModGhpcy5idWlsZGluZ1ByaW9yaXR5KSkge1xyXG4gICAgICAgICAgICB0cnkgeyB0aGlzLmJ1eUJ1aWxkaW5nKGIpOyB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikgeyBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gYnV5JywgYiwgZXJyb3IpOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIC4uLiBvdGhlciBhY3Rpb25zIC4uLlxyXG4gICAgfVxyXG5cclxuICAgIHJlc291cmNlc1RvR2F0aGVyID0gWydzdGlja3MnXTtcclxuICAgIHVwZGF0ZVJlc291cmNlcygpIHtcclxuICAgICAgICAvLyBVcGRhdGUgcmVzb3VyY2VzIGJhc2VkIG9uIGJ1aWxkaW5ncywgYWN0aW9ucywgZXRjLlxyXG4gICAgICAgIC8vIEV4YW1wbGU6XHJcblxyXG4gICAgICAgIGZvciAobGV0IFtpLCBrZXldIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMucmVzb3VyY2VzVG9HYXRoZXIpKSB7XHJcbiAgICAgICAgICAgIGxldCBnYXRoZXJpbmcgPSAwO1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnc3RpY2tzJyB8fCBrZXkgPT09ICd2aW5lcycgfHwga2V5ID09PSAnd29vZCcgfHwga2V5ID09PSAncm9ja3MnIHx8IGtleSA9PT0gJ2Zpc2gnIHx8IGtleSA9PT0gJ29yZScpIGdhdGhlcmluZyA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlc1trZXldICs9IChnYXRoZXJpbmcgKyAuMjUgKiB0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMuY2xvbmVzKSAvIHRoaXMucmVzb3VyY2VzVG9HYXRoZXIubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuZ2FtZVN0YXRlLm1heGVzKS5pbmNsdWRlcyhrZXkpICYmIHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlc1trZXldID4gdGhpcy5nYW1lU3RhdGUubWF4ZXNba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzW2tleV0gPSB0aGlzLmdhbWVTdGF0ZS5tYXhlc1trZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3ZpbmVzJyAmJiBNYXRoLnJhbmRvbSgpID4gMC41KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JhZnQgdmluZXMgaW50byByb3BlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzWydyb3BlJ10gKz0gdGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzLnZpbmVzIC8gMztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMudmluZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3dvb2QnICYmIE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjcmFmdCB3b29kIGludG8gcGFwZXJcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXNbJ3BhcGVyJ10gKz0gdGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzLndvb2QgLyAxMjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMud29vZCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnb3JlJyAmJiBNYXRoLnJhbmRvbSgpID4gMC41KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JhZnQgb3JlIGludG8gaXJvbiBvciBnb2xkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzWydpcm9uJ10gKz0gdGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzLm9yZSAvIDIwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMub3JlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlc1snZ29sZCddICs9IHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlcy5vcmUgLyAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlcy5vcmUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdzYW5kJyAmJiBNYXRoLnJhbmRvbSgpID4gMC41KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JhZnQgc2FuZCBpbnRvIHBhcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzWydwYXBlciddICs9IHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlcy5zYW5kIC8gMTA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzLnNhbmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXknICYmIE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjcmFmdCBjbGF5IGludG8gYnJpY2tzXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzWydicmlja3MnXSArPSB0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMuY2xheSAvIDE1O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlcy5jbGF5ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlcy5zdGlja3MgPj0gMTAgJiYgIXRoaXMucmVzb3VyY2VzVG9HYXRoZXIuaW5jbHVkZXMoJ3ZpbmVzJykpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNUb0dhdGhlci5wdXNoKCd2aW5lcycpOyAvLyBQdXNoICd2aW5lcycgb25seSBpZiBpdCdzIG5vdCBhbHJlYWR5IGluIHRoZSBhcnJheVxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4odGhpcy5yZXNvdXJjZXNUb0dhdGhlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMudmluZXMgPj0gMTAgJiYgIXRoaXMucmVzb3VyY2VzVG9HYXRoZXIuaW5jbHVkZXMoJ3JvY2tzJykpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNUb0dhdGhlci5wdXNoKCdyb2NrcycpOyAvLyBQdXNoICd2aW5lcycgb25seSBpZiBpdCdzIG5vdCBhbHJlYWR5IGluIHRoZSBhcnJheVxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4odGhpcy5yZXNvdXJjZXNUb0dhdGhlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMucm9ja3MgPj0gMTAgJiYgIXRoaXMucmVzb3VyY2VzVG9HYXRoZXIuaW5jbHVkZXMoJ2Zpc2gnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1RvR2F0aGVyLnB1c2goJ2Zpc2gnKTsgLy8gUHVzaCAndmluZXMnIG9ubHkgaWYgaXQncyBub3QgYWxyZWFkeSBpbiB0aGUgYXJyYXlcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKHRoaXMucmVzb3VyY2VzVG9HYXRoZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzLmZpc2ggPj0gMTAgJiYgIXRoaXMucmVzb3VyY2VzVG9HYXRoZXIuaW5jbHVkZXMoJ3dvb2QnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1RvR2F0aGVyLnB1c2goJ3dvb2QnKTsgLy8gUHVzaCAndmluZXMnIG9ubHkgaWYgaXQncyBub3QgYWxyZWFkeSBpbiB0aGUgYXJyYXlcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKHRoaXMucmVzb3VyY2VzVG9HYXRoZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzLndvb2QgPj0gMTAgJiYgIXRoaXMucmVzb3VyY2VzVG9HYXRoZXIuaW5jbHVkZXMoJ29yZScpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzVG9HYXRoZXIucHVzaCgnb3JlJyk7IC8vIFB1c2ggJ3ZpbmVzJyBvbmx5IGlmIGl0J3Mgbm90IGFscmVhZHkgaW4gdGhlIGFycmF5XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih0aGlzLnJlc291cmNlc1RvR2F0aGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMuY2xvbmVzID49IDEgJiYgIXRoaXMucmVzb3VyY2VzVG9HYXRoZXIuaW5jbHVkZXMoJ3BvbmRlcicpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzVG9HYXRoZXIucHVzaCgncG9uZGVyJyk7IC8vIFB1c2ggJ3ZpbmVzJyBvbmx5IGlmIGl0J3Mgbm90IGFscmVhZHkgaW4gdGhlIGFycmF5XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih0aGlzLnJlc291cmNlc1RvR2F0aGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlcy5jbG9uZXMgPj0gMyAmJiAhdGhpcy5yZXNvdXJjZXNUb0dhdGhlci5pbmNsdWRlcygnc2FuZCcpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzVG9HYXRoZXIucHVzaCgnc2FuZCcpOyAvLyBQdXNoICd2aW5lcycgb25seSBpZiBpdCdzIG5vdCBhbHJlYWR5IGluIHRoZSBhcnJheVxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4odGhpcy5yZXNvdXJjZXNUb0dhdGhlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMuY2xvbmVzID49IDQgJiYgIXRoaXMucmVzb3VyY2VzVG9HYXRoZXIuaW5jbHVkZXMoJ2NsYXknKSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1RvR2F0aGVyLnB1c2goJ2NsYXknKTsgLy8gUHVzaCAndmluZXMnIG9ubHkgaWYgaXQncyBub3QgYWxyZWFkeSBpbiB0aGUgYXJyYXlcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKHRoaXMucmVzb3VyY2VzVG9HYXRoZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMuc3RpY2tzICs9ICgxICsgLjI1ICogdGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzLmNsb25lcykgLyB0aGlzLnJlc291cmNlc1RvR2F0aGVyLmxlbmd0aDtcclxuICAgICAgICAvLyB0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMudmluZXMgKz0gKDEgKyAuMjUgKiB0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMuY2xvbmVzKSAvIHRoaXMucmVzb3VyY2VzVG9HYXRoZXIubGVuZ3RoO1xyXG4gICAgICAgIC8vIHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlcy5zYW5kICs9ICguMjUgKiB0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMuY2xvbmVzKSAvIHRoaXMucmVzb3VyY2VzVG9HYXRoZXIubGVuZ3RoO1xyXG4gICAgICAgIC8vIHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlcy5jbGF5ICs9ICguMjUgKiB0aGlzLmdhbWVTdGF0ZS5yZXNvdXJjZXMuY2xvbmVzKSAvIHRoaXMucmVzb3VyY2VzVG9HYXRoZXIubGVuZ3RoO1xyXG4gICAgICAgIC8vIHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlcy5yb2NrcyArPSAoMSArIC4yNSAqIHRoaXMuZ2FtZVN0YXRlLnJlc291cmNlcy5jbG9uZXMpIC8gdGhpcy5yZXNvdXJjZXNUb0dhdGhlci5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUucmVzb3VyY2VzLmNsb25lcyA9IHRoaXMuZ2FtZVN0YXRlLmJ1aWxkaW5ncy5zaGVsdGVyICtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUuYnVpbGRpbmdzLmh1dCArXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJ1aWxkaW5ncy5ob3VzZSAqIDIgK1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5idWlsZGluZ3MuaG9zcGl0YWwgKiAzICtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUuYnVpbGRpbmdzLnRlZXBlZSAqIDIgK1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5idWlsZGluZ3MuYmFycmFja3M7XHJcbiAgICAgICAgLy8gLi4uIG90aGVyIHJlc291cmNlIHVwZGF0ZXMgLi4uXHJcbiAgICB9XHJcblxyXG4gICAgbG9nR2FtZVN0YXRlKCkge1xyXG4gICAgICAgIC8vIExvZyBhIGRlZXAgY29weSBvZiB0aGUgY3VycmVudCBzdGF0ZSBmb3IgbGF0ZXIgYW5hbHlzaXNcclxuICAgICAgICBjb25zdCBzdGF0ZUNvcHkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZ2FtZVN0YXRlKSk7XHJcbiAgICAgICAgdGhpcy5sb2cucHVzaCh7IHRpbWU6IHRoaXMuZ2FtZVN0YXRlLnRpbWUsIC4uLnN0YXRlQ29weSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBydW5TaW11bGF0aW9uKGR1cmF0aW9uKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkdXJhdGlvbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltdWxhdGVUaWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub3V0cHV0UmVzdWx0cygpO1xyXG4gICAgfVxyXG5cclxuICAgIG91dHB1dFJlc3VsdHMoKSB7XHJcbiAgICAgICAgLy8gT3V0cHV0IHRoZSByZXN1bHRzIGluIGEgZm9ybWF0IHN1aXRhYmxlIGZvciB2aXN1YWxpemF0aW9uXHJcbiAgICAgICAgLy8gRXhhbXBsZTogY29uc29sZSBsb2dnaW5nLCBmb3IgbW9yZSBhZHZhbmNlZCB1c2UgY2FzZXMsIGNvbnNpZGVyIGdlbmVyYXRpbmcgQ1NWIG9yIEpTT04gZmlsZXNcclxuICAgICAgICAvLyBjb25zb2xlLnRhYmxlKHRoaXMubG9nKTtcclxuICAgICAgICBmdW5jdGlvbiBjb252ZXJ0VG9DU1YoZGF0YSkge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBoZWFkZXIgcm93IHdpdGgga2V5cyBmcm9tIGJ1aWxkaW5ncyBhbmQgcmVzb3VyY2VzXHJcbiAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nc0tleXMgPSBPYmplY3Qua2V5cyhkYXRhWzBdLmJ1aWxkaW5ncyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlc0tleXMgPSBPYmplY3Qua2V5cyhkYXRhWzBdLnJlc291cmNlcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1heGVzS2V5cyA9IE9iamVjdC5rZXlzKGRhdGFbMF0ubWF4ZXMpO1xyXG4gICAgICAgICAgICBjb25zdCBvdGhlcktleXMgPSBPYmplY3Qua2V5cyhkYXRhWzBdKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ2J1aWxkaW5ncycgJiYga2V5ICE9PSAncmVzb3VyY2VzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IFsuLi5vdGhlcktleXMsIC4uLmJ1aWxkaW5nc0tleXMsIC4uLnJlc291cmNlc0tleXNdO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY3N2ID0gW2hlYWRlci5qb2luKCcsJyldO1xyXG5cclxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKChyb3cpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGhlYWRlci5tYXAoKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBrZXkgaXMgaW4gYnVpbGRpbmdzIG9yIHJlc291cmNlcyBhbmQgaGFuZGxlIGFjY29yZGluZ2x5XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdy5idWlsZGluZ3MgJiYgcm93LmJ1aWxkaW5ncy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByb3cuYnVpbGRpbmdzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb3cucmVzb3VyY2VzICYmIHJvdy5yZXNvdXJjZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93LnJlc291cmNlc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByb3dba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNzdi5wdXNoKHZhbHVlcy5qb2luKCcsJykpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjc3Yuam9pbignXFxuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjc3ZEYXRhID0gY29udmVydFRvQ1NWKHRoaXMubG9nKTtcclxuXHJcbiAgICAgICAgLy8gU3RlcCAzOiBDcmVhdGUgYSBkYXRhIFVSSSBmb3IgdGhlIENTViBzdHJpbmdcclxuICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2NzdkRhdGFdLCB7IHR5cGU6ICd0ZXh0L2NzdicgfSk7XHJcbiAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHJcbiAgICAgICAgLy8gU3RlcCA0OiBDcmVhdGUgYSBkb3dubG9hZGFibGUgbGlua1xyXG4gICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgbGluay5ocmVmID0gdXJsO1xyXG4gICAgICAgIGxpbmsuZG93bmxvYWQgPSAnZGF0YS5jc3YnO1xyXG4gICAgICAgIGxpbmsudGV4dENvbnRlbnQgPSAnRG93bmxvYWQgQ1NWJztcclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIHRoZSBsaW5rIHRvIHRoZSBkb2N1bWVudFxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAgICAgY29uc29sZS50YWJsZSh0aGlzLmxvZyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydHMuR2FtZVNpbXVsYXRvciA9IEdhbWVTaW11bGF0b3I7XHJcbi8vIHdpbmRvdy5ydW5TaW11bGF0aW9uID0gc2ltdWxhdG9yLnJ1blNpbXVsYXRpb247XHJcbiIsInZhciBhdGVGaXNoID0gZmFsc2U7XHJcblxyXG5mdW5jdGlvbiBzZXRBdGVGaXNoKGJvb2wpIHtcclxuICAgIGF0ZUZpc2ggPSBib29sO1xyXG4gICAgcmV0dXJuIGF0ZUZpc2g7XHJcbn1cclxuZnVuY3Rpb24gZ2V0QXRlRmlzaCgpIHtcclxuICAgIHJldHVybiBhdGVGaXNoO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGF0ZUZpc2gsXHJcbiAgICBzZXRBdGVGaXNoLFxyXG4gICAgZ2V0QXRlRmlzaFxyXG59OyIsImxldCBtdXNpY1ZvbHVtZSA9IDAuNTtcclxuXHJcblxyXG5mdW5jdGlvbiBzZXRNdXNpY1ZvbHVtZSh2b2wpIHtcclxuICAgIG11c2ljVm9sdW1lID0gdm9sO1xyXG59XHJcbmZ1bmN0aW9uIGdldE11c2ljVm9sdW1lKCkge1xyXG4gICAgcmV0dXJuIG11c2ljVm9sdW1lO1xyXG59XHJcblxyXG5sZXQgc2Z4Vm9sdW1lID0gMC41O1xyXG5cclxuZnVuY3Rpb24gc2V0U2Z4Vm9sdW1lKHZvbCkge1xyXG4gICAgc2Z4Vm9sdW1lID0gdm9sO1xyXG59XHJcbmZ1bmN0aW9uIGdldFNmeFZvbHVtZSgpIHtcclxuICAgIHJldHVybiBzZnhWb2x1bWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBsYXlTb3VuZChmaWxlbmFtZSwgaXNTZngpIHtcclxuICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKGZpbGVuYW1lKTtcclxuICAgIGF1ZGlvLnZvbHVtZSA9IGlzU2Z4ID8gZ2V0U2Z4Vm9sdW1lKCkgOiBnZXRNdXNpY1ZvbHVtZSgpO1xyXG4gICAgYXVkaW8ucGxheSgpO1xyXG5cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzZXRNdXNpY1ZvbHVtZSxcclxuICAgIGdldE11c2ljVm9sdW1lLFxyXG4gICAgc2V0U2Z4Vm9sdW1lLFxyXG4gICAgZ2V0U2Z4Vm9sdW1lLFxyXG4gICAgcGxheVNvdW5kXHJcbn07IiwiY29uc3QgeyBidWlsZGluZ3MsIGlzUG9wQnVpbGRpbmcgfSA9IHJlcXVpcmUoJy4vanNvbi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyBpbmNyZWFzZU1hdGVyaWFsLCBpbmNyZWFzZU1heCwgfSA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgdXBkYXRlVG90YWwgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IGhhc1BlcmsgfSA9IHJlcXVpcmUoJy4vcGVya3MnKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG5jb25zdCB7IHJlY2FsY01heENsb25lcyB9ID0gcmVxdWlyZSgnLi9yZWNhbGNNYXhDbG9uZXMnKTtcclxuXHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCB9ID0gcmVxdWlyZSgnLi91cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50Jyk7XHJcbmNvbnN0IHsgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QgfSA9IHJlcXVpcmUoJy4vcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QnKTtcclxuY29uc3QgeyBjYW5CdXlCdWlsZGluZyB9ID0gcmVxdWlyZSgnLi9jYW5CdXlCdWlsZGluZycpO1xyXG5jb25zdCB7IGlzUG9uZGVyZWQgfSA9IHJlcXVpcmUoJy4vcG9uZGVyJyk7XHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdMaXN0IH0gPSByZXF1aXJlKCcuL3VwZGF0ZUJ1aWxkaW5nTGlzdCcpO1xyXG5jb25zdCB7IGNhcGl0YWxpemVGaXJzdCB9ID0gcmVxdWlyZSgnLi9jYXBpdGFsaXplRmlyc3QnKTtcclxuY29uc3QgeyBwb25kZXJzIH0gPSByZXF1aXJlKCcuL2pzb24vcG9uZGVyJyk7XHJcbmNvbnN0IHsgbG9nRXZlbnQsIGdldEFuYWx5dGljcyB9ID0gcmVxdWlyZSgnQGZpcmViYXNlL2FuYWx5dGljcycpO1xyXG5jb25zdCB7IGdldFBsYXllclVpZCB9ID0gcmVxdWlyZSgnLi9wbGF5ZXJVaWQnKTtcclxuY29uc3QgeyB0cmlnZ2VyRmxvYXRVcFRleHQgfSA9IHJlcXVpcmUoJy4vdHJpZ2dlckZsb2F0VXBUZXh0Jyk7XHJcblxyXG4vKiBCVUlMRElOR1MgKi9cclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZWZmZWN0IG9mIGEgYnVpbGRpbmdcclxuICogQHBhcmFtIHtPYmplY3R9IGJ1aWxkaW5nIFRoZSBidWlsZGluZyBvYmplY3RcclxuICogQHJldHVybnMgVGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZWZmZWN0IG9mIHRoZSBidWlsZGluZ1xyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVFZmZlY3RTdHJpbmcoYnVpbGRpbmcpIHtcclxuICAgIGxldCBlZmZlY3RQYXJ0cyA9IFtdO1xyXG5cclxuICAgIGZvciAobGV0IFtyZXNvdXJjZSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5nLmVmZmVjdHMpKSB7XHJcbiAgICAgICAgZWZmZWN0UGFydHMucHVzaChgKyR7dmFsdWV9IG1heCAke3Jlc291cmNlfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IFtyZXNvdXJjZSwgYm9vc3RdIG9mIE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5nLmJvb3N0KSkge1xyXG4gICAgICAgIGxldCBwZXJjZW50YWdlQm9vc3QgPSBNYXRoLnJvdW5kKChib29zdCAtIDEpICogMTAwKTtcclxuICAgICAgICAvLyBpZiAoaXNQb25kZXJlZCgnZWZmZWN0aXZlQnVpbGRpbmdzJykpIHBlcmNlbnRhZ2VCb29zdCAqPSAxLjAxO1xyXG4gICAgICAgIC8vIEFwcGx5IHBvbmRlciBib251c2VzXHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgW3BvbmRlcklkLCBwb25kZXJdIG9mIE9iamVjdC5lbnRyaWVzKHBvbmRlcnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1BvbmRlcmVkKHBvbmRlcklkKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwb25kZXJJZC5zdGFydHNXaXRoKCdlZmZlY3RpdmVCdWlsZGluZ3MnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VCb29zdCAqPSAxLjAzOyAvLyBBcHBseSB0aGUgYm9udXMgZm9yIHRoaXMgc3BlY2lmaWMgcG9uZGVyXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZWZmZWN0UGFydHMucHVzaChgKyR7cGVyY2VudGFnZUJvb3N0LnRvRml4ZWQoMil9JSAke3Jlc291cmNlfSBwcm9kdWN0aW9uYCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlZmZlY3RQYXJ0cy5qb2luKCc8YnI+Jyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29zdCBvZiB0aGUgYnVpbGRpbmdcclxuICogQHBhcmFtIHtPYmplY3R9IGNvc3QgVGhlIGJ1aWxkaW5nIGNvc3QgY29uZmlndXJhdGlvblxyXG4gKiBAcmV0dXJucyBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29zdCBvZiB0aGUgYnVpbGRpbmcgc2VwYXJhdGVkIGJ5IG5ldyBsaW5lc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVCdWlsZGluZ1Rvb2x0aXBDb3N0KGNvc3QpIHtcclxuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhjb3N0KS5tYXAoKFttYXRlcmlhbCwgYW1vdW50XSkgPT4gYCR7YW1vdW50LnRvRml4ZWQoMil9ICR7bWF0ZXJpYWx9YCkuam9pbignXFxuJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBidXR0b24gZm9yIGEgYnVpbGRpbmdcclxuICogQHBhcmFtIHtzdHJpbmd9IGJ1aWxkaW5nS2V5IFRoZSBuYW1lIG9mIHRoZSBidWlsZGluZ1xyXG4gKiBAcGFyYW0ge09iamVjdH0gYnVpbGRpbmdzIE1haW4gYnVpbGRpbmdzIG9iamVjdFxyXG4gKiBAcmV0dXJucyBUaGUgYnVpbGRpbmcgYnV0dG9uXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVCdWlsZGluZ0J1dHRvbihidWlsZGluZ0tleSwgYnVpbGRpbmdzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nS2V5XTtcclxuXHJcbiAgICAgICAgLy8gRGVlcCBjb3B5IGJhc2Vjb3N0IHRvIGNyZWF0ZSBjb3N0XHJcbiAgICAgICAgYnVpbGRpbmdbJ2Nvc3QnXSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYnVpbGRpbmcuYmFzZWNvc3QpKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29zdHMgPSBPYmplY3QuZW50cmllcyhidWlsZGluZy5jb3N0KVxyXG4gICAgICAgICAgICAubWFwKChbbWF0ZXJpYWwsIGFtb3VudF0pID0+IGAke21hdGVyaWFsfTogJHthbW91bnR9YClcclxuICAgICAgICAgICAgLmpvaW4oJywgJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlcXVpcmVtZW50RnVuY3Rpb24gPSBjcmVhdGVSZXF1aXJlbWVudEZ1bmN0aW9uKGJ1aWxkaW5nLmNvc3QpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjcmVhdGUgYnVpbGRpbmcgYnV0dG9uOicsIGJ1aWxkaW5nLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGJ1aWxkaW5nLmVtb2ppKSkpO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogJ3Rvb2x0aXAgJyArIGJ1aWxkaW5nS2V5LFxyXG4gICAgICAgICAgICAndGFiJzogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgICAgICAndGV4dCc6IGAke0pTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYnVpbGRpbmcuZW1vamkpKX0gJHtjYXBpdGFsaXplRmlyc3QoYnVpbGRpbmdLZXkpfSAoJHtidWlsZGluZy5jb3VudH0pYCxcclxuICAgICAgICAgICAgJ3Rvb2x0aXBEZXNjJzogYnVpbGRpbmdzW2J1aWxkaW5nS2V5XS50b29sdGlwRGVzYyB8fCBcIkEgbXlzdGVyaW91cyBidWlsZGluZyB3aXRoIHVudG9sZCBiZW5lZml0cy5cIixcclxuICAgICAgICAgICAgJ3Rvb2x0aXBDb3N0JzogY29zdHMsXHJcbiAgICAgICAgICAgICdyZXF1aXJlbWVudCc6ICgpID0+IHJlcXVpcmVtZW50RnVuY3Rpb24oKSxcclxuICAgICAgICAgICAgJ2RhdGFfYnVpbGRpbmcnOiBidWlsZGluZ0tleSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gYnV0dG9uO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgY3JlYXRlIGJ1aWxkaW5nIGJ1dHRvbiBmb3InLCBidWlsZGluZ0tleSwgYnVpbGRpbmdzKTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiBhIGJ1aWxkaW5nIHNob3VsZCBiZSB2aXNpYmxlXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb3N0cyBUaGUgY29zdHMgb2YgdGhlIGJ1aWxkaW5nXHJcbiAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgYSBidWlsZGluZyBzaG91bGQgYmUgdmlzaWJsZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUmVxdWlyZW1lbnRGdW5jdGlvbihjb3N0cykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBjb3N0Q29uZGl0aW9uID0gT2JqZWN0LmVudHJpZXMoY29zdHMpXHJcbiAgICAgICAgICAgIC5ldmVyeSgoW21hdGVyaWFsLCBhbW91bnRdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNFbm91Z2hSZXNvdXJjZSA9IGdldE1hdGVyaWFsKG1hdGVyaWFsKSA+PSBNYXRoLmZsb29yKGFtb3VudCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYENoZWNraW5nICR7bWF0ZXJpYWx9OiBOZWVkICR7TWF0aC5mbG9vcihhbW91bnQgLyAyKX0sIEhhdmUgJHtnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKX0sIFJlc3VsdDogJHtoYXNFbm91Z2hSZXNvdXJjZX1gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNFbm91Z2hSZXNvdXJjZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwYXNzZWRTdGFnZSgnY2xvbmVzJykgJiYgY29zdENvbmRpdGlvbjtcclxuICAgIH07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQnV5cyBhIGJ1aWxkaW5nIGlmIHBvc3NpYmxlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBidWlsZGluZ05hbWUgVGhlIG5hbWUgb2YgdGhlIGJ1aWxkaW5nXHJcbiAqIEByZXR1cm5zIFxyXG4gKi9cclxuZnVuY3Rpb24gYnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkJ1eWluZyBidWlsZGluZyBcIiArIGJ1aWxkaW5nTmFtZSk7XHJcbiAgICBjb25zdCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ05hbWVdO1xyXG5cclxuXHJcblxyXG4gICAgaWYgKCFjYW5CdXlCdWlsZGluZyhidWlsZGluZ05hbWUpKSByZXR1cm47XHJcblxyXG4gICAgLy8gQWN0dWFsbHkgYnVpbGQgdGhlIGJ1aWxkaW5nXHJcbiAgICBidWlsZGluZy5jb3VudCsrO1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IHRoZSBjb3N0XHJcbiAgICBmb3IgKGNvbnN0IHJlc291cmNlIGluIGJ1aWxkaW5nLmNvc3QpIHtcclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKHJlc291cmNlLCAtYnVpbGRpbmcuY29zdFtyZXNvdXJjZV0pO1xyXG4gICAgfVxyXG4gICAgLy8gQWRkIHRoZSBlZmZlY3RzXHJcbiAgICBmb3IgKGNvbnN0IFtyZXNvdXJjZSwgYW1vdW50XSBvZiBPYmplY3QuZW50cmllcyhidWlsZGluZy5lZmZlY3RzKSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdib3VnaHQgYnVpbGRpbmcgZWZmZWN0cycsIHJlc291cmNlLCBhbW91bnQpO1xyXG4gICAgICAgIGluY3JlYXNlTWF4KHJlc291cmNlLCBhbW91bnQpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBtYXggY2xvbmVzIGFmdGVyIHVwZGF0aW5nIHRoZSBjb3VudFxyXG4gICAgICAgIGlmIChyZXNvdXJjZSA9PT0gJ2Nsb25lcycpIHtcclxuICAgICAgICAgICAgcmVjYWxjTWF4Q2xvbmVzKCk7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhidWlsZGluZy5ib29zdCkpIHtcclxuICAgICAgICAvLyBHZXQgdGhlIHJhdGUgb2YgY2hhbmdlIGZvciB0aGlzIHJlc291cmNlXHJcbiAgICAgICAgY29uc3QgcmF0ZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtrZXl9SW5jcmVhc2VSYXRlYCk7XHJcbiAgICAgICAgaWYgKCFyYXRlRWxlbWVudCkgY29udGludWU7XHJcbiAgICAgICAgY29uc3QgcmVjdCA9IHJhdGVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHRyaWdnZXJGbG9hdFVwVGV4dChyZWN0LnJpZ2h0LCByZWN0LmJvdHRvbSwgYCtzcGVlZGAsICdhcXVhJyk7XHJcbiAgICB9XHJcbiAgICAvLyBVcGRhdGUgYnV0dG9uIHRleHRcclxuICAgIHVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQoYnVpbGRpbmdOYW1lLCBidWlsZGluZy5jb3VudCwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShidWlsZGluZy5lbW9qaSkpKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIGNvc3Qgb2YgdGhlIGJ1aWxkaW5nXHJcbiAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChidWlsZGluZ05hbWUpO1xyXG5cclxuXHJcbiAgICAvLyBhZGRUb0J1aWxkaW5nTGlzdChidWlsZGluZ05hbWUsIGJ1aWxkaW5nLmVtb2ppKTtcclxuICAgIHVwZGF0ZUJ1aWxkaW5nTGlzdCgpO1xyXG5cclxuICAgIGxvZ0V2ZW50KGdldEFuYWx5dGljcygpLCAnYnVpbGRpbmdfcHVyY2hhc2UnLCB7XHJcbiAgICAgICAgYnVpbGRpbmdfbmFtZTogYnVpbGRpbmdOYW1lLFxyXG4gICAgICAgIHVzZXJfaWQ6IGdldFBsYXllclVpZCgpIC8vIFJlcGxhY2Ugd2l0aCB0aGUgdXNlcidzIElEIG9yIGEgdW5pcXVlIGlkZW50aWZpZXJcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogQnV5cyB0aGUgbWF4aW11bSBudW1iZXIgb2YgYnVpbGRpbmdzIHRoYXQgY2FuIGJlIHB1cmNoYXNlZFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVpbGRpbmdOYW1lIFRoZSBuYW1lIG9mIHRoZSBidWlsZGluZ1xyXG4gKiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIGJ1aWxkaW5ncyB0aGF0IHdlcmUgcHVyY2hhc2VkXHJcbiAqL1xyXG5mdW5jdGlvbiBidXlNYXhCdWlsZGluZ3MoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICBsZXQgYnVpbGRpbmcgPSBidWlsZGluZ3NbYnVpbGRpbmdOYW1lXTtcclxuICAgIC8vIFRPRE8gdXBkYXRlIHdpdGggY29vbCBmb3JtdWxhXHJcbiAgICAvLyBNYXRoLmZsb29yKE1hdGgubG9nKChjdXJyZW5jeSAqIChidWlsZGluZy5yYXRpbyAtIDEpKSAvIChidWlsZGluZy5iYXNlY29zdCAqIE1hdGgucG93KGJ1aWxkaW5nLnJhdGlvLCBidWlsZGluZy5jb3VudCkpKSAvIE1hdGgubG9nKGJ1aWxkaW5nLnJhdGlvKSk7XHJcbiAgICB3aGlsZSAoY2FuQnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKSkge1xyXG4gICAgICAgIGJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSk7XHJcbiAgICAgICAgKytpO1xyXG4gICAgfVxyXG4gICAgbG9nRXZlbnQoZ2V0QW5hbHl0aWNzKCksICdidWlsZGluZ19wdXJjaGFzZV9tYXgnLCB7XHJcbiAgICAgICAgYnVpbGRpbmdfbmFtZTogYnVpbGRpbmdOYW1lLFxyXG4gICAgICAgIHVzZXJfaWQ6IGdldFBsYXllclVpZCgpLFxyXG4gICAgICAgIGNvdW50OiBpXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpO1xyXG59XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBnZW5lcmF0ZUJ1aWxkaW5nVG9vbHRpcENvc3QsXHJcbiAgICBjcmVhdGVCdWlsZGluZ0J1dHRvbixcclxuICAgIGJ1eU1heEJ1aWxkaW5ncyxcclxuICAgIGJ1eUJ1aWxkaW5nLFxyXG4gICAgZ2VuZXJhdGVFZmZlY3RTdHJpbmcsXHJcbiAgICB1cGRhdGVCdWlsZGluZ0xpc3RcclxufTsiLCJjb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZShcIi4vanNvbi9yZXNvdXJjZXNcIik7XHJcbmNvbnN0IHsgY3JhZnRlZFJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuXHJcbmNvbnN0IHsgc2tpbGxzIH0gPSByZXF1aXJlKCcuL2pzb24vc2tpbGxzJyk7XHJcbmNvbnN0IHsgZ2V0V29ya2VycyB9ID0gcmVxdWlyZSgnLi9qb2JzJyk7XHJcbmNvbnN0IHsgaGFzUGVyayB9ID0gcmVxdWlyZSgnLi9wZXJrcycpO1xyXG5jb25zdCB7IGlzUG9uZGVyZWQgfSA9IHJlcXVpcmUoJy4vcG9uZGVyJyk7XHJcbmNvbnN0IHsgZ2V0RmFjdG9yeVByb2R1Y3Rpb24gfSA9IHJlcXVpcmUoXCIuL2ZhY3RvcnlcIik7XHJcbmNvbnN0IHsgaGFzUHJlc3RpZ2UsIGdldExldmVsT2ZQcmVzdGlnZSB9ID0gcmVxdWlyZShcIi4vanNvbi9wcmVzdGlnZVwiKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZShcIi4vZ2V0TWF0ZXJpYWxcIik7XHJcbmNvbnN0IHsgaGFzVG9vbCB9ID0gcmVxdWlyZShcIi4vdG9vbHNcIik7XHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZShcIi4vanNvbi9wb25kZXJcIik7XHJcblxyXG4vLyBDbG9uZXMgd29yayBhdCAxLzQgdGhlIHNwZWVkIGJ5IGRlZmF1bHRcclxudmFyIGNsb25lTXVsdCA9IDAuMjU7XHJcblxyXG4vLyBQZXJrc1xyXG5cclxuY29uc3QgcGVya0Jvb3N0cyA9IHtcclxuICAgICdMdW1iZXJqYWNrJzogWyd3b29kJywgJ3N0aWNrcyddLFxyXG4gICAgJ01pbmVyJzogWydyb2NrcycsICdvcmUnXSxcclxuICAgICdCb3RhbmlzdCc6IFsndmluZXMnLCAnaGVyYnMnLCAnd2hlYXQnXSxcclxuICAgIC8vIEFkZCBvdGhlciBwZXJrcyBhcyBuZWVkZWRcclxufTtcclxuXHJcblxyXG5mdW5jdGlvbiBhcHBseVBlcmtCb29zdCh0b3RhbCwgcmVzb3VyY2VOYW1lKSB7XHJcbiAgICBmb3IgKGNvbnN0IFtwZXJrLCByZXNvdXJjZXNdIG9mIE9iamVjdC5lbnRyaWVzKHBlcmtCb29zdHMpKSB7XHJcbiAgICAgICAgaWYgKHJlc291cmNlcy5pbmNsdWRlcyhyZXNvdXJjZU5hbWUpICYmIGhhc1BlcmsocGVyaykpIHtcclxuICAgICAgICAgICAgdG90YWwgKj0gMS43NTsgLy8gNzUlIGJvbnVzIHRvIHNwZWNpZmljXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvdGFsO1xyXG59XHJcblxyXG4vLyBTa2lsbHNcclxuXHJcbmNvbnN0IHNraWxsQm9vc3RzID0ge1xyXG4gICAgJ2dhdGhlcmluZyc6IFsnZ2F0aGVyaW5nQm9vc3QnXSxcclxuICAgICdtYXNvbnJ5JzogWydtYXNvbnJ5Qm9vc3QnXSxcclxuICAgICdjYXJwZW50cnknOiBbJ2NhcnBlbnRyeUJvb3N0J10sXHJcbiAgICAndGhpbmtpbmcnOiBbJ3RoaW5raW5nQm9vc3QnXSxcclxuICAgICdmYXJtaW5nJzogWydmYXJtaW5nQm9vc3QnXSxcclxuICAgICdmaXNoaW5nJzogWydmaXNoaW5nQm9vc3QnXSxcclxuICAgICdodW50aW5nJzogWydodW50aW5nQm9vc3QnXSxcclxufTtcclxuXHJcbmZ1bmN0aW9uIGFwcGx5U2tpbGxCb29zdCh0b3RhbCwgcmVzb3VyY2VOYW1lKSB7XHJcbiAgICBmb3IgKGNvbnN0IFtza2lsbCwgYm9vc3RzXSBvZiBPYmplY3QuZW50cmllcyhza2lsbEJvb3N0cykpIHtcclxuICAgICAgICBpZiAoc2tpbGxzW3NraWxsXS5hZmZlY3RlZFJlc291cmNlcy5pbmNsdWRlcyhyZXNvdXJjZU5hbWUpKSB7XHJcbiAgICAgICAgICAgIGJvb3N0cy5mb3JFYWNoKGJvb3N0ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNQcmVzdGlnZShib29zdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbCAqPSAxLjEgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoYm9vc3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGV0IHNraWxsUmF0aW8gPSAxLjA2O1xyXG4gICAgICAgICAgICBsZXQgbXVsdCA9IDEgKyAoTWF0aC5wb3coc2tpbGxSYXRpbywgc2tpbGxzW3NraWxsXS5sZXZlbCkgLSAxKSAvIDEwMDtcclxuICAgICAgICAgICAgdG90YWwgKj0gbXVsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZygnc2tpbGxzJywgcmVzb3VyY2VOYW1lLCB0b3RhbCk7XHJcbiAgICByZXR1cm4gdG90YWw7XHJcbn1cclxuXHJcbi8vIFRvb2xzXHJcblxyXG5jb25zdCByZXNvdXJjZVRvb2xNYXAgPSB7XHJcbiAgICAnd29vZCc6ICdheGUnLFxyXG4gICAgJ29yZSc6ICdwaWNrYXhlJyxcclxuICAgICdmaXNoJzogJ2Zpc2hpbmdyb2QnLFxyXG4gICAgJ2dhbWUnOiAnc3BlYXInLFxyXG4gICAgJ3BvbmRlcic6ICdwYXBlcicsXHJcbiAgICAnc3RpY2tzJzogJ3N0YWZmJyxcclxuICAgIC8vIEFkZCBtb3JlIG1hcHBpbmdzIGFzIG5lZWRlZFxyXG59O1xyXG5cclxuZnVuY3Rpb24gYXBwbHlUb29sQm9vc3QodG90YWwsIHJlc291cmNlTmFtZSkge1xyXG4gICAgY29uc3QgdG9vbE5hbWUgPSByZXNvdXJjZVRvb2xNYXBbcmVzb3VyY2VOYW1lXTtcclxuICAgIGlmICh0b29sTmFtZSAmJiBnZXRNYXRlcmlhbCh0b29sTmFtZSkgPiAxMCkge1xyXG4gICAgICAgIHRvdGFsICo9IDEgKyBNYXRoLmxvZzEwKGdldE1hdGVyaWFsKHRvb2xOYW1lKSAvIDEwKTtcclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKHJlc291cmNlTmFtZSwgdG9vbE5hbWUsIHRvdGFsKTtcclxuICAgIHJldHVybiB0b3RhbDtcclxufVxyXG5cclxuLy8gQXBwbHkgcG9uZGVyIGJvbnVzZXNcclxuZnVuY3Rpb24gYXBwbHlQb25kZXJCb251c2VzKHRvdGFsLCByZXNvdXJjZU5hbWUpIHtcclxuICAgIGZvciAoY29uc3QgW3BvbmRlcklkLCBwb25kZXJdIG9mIE9iamVjdC5lbnRyaWVzKHBvbmRlcnMpKSB7XHJcbiAgICAgICAgaWYgKGlzUG9uZGVyZWQocG9uZGVySWQpKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAocG9uZGVySWQuc3RhcnRzV2l0aCgnZmFzdGVyUmVzb3VyY2VHYWluJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdGYXN0ZXIgUmVzb3VyY2UnLCBwb25kZXJJZCk7XHJcbiAgICAgICAgICAgICAgICB0b3RhbCAqPSAxLjA1OyAvLyBBcHBseSB0aGUgYm9udXMgZm9yIHRoaXMgc3BlY2lmaWMgcG9uZGVyXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwb25kZXJJZC5zdGFydHNXaXRoKCdmYXN0ZXJQb25kZXInKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlTmFtZSA9PT0gJ3BvbmRlcicpIHRvdGFsICo9IDEuMDU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG90YWw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgdGhlIGFtb3VudCBhIHJlc291cmNlIHNob3VsZCBpbmNyZWFzZSBieSBpbiBhIGdpdmVuIHRpbWUgcGVyaW9kXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvdXJjZU5hbWUgVGhlIHJlc291cmNlIHRvIGNhbGN1bGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGFfdGltZSBIb3cgbXVjaCB0aW1lIGhhcyBlbGFwc2VkXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBhbW91bnQgdGhhdCByZXNvdXJjZSBzaG91bGQgaW5jcmVhc2UgYnlcclxuKi9cclxuZnVuY3Rpb24gY2FsY0luY3JlYXNlKHJlc291cmNlTmFtZSwgZGVsdGFfdGltZSkge1xyXG4gICAgdmFyIHRvdGFsID0gMDtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYWxjSW5jcmVhc2UnLCByZXNvdXJjZU5hbWUsIGRlbHRhX3RpbWUpO1xyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ2VhdEJyZWFkJykgJiYgZ2V0TWF0ZXJpYWwoJ2JyZWFkJykgPiAwICYmIHJlc291cmNlTmFtZSA9PT0gJ2JyZWFkJykgcmV0dXJuIHBhcnNlRmxvYXQoKC0xICogZGVsdGFfdGltZSAvIDEwMDApLnRvRml4ZWQoMykpO1xyXG5cclxuICAgIC8vIGlmIChyZXNvdXJjZU5hbWUgPT09ICdicmVhZCcgJiYgaXNQb25kZXJlZCgnZWF0QnJlYWQnKSkgcmV0dXJuIHBhcnNlRmxvYXQoKC0xICogZGVsdGFfdGltZSAvIDEwMDApLnRvRml4ZWQoMykpO1xyXG5cclxuICAgIGNvbnN0IGJ1aWxkaW5ncyA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpLmJ1aWxkaW5ncztcclxuXHJcbiAgICBpZiAocmVzb3VyY2VOYW1lID09PSAnY2xvbmVzJyAmJiBpc1BvbmRlcmVkKCdhdXRvQ2xvbmUnKSkgdG90YWwgPSAxO1xyXG5cclxuICAgIC8vIEdhdGhlcmluZyBwZXJzb25hbGx5XHJcbiAgICBpZiAocmVzb3VyY2VzW3Jlc291cmNlTmFtZV0gJiYgcmVzb3VyY2VzW3Jlc291cmNlTmFtZV0uaXNHZXR0aW5nKSB7XHJcbiAgICAgICAgdG90YWwgKz0gMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBqb2JzXHJcbiAgICBsZXQgbGVhZGVyTXVsdCA9IGhhc1BlcmsoJ0xlYWRlcicpID8gY2xvbmVNdWx0ICogMS41IDogY2xvbmVNdWx0O1xyXG4gICAgdG90YWwgKz0gbGVhZGVyTXVsdCAqIGdldFdvcmtlcnMocmVzb3VyY2VOYW1lKSB8fCAwO1xyXG4gICAgaWYgKGhhc1ByZXN0aWdlKCdjbG9uZUJvb3N0JykpIHRvdGFsICo9IDEuMDUgKiBnZXRXb3JrZXJzKHJlc291cmNlTmFtZSkgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ2Nsb25lQm9vc3QnKTtcclxuXHJcblxyXG4gICAgLy8gQXBwbHkgcGVya3MgcHJvZHVjdGlvbiBib29zdFxyXG4gICAgdG90YWwgPSBhcHBseVBlcmtCb29zdCh0b3RhbCwgcmVzb3VyY2VOYW1lKTtcclxuICAgIC8vIEFwcGx5IHNraWxscyB0byBhbGwgY2xvbmVzXHJcbiAgICB0b3RhbCA9IGFwcGx5U2tpbGxCb29zdCh0b3RhbCwgcmVzb3VyY2VOYW1lKTtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhnZXRCb29zdCgnY2FtcGZpJykpXHJcbiAgICAvLyBBbGwgYnVpbGRpbmdzIGFmdGVyIGxldmVsXHJcbiAgICBmb3IgKGNvbnN0IGJ1aWxkaW5nIG9mIE9iamVjdC5rZXlzKGJ1aWxkaW5ncykpIHtcclxuICAgICAgICBjb25zdCBib29zdERhdGEgPSByZXF1aXJlKFwiLi9qc29uL2J1aWxkaW5nc1wiKS5nZXRCb29zdChidWlsZGluZywgcmVzb3VyY2VOYW1lKTtcclxuICAgICAgICBpZiAoYm9vc3REYXRhKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5jcmVhc2UgPSBNYXRoLnBvdyhib29zdERhdGEsIGJ1aWxkaW5nc1tidWlsZGluZ10uY291bnQpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtwb25kZXJJZCwgcG9uZGVyXSBvZiBPYmplY3QuZW50cmllcyhwb25kZXJzKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQocG9uZGVySWQpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb25kZXJJZC5zdGFydHNXaXRoKCdlZmZlY3RpdmVCdWlsZGluZ3MnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNyZWFzZSAqPSAxLjAzOyAvLyBBcHBseSB0aGUgYm9udXMgZm9yIHRoaXMgc3BlY2lmaWMgcG9uZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0b3RhbCAqPSBpbmNyZWFzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdidWlsZGluZyBib29zdHMnLCByZXNvdXJjZU5hbWUsIHRvdGFsKTtcclxuICAgIGlmIChpc1BvbmRlcmVkKCdlYXRCcmVhZCcpICYmIGdldE1hdGVyaWFsKCdicmVhZCcpID4gMCAmJiByZXNvdXJjZU5hbWUgIT09ICdicmVhZCcpIHRvdGFsICo9IDEuMTtcclxuICAgIC8vIFVzYWdlOiBBcHBseSBwb25kZXJzIHRvIHRoZSAndG90YWwnIHZhbHVlXHJcbiAgICB0b3RhbCA9IGFwcGx5UG9uZGVyQm9udXNlcyh0b3RhbCwgcmVzb3VyY2VOYW1lKTtcclxuICAgIC8vIGlmIChpc1BvbmRlcmVkKCdmYXN0ZXJSZXNvdXJjZUdhaW4nKSkgdG90YWwgKj0gMS4wNTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdwb25kZXIgYm9vc3RzJywgcmVzb3VyY2VOYW1lLCB0b3RhbCk7XHJcblxyXG5cclxuICAgIC8vIENoZWNrIHRvb2xzXHJcbiAgICB0b3RhbCA9IGFwcGx5VG9vbEJvb3N0KHRvdGFsLCByZXNvdXJjZU5hbWUpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ3Rvb2wgYm9vc3RzJywgcmVzb3VyY2VOYW1lLCB0b3RhbCk7XHJcbiAgICAvLyBOZWVkIGF0IGxlYXN0IDEwIGh1c2tzIHRvIGJvb3N0IG1hdGhlbWF0aWNhbGx5IChsbigxKSA9IDApXHJcbiAgICBpZiAoZ2V0TWF0ZXJpYWwoJ2h1c2tzJykgPiAxMCkgdG90YWwgKj0gMSArIE1hdGgubG9nKGdldE1hdGVyaWFsKCdodXNrcycpIC8gMTApO1xyXG5cclxuICAgIC8vIERpbWluaXNoaW5nIHJldHVybnNcclxuICAgIHRvdGFsID0gTWF0aC5zcXJ0KHRvdGFsKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdzcXJ0JywgcmVzb3VyY2VOYW1lLCB0b3RhbCk7XHJcbiAgICAvLyBDb252ZXJ0IGZyb20gc2Vjb25kcyB0byBtaWxsaXNlY29uZHNcclxuICAgIHJldHVybiBwYXJzZUZsb2F0KCh0b3RhbCAqIGRlbHRhX3RpbWUgLyAxMDAwKS50b0ZpeGVkKDMpKTtcclxufVxyXG5leHBvcnRzLmNhbGNJbmNyZWFzZSA9IGNhbGNJbmNyZWFzZTsiLCJjb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgcGFzc2VkU3RhZ2UgfSA9IHJlcXVpcmUoJy4vc3RhZ2VzJyk7XHJcblxyXG4vKipcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IGJ1aWxkaW5nTmFtZVxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZnVuY3Rpb24gY2FuQnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGVub3VnaCByZXNvdXJjZXNcclxuICAgIGxldCBjYW5CdXkgPSB0cnVlO1xyXG4gICAgY29uc3QgYnVpbGRpbmdzID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpLmJ1aWxkaW5ncztcclxuICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV07XHJcblxyXG4gICAgZm9yIChjb25zdCByZXNvdXJjZSBpbiBidWlsZGluZy5jb3N0KSB7XHJcbiAgICAgICAgaWYgKGJ1aWxkaW5nLmNvc3RbcmVzb3VyY2VdID4gZ2V0TWF0ZXJpYWwocmVzb3VyY2UsIHJlc291cmNlcykpIHtcclxuICAgICAgICAgICAgY2FuQnV5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDYW4ndCBidXkgY2xvbmluZyBidWlsZGluZ3MgYmVmb3JlIGNsb25lcyB1bmxvY2tlZFxyXG4gICAgaWYgKGJ1aWxkaW5nLmVmZmVjdHMgJiYgYnVpbGRpbmcuZWZmZWN0c1snY2xvbmVzJ10gJiYgIXBhc3NlZFN0YWdlKCdjbG9uZScpKSBjYW5CdXkgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnY2FuIHdlIGJ1eSAnLGJ1aWxkaW5nTmFtZSxjYW5CdXkpO1xyXG4gICAgcmV0dXJuIGNhbkJ1eTtcclxufVxyXG5leHBvcnRzLmNhbkJ1eUJ1aWxkaW5nID0gY2FuQnV5QnVpbGRpbmc7IiwiY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXNcIik7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbi8qKlxyXG4gKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgZ2l2ZW4gcmVzb3VyY2UgY2FuIGJlIGNyYWZ0ZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvdXJjZUtleSBUaGUga2V5IG9mIHRoZSByZXNvdXJjZSB0byBjaGVjay5cclxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcmVzb3VyY2UgY2FuIGJlIGNyYWZ0ZWQsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcbmZ1bmN0aW9uIGNhbkNyYWZ0KHJlc291cmNlS2V5KSB7XHJcbiAgICBsZXQgcmVxdWlyZW1lbnRzID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY29zdDtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBhbGwgcmVxdWlyZW1lbnRzIGFyZSBtZXRcclxuICAgIC8vIHRyeSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZUtleSwgcmVxdWlyZW1lbnRzKTtcclxuICAgIGZvciAoY29uc3QgW21hdCwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhyZXF1aXJlbWVudHMpKVxyXG4gICAgICAgIGlmIChnZXRNYXRlcmlhbChtYXQpIDwgdmFsKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAvLyB9IGNhdGNoIChlcnIpIHtcclxuICAgIC8vIGNvbnNvbGUud2FybignRXJyb3IgaW4gY2FsY3VsYXRpbmcgcmVxdWlyZW1lbnRzOiAnLCByZXNvdXJjZUtleSwgcmVxdWlyZW1lbnRzLCBlcnIpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmV4cG9ydHMuY2FuQ3JhZnQgPSBjYW5DcmFmdDsiLCIvKipcclxuICogQ2FwaXRhbGl6ZXMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBhIHN0cmluZ1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIHN0cmluZ0V4YW1wbGVcclxuICogQHJldHVybnMgU3RyaW5nRXhhbXBsZVxyXG4gKi9cclxuZnVuY3Rpb24gY2FwaXRhbGl6ZUZpcnN0KHN0cikge1xyXG4gICAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcclxufVxyXG5leHBvcnRzLmNhcGl0YWxpemVGaXJzdCA9IGNhcGl0YWxpemVGaXJzdDsiLCIvLyBFeGFtcGxlIHVzYWdlXHJcbi8vIG5hdmlnYXRlVG8oJ25leHQtcGFnZS5odG1sJyk7XHJcbi8vIE1lc3NhZ2UgXHJcbmNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UnKTtcclxuZXhwb3J0cy5tZXNzYWdlRWxlbWVudCA9IG1lc3NhZ2VFbGVtZW50O1xyXG5mdW5jdGlvbiBjaGFuZ2VNZXNzYWdlKG5ld01lc3NhZ2UsIGNsb25lV29yZHMsIHRvb2x0aXAgPSAnWW91IGZlZWwgcGVja2lzaCBmb3Igc29tZSBzZWFmb29kJykge1xyXG4gICAgLy8gY29uc29sZS5sb2cobmV3TWVzc2FnZSwgY2xvbmVXb3JkcywgdG9vbHRpcCk7XHJcbiAgICBpZiAodG9vbHRpcCA9PT0gbnVsbCkgdG9vbHRpcCA9ICdZb3UgZmVlbCBwZWNraXNoIGZvciBzb21lIHNlYWZvb2QnO1xyXG4gICAgY29uc3QgbW9kaWZpZWRNZXNzYWdlID0gbmV3TWVzc2FnZS5yZXBsYWNlKGNsb25lV29yZHMsIGA8c3BhbiBjbGFzcz0ndG9vbHRpcCcgaWQ9XCJhbG9uZVwiIHRvb2x0aXBEZXNjPVwiJHt0b29sdGlwfVwiIHRvb2x0aXBjb3N0PVwiQ2xpY2sgdG8gY2xvbmUgeW91cnNlbGYuXCI+JHtjbG9uZVdvcmRzfTwvc3Bhbj5gKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIG1lc3NhZ2VFbGVtZW50LmlubmVySFRNTCA9IG1vZGlmaWVkTWVzc2FnZTtcclxufVxyXG5leHBvcnRzLmNoYW5nZU1lc3NhZ2UgPSBjaGFuZ2VNZXNzYWdlOyIsImNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoXCIuL2dldE1hdGVyaWFsXCIpO1xyXG5jb25zdCB7IGluY3JlYXNlTWF0ZXJpYWwgfSA9IHJlcXVpcmUoXCIuL3Jlc291cmNlc1wiKTtcclxuXHJcblxyXG5jb25zdCBsb290VGFibGUgPSB7XHJcbiAgICBodXNrczogeyBwcm9iYWJpbGl0eTogMC4wNSwgcXVhbnRpdHk6IDEgfSxcclxuXHJcbiAgICBuYWlsczogeyBwcm9iYWJpbGl0eTogMC4xMCwgcXVhbnRpdHk6IDUwIH0sXHJcbiAgICBzbGFiczogeyBwcm9iYWJpbGl0eTogMC4yMCwgcXVhbnRpdHk6IDUwIH0sXHJcbiAgICBiZWFtczogeyBwcm9iYWJpbGl0eTogMC4xMCwgcXVhbnRpdHk6IDYwIH0sXHJcblxyXG4gICAgYXhlOiB7IHByb2JhYmlsaXR5OiAwLjE1LCBxdWFudGl0eTogNSB9LFxyXG4gICAgc3BlYXI6IHsgcHJvYmFiaWxpdHk6IDEsIHF1YW50aXR5OiA1IH0sXHJcblxyXG4gICAgZ29sZDogeyBwcm9iYWJpbGl0eTogLjEsIHF1YW50aXR5OiAxMCB9LFxyXG4gICAgaXJvbjogeyBwcm9iYWJpbGl0eTogMC4xNSwgcXVhbnRpdHk6IDUwIH0sXHJcbiAgICBzaWx2ZXI6IHsgcHJvYmFiaWxpdHk6IDAuMDUsIHF1YW50aXR5OiAyMCB9LFxyXG4gICAgc3RlZWw6IHsgcHJvYmFiaWxpdHk6IDAuMTAsIHF1YW50aXR5OiAzMCB9LFxyXG5cclxuICAgIGJyaWNrczogeyBwcm9iYWJpbGl0eTogMC4xNSwgcXVhbnRpdHk6IDgwIH0sXHJcblxyXG59O1xyXG5cclxubGV0IGN1cnJMb290ID0ge307XHJcblxyXG5mdW5jdGlvbiBnZXRDdXJyTG9vdCgpIHtcclxuICAgIHJldHVybiBjdXJyTG9vdDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVMb290KCkge1xyXG4gICAgbGV0IGxvb3QgPSB7fTtcclxuICAgIGZvciAoY29uc3QgcmVzb3VyY2UgaW4gbG9vdFRhYmxlKSB7XHJcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCBsb290VGFibGVbcmVzb3VyY2VdLnByb2JhYmlsaXR5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHF1YW50aXR5ID0gTWF0aC5mbG9vcihsb290VGFibGVbcmVzb3VyY2VdLnF1YW50aXR5ICogKE1hdGgucmFuZG9tKCkgKiAuNCArIC44KSk7IC8vIEdldCBsb290IDgwJSAtIDEyMCVcclxuICAgICAgICAgICAgaWYgKHF1YW50aXR5ID4gMCkgbG9vdFtyZXNvdXJjZV0gPSBxdWFudGl0eTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjdXJyTG9vdCA9IGxvb3Q7XHJcbiAgICBjb25zb2xlLmxvZyhjdXJyTG9vdCk7XHJcbiAgICByZXR1cm4gbG9vdDtcclxufVxyXG5cclxuXHJcblxyXG4vLyBzY3JpcHQuanNcclxuY29uc3QgYXJlbmEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXJlbmEnKTtcclxuZnVuY3Rpb24gY3JlYXRlQmFsbHModGVhbSwgY291bnQpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGJhbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBiYWxsLmNsYXNzTmFtZSA9IGBiYWxsICR7dGVhbX1gO1xyXG4gICAgICAgIGJhbGwuc3R5bGUubGVmdCA9IGAke3RlYW0gPT09ICdwbGF5ZXInID8gMTAgOiA5MH0lYDsgLy8gU3RhcnRpbmcgcG9zaXRpb25zXHJcbiAgICAgICAgYmFsbC5zdHlsZS50b3AgPSBgJHsxMCArIGkgKiAzMH1weGA7XHJcbiAgICAgICAgYXJlbmEuYXBwZW5kQ2hpbGQoYmFsbCk7XHJcbiAgICAgICAgaWYgKHRlYW0gPT09ICdwbGF5ZXInKSBwbGF5ZXJUcm9vcHMucHVzaChiYWxsKTtcclxuICAgICAgICBlbHNlIGVuZW15VHJvb3BzLnB1c2goYmFsbCk7XHJcbiAgICB9XHJcbn1cclxubGV0IHBsYXllclRyb29wcyA9IFtdO1xyXG5sZXQgZW5lbXlUcm9vcHMgPSBbXTtcclxubGV0IGFuaW1hdGlvbnMgPSBbXTtcclxuY29uc3QgYW5pbVRpbWUgPSAzMDAwO1xyXG5mdW5jdGlvbiBzdGFydEFuaW1hdGlvbigpIHtcclxuXHJcbiAgICBjb25zdCBiYWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYWxsJyk7XHJcbiAgICBiYWxscy5mb3JFYWNoKGJhbGwgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlzcGxheWVyVGVhbSA9IGJhbGwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwbGF5ZXInKTtcclxuICAgICAgICBjb25zdCB0YXJnZXRYID0gaXNwbGF5ZXJUZWFtID8gYXJlbmEub2Zmc2V0V2lkdGggOiAtYXJlbmEub2Zmc2V0V2lkdGg7IC8vIFRhcmdldCBwb3NpdGlvbnNcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhiYWxsLCB0YXJnZXRYKTtcclxuICAgICAgICBhbmltYXRpb25zLnB1c2goYmFsbC5hbmltYXRlKFtcclxuICAgICAgICAgICAgeyB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKCR7dGFyZ2V0WH1weClgIH1cclxuICAgICAgICBdLCB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiBhbmltVGltZSxcclxuICAgICAgICAgICAgZmlsbDogJ25vbmUnXHJcbiAgICAgICAgfSkuZmluaXNoZWQudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGJhbGwucmVtb3ZlKCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfSk7XHJcbiAgICB1cGRhdGUoKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBjb25zdCBwbGF5ZXJCYWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5ZXInKS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgZW5lbXlCYWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbmVteScpLmxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKHBsYXllckJhbGxzID09PSAwIHx8IGVuZW15QmFsbHMgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBiYWxsIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYWxsJykpIHtcclxuICAgICAgICAgICAgYmFsbC5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTmVlZCB0byBiYXR0bGUgYWdhaW5cclxuICAgICAgICBjcmVhdGVCYWxscygncGxheWVyJywgcGxheWVyQmFsbHMpO1xyXG4gICAgICAgIGNyZWF0ZUJhbGxzKCdlbmVteScsIGVuZW15QmFsbHMpO1xyXG4gICAgICAgIHN0YXJ0QW5pbWF0aW9uKCk7XHJcblxyXG4gICAgfSwgYW5pbVRpbWUgLSAxMDApOyAvLyBOZWVkIHRvIGV4ZWN1dGUgYmVmb3JlIHRoZSBiYWxscyBhcmUgZGVsZXRlZFxyXG59XHJcblxyXG5sZXQgaGFzUmV3YXJkZWQgPSBmYWxzZTtcclxuZnVuY3Rpb24gY2hlY2tGb3JXaW4oKSB7XHJcbiAgICBpZiAoaGFzUmV3YXJkZWQpIHJldHVybjtcclxuICAgIGNvbnN0IHBsYXllckJhbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBsYXllcicpLmxlbmd0aDtcclxuICAgIGNvbnN0IGVuZW15QmFsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZW5lbXknKS5sZW5ndGg7XHJcblxyXG4gICAgaWYgKHBsYXllckJhbGxzID09PSAwICYmIGVuZW15QmFsbHMgPiAwKSBiYXR0bGVSZXN1bHQgPSAnZW5lbXknO1xyXG4gICAgZWxzZSBpZiAoZW5lbXlCYWxscyA9PT0gMCAmJiBwbGF5ZXJCYWxscyA+IDApIGJhdHRsZVJlc3VsdCA9ICdwbGF5ZXInO1xyXG5cclxuICAgIGlmIChiYXR0bGVSZXN1bHQgIT09IG51bGwpIHtcclxuICAgICAgICBjb25zdCBjb21iYXRSZXN1bHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tYmF0UmVzdWx0Jyk7XHJcbiAgICAgICAgaWYgKGJhdHRsZVJlc3VsdCA9PT0gXCJwbGF5ZXJcIikge1xyXG4gICAgICAgICAgICBjb21iYXRSZXN1bHQudGV4dENvbnRlbnQgPSBcIllvdSB3b24hXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChiYXR0bGVSZXN1bHQgPT09IFwiZW5lbXlcIikge1xyXG4gICAgICAgICAgICBjb21iYXRSZXN1bHQudGV4dENvbnRlbnQgPSBcIlRoZSBFbmVteSB3b24hXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29tYmF0UmVzdWx0LnRleHRDb250ZW50ID0gXCJJdCdzIGEgZHJhdyFcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGZpZ2h0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSwgYW5pbVRpbWUgLyAyKTtcclxuXHJcbiAgICAgICAgLy8gUmV3YXJkIHRoZSBwbGF5ZXIgdGhlaXIgbG9vdCBpZiB0aGV5IHdvblxyXG4gICAgICAgIGlmIChiYXR0bGVSZXN1bHQgPT09IFwicGxheWVyXCIpIHtcclxuICAgICAgICAgICAgaGFzUmV3YXJkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgc3RhbmNlTXVsdCA9IDE7XHJcbiAgICAgICAgICAgIGlmIChnZXRTdGFuY2UoKSA9PT0gJ2FnZ3Jlc3NpdmUnKSBzdGFuY2VNdWx0ID0gLjc1O1xyXG4gICAgICAgICAgICBpZiAoZ2V0U3RhbmNlKCkgPT09ICdjYXJlZnVsJykgc3RhbmNlTXVsdCA9IDEuMjU7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtsb290TmFtZSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGN1cnJMb290KSkge1xyXG4gICAgICAgICAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChsb290TmFtZSwgdmFsdWUgKiBzdGFuY2VNdWx0KTtcclxuICAgICAgICAgICAgICAgIGNvbWJhdFJlc3VsdC5pbm5lckhUTUwgKz0gYDxicj4rJHt2YWx1ZSAqIHN0YW5jZU11bHR9ICR7bG9vdE5hbWV9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnZW5lcmF0ZUxvb3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FsY3VsYXRlRW5lbXlNaWdodCgpO1xyXG4gICAgICAgIHJlZnJlc2hWYWx1ZXMoKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcblxyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGRldGVjdENvbGxpc2lvbnMocGxheWVyLCBlbmVteSkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbGF5ZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVuZW15Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0NvbGxpZGluZyhwbGF5ZXJUcm9vcHNbaV0sIGVuZW15VHJvb3BzW2pdKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBjb2xsaXNpb25cclxuICAgICAgICAgICAgICAgIGhhbmRsZUNvbGxpc2lvbihwbGF5ZXJUcm9vcHNbaV0sIGVuZW15VHJvb3BzW2pdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaXNDb2xsaWRpbmcoYmFsbDEsIGJhbGwyKSB7XHJcbiAgICBjb25zdCByZWN0MSA9IGJhbGwxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgY29uc3QgcmVjdDIgPSBiYWxsMi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICByZXR1cm4gIShcclxuICAgICAgICByZWN0MS5yaWdodCA8IHJlY3QyLmxlZnQgfHxcclxuICAgICAgICByZWN0MS5sZWZ0ID4gcmVjdDIucmlnaHQgfHxcclxuICAgICAgICByZWN0MS5ib3R0b20gPCByZWN0Mi50b3AgfHxcclxuICAgICAgICByZWN0MS50b3AgPiByZWN0Mi5ib3R0b21cclxuICAgICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNvbGxpc2lvbihwbGF5ZXJCYWxsLCBlbmVteUJhbGwpIHtcclxuICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMSAvICgxICsgTWF0aC5wb3coMTAsIChnZXRDdXJyRW5lbXlNaWdodCgpIC0gY2FsY3VsYXRlUGxheWVyTWlnaHQoKSkgLyBjaGFuY2VTcHJlYWQpKSkgZW5lbXlCYWxsLnJlbW92ZSgpO1xyXG4gICAgZWxzZSBwbGF5ZXJCYWxsLnJlbW92ZSgpO1xyXG5cclxufVxyXG5cclxuLy8gQ2FsbCB0aGlzIGZ1bmN0aW9uIGNvbnRpbnVvdXNseSwgZS5nLiwgdXNpbmcgcmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgIGRldGVjdENvbGxpc2lvbnMocGxheWVyVHJvb3BzLCBlbmVteVRyb29wcyk7XHJcbiAgICBpZiAoIWNoZWNrRm9yV2luKCkgJiYgIWhhc1Jld2FyZGVkKSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY1JvdW5kaW5nKCkge1xyXG4gICAgY29uc3QgcGxheWVyTWlnaHQgPSBjYWxjdWxhdGVQbGF5ZXJNaWdodCgpO1xyXG4gICAgY29uc3QgZW5lbXlNaWdodCA9IGdldEN1cnJFbmVteU1pZ2h0KCk7XHJcblxyXG4gICAgY29uc3QgYmFsbENvdW50ID0gMTI7XHJcbiAgICBjb25zdCBwbGF5ZXJSb3VuZGluZyA9IE1hdGguY2VpbChwbGF5ZXJNaWdodCAvIGJhbGxDb3VudCk7XHJcbiAgICBjb25zdCBlbmVteVJvdW5kaW5nID0gTWF0aC5jZWlsKGVuZW15TWlnaHQgLyBiYWxsQ291bnQpO1xyXG5cclxuICAgIGNvbnN0IGhpZ2hlclJvdW5kaW5nID0gTWF0aC5tYXgocGxheWVyUm91bmRpbmcsIGVuZW15Um91bmRpbmcpO1xyXG4gICAgY29uc3QgcGxheWVyQ291bnQgPSBNYXRoLmZsb29yKHBsYXllck1pZ2h0IC8gaGlnaGVyUm91bmRpbmcpO1xyXG4gICAgY29uc3QgZW5lbXlDb3VudCA9IE1hdGguZmxvb3IoZW5lbXlNaWdodCAvIGhpZ2hlclJvdW5kaW5nKTtcclxuXHJcbiAgICBjb25zdCBhcHByb3hFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcHJveGltYXRlQmFsbCcpO1xyXG4gICAgYXBwcm94RWxlbWVudC50ZXh0Q29udGVudCA9IGhpZ2hlclJvdW5kaW5nLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgcmV0dXJuIFtwbGF5ZXJDb3VudCwgZW5lbXlDb3VudF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhdXNlQW5pbWF0aW9uKCkge1xyXG4gICAgLy8gY29uc3QgYmFsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFsbCcpO1xyXG4gICAgYW5pbWF0aW9ucy5mb3JFYWNoKGJhbGwgPT4ge1xyXG4gICAgICAgIGJhbGwucGF1c2UoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBmaWdodEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiNzdGFydENvbWJhdCcpO1xyXG5cclxubGV0IGJhdHRsZVJlc3VsdCA9IG51bGw7IC8vIFZhcmlhYmxlIHRvIHN0b3JlIGJhdHRsZSByZXN1bHRcclxuXHJcbmNvbnN0IGNoYW5jZVNwcmVhZCA9IDIwMDsgLy8gTGFyZ2VyIG1lYW5zIHNtYWxsZXIgYXJtaWVzIGhhdmUgYSBoaWdoZXIgY2hhbmNlIHRvIGJlYXQgbGFyZ2VyIGFybWllc1xyXG5mdW5jdGlvbiBzaW11bGF0ZUJhdHRsZSgpIHtcclxuICAgIC8vIFBlcmZvcm0gdGhlIGJhdHRsZSBzaW11bGF0aW9uIGxvZ2ljIGhlcmVcclxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUJhdHRsZVJlc3VsdCgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXJNaWdodCA9IGNhbGN1bGF0ZVBsYXllck1pZ2h0KCk7XHJcbiAgICAgICAgY29uc3QgZW5lbXlNaWdodCA9IGdldEN1cnJFbmVteU1pZ2h0KCk7XHJcbiAgICAgICAgY29uc3QgcGxheWVyQ2hhbmNlID0gMSAvICgxICsgTWF0aC5wb3coMTAsIChlbmVteU1pZ2h0IC0gcGxheWVyTWlnaHQpIC8gY2hhbmNlU3ByZWFkKSk7XHJcblxyXG4gICAgICAgIC8vIEdlbmVyYXRlIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEgdG8gc2ltdWxhdGUgdGhlIGJhdHRsZSBvdXRjb21lXHJcbiAgICAgICAgY29uc3QgcmFuZG9tT3V0Y29tZSA9IE1hdGgucmFuZG9tKCk7XHJcblxyXG4gICAgICAgIGlmIChyYW5kb21PdXRjb21lIDwgcGxheWVyQ2hhbmNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAncGxheWVyJzsgLy8gUGxheWVyIHdpbnNcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2VuZW15JzsgLy8gRW5lbXkgd2luc1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGhlIHJlc3VsdCBhbmQgc3RvcmUgaXQgaW4gdGhlIGJhdHRsZVJlc3VsdCB2YXJpYWJsZVxyXG4gICAgYmF0dGxlUmVzdWx0ID0gY2FsY3VsYXRlQmF0dGxlUmVzdWx0KCk7XHJcbiAgICBjaGVja0ZvcldpbigpO1xyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiBNYWluIGNvbWJhdCBmdW5jdGlvbiwgc3RhcnQgZXZlcnl0aGluZ1xyXG4gKi9cclxuZnVuY3Rpb24gY29tYmF0KCkge1xyXG4gICAgYmF0dGxlUmVzdWx0ID0gbnVsbDtcclxuICAgIC8vIFJlbW92ZSBhbGwgYmFsbHNcclxuICAgIGZvciAoY29uc3QgYmFsbCBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFsbCcpKSB7XHJcbiAgICAgICAgYmFsbC5yZW1vdmUoKTtcclxuICAgIH1cclxuICAgIC8vIFJvdW5kIGRvd24gdGhlIGJhbGxzIHRvIDEyXHJcbiAgICBsZXQgW3BsYXllckNvdW50LCBlbmVteUNvdW50XSA9IGNhbGNSb3VuZGluZygpO1xyXG5cclxuICAgIGNyZWF0ZUJhbGxzKCdwbGF5ZXInLCBwbGF5ZXJDb3VudCk7XHJcbiAgICBjcmVhdGVCYWxscygnZW5lbXknLCBlbmVteUNvdW50KTtcclxuXHJcblxyXG4gICAgY29uc3QgY29tYmF0UmVzdWx0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbWJhdFJlc3VsdCcpO1xyXG4gICAgY29tYmF0UmVzdWx0LnRleHRDb250ZW50ID0gJyc7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgZmlnaHRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgaGFzUmV3YXJkZWQgPSBmYWxzZTtcclxuXHJcbiAgICBzdGFydEFuaW1hdGlvbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVQbGF5ZXJNaWdodCgpIHtcclxuICAgIGxldCBtaWdodCA9IGdldE1hdGVyaWFsKCd2aW9sZW5jZScpICsgZ2V0TWF0ZXJpYWwoJ3NwZWFyJykgKyBnZXRNYXRlcmlhbCgnbWVkaWNpbmUnKTtcclxuICAgIGlmIChnZXRTdGFuY2UoKSA9PT0gJ2FnZ3Jlc3NpdmUnKSBtaWdodCAqPSAxLjI7XHJcbiAgICBlbHNlIGlmIChnZXRTdGFuY2UoKSA9PT0gJ2NhcmVmdWwnKSBtaWdodCAqPSAwLjg7XHJcbiAgICByZXR1cm4gbWlnaHQ7XHJcbn1cclxuXHJcblxyXG5sZXQgZW5lbXlNaWdodCA9IDQwMDsgLy8gSW5pdGlhbGl6ZSBlbmVteSBtaWdodCBhcyBhIGdsb2JhbCB2YXJpYWJsZVxyXG5cclxuZnVuY3Rpb24gZ2V0TmV4dEJhdHRsZU1pZ2h0KHBsYXllcldvblByZXZpb3VzQmF0dGxlKSB7XHJcblxyXG4gICAgaWYgKHBsYXllcldvblByZXZpb3VzQmF0dGxlID09PSBudWxsKSByZXR1cm4gZW5lbXlNaWdodDtcclxuICAgIC8vIENoZWNrIGlmIHRoZSBwbGF5ZXIgd29uIHRoZSBwcmV2aW91cyBiYXR0bGVcclxuICAgIGlmIChwbGF5ZXJXb25QcmV2aW91c0JhdHRsZSkge1xyXG4gICAgICAgIC8vIEluY3JlYXNlIHRoZSBkaWZmaWN1bHR5IGZvciB0aGUgbmV4dCBiYXR0bGVcclxuICAgICAgICBlbmVteU1pZ2h0ICo9IDEuMzsgLy8gWW91IGNhbiBhZGp1c3QgdGhlIGluY3JlbWVudCBhcyBuZWVkZWRcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gRGVjcmVhc2UgdGhlIGRpZmZpY3VsdHkgZm9yIHRoZSBuZXh0IGJhdHRsZVxyXG4gICAgICAgIGVuZW15TWlnaHQgLz0gMS4xOyAvLyBZb3UgY2FuIGFkanVzdCB0aGUgZGVjcmVtZW50IGFzIG5lZWRlZFxyXG4gICAgfVxyXG5cclxuICAgIC8vIEVuc3VyZSB0aGUgYmFzZU1pZ2h0IGRvZXNuJ3QgZ28gYmVsb3cgYSBtaW5pbXVtIHZhbHVlXHJcbiAgICBpZiAoZW5lbXlNaWdodCA8IDIwMCkge1xyXG4gICAgICAgIGVuZW15TWlnaHQgPSAyMDA7IC8vIFNldCBhIG1pbmltdW0gbWlnaHQgdmFsdWVcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGp1c3QgdGhlIGRpZmZpY3VsdHkgYmFzZWQgb24gdGhlIHBsYXllcidzIGxldmVsXHJcbiAgICAvLyBGb3IgZXhhbXBsZSwgeW91IGNhbiBtYWtlIGJhdHRsZXMgcHJvZ3Jlc3NpdmVseSBoYXJkZXIgYXMgdGhlIHBsYXllcidzIGxldmVsIGluY3JlYXNlc1xyXG4gICAgLy8gYmFzZU1pZ2h0ICs9IHBsYXllckxldmVsICogMTA7IC8vIEFkanVzdCB0aGlzIGZvcm11bGEgYXMgbmVlZGVkXHJcblxyXG4gICAgcmV0dXJuIGVuZW15TWlnaHQ7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzZXRFbmVteU1pZ2h0KG1pZ2h0KSB7XHJcbiAgICBlbmVteU1pZ2h0ID0gbWlnaHQ7IC8vIFVwZGF0ZSB0aGUgZ2xvYmFsIGVuZW15TWlnaHQgdmFyaWFibGVcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q3VyckVuZW15TWlnaHQoKSB7XHJcbiAgICByZXR1cm4gZW5lbXlNaWdodDsgLy8gUmV0dXJuIHRoZSBnbG9iYWwgZW5lbXlNaWdodCB2YXJpYWJsZVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVFbmVteU1pZ2h0KCkge1xyXG4gICAgY29uc29sZS5sb2coJ2JhdHRsZSByZXN1bHQgd2FzJywgYmF0dGxlUmVzdWx0KTtcclxuICAgIGNvbnN0IG1pZ2h0ID0gZ2V0TmV4dEJhdHRsZU1pZ2h0KGJhdHRsZVJlc3VsdCA9PT0gbnVsbCB8fCBiYXR0bGVSZXN1bHQgPT09ICdwbGF5ZXInKTtcclxuICAgIHJldHVybiBtaWdodDtcclxufVxyXG5cclxuY29uc3QgcGxheWVyTWlnaHRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllck1pZ2h0Jyk7XHJcbmNvbnN0IGVuZW15TWlnaHRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuZW15TWlnaHQnKTtcclxuZnVuY3Rpb24gY2FsY3VsYXRlV2luQ2hhbmNlKCkge1xyXG5cclxuICAgIGNvbnN0IHBsYXllck1pZ2h0ID0gY2FsY3VsYXRlUGxheWVyTWlnaHQoKTtcclxuICAgIGNvbnN0IGVuZW15TWlnaHQgPSBnZXRDdXJyRW5lbXlNaWdodCgpO1xyXG5cclxuICAgIC8vIGNvbnN0IFtwbGF5ZXJDb3VudCwgZW5lbXlDb3VudF0gPSBjYWxjUm91bmRpbmcoKTtcclxuXHJcbiAgICAvLyBUaGlzIG51bWJlciBpcyBhIGRpcnR5IGxpZSwgYnV0IHRoZSB0cnV0aCBpcyB0b28gaGFyZFxyXG4gICAgY29uc3QgY2hhbmNlID0gMSAvICgxICsgTWF0aC5wb3coMTAsIChlbmVteU1pZ2h0IC0gcGxheWVyTWlnaHQpIC8gY2hhbmNlU3ByZWFkKSk7XHJcblxyXG5cclxuICAgIHBsYXllck1pZ2h0RWxlbWVudC50ZXh0Q29udGVudCA9IHBsYXllck1pZ2h0LnRvRml4ZWQoMCk7XHJcbiAgICBwbGF5ZXJNaWdodEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0b29sdGlwZGVzYycsIGAke2dldE1hdGVyaWFsKCd2aW9sZW5jZScpLnRvRml4ZWQoMCl9IHZpb2xlbmNlICsgJHtnZXRNYXRlcmlhbCgnc3BlYXInKS50b0ZpeGVkKDApfSBzcGVhcnMgKyAke2dldE1hdGVyaWFsKCdtZWRpY2luZScpLnRvRml4ZWQoMCl9IG1lZGljaW5lYCk7XHJcblxyXG4gICAgZW5lbXlNaWdodEVsZW1lbnQudGV4dENvbnRlbnQgPSBlbmVteU1pZ2h0LnRvRml4ZWQoMCk7XHJcblxyXG4gICAgY29uc3QgY2hhbmNlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuY2VUb1dpbicpO1xyXG4gICAgY2hhbmNlRWxlbWVudC50ZXh0Q29udGVudCA9IChjaGFuY2UgKiAxMDApLnRvRml4ZWQoMSkgKyAnJSc7XHJcblxyXG4gICAgY2hhbmNlRWxlbWVudC5zdHlsZS5jb2xvciA9IChgaHNsKCR7KGNoYW5jZSAqIDEyMCkudG9TdHJpbmcoMTApfSwxMDAlLDUwJSlgKTtcclxuXHJcbiAgICByZXR1cm4gY2hhbmNlO1xyXG59XHJcblxyXG5sZXQgc3RhbmNlID0gJ2JhbGFuY2VkJztcclxuXHJcbmZ1bmN0aW9uIGdldFN0YW5jZSgpIHtcclxuICAgIHJldHVybiBzdGFuY2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFN0YW5jZShuZXdTdGFuY2UpIHtcclxuICAgIHN0YW5jZSA9IG5ld1N0YW5jZTtcclxufVxyXG5cclxuY29uc3Qgc3RhbmNlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbi5zdGFuY2UnKTtcclxuZnVuY3Rpb24gc3dpdGNoU3RhbmNlKG5ld1N0YW5jZSkge1xyXG4gICAgY29uc29sZS5sb2coJ3N3aXRjaCBzdGFuY2UgdG8gJywgbmV3U3RhbmNlKTtcclxuICAgIHN0YW5jZUJ1dHRvbnMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgZWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtuZXdTdGFuY2V9U3RhbmNlYCkuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgc2V0U3RhbmNlKG5ld1N0YW5jZSk7XHJcbiAgICByZWZyZXNoVmFsdWVzKCk7XHJcbn1cclxuLy8gQHRzLWlnbm9yZVxyXG53aW5kb3cuc3dpdGNoU3RhbmNlID0gc3dpdGNoU3RhbmNlO1xyXG5cclxuLyoqXHJcbiAqIFJlZnJlc2ggYWxsIHRoZSB2YWx1ZXMgb2YgdGhlIGNvbWJhdCBVSSwgaW5jbHVkaW5nIGNoYW5jZSB0byB3aW4sIGxvb3RzLCBhbmQgZW5lbXkgbWlnaHRcclxuICovXHJcbmZ1bmN0aW9uIHJlZnJlc2hWYWx1ZXMoKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhnZXRDdXJyTG9vdCgpKTtcclxuICAgIGlmIChPYmplY3Qua2V5cyhnZXRDdXJyTG9vdCgpKS5sZW5ndGggPCAxKSBnZW5lcmF0ZUxvb3QoKTtcclxuXHJcbiAgICBjb25zdCBsb290TGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb290TGlzdCcpO1xyXG4gICAgbG9vdExpc3QuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBmb3IgKGNvbnN0IFtyZXNvdXJjZSwgcXVhbnRpdHldIG9mIE9iamVjdC5lbnRyaWVzKGdldEN1cnJMb290KCkpKSB7XHJcbiAgICAgICAgbG9vdExpc3QuaW5uZXJIVE1MICs9IGA8c3Bhbj4ke3Jlc291cmNlfSAoJHtxdWFudGl0eX0pPC9zcGFuPiA8YnI+YDtcclxuICAgIH1cclxuXHJcbiAgICBlbmVteU1pZ2h0RWxlbWVudC50ZXh0Q29udGVudCA9IGdldEN1cnJFbmVteU1pZ2h0KCkudG9TdHJpbmcoKTtcclxuICAgIGNhbGNSb3VuZGluZygpO1xyXG4gICAgY2FsY3VsYXRlV2luQ2hhbmNlKCk7XHJcbn1cclxuXHJcblxyXG4vLyBFeGFtcGxlIHVzYWdlXHJcbi8vIHNldHVwR2FtZSg1LCA1KTsgLy8gNSBiYWxscyBmb3IgZWFjaCB0ZWFtXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY29tYmF0LFxyXG4gICAgY2FsY3VsYXRlV2luQ2hhbmNlLFxyXG4gICAgcmVmcmVzaFZhbHVlcyxcclxuICAgIHBhdXNlQW5pbWF0aW9uLFxyXG4gICAgYmF0dGxlUmVzdWx0LFxyXG4gICAgc2ltdWxhdGVCYXR0bGUsXHJcbiAgICBzd2l0Y2hTdGFuY2UsXHJcbiAgICBnZXRDdXJyRW5lbXlNaWdodCxcclxuICAgIHNldEVuZW15TWlnaHQsXHJcbn07IiwiY29uc3QgeyBnZXRTZnhWb2x1bWUsIHBsYXlTb3VuZCB9ID0gcmVxdWlyZSgnLi9hdWRpbycpO1xyXG5jb25zdCB7IGNhbkNyYWZ0IH0gPSByZXF1aXJlKCcuL2NhbkNyYWZ0Jyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG4vLyBBc3N1bWluZyB0aGVzZSBhcmUgZGVmaW5lZCBnbG9iYWxseVxyXG4vLyB2YXIgbWFudWZhY3R1cmVkTWFwID0ge1xyXG4vLyAgICAgY2xheTogWydicmlja3MnXSxcclxuLy8gICAgIGhlcmJzOiBbJ21lZGljaW5lJ10sXHJcbi8vICAgICBoaWRlczogWydsZWF0aGVyJ10sXHJcbi8vICAgICBpcm9uOiBbJ3N0ZWVsJywgJ25haWxzJ10sXHJcbi8vICAgICBvcmU6IFsnaXJvbicsICdzaWx2ZXInLCAnZ29sZCddLFxyXG4vLyAgICAgc2FuZDogWydnbGFzcycsICdjb25jcmV0ZSddLFxyXG4vLyAgICAgcm9ja3M6IFsnc2xhYnMnXSxcclxuLy8gICAgIHZpbmVzOiBbJ3JvcGUnXSxcclxuLy8gICAgIHdvb2Q6IFsncGFwZXInLCAnYmVhbXMnLCAnY3JhdGVzJ10sXHJcbi8vIH07XHJcblxyXG52YXIgc3dpdGNoZWRNYW51ZmFjdHVyZWRNYXAgPSB7XHJcbiAgICAnYmVhbXMnOiBbJ3dvb2QnXSxcclxuICAgICdicmlja3MnOiBbJ2NsYXknXSxcclxuICAgICdjb25jcmV0ZSc6IFsnc2FuZCddLFxyXG4gICAgJ2NyYXRlcyc6IFsnd29vZCddLFxyXG4gICAgJ2dsYXNzJzogWydzYW5kJ10sXHJcbiAgICAnZ29sZCc6IFsnb3JlJ10sXHJcbiAgICAnaGFuZGxlJzogWydzdGlja3MnXSxcclxuICAgICdpcm9uJzogWydvcmUnXSxcclxuICAgICdsZWF0aGVyJzogWydoaWRlcyddLFxyXG4gICAgJ21lZGljaW5lJzogWydoZXJicyddLFxyXG4gICAgJ25haWxzJzogWydpcm9uJ10sXHJcbiAgICAncGFwZXInOiBbJ3dvb2QnXSxcclxuICAgICdzaGFycHJvY2tzJzogWydyb2NrcyddLFxyXG4gICAgJ3NpbHZlcic6IFsnb3JlJ10sXHJcbiAgICAnc2xhYnMnOiBbJ3JvY2tzJ10sXHJcbiAgICAnc3BlYXInOiBbJ3N0YWZmJywgJ3NoYXJwcm9ja3MnLCAncm9wZSddLFxyXG4gICAgJ3N0YWZmJzogWydoYW5kbGUnLCAncm9wZSddLFxyXG4gICAgJ3N0ZWVsJzogWydpcm9uJ10sXHJcbiAgICAnc3RpY2tzJzogWyd3b29kJ10sXHJcbiAgICAncm9wZSc6IFsndmluZXMnXSxcclxuICAgICd3b29kJzogWydzdGlja3MnXSxcclxufTtcclxuXHJcblxyXG52YXIgYWxsTWF0ZXJpYWxzID0gW107XHJcbk9iamVjdC5rZXlzKHJlc291cmNlcykuZm9yRWFjaChyID0+IGFsbE1hdGVyaWFscy5wdXNoKHIpKTtcclxuT2JqZWN0LmtleXMoY3JhZnRlZFJlc291cmNlcykuZm9yRWFjaChyID0+IGFsbE1hdGVyaWFscy5wdXNoKHIpKTtcclxuY29uc29sZS5sb2coXCJBbGwgbWF0ZXJpYWxzOiBcIiwgYWxsTWF0ZXJpYWxzKTtcclxuXHJcbmxldCBhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmcgPSB7fTtcclxubGV0IGFjdGl2ZUZhY3Rvcmllc0NvbnN1bWluZyA9IHt9O1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBpc1Byb2R1Y2luZyhyZXNvdXJjZSkge1xyXG4gICAgcmV0dXJuIHJlc291cmNlIGluIGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZztcclxufVxyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBpc0NvbnN1bWluZyhyZXNvdXJjZSkge1xyXG4gICAgcmV0dXJuIHJlc291cmNlIGluIGFjdGl2ZUZhY3Rvcmllc0NvbnN1bWluZztcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gZ2V0RmFjdG9yeUNvbnN1bXB0aW9uKHJlc291cmNlKSB7XHJcbi8vICAgICByZXR1cm4gYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nW3Jlc291cmNlXSAqIDtcclxuLy8gfVxyXG5cclxuZnVuY3Rpb24gZ2V0RmFjdG9yeVByb2R1Y3Rpb24ocmVzb3VyY2UpIHtcclxuICAgIHJldHVybiBhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmdbcmVzb3VyY2VdICogbWFudWZhY3R1cmVCdWxrO1xyXG59XHJcblxyXG5cclxuLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHJlc291cmNlIHByb2R1Y3Rpb24gYW5kIGNvbnN1bXB0aW9uXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gdXBkYXRlRmFjdG9yeVJlc291cmNlVHJhY2tpbmcob2xkUHJvZHVjZWQsIG5ld1Byb2R1Y2VkKSB7XHJcbiAgICAvLyBpZiAobmV3UHJvZHVjZWQgPT09IG51bGwpIHJldHVybjtcclxuICAgIC8vIElmIHRoaXMgZmFjdG9yeSB3YXMgcHJldmlvdXNseSBwcm9kdWNpbmcgc29tZXRoaW5nLCByZWR1Y2UgdGhlIGNvdW50XHJcbiAgICBpZiAob2xkUHJvZHVjZWQgJiYgb2xkUHJvZHVjZWQgIT09ICdub25lJykge1xyXG4gICAgICAgIGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZ1tvbGRQcm9kdWNlZF0tLTtcclxuICAgICAgICBBcnJheS5mcm9tKGNyYWZ0ZWRSZXNvdXJjZXNbb2xkUHJvZHVjZWRdLmNvc3QpLmZvckVhY2goKGNvc3QpID0+IHtcclxuICAgICAgICAgICAgYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nW2Nvc3QucmVzb3VyY2VdIC09IGNvc3QuYW1vdW50O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgcHJvZHVjdGlvbiBjb3VudCBmb3IgdGhlIG5ldyByZXNvdXJjZVxyXG4gICAgaWYgKGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZ1tuZXdQcm9kdWNlZF0pIGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZ1tuZXdQcm9kdWNlZF0rKztcclxuICAgIGVsc2UgYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nW25ld1Byb2R1Y2VkXSA9IDE7XHJcbiAgICBpZiAoY3JhZnRlZFJlc291cmNlc1tuZXdQcm9kdWNlZF0pIHtcclxuICAgICAgICBBcnJheS5mcm9tKGNyYWZ0ZWRSZXNvdXJjZXNbbmV3UHJvZHVjZWRdLmNvc3QpLmZvckVhY2goKGNvc3QpID0+IHtcclxuICAgICAgICAgICAgYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nW2Nvc3QucmVzb3VyY2VdICs9IGNvc3QuYW1vdW50O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBDYWxsIHRoaXMgd2hlbmV2ZXIgYSBmYWN0b3J5J3Mgc2V0dGluZ3MgY2hhbmdlXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gb25GYWN0b3J5TW9kaWZpZWQoZmFjdG9yeUluZGV4LCBuZXdQcm9kdWNlZCkge1xyXG4gICAgY29uc3QgcmlnaHRTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZmFjdG9yeS0ke2ZhY3RvcnlJbmRleH0gLnJpZ2h0U2VsZWN0YCk7XHJcbiAgICB1cGRhdGVGYWN0b3J5UmVzb3VyY2VUcmFja2luZyhyaWdodFNlbGVjdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZHVjZWQnKSwgbmV3UHJvZHVjZWQpO1xyXG4gICAgcmlnaHRTZWxlY3Quc2V0QXR0cmlidXRlKCdkYXRhLXByb2R1Y2VkJywgbmV3UHJvZHVjZWQpO1xyXG59XHJcbi8vIE9iamVjdC5rZXlzKGNyYWZ0ZWRSZXNvdXJjZXMpLmZvckVhY2goKHJlc291cmNlKSA9PiB7XHJcbi8vICAgICBhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmdbcmVzb3VyY2VdID0gMDtcclxuLy8gICAgIEFycmF5LmZyb20oY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZV0uY29zdCkuZm9yRWFjaCgoY29zdCkgPT4ge1xyXG4vLyAgICAgICAgIGlmICghYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nW2Nvc3QucmVzb3VyY2VdKSB7XHJcbi8vICAgICAgICAgICAgIGFjdGl2ZUZhY3Rvcmllc0NvbnN1bWluZ1tjb3N0LnJlc291cmNlXSA9IDA7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vIH0pO1xyXG5mdW5jdGlvbiBjcmVhdGVGYWN0b3J5RGl2KCkge1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgcmVzb3VyY2UgdHJhY2tpbmcgb2JqZWN0c1xyXG5cclxuXHJcbiAgICBjb25zdCBmYWN0b3JpZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmFjdG9yaWVzJyk7XHJcbiAgICBjb25zdCBmYWN0b3J5RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBmYWN0b3J5RGl2LmNsYXNzTmFtZSA9ICdmYWN0b3J5JztcclxuXHJcbiAgICBjb25zdCBsZWZ0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIGxlZnRUZXh0LmNsYXNzTGlzdC5hZGQoJ2ZhY3RvcnlDb3N0Jyk7XHJcbiAgICBjb25zdCByaWdodFNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG5cclxuICAgIC8vIFBvcHVsYXRlIHRoZSByaWdodCBkcm9wZG93blxyXG4gICAgT2JqZWN0LmtleXMoc3dpdGNoZWRNYW51ZmFjdHVyZWRNYXApLmZvckVhY2gocmVzb3VyY2UgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBvcHRpb24udmFsdWUgPSByZXNvdXJjZTtcclxuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSByZXNvdXJjZTtcclxuICAgICAgICByaWdodFNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG5cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICByaWdodFNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZHVjZWQnLCAnbm9uZScpO1xyXG5cclxuXHJcbiAgICByaWdodFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHByb2R1Y2VkIHJlc291cmNlIGZvciB0aGlzIGZhY3RvcnlcclxuICAgICAgICBjb25zdCBjdXJyZW50UHJvZHVjZWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9kdWNlZCcpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoY3VycmVudFByb2R1Y2VkICE9PSAnbm9uZScpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNyZXNvdXJjZS0ke2N1cnJlbnRQcm9kdWNlZH1gKS5zdHlsZS5jb2xvciA9ICcnO1xyXG5cclxuICAgICAgICBjb25zdCBuZXdQcm9kdWNlZCA9IHJpZ2h0U2VsZWN0LnZhbHVlO1xyXG5cclxuICAgICAgICBwbGF5U291bmQoJy4vYXVkaW8vZmFjdG9yeW9wdGlvbi53YXYnKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHJlc291cmNlIHRyYWNraW5nXHJcbiAgICAgICAgdXBkYXRlRmFjdG9yeVJlc291cmNlVHJhY2tpbmcoY3VycmVudFByb2R1Y2VkLCBuZXdQcm9kdWNlZCk7XHJcblxyXG4gICAgICAgIC8vIE5vdyB1cGRhdGUgdGhlIGRhdGFzZXQgZm9yIHRoZSBuZXh0IGNoYW5nZSBldmVudFxyXG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdkYXRhLXByb2R1Y2VkJywgbmV3UHJvZHVjZWQpO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKG5ld1Byb2R1Y2VkICYmIG5ld1Byb2R1Y2VkICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcmVzb3VyY2UtJHtuZXdQcm9kdWNlZH1gKS5zdHlsZS5jb2xvciA9ICd0aGlzdGxlJztcclxuICAgICAgICAgICAgbGVmdFRleHQuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIGxlZnRUZXh0LmlubmVySFRNTCArPSBgJHtyZXF1aXJlKCcuL3Jlc291cmNlcycpLmdlbmVyYXRlVG9vbHRpcENvc3QoY3JhZnRlZFJlc291cmNlc1tyaWdodFNlbGVjdC52YWx1ZV0uY29zdCl9YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQWRkIHRoZSBpbml0aWFsIG9wdGlvbiBmb3IgbGVmdCBzZWxlY3RcclxuICAgIGZ1bmN0aW9uIGFkZEluaXRpYWxPcHRpb24oc2VsZWN0RWxlbWVudCwgdGV4dCkge1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBpbml0aWFsT3B0aW9uLnZhbHVlID0gJyc7XHJcbiAgICAgICAgaW5pdGlhbE9wdGlvbi50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICAgICAgLy8gaW5pdGlhbE9wdGlvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgaW5pdGlhbE9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgc2VsZWN0RWxlbWVudC5hcHBlbmRDaGlsZChpbml0aWFsT3B0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIGFycm93LmlubmVySFRNTCA9ICcmIzg1OTQ7JzsgLy8gUmlnaHQgYXJyb3cgSFRNTCBlbnRpdHlcclxuXHJcbiAgICBmYWN0b3J5RGl2LmFwcGVuZENoaWxkKGxlZnRUZXh0KTtcclxuICAgIGZhY3RvcnlEaXYuYXBwZW5kQ2hpbGQoYXJyb3cpO1xyXG4gICAgZmFjdG9yeURpdi5hcHBlbmRDaGlsZChyaWdodFNlbGVjdCk7XHJcblxyXG4gICAgYWRkSW5pdGlhbE9wdGlvbihyaWdodFNlbGVjdCwgJ1NlbGVjdCBhIFJlc291cmNlJyk7XHJcblxyXG4gICAgZmFjdG9yaWVzQ29udGFpbmVyLmFwcGVuZENoaWxkKGZhY3RvcnlEaXYpO1xyXG5cclxuICAgIHJldHVybiBmYWN0b3J5RGl2O1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gbG9hZEZhY3RvcnkoY3JhZnRpbmcpIHtcclxuICAgIGNvbnNvbGUubG9nKFwibG9hZGluZyBhIGZhY3RvcnkgZm9yIFwiLCBjcmFmdGluZyk7XHJcbiAgICBsZXQgZGl2ID0gY3JlYXRlRmFjdG9yeURpdigpO1xyXG4gICAgaWYgKGNyYWZ0aW5nKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGRpdi5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKS52YWx1ZSA9IGNyYWZ0aW5nO1xyXG5cclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcmVzb3VyY2UtJHtjcmFmdGluZ31gKS5zdHlsZS5jb2xvciA9ICd0aGlzdGxlJztcclxuICAgICAgICAgICAgZGl2LnF1ZXJ5U2VsZWN0b3IoJy5mYWN0b3J5Q29zdCcpLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICBkaXYucXVlcnlTZWxlY3RvcignLmZhY3RvcnlDb3N0JykuaW5uZXJIVE1MICs9IGAke3JlcXVpcmUoJy4vcmVzb3VyY2VzJykuZ2VuZXJhdGVUb29sdGlwQ29zdChjcmFmdGVkUmVzb3VyY2VzW2NyYWZ0aW5nXS5jb3N0KX1gO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJ1eUZhY3RvcnlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5RmFjdG9yeUJ1dHRvbicpO1xyXG5cclxuICAgIGlmIChidXlGYWN0b3J5QnV0dG9uKSB7XHJcblxyXG4gICAgICAgIGJ1eUZhY3RvcnlCdXR0b24uc2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcsIGAke25ld0ZhY3RvcnlTaWx2ZXJDb3N0LnRvRml4ZWQoMCl9IHNpbHZlcmApO1xyXG4gICAgICAgIHVwZGF0ZUZhY3RvcnlSZXNvdXJjZVRyYWNraW5nKCdub25lJywgY3JhZnRpbmcpO1xyXG4gICAgfVxyXG4gICAgbmV3RmFjdG9yeVNpbHZlckNvc3QgKj0gMS4yO1xyXG59XHJcblxyXG5cclxubGV0IG1hbnVmYWN0dXJlQnVsayA9IDI7XHJcbmxldCBidWxrVXBncmFkZUNvc3QgPSAzMDtcclxubGV0IG1hbnVmYWN0dXJlQm9udXMgPSAxO1xyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nW119IHJlc291cmNlcyBBbGwgcmVzb3VyY2VzIHJlcXVpcmVkIGZvciB0aGUgY3JhZnRcclxuICogQHBhcmFtIHtzdHJpbmd9IGdvYWxSZXNvdXJjZSBXaGF0IHdlJ2xsIGJlIGNyYWZ0aW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBtYW51ZmFjdHVyZShyZXNvdXJjZXMsIGdvYWxSZXNvdXJjZSkge1xyXG4gICAgY29uc29sZS50cmFjZSgpO1xyXG4gICAgLy8gQ2FsY3VsYXRlIGhvdyBtYW55IHdlIGNhbiBhZmZvcmRcclxuICAgIGxldCBhcnIgPSBbXTtcclxuICAgIHJlc291cmNlcy5mb3JFYWNoKHJlc291cmNlID0+IGFyci5wdXNoKGdldE1hdGVyaWFsKHJlc291cmNlKSAvIGNyYWZ0ZWRSZXNvdXJjZXNbZ29hbFJlc291cmNlXS5jb3N0W3Jlc291cmNlXSkpO1xyXG4gICAgbGV0IG51bSA9IE1hdGgubWluKG1hbnVmYWN0dXJlQnVsaywgLi4uYXJyKTtcclxuICAgIGNvbnNvbGUubG9nKG51bSwgbWFudWZhY3R1cmVCdWxrLCAuLi5hcnIpO1xyXG4gICAgbnVtICo9IG1hbnVmYWN0dXJlQm9udXM7XHJcbiAgICAvLyBUaGUgZmFjdG9yaWVzIGdldCB0byBiZSBoYWxmIHByaWNlIG9mIG5vcm1hbCBjcmFmdGluZyBiYyBlZmZpY2llbmN5XHJcbiAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLmNyYWZ0UmVzb3VyY2VRdWFudGl0eShnb2FsUmVzb3VyY2UsIG51bSk7XHJcbiAgICAvLyBpbmNyZWFzZU1hdGVyaWFsKGdvYWxSZXNvdXJjZSwgbnVtKTtcclxuICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2UsIC1jcmFmdGVkUmVzb3VyY2VzW2dvYWxSZXNvdXJjZV0uY29zdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZ3JhZGVCdWxrKCkge1xyXG4gICAgaWYgKGdldE1hdGVyaWFsKCdzaWx2ZXInKSA8IGJ1bGtVcGdyYWRlQ29zdCkgcmV0dXJuO1xyXG4gICAgbWFudWZhY3R1cmVCdWxrICs9IDI7XHJcbiAgICBidWxrVXBncmFkZUNvc3QgKz0gMTA7XHJcblxyXG5cclxuICAgIHBsYXlTb3VuZCgnLi9hdWRpby9mYWN0b3J5YnVsay53YXYnKTtcclxuXHJcblxyXG4gICAgY29uc3QgdXBCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBncmFkZUJ1bGtCdXR0b24nKTtcclxuICAgIHVwQnV0dG9uLnNldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnLCBgJHttYW51ZmFjdHVyZUJ1bGt9IOKGkiAke21hbnVmYWN0dXJlQnVsayArIDJ9OiAke2J1bGtVcGdyYWRlQ29zdC50b0ZpeGVkKDApfSBzaWx2ZXJgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYXR0ZW1wdE1hbnVmYWN0dXJlKCkge1xyXG4gICAgY29uc3QgZmFjdG9yaWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZhY3RvcnknKTtcclxuICAgIGZhY3Rvcmllcy5mb3JFYWNoKGZhY3RvcnkgPT4ge1xyXG5cclxuICAgICAgICAvLyBjb25zdCBsZWZ0U2VsZWN0ID0gZmFjdG9yeS5xdWVyeVNlbGVjdG9yKCdzcGFuOmZpcnN0LWNoaWxkJyk7XHJcbiAgICAgICAgY29uc3QgcmlnaHRTZWxlY3QgPSBmYWN0b3J5LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdDpsYXN0LWNoaWxkJyk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNvbnN0IGdvYWxSZXNvdXJjZSA9IHJpZ2h0U2VsZWN0LnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IHJlc291cmNlcyA9IHN3aXRjaGVkTWFudWZhY3R1cmVkTWFwW2dvYWxSZXNvdXJjZV07XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJjaGVja2luZyBmYWN0b3J5XCIsIGdvYWxSZXNvdXJjZSk7XHJcbiAgICAgICAgaWYgKHJlc291cmNlcyAmJiBnb2FsUmVzb3VyY2UgJiYgY2FuQ3JhZnQoZ29hbFJlc291cmNlKSkge1xyXG4gICAgICAgICAgICBtYW51ZmFjdHVyZShyZXNvdXJjZXMsIGdvYWxSZXNvdXJjZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG59XHJcblxyXG52YXIgbmV3RmFjdG9yeVNpbHZlckNvc3QgPSA1MDtcclxuZnVuY3Rpb24gYnV5RmFjdG9yeSgpIHtcclxuICAgIGNvbnN0IGJ1eUZhY3RvcnlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5RmFjdG9yeUJ1dHRvbicpO1xyXG4gICAgaWYgKGdldE1hdGVyaWFsKCdzaWx2ZXInKSA8IG5ld0ZhY3RvcnlTaWx2ZXJDb3N0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ05vdCBlbm91Z2ggc2lsdmVyIScpOyByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGFzIGVub3VnaCBzaWx2ZXIgdG8gYWZmb3JkIGZhY3RvcnlcclxuICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuaW5jcmVhc2VNYXRlcmlhbCgnc2lsdmVyJywgLW5ld0ZhY3RvcnlTaWx2ZXJDb3N0KTtcclxuICAgIGNyZWF0ZUZhY3RvcnlEaXYoKTtcclxuXHJcblxyXG4gICAgcGxheVNvdW5kKCcuL2F1ZGlvL2ZhY3RvcnlidWlsZC53YXYnKTtcclxuXHJcbiAgICBuZXdGYWN0b3J5U2lsdmVyQ29zdCAqPSAxLjI7XHJcbiAgICBidXlGYWN0b3J5QnV0dG9uLnNldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnLCBgJHtuZXdGYWN0b3J5U2lsdmVyQ29zdC50b0ZpeGVkKDApfSBzaWx2ZXJgKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBjcmVhdGVGYWN0b3J5RGl2LFxyXG4gICAgYXR0ZW1wdE1hbnVmYWN0dXJlLFxyXG4gICAgYnV5RmFjdG9yeSxcclxuICAgIHVwZ3JhZGVCdWxrLFxyXG4gICAgYWxsTWF0ZXJpYWxzLFxyXG4gICAgZ2V0RmFjdG9yeVByb2R1Y3Rpb24sXHJcbiAgICBsb2FkRmFjdG9yeSxcclxuICAgIGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZ1xyXG59O1xyXG4iLCJmdW5jdGlvbiBmaXRDaGFyVG9DZWxsKGNoYXIsIGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgaW5pdGlhbEZvbnRTaXplKSB7XHJcbiAgICAvLyBDcmVhdGUgYSB0ZW1wb3Jhcnkgc3BhbiBlbGVtZW50IHRvIG1lYXN1cmUgdGhlIGNoYXJhY3RlclxyXG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIHNwYW4udGV4dENvbnRlbnQgPSBjaGFyO1xyXG4gICAgc3Bhbi5zdHlsZS5mb250U2l6ZSA9IGAke2luaXRpYWxGb250U2l6ZX1weGA7XHJcbiAgICBzcGFuLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsgLy8gc28gaXQgZG9lc24ndCBhZmZlY3QgdGhlIGxheW91dFxyXG4gICAgc3Bhbi5zdHlsZS53aGl0ZVNwYWNlID0gJ25vd3JhcCc7IC8vIHRvIHByZXZlbnQgbGluZSBicmVha3NcclxuICAgIHNwYW4uc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nOyAvLyB0byBrZWVwIGl0IGhpZGRlblxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzcGFuKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgc3BhbiBmaXRzIHdpdGhpbiB0aGUgZGltZW5zaW9ucywgYW5kIGFkanVzdCBmb250IHNpemUgaWYgbm90XHJcbiAgICBsZXQgY3VycmVudEZvbnRTaXplID0gaW5pdGlhbEZvbnRTaXplO1xyXG4gICAgd2hpbGUgKHNwYW4ub2Zmc2V0V2lkdGggPCBjZWxsV2lkdGggJiYgc3Bhbi5vZmZzZXRIZWlnaHQgPCBjZWxsSGVpZ2h0KSB7XHJcbiAgICAgICAgY3VycmVudEZvbnRTaXplKys7XHJcbiAgICAgICAgc3Bhbi5zdHlsZS5mb250U2l6ZSA9IGAke2N1cnJlbnRGb250U2l6ZX1weGA7XHJcblxyXG4gICAgICAgIC8vIE9wdGlvbmFsOiBzdG9wIGlmIHRoZSBmb250IHNpemUgZ2V0cyB0b28gc21hbGxcclxuICAgICAgICBpZiAoY3VycmVudEZvbnRTaXplID49IDEwMDApIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENsZWFuIHVwOiByZW1vdmUgdGhlIHRlbXBvcmFyeSBzcGFuIGVsZW1lbnRcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc3Bhbik7XHJcblxyXG4gICAgcmV0dXJuIGN1cnJlbnRGb250U2l6ZTtcclxufVxyXG5leHBvcnRzLmZpdENoYXJUb0NlbGwgPSBmaXRDaGFyVG9DZWxsO1xyXG4iLCJjb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGNhcGl0YWxpemVGaXJzdCB9ID0gcmVxdWlyZSgnLi9jYXBpdGFsaXplRmlyc3QnKTtcclxuY29uc3QgeyBnZXRTZnhWb2x1bWUgfSA9IHJlcXVpcmUoJy4vYXVkaW8nKTtcclxuY29uc3QgeyB1cGRhdGVEaXNwbGF5VmFsdWUgfSA9IHJlcXVpcmUoJy4vc2lkZWJhcicpO1xyXG5cclxuLyogR0FUSEVSSU5HIE1BVEVSSUFMUyovXHJcbmNvbnN0IHNpZGViYXJQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jlc291cmNlc1wiKTtcclxuZnVuY3Rpb24gc3RvcEFsbEdhdGhlcmluZygpIHtcclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhyZXNvdXJjZXMpKSB7XHJcbiAgICAgICAgdmFsLmlzR2V0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhdGhlclwiICsgY2FwaXRhbGl6ZUZpcnN0KGtleSkpO1xyXG4gICAgICAgIGlmIChyQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHJCdXR0b24udGV4dENvbnRlbnQgPSB2YWwuZGVmYXVsdFRleHQ7XHJcbiAgICAgICAgICAgIHJCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnZ2F0aGVyaW5nJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgc2lkZWJhciB0byBub3QgYm9sZFxyXG4gICAgICAgIGNvbnN0IHNpZGViYXJUZXh0ID0gc2lkZWJhclBhcmVudC5xdWVyeVNlbGVjdG9yKCcjcmVzb3VyY2UtJyArIGtleSk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChzaWRlYmFyVGV4dCkgc2lkZWJhclRleHQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xyXG4gICAgICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShrZXkpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGVtb2ppR2F0aGVyRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vtb2ppR2F0aGVyRGlzcGxheScpO1xyXG5mdW5jdGlvbiB0b2dnbGVSZXNvdXJjZShyZXNvdXJjZUtleSkge1xyXG5cclxuICAgIGNvbnN0IGdhdGhlckF1ZGlvID0gbmV3IEF1ZGlvKCcuL2F1ZGlvL2dhdGhlci53YXYnKTtcclxuICAgIGdhdGhlckF1ZGlvLnZvbHVtZSA9IGdldFNmeFZvbHVtZSgpO1xyXG4gICAgZ2F0aGVyQXVkaW8ucGxheSgpO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlID0gcmVzb3VyY2VzW3Jlc291cmNlS2V5XTtcclxuXHJcblxyXG4gICAgY29uc3Qgc2lkZWJhclBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzb3VyY2VzXCIpO1xyXG5cclxuICAgIGNvbnN0IHNpZGViYXJUZXh0ID0gc2lkZWJhclBhcmVudC5xdWVyeVNlbGVjdG9yKCcjcmVzb3VyY2UtJyArIHJlc291cmNlS2V5KTtcclxuICAgIGNvbnN0IHJlc291cmNlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhdGhlcicgKyByZXNvdXJjZUtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlc291cmNlS2V5LnNsaWNlKDEpKTtcclxuICAgIGVtb2ppR2F0aGVyRGl2LnRleHRDb250ZW50ID0gJ/CTgJ8nOyAvLyBEZWZhdWx0IGVtb2ppIPCTgJ9cclxuXHJcblxyXG4gICAgaWYgKCFyZXNvdXJjZS5pc0dldHRpbmcpIHtcclxuICAgICAgICBzdG9wQWxsR2F0aGVyaW5nKCk7IC8vIFN0b3AgYWxsIGdhdGhlcmluZyBhY3Rpb25zXHJcbiAgICAgICAgcmVzb3VyY2UuaXNHZXR0aW5nID0gdHJ1ZTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcmVzb3VyY2VCdXR0b24udGV4dENvbnRlbnQgPSByZXNvdXJjZS5hY3RpdmVUZXh0O1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoc2lkZWJhclRleHQpIHNpZGViYXJUZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGVtb2ppR2F0aGVyRGl2LnRleHRDb250ZW50ID0gcmVzb3VyY2UuZW1vamk7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzb3VyY2UuZW1vamkpO1xyXG4gICAgICAgIHJlc291cmNlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2dhdGhlcmluZycpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvdXJjZS5pc0dldHRpbmcgPSBmYWxzZTtcclxuICAgICAgICByZXNvdXJjZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdnYXRoZXJpbmcnKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcmVzb3VyY2VCdXR0b24udGV4dENvbnRlbnQgPSByZXNvdXJjZS5kZWZhdWx0VGV4dDtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKHNpZGViYXJUZXh0KSBzaWRlYmFyVGV4dC5zdHlsZS5mb250V2VpZ2h0ID0gJ25vcm1hbCc7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy50b2dnbGVSZXNvdXJjZSA9IHRvZ2dsZVJlc291cmNlO1xyXG4iLCJjb25zdCB7IGNyYWZ0ZWRSZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9jcmFmdGVkUmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgYnVpbGRpbmdzIH0gPSByZXF1aXJlKFwiLi9qc29uL2J1aWxkaW5nc1wiKTtcclxuY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKFwiLi9qc29uL2J1dHRvbnNcIik7XHJcbmNvbnN0IHsgZ2VuZXJhdGVUb29sdGlwQ29zdCB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBjcmVhdGVCdWlsZGluZ0J1dHRvbiB9ID0gcmVxdWlyZSgnLi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyBoYXNQZXJrIH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbmNvbnN0IHsgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QgfSA9IHJlcXVpcmUoJy4vcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QnKTtcclxuY29uc3QgeyBzaG93VGFiIH0gPSByZXF1aXJlKCcuL3Nob3dUYWInKTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlZENvbHVtbnMocGFyZW50KSB7XHJcbiAgICBjb25zdCBjb2x1bW5zID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGNvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGNvbC5zdHlsZS53aWR0aCA9ICczMy4zMyUnO1xyXG4gICAgICAgIGNvbC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcbiAgICAgICAgY29sLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgICAgICBwYXJlbnQucHJlcGVuZChjb2wpO1xyXG4gICAgICAgIGNvbHVtbnMucHVzaChjb2wpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbHVtbnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbkVsZW1lbnQoYnRuLCBrZXkpIHtcclxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHJcbiAgICBidXR0b25FbGVtZW50LmlkID0ga2V5O1xyXG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc05hbWUgPSBidG4uY2xhc3M7XHJcbiAgICBidXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gYnRuLnRleHQuc3BsaXQoJ18nKS5qb2luKCcgJyk7XHJcblxyXG4gICAgLy8gYnV0dG9uRWxlbWVudC5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgIGlmIChidG4udG9vbHRpcERlc2MpIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycsIGJ0bi50b29sdGlwRGVzYyk7XHJcbiAgICBpZiAoYnRuLnRvb2x0aXBFZmZlY3QpIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZWZmZWN0JywgYnRuLnRvb2x0aXBFZmZlY3QpO1xyXG4gICAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3VubG9jaycsIGJ0bi51bmxvY2spO1xyXG4gICAgLy8gY29uc29sZS5sb2coYnRuKTtcclxuICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJywgYnRuLmRhdGFfYnVpbGRpbmcpO1xyXG4gICAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XHJcbn1cclxuXHJcbi8qIEJVVFRPTlMgR0VORVJBVEUgKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVCdXR0b25zKCkge1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiR2VuZXJhdGluZyBidXR0b25zXCIpO1xyXG4gICAgY29uc29sZS50cmFjZSgpO1xyXG4gICAgLy8gQ3JlYXRlIHRoZSBjb2x1bW5zXHJcbiAgICBmb3IgKGxldCBidWlsZGluZ0tleSBpbiBidWlsZGluZ3MpIHtcclxuICAgICAgICBjb25zdCBidXR0b24gPSBjcmVhdGVCdWlsZGluZ0J1dHRvbihidWlsZGluZ0tleSwgYnVpbGRpbmdzKTtcclxuICAgICAgICBidXR0b25zW2J1aWxkaW5nS2V5XSA9IGJ1dHRvbjtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIk1hZGUgYnV0dG9uIGZvciBcIiArIGJ1aWxkaW5nS2V5KTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGNvbnN0IHRhYnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFicycpO1xyXG4gICAgY29uc3QgcHJvZHVjdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9kdWN0aW9uVGFiJyk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBleHBlcmltZW50Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4cGVyaW1lbnRUYWInKS5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLWNvbHVtbnMnKTtcclxuICAgIGNvbnN0IHBvbmRlckNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb25kZXJUYWInKTtcclxuXHJcbiAgICAvLyBZb3UgY2FuIGFkZCBtb3JlIGNvbnRhaW5lcnMgZm9yIGRpZmZlcmVudCB0YWJzIGFzIG5lZWRlZFxyXG4gICAgLy8gY29uc3QgcHJvZHVjdGlvbkNvbHVtbnMgPSBjcmVhdGVDb2x1bW5zKHByb2R1Y3Rpb25Db250YWluZXIpO1xyXG4gICAgY29uc3QgZXhwZXJpbWVudENvbHVtbnMgPSBjcmVhdGVTdHlsZWRDb2x1bW5zKGV4cGVyaW1lbnRDb250YWluZXIpO1xyXG4gICAgY29uc3QgcG9uZGVyQ29sdW1ucyA9IGNyZWF0ZVN0eWxlZENvbHVtbnMocG9uZGVyQ29udGFpbmVyKTtcclxuXHJcbiAgICAvLyBTaW1pbGFybHksIGNyZWF0ZSBjb2x1bW5zIGZvciBvdGhlciB0YWJzIGFzIG5lZWRlZFxyXG4gICAgbGV0IHByb2R1Y3Rpb25Db2x1bW5JbmRleCA9IDE7XHJcbiAgICBsZXQgZXhwZXJpbWVudENvbHVtbkluZGV4ID0gMDtcclxuICAgIGxldCBwb25kZXJDb2x1bW5JbmRleCA9IDE7XHJcblxyXG4gICAgLy8gQWRkIGNvdW50ZXJzIGZvciBvdGhlciB0YWJzIGFzIG5lZWRlZFxyXG4gICAgZm9yIChsZXQga2V5IGluIGJ1dHRvbnMpIHtcclxuICAgICAgICBjb25zdCBidG4gPSBidXR0b25zW2tleV07XHJcbiAgICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGNyZWF0ZUJ1dHRvbkVsZW1lbnQoYnRuLCBrZXkpO1xyXG5cclxuICAgICAgICAvLyBpZiB0aGlzIHJlc291cmNlIGlzbid0IHVubG9ja2VkLCBoaWRlIGl0XHJcbiAgICAgICAgLy8gaWYgKCFidG4uaXNWaXNpYmxlKSBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBidXR0b24gY29ycmVzcG9uZHMgdG8gYSBjcmFmdGVkIHJlc291cmNlIHVzaW5nIHRoZSBJRFxyXG4gICAgICAgIGNvbnN0IGNyYWZ0ZWRSZXNvdXJjZSA9IE9iamVjdC52YWx1ZXMoY3JhZnRlZFJlc291cmNlcykuZmluZChyZXNvdXJjZSA9PiByZXNvdXJjZS5pZCA9PT0ga2V5KTtcclxuXHJcbiAgICAgICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICBidG4udG9vbHRpcENvc3QgPSBnZW5lcmF0ZVRvb2x0aXBDb3N0KGNyYWZ0ZWRSZXNvdXJjZS5jb3N0KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBidG4udG9vbHRpcENvc3QpO1xyXG5cclxuICAgICAgICBpZiAoYnRuLnNob3dUYWIpIHtcclxuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHNob3dUYWIoYnRuLnNob3dUYWIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTd2l0Y2hpbmcgdG8gdGFiOiBcIiArIGJ0bi5zaG93VGFiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFwcGVuZCB0byB0aGUgYXBwcm9wcmlhdGUgY29sdW1uIGJhc2VkIG9uIHRoZSB0YWIgcHJvcGVydHlcclxuICAgICAgICBpZiAoYnRuLnRhYiA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIC8vc3R5bGU9J2dyaWQtY29sdW1uOiR7Y29sfTsgZ3JpZC1yb3c6JHtyb3d9O1xyXG4gICAgICAgICAgICBidXR0b25FbGVtZW50LnN0eWxlLmdyaWRDb2x1bW4gPSBwcm9kdWN0aW9uQ29sdW1uSW5kZXgudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgLy8gYnV0dG9uRWxlbWVudC5zdHlsZS5ncmlkUm93ID0gJzAnO1xyXG4gICAgICAgICAgICBwcm9kdWN0aW9uQ29sdW1uSW5kZXggPSAocHJvZHVjdGlvbkNvbHVtbkluZGV4ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICBwcm9kdWN0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICAvLyBwcm9kdWN0aW9uQ29sdW1uc1twcm9kdWN0aW9uQ29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICAvLyBwcm9kdWN0aW9uQ29sdW1uSW5kZXggPSAocHJvZHVjdGlvbkNvbHVtbkluZGV4ICsgMSkgJSAzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYnRuLnRhYiA9PT0gJ2V4cGVyaW1lbnQnKSB7XHJcbiAgICAgICAgICAgIGV4cGVyaW1lbnRDb2x1bW5zW2V4cGVyaW1lbnRDb2x1bW5JbmRleF0uYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgICAgICAgIGV4cGVyaW1lbnRDb2x1bW5JbmRleCA9IChleHBlcmltZW50Q29sdW1uSW5kZXggKyAxKSAlIDM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChidG4udGFiID09PSAndGFicycpIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICB0YWJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYnRuLnRhYiA9PT0gJ3BvbmRlcicpIHtcclxuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5zdHlsZS5ncmlkQ29sdW1uID0gcG9uZGVyQ29sdW1uSW5kZXgudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgcG9uZGVyQ29sdW1uSW5kZXggPSAocG9uZGVyQ29sdW1uSW5kZXggKyAxKSAlIDM7XHJcbiAgICAgICAgICAgIHBvbmRlckNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGJ0bi50YWIgPT09ICdqb2InKSB7XHJcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgYnV0IGNhdGNoIHRoZSBqb2JzXHJcblxyXG4gICAgICAgICAgICAvLyBqb2JDb2x1bW5zW2pvYkNvbHVtbkluZGV4XS5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgLy8gam9iQ29sdW1uSW5kZXggPSAoam9iQ29sdW1uSW5kZXggKyAxKSAlIDM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChidG4udGFiKS5hcHBlbmRDaGlsZChidG4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgbW9yZSBjb25kaXRpb25zIGZvciBvdGhlciB0YWJzIGFzIG5lZWRlZFxyXG4gICAgICAgIC8vIFVwZGF0ZSB0b29sdGlwIGZvciBidWlsZGluZ3NcclxuICAgICAgICBjb25zdCBidWlsZGluZyA9IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykuZmluZChidWlsZGluZyA9PiBidWlsZGluZyA9PT0ga2V5KTtcclxuICAgICAgICBpZiAoYnVpbGRpbmcpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnVpbGRpbmcsIGtleSk7XHJcbiAgICAgICAgICAgIC8vIGJ0bi50b29sdGlwQ29zdCA9IGdlbmVyYXRlQnVpbGRpbmdUb29sdGlwQ29zdChidWlsZGluZ3NbYnVpbGRpbmddLmNvc3QpO1xyXG4gICAgICAgICAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBIaWRlIHRoZSBidXR0b25zIHdlIHNob3VsZG4ndCBzZWUgeWV0XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnRuKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoIWJ0bi5yZXF1aXJlbWVudCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b25FbGVtZW50LCBidG4ucmVxdWlyZW1lbnQoKSk7XHJcbiAgICAgICAgICAgICAgICBidXR0b25FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKCdFcnJvciB3aXRoIHJlcXVpcmVtZW50IHdoaWxlIGdlbmVyYXRpbmcgYnV0dG9uczogJywgYnRuLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmdlbmVyYXRlQnV0dG9ucyA9IGdlbmVyYXRlQnV0dG9ucztcclxuIiwiY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoXCIuL2NhcGl0YWxpemVGaXJzdFwiKTtcclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXNcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL3Jlc291cmNlc1wiKTtcclxuXHJcbi8vIERlZmluZSBhIGxpc3Qgb2YgcG9zc2libGUgYnVpbGRpbmcgbmFtZXMsIGNvc3RzLCBhbmQgZGVzY3JpcHRpb25zXHJcbmNvbnN0IHBvc3NpYmxlUmVzb3VyY2VzID0gT2JqZWN0LmtleXMocmVzb3VyY2VzKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ2h1c2tzJyk7XHJcbmNvbnN0IHBvc3NpYmxlQ3JhZnRlZFJlc291cmNlcyA9IE9iamVjdC5rZXlzKGNyYWZ0ZWRSZXNvdXJjZXMpO1xyXG5cclxuLyoqXHJcbiAqIENhbGN1bGF0ZSBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiBtaW4gYW5kIG1heFxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIExvd2VyIGJvdW5kIG9mIHRoZSByYW5kb20gbnVtYmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVXBwZXIgYm91bmQgb2YgdGhlIHJhbmRvbSBudW1iZXJcclxuICogQHJldHVybnMgQSByYW5kb20gbnVtYmVyIGJldHdlZW4gbWluIGFuZCBtYXhcclxuICovXHJcbmZ1bmN0aW9uIGdldFJhbmRvbU51bWJlcihtaW4sIG1heCkge1xyXG4gIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBhIHJhbmRvbSBlbW9qaSBpbiB0aGUgZWd5cHRpYW4gaGVpcm9nbHlwaGljIHNldCAoMHgxMzExYi0weDEzMTNlICYgMHgxMzFlMy0weDEzMjFGKVxyXG4gKiBAcmV0dXJucyBBIHJhbmRvbSBlbW9qaSBpbiB0aGUgZWd5cHRpYW4gaGVpcm9nbHlwaGljIHNldFxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UmFuZG9tRW1vamkoKSB7XHJcbiAgLy8gRGVmaW5lIHRoZSBVbmljb2RlIHJhbmdlcyBmb3IgcmFuZG9tIGVtb2ppc1xyXG4gIGNvbnN0IHJhbmdlcyA9IFtcclxuICAgIHsgc3RhcnQ6IDB4MTMxMUIsIGVuZDogMHgxMzEzRSB9LFxyXG4gICAgeyBzdGFydDogMHgxMzFFMywgZW5kOiAweDEzMjFGIH0sXHJcbiAgXTtcclxuXHJcbiAgLy8gQ2hvb3NlIGEgcmFuZG9tIHJhbmdlXHJcbiAgY29uc3QgcmFuZG9tUmFuZ2UgPSByYW5nZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcmFuZ2VzLmxlbmd0aCldO1xyXG5cclxuICAvLyBHZW5lcmF0ZSBhIHJhbmRvbSBVbmljb2RlIGNoYXJhY3RlciB3aXRoaW4gdGhlIHNlbGVjdGVkIHJhbmdlXHJcbiAgY29uc3QgcmFuZG9tVW5pY29kZSA9IE1hdGguZmxvb3IoZ2V0UmFuZG9tTnVtYmVyKHJhbmRvbVJhbmdlLnN0YXJ0LCByYW5kb21SYW5nZS5lbmQgKyAxKSk7XHJcblxyXG4gIC8vIENvbnZlcnQgdGhlIFVuaWNvZGUgY29kZSBwb2ludCB0byBhIEphdmFTY3JpcHQgc3RyaW5nXHJcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KHJhbmRvbVVuaWNvZGUpO1xyXG59XHJcblxyXG5jb25zdCBhZGplY3RpdmVzID0gW1xyXG4gICdidXN0bGluZycsXHJcbiAgJ21hamVzdGljJyxcclxuICAnYW5jaWVudCcsXHJcbiAgJ2VsZWdhbnQnLFxyXG4gICdoaWRkZW4nLFxyXG4gICdnbG9yaW91cycsXHJcbiAgJ2VuY2hhbnRlZCcsXHJcbiAgJ3doaXNwZXJpbmcnLFxyXG4gICdteXN0aWNhbCcsXHJcbiAgJ2x1bWlub3VzJyxcclxuICAncmFkaWFudCcsXHJcbiAgJ3NwZWN0YWN1bGFyJyxcclxuICAnZGF6emxpbmcnLFxyXG4gICdzZXJlbmFkZScsXHJcbiAgJ2NlbGVzdGlhbCcsXHJcbiAgJ3ZpYnJhbnQnLFxyXG4gICdpbXBvc2luZycsXHJcbiAgJ3ZlbmVyYWJsZScsXHJcbiAgJ2ltbWFjdWxhdGUnLFxyXG4gICdlbmlnbWF0aWMnLFxyXG4gICdoYXJtb25pb3VzJyxcclxuICAnZXRoZXJlYWwnLFxyXG4gICdyZXNwbGVuZGVudCcsXHJcbiAgJ3RyYW5xdWlsJyxcclxuICAnc2VyZW5lJyxcclxuICAnYXdlLWluc3BpcmluZycsXHJcbiAgJ3BlYWNlZnVsJyxcclxuICAncGljdHVyZXNxdWUnLFxyXG4gICdjYXB0aXZhdGluZycsXHJcbl07XHJcblxyXG5jb25zdCBidWlsZGluZ05hbWVzID0gW1xyXG4gICdTYW5jdHVhcnknLFxyXG4gICdDaXRhZGVsJyxcclxuICAnSGF2ZW4nLFxyXG4gICdNb25hc3RlcnknLFxyXG4gICdPdXRwb3N0JyxcclxuICAnT2JzZXJ2YXRvcnknLFxyXG4gICdTdHJvbmdob2xkJyxcclxuICAnUGFsYWNlJyxcclxuICAnVGVtcGxlJyxcclxuICAnTWFub3InLFxyXG4gICdLZWVwJyxcclxuICAnQ2hhdGVhdScsXHJcbiAgJ0Fjcm9wb2xpcycsXHJcbiAgJ0NhdGhlZHJhbCcsXHJcbiAgJ1ZpbGxhJyxcclxuICAnRm9ydHJlc3MnLFxyXG4gICdCYXN0aW9uJyxcclxuICAnTGlnaHRob3VzZScsXHJcbiAgJ0Nhc3RsZScsXHJcbiAgJ0NvbGlzZXVtJyxcclxuICAnUHlyYW1pZCcsXHJcbiAgJ01hbnNpb24nLFxyXG4gICdFc3RhdGUnLFxyXG4gICdNdXNldW0nLFxyXG4gICdUb3dlcicsXHJcbiAgJ0hhbGwnLFxyXG4gICdMaWJyYXJ5JyxcclxuICAnR2FsbGVyeScsXHJcbiAgJ0JhemFhcicsXHJcbl07XHJcblxyXG4vKipcclxuICogRnVuY3Rpb24gdG8gZ2VuZXJhdGUgYSByYW5kb20gYnVpbGRpbmcgbmFtZSBieSBjb21iaW5pbmcgYW4gYWRqZWN0aXZlIGFuZCBhIGJ1aWxkaW5nIG5hbWVcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQnVpbGRpbmdOYW1lKCkge1xyXG4gIGNvbnN0IHJhbmRvbUFkamVjdGl2ZSA9IGFkamVjdGl2ZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYWRqZWN0aXZlcy5sZW5ndGgpXTtcclxuICBjb25zdCByYW5kb21CdWlsZGluZ05hbWUgPSBidWlsZGluZ05hbWVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJ1aWxkaW5nTmFtZXMubGVuZ3RoKV07XHJcbiAgcmV0dXJuIGAke2NhcGl0YWxpemVGaXJzdChyYW5kb21BZGplY3RpdmUpfSAke3JhbmRvbUJ1aWxkaW5nTmFtZX1gO1xyXG59XHJcblxyXG5cclxuY29uc3Qgbm91bnMgPSBbXHJcbiAgJ3NhbmN0dWFyeScsXHJcbiAgJ2NpdGFkZWwnLFxyXG4gICdoYXZlbicsXHJcbiAgJ21vbmFzdGVyeScsXHJcbiAgJ291dHBvc3QnLFxyXG4gICdvYnNlcnZhdG9yeScsXHJcbiAgJ3N0cm9uZ2hvbGQnLFxyXG4gICdwYWxhY2UnLFxyXG4gICd0ZW1wbGUnLFxyXG4gICdtYW5vcicsXHJcbl07XHJcblxyXG5jb25zdCB2ZXJicyA9IFtcclxuICAncHJvdmlkZXMnLFxyXG4gICdlbmhhbmNlcycsXHJcbiAgJ2ltYnVlcycsXHJcbiAgJ3JhZGlhdGVzJyxcclxuICAnZW1ib2RpZXMnLFxyXG4gICdpbnNwaXJlcycsXHJcbiAgJ2V2b2tlcycsXHJcbiAgJ2V4dWRlcycsXHJcbiAgJ2Jlc3Rvd3MnLFxyXG4gICdjcmVhdGVzJyxcclxuXTtcclxuXHJcbmNvbnN0IHByZXBvc2l0aW9ucyA9IFtcclxuICAnd2l0aCcsXHJcbiAgJ3Rocm91Z2gnLFxyXG4gICdhbWlkc3QnLFxyXG4gICdiZW5lYXRoJyxcclxuICAnYWJvdmUnLFxyXG4gICdhbG9uZ3NpZGUnLFxyXG5dO1xyXG5cclxuY29uc3QgY29uanVuY3Rpb25zID0gW1xyXG4gICdhbmQnLFxyXG4gICd3aGlsZScsXHJcbiAgJ2FzJyxcclxuICAnYWx0aG91Z2gnLFxyXG4gICd5ZXQnLFxyXG5dO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlIGEgcmFuZG9tIGRlc2NyaXB0aW9uIG9mIGEgYnVpbGRpbmdcclxuICogQHJldHVybnMgQSBzdHJpbmcgY29udGFpbmluZyBhIGRlc2NyaXB0aW9uIG9mIGEgYnVpbGRpbmdcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQnVpbGRpbmdEZXNjcmlwdGlvbigpIHtcclxuICBjb25zdCByYW5kb21BZGplY3RpdmUgPSBhZGplY3RpdmVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFkamVjdGl2ZXMubGVuZ3RoKV07XHJcbiAgY29uc3QgcmFuZG9tQWRqZWN0aXZlMiA9IGFkamVjdGl2ZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYWRqZWN0aXZlcy5sZW5ndGgpXTtcclxuXHJcbiAgY29uc3QgcmFuZG9tTm91biA9IG5vdW5zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG5vdW5zLmxlbmd0aCldO1xyXG4gIGNvbnN0IHJhbmRvbVZlcmIgPSB2ZXJic1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB2ZXJicy5sZW5ndGgpXTtcclxuICBjb25zdCByYW5kb21QcmVwb3NpdGlvbiA9IHByZXBvc2l0aW9uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwcmVwb3NpdGlvbnMubGVuZ3RoKV07XHJcbiAgY29uc3QgcmFuZG9tQ29uanVuY3Rpb24gPSBjb25qdW5jdGlvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29uanVuY3Rpb25zLmxlbmd0aCldO1xyXG5cclxuICBjb25zdCBzZW50ZW5jZVN0cnVjdHVyZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYpOyAvLyBIb3cgbWFueSBzZW50ZW5jZSBzdHJ1Y3R1cmVzIHdlIGhhdmVcclxuXHJcbiAgbGV0IGRlc2NyaXB0aW9uID0gJyc7XHJcblxyXG4gIHN3aXRjaCAoc2VudGVuY2VTdHJ1Y3R1cmUpIHtcclxuICAgIGNhc2UgMDpcclxuICAgICAgZGVzY3JpcHRpb24gPSBgJHtyYW5kb21BZGplY3RpdmV9ICR7cmFuZG9tTm91bn0gdGhhdCAke3JhbmRvbVZlcmJ9IGFuIGF1cmEgb2Ygc3BsZW5kb3IuYDtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIDE6XHJcbiAgICAgIGRlc2NyaXB0aW9uID0gYCR7Y2FwaXRhbGl6ZUZpcnN0KHJhbmRvbVByZXBvc2l0aW9uKX0gaXRzICR7cmFuZG9tQWRqZWN0aXZlfSBhcHBlYXJhbmNlLCB0aGUgJHtyYW5kb21Ob3VufSAke3JhbmRvbVZlcmJ9IGFuIGF1cmEgb2YgJHtyYW5kb21BZGplY3RpdmUyfS5gO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgMjpcclxuICAgICAgZGVzY3JpcHRpb24gPSBgJHtjYXBpdGFsaXplRmlyc3QocmFuZG9tQWRqZWN0aXZlKX0gJHtyYW5kb21Ob3VufSAke3JhbmRvbVZlcmJ9IGdyYWNlZnVsbHksIGV4dWRpbmcgYW4gZW5jaGFudGluZyBhdG1vc3BoZXJlLmA7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAzOlxyXG4gICAgICBkZXNjcmlwdGlvbiA9IGBUaGUgJHtyYW5kb21Ob3VufSBpcyAke3JhbmRvbUFkamVjdGl2ZX0gYW5kICR7cmFuZG9tVmVyYn0gd2l0aCBhIHNlbnNlIG9mIHdvbmRlci5gO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgNDpcclxuICAgICAgZGVzY3JpcHRpb24gPSBgQW1pZHN0IHRoZSAke3JhbmRvbUFkamVjdGl2ZX0gc3Vycm91bmRpbmdzLCB0aGUgJHtyYW5kb21Ob3VufSAke3JhbmRvbVZlcmJ9IHRyYW5xdWlsaXR5IGFuZCBiZWF1dHkuYDtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIDU6XHJcbiAgICAgIGRlc2NyaXB0aW9uID0gYEFuICR7cmFuZG9tQWRqZWN0aXZlfSAke3JhbmRvbU5vdW59IHRoYXQgJHtyYW5kb21WZXJifSBhbiBhdXJhIG9mIGNoYXJtICR7cmFuZG9tQ29uanVuY3Rpb259IG15c3RpcXVlLmA7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgZGVzY3JpcHRpb24gPSBgJHtjYXBpdGFsaXplRmlyc3QocmFuZG9tQWRqZWN0aXZlKX0gJHtyYW5kb21Ob3VufSB0aGF0ICR7cmFuZG9tVmVyYn0gYW4gYXVyYSBvZiBzcGxlbmRvci5gO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRlc2NyaXB0aW9uO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhdGUgYSByYW5kb20gYnVpbGRpbmdcclxuICogQHJldHVybnMgQSBidWlsZGluZyBvYmplY3QgY29udGFpbmluZyBhIG5hbWUsIGRlc2NyaXB0aW9uLCBlZmZlY3RzLCBib29zdHMsIGFuZCBjb3N0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUJ1aWxkaW5nKCkge1xyXG4gIC8vIFJhbmRvbWx5IHNlbGVjdCBhIG5hbWUsIGRlc2NyaXB0aW9uLCBhbmQgY29zdCBmb3IgdGhlIGJ1aWxkaW5nXHJcbiAgY29uc3QgcmFuZG9tTmFtZSA9IGdlbmVyYXRlQnVpbGRpbmdOYW1lKCk7XHJcbiAgY29uc3QgcmFuZG9tRGVzY3JpcHRpb24gPSBnZW5lcmF0ZUJ1aWxkaW5nRGVzY3JpcHRpb24oKTtcclxuXHJcbiAgLy8gUmFuZG9tbHkgY2hvb3NlIDEtMyByYW5kb20gcmVzb3VyY2VzIGZvciB0aGUgY29zdFxyXG4gIGNvbnN0IG51bVJlc291cmNlcyA9IGdldFJhbmRvbU51bWJlcigxLCAzKTtcclxuICBjb25zdCByYW5kb21Db3N0cyA9IHt9O1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUmVzb3VyY2VzOyBpKyspIHtcclxuICAgIC8vIFdlIGRvbid0IGNhcmUgYWJvdXQgcmVwZWF0cywgaXQncyB0aGUgc2FtZSBhcyByb2xsaW5nIG9uZSBmZXdlciBjb3N0XHJcbiAgICBjb25zdCByYW5kb21SZXNvdXJjZSA9IHBvc3NpYmxlUmVzb3VyY2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlUmVzb3VyY2VzLmxlbmd0aCldO1xyXG4gICAgcmFuZG9tQ29zdHNbcmFuZG9tUmVzb3VyY2VdID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwICogKDUgLSBudW1SZXNvdXJjZXMpKTsgLy8gRmV3ZXIgcmVzb3VyY2VzIG1lYW5zIG1vcmUgZXhwZW5zaXZlXHJcbiAgfVxyXG5cclxuICAvLyAwLTEgY3JhZnRlZCByZXNvdXJjZXNcclxuICBjb25zdCBudW1DcmFmdGVkUmVzb3VyY2VzID0gZ2V0UmFuZG9tTnVtYmVyKDAsIDEpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQ3JhZnRlZFJlc291cmNlczsgaSsrKSB7XHJcbiAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IHJlcGVhdHMsIGl0J3MgdGhlIHNhbWUgYXMgcm9sbGluZyBvbmUgZmV3ZXIgY29zdFxyXG4gICAgY29uc3QgcmFuZG9tUmVzb3VyY2UgPSBwb3NzaWJsZUNyYWZ0ZWRSZXNvdXJjZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGVDcmFmdGVkUmVzb3VyY2VzLmxlbmd0aCldO1xyXG4gICAgcmFuZG9tQ29zdHNbcmFuZG9tUmVzb3VyY2VdID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNTApO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIEdlbmVyYXRlIHJhbmRvbSBlZmZlY3RzXHJcbiAgY29uc3QgcmFuZG9tRWZmZWN0cyA9IHt9O1xyXG4gIGNvbnN0IG51bUVmZmVjdHMgPSBnZXRSYW5kb21OdW1iZXIoMCwgMSk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1FZmZlY3RzOyBpKyspIHtcclxuICAgIGNvbnN0IHJhbmRvbVJlc291cmNlID0gcG9zc2libGVSZXNvdXJjZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGVSZXNvdXJjZXMubGVuZ3RoKV07XHJcbiAgICBsZXQgcmFuZG9tRWZmZWN0VmFsdWUgPSBNYXRoLmZsb29yKGdldFJhbmRvbU51bWJlcigzMCwgMjAwKSk7IC8vIEFkanVzdCB0aGUgcmFuZ2UgYXMgbmVlZGVkXHJcbiAgICBpZiAocmFuZG9tUmVzb3VyY2UgPT09ICdjbG9uZXMnKSByYW5kb21FZmZlY3RWYWx1ZSA9IE1hdGguZmxvb3IoZ2V0UmFuZG9tTnVtYmVyKDEsIDMpKTtcclxuICAgIGVsc2UgaWYgKHJhbmRvbVJlc291cmNlID09PSAnaHVza3MnKSByYW5kb21FZmZlY3RWYWx1ZSA9IE1hdGguZmxvb3IoZ2V0UmFuZG9tTnVtYmVyKDEsIDEwKSk7XHJcbiAgICByYW5kb21FZmZlY3RzW3JhbmRvbVJlc291cmNlXSA9IHJhbmRvbUVmZmVjdFZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLy8gR2VuZXJhdGUgcmFuZG9tIGJvb3N0c1xyXG4gIGNvbnN0IHJhbmRvbUJvb3N0cyA9IHt9O1xyXG4gIGNvbnN0IG51bUJvb3N0cyA9IGdldFJhbmRvbU51bWJlcihudW1FZmZlY3RzID09PSAwID8gMSA6IDAsIDEpOyAvLyBFbnN1cmUgdGhlIGJ1aWxkaW5nIGRvZXMgKnNvbWV0aGluZypcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUJvb3N0czsgaSsrKSB7XHJcbiAgICBjb25zdCByYW5kb21SZXNvdXJjZSA9IHBvc3NpYmxlUmVzb3VyY2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlUmVzb3VyY2VzLmxlbmd0aCldO1xyXG4gICAgY29uc3QgcmFuZG9tQm9vc3RWYWx1ZSA9IGdldFJhbmRvbU51bWJlcigxLjAxLCAxLjIpOyAvLyBBZGp1c3QgdGhlIHJhbmdlIGFzIG5lZWRlZFxyXG4gICAgcmFuZG9tQm9vc3RzW3JhbmRvbVJlc291cmNlXSA9IHJhbmRvbUJvb3N0VmFsdWU7XHJcbiAgfVxyXG5cclxuICAvLyBDcmVhdGUgYSByYW5kb20gYnVpbGRpbmcgb2JqZWN0XHJcbiAgY29uc3QgcmFuZG9tQnVpbGRpbmcgPSB7XHJcbiAgICBuYW1lOiByYW5kb21OYW1lLFxyXG4gICAgZGVzY3JpcHRpb246IHJhbmRvbURlc2NyaXB0aW9uLFxyXG4gICAgYmFzZWNvc3Q6IHJhbmRvbUNvc3RzLFxyXG4gICAgY29zdDogcmFuZG9tQ29zdHMsXHJcbiAgICBlZmZlY3RzOiByYW5kb21FZmZlY3RzLFxyXG4gICAgYm9vc3Q6IHJhbmRvbUJvb3N0cyxcclxuICAgIGNvdW50OiAwLFxyXG4gICAgcmF0aW86IGdldFJhbmRvbU51bWJlcigxLjMsIDEuNiksXHJcbiAgICBlbW9qaTogZ2V0UmFuZG9tRW1vamkoKSxcclxuICB9O1xyXG5cclxuICByZXR1cm4gcmFuZG9tQnVpbGRpbmc7XHJcbn1cclxuZXhwb3J0cy5nZW5lcmF0ZVJhbmRvbUJ1aWxkaW5nID0gZ2VuZXJhdGVSYW5kb21CdWlsZGluZzsiLCIvKipcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG1hdGVyaWFsXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRDcmFmdGVkUmVzb3VyY2UobWF0ZXJpYWwsIGNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuXHJcbiAgICBtYXRlcmlhbCA9IG1hdGVyaWFsLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAvLyBMb2FkIGNyYWZ0ZWRSZXNvdXJjZXMgaWYgbm90IHByb3ZpZGVkXHJcbiAgICBpZiAoIWNyYWZ0ZWRSZXNvdXJjZXMpIGNyYWZ0ZWRSZXNvdXJjZXMgPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpLmNyYWZ0ZWRSZXNvdXJjZXM7XHJcblxyXG4gICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZXMuaGFzT3duUHJvcGVydHkobWF0ZXJpYWwpKSByZXR1cm4gY3JhZnRlZFJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgfHwgMDtcclxuICAgIGVsc2UgcmV0dXJuIDA7XHJcblxyXG59XHJcbmV4cG9ydHMuZ2V0Q3JhZnRlZFJlc291cmNlID0gZ2V0Q3JhZnRlZFJlc291cmNlO1xyXG4iLCJjb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi9nZXRDcmFmdGVkUmVzb3VyY2UnKTtcclxuLy8gY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5cclxuLy8gR2V0IGZ1bmN0aW9uIGZvciBtYXRlcmlhbHNcclxuLyoqXHJcbiAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIG1hdGVyaWFsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXRlcmlhbFxyXG4gKiBAcmV0dXJucyBWYWx1ZSBvZiBtYXRlcmlhbFxyXG4qL1xyXG5mdW5jdGlvbiBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSB7XHJcbiAgICBpZiAoIXJlc291cmNlcykgcmVzb3VyY2VzID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpLnJlc291cmNlcztcclxuICAgIGlmIChyZXNvdXJjZXMuaGFzT3duUHJvcGVydHkobWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIG1hdGVyaWFsOlwiLCBtYXRlcmlhbCk7ICAvLyBGb3IgZGVidWdnaW5nXHJcbiAgICAgICAgcmV0dXJuIGdldENyYWZ0ZWRSZXNvdXJjZShtYXRlcmlhbCwgbnVsbCk7XHJcblxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZ2V0TWF0ZXJpYWwgPSBnZXRNYXRlcmlhbDsiLCJjb25zdCB7IGhhc1ByZXN0aWdlLCBnZXRMZXZlbE9mUHJlc3RpZ2UgfSA9IHJlcXVpcmUoJy4vanNvbi9wcmVzdGlnZScpO1xyXG5jb25zdCB7IHJlc291cmNlcywgaXNSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZSgnLi9qc29uL3NraWxscycpO1xyXG5jb25zdCB7IGlzUG9uZGVyZWQgfSA9IHJlcXVpcmUoJy4vcG9uZGVyJyk7XHJcbmNvbnN0IHsgcGFzc2VkU3RhZ2UgfSA9IHJlcXVpcmUoJy4vc3RhZ2VzJyk7XHJcbmNvbnN0IHsgdXBkYXRlQm91bmNlQW5pbWF0aW9uIH0gPSByZXF1aXJlKCcuL3VwZGF0ZUJvdW5jZUFuaW1hdGlvbicpO1xyXG5cclxuXHJcblxyXG5cclxubGV0IGFsbFZpc2libGVCdXR0b25zID0gbmV3IFNldChbJ2dhdGhlclN0aWNrcyddKTtcclxuZXhwb3J0cy5hbGxWaXNpYmxlQnV0dG9ucyA9IGFsbFZpc2libGVCdXR0b25zO1xyXG5cclxuXHJcbi8vIENhbGN1bGF0ZSB0aGUgZmluYWwgbnVtYmVyIG9mIGNyYWZ0ZWQgZ29vZHMgZnJvbSBib251c2VzXHJcbmZ1bmN0aW9uIGNhbGNDcmFmdEJvbnVzKHJlc291cmNlS2V5KSB7XHJcbiAgICBsZXQgdG90YWwgPSAxO1xyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uYWZmZWN0ZWRSZXNvdXJjZXMuaW5jbHVkZXMocmVzb3VyY2VLZXkpKSB7XHJcbiAgICAgICAgICAgIGxldCBza2lsbFJhdGlvID0gMS4wNjtcclxuICAgICAgICAgICAgdmFyIG11bHQgPSAxICsgKE1hdGgucG93KHNraWxsUmF0aW8sIHNraWxsc1tza2lsbF0ubGV2ZWwpIC0gMSkgLyAxMDA7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTXVsdGlwbHlpbmcgZ2FpbiBieSBcIiArIG11bHQpO1xyXG4gICAgICAgICAgICB0b3RhbCAqPSBtdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdG90YWw7XHJcbn1cclxuXHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGdldEFmZmVjdGVkUmVzb3VyY2VzKHNraWxsKSB7XHJcbiAgICBpZiAoc2tpbGxzW3NraWxsXSkge1xyXG4gICAgICAgIHJldHVybiBza2lsbHNbc2tpbGxdLmFmZmVjdGVkUmVzb3VyY2VzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7ICAvLyBvciBhbiBlbXB0eSBhcnJheSBbXSwgYmFzZWQgb24geW91ciBwcmVmZXJlbmNlXHJcbn1cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF0ZXJpYWwgXHJcbiAqIEByZXR1cm5zIE1heCBvZiBtYXRlcmlhbCBvciBJbmZpbml0eVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TWF4KG1hdGVyaWFsKSB7XHJcbiAgICBpZiAoaXNSZXNvdXJjZShtYXRlcmlhbCkpIHtcclxuICAgICAgICBsZXQgYmFzZU1heCA9IHJlc291cmNlc1ttYXRlcmlhbF0uYmFzZW1heDsgLy8gU3RhdGljIGJhc2UgbWF4IHZhbHVlXHJcbiAgICAgICAgbGV0IG1heCA9IGJhc2VNYXg7XHJcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBidWlsZGluZ10gb2YgT2JqZWN0LmVudHJpZXMocmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpLmJ1aWxkaW5ncykpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGtleSwgYnVpbGRpbmcsIGJ1aWxkaW5nLmVmZmVjdHMpO1xyXG4gICAgICAgICAgICBpZiAoYnVpbGRpbmcuZWZmZWN0cyAmJiBidWlsZGluZy5lZmZlY3RzW21hdGVyaWFsXSlcclxuICAgICAgICAgICAgICAgIG1heCArPSBidWlsZGluZy5lZmZlY3RzW21hdGVyaWFsXSAqIGJ1aWxkaW5nLmNvdW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGFzUHJlc3RpZ2UoJ3N0b3JhZ2VTcGFjZScpICYmIG1hdGVyaWFsICE9PSAnY2xvbmVzJykge1xyXG4gICAgICAgICAgICBtYXggPSBiYXNlTWF4ICogKDEuMDUgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ3N0b3JhZ2VTcGFjZScpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG1hdGVyaWFsID09PSAnY2xvbmVzJykge1xyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ2Nsb25lJykpIG1heCArPSAxO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdzID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIikuYnVpbGRpbmdzO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwYXNzZWRTdGFnZSgnY2xvbmUnKSwgbWF4Q2xvbmVzKTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBQb25kZXIgYm9udXNlc1xyXG4gICAgICAgICAgICBpZiAoaXNQb25kZXJlZCgnYmlnZ2VyU2hlbHRlcicpKSBtYXggKz0gMSAqIGJ1aWxkaW5nc1snc2hlbHRlciddLmNvdW50O1xyXG4gICAgICAgICAgICBpZiAoaXNQb25kZXJlZCgnYmlnZ2VySHV0JykpIG1heCArPSAxICogYnVpbGRpbmdzWydodXQnXS5jb3VudDtcclxuICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ2JpZ2dlckhvdXNlJykpIG1heCArPSAyICogYnVpbGRpbmdzWydob3VzZSddLmNvdW50O1xyXG4gICAgICAgICAgICBpZiAoaXNQb25kZXJlZCgnYmlnZ2VyVGVlcGVlJykpIG1heCArPSA0ICogYnVpbGRpbmdzWyd0ZWVwZWUnXS5jb3VudDtcclxuICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ2V2ZW5CaWdnZXJTaGVsdGVyJykpIG1heCArPSAxICogYnVpbGRpbmdzWydzaGVsdGVyJ10uY291bnQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoaGFzUHJlc3RpZ2UoJ21heENsb25lcycpKSBtYXggKz0gMSAqIGdldExldmVsT2ZQcmVzdGlnZSgnbWF4Q2xvbmVzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbWF4O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gSW5maW5pdHk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjbGVhclNpZGViYXIoKSB7XHJcbiAgICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyZXNvdXJjZXNcIik7XHJcbiAgICBzaWRlYmFyLmlubmVySFRNTCA9ICcnO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaXNCdXR0b25JZFZpc2libGUoaWQpIHtcclxuICAgIHJldHVybiBhbGxWaXNpYmxlQnV0dG9ucy5oYXMoaWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRWaXNpYmxlQnV0dG9uKGlkKSB7XHJcbiAgICBhbGxWaXNpYmxlQnV0dG9ucy5hZGQoaWQpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGdldE1heCxcclxuICAgIGNhbGNDcmFmdEJvbnVzLFxyXG4gICAgaXNCdXR0b25JZFZpc2libGUsXHJcbiAgICBzZXRWaXNpYmxlQnV0dG9uLFxyXG4gICAgY2xlYXJTaWRlYmFyLFxyXG59O1xyXG5cclxuIiwiLyoqXHJcbiAqIEEgbWFwIG9mIGFsbCBqb2JzIHRoYXQgcmVxdWlyZSBhIHBvbmRlciB0byBiZSB1bmxvY2tlZFxyXG4gKlxyXG4gKiBKb2I6IFJlcXVpcmVkUG9uZGVyXHJcbiAqL1xyXG5jb25zdCBqb2JSZXF1aXJlZFBvbmRlcnMgPSB7XHJcbiAgICAndGhpbmtpbmcnOiAndGhpbmtpbmcnLFxyXG4gICAgJ2Zpc2hpbmcnOiAnZmlzaGluZycsXHJcbiAgICAnc21pdGhpbmcnOiAnbm90LXVubG9ja2FibGUnLFxyXG4gICAgJ2Zhcm1pbmcnOiAnYWdyaWN1bHR1cmUnLFxyXG4gICAgJ2NvbWJhdCc6ICdjb21iYXRUYWInLFxyXG4gICAgJ2h1bnRpbmcnOiAnaHVudGluZydcclxufTtcclxuZXhwb3J0cy5qb2JSZXF1aXJlZFBvbmRlcnMgPSBqb2JSZXF1aXJlZFBvbmRlcnM7XHJcbiIsIi8vIEB0cy1ub2NoZWNrXHJcbi8vIERFUEVORFMgT046IHNraWxscy5qcywgcG9uZGVyLmpzXHJcbmNvbnN0IHsgc2tpbGxzIH0gPSByZXF1aXJlKCcuL2pzb24vc2tpbGxzJyk7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcblxyXG5cclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IGlzUG9uZGVyZWQgfSA9IHJlcXVpcmUoXCIuL3BvbmRlclwiKTtcclxuY29uc3QgeyBnZXRNYXggfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcbmNvbnN0IHsgdHJpZ2dlckZsb2F0VXBUZXh0IH0gPSByZXF1aXJlKCcuL3RyaWdnZXJGbG9hdFVwVGV4dCcpO1xyXG5jb25zdCB7IHBsYXlTb3VuZCB9ID0gcmVxdWlyZSgnLi9hdWRpbycpO1xyXG5cclxuLyogSk9CUyBGVU5DVElPTkFMSVRZICovXHJcblxyXG5cclxuY29uc3Qgam9iQ291bnRzID0ge307XHJcbmZvciAobGV0IHNraWxsIGluIHNraWxscykge1xyXG4gICAgam9iQ291bnRzW3NraWxsXSA9IDA7XHJcbn1cclxuXHJcblxyXG5cclxuY29uc3Qgam9ic1RhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2JzVGFiJyk7XHJcblxyXG5PYmplY3Qua2V5cyhza2lsbHMpLmZvckVhY2goc2tpbGwgPT4ge1xyXG4gICAgY29uc3Qgam9iRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBqb2JEaXYuY2xhc3NMaXN0LmFkZCgnam9iLWJ1dHRvbicpO1xyXG4gICAgam9iRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1qb2InLCBza2lsbCk7XHJcbiAgICBqb2JEaXYuaWQgPSAnam9iLWJ1dHRvbi0nICsgc2tpbGw7XHJcblxyXG4gICAgY29uc3QgZGVjcmVtZW50RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBkZWNyZW1lbnREaXYuY2xhc3NMaXN0LmFkZCgnYnRuLWRlY3JlbWVudCcpO1xyXG4gICAgZGVjcmVtZW50RGl2LnRleHRDb250ZW50ID0gJy0nO1xyXG4gICAgam9iRGl2LmFwcGVuZENoaWxkKGRlY3JlbWVudERpdik7XHJcblxyXG4gICAgY29uc3Qgam9iTmFtZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICBqb2JOYW1lU3Bhbi5jbGFzc0xpc3QuYWRkKCdqb2ItbmFtZScpO1xyXG4gICAgam9iTmFtZVNwYW4udGV4dENvbnRlbnQgPSBgJHtza2lsbC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHNraWxsLnNsaWNlKDEpfTogMGA7XHJcbiAgICBqb2JEaXYuYXBwZW5kQ2hpbGQoam9iTmFtZVNwYW4pO1xyXG5cclxuICAgIGNvbnN0IGluY3JlbWVudERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgaW5jcmVtZW50RGl2LmNsYXNzTGlzdC5hZGQoJ2J0bi1pbmNyZW1lbnQnKTtcclxuICAgIGluY3JlbWVudERpdi50ZXh0Q29udGVudCA9ICcrJztcclxuICAgIGpvYkRpdi5hcHBlbmRDaGlsZChpbmNyZW1lbnREaXYpO1xyXG5cclxuICAgIGpvYnNUYWIuYXBwZW5kQ2hpbGQoam9iRGl2KTtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnRuLWluY3JlbWVudCcpLmZvckVhY2goYnRuID0+IHtcclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGNvbnN0IGpvYlR5cGUgPSB0aGlzLmNsb3Nlc3QoJy5qb2ItYnV0dG9uJykuZ2V0QXR0cmlidXRlKCdkYXRhLWpvYicpO1xyXG4gICAgICAgIHBsYXlTb3VuZCgnLi9hdWRpby9qb2Iud2F2Jyk7XHJcbiAgICAgICAgaWYgKGdldE1hdGVyaWFsKCdjbG9uZXMnLCByZXNvdXJjZXMpID4gZ2V0VG90YWxKb2JzKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgeCA9IGV2ZW50LnBhZ2VYOyAvLyBYIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrXHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSBldmVudC5wYWdlWTsgLy8gWSBjb29yZGluYXRlIG9mIHRoZSBjbGlja1xyXG5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlmZmVyZW5jZSA9IGdldE1hdGVyaWFsKCdjbG9uZXMnLCByZXNvdXJjZXMpIC0gZ2V0VG90YWxKb2JzKCk7XHJcbiAgICAgICAgICAgICAgICBqb2JDb3VudHNbam9iVHlwZV0gKz0gZGlmZmVyZW5jZTtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJGbG9hdFVwVGV4dCh4LCB5LCBgKyR7ZGlmZmVyZW5jZX0gd29ya2Vyc2AsICdncmVlbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmN0cmxLZXkpIHtcclxuICAgICAgICAgICAgICAgIC8vIEFkZCAxMCBvciBtYXggY2xvbmVzXHJcbiAgICAgICAgICAgICAgICBsZXQgZGlmZmVyZW5jZSA9IE1hdGgubWluKDEwLCBnZXRNYXRlcmlhbCgnY2xvbmVzJywgcmVzb3VyY2VzKSAtIGdldFRvdGFsSm9icygpKTtcclxuICAgICAgICAgICAgICAgIGpvYkNvdW50c1tqb2JUeXBlXSArPSBkaWZmZXJlbmNlO1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckZsb2F0VXBUZXh0KHgsIHksIGArJHtkaWZmZXJlbmNlfSB3b3JrZXJzYCwgJ2dyZWVuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBqb2JDb3VudHNbam9iVHlwZV0rKztcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJGbG9hdFVwVGV4dCh4LCB5LCAnKzEgd29ya2VyJywgJ2dyZWVuJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRpc3RyaWJ1dGVXb3JrZXJzKGpvYlR5cGUsIGpvYkNvdW50c1tqb2JUeXBlXSk7XHJcbiAgICAgICAgICAgIHVwZGF0ZURpc3BsYXkoam9iVHlwZSk7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHdvcmtlcnNEaXN0cmlidXRpb24pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ0bi1kZWNyZW1lbnQnKS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHJcbiAgICAgICAgY29uc3Qgam9iVHlwZSA9IHRoaXMuY2xvc2VzdCgnLmpvYi1idXR0b24nKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJyk7XHJcbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LnBhZ2VYOyAvLyBYIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrXHJcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LnBhZ2VZOyAvLyBZIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrXHJcbiAgICAgICAgcGxheVNvdW5kKCcuL2F1ZGlvL2pvYi53YXYnKTtcclxuICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgbGV0IG51bVdvcmtlcnMgPSBqb2JDb3VudHNbam9iVHlwZV07XHJcbiAgICAgICAgICAgIGpvYkNvdW50c1tqb2JUeXBlXSA9IDA7XHJcblxyXG4gICAgICAgICAgICBpZiAobnVtV29ya2VycyA+IDApIHRyaWdnZXJGbG9hdFVwVGV4dCh4LCB5LCBgLSR7bnVtV29ya2Vyc30gd29ya2Vyc2AsICdyZWQnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGV2ZW50LmN0cmxLZXkpIHtcclxuICAgICAgICAgICAgLy8gU3VidHJhY3QgMTAgb3IgbWF4IGNsb25lc1xyXG4gICAgICAgICAgICBsZXQgZGlmZmVyZW5jZSA9IE1hdGgubWluKDEwLCBqb2JDb3VudHNbam9iVHlwZV0pO1xyXG4gICAgICAgICAgICBqb2JDb3VudHNbam9iVHlwZV0gLT0gZGlmZmVyZW5jZTtcclxuICAgICAgICAgICAgdHJpZ2dlckZsb2F0VXBUZXh0KHgsIHksIGAtJHtkaWZmZXJlbmNlfSB3b3JrZXJzYCwgJ3JlZCcpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoam9iQ291bnRzW2pvYlR5cGVdID4gMCkge1xyXG4gICAgICAgICAgICBqb2JDb3VudHNbam9iVHlwZV0tLTtcclxuXHJcbiAgICAgICAgICAgIHRyaWdnZXJGbG9hdFVwVGV4dCh4LCB5LCAnLTEgd29ya2VyJywgJ3JlZCcpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMoam9iVHlwZSwgam9iQ291bnRzW2pvYlR5cGVdKTtcclxuICAgICAgICB1cGRhdGVEaXNwbGF5KGpvYlR5cGUpO1xyXG4gICAgICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0VG90YWxKb2JzKCkge1xyXG4gICAgdmFyIHRvdGFsID0gMDtcclxuICAgIGZvciAobGV0IGogaW4gam9iQ291bnRzKSB7XHJcbiAgICAgICAgdG90YWwgKz0gam9iQ291bnRzW2pdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvdGFsO1xyXG59XHJcblxyXG4vLyBHbG9iYWwgZm9yIHdoaWNoIHJlc291cmNlIGVhY2ggY2xvbmUgZ2F0aGVyc1xyXG5sZXQgd29ya2Vyc0Rpc3RyaWJ1dGlvbiA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gZGlzdHJpYnV0ZVdvcmtlcnMoc2tpbGwsIHRvdGFsV29ya2Vycykge1xyXG4gICAgaWYgKCFza2lsbHNbc2tpbGxdKSByZXR1cm4gbnVsbDsgIC8vIFJldHVybiBudWxsIGlmIHRoZSBza2lsbCBkb2Vzbid0IGV4aXN0XHJcblxyXG4gICAgbGV0IGFmZmVjdGVkUmVzb3VyY2VzID0gc2tpbGxzW3NraWxsXS5hZmZlY3RlZFJlc291cmNlcztcclxuXHJcbiAgICAvLyBGaWx0ZXIgYWZmZWN0ZWRSZXNvdXJjZXMgdG8gb25seSBjb250YWluIGtleXMgdGhhdCBhcmUgcHJlc2VudCBpbiB0aGUgcmVzb3VyY2VzIG1hcFxyXG4gICAgYWZmZWN0ZWRSZXNvdXJjZXMgPSBhZmZlY3RlZFJlc291cmNlcy5maWx0ZXIocmVzb3VyY2UgPT4gcmVzb3VyY2UgaW4gcmVzb3VyY2VzKTtcclxuXHJcbiAgICAvLyBsZXQgYTtcclxuICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgYWZmZWN0ZWRSZXNvdXJjZXMubGVuZ3RoOyBhID0gYWZmZWN0ZWRSZXNvdXJjZXNbaV0pIHtcclxuXHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coYSk7XHJcbiAgICAvLyAgICAgaWYgKCFyZXNvdXJjZXNbYV0pIHtcclxuXHJcbiAgICAvLyAgICAgICAgIGNvbnN0IGluZGV4ID0gYWZmZWN0ZWRSZXNvdXJjZXMuaW5kZXhPZihhKTtcclxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coYSwgaW5kZXgpO1xyXG4gICAgLy8gICAgICAgICBsZXQgeCA9IGFmZmVjdGVkUmVzb3VyY2VzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgKytpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKGFmZmVjdGVkUmVzb3VyY2VzKTtcclxuICAgIGxldCBudW1iZXJPZlJlc291cmNlcyA9IGFmZmVjdGVkUmVzb3VyY2VzLmxlbmd0aDtcclxuXHJcbiAgICAvLyBJbml0aWFsIGV2ZW4gZGlzdHJpYnV0aW9uXHJcbiAgICBsZXQgcGVyUmVzb3VyY2UgPSBNYXRoLmZsb29yKHRvdGFsV29ya2VycyAvIG51bWJlck9mUmVzb3VyY2VzKTtcclxuXHJcbiAgICAvLyBFdmVubHkgZGlzdHJpYnV0ZSB3b3JrZXJzIGFtb25nIHRoZSBhZmZlY3RlZCByZXNvdXJjZXNcclxuICAgIGZvciAobGV0IHJlc291cmNlIG9mIGFmZmVjdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgd29ya2Vyc0Rpc3RyaWJ1dGlvbi5zZXQocmVzb3VyY2UsIHBlclJlc291cmNlKTtcclxuICAgICAgICBpZiAocGVyUmVzb3VyY2UgPiAwKSBtb3ZlQmFsbEZyb21Kb2JUb1Jlc291cmNlKHNraWxsLCByZXNvdXJjZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIERpc3RyaWJ1dGUgYW55IHJlbWFpbmluZyB3b3JrZXJzIGR1ZSB0byByb3VuZGluZ1xyXG4gICAgbGV0IHJlbWFpbmluZ1dvcmtlcnMgPSB0b3RhbFdvcmtlcnMgLSAocGVyUmVzb3VyY2UgKiBudW1iZXJPZlJlc291cmNlcyk7XHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBvZiBhZmZlY3RlZFJlc291cmNlcykge1xyXG4gICAgICAgIGlmIChyZW1haW5pbmdXb3JrZXJzID4gMCkge1xyXG4gICAgICAgICAgICB3b3JrZXJzRGlzdHJpYnV0aW9uLnNldChyZXNvdXJjZSwgd29ya2Vyc0Rpc3RyaWJ1dGlvbi5nZXQocmVzb3VyY2UpICsgMSk7XHJcbiAgICAgICAgICAgIHJlbWFpbmluZ1dvcmtlcnMtLTtcclxuICAgICAgICAgICAgbW92ZUJhbGxGcm9tSm9iVG9SZXNvdXJjZShza2lsbCwgcmVzb3VyY2UpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKHdvcmtlcnNEaXN0cmlidXRpb24pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtb3ZlQmFsbEZyb21Kb2JUb1Jlc291cmNlKGpvYlR5cGUsIGFmZmVjdGVkUmVzb3VyY2UpIHtcclxuICAgIC8vIEZpbmQgdGhlIGpvYiBidXR0b25cclxuICAgIGNvbnN0IGpvYkJ1dHRvbiA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpvYi1idXR0b24nKSlcclxuICAgICAgICAuZmluZChidG4gPT4gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1qb2InKSA9PT0gam9iVHlwZSk7XHJcblxyXG4gICAgaWYgKCFqb2JCdXR0b24gfHwgam9iQnV0dG9uLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykgcmV0dXJuOyAvLyBKb2IgYnV0dG9uIG5vdCBmb3VuZFxyXG5cclxuXHJcbiAgICBjb25zdCByZXNvdXJjZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcmVzb3VyY2UtJHthZmZlY3RlZFJlc291cmNlfWApO1xyXG4gICAgaWYgKCFyZXNvdXJjZURpc3BsYXkgfHwgcmVzb3VyY2VEaXNwbGF5LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykgcmV0dXJuOyAvLyBSZXNvdXJjZSBkaXNwbGF5IG5vdCBmb3VuZFxyXG5cclxuICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbnNcclxuICAgIGNvbnN0IGpvYkJ1dHRvblJlY3QgPSBqb2JCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCByZXNvdXJjZVJlY3QgPSByZXNvdXJjZURpc3BsYXkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgYmFsbCBlbGVtZW50XHJcbiAgICBjb25zdCBiYWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBiYWxsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgIGJhbGwuc3R5bGUud2lkdGggPSAnMTBweCc7XHJcbiAgICBiYWxsLnN0eWxlLmhlaWdodCA9ICcxMHB4JztcclxuICAgIGJhbGwuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzUwJSc7XHJcbiAgICBiYWxsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSc7XHJcbiAgICBiYWxsLnN0eWxlLm9wYWNpdHkgPSAnLjgnO1xyXG4gICAgYmFsbC5zdHlsZS5sZWZ0ID0gYCR7am9iQnV0dG9uUmVjdC5sZWZ0ICsgd2luZG93LnNjcm9sbFh9cHhgO1xyXG4gICAgYmFsbC5zdHlsZS50b3AgPSBgJHtqb2JCdXR0b25SZWN0LnRvcCArIHdpbmRvdy5zY3JvbGxZfXB4YDtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYmFsbCk7XHJcblxyXG4gICAgLy8gQW5pbWF0ZSB0aGUgYmFsbFxyXG4gICAgY29uc3QgYW5pbWF0aW9uID0gYmFsbC5hbmltYXRlKFtcclxuICAgICAgICB7IHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3Jlc291cmNlUmVjdC5sZWZ0IC0gam9iQnV0dG9uUmVjdC5sZWZ0fXB4LCAke3Jlc291cmNlUmVjdC50b3AgLSBqb2JCdXR0b25SZWN0LnRvcH1weClgIH1cclxuICAgIF0sIHtcclxuICAgICAgICBkdXJhdGlvbjogMTAwMCwgLy8gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xyXG4gICAgICAgIC8vIGZpbGw6ICdmb3J3YXJkcycgLy8gS2VlcCB0aGUgYmFsbCBhdCB0aGUgZW5kIHBvc2l0aW9uIGFmdGVyIGFuaW1hdGlvblxyXG4gICAgICAgIGVhc2luZzogJ2N1YmljLWJlemllciguMjMsLTAuMzQsMCwxLjA2KSdcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEV2ZW50IGxpc3RlbmVyIHRvIGhpZGUgdGhlIGJhbGwgYWZ0ZXIgYW5pbWF0aW9uXHJcbiAgICBhbmltYXRpb24ub25maW5pc2ggPSAoKSA9PiB7XHJcbiAgICAgICAgYmFsbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfTtcclxuXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRXb3JrZXJzKHJlc291cmNlTmFtZSkge1xyXG4gICAgcmV0dXJuIHdvcmtlcnNEaXN0cmlidXRpb24uZ2V0KHJlc291cmNlTmFtZSk7XHJcbn1cclxuXHJcbi8vIGNvbnN0IGFsbEpvYkJ1dHRvbmJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpvYi1idXR0b24nKTtcclxuZnVuY3Rpb24gdXBkYXRlRGlzcGxheShqb2JUeXBlKSB7XHJcbiAgICBjb25zdCB0aGlzSm9iQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpvYi1idXR0b25bZGF0YS1qb2I9XCIke2pvYlR5cGV9XCJdYCk7XHJcbiAgICBpZiAoIXRoaXNKb2JCdXR0b24pIGNvbnNvbGUud2FybihcIkNvdWxkbid0IGZpbmQgam9iIGJ1dHRvbiBmb3Igam9iOiBcIiwgam9iVHlwZSk7XHJcbiAgICBjb25zdCBqb2JFbGVtZW50ID0gdGhpc0pvYkJ1dHRvbi5xdWVyeVNlbGVjdG9yKGAuam9iLW5hbWVgKTtcclxuICAgIGlmIChqb2JFbGVtZW50KSBqb2JFbGVtZW50LnRleHRDb250ZW50ID0gYCR7am9iVHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGpvYlR5cGUuc2xpY2UoMSl9OiAke2pvYkNvdW50c1tqb2JUeXBlXX1gO1xyXG5cclxuICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykudXBkYXRlRW1vamlEaXNwbGF5KCk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVXBkYXRlIHRvdGFsIGFzc2lnbmVkIGNsb25lcyBjb3VudGVyXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVUb3RhbCgpIHtcclxuICAgIGNvbnN0IHRvdGFsRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqb2JzLXRvdGFsJyk7XHJcbiAgICB0b3RhbEVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkFzc2lnbmVkIENsb25lczogXCIgKyBnZXRUb3RhbEpvYnMoKSArIFwiIC8gXCIgKyBnZXRNYXgoJ2Nsb25lcycpO1xyXG59XHJcblxyXG5cclxubGV0IHN0YXJ0QnV0dG9uID0gbnVsbDtcclxubGV0IGNvbm5lY3Rpb25zID0gbmV3IE1hcCgpOyAgLy8gTWFwIHRvIHN0b3JlIGNvbm5lY3Rpb25zXHJcbmxldCBtYW5hZ2VtZW50ID0geyAnY29ubmVjdGlvbnMnOiBjb25uZWN0aW9ucywgJ21pbnMnOiB7fSwgJ21heGVzJzoge30sICd0cmlnZ2Vycyc6IHt9IH07XHJcbmxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGluZUNhbnZhcycpO1xyXG5cclxuZnVuY3Rpb24gc2V0Q29ubmVjdGlvbnMobmV3Q29ubmVjdGlvbnMpIHtcclxuICAgIGNvbm5lY3Rpb25zID0gbmV3Q29ubmVjdGlvbnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENvbm5lY3Rpb25zKCkge1xyXG4gICAgcmV0dXJuIGNvbm5lY3Rpb25zO1xyXG59XHJcblxyXG4vLyBpZiAoY2FudmFzKSB7XHJcbi8vIEB0cy1pZ25vcmVcclxubGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4vLyBAdHMtaWdub3JlXHJcbmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4vLyBAdHMtaWdub3JlXHJcbmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbi8vIH1cclxuXHJcbi8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qb2ItYnV0dG9uJyk7XHJcblxyXG4vLyAgICAgYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbi8vICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuLy8gICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJy5idG4tZGVjcmVtZW50JykgfHwgZS50YXJnZXQuY2xvc2VzdCgnLmJ0bi1pbmNyZW1lbnQnKSkgcmV0dXJuO1xyXG5cclxuLy8gICAgICAgICAgICAgaWYgKCFpc1BvbmRlcmVkKCdtYW5hZ2VtZW50JykpIHJldHVybjtcclxuXHJcbi8vICAgICAgICAgICAgIGxldCBqb2JCdXR0b24gPSBlLnRhcmdldC5jbG9zZXN0KCcuam9iLWJ1dHRvbicpO1xyXG5cclxuLy8gICAgICAgICAgICAgaWYgKGpvYkJ1dHRvbikge1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKCFzdGFydEJ1dHRvbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uID0gam9iQnV0dG9uO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xyXG4vLyAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFydEJ1dHRvbi5pZCAmJiBqb2JCdXR0b24uaWQpIHsgLy8gRW5zdXJlIGJvdGggSURzIGFyZSBhdmFpbGFibGVcclxuLy8gICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5zZXQoc3RhcnRCdXR0b24uaWQsIGpvYkJ1dHRvbi5pZCk7XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgICAgIC8vIERyYXcgYWxsIGNvbm5lY3Rpb25zXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZHJhd0FsbENvbm5lY3Rpb25zKCk7XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc3RhcnRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0Jyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc3RhcnRCdXR0b24gPSBudWxsO1xyXG4vLyAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIElEIGZvciBvbmUgb2YgdGhlIGJ1dHRvbnM6Jywgc3RhcnRCdXR0b24sIGpvYkJ1dHRvbik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDbGlja2VkIGVsZW1lbnQgaXMgbm90IGluc2lkZSBhIGpvYiBidXR0b246JywgZS50YXJnZXQpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfSk7XHJcblxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGUpIHtcclxuLy8gICAgICAgICBpZiAoc3RhcnRCdXR0b24pIHtcclxuLy8gICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gRHJhdyBleGlzdGluZyBjb25uZWN0aW9uc1xyXG4vLyAgICAgICAgICAgICBkcmF3QWxsQ29ubmVjdGlvbnMoKTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIERyYXcgdGhlIGxpbmUgZnJvbSBzdGFydEJ1dHRvbiB0byBjdXJyZW50IG1vdXNlIHBvc2l0aW9uXHJcbi8vICAgICAgICAgICAgIGRyYXdMaW5lKHN0YXJ0QnV0dG9uLCBlLmNsaWVudFgsIGUuY2xpZW50WSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vIH0pO1xyXG5cclxuLyoqXHJcbiAqIEBkZXByZWNhdGVkIFxyXG4gKi9cclxuZnVuY3Rpb24gZHJhd0FsbENvbm5lY3Rpb25zKCkge1xyXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgdHJ5IHtcclxuXHJcblxyXG4gICAgICAgIGZvciAobGV0IFtvbGRJZCwgbmV3SWRdIG9mIGNvbm5lY3Rpb25zLmVudHJpZXMoKSkge1xyXG4gICAgICAgICAgICBsZXQgb2xkQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2xkSWQpO1xyXG4gICAgICAgICAgICBsZXQgbmV3QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobmV3SWQpO1xyXG4gICAgICAgICAgICBsZXQgcmVjdCA9IG5ld0J1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgbGV0IG5ld1ggPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMjtcclxuICAgICAgICAgICAgbGV0IG5ld1kgPSAwO1xyXG4gICAgICAgICAgICBpZiAocmVjdC5ib3R0b20gPiBvbGRCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKSBuZXdZID0gbmV3QnV0dG9uLm9mZnNldFRvcCAtIDEwO1xyXG4gICAgICAgICAgICBlbHNlIG5ld1kgPSBuZXdCdXR0b24ub2Zmc2V0VG9wICsgbmV3QnV0dG9uLm9mZnNldEhlaWdodCArIDEwO1xyXG4gICAgICAgICAgICBkcmF3TGluZShvbGRCdXR0b24sIG5ld1gsIG5ld1kpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBjb25zb2xlLndhcm4oJ2RyYXdBbGxDb25uZWN0aW9ucycsIGVycm9yKTsgfVxyXG59XHJcblxyXG4vKipcclxuICogQGRlcHJlY2F0ZWQgXHJcbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBcclxuICogQHBhcmFtIHsqfSBmcm9tWCBcclxuICogQHBhcmFtIHsqfSBmcm9tWSBcclxuICogQHBhcmFtIHsqfSB0b1ggXHJcbiAqIEBwYXJhbSB7Kn0gdG9ZIFxyXG4gKiBAcGFyYW0geyp9IHJhZGl1cyBcclxuICovXHJcbmZ1bmN0aW9uIGRyYXdBcnJvd2hlYWQoY29udGV4dCwgZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSwgcmFkaXVzKSB7XHJcbiAgICBsZXQgeF9jZW50ZXIgPSB0b1g7XHJcbiAgICBsZXQgeV9jZW50ZXIgPSB0b1k7XHJcblxyXG4gICAgbGV0IGFuZ2xlO1xyXG4gICAgbGV0IHg7XHJcbiAgICBsZXQgeTtcclxuXHJcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgIGFuZ2xlID0gTWF0aC5hdGFuMih0b1kgLSBmcm9tWSwgdG9YIC0gZnJvbVgpO1xyXG4gICAgeCA9IHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSArIHhfY2VudGVyO1xyXG4gICAgeSA9IHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSArIHlfY2VudGVyO1xyXG5cclxuICAgIGNvbnRleHQubW92ZVRvKHgsIHkpO1xyXG5cclxuICAgIGFuZ2xlICs9ICgxIC8gMykgKiAoMiAqIE1hdGguUEkpO1xyXG4gICAgeCA9IHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSArIHhfY2VudGVyO1xyXG4gICAgeSA9IHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSArIHlfY2VudGVyO1xyXG5cclxuICAgIGNvbnRleHQubGluZVRvKHgsIHkpO1xyXG5cclxuICAgIGFuZ2xlICs9ICgxIC8gMykgKiAoMiAqIE1hdGguUEkpO1xyXG4gICAgeCA9IHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSArIHhfY2VudGVyO1xyXG4gICAgeSA9IHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSArIHlfY2VudGVyO1xyXG5cclxuICAgIGNvbnRleHQubGluZVRvKHgsIHkpO1xyXG5cclxuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcblxyXG4gICAgY29udGV4dC5maWxsKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZGVwcmVjYXRlZCBcclxuICogQHBhcmFtIHsqfSBzdGFydEVsZW1lbnQgXHJcbiAqIEBwYXJhbSB7Kn0gZW5kWCBcclxuICogQHBhcmFtIHsqfSBlbmRZIFxyXG4gKi9cclxuZnVuY3Rpb24gZHJhd0xpbmUoc3RhcnRFbGVtZW50LCBlbmRYLCBlbmRZKSB7XHJcbiAgICBsZXQgcmVjdCA9IHN0YXJ0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIC8vIGxldCBvZmZzZXQgPSBNYXRoLnJhbmRvbSgpICogMTAwICsgMTAwXHJcbiAgICBsZXQgc3RhcnRYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7IC8vIC0gb2Zmc2V0O1xyXG4gICAgLy8gZW5kWCAtPSBvZmZzZXQ7XHJcbiAgICBsZXQgc3RhcnRZID0gc2Nyb2xsWSArIHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xyXG5cclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xyXG4gICAgY3R4LmxpbmVUbyhlbmRYLCBlbmRZKTtcclxuICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAvLyBEcmF3IGFycm93IGF0IHRoZSBlbmQgb2YgdGhlIGxpbmVcclxuICAgIGRyYXdBcnJvd2hlYWQoY3R4LCBzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSwgMTApOyAgLy8gYWRqdXN0IHRoZSBsYXN0IHBhcmFtZXRlciBmb3IgYXJyb3cgc2l6ZVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhckpvYkFzc2lnbm1lbnRzKCkge1xyXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgY29ubmVjdGlvbnMgPSBuZXcgTWFwKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMoKSB7XHJcbiAgICAvLyBGb3IgZWFjaCBjb25uZWN0aW9uXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBjb25uZWN0aW9ucy5lbnRyaWVzKCk7XHJcbiAgICAgICAgaWYgKGVudHJpZXMgPT09IHVuZGVmaW5lZCkgdGhyb3cgJ0VudHJpZXMgaXMgdW5kZWZpbmVkJztcclxuXHJcbiAgICAgICAgZm9yIChsZXQgW29sZEpvYklkLCBuZXdKb2JJZF0gb2YgZW50cmllcykge1xyXG4gICAgICAgICAgICBsZXQgb2xkSm9iQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2xkSm9iSWQpO1xyXG4gICAgICAgICAgICBsZXQgZGF0YUpvYiA9IG9sZEpvYkJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBvbGRJZCA9IG9sZEpvYklkLnJlcGxhY2UoJ2pvYi1idXR0b24tJywgJycpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdJZCA9IG5ld0pvYklkLnJlcGxhY2UoJ2pvYi1idXR0b24tJywgJycpO1xyXG4gICAgICAgICAgICBsZXQgbWF4ZWRPdXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgbGV0IHJlc291cmNlQXJyYXkgPSBza2lsbHNbZGF0YUpvYl0uYWZmZWN0ZWRSZXNvdXJjZXM7XHJcbiAgICAgICAgICAgIGlmICghcmVzb3VyY2VBcnJheSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZUFycmF5KTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIHJlc291cmNlQXJyYXkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcl0gIT09IHVuZGVmaW5lZCAmJiBnZXRNYXRlcmlhbChyKSA8IHJlc291cmNlc1tyXS5tYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyLCBnZXRNYXRlcmlhbChyKSwgcmVzb3VyY2VzW3JdLm1heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ZWRPdXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG1heGVkT3V0ICYmIGpvYkNvdW50c1tkYXRhSm9iXSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaEpvYihvbGRJZCwgbmV3SWQpO1xyXG4gICAgICAgICAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMob2xkSWQsIGpvYkNvdW50c1tvbGRJZF0pO1xyXG4gICAgICAgICAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMobmV3SWQsIGpvYkNvdW50c1tuZXdJZF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAocmVzb3VyY2VzW2FmZmVjdGVkUmVzb3VyY2VdLmN1cnJlbnRWYWx1ZSA+PSByZXNvdXJjZXNbYWZmZWN0ZWRSZXNvdXJjZV0ubWF4VmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gICAgIHN3aXRjaEpvYihvbGRKb2JJZCwgbmV3Sm9iSWQpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgY29uc29sZS53YXJuKCdyZWFzc2lnbkpvYnMnLCBlcnJvcik7IH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN3aXRjaEpvYihvbGRKb2JJZCwgbmV3Sm9iSWQpIHtcclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gc3dpdGNoZXMgd29ya2VycyBmcm9tIG9sZEpvYiB0byBuZXdKb2IuXHJcbiAgICAvLyBEZXBlbmRpbmcgb24geW91ciBhcHBsaWNhdGlvbiBzdHJ1Y3R1cmUsIHlvdSBjYW4gaW1wbGVtZW50IHRoaXMgZnVuY3Rpb24gYWNjb3JkaW5nbHkuXHJcbiAgICAvLyBGb3IgZXhhbXBsZSwgcmVkdWNlIHRoZSBjb3VudCBvZiB3b3JrZXJzIGluIG9sZEpvYiBhbmQgaW5jcmVhc2UgaW4gbmV3Sm9iLlxyXG4gICAgLy8gY29uc29sZS5sb2coYFN3aXRjaGluZyB3b3JrZXJzIGZyb20gJHtvbGRKb2JJZH0gdG8gJHtuZXdKb2JJZH1gKTtcclxuXHJcbiAgICBsZXQgd29ya2VycyA9IGpvYkNvdW50c1tvbGRKb2JJZF07XHJcbiAgICBqb2JDb3VudHNbb2xkSm9iSWRdID0gMDtcclxuICAgIGpvYkNvdW50c1tuZXdKb2JJZF0gKz0gd29ya2VycztcclxuICAgIHVwZGF0ZURpc3BsYXkob2xkSm9iSWQpO1xyXG4gICAgdXBkYXRlRGlzcGxheShuZXdKb2JJZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0QWxsSm9icygpIHtcclxuICAgIC8vIGpvYkNvdW50cyA9IHt9O1xyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgam9iQ291bnRzW3NraWxsXSA9IDA7XHJcbiAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMoc2tpbGwsIDApO1xyXG4gICAgICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheShza2lsbCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY2xlYXJKb2JBc3NpZ25tZW50cyxcclxuICAgIHJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMsXHJcbiAgICBzd2l0Y2hKb2IsXHJcbiAgICBkcmF3QWxsQ29ubmVjdGlvbnMsXHJcbiAgICBnZXRXb3JrZXJzLFxyXG4gICAgdXBkYXRlVG90YWwsXHJcbiAgICBzZXRDb25uZWN0aW9ucyxcclxuICAgIGdldENvbm5lY3Rpb25zLFxyXG4gICAgZGlzdHJpYnV0ZVdvcmtlcnMsXHJcbiAgICB1cGRhdGVEaXNwbGF5LFxyXG4gICAgam9iQ291bnRzLFxyXG4gICAgcmVzZXRBbGxKb2JzXHJcbn07IiwiY29uc3QgeyBoYXNQZXJrIH0gPSByZXF1aXJlKFwiLi4vcGVya3NcIik7XHJcbmNvbnN0IHsgcmVjYWxjTWF4Q2xvbmVzIH0gPSByZXF1aXJlKFwiLi4vcmVjYWxjTWF4Q2xvbmVzXCIpO1xyXG5jb25zdCB7IHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0IH0gPSByZXF1aXJlKFwiLi4vcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3RcIik7XHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCB9ID0gcmVxdWlyZShcIi4uL3VwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnRcIik7XHJcblxyXG5jb25zdCBidWlsZGluZ3MgPSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIT1VTSU5HXHJcbiAgICAgKi9cclxuICAgIFwic2hlbHRlclwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwic3RpY2tzXCI6IDMwIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJjbG9uZXNcIjogMSB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS40LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZvciB3aGVuIHlvdSBuZWVkIGEgaG9tZSBhd2F5IGZyb20gaG9tZS5cIixcclxuICAgICAgICBlbW9qaTogJ+WFqydcclxuICAgIH0sXHJcbiAgICAnaHV0Jzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7ICdzdGlja3MnOiA1MCwgJ3ZpbmVzJzogMzAgfSxcclxuICAgICAgICAnZWZmZWN0cyc6IHsgJ2Nsb25lcyc6IDEgfSxcclxuICAgICAgICBib29zdDoge30sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuNCxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0EgY296eSwgaWR5bGxpYyBjaHVuayBvZiB3b29kLicsXHJcbiAgICAgICAgZW1vamk6ICflhoInXHJcbiAgICB9LFxyXG4gICAgXCJob3VzZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwid29vZFwiOiA1MCwgXCJyb2Nrc1wiOiAyMCwgJ2Zpc2gnOiAxMCB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwiY2xvbmVzXCI6IDIgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuNSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJFdmVyeSBjbG9uZSdzIGRyZWFtLiBNaW51cyB0aGUgd2hpdGUgcGlja2V0IGZlbmNlLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn5LuLJ1xyXG4gICAgfSxcclxuICAgICd0ZWVwZWUnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgJ3dvb2QnOiAxMCwgJ2hpZGVzJzogMjUsICdmaXNoJzogMTUgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICdjbG9uZXMnOiAyIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV3JhcCBzb21lIGhpZGVzIGFyb3VuZCBzb21lIHdvb2QgYW5kIGNhbGwgaXQgYSBob21lLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn56m0J1xyXG4gICAgfSxcclxuICAgICdob3NwaXRhbCc6IHtcclxuICAgICAgICBiYXNlY29zdDogeyBjb25jcmV0ZTogMTAsIG1lZGljaW5lOiAyMCwgZmlzaDogMjAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICdjbG9uZXMnOiAzIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdLZWVwIHlvdXJzZWxmIHNhZmUuJyxcclxuICAgICAgICBlbW9qaTogJysnXHJcbiAgICB9LFxyXG4gICAgJ2JhcnJhY2tzJzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7IHNwZWFyOiAyMCwgdmlvbGVuY2U6IDEsIHdvb2Q6IDIwMCB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHsgJ2Nsb25lcyc6IDEsICd2aW9sZW5jZSc6IDIwIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdBIGhhbGwgb2YgcmF1Y291cyBzb2xkaWVycy4nLFxyXG4gICAgICAgIGVtb2ppOiAn8JOIjydcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTVE9SQUdFXHJcbiAgICAgKi9cclxuICAgIFwic2hlZFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwid29vZFwiOiA0MCB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwid29vZFwiOiA1MCwgXCJzdGlja3NcIjogNTAsIFwicm9ja3NcIjogMjAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGUgdWx0aW1hdGUgc3RvcmFnZSBzb2x1dGlvbiBmb3IgdGhlIHBhY2sgcmF0IGluIHlvdS5cIixcclxuICAgICAgICBlbW9qaTogJ+S4qidcclxuICAgIH0sXHJcbiAgICAnc3RvY2twaWxlJzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7IHJvY2tzOiAzMCwgd29vZDogNDAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7IHdvb2Q6IDEwMCB9LFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkNodWNrIGEgYnVuY2ggb2YgbG9ncyBpbiBhIHBpbGUsIHdoYXQgY291bGQgaGFwcGVuP1wiLFxyXG4gICAgICAgIGVtb2ppOiAn5ZOBJ1xyXG4gICAgfSxcclxuICAgIFwiZHJ5aW5nX3JhY2tzXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHsgXCJzdGlja3NcIjogMzAsIFwiZmlzaFwiOiA1IH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJmaXNoXCI6IDIwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7fSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQWlyIGRyeWluZzogTmF0dXJlJ3Mgd2F5IG9mIHByZXNlcnZpbmcgZm9vZC5cIixcclxuICAgICAgICBlbW9qaTogJ+WbmydcclxuICAgIH0sXHJcbiAgICBcIndvcmtzaG9wXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHsgXCJ3b29kXCI6IDQwLCBcInN0aWNrc1wiOiAyMCwgXCJyb2Nrc1wiOiAxMCB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7ICdyb2Nrcyc6IDUwLCAnb3JlJzogNTAsICdzYW5kJzogMTAwLCAnY2xheSc6IDUwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7fSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjQsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRElZJ3MgZHJlYW0gZGVzdGluYXRpb24uXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk46wJ1xyXG4gICAgfSxcclxuICAgICdiYXJuJzoge1xyXG4gICAgICAgICdiYXNlY29zdCc6IHsgJ3dvb2QnOiAzMCwgJ3doZWF0JzogNSB9LFxyXG4gICAgICAgICdlZmZlY3RzJzogeyAnd2hlYXQnOiAxMDAsICd2aW5lcyc6IDQwIH0sXHJcbiAgICAgICAgJ2Jvb3N0Jzoge30sXHJcbiAgICAgICAgJ2NvdW50JzogMCxcclxuICAgICAgICAncmF0aW8nOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSGF5LCB3aGF0J3MgaW4gdGhhdCBidWlsZGluZz9cIixcclxuICAgICAgICBlbW9qaTogJ/CTj4YnXHJcbiAgICB9LFxyXG4gICAgJ2hlcmJhbGlzdF9odXQnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgJ3N0aWNrcyc6IDUwLCAndmluZXMnOiA1MCwgJ2hlcmJzJzogNTAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICdoZXJicyc6IDEwMCwgJ3ZpbmVzJzogMTAwIH0sXHJcbiAgICAgICAgYm9vc3Q6IHsgJ2hlcmJzJzogMS4yLCB2aW5lczogMS4xIH0sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIHBsYWNlIGZvciBicmV3aW5nIGFuZCBzdGV3aW5nLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOPgydcclxuICAgIH0sXHJcbiAgICBcImJha2VyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiA4MCxcclxuICAgICAgICAgICAgXCJicmVhZFwiOiAxMCxcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiA0MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgJ3doZWF0JzogMjAwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7fSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjI1LFxyXG4gICAgICAgIFwidG9vbHRpcERlc2NcIjogXCJGcmVzaGx5IGJha2VkIGJyZWFkLCBob3QgYW5kIHJlYWR5LlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOPlidcclxuXHJcbiAgICB9LFxyXG4gICAgXCJhbmltYWxfcGVuXCI6IHtcclxuICAgICAgICBiYXNlY29zdDoge1xyXG4gICAgICAgICAgICBzdGlja3M6IDUwLFxyXG4gICAgICAgICAgICBnYW1lOiAyMCxcclxuICAgICAgICAgICAgZmlzaDogMjVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHsgJ2dhbWUnOiAxMDAsICdoaWRlcyc6IDMwIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQSBwbGFjZSB0byBwdXQgdGhvc2UgbGVzc2VyIHRoYW4geW91LlwiLFxyXG4gICAgICAgIGVtb2ppOiAn55q/J1xyXG4gICAgfSxcclxuICAgICdyZXNlcnZvaXInOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHtcclxuICAgICAgICAgICAgcm9ja3M6IDEwMCxcclxuICAgICAgICAgICAgY2xheTogNTAsXHJcbiAgICAgICAgICAgIHdhdGVyOiAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWZmZWN0czogeyAnd2F0ZXInOiAxMDAgfSxcclxuICAgICAgICBib29zdDoge30sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIGhvbGUgZmlsbGVkIHdpdGggd2F0ZXIuIFVzZWZ1bC5cIixcclxuICAgICAgICBlbW9qaTogJ/CTiJ4nXHJcbiAgICB9LFxyXG4gICAgJ3N0b25lX2RlcG90Jzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7XHJcbiAgICAgICAgICAgIHJvY2tzOiAyMDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHsgJ3JvY2tzJzogMjUwIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQSBiaWcgc3RhY2sgb2Ygcm9ja3MuXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4iTJ1xyXG4gICAgfSxcclxuICAgICd3YXJlaG91c2UnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHtcclxuICAgICAgICAgICAgY3JhdGVzOiAxMCxcclxuICAgICAgICAgICAgY29uY3JldGU6IDIwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICd3b29kJzogMTAwLCAncm9ja3MnOiAxMDAsICdjbGF5JzogMTAwLCAnc2FuZCc6IDEwMCB9LFxyXG4gICAgICAgIGJvb3N0OiB7fSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnUHV0IHN0dWZmIGluIGEgYm94IGluc2lkZSBhIGxhcmdlciBib3guJyxcclxuICAgICAgICBlbW9qaTogJ/CTh6YnXHJcbiAgICB9LFxyXG4gICAgJ21pbGl0YXJ5X3NjaG9vbCc6IHtcclxuICAgICAgICBiYXNlY29zdDoge1xyXG4gICAgICAgICAgICBicmlja3M6IDIwLFxyXG4gICAgICAgICAgICB2aW9sZW5jZTogMTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHsgJ3Zpb2xlbmNlJzogMTAwIH0sXHJcbiAgICAgICAgYm9vc3Q6IHsgJ3Zpb2xlbmNlJzogMS4wNSB9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjQsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdMZWFybiB0aGUgYXJ0IG9mIGh1cnRpbmcgb3RoZXJzLicsXHJcbiAgICAgICAgZW1vamk6ICfwk4e7J1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQUk9EVUNUSU9OIEJPT1NUXHJcbiAgICAgKi9cclxuICAgIFwiZ3JvdmVcIjoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7ICd3b29kJzogMjAsICd2aW5lcyc6IDIwIH0sXHJcbiAgICAgICAgZWZmZWN0czoge30sXHJcbiAgICAgICAgYm9vc3Q6IHsgJ3dvb2QnOiAxLjA1LCAnc3RpY2tzJzogMS4xIH0sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIG5pY2UgZ3JvdmUgb2YgdHJlZXMgdG8gZmluZCB3b29kIGZhc3Rlci5cIixcclxuICAgICAgICBlbW9qaTogJ/CThq3wk4atJ1xyXG4gICAgfSxcclxuICAgIFwiZmlzaF90cmFwc1wiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9wZVwiOiA0MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcImZpc2hcIjogMS4wNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZpc2hpbmcgbWFkZSBlYXN5LiBObyBwYXRpZW5jZSByZXF1aXJlZC5cIixcclxuICAgICAgICBlbW9qaTogJ+S6lSdcclxuICAgIH0sXHJcbiAgICBcIm1pbmVcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDMwLFxyXG4gICAgICAgICAgICBcIndvb2RcIjogMzBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJvcmVcIjogMS4wNSwgJ3JvY2tzJzogMS4wNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkRpZyBkZWVwIGFuZCBmaW5kIHlvdXIgaW5uZXIgb3JlLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOKjSdcclxuICAgIH0sXHJcbiAgICBcImNhbXBmaXJlXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiAyMCxcclxuICAgICAgICAgICAgXCJzdGlja3NcIjogMjBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHsgJ2FsbCc6IDEuMDIgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV2hlcmUgc3RvcmllcyBhcmUgdG9sZCBhbmQgbWFyc2htYWxsb3dzIGFyZSB0b2FzdGVkLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn54GrJ1xyXG4gICAgfSxcclxuICAgIFwibHVtYmVyX3lhcmRcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMjAwLFxyXG4gICAgICAgICAgICBcImlyb25cIjogMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMS4yXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV29vZCB5b3UgbGlrZSBzb21lIG1vcmUgd29vZD9cIixcclxuICAgICAgICBlbW9qaTogJ/CTjI8nXHJcbiAgICB9LFxyXG4gICAgXCJzdG9uZV9xdWFycnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDUwLFxyXG4gICAgICAgICAgICBcIndvb2RcIjogMjAsXHJcbiAgICAgICAgICAgIFwicm9wZVwiOiAzMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDEuMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlJvY2sgb24gd2l0aCB5b3VyIGJhZCBzZWxmIVwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOKjidcclxuICAgIH0sXHJcbiAgICBcImZpc2hlcnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogNDAsXHJcbiAgICAgICAgICAgIFwicm9wZVwiOiAxNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgJ2Zpc2gnOiA1MCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZpc2ggYXJlIGZyaWVuZHMuIEFuZCBmb29kLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOMpCdcclxuICAgIH0sXHJcbiAgICAnaXJyaWdhdGlvbic6IHtcclxuICAgICAgICBiYXNlY29zdDoge1xyXG4gICAgICAgICAgICBmcmVzaHdhdGVyOiAyMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWZmZWN0czoge30sXHJcbiAgICAgICAgYm9vc3Q6IHsgd2hlYXQ6IDEuMDUgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIldldHRlbiB5b3VyIHdoZWF0IHdpdGggd2F0ZXIuXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4iXJ1xyXG4gICAgfSxcclxuICAgIFwidmluZXlhcmRcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMjAsXHJcbiAgICAgICAgICAgIFwidmluZXNcIjogNTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ2aW5lc1wiOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGb3IgdGhlIGZpbmVzdCB2aW5lcy4gV2hhdCBlbHNlIHdvdWxkIGl0IGdyb3c/XCIsXHJcbiAgICAgICAgZW1vamk6ICfwn5yMJ1xyXG4gICAgfSxcclxuICAgIFwiZm9yZ2VcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDQwLFxyXG4gICAgICAgICAgICBcIm9yZVwiOiAyMCxcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDEwMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcIm9yZVwiOiAxLjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJNZWx0LCBtb2xkLCBhbmQgbWFrZSBtYXJ2ZWxvdXMgbWV0YWxzLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOKqydcclxuICAgIH0sXHJcbiAgICAnd2F0ZXJfcHVtcCc6IHtcclxuICAgICAgICAnYmFzZWNvc3QnOiB7XHJcbiAgICAgICAgICAgICdyb2Nrcyc6IDMwLFxyXG4gICAgICAgICAgICAncm9wZSc6IDEsXHJcbiAgICAgICAgICAgICd3b29kJzogMTAsXHJcbiAgICAgICAgICAgICd3aGVhdCc6IDJcclxuICAgICAgICB9LFxyXG4gICAgICAgICdlZmZlY3RzJzogeyAnZnJlc2h3YXRlcic6IDMwIH0sXHJcbiAgICAgICAgJ2Jvb3N0Jzoge1xyXG4gICAgICAgICAgICAnZnJlc2h3YXRlcic6IDEuMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2NvdW50JzogMCxcclxuICAgICAgICAncmF0aW8nOiAxLjQsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRnJlc2ggd2F0ZXIgb24gZGVtYW5kIVwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOPgidcclxuICAgIH0sXHJcbiAgICAndG93ZXInOiB7XHJcbiAgICAgICAgJ2Jhc2Vjb3N0Jzoge1xyXG4gICAgICAgICAgICAnYnJpY2tzJzogMjAsXHJcbiAgICAgICAgICAgICdyb2Nrcyc6IDEwLFxyXG4gICAgICAgICAgICAnd29vZCc6IDMwXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnZWZmZWN0cyc6IHt9LFxyXG4gICAgICAgICdib29zdCc6IHsgJ2hpZGVzJzogMS4wNSwgJ2dhbWUnOiAxLjEgfSxcclxuICAgICAgICAnY291bnQnOiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiU2VlIHRoaW5ncyBmcm9tIGFmYXIuXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4qiJ1xyXG4gICAgfSxcclxuICAgIFwidGFubmVyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiA2MCxcclxuICAgICAgICAgICAgXCJoaWRlc1wiOiA0MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgJ2hpZGVzJzogNTAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJoaWRlc1wiOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICBcInRvb2x0aXBEZXNjXCI6IFwiVHJlYXQgaGlkZXMgdG8gbWFrZSBxdWFsaXR5IGxlYXRoZXIuXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4OUJ1xyXG4gICAgfSxcclxuICAgIFwibWFya2V0cGxhY2VcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMTAwLFxyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDUwLFxyXG4gICAgICAgICAgICBcImdvbGRcIjogMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBhbGw6IDEuMDVcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMjUsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkEgYnVzdGxpbmcgaHViIG9mIHRyYWRlIGFuZCBiYXJ0ZXIuXCIsXHJcbiAgICAgICAgZW1vamk6ICfigr8nXHJcbiAgICB9LFxyXG4gICAgXCJ3aW5kbWlsbFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxMDAsXHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNjAsXHJcbiAgICAgICAgICAgIFwid2hlYXRcIjogNTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3aGVhdFwiOiAxLjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICBcInRvb2x0aXBEZXNjXCI6IFwiR3JpbmQgZ3JhaW5zIGVmZmljaWVudGx5IHdpdGggd2luZCBwb3dlci5cIixcclxuICAgICAgICBlbW9qaTogJ/CTh6wnXHJcbiAgICB9LFxyXG4gICAgJ2dhcmRlbic6IHtcclxuICAgICAgICBiYXNlY29zdDoge1xyXG4gICAgICAgICAgICBiZWFtczogMjAsXHJcbiAgICAgICAgICAgIGhlcmJzOiAyMCxcclxuICAgICAgICAgICAgZnJlc2h3YXRlcjogMTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHt9LFxyXG4gICAgICAgIGJvb3N0OiB7ICdoZXJicyc6IDEuMSwgJ3N0aWNrcyc6IDEuMDUgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIk5pY2UgbmF0dXJlLCBjYXJlZnVsbHkgY3VsdGl2YXRlZC5cIixcclxuICAgICAgICBlbW9qaTogJ/CThrcnXHJcbiAgICB9LFxyXG4gICAgJ3NhbmRfc2Nvb3AnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgYmVhbXM6IDEwLCBpcm9uOiA1IH0sXHJcbiAgICAgICAgZWZmZWN0czoge30sXHJcbiAgICAgICAgYm9vc3Q6IHsgJ3NhbmQnOiAxLjEgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnU2Nvb3AgdGhlIHNhbmQgZnJvbSB0aGUgc2hvcmU/IFN1cmUhJyxcclxuICAgICAgICBlbW9qaTogJ/CThJsnXHJcbiAgICB9LFxyXG4gICAgJ3RyYXBzJzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7IG5haWxzOiAxMCwgc3RpY2tzOiAyMCwgaGVyYnM6IDIwLCB2aW5lczogMTUgfSxcclxuICAgICAgICBlZmZlY3RzOiB7fSxcclxuICAgICAgICBib29zdDogeyAnZ2FtZSc6IDEuMSB9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV2F0Y2ggeW91ciBzdGVwIVwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOEpidcclxuICAgIH0sXHJcbiAgICAncm9ja19yb2xlJzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7IHNsYWJzOiAyMCwgZnJlc2h3YXRlcjogMzAsIHZpbmVzOiAxNSB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHt9LFxyXG4gICAgICAgIGJvb3N0OiB7ICdyb2Nrcyc6IDEuMiB9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdJbiBvcmRlciB0byBnYXRoZXIgdGhlIHJvY2sgeW91IG11c3QgYmVjb21lIHRoZSByb2NrLicsXHJcbiAgICAgICAgZW1vamk6ICfwk4aHJ1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQT05ERVJcclxuICAgICAqL1xyXG4gICAgJ3RlbGVzY29wZSc6IHtcclxuICAgICAgICBiYXNlY29zdDoge1xyXG4gICAgICAgICAgICBnbGFzczogMSxcclxuICAgICAgICAgICAgd29vZDogMTAsXHJcbiAgICAgICAgICAgIHBvbmRlcjogMTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHt9LFxyXG4gICAgICAgIGJvb3N0OiB7IHBvbmRlcjogMS4wNSB9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiTG9vaywgdXAgaW4gdGhlIHNreSEgSXQncyBhIHN0YXIhXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4ypJ1xyXG4gICAgfSxcclxuICAgIFwib2JzZXJ2YXRvcnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcImJyaWNrc1wiOiA3MCxcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDMwLFxyXG4gICAgICAgICAgICBcImdsYXNzXCI6IDUwLFxyXG4gICAgICAgICAgICBcInBvbmRlclwiOiA1MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcInBvbmRlclwiOiAxLjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJTdGFyZ2F6aW5nIGhhcyBuZXZlciBiZWVuIHNvLi4uIHByb2R1Y3RpdmU/XCIsXHJcbiAgICAgICAgZW1vamk6ICfimIYnXHJcbiAgICB9LFxyXG4gICAgXCJsaWJyYXJ5XCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDcwLFxyXG4gICAgICAgICAgICBcInBhcGVyXCI6IDI1LFxyXG4gICAgICAgICAgICBcInBvbmRlclwiOiAyNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJwb25kZXJcIjogNTAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiS25vd2xlZGdlIGlzIHBvd2VyLiBBbmQgYSBmaXJlIGhhemFyZCBpZiBub3Qgc3RvcmVkIHByb3Blcmx5LlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8J+VridcclxuICAgIH0sXHJcbiAgICBcImRlc2tcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMTUsXHJcbiAgICAgICAgICAgIFwic3RpY2tzXCI6IDIwLFxyXG4gICAgICAgICAgICBcInBvbmRlclwiOiAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJwb25kZXJcIjogMzAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHsgXCJwb25kZXJcIjogMS4wNSB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIHdyaXRlcidzIGJsb2NrIGlzIG5vIG1hdGNoIGZvciBhcm1vci1waWVyY2luZyBwZW5jaWxzIVwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOKrCdcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldEJ1aWxkaW5nQ291bnQoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICByZXR1cm4gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV0uY291bnQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IGJ1aWxkaW5nTmFtZSBcclxuICogQHBhcmFtIHtzdHJpbmd9IHJlc291cmNlIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmZ1bmN0aW9uIGdldEJvb3N0KGJ1aWxkaW5nTmFtZSwgcmVzb3VyY2UpIHtcclxuICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV07XHJcblxyXG4gICAgaWYgKGJ1aWxkaW5nICYmIGJ1aWxkaW5nLmJvb3N0KSB7XHJcbiAgICAgICAgaWYgKGJ1aWxkaW5nLmJvb3N0W3Jlc291cmNlXSkgcmV0dXJuIGJ1aWxkaW5nLmJvb3N0W3Jlc291cmNlXTtcclxuICAgICAgICBpZiAoYnVpbGRpbmcuYm9vc3RbJ2FsbCddKSByZXR1cm4gYnVpbGRpbmcuYm9vc3RbJ2FsbCddO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gcmVzZXRCdWlsZGluZ3MoKSB7XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmdzKSkge1xyXG4gICAgICAgIHZhbFsnY291bnQnXSA9IDA7XHJcbiAgICAgICAgLy8gVXBkYXRlIGJ1dHRvbiB0ZXh0XHJcbiAgICAgICAgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudChrZXksIDApO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgdGhlIGNvc3Qgb2YgdGhlIGJ1aWxkaW5nXHJcbiAgICAgICAgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3Qoa2V5KTtcclxuXHJcbiAgICB9XHJcbiAgICAvLyBVcGRhdGUgbWF4IGNsb25lcyBhZnRlciB1cGRhdGluZyB0aGUgY291bnRcclxuICAgIHJlY2FsY01heENsb25lcygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1BvcEJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgc3dpdGNoIChidWlsZGluZ05hbWUpIHtcclxuICAgICAgICBjYXNlICdzaGVsdGVyJzpcclxuICAgICAgICBjYXNlICdodXQnOlxyXG4gICAgICAgIGNhc2UgJ2hvdXNlJzpcclxuICAgICAgICBjYXNlICd0ZWVwZWUnOlxyXG4gICAgICAgIGNhc2UgJ2hvc3BpdGFsJzpcclxuICAgICAgICBjYXNlICdiYXJyYWNrcyc6XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBidWlsZGluZ3MsXHJcbiAgICBnZXRCdWlsZGluZ0NvdW50LFxyXG4gICAgZ2V0Qm9vc3QsXHJcbiAgICByZXNldEJ1aWxkaW5ncyxcclxuICAgIGlzUG9wQnVpbGRpbmdcclxufTsiLCJjb25zdCB7IHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKCcuLi9zdGFnZXMnKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBoYXNUb29sIH0gPSByZXF1aXJlKCcuLi90b29scycpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuXHJcbi8qIEJVVFRPTlMgKi9cclxuY29uc3QgYnV0dG9ucyA9IHtcclxuXHJcbiAgICAvKiBQUk9EVUNUSU9OIFRBQiAqL1xyXG4gICAgJ2dhdGhlclN0aWNrcyc6IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgc3RhcnRWaXNpYmxlJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiAn8JOAnSBHYXRoZXIgU3RpY2tzJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0ZpdmUsIFNpeCwgUGljayB1cCBzdGlja3MuJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0ZyZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlIC8vIFRoaXMgYnV0dG9uIGlzIGFsd2F5cyB2aXNpYmxlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlclZpbmVzJzoge1xyXG4gICAgICAgIGNsYXNzOiAndG9vbHRpcCBzdGljaycsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogJ/CTja8gR2F0aGVyIFZpbmVzJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1NvbWUgdmluZXMgYXJlIHJ1YmJlcnksIG90aGVycyBhcmUgZ3VtbXkuJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0ZyZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRNYXRlcmlhbCgnc3RpY2tzJywgcmVzb3VyY2VzKSA+PSAxMCB8fCBwYXNzZWRTdGFnZSgndmluZXMnKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdnYXRoZXJSb2Nrcyc6IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgc3RpY2snLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6ICfwk4qW8JOAqSBHYXRoZXIgUm9ja3MnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnTm90IGEgc2luZ2xlIHdpbmRvdyB0byB0aHJvdyB0aGVtIHRocm91Z2guJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0ZyZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRNYXRlcmlhbCgndmluZXMnLCByZXNvdXJjZXMpID49IDEwIHx8IHBhc3NlZFN0YWdlKCdyb2NrcycpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlckZpc2gnOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwIGZpc2hpbmcnLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6ICfwk4adIPCThp8g8JOGniBHbyBGaXNoJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0dvdCBhbnkgdHVuYT8nLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnRnJlZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGhhc1Rvb2woJ1NwZWFyJykgfHwgaGFzVG9vbChcIkZpc2hpbmcgUm9kXCIpIHx8IHBhc3NlZFN0YWdlKCdmaXNoaW5nJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnZ2F0aGVyV29vZCc6IHtcclxuICAgICAgICBjbGFzczogJ3dvb2RUb2dnbGUgd29vZCcsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogJ/CTjI8gQ2hvcCBXb29kJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0FuIGF4ZSBodXJ0cyB3YXkgbGVzcyB0aGFuIHVzaW5nIHlvdXIgaGFuZHMuJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0ZyZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBoYXNUb29sKCdBeGUnKSB8fCBwYXNzZWRTdGFnZSgnd29vZCcpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlck9yZSc6IHtcclxuICAgICAgICBcImNsYXNzXCI6IFwidG9vbHRpcCBcIixcclxuICAgICAgICBcInRhYlwiOiBcInByb2R1Y3Rpb25cIixcclxuICAgICAgICBcInRleHRcIjogXCLwk4m4IE1pbmUgT3JlXCIsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkRpZ2d5IERpZ2d5IEhvbGVcIixcclxuICAgICAgICBcInRvb2x0aXBDb3N0XCI6IFwiRnJlZVwiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBoYXNUb29sKCdQaWNrYXhlJykgfHwgcGFzc2VkU3RhZ2UoJ29yZScpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgLyogVEFCUyAqL1xyXG4gICAgJ3Byb2R1Y3Rpb25UYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnUHJvZHVjdGlvbicsXHJcbiAgICAgICAgc2hvd1RhYjogJ3Byb2R1Y3Rpb25UYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgndGFiLWJ1dHRvbicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2V4cGVyaW1lbnRUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnRXhwZXJpbWVudCcsXHJcbiAgICAgICAgc2hvd1RhYjogJ2V4cGVyaW1lbnRUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgndGFiLWJ1dHRvbicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ3BvbmRlclRhYkJ1dHRvbic6IHtcclxuICAgICAgICBjbGFzczogJ3RhYi1idXR0b24nLFxyXG4gICAgICAgIHRleHQ6ICdQb25kZXInLFxyXG4gICAgICAgIHNob3dUYWI6ICdwb25kZXJUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgncG9uZGVyLXRhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2pvYnNUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnSm9icycsXHJcbiAgICAgICAgc2hvd1RhYjogJ2pvYnNUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgnam9icy10YWInKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdza2lsbHNUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnU2tpbGxzJyxcclxuICAgICAgICBzaG93VGFiOiAnc2tpbGxzVGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3NraWxsc1RhYmxlJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAncGVya3NUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnUGVya3MnLFxyXG4gICAgICAgIHNob3dUYWI6ICdwZXJrc1RhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdwZXJrc1RhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2ZhY3RvcnlUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnRmFjdG9yaWVzJyxcclxuICAgICAgICBzaG93VGFiOiAnZmFjdG9yeVRhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdmYWN0b3J5VGFiJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnY29tYmF0VGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogXCJDb21iYXRcIixcclxuICAgICAgICBzaG93VGFiOiAnY29tYmF0VGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ2NvbWJhdFRhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG5cclxuICAgIC8qIFBPTkRFUiBUQUIgKi9cclxuICAgICdnYXRoZXJQb25kZXInOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwJyxcclxuICAgICAgICB0ZXh0OiAnUG9uZGVyJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1dyYXAgeW91ciBoZWFkIGFyb3VuZCB0aGUgZ3JlYXQgbXlzdGVyaWVzJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1RpbWUnLFxyXG4gICAgICAgIHRhYjogJ3BvbmRlcicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdwb25kZXItdGFiJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcblxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBidXR0b25zOiBidXR0b25zXHJcbn07IiwiLyogQ1JBRlRJTkcgUkVTT1VSQ0VTICovXHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4uL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlIH0gPSByZXF1aXJlKCcuLi9nZXRDcmFmdGVkUmVzb3VyY2UnKTtcclxuY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgcGFzc2VkU3RhZ2UgfSA9IHJlcXVpcmUoJy4uL3N0YWdlcycpO1xyXG5cclxuXHJcbmNvbnN0IGNyYWZ0ZWRSZXNvdXJjZXMgPSB7XHJcbiAgICAnc2hhcnByb2Nrcyc6IHtcclxuICAgICAgICB0ZXh0OiAnU2hhcnAgUm9ja3MnLFxyXG4gICAgICAgIGlkOiAnY3JhZnRTaGFycHJvY2tzQnV0dG9uJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdyb2Nrcyc6IDIgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJyb2Nrc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQ3JhZnQgYSByb2NrIHVzaW5nIG5vdGhpbmcgYnV0IHJvY2tzIScsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdSb2NrczogNScsXHJcbiAgICAgICAgY2xhc3M6ICdjcmFmdFJvY2tzJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdyb3BlJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRSb3BlQnV0dG9uJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICd2aW5lcyc6IDMgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJyb2Nrc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnVGhlIGJhc2lzIG9mIGF0dGFjaGluZyB0aGluZ3MgdG8gb3RoZXIgdGhpbmdzLicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdWaW5lczogMycsXHJcbiAgICAgICAgY2xhc3M6ICdjcmFmdFJvY2tzJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdoYW5kbGUnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEhhbmRsZUJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnc3RpY2tzJzogMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcInJvY2tzXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdTaGVhciBvZmYgdGhhdCBiYXJrIHRvIGhvbGQgaXQgYmV0dGVyJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1NoYXJwIFJvY2tzOiAxJyxcclxuICAgICAgICBjbGFzczogJ2NyYWZ0Um9ja3MnXHJcbiAgICAgICAgLy8gdG9vbDogJ1NoYXJwIFJvY2snXHJcbiAgICB9LFxyXG4gICAgJ3N0YWZmJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRTdGFmZkJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnaGFuZGxlJzogMiwgJ3JvcGUnOiAxIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwicm9ja3NcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1N0aWNrIHNvbWUgc2hlYXJlZCBzdGlja3MgdG9nZXRoZXInLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnSGFuZGxlczogMicsXHJcbiAgICAgICAgY2xhc3M6ICdyb3BlJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdmaXNoaW5ncm9kJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRGaXNoaW5ncm9kQnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnRmlzaGluZyBSb2QnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3N0YWZmJzogMSwgJ3JvcGUnOiAyIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwiZmlzaGluZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQSB3ZWFwb24gZmVhcmVkIGJ5IHVuZGVyd2F0ZXIgbGlmZScsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIGNsYXNzOiAnZmlzaGluZydcclxuICAgICAgICAvLyB0b29sOiAnQmFyZSBIYW5kcydcclxuICAgIH0sXHJcbiAgICAnc3BlYXInOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFNwZWFyQnV0dG9uJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7XHJcbiAgICAgICAgICAgICdzdGFmZic6IDEsXHJcbiAgICAgICAgICAgICdzaGFycHJvY2tzJzogMSxcclxuICAgICAgICAgICAgJ3JvcGUnOiAxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwicm9ja3NcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0EgbG9uZyBhbmQgcG9pbnR5IHN0aWNrJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1N0YWZmczogMScsXHJcbiAgICAgICAgY2xhc3M6ICdyb3BlJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdheGUnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEF4ZUJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnaGFuZGxlJzogMSwgJ3JvcGUnOiAxLCAnc2hhcnByb2Nrcyc6IDIgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJzcGVhclwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnUHV0IGEgcm9jayBzdHJhaWdodCB0aHJvdWdoIHRoYXQgaGFuZGxlJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1NwZWFyczogMScsXHJcbiAgICAgICAgY2xhc3M6ICdzcGVhcidcclxuICAgICAgICAvLyB0b29sOiAnQmFyZSBIYW5kcydcclxuICAgIH0sXHJcbiAgICAncGlja2F4ZSc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0UGlja2F4ZUJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDoge1xyXG4gICAgICAgICAgICAnaGFuZGxlJzogMSxcclxuICAgICAgICAgICAgJ3NoYXJwcm9ja3MnOiAzLFxyXG4gICAgICAgICAgICAncm9wZSc6IDEsXHJcbiAgICAgICAgICAgICdyb2Nrcyc6IDEwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJzcGVhclwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnU2FkbHkgbm90IG1hZGUgb2YgZGlhbW9uZHMnLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnQXhlczogMScsXHJcbiAgICAgICAgY2xhc3M6ICdzcGVhcidcclxuICAgIH0sXHJcblxyXG4gICAgJ2dsYXNzJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRHbGFzc0J1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnc2FuZCc6IDEwIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnWW91IGNhbiBzZWUgcmlnaHQgdGhyb3VnaCBpdCEnLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwiZ2xhc3NCbG93aW5nXCIsXHJcbiAgICAgICAgY2xhc3M6ICdnbGFzc0Jsb3dpbmcnXHJcbiAgICB9LFxyXG4gICAgJ3BhcGVyJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRQYXBlckJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnd29vZCc6IDEyIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnT3V0c291cmNlIHlvdXIgbWVtb3J5JyxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcInBhcGVyXCIsXHJcbiAgICAgICAgY2xhc3M6ICdwYXBlcidcclxuICAgIH0sXHJcbiAgICAnZ29sZCc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0R29sZEJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnb3JlJzogMTAwIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwibWV0YWxXb3JraW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhlcmUncyBzb21lIHllbGxvdyBiaXRzIGluIHRoaXMgb3JlXCIsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIGNsYXNzOiAnbWV0YWxXb3JraW5nJ1xyXG4gICAgfSxcclxuICAgICdpcm9uJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRJcm9uQnV0dG9uJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdvcmUnOiAyMCB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcIm1ldGFsV29ya2luZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlRoZXJlJ3Mgc29tZSBzdHVyZHktbG9va2luZyBiaXRzIGluIHRoaXMgb3JlXCIsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIGNsYXNzOiAnbWV0YWxXb3JraW5nJ1xyXG4gICAgfSxcclxuICAgICdzaWx2ZXInOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFNpbHZlckJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnb3JlJzogNTAgfSxcclxuXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwibWV0YWxXb3JraW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhlcmUncyBzb21lIHNoaW55IGdyYXkgYml0cyBpbiB0aGlzIG9yZVwiLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnJyxcclxuICAgICAgICBjbGFzczogJ21ldGFsV29ya2luZydcclxuICAgIH0sXHJcbiAgICAnYnJpY2tzJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRCcmlja3NCdXR0b24nLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ2NsYXknOiAxNSB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcImNsYXlcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJMZWF2ZSBzb21lIGNsYXkgYnkgdGhlIGZpcmVcIixcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdjbGF5J1xyXG4gICAgfSxcclxuICAgICdicmVhZCc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0QnJlYWRCdXR0b24nLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgd2hlYXQ6IDEzIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6ICdhZ3JpY3VsdHVyZScsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSSdtIGdvbm5hIGdyaW5kIHlvdXIgd2hlYXQgdG8gbWFrZSBteSBicmVhZCFcIixcclxuICAgICAgICB0b29sdGlwY29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdhZ3JpY3VsdHVyZSdcclxuICAgIH0sXHJcbiAgICAnc3RlZWwnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICdpcm9uJzogNSB9IH0sXHJcbiAgICAnYmVhbXMnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICd3b29kJzogMTAgfSB9LFxyXG4gICAgJ2NyYXRlcyc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ3dvb2QnOiAxNSB9IH0sXHJcbiAgICAnbmFpbHMnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICdpcm9uJzogMSB9IH0sXHJcbiAgICAnc2xhYnMnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICdyb2Nrcyc6IDIwIH0gfSxcclxuICAgICdtZWRpY2luZSc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ2hlcmJzJzogNTAgfSB9LFxyXG4gICAgJ2xlYXRoZXInOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICdoaWRlcyc6IDEwIH0gfSxcclxuICAgICdjb25jcmV0ZSc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ3NhbmQnOiAzMiB9IH0sXHJcbiAgICAnd29vZCc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ3N0aWNrcyc6IDggfSB9LFxyXG4gICAgJ3N0aWNrcyc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ3dvb2QnOiAuMSB9IH0sXHJcblxyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZChpZCkge1xyXG4gICAgZm9yIChjb25zdCBbYywgdmFsXSBvZiBPYmplY3QuZW50cmllcyhjcmFmdGVkUmVzb3VyY2VzKSkge1xyXG4gICAgICAgIGlmICh2YWwuaWQgPT09IGlkIHx8IHZhbC5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWcoY29uZmlnKSB7XHJcbiAgICBmb3IgKGxldCBrIGluIGNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhrKTtcclxuICAgICAgICBpZiAoY3JhZnRlZFJlc291cmNlc1trXS5pZCA9PT0gY29uZmlnLmlkKSByZXR1cm4gaztcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldENyYWZ0ZWRSZXNvdXJjZXMoKSB7XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoY3JhZnRlZFJlc291cmNlcykpIHtcclxuICAgICAgICB2YWwudmFsdWUgPSAwO1xyXG4gICAgICAgIHZhbC5jcmFmdGVkT25jZSA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGNyYWZ0ZWRSZXNvdXJjZXMsXHJcbiAgICBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkLFxyXG4gICAgZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWcsXHJcbiAgICByZXNldENyYWZ0ZWRSZXNvdXJjZXNcclxufTsiLCJcclxuXHJcbi8qKlxyXG4gKiBUaWVyIDEgKDQwMCBwb25kZXIpOlxyXG4gKiBcclxuICogTHVtYmVyamFja1xyXG4gKiAgKzI1JSB3b29kIHByb2R1Y3Rpb25cclxuICogICsyNSUgc3RpY2tzIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIE1pbmVyXHJcbiAqICArMjUlIHN0b25lICYgb3JlIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIEJvdGFuaXN0XHJcbiAqICArMjUlIHZpbmVzICYgaGVyYnMgJiB3aGVhdCBwcm9kdWN0aW9uXHJcbiAqIFxyXG4gKiBMZWFkZXJcclxuICogIDUwJSBjbG9uZSBlZmZlY3RpdmVuZXNzXHJcbiAqIFxyXG4gKiBBcmNoaXRlY3RcclxuICogIC0yNSUgYnVpbGRpbmcgY29zdFxyXG4gKiBcclxuICogXHJcbiAqIFRpZXIgMiAoMTUwMCBwb25kZXIpOlxyXG4gKiBcclxuICogVGhpbmtlclxyXG4gKiAgKzUwJSBwb25kZXIgcHJvZHVjdGlvbiBhbmQgc3RvcmFnZVxyXG4gKiAgLTI1JSBwb25kZXIgY29zdFxyXG4gKiBcclxuICogR2VuZXJhbFxyXG4gKiAgKzUwJSBjb21iYXQgc3RyZW5ndGhcclxuICogICsyNSUgY2xvbmUgZWZmZWN0aXZlbmVzc1xyXG4gKiBcclxuICogTWVyY2hhbnRcclxuICogIC0yNSUgdHJhZGUgcHJpY2VcclxuICogICsyNSUgY2hhbmNlIG9mIHJhcmUgdHJhZGVcclxuICogXHJcbiAqIEdlbmVyYWxpc3RcclxuICogICsxMCUgZ2xvYmFsIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIFNwZWNpYWxpc3RcclxuICogICsxMDAlIHNraWxsIGdhaW5cclxuICogICsxMCUgc2tpbGwgYm9udXMgdG8gcmVzb3VyY2VzXHJcbiAqIFxyXG4gKiBcclxuICogXHJcbiAqIFxyXG4gKi9cclxuY29uc3QgcGVya3MgPSB7XHJcbiAgICAndGllcjEnOiBbJ0x1bWJlcmphY2snLCAnTWluZXInLCAnQm90YW5pc3QnLCAnTGVhZGVyJywgJ0FyY2hpdGVjdCddLFxyXG4gICAgJ3RpZXIyJzogWydUaGlua2VyJywgJ0dlbmVyYWwnLCAnTWVyY2hhbnQnLCAnR2VuZXJhbGlzdCcsICdTcGVjaWFsaXN0J10sXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHBlcmtzOiBwZXJrc1xyXG59OyIsImNvbnN0IHsgY2FwaXRhbGl6ZUZpcnN0IH0gPSByZXF1aXJlKFwiLi4vY2FwaXRhbGl6ZUZpcnN0XCIpO1xyXG5cclxubGV0IHBvbmRlcnMgPSB7XHJcbiAgICAvLyAncG9uZGVyMSc6IHtcclxuICAgIC8vICAgICBpZDogJ3BvbmRlclBvbmRlcjEnLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDEwIH0sXHJcbiAgICAvLyAgICAgdGV4dDogXCJUaGluayBIYXJkZXJcIixcclxuICAgIC8vICAgICB0b29sdGlwRGVzYzogXCI1JSBib29zdCB0byBwb25kZXJpbmdcIixcclxuICAgIC8vICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuXHJcbiAgICAvLyB9LFxyXG4gICAgJ2pvYnMtdGFiJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVySm9icy10YWInLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDIwIH0sXHJcbiAgICAgICAgdGV4dDogXCJVbmRlcnN0YW5kIENsb25pbmdcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1doeSBhcmUgdGhlcmUgdHdvIG9mIHlvdT8nLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnU2FuaXR5ICgyMCBQb25kZXIpJyxcclxuXHJcbiAgICB9LFxyXG4gICAgJ3NraWxsc1RhYmxlJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyU2tpbGxzVGFibGUnLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDUwIH0sXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiWW91J3JlIHN0YXJ0aW5nIHRvIGxlYXJuIHRoaW5ncywgcmlnaHQ/XCIsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdGV4dDogXCJOb3RpY2UgSW1wcm92ZW1lbnRcIlxyXG4gICAgfSxcclxuICAgICdmaXNoaW5nJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyRmlzaGluZycsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNTAsICdmaXNoJzogNTAgfSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJXaGF0IGlmLi4uIHlvdXIgY2xvbmVzIGNvdWxkIGdvIGZpc2hpbmc/XCIsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdGV4dDogXCJGaXNoaW5nIEpvYlwiXHJcbiAgICB9LFxyXG4gICAgLy8gJ21pY3JvbWFuYWdlbWVudCc6IHtcclxuICAgIC8vICAgICBpZDogJ3BvbmRlck1pY3JvbWFuYWdlbWVudCcsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgY29zdDogeyAncG9uZGVyJzogMjAwLCAnY2xvbmVzJzogNSB9LFxyXG4gICAgLy8gICAgIHRleHQ6IFwiTWljcm9tYW5hZ2VtZW50XCIsXHJcbiAgICAvLyAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAvLyAgICAgdG9vbHRpcERlc2M6IFwiWW91IG1hbmFnZWQgdG8gbWFrZSBjbG9uZXMgbWFuYWdlIGVhY2ggb3RoZXIuXCJcclxuICAgIC8vIH0sXHJcbiAgICAnZmFzdGVyU2tpbGxzJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyRmFzdGVyU2tpbGxzJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA4MCB9LFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiU2tpbGxzIElcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGluayBTbWFydGVyLiA1JSBib251cyB0byBza2lsbCBleHBcIlxyXG4gICAgfSxcclxuICAgICd0aGlua2luZyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlclRoaW5raW5nJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxNTAgfSxcclxuICAgICAgICB0ZXh0OiBcIlRoaW5raW5nIEpvYlwiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkxldCB5b3VyIGNsb25lcyBzdGFydCB0aGlua2luZyBmb3IgdGhlbXNlbHZlcy5cIlxyXG5cclxuICAgIH0sXHJcbiAgICAvLyAnZmFzdGVyUmVzb3VyY2VHYWluJzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyRmFzdGVyUmVzb3VyY2VHYWluJyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICBjb3N0OiB7ICdwb25kZXInOiA0MCB9LFxyXG4gICAgLy8gICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgLy8gICAgIHRleHQ6IFwiUHJvZHVjdGl2aXR5IElcIixcclxuICAgIC8vICAgICB0b29sdGlwRGVzYzogXCJKdXN0IHdvcmsgaGFyZGVyLiA1JSBib251cyB0byByZXNvdXJjZSBnYWluXCJcclxuICAgIC8vIH0sXHJcbiAgICAvLyAnZmFzdGVyUmVzb3VyY2VHYWluMic6IHtcclxuICAgIC8vICAgICBpZDogJ3BvbmRlckZhc3RlclJlc291cmNlR2FpbjInLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDEyMCB9LFxyXG4gICAgLy8gICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgLy8gICAgIHRleHQ6IFwiUHJvZHVjdGl2aXR5IElJXCIsXHJcbiAgICAvLyAgICAgdG9vbHRpcERlc2M6IFwiSnVzdCB3b3JrIGhhcmRlci4gNSUgYm9udXMgdG8gcmVzb3VyY2UgZ2FpblwiXHJcbiAgICAvLyB9LFxyXG4gICAgLy8gJ2Zhc3RlclJlc291cmNlR2FpbjMnOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJGYXN0ZXJSZXNvdXJjZUdhaW4zJyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICBjb3N0OiB7ICdwb25kZXInOiAzMDAgfSxcclxuICAgIC8vICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgIC8vICAgICB0ZXh0OiBcIlByb2R1Y3Rpdml0eSBJSUlcIixcclxuICAgIC8vICAgICB0b29sdGlwRGVzYzogXCJKdXN0IHdvcmsgaGFyZGVyLiA1JSBib251cyB0byByZXNvdXJjZSBnYWluXCJcclxuICAgIC8vIH0sXHJcbiAgICAnbWV0YWxXb3JraW5nJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyTWV0YWxXb3JraW5nJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIk1ldGFsIFdvcmtpbmdcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJTdGFydCBwcm9jZXNzaW5nIHRoYXQgb3JlXCIsXHJcbiAgICAgICAgLy8gY29zdDogW3sgbWF0ZXJpYWw6ICdwb25kZXInLCBhbW91bnQ6IDEwMCB9LCB7IG1hdGVyaWFsOiAnb3JlJywgYW1vdW50OiA1MCB9LCB7IG1hdGVyaWFsOiAncm9ja3MnLCBhbW91bnQ6IDUwIH1dXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTAwLCAnb3JlJzogNTAsICdyb2Nrcyc6IDUwIH0sXHJcbiAgICB9LFxyXG4gICAgJ2dsYXNzQmxvd2luZyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckdsYXNzQmxvd2luZycsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdGV4dDogJ0dsYXNzIEJsb3dpbmcnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnSHVmZiBhbmQgcHVmZiBhbmQgbWFrZSBhIGNvb2wgdmFzZScsXHJcbiAgICAgICAgY29zdDogeyAnc2FuZCc6IDIwLCAncG9uZGVyJzogODAgfVxyXG4gICAgfSxcclxuICAgICdvcmdhbml6YXRpb24nOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJPcmdhbml6YXRpb24nLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6ICdPcmdhbml6ZWQgU3RvcmFnZScsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdPcmdhbml6ZSB5b3VyIHN0b3JhZ2UgYnkgZ3JvdXBzJyxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAyMDAgfVxyXG4gICAgfSxcclxuICAgICdwYXBlcic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlclBhcGVyJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiAnUGFwZXIgUHJvY2Vzc2luZycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdTbWFzaCBkb3duIHNvbWUgd29vZCBpbnRvIHBhcGVyJyxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAyMDAsICd3b29kJzogMTAwIH1cclxuICAgIH0sXHJcbiAgICAnYXV0b0Nsb25lJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQXV0b0Nsb25lJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkF1dG8gQ2xvbmVcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBdXRvbWF0aWNhbGx5IHByb2R1Y2UgY2xvbmVzXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTQwLCAnY2xvbmVzJzogMjAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgLy8gJ2VmZmVjdGl2ZUJ1aWxkaW5ncyc6IHtcclxuICAgIC8vICAgICBpZDogJ3BvbmRlckVmZmVjdGl2ZUJ1aWxkaW5ncycsXHJcbiAgICAvLyAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgdGV4dDogXCJCdWlsZGluZ3MgSVwiLFxyXG4gICAgLy8gICAgIHRvb2x0aXBEZXNjOiBcIkluY3JlYXNlIGJ1aWxkaW5nIGVmZmVjdHMgYnkgMyVcIixcclxuICAgIC8vICAgICBjb3N0OiB7ICdwb25kZXInOiAxODAgfSxcclxuICAgIC8vIH0sXHJcbiAgICAnYWdyaWN1bHR1cmUnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJBZ3JpY3VsdHVyZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJBZ3JpY3VsdHVyZVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZpbmQgc29tZSBzZWVkcyBmcm9tIGFsbCB0aG9zZSBwbGFudHNcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxODAgfVxyXG4gICAgfSxcclxuICAgICdjb21iYXRUYWInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJDb21iYXRUYWInLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiQ29tYmF0XCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSXMgdGhlcmUgYW55b25lIHRvIHNwYXIgd2l0aCBiZXNpZGVzIHlvdT9cIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAzMDAsICdzcGVhcic6IDEwMCB9XHJcbiAgICB9LFxyXG4gICAgJ2h1bnRpbmcnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJIdW50aW5nJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkh1bnRpbmdcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBdCBsZWFzdCB0aGVyZSBhcmUgYW5pbWFsc1wiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDIwMCwgJ2Zpc2gnOiA1MCB9XHJcbiAgICB9LFxyXG4gICAgJ3BlcmtzVGFiJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyUGVya3NUYWInLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6ICdQZXJrcycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdNYXliZSB5b3UgYXMgdGhlIG9yaWdpbmFsIHNob3VsZCBzcGVjaWFsaXplJyxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA0MDAgfVxyXG4gICAgfSxcclxuICAgIC8vICdhdXRvY3JhZnQnOiB7XHJcbiAgICAvLyAgICAgaWQ6IFwicG9uZGVyQXV0b2NyYWZ0XCIsXHJcbiAgICAvLyAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgdGV4dDogXCJBdXRvIENyYWZ0XCIsXHJcbiAgICAvLyAgICAgdG9vbHRpcERlc2M6IFwiQXV0b21hdGljYWxseSBjcmFmdCByZXNvdXJjZXMgd2hlbiB0aGV5IHJlYWNoIHRoZSBzdG9yYWdlIGxpbWl0XCIsXHJcbiAgICAvLyAgICAgY29zdDogeyAncG9uZGVyJzogNDAwLCAnd29vZCc6IDEwMDAsICdyb2Nrcyc6IDUwMCwgJ3doZWF0JzogMTAwMCB9XHJcbiAgICAvLyB9LFxyXG4gICAgJ2ZhY3RvcnlUYWInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJGYWN0b3J5VGFiJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkZhY3Rvcmllc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkFzY2VuZCB0byB0aGUgbmV4dCBsZXZlbCBvZiBlY29ub215XCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNTAwLCAnZ29sZCc6IDEwLCAnd29vZCc6IDEwMDAsICd3aGVhdCc6IDEwMDAsICdyb2Nrcyc6IDEwMDAgfVxyXG4gICAgfSxcclxuICAgIC8vICdwb25kZXIyJzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyUG9uZGVyMicsXHJcbiAgICAvLyAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgdGV4dDogXCJUaGluayBldmVuIGhhcmRlclwiLFxyXG4gICAgLy8gICAgIHRvb2x0aXBEZXNjOiBcIjUlIGJvb3N0IHRvIHBvbmRlcmluZ1wiLFxyXG4gICAgLy8gICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDMwMCB9XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gJ3BvbmRlcjMnOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJQb25kZXIzJyxcclxuICAgIC8vICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICB0ZXh0OiBcIlRoaW5rIGhhcmRlc3RcIixcclxuICAgIC8vICAgICB0b29sdGlwRGVzYzogXCI1JSBib29zdCB0byBwb25kZXJpbmdcIixcclxuICAgIC8vICAgICBjb3N0OiB7ICdwb25kZXInOiA2MDAgfVxyXG4gICAgLy8gfSxcclxuICAgICdiaWdnZXJTaGVsdGVyJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQmlnZ2VyU2hlbHRlcicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJFeHBhbmQgU2hlbHRlclwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlNoZWx0ZXJzIGNhbiBob3VzZSAxIG1vcmUgY2xvbmUgZWFjaFwiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDUwMCwgJ3N0aWNrcyc6IDEwMDAgfVxyXG4gICAgfSxcclxuICAgICdiaWdnZXJIdXQnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJCaWdnZXJIdXQnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiRXhwYW5kIEh1dFwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkh1dHMgY2FuIGhvdXNlIDEgbW9yZSBjbG9uZSBlYWNoXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNzUwLCAnc3RpY2tzJzogMTUwMCwgJ3ZpbmVzJzogMTAwMCB9XHJcbiAgICB9LFxyXG4gICAgJ2JpZ2dlckhvdXNlJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQmlnZ2VySG91c2UnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiVHdvLXN0b3J5IGhvdXNlc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkhvdXNlcyBjYW4gaG91c2UgMiBtb3JlIGNsb25lcyBlYWNoXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTAwMCwgJ3dvb2QnOiAyMDAwLCAncm9ja3MnOiAyMDAwIH1cclxuICAgIH0sXHJcbiAgICAnYmlnZ2VyVGVlcGVlJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQmlnZ2VyVGVlcGVlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkRvdWJsZSBkaWFtZXRlciBUZWVwZWVzXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGVlcGVlcyBjYW4gaG91c2UgNCBtb3JlIGNsb25lcyBlYWNoXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTI1MCwgJ3dvb2QnOiAzMDAwLCAnaGlkZXMnOiAxNTAwIH1cclxuICAgIH0sXHJcbiAgICAnZXZlbkJpZ2dlclNoZWx0ZXInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJFdmVuQmlnZ2VyU2hlbHRlcicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJFeHBhbmQgU2hlbHRlciBBZ2FpblwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlNoZWx0ZXJzIGNhbiBob3VzZSAxIG1vcmUgY2xvbmUgZWFjaFwiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDE1MDAsICdzdGlja3MnOiAzMDAwLCAnZmlzaCc6IDEwMDAgfVxyXG4gICAgfSxcclxuICAgICdlYXRCcmVhZCc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckVhdEJyZWFkJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkVhdCBCcmVhZFwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkVhdGluZyBzb21lIGJyZWFkIHdpbGwgaGVscCB5b3Ugd29yayBmYXN0ZXJcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA0MDAsICdicmVhZCc6IDMwIH1cclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIHJlc2V0UG9uZGVycygpIHtcclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhwb25kZXJzKSkge1xyXG4gICAgICAgIHZhbC5pc1BvbmRlcmVkID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdG9Sb21hbihudW0pIHtcclxuICAgIGNvbnN0IHJvbWFuTnVtZXJhbHMgPSBbXHJcbiAgICAgICAgeyB2YWx1ZTogMTAwMCwgbnVtZXJhbDogJ00nIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogOTAwLCBudW1lcmFsOiAnQ00nIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogNTAwLCBudW1lcmFsOiAnRCcgfSxcclxuICAgICAgICB7IHZhbHVlOiA0MDAsIG51bWVyYWw6ICdDRCcgfSxcclxuICAgICAgICB7IHZhbHVlOiAxMDAsIG51bWVyYWw6ICdDJyB9LFxyXG4gICAgICAgIHsgdmFsdWU6IDkwLCBudW1lcmFsOiAnWEMnIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogNTAsIG51bWVyYWw6ICdMJyB9LFxyXG4gICAgICAgIHsgdmFsdWU6IDQwLCBudW1lcmFsOiAnWEwnIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogMTAsIG51bWVyYWw6ICdYJyB9LFxyXG4gICAgICAgIHsgdmFsdWU6IDksIG51bWVyYWw6ICdJWCcgfSxcclxuICAgICAgICB7IHZhbHVlOiA1LCBudW1lcmFsOiAnVicgfSxcclxuICAgICAgICB7IHZhbHVlOiA0LCBudW1lcmFsOiAnSVYnIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogMSwgbnVtZXJhbDogJ0knIH1cclxuICAgIF07XHJcblxyXG4gICAgbGV0IHJlc3VsdCA9ICcnO1xyXG4gICAgZm9yIChjb25zdCBudW1lcmFsIG9mIHJvbWFuTnVtZXJhbHMpIHtcclxuICAgICAgICB3aGlsZSAobnVtID49IG51bWVyYWwudmFsdWUpIHtcclxuICAgICAgICAgICAgcmVzdWx0ICs9IG51bWVyYWwubnVtZXJhbDtcclxuICAgICAgICAgICAgbnVtIC09IG51bWVyYWwudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBhZGRQb25kZXJzKGNvdW50KSB7XHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBgZmFzdGVyUmVzb3VyY2VHYWluJHtpfWA7XHJcbiAgICAgICAgcG9uZGVyc1tpZF0gPSB7XHJcbiAgICAgICAgICAgIGlkOiBgcG9uZGVyRmFzdGVyUmVzb3VyY2VHYWluJHtpfWAsXHJcbiAgICAgICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA0MCAqIE1hdGgucG93KDMsIGkgLSAxKSB9LFxyXG4gICAgICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgdGV4dDogYFByb2R1Y3Rpdml0eSAke3RvUm9tYW4oaSl9YCxcclxuICAgICAgICAgICAgdG9vbHRpcERlc2M6IFwiSnVzdCB3b3JrIGhhcmRlci4gQm9udXMgdG8gcmVzb3VyY2UgZ2FpblwiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgcG9uZGVyc1tgZmFzdGVyUG9uZGVyJHtpfWBdID0ge1xyXG4gICAgICAgICAgICBpZDogYHBvbmRlckZhc3RlclBvbmRlciR7aX1gLFxyXG4gICAgICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTAgKiBNYXRoLnBvdyg1LCBpIC0gMSkgfSxcclxuICAgICAgICAgICAgdGV4dDogYFRoaW5rIEhhcmRlciAke3RvUm9tYW4oaSl9YCxcclxuICAgICAgICAgICAgdG9vbHRpcERlc2M6IGBTbWFsbCBib29zdCB0byBwb25kZXJpbmcgc3BlZWRgLFxyXG4gICAgICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGNvdW50OyBpKyspIHtcclxuICAgICAgICBwb25kZXJzW2BlZmZlY3RpdmVCdWlsZGluZ3Mke2l9YF0gPSB7XHJcbiAgICAgICAgICAgIGlkOiBgcG9uZGVyRWZmZWN0aXZlQnVpbGRpbmdzJHtpfWAsXHJcbiAgICAgICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAzMCAqIE1hdGgucG93KDMsIGkgLSAxKSB9LFxyXG4gICAgICAgICAgICB0ZXh0OiBgQnVpbGRpbmdzICR7dG9Sb21hbihpKX1gLFxyXG4gICAgICAgICAgICB0b29sdGlwRGVzYzogXCJJbmNyZWFzZSBidWlsZGluZyBlZmZlY3RzIGJ5IGEgc21hbGwgYW1vdW50XCIsXHJcbiAgICAgICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmFkZFBvbmRlcnMoMTAwKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgcG9uZGVyczogcG9uZGVycyxcclxuICAgIHJlc2V0UG9uZGVyc1xyXG59OyIsImNvbnN0IHByZXN0aWdlID0ge1xyXG4gICAgJ21heENsb25lcyc6IHtcclxuICAgICAgICB0ZXh0OiAnQ3JhbXBlZCcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdNYXggQ2xvbmVzICgrMSknLFxyXG4gICAgICAgIGNvc3Q6IDIsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAnY2xvbmVCb29zdCc6IHtcclxuICAgICAgICB0ZXh0OiAnSGFuZHltYW4nLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQ2xvbmUgUHJvZHVjdGl2aXR5ICgrNSUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlcmluZ0Jvb3N0Jzoge1xyXG4gICAgICAgIHRleHQ6ICdQaWNrZXInLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnR2F0aGVyaW5nIEVmZmljaWVuY3kgKCsxMCUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ21hc29ucnlCb29zdCc6IHtcclxuICAgICAgICB0ZXh0OiAnUm9ja2VyJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ01hc29ucnkgRWZmaWNpZW5jeSAoKzEwJSknLFxyXG4gICAgICAgIGNvc3Q6IDEsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAnY2FycGVudHJ5Qm9vc3QnOiB7XHJcbiAgICAgICAgdGV4dDogJ0Nob3BwZWQnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQ2FycGVudHJ5IEVmZmljaWVuY3kgKCsxMCUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ3RoaW5raW5nQm9vc3QnOiB7XHJcbiAgICAgICAgdGV4dDogJ1dpemVuZWQnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnVGhpbmtpbmcgRWZmaWNpZW5jeSAoKzEwJSknLFxyXG4gICAgICAgIGNvc3Q6IDEsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAnZmFybWluZ0Jvb3N0Jzoge1xyXG4gICAgICAgIHRleHQ6ICdQcnVuZWQnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnRmFybWluZyBFZmZpY2llbmN5ICgrMTAlKScsXHJcbiAgICAgICAgY29zdDogMSxcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfSxcclxuICAgICdmaXNoaW5nQm9vc3QnOiB7XHJcbiAgICAgICAgdGV4dDogJ0hvb2tlZCcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdGaXNoaW5nIEVmZmljaWVuY3kgKCsxMCUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ2h1bnRpbmdCb29zdCc6IHtcclxuICAgICAgICB0ZXh0OiAnVHJhY2tlcicsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdIdW50aW5nIEVmZmljaWVuY3kgKCsxMCUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ2NoZWFwZXJCdWlsZGluZ3MnOiB7XHJcbiAgICAgICAgdGV4dDogJ1JpY2tldHknLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQnVpbGRpbmcgQ29zdCAoLTUlKScsXHJcbiAgICAgICAgY29zdDogMixcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfSxcclxuICAgICdzdG9yYWdlU3BhY2UnOiB7XHJcbiAgICAgICAgdGV4dDogJ1N0dWZmZWQnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnU3RvcmFnZSBTcGFjZSAoKzUlKScsXHJcbiAgICAgICAgY29zdDogMixcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gaGFzUHJlc3RpZ2UocHJlcykge1xyXG4gICAgcmV0dXJuIGdldExldmVsT2ZQcmVzdGlnZShwcmVzKSA+IDA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldExldmVsT2ZQcmVzdGlnZShwcmVzKSB7XHJcbiAgICByZXR1cm4gcHJlc3RpZ2VbcHJlc10ubGV2ZWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFByZXN0aWdlTGV2ZWwocHJlcywgbGV2ZWwpIHtcclxuICAgIHByZXN0aWdlW3ByZXNdLmxldmVsID0gbGV2ZWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFByZXN0aWdlQ29zdChwcmVzLCBjb3N0KSB7XHJcbiAgICBwcmVzdGlnZVtwcmVzXS5jb3N0ID0gY29zdDtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHByZXN0aWdlLFxyXG4gICAgaGFzUHJlc3RpZ2UsXHJcbiAgICBnZXRMZXZlbE9mUHJlc3RpZ2UsXHJcbiAgICBzZXRQcmVzdGlnZUNvc3QsXHJcbiAgICBzZXRQcmVzdGlnZUxldmVsXHJcbn07IiwiXHJcbi8vIFRPRE86IEFERCBSRVFVSVJFTUVOVFMgRk9SIEVBQ0ggVE8gTUFLRSBUSEVNIFZJU0lCTEVcclxuLy8gb3IganVzdCBkaXNwbGF5IHRoZW0gd2hlbiB5b3UgZ2V0IHlvdXIgZmlyc3Qgb25lP1xyXG5jb25zdCByZXNvdXJjZXMgPSB7XHJcbiAgICBcImNsb25lc1wiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcIm1ha2VDbG9uZVwiLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBiYXNlbWF4OiAwXHJcbiAgICB9LFxyXG5cclxuICAgIFwic3RpY2tzXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyU3RpY2tzXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogdHJ1ZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4ax8JOAnCBHYXRoZXJpbmcgU3RpY2tzXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCThrEgR2F0aGVyIFN0aWNrc1wiLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBlbW9qaTogJ/CTgJ0nLFxyXG4gICAgICAgIGJhc2VtYXg6IDUwXHJcbiAgICB9LFxyXG4gICAgXCJ2aW5lc1wiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlclZpbmVzXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JONr/CTgKogR2F0aGVyaW5nIFZpbmVzXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTja8gR2F0aGVyIFZpbmVzXCIsXHJcbiAgICAgICAgXCJ0b29sc1wiOiBbeyBcInRvb2xcIjogXCJBeGVcIiwgXCJ2YWxcIjogMS41IH1dLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBlbW9qaTogJ/CTgKonLFxyXG4gICAgICAgIGJhc2VtYXg6IDUwXHJcbiAgICB9LFxyXG4gICAgXCJyb2Nrc1wiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlclJvY2tzXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOKlvCTgKkgR2F0aGVyaW5nIFJvY2tzXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTipYgR2F0aGVyIFJvY2tzXCIsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgYmFzZW1heDogMzBcclxuICAgIH0sXHJcbiAgICBcImZpc2hcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJGaXNoXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOGnfCThp/wk4aeIPCTgYMgR29uZSBGaXNoaW5nXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCThp3wk4af8JOGniBHbyBGaXNoXCIsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIGVtb2ppOiAn8JOBgycsXHJcbiAgICAgICAgXCJ0b29sc1wiOiBbeyBcInRvb2xcIjogXCJTcGVhclwiLCBcInZhbFwiOiAxIH0sIHsgXCJ0b29sXCI6IFwiRmlzaGluZyBSb2RcIiwgXCJ2YWxcIjogMiB9XSxcclxuICAgICAgICBiYXNlbWF4OiAxMFxyXG4gICAgfSxcclxuICAgIFwid29vZFwiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlcldvb2RcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4CoIENob3BwaW5nIFdvb2RcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOMjyBDaG9wIFdvb2RcIixcclxuICAgICAgICBlbW9qaTogJ/CTgKgnLFxyXG4gICAgICAgIFwidG9vbHNcIjogW3sgXCJ0b29sXCI6IFwiQXhlXCIsIFwidmFsXCI6IDEuNSB9LCB7IFwidG9vbFwiOiBcIkNoYWluc2F3XCIsIFwidmFsXCI6IDMgfV0sXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIGJhc2VtYXg6IDQwXHJcbiAgICB9LFxyXG4gICAgXCJwb25kZXJcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJQb25kZXJcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4CBIFBvbmRlcmluZ1wiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4CBIFBvbmRlclwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAgScsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIGJhc2VtYXg6IDIwXHJcbiAgICB9LFxyXG4gICAgXCJvcmVcIjoge1xyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyT3JlXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOJuPCTgYQgTWluaW5nIE9yZVwiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4m4IE1pbmUgT3JlXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4GEJyxcclxuICAgICAgICBiYXNlbWF4OiAyMFxyXG4gICAgfSxcclxuICAgIFwic2FuZFwiOiB7XHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJTYW5kXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOAqSBTY29vcGluZyBTYW5kXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTgKkgU2Nvb3AgU2FuZFwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgYmFzZW1heDogMjBcclxuICAgIH0sXHJcbiAgICBcIndoZWF0XCI6IHtcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlcldoZWF0XCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOAqSBIYXJ2ZXN0aW5nIFdoZWF0XCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTgKkgSGFydmVzdCBXaGVhdFwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAnScsXHJcbiAgICAgICAgYmFzZW1heDogMjBcclxuICAgIH0sXHJcbiAgICAnZnJlc2h3YXRlcic6IHtcclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJGcmVzaHdhdGVyJyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgJ2Jhc2VtYXgnOiA1MFxyXG4gICAgfSxcclxuICAgICdoaWRlcyc6IHtcclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJIaWRlcycsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgJ2RlZmF1bHRUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICBlbW9qaTogJ/CTgI4nLFxyXG4gICAgICAgICdiYXNlbWF4JzogNTBcclxuXHJcbiAgICB9LFxyXG4gICAgJ2NsYXknOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVyQ2xheScsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgJ2RlZmF1bHRUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICBlbW9qaTogJ/CTgKknLFxyXG4gICAgICAgICdiYXNlbWF4JzogNTBcclxuICAgIH0sXHJcbiAgICAnaGVyYnMnOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVySGVyYnMnLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICAnYmFzZW1heCc6IDUwXHJcbiAgICB9LFxyXG4gICAgJ2dhbWUnOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVyR2FtZScsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICfwk4Oa8JOAjiBIdW50aW5nJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAn8JOAjiBIdW50JyxcclxuICAgICAgICBlbW9qaTogJ/CTgI4nLFxyXG4gICAgICAgICdiYXNlbWF4JzogNTBcclxuICAgIH0sXHJcbiAgICAnaHVza3MnOiB7XHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgaWQ6ICdnYXRoZXJIdXNrcycsXHJcbiAgICAgICAgaXNHZXR0aW5nOiBmYWxzZSxcclxuICAgICAgICBpc1Zpc2libGU6IGZhbHNlLFxyXG4gICAgICAgIGFjdGl2ZVRleHQ6ICcnLFxyXG4gICAgICAgIGRlZmF1bHRUZXh0OiBcIlwiLFxyXG4gICAgICAgIGVtb2ppOiAnWCcsXHJcbiAgICAgICAgJ2Jhc2VtYXgnOiAxMDAwXHJcbiAgICB9LFxyXG4gICAgJ3Zpb2xlbmNlJzoge1xyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGlkOiAnZ2F0aGVyVmlvbGVuY2UnLFxyXG4gICAgICAgIGlzR2V0dGluZzogZmFsc2UsXHJcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcclxuICAgICAgICBhY3RpdmVUZXh0OiAnJyxcclxuICAgICAgICBkZWZhdWx0VGV4dDogJycsXHJcbiAgICAgICAgZW1vamk6ICcnLFxyXG4gICAgICAgIGJhc2VtYXg6IDEwMFxyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBpc1Jlc291cmNlKHJlc291cmNlKSB7XHJcbiAgICAvLyByZXR1cm4gcmVzb3VyY2VzW3Jlc291cmNlXSAhPT0gbnVsbDtcclxuICAgIHJldHVybiByZXNvdXJjZSBpbiByZXNvdXJjZXM7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0UmVzb3VyY2VDb25maWdCeUlkKGlkKSB7XHJcbiAgICBmb3IgKGxldCByIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIGlmIChyZXNvdXJjZXNbcl0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZXNbcl07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0UmVzb3VyY2VzKCkge1xyXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHJlc291cmNlcykpIHtcclxuICAgICAgICB2YWwudmFsdWUgPSAwO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRCYXNlTWF4KHJlc291cmNlKSB7XHJcbiAgICByZXR1cm4gcmVzb3VyY2VzW3Jlc291cmNlXS5iYXNlbWF4O1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgcmVzb3VyY2VzLFxyXG4gICAgaXNSZXNvdXJjZSxcclxuICAgIGdldFJlc291cmNlQ29uZmlnQnlJZCxcclxuICAgIHJlc2V0UmVzb3VyY2VzLFxyXG4gICAgZ2V0QmFzZU1heFxyXG59O1xyXG5cclxuIiwiY29uc3Qgc2tpbGxzID0ge1xyXG4gICAgZ2F0aGVyaW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ3N0aWNrcycsICd2aW5lcycsICdzYW5kJywgJ2hlcmJzJywgJ2JlcnJpZXMnXVxyXG4gICAgfSxcclxuICAgIG1hc29ucnk6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsncm9ja3MnLCAnb3JlJywgJ2NsYXknXSxcclxuICAgICAgICBuZWVkVG9vbHM6IFt7ICdQaWNrYXhlJzogWydvcmUnXSB9XVxyXG4gICAgfSxcclxuICAgIGNhcnBlbnRyeToge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWyd3b29kJywgJ2hhbmRsZScsICdzdGFmZicsICdmaXNoaW5ncm9kJ10sXHJcbiAgICAgICAgbmVlZFRvb2xzOiBbeyAnQXhlJzogWyd3b29kJ10gfV1cclxuICAgIH0sXHJcbiAgICB0aGlua2luZzoge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWydwb25kZXInXVxyXG4gICAgfSxcclxuICAgIC8vIHNtaXRoaW5nOiB7XHJcbiAgICAvLyAgICAgZXhwOiAwLFxyXG4gICAgLy8gICAgIGxldmVsOiAwLFxyXG4gICAgLy8gICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ2F4ZScsICdwaWNrYXhlJywgJ3NwZWFyJywgJ2dsYXNzJywgJ2lyb24nLCAnc2lsdmVyJywgJ2dvbGQnXVxyXG4gICAgLy8gfSxcclxuICAgIGZhcm1pbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnd2hlYXQnLCAnZnJlc2h3YXRlciddXHJcbiAgICB9LFxyXG4gICAgY29tYmF0OiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ3Zpb2xlbmNlJ11cclxuICAgIH0sXHJcbiAgICBmaXNoaW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ2Zpc2gnXVxyXG4gICAgfSxcclxuICAgIGh1bnRpbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnaGlkZXMnLCAnZ2FtZSddXHJcbiAgICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHNraWxsczogc2tpbGxzXHJcbn07IiwiY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzLCByZXNldENyYWZ0ZWRSZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9jcmFmdGVkUmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgYnVpbGRpbmdzLCByZXNldEJ1aWxkaW5ncyB9ID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIik7XHJcbmNvbnN0IHsgcG9uZGVycywgcmVzZXRQb25kZXJzIH0gPSByZXF1aXJlKFwiLi9qc29uL3BvbmRlclwiKTtcclxuY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKFwiLi9qc29uL2J1dHRvbnNcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzLCByZXNldFJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5cclxuY29uc3QgeyBzYXZlR2FtZSwgbG9hZEdhbWUgfSA9IHJlcXVpcmUoXCIuL3NhdmluZ1wiKTtcclxuY29uc3QgeyBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zLCBpbmNyZWFzZU1hdGVyaWFsLCBjcmFmdEFsbFJlc291cmNlcywgY3JhZnRSZXNvdXJjZSwgY2FsY0luY3JlYXNlLCB1cGRhdGVSZXNvdXJjZUluY3JlYXNlUmF0ZXMsIGluY3JlYXNlTWF4IH0gPSByZXF1aXJlKCcuL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1eU1heEJ1aWxkaW5ncywgYnV5QnVpbGRpbmcsIH0gPSByZXF1aXJlKCcuL2J1aWxkaW5ncycpO1xyXG5jb25zdCB7IHNlbGVjdEFiaWxpdHksIHJlc2V0UGVya3MgfSA9IHJlcXVpcmUoJy4vcGVya3MnKTtcclxuY29uc3QgeyBjbGVhclNpZGViYXIsIGdldE1heCB9ID0gcmVxdWlyZSgnLi9oZWxwZXInKTtcclxuY29uc3QgeyBtYWtlVmlzaWJsZSB9ID0gcmVxdWlyZSgnLi9tYWtlVmlzaWJsZScpO1xyXG5jb25zdCB7IHVwZGF0ZUJ1dHRvblZpc2liaWxpdHkgfSA9IHJlcXVpcmUoJy4vdXBkYXRlQnV0dG9uVmlzaWJpbGl0eScpO1xyXG5jb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi9nZXRDcmFmdGVkUmVzb3VyY2UnKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IGJ1eUZhY3RvcnksIGF0dGVtcHRNYW51ZmFjdHVyZSwgdXBncmFkZUJ1bGssIGFsbE1hdGVyaWFscyB9ID0gcmVxdWlyZSgnLi9mYWN0b3J5Jyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCwgZ2VuZXJhdGVQb25kZXJCdXR0b25zIH0gPSByZXF1aXJlKFwiLi9wb25kZXJcIik7XHJcbmNvbnN0IHsgaGFzVG9vbCwgYWRkVG9vbCB9ID0gcmVxdWlyZSgnLi90b29scycpO1xyXG5jb25zdCB7IGdldEF0ZUZpc2gsIHNldEF0ZUZpc2ggfSA9IHJlcXVpcmUoJy4vYXRlRmlzaCcpO1xyXG5jb25zdCB7IHVwZGF0ZVRvdGFsLCBjbGVhckpvYkFzc2lnbm1lbnRzLCByZXNldEFsbEpvYnMgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IGNhcGl0YWxpemVGaXJzdCB9ID0gcmVxdWlyZSgnLi9jYXBpdGFsaXplRmlyc3QnKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSwgcmVzZXRTdGFnZXMgfSA9IHJlcXVpcmUoJy4vc3RhZ2VzJyk7XHJcbmNvbnN0IHsgcmVjYWxjTWF4Q2xvbmVzIH0gPSByZXF1aXJlKCcuL3JlY2FsY01heENsb25lcycpO1xyXG5jb25zdCB7IGluaXRpYWxpemVSZXNvdXJjZVRhZ3MsIHVwZGF0ZVNpZGViYXIsIHVwZGF0ZURpc3BsYXlWYWx1ZSB9ID0gcmVxdWlyZSgnLi9zaWRlYmFyJyk7XHJcbmNvbnN0IHsgcHJlc3RpZ2UgfSA9IHJlcXVpcmUoJy4vanNvbi9wcmVzdGlnZScpO1xyXG5jb25zdCB7IHRyaWdnZXJGbG9hdFVwVGV4dCB9ID0gcmVxdWlyZSgnLi90cmlnZ2VyRmxvYXRVcFRleHQnKTtcclxuY29uc3QgeyB1cGRhdGVCb3VuY2VBbmltYXRpb24gfSA9IHJlcXVpcmUoJy4vdXBkYXRlQm91bmNlQW5pbWF0aW9uJyk7XHJcbmNvbnN0IHsgdXBkYXRlVG9vbHRpcCwgaGlkZVRvb2x0aXAgfSA9IHJlcXVpcmUoJy4vdXBkYXRlVG9vbHRpcCcpO1xyXG5jb25zdCB7IGNhbkNyYWZ0IH0gPSByZXF1aXJlKCcuL2NhbkNyYWZ0Jyk7XHJcbmNvbnN0IHsgY2FsY3VsYXRlV2luQ2hhbmNlLCBjb21iYXQsIHN3aXRjaFN0YW5jZSB9ID0gcmVxdWlyZSgnLi9jb21iYXQnKTtcclxuY29uc3QgeyBzaG93VGFiLCBnZXRDdXJyZW50VGFiIH0gPSByZXF1aXJlKCcuL3Nob3dUYWInKTtcclxuY29uc3QgeyBnZXRTZnhWb2x1bWUsIGdldE11c2ljVm9sdW1lLCBzZXRNdXNpY1ZvbHVtZSwgc2V0U2Z4Vm9sdW1lLCBwbGF5U291bmQgfSA9IHJlcXVpcmUoJy4vYXVkaW8nKTtcclxuY29uc3QgeyBnZW5lcmF0ZVJhbmRvbUJ1aWxkaW5nIH0gPSByZXF1aXJlKCcuL2dlbmVyYXRlUmFuZG9tQnVpbGRpbmcnKTtcclxuY29uc3QgeyBjaGFuZ2VNZXNzYWdlLCBtZXNzYWdlRWxlbWVudCB9ID0gcmVxdWlyZSgnLi9jaGFuZ2VNZXNzYWdlJyk7XHJcbmNvbnN0IHsgZ2VuZXJhdGVCdXR0b25zIH0gPSByZXF1aXJlKCcuL2dlbmVyYXRlQnV0dG9ucycpO1xyXG5jb25zdCB7IHRvZ2dsZVJlc291cmNlIH0gPSByZXF1aXJlKCcuL2dhdGhlcmluZycpO1xyXG5jb25zdCB7IEdhbWVTaW11bGF0b3IgfSA9IHJlcXVpcmUoJy4vR2FtZVNpbXVsYXRvcicpO1xyXG5jb25zdCB7IGluaXRpYWxpemVBcHAgfSA9IHJlcXVpcmUoJ0BmaXJlYmFzZS9hcHAnKTtcclxuY29uc3QgeyBnZXRBbmFseXRpY3MgfSA9IHJlcXVpcmUoJ0BmaXJlYmFzZS9hbmFseXRpY3MnKTtcclxuY29uc3QgeyBzZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9zZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IHJlY2FsY3VsYXRlQWxsQnVpbGRpbmdDb3N0cyB9ID0gcmVxdWlyZSgnLi9yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCcpO1xyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBzZXRUb3RhbFRpbWUodGltZSkge1xyXG4gICAgdG90YWxfdGltZSA9IHRpbWU7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5jb25zdCB0b29sc1RvU3RhZ2VzID0ge1xyXG4gICAgJ1NoYXJwUm9ja3MnOiAnY3JhZnRSb2NrcycsXHJcbiAgICAnU3BlYXInOiAnZmlzaGluZycsXHJcbiAgICBcIkZpc2hpbmdSb2RcIjogJ2Zpc2hpbmcnLFxyXG4gICAgJ0F4ZSc6ICd3b29kJyxcclxuICAgIFwiUGlja2F4ZVwiOiAnb3JlJ1xyXG59O1xyXG5cclxuLy8gVXBkYXRlIHZpc2liaWxpdHkgb2YgYXNzZXRzXHJcbmNvbnN0IHZpc2liaWxpdHlSdWxlcyA9IFtcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKFwic3RpY2tzXCIsIHJlc291cmNlcykgPj0gMSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKFwic3RpY2tcIilcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbCgnc3RpY2tzJywgcmVzb3VyY2VzKSA+PSAxMCxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCd2aW5lcycpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoJ3ZpbmVzJywgcmVzb3VyY2VzKSA+PSAxMCxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCdyb2NrcycpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoXCJyb2Nrc1wiLCByZXNvdXJjZXMpID49IDEsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB7IG1ha2VWaXNpYmxlKFwidGFiLWJ1dHRvblwiKTsgbWFrZVZpc2libGUoJ2NyYWZ0Um9ja3MnKTsgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldENyYWZ0ZWRSZXNvdXJjZSgnc3BlYXInLCBjcmFmdGVkUmVzb3VyY2VzKSA+IDAsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgnc3BlYXInKVxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbChcImZpc2hcIiwgcmVzb3VyY2VzKSA+PSAxLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ2Zpc2hpbmcnKVxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBoYXNUb29sKFwiQXhlXCIpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3dvb2QnKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldENyYWZ0ZWRSZXNvdXJjZSgncm9wZScpID49IDEsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgncm9wZScpXHJcbiAgICB9LFxyXG5cclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKCdmaXNoJywgcmVzb3VyY2VzKSA+PSA1ICYmICFnZXRBdGVGaXNoKCksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgnZWF0RmlzaCcpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0QXRlRmlzaCgpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4geyBtYWtlVmlzaWJsZSgnY2xvbmUnKTsgbWFrZVZpc2libGUoJ3BvbmRlci10YWInKTsgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGlzUG9uZGVyZWQoJ3BvbmRlckZpbmlzaCcpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbmF2aWdhdGVUbygnc3RhZ2UyLmh0bWwnKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGlzUG9uZGVyZWQoJ2JpZ2dlclNoZWx0ZXInKSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IHJlY2FsY01heENsb25lcygpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gaXNQb25kZXJlZCgnYmlnZ2VySHV0JyksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiByZWNhbGNNYXhDbG9uZXMoKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGlzUG9uZGVyZWQoJ2JpZ2dlckhvdXNlJyksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiByZWNhbGNNYXhDbG9uZXMoKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGlzUG9uZGVyZWQoJ2JpZ2dlclRlZXBlZScpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gcmVjYWxjTWF4Q2xvbmVzKClcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBpc1BvbmRlcmVkKCdldmVuQmlnZ2VyU2hlbHRlcicpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gcmVjYWxjTWF4Q2xvbmVzKClcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbCgnY2xvbmVzJykgPj0gMzAsIC8vIDMwIGlzIHdoZXJlIHJhdGVzIHN0YXJ0IHRvIHNsb3cgZG93blxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3ByZXN0aWdlJylcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbCgnY2xheScpID4gMCxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCdjbGF5JylcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1iYXNpY3MnKSAmJiBpc1BvbmRlcmVkKCdvcmdhbml6YXRpb24nKSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IGluaXRpYWxpemVSZXNvdXJjZVRhZ3ModHJ1ZSlcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBwYXNzZWRTdGFnZSgnY29tYmF0VGFiJyksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBjYWxjdWxhdGVXaW5DaGFuY2UoKVxyXG4gICAgfVxyXG5dO1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyKCkge1xyXG5cclxuICAgIGZvciAobGV0IGkgPSB2aXNpYmlsaXR5UnVsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBjb25zdCBydWxlID0gdmlzaWJpbGl0eVJ1bGVzW2ldO1xyXG4gICAgICAgIGlmIChydWxlLmNvbmRpdGlvbigpKSB7XHJcbiAgICAgICAgICAgIHJ1bGUuYWN0aW9uKCk7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcnVsZSBmcm9tIHRoZSBhcnJheVxyXG4gICAgICAgICAgICB2aXNpYmlsaXR5UnVsZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCB0b29sIGluIHRvb2xzVG9TdGFnZXMpIHtcclxuICAgICAgICBpZiAoIWhhc1Rvb2wodG9vbCkgJiYgZ2V0Q3JhZnRlZFJlc291cmNlKHRvb2wpID4gMCkge1xyXG4gICAgICAgICAgICBhZGRUb29sKHRvb2wpO1xyXG4gICAgICAgICAgICBtYWtlVmlzaWJsZSh0b29sc1RvU3RhZ2VzW3Rvb2xdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICB1cGRhdGVCdXR0b25WaXNpYmlsaXR5KCk7XHJcbiAgICAgICAgLy8gdXBkYXRlQm91bmNlQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRIb3ZlckJ1dHRvbiAhPT0gbnVsbCkgdXBkYXRlVG9vbHRpcChjdXJyZW50SG92ZXJCdXR0b24pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGVycik7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuLy8gTVVTSUMgTUFOQUdFUlxyXG5cclxuY29uc3QgYXVkaW9GaWxlcyA9IFtcclxuICAgICcuL2F1ZGlvL3NvbmcxLndhdicsXHJcbiAgICAnLi9hdWRpby9zb25nMi53YXYnLFxyXG4gICAgJy4vYXVkaW8vc29uZzMud2F2JyxcclxuICAgICcuL2F1ZGlvL3Nvbmc0LndhdicsXHJcbiAgICAnLi9hdWRpby9zb25nNS53YXYnLFxyXG4gICAgJy4vYXVkaW8vc29uZzYud2F2JyxcclxuICAgICcuL2F1ZGlvL3Nvbmc3LndhdicsXHJcbiAgICAnLi9hdWRpby9zb25nOC53YXYnLFxyXG4gICAgJy4vYXVkaW8vc29uZzkud2F2JyxcclxuICAgICcuL2F1ZGlvL3NvbmcxMC53YXYnLFxyXG5cclxuXTtcclxuXHJcbmxldCBjdXJyZW50QXVkaW8gPSBudWxsO1xyXG5sZXQgdGltZW91dElkID0gbnVsbDtcclxuXHJcbmZ1bmN0aW9uIHBsYXlSYW5kb21UcmFjaygpIHtcclxuICAgIC8vIFN0b3AgY3VycmVudCBhdWRpbyBpZiBwbGF5aW5nXHJcbiAgICBpZiAoY3VycmVudEF1ZGlvKSB7XHJcbiAgICAgICAgY3VycmVudEF1ZGlvLnBhdXNlKCk7XHJcbiAgICAgICAgY3VycmVudEF1ZGlvLmN1cnJlbnRUaW1lID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZWxlY3QgYSByYW5kb20gdHJhY2tcclxuICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXVkaW9GaWxlcy5sZW5ndGgpO1xyXG4gICAgY3VycmVudEF1ZGlvID0gbmV3IEF1ZGlvKGF1ZGlvRmlsZXNbcmFuZG9tSW5kZXhdKTtcclxuICAgIGN1cnJlbnRBdWRpby52b2x1bWUgPSBnZXRNdXNpY1ZvbHVtZSgpO1xyXG4gICAgLy8gUGxheSB0aGUgc2VsZWN0ZWQgdHJhY2tcclxuICAgIGN1cnJlbnRBdWRpby5wbGF5KCk7XHJcblxyXG4gICAgLy8gU2NoZWR1bGUgdGhlIG5leHQgdHJhY2tcclxuICAgIHNjaGVkdWxlTmV4dFRyYWNrKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNjaGVkdWxlTmV4dFRyYWNrKCkge1xyXG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHRpbWVvdXRcclxuICAgIGlmICh0aW1lb3V0SWQpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBXaGVuIHRoZSBjdXJyZW50IHRyYWNrIGVuZHMsIHdhaXQgZm9yIHVwIHRvIDMwIHNlY29uZHMgYmVmb3JlIHBsYXlpbmcgdGhlIG5leHRcclxuICAgIGNvbnN0IHNpbGVuY2VEdXJhdGlvbiA9IE1hdGgucmFuZG9tKCkgKiAzMDAwMCArIDUwMDA7IC8vIFJhbmRvbSBzaWxlbmNlIGR1cmF0aW9uIDUgLSAzNSBzZWNvbmRzXHJcbiAgICBjdXJyZW50QXVkaW8ub25lbmRlZCA9ICgpID0+IHtcclxuICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KHBsYXlSYW5kb21UcmFjaywgc2lsZW5jZUR1cmF0aW9uKTtcclxuICAgIH07XHJcbn1cclxuXHJcbi8qIEhPVEtFWVMgKi9cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcclxuICAgICAgICBjYXNlICcxJzpcclxuICAgICAgICAgICAgc2hvd1RhYigncHJvZHVjdGlvblRhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICcyJzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCd0YWItYnV0dG9uJykpIHNob3dUYWIoJ2V4cGVyaW1lbnRUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnMyc6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgncG9uZGVyLXRhYicpKSBzaG93VGFiKCdwb25kZXJUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnNCc6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgnam9icy10YWInKSkgc2hvd1RhYignam9ic1RhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICc1JzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCdza2lsbHNUYWJsZScpKSBzaG93VGFiKCdza2lsbHNUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnNic6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgncGVya3NUYWInKSkgc2hvd1RhYigncGVya3NUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnNyc6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgnZmFjdG9yeVRhYicpKSBzaG93VGFiKCdmYWN0b3J5VGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJzgnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ2NvbWJhdFRhYicpKSBzaG93VGFiKCdjb21iYXRUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnYSc6XHJcbiAgICAgICAgICAgIGlmIChnZXRDdXJyZW50VGFiKCkgPT09ICdjb21iYXRUYWInKSBzd2l0Y2hTdGFuY2UoJ2FnZ3Jlc3NpdmUnKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnYic6XHJcbiAgICAgICAgICAgIGlmIChnZXRDdXJyZW50VGFiKCkgPT09ICdjb21iYXRUYWInKSBzd2l0Y2hTdGFuY2UoJ2JhbGFuY2VkJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2MnOlxyXG4gICAgICAgICAgICBpZiAoZ2V0Q3VycmVudFRhYigpID09PSAnY29tYmF0VGFiJykgc3dpdGNoU3RhbmNlKCdjYXJlZnVsJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2YnOlxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGlmIChnZXRDdXJyZW50VGFiKCkgPT09ICdjb21iYXRUYWInICYmICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRDb21iYXQnKS5kaXNhYmxlZCkgY29tYmF0KCk7XHJcbiAgICAgICAgICAgIGVsc2UgdG9nZ2xlUmVzb3VyY2UoJ2Zpc2gnKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAncyc6XHJcbiAgICAgICAgICAgIHRvZ2dsZVJlc291cmNlKCdzdGlja3MnKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAncic6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgncm9ja3MnKSkgdG9nZ2xlUmVzb3VyY2UoJ3JvY2tzJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3YnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ3ZpbmVzJykpIHRvZ2dsZVJlc291cmNlKCd2aW5lcycpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICd3JzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCd3b29kJykpIHRvZ2dsZVJlc291cmNlKCd3b29kJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ28nOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ29yZScpKSB0b2dnbGVSZXNvdXJjZSgnb3JlJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3AnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ3BvbmRlci10YWInKSkgdG9nZ2xlUmVzb3VyY2UoJ3BvbmRlcicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdFc2NhcGUnOlxyXG4gICAgICAgICAgICB0b2dnbGVPcHRpb25zKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJyAnOiAvLyBTcGFjZSBrZXlcclxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZG9jdW1lbnQuYm9keSkgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gRG9uJ3Qgc2Nyb2xsIGRvd25cclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCdjbG9uZScpKSBpbmNyZWFzZUNsb25lQnlPbmUoZXZlbnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuLyogREFSSyBNT0RFICovXHJcbi8vIGNvbnN0IGRhcmtNb2RlVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXJrTW9kZVRvZ2dsZVwiKTtcclxuY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XHJcbmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyay1tb2RlJyk7XHJcbi8vIEB0cy1pZ25vcmVcclxuLy8gZGFya01vZGVUb2dnbGUuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyaycpO1xyXG5sZXQgaXNEYXJrID0gdHJ1ZTtcclxuXHJcblxyXG4vKiBDVVRTQ0VORVMgKi9cclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBlYXRGaXNoKCkge1xyXG4gICAgaWYgKCFnZXRBdGVGaXNoKCkgJiYgZ2V0TWF0ZXJpYWwoJ2Zpc2gnLCByZXNvdXJjZXMpID49IDEpIHtcclxuICAgICAgICAvLyBlYXQgYSBmaXNoIGFuZCBibGFja291dFxyXG4gICAgICAgIGNvbnN0IGZpc2hBdWRpbyA9IG5ldyBBdWRpbygnLi9hdWRpby9maXNoLndhdicpO1xyXG4gICAgICAgIGZpc2hBdWRpby52b2x1bWUgPSBnZXRTZnhWb2x1bWUoKTtcclxuICAgICAgICBmaXNoQXVkaW8ucGxheSgpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKCdmaXNoJywgLTEpO1xyXG4gICAgICAgIC8vIENhbGwgdGhpcyBmdW5jdGlvbiB0byBzdGFydCB0aGUgc2VxdWVuY2VcclxuICAgICAgICBmYWRlVG9CbGFjaygpO1xyXG4gICAgICAgIC8vIEhpZGUgZmlzaCBidXR0b25cclxuICAgICAgICBzZXRBdGVGaXNoKHRydWUpO1xyXG4gICAgICAgIGNvbnN0IGZpc2hCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VhdEZpc2hcIik7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGZpc2hCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY2hhbmdlTWVzc2FnZShcIllvdSBhcmUgd2l0aCB5b3Vyc2VsZiBpbiBhIGZvcmVzdC5cIiwgJ3dpdGggeW91cnNlbGYnLCAnWW91IGZlZWwgcGVja2lzaCBmb3Igc29tZSBzZWFmb29kLicpO1xyXG4gICAgICAgICAgICBpbmNyZWFzZU1heCgnY2xvbmVzJywgMSk7XHJcbiAgICAgICAgICAgIGluY3JlYXNlTWF0ZXJpYWwoJ2Nsb25lcycsIDEpO1xyXG4gICAgICAgIH0sIDEwMDApOyAvLyBkZWxheSBvZiAxc1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGZhZGVUb0JsYWNrKCkge1xyXG4gICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5Jyk7XHJcbiAgICBjb25zdCBvdmVybGF5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5LXRleHQnKTtcclxuICAgIGNvbnN0IG92ZXJsYXlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS1idXR0b24nKTtcclxuXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG92ZXJsYXlUZXh0LnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICB9LCAyMDAwKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgb3ZlcmxheUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICBvdmVybGF5QnV0dG9uLnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICB9LCA1MDAwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGlkZU92ZXJsYXkoKSB7XHJcbiAgICBjb25zdCBvdmVybGF5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5LXRleHQnKTtcclxuICAgIG92ZXJsYXlUZXh0LnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcblxyXG4gICAgY29uc3Qgb3ZlcmxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5LWJ1dHRvbicpO1xyXG4gICAgb3ZlcmxheUJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG5cclxuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpO1xyXG4gICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgIGNvbnN0IGlzZWthaUJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXNla2FpQnV0dG9ucycpO1xyXG4gICAgLy8gaXNla2FpQnV0dG9ucy5jaGlsZE5vZGVzLmZvckVhY2goY2hpbGQgPT4gaXNla2FpQnV0dG9ucy5yZW1vdmVDaGlsZChjaGlsZCkpO1xyXG4gICAgaXNla2FpQnV0dG9ucy5pbm5lckhUTUwgPSAnJztcclxuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBuYXZpZ2F0ZVRvKHVybCkge1xyXG4gICAgLy8gVHJpZ2dlciB0aGUgb3ZlcmxheSB0byBmYWRlIGluXHJcbiAgICB2YXIgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLXRyYW5zaXRpb24tb3ZlcmxheScpO1xyXG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdmYWRlLWluJyk7XHJcblxyXG4gICAgLy8gV2FpdCBmb3IgdGhlIGZhZGUgaW4gdG8gY29tcGxldGUgYmVmb3JlIGNoYW5naW5nIHRoZSBwYWdlXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgIH0sIDMwMCk7IC8vIFRoaXMgZHVyYXRpb24gc2hvdWxkIG1hdGNoIHRoZSBDU1Mgb3BhY2l0eSB0cmFuc2l0aW9uXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1lc3NhZ2UoKSB7XHJcbiAgICByZXR1cm4gbWVzc2FnZUVsZW1lbnQ7XHJcbn1cclxuXHJcblxyXG4vKiBHQU1FIExPT1AgKi9cclxuXHJcblxyXG5sZXQgbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSA9IDUwO1xyXG5sZXQgbGFzdF90aW1lID0gbnVsbDtcclxubGV0IHRvdGFsX3RpbWUgPSAwO1xyXG5sZXQgYWNjdW11bGF0ZWRfbGFnID0gMDtcclxuY29uc3QgZmlkZWxpdHkgPSAxMDtcclxuXHJcbmZ1bmN0aW9uIGxvb3AoY3VycmVudF90aW1lKSB7XHJcbiAgICBpZiAobGFzdF90aW1lID09PSBudWxsKSBsYXN0X3RpbWUgPSBjdXJyZW50X3RpbWU7XHJcblxyXG4gICAgY29uc3QgZGVsdGFfdGltZSA9IGN1cnJlbnRfdGltZSAtIGxhc3RfdGltZTtcclxuXHJcbiAgICB0b3RhbF90aW1lICs9IGRlbHRhX3RpbWU7XHJcbiAgICBhY2N1bXVsYXRlZF9sYWcgKz0gZGVsdGFfdGltZTtcclxuXHJcbiAgICBsYXN0X3RpbWUgPSBjdXJyZW50X3RpbWU7XHJcblxyXG4gICAgLy8gQ2F0Y2ggdXAgYWxsIHRoZSBtaXNzZWQgdGlja3NcclxuICAgIGxldCBub3JtYWxSYXRlID0gbWlsbGlzZWNvbmRzX3Blcl9mcmFtZTtcclxuXHJcbiAgICAvLyBzaW11bGF0ZSB3aXRoIGxlc3MgZmlkZWxpdHkgdG8gbWFrZSB1cCB0aW1lXHJcbiAgICBpZiAoYWNjdW11bGF0ZWRfbGFnID49IGZpZGVsaXR5ICogbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSkge1xyXG4gICAgICAgIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUgPSBhY2N1bXVsYXRlZF9sYWcgLyBmaWRlbGl0eTtcclxuICAgIH1cclxuICAgIHdoaWxlIChhY2N1bXVsYXRlZF9sYWcgPj0gbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSkge1xyXG5cclxuICAgICAgICBhY2N1bXVsYXRlZF9sYWcgLT0gbWlsbGlzZWNvbmRzX3Blcl9mcmFtZTtcclxuICAgICAgICB1cGRhdGUobWlsbGlzZWNvbmRzX3Blcl9mcmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSA9IG5vcm1hbFJhdGU7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbn1cclxuXHJcblxyXG5sZXQgdGltZV9zaW5jZV9sYXN0X3NhdmUgPSAwO1xyXG5sZXQgdGltZV9zaW5jZV9tYW51ZmF0dXJlID0gMDtcclxuY29uc3Qgc2F2ZV9yYXRlID0gMTBfMDAwO1xyXG5jb25zdCBtYW51ZmFjdHVyZV9yYXRlID0gMV8wMDA7XHJcbmZ1bmN0aW9uIHVwZGF0ZShkZWx0YV90aW1lKSB7XHJcblxyXG4gICAgLy8gR28gdGhyb3VnaCB1bmlxdWUgcmVzb3VyY2VzXHJcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBbLi4uIG5ldyBTZXQoT2JqZWN0LnZhbHVlcyhhbGxNYXRlcmlhbHMpKV0pIHtcclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKGtleSwgY2FsY0luY3JlYXNlKGtleSwgZGVsdGFfdGltZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcygpO1xyXG4gICAgcmVuZGVyKCk7XHJcblxyXG4gICAgLy8gU2F2ZSB0aGUgZ2FtZSBldmVyeSAxMCBzZWNvbmRzXHJcbiAgICB0aW1lX3NpbmNlX2xhc3Rfc2F2ZSArPSBkZWx0YV90aW1lO1xyXG4gICAgdGltZV9zaW5jZV9tYW51ZmF0dXJlICs9IGRlbHRhX3RpbWU7XHJcbiAgICB0b3RhbF90aW1lICs9IGRlbHRhX3RpbWU7XHJcbiAgICBpZiAodGltZV9zaW5jZV9sYXN0X3NhdmUgPj0gc2F2ZV9yYXRlKSB7XHJcbiAgICAgICAgc2F2ZUdhbWUoKTtcclxuICAgICAgICB0aW1lX3NpbmNlX2xhc3Rfc2F2ZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFudWZhY3R1cmUgZXZlcnkgc2Vjb25kXHJcbiAgICBpZiAocGFzc2VkU3RhZ2UoJ2ZhY3RvcnlUYWInKSAmJiB0aW1lX3NpbmNlX21hbnVmYXR1cmUgPj0gbWFudWZhY3R1cmVfcmF0ZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdtYW51ZmFjdHVyaW5nIGF0dGVtcHQnLCB0aW1lX3NpbmNlX21hbnVmYXR1cmUsIG1hbnVmYWN0dXJlX3JhdGUpO1xyXG4gICAgICAgIHRpbWVfc2luY2VfbWFudWZhdHVyZSA9IDA7XHJcbiAgICAgICAgYXR0ZW1wdE1hbnVmYWN0dXJlKCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyB3aW5kb3cuc2V0SW50ZXJ2YWwocmVuZGVyLCAxMDApIC8vIFVwZGF0ZSB2aXN1YWxzIDEwIHRpbWVzIHBlciBzZWNvbmRcclxuLy8gd2luZG93LnNldEludGVydmFsKHRpY2ssIDEwMDApOyAvLyBFdmVyeSB0aWNrIGxhc3RzIGZvciAxIHNlY29uZFxyXG4vLyB3aW5kb3cuc2V0SW50ZXJ2YWwoc2F2ZUdhbWUsIDEwMDAwKTsgLy8gU2F2ZSB0aGUgZ2FtZSBldmVyeSAxMCBzZWNvbmRzXHJcbndpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIFdlIHVzZSBhIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHNob3J0aGFuZCBiZWNhdXNlIHNhdmVnYW1lIHJldHVybnMgYSBzdHJpbmdcclxuICAgIGlmICghY3VycmVudGx5RGVsZXRpbmcpIHNhdmVHYW1lKCk7XHJcbn07XHJcblxyXG5cclxuLy8gY29uc3QgbXlSZXNvdXJjZXMgPSB7fTtcclxuXHJcbi8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkUmVzb3VyY2VCdG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VGb3JtXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbi8vIH0pO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGFkZFJlc291cmNlKCkge1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgcmVzb3VyY2VOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZU5hbWVcIikudmFsdWU7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBhY3RpdmVUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZUFjdGl2ZVRleHRcIikudmFsdWU7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBkZWZhdWx0VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VEZWZhdWx0VGV4dFwiKS52YWx1ZTtcclxuXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBidG5UZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5UZXh0XCIpLnZhbHVlO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgYnRuVG9vbHRpcERlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blRvb2x0aXBEZXNjXCIpLnZhbHVlO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgYnRuVG9vbHRpcENvc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blRvb2x0aXBDb3N0XCIpLnZhbHVlO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHZhciBuZXdSZXNvdXJjZSA9IG15UmVzb3VyY2VzW3Jlc291cmNlTmFtZV0gPSB7XHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgaWQ6IFwiZ2F0aGVyXCIgKyByZXNvdXJjZU5hbWUsXHJcbiAgICAgICAgaXNHZXR0aW5nOiBmYWxzZSxcclxuICAgICAgICBhY3RpdmVUZXh0OiBhY3RpdmVUZXh0LFxyXG4gICAgICAgIGRlZmF1bHRUZXh0OiBkZWZhdWx0VGV4dCxcclxuICAgICAgICAvLyAuLi4gQWRkIG90aGVyIGF0dHJpYnV0ZXMgYXMgZmV0Y2hlZCBmcm9tIGZvcm0gLi4uXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgYnV0dG9uIG9iamVjdFxyXG4gICAgdmFyIG5ld0J1dHRvbiA9IGJ1dHRvbnNbXCJnYXRoZXJcIiArIHJlc291cmNlTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlc291cmNlTmFtZS5zbGljZSgxKV0gPSB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwICcsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogYnRuVGV4dCxcclxuICAgICAgICB0b29sdGlwRGVzYzogYnRuVG9vbHRpcERlc2MsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6IGJ0blRvb2x0aXBDb3N0LFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlIC8vIEJ5IGRlZmF1bHQsIG1ha2luZyB0aGlzIGFsd2F5cyB2aXNpYmxlLiBNb2RpZnkgYXMgbmVlZGVkLlxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhuZXdSZXNvdXJjZSk7XHJcbiAgICBjb25zb2xlLmxvZyhuZXdCdXR0b24pO1xyXG5cclxuICAgIC8vIEhpZGUgZm9ybSBvbmNlIHJlc291cmNlIGlzIGFkZGVkXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc291cmNlRm9ybVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgLy8gT3B0aW9uYWxseSwgeW91IGNhbiB1cGRhdGUgdGhlIFVJIHRvIHNob3cgdGhlIGFkZGVkIHJlc291cmNlXHJcbiAgICAvLyB1cGRhdGVVSShyZXNvdXJjZU5hbWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVVSShyZXNvdXJjZU5hbWUpIHtcclxuICAgIC8vIEhlcmUgeW91IGNhbiBjcmVhdGUgYSBuZXcgRE9NIGVsZW1lbnQgdG8gZGlzcGxheSB0aGUgYWRkZWQgcmVzb3VyY2VcclxuICAgIGNvbnN0IHJlc291cmNlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIHJlc291cmNlRGl2LmlubmVySFRNTCA9IGAke3Jlc291cmNlTmFtZX06ICR7cmVzb3VyY2VzW3Jlc291cmNlTmFtZV0udmFsdWV9YDtcclxuXHJcbiAgICAvLyBBcHBlbmQgdG8gc29tZSBjb250YWluZXJcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVzb3VyY2VEaXYpO1xyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZU9wdGlvbnMoKSB7XHJcbiAgICBwbGF5U291bmQoJy4vYXVkaW8vb3B0aW9ucy53YXYnLCB0cnVlKTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcHRpb25zTWVudScpO1xyXG4gICAgb3B0aW9uc01lbnUuc3R5bGUuZGlzcGxheSA9IG9wdGlvbnNNZW51LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICdibG9jaycgOiAnbm9uZSc7XHJcbn1cclxuXHJcblxyXG5sZXQgY3VycmVudGx5RGVsZXRpbmcgPSBmYWxzZTtcclxuXHJcbi8vIEltcG9ydCB0aGUgZnVuY3Rpb25zIHlvdSBuZWVkIGZyb20gdGhlIFNES3MgeW91IG5lZWRcclxuLy8gaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCB9IGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcclxuLy8gaW1wb3J0IHsgZ2V0QW5hbHl0aWNzIH0gZnJvbSBcImZpcmViYXNlL2FuYWx5dGljc1wiO1xyXG4vLyBUT0RPOiBBZGQgU0RLcyBmb3IgRmlyZWJhc2UgcHJvZHVjdHMgdGhhdCB5b3Ugd2FudCB0byB1c2VcclxuLy8gaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3Mvd2ViL3NldHVwI2F2YWlsYWJsZS1saWJyYXJpZXNcclxuXHJcblxyXG4vLyBBZnRlciBhbGwgaGFzIGJlZW4gbG9hZGVkXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoZXZlbnQpID0+IHtcclxuXHJcbiAgICAvLyBZb3VyIHdlYiBhcHAncyBGaXJlYmFzZSBjb25maWd1cmF0aW9uXHJcbiAgICAvLyBGb3IgRmlyZWJhc2UgSlMgU0RLIHY3LjIwLjAgYW5kIGxhdGVyLCBtZWFzdXJlbWVudElkIGlzIG9wdGlvbmFsXHJcbiAgICBjb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcclxuICAgICAgICBhcGlLZXk6IFwiQUl6YVN5Q290c1pVZnBVM2RCU0FSaHZpdjNvS3RsbkV5djdlX2drXCIsXHJcbiAgICAgICAgYXV0aERvbWFpbjogXCJjbG9uZS1leHBlcmltZW50LmZpcmViYXNlYXBwLmNvbVwiLFxyXG4gICAgICAgIHByb2plY3RJZDogXCJjbG9uZS1leHBlcmltZW50XCIsXHJcbiAgICAgICAgc3RvcmFnZUJ1Y2tldDogXCJjbG9uZS1leHBlcmltZW50LmFwcHNwb3QuY29tXCIsXHJcbiAgICAgICAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiMTAyODc2ODQ0MTY3NFwiLFxyXG4gICAgICAgIGFwcElkOiBcIjE6MTAyODc2ODQ0MTY3NDp3ZWI6MmJmMDkwNmU1YTk0ZjViMjQwMGRiM1wiLFxyXG4gICAgICAgIG1lYXN1cmVtZW50SWQ6IFwiRy1NNDVCSkxYSkZSXCJcclxuICAgIH07XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxyXG4gICAgY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbiAgICBjb25zdCBhbmFseXRpY3MgPSBnZXRBbmFseXRpY3MoYXBwKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgZ2VuZXJhdGVQb25kZXJCdXR0b25zKHBvbmRlcnMpO1xyXG4gICAgLy8gYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucygpO1xyXG5cclxuICAgIGxvYWRHYW1lKCk7IC8vIEdldCBhbGwgbmV3IG5ldyBidWlsZGluZ3MgYW5kIGFkZCB0aGVtIHdpdGggYnV0dG9uc1xyXG4gICAgZ2VuZXJhdGVCdXR0b25zKCk7IC8vIENhbGwgdGhpcyBvbmNlIG9uIHBhZ2UgbG9hZCBvciBnYW1lIGluaXRpYWxpemF0aW9uXHJcbiAgICBtYWtlRmFjdG9yeUJ1dHRvbnMoKTtcclxuXHJcbiAgICBpbml0aWFsaXplUmVzb3VyY2VUYWdzKCk7XHJcblxyXG4gICAgbG9hZEdhbWUoKTsgLy8gQWN0dWFsbHkgbG9hZCB0aGUgZ2FtZVxyXG5cclxuICAgIGNsZWFyU2lkZWJhcigpO1xyXG4gICAgaW5pdGlhbGl6ZVJlc291cmNlVGFncyhpc1BvbmRlcmVkKCdvcmdhbml6YXRpb24nKSk7IC8vIGNoZWNrIGlmIHdlIG5lZWQgZ3JvdXBzXHJcblxyXG4gICAgYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucygpO1xyXG5cclxuICAgIHVwZGF0ZVNpZGViYXIoKTtcclxuXHJcbiAgICBzaG93VGFiKCdwcm9kdWN0aW9uVGFiJyk7XHJcbiAgICByZXF1aXJlKCcuL3RyYWRlJykuZ2VuZXJhdGVUcmFkZVRhYmxlKHJlc291cmNlcyk7XHJcblxyXG5cclxuICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgMzA7ICsraSlcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhnZW5lcmF0ZVJhbmRvbUJ1aWxkaW5nKCkpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgcmVzb3VyY2Uga2V5IGZyb20gYW4gSUQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGlkIG9mIGEgcmVzb3VyY2UgZS5nLiBnYXRoZXJHYW1lXHJcbiAgICAgKiBAcmV0dXJucyBSZXNvdXJjZSBrZXkgZS5nLiBnYW1lXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFJLZXlGcm9tSUQoaWQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IFtyLCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHJlc291cmNlcykpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzb3VyY2VzW3JdLmlkLCBpZCk7XHJcbiAgICAgICAgICAgIGlmICh2YWwuaWQgPT09IGlkKSByZXR1cm4gcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICdlcnJvciAnICsgaWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIGNyYWZ0ZWQgcmVzb3VyY2Uga2V5IGZyb20gYW4gSUQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGlkIG9mIGEgcmVzb3VyY2UgZS5nLiBjcmFmdEhhbmRsZVxyXG4gICAgICogQHJldHVybnMgUmVzb3VyY2Uga2V5IGUuZy4gaGFuZGxlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldENSS2V5RnJvbUlEKGlkKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBbciwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhjcmFmdGVkUmVzb3VyY2VzKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyLCB2YWwsIGlkKTtcclxuICAgICAgICAgICAgaWYgKHZhbC5pZCA9PT0gaWQpIHJldHVybiByO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJ2Vycm9yICcgKyBpZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZW5lcmFsIGRvY3VtZW50IGNsaWNrIGhhbmRsZXJcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyBTdGFydCB0aGUgbXVzaWMgcGxheWJhY2tcclxuICAgICAgICAvLyBXZSBuZWVkIHRvIHdhaXQgZm9yIGEgY2xpY2sgaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9ibG9nL2F1dG9wbGF5L1xyXG4gICAgICAgIGlmIChjdXJyZW50QXVkaW8gPT09IG51bGwpIHBsYXlSYW5kb21UcmFjaygpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoXCJidXR0b25cIikpIHtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBvbmUgb2Ygb3VyIGJ1dHRvbnMgd2FzIGNsaWNrZWRcclxuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgLy8gQlVJTERJTkcgQlVUVE9OU1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGlmIChidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJykgJiYgYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YV9idWlsZGluZycpICE9PSAndW5kZWZpbmVkJyAmJiBidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXJjaGFzYWJsZScpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgdmFyIGJ1aWxkaW5nID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YV9idWlsZGluZycpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFg7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WTtcclxuXHJcbiAgICAgICAgICAgICAgICBwbGF5U291bmQoJy4vYXVkaW8vYnVpbGRpbmcud2F2JywgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdTdHJpbmcgPSBjYXBpdGFsaXplRmlyc3QoYnVpbGRpbmcpLnNwbGl0KCdfJykuam9pbignICcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gYnV5TWF4QnVpbGRpbmdzKGJ1aWxkaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyRmxvYXRVcFRleHQoeCwgeSwgYCske2NvdW50fSAke2J1aWxkaW5nU3RyaW5nfXNgLCAnYXF1YScpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBidXlCdWlsZGluZyhidWlsZGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckZsb2F0VXBUZXh0KHgsIHksIGArMSAke2J1aWxkaW5nU3RyaW5nfWAsICdhcXVhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFBPTkRFUiBCVVRUT05TXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygndW5sb2NrJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVubG9ja0F0dHIgPSBidXR0b24uZ2V0QXR0cmlidXRlKCd1bmxvY2snKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codW5sb2NrQXR0cik7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9uZGVyc1t1bmxvY2tBdHRyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW5VbmxvY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IG1hdGVyaWFsIGluIHBvbmRlcnNbdW5sb2NrQXR0cl0uY29zdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPCBwb25kZXJzW3VubG9ja0F0dHJdLmNvc3RbbWF0ZXJpYWxdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbm5vdCB1bmxvY2sgXCIgKyB1bmxvY2tBdHRyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhblVubG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5VbmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gcG9uZGVyc1t1bmxvY2tBdHRyXS5jb3N0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKG1hdGVyaWFsLCAtcG9uZGVyc1t1bmxvY2tBdHRyXS5jb3N0W21hdGVyaWFsXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9uZGVyc1t1bmxvY2tBdHRyXS5pc1BvbmRlcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVZpc2libGUodW5sb2NrQXR0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyByZXNvdXJjZUtleSArIFwiVmFsdWVcIikudGV4dENvbnRlbnQgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS52YWx1ZS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHRoaXMgYnV0dG9uIGRpc2FwcGVhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheVNvdW5kKCcuL2F1ZGlvL3BvbmRlci53YXYnLCB0cnVlKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlVubG9ja2luZyBcIiArIHVubG9ja0F0dHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWZyZXNoIHRoZSBwYWdlIHdoZW4gYnV5aW5nIG9yZ2FuaXplZCBzdG9yYWdlIHRvIGdlbmVyYXRlIHRoZSBncm91cHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVubG9ja0F0dHIgPT09ICdvcmdhbml6YXRpb24nKSBsb2NhdGlvbi5yZWxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1bmxvY2tBdHRyLnN0YXJ0c1dpdGgoJ3BvbmRlckVmZmVjdGl2ZUJ1aWxkaW5ncycpKSByZWNhbGN1bGF0ZUFsbEJ1aWxkaW5nQ29zdHMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE9USEVSIEJVVFRPTlNcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZC5zbGljZSgwLCA2KSA9PT0gXCJnYXRoZXJcIikgdG9nZ2xlUmVzb3VyY2UoZ2V0UktleUZyb21JRChidXR0b24uaWQpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQuc2xpY2UoMCwgNSkgPT09ICdjcmFmdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5U291bmQoJy4vYXVkaW8vY3JhZnQud2F2JywgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3IgPSBnZXRDUktleUZyb21JRChidXR0b24uaWQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbkNyYWZ0KGNyKSkgdHJpZ2dlckZsb2F0VXBUZXh0KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFksIGArJHtjcn1gLCAnYXF1YScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSkgY3JhZnRBbGxSZXNvdXJjZXMoY3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgY3JhZnRSZXNvdXJjZShjcik7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJ3NhdmVCdXR0b24nKSB7IHBsYXlTb3VuZCgnLi9hdWRpby9vcHRpb25zLndhdicpOyBzYXZlR2FtZSgpOyB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkID09PSAnZWF0RmlzaCcpIGVhdEZpc2goKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdvdmVybGF5LWJ1dHRvbicpIGhpZGVPdmVybGF5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkID09PSAnZGVsZXRlU2F2ZUJ1dHRvbicgJiYgY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgeW91ciBzYXZlIGRhdGE/IFRoaXMgd2lsbCByZXNldCBhbGwgeW91ciBwcm9ncmVzcy5cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVHYW1lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdjbGVhckpvYkFzc2lnbm1lbnRzJykgY2xlYXJKb2JBc3NpZ25tZW50cygpO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkID09PSAnZGFya01vZGVUb2dnbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdkYXJrLW1vZGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgZGFya01vZGVUb2dnbGUuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyaycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzRGFyayA9ICFpc0Rhcms7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGRhcmtNb2RlVG9nZ2xlLnRleHRDb250ZW50ID0gaXNEYXJrID8gXCJMaWdodCBNb2RlXCIgOiBcIkRhcmsgTW9kZVwiO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdwcmVzdGlnZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc2VrYWkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJ3N0YXJ0Q29tYmF0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbWJhdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCd0aWVyT25lQnV0dG9uJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGxldCBwZXJrID0gYnV0dG9uLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0QWJpbGl0eShwZXJrKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoXCIjYWxvbmVcIikpIHtcclxuICAgICAgICAgICAgaW5jcmVhc2VDbG9uZUJ5T25lKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ha2UgZmFjdG9yeSBidXR0b25zIG9mIGJ1eSBuZXcgZmFjdG9yeSBhbmQgYnV5IGJ1bGsgdXBncmFkZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gbWFrZUZhY3RvcnlCdXR0b25zKCkge1xyXG4gICAgICAgIGNvbnN0IGZhY3RvcnlCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZhY3RvcnlCdXR0b25zJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1eUZhY3RvcnlCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICBidXlGYWN0b3J5QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Rvb2x0aXAnKTtcclxuICAgICAgICBidXlGYWN0b3J5QnV0dG9uLmlkID0gJ2J1eUZhY3RvcnlCdXR0b24nO1xyXG4gICAgICAgIGJ1eUZhY3RvcnlCdXR0b24udGV4dENvbnRlbnQgPSAnQnV5IE5ldyBGYWN0b3J5JztcclxuICAgICAgICBidXlGYWN0b3J5QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWRlc2MnLCAnVGhlIGZhY3RvcnkgbXVzdCBncm93IScpO1xyXG4gICAgICAgIGJ1eUZhY3RvcnlCdXR0b24uc2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcsICc1MCBzaWx2ZXInKTtcclxuICAgICAgICBmYWN0b3J5QnV0dG9ucy5hcHBlbmRDaGlsZChidXlGYWN0b3J5QnV0dG9uKTtcclxuXHJcbiAgICAgICAgLy8gQnV5IG5ldyBmYWN0b3J5IGJ1dHRvblxyXG4gICAgICAgIGJ1eUZhY3RvcnlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdidXlpbmcgZmFjdG9yeScpO1xyXG4gICAgICAgICAgICBidXlGYWN0b3J5KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVwZ3JhZGVCdWxrQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgdXBncmFkZUJ1bGtCdXR0b24uY2xhc3NMaXN0LmFkZCgndG9vbHRpcCcpO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLmlkID0gJ3VwZ3JhZGVCdWxrQnV0dG9uJztcclxuICAgICAgICB1cGdyYWRlQnVsa0J1dHRvbi50ZXh0Q29udGVudCA9ICdVcGdyYWRlIEJ1bGsnO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWRlc2MnLCAnQ3JhZnQgbW9yZSByZXNvdXJjZXMgcGVyIHNlY29uZCcpO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLnNldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnLCAnMiDihpIgNDogMzAgc2lsdmVyJyk7XHJcbiAgICAgICAgZmFjdG9yeUJ1dHRvbnMuYXBwZW5kQ2hpbGQodXBncmFkZUJ1bGtCdXR0b24pO1xyXG5cclxuICAgICAgICAvLyBVcGdyYWRlIGJ1bGsgYnV0dG9uXHJcbiAgICAgICAgdXBncmFkZUJ1bGtCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3VwZ3JhZGluZyBidWxrJyk7XHJcbiAgICAgICAgICAgIHVwZ3JhZGVCdWxrKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3B0aW9ucyBtZW51XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3B0aW9uc0J1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlT3B0aW9ucyk7XHJcblxyXG5cclxuICAgIC8vIEFkanVzdCBtdXNpYyB2b2x1bWVcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtdXNpY1ZvbHVtZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBzZXRNdXNpY1ZvbHVtZSh0aGlzLnZhbHVlKTtcclxuICAgICAgICBjdXJyZW50QXVkaW8udm9sdW1lID0gZ2V0TXVzaWNWb2x1bWUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEFkanVzdCBzZnggdm9sdW1lXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Z4Vm9sdW1lJykuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHNldFNmeFZvbHVtZSh0aGlzLnZhbHVlKTtcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgLy8gU3RhcnQgdGhlIG1haW4gZ2FtZXBsYXkgbG9vcFxyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgdG9vbHRpcCB3aGVuIGhvdmVyaW5nIG92ZXIgYSBidXR0b25cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b29sdGlwJykuZm9yRWFjaChidXR0b24gPT4ge1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgdGhlIHRvb2x0aXAgb24gbW91c2UgZW50ZXJcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuICAgICAgICAgICAgY3VycmVudEhvdmVyQnV0dG9uID0gYnV0dG9uO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gVE9ETzogbW92ZSB0aGlzIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgICAgLy8gVXBkYXRlIG9uIG9uY2xpY2sgZm9yIHB1cmNoYXNlc1xyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdvbmNsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1cGRhdGVUb29sdGlwKGJ1dHRvbik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEhpZGUgb24gbW91c2UgbGVhdmVcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHsgaGlkZVRvb2x0aXAoKTsgY3VycmVudEhvdmVyQnV0dG9uID0gbnVsbDsgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIGpvYnMgY291bnRlclxyXG4gICAgdXBkYXRlVG90YWwoKTtcclxuICAgIC8vIFVwZGF0ZSB0aGUgYm91bmNlIGFuaW1hdGlvbiBmb3IgYWxvbmVcclxuICAgIHVwZGF0ZUJvdW5jZUFuaW1hdGlvbigpO1xyXG5cclxuXHJcbiAgICAvLyBTZXQgY2xvbmVzIHRvIG1heCB0byBiZSBuaWNlXHJcbiAgICBzZXRNYXRlcmlhbCgnY2xvbmVzJywgZ2V0TWF4KCdjbG9uZXMnKSk7XHJcblxyXG4gICAgLy8gY29uc3Qgc2ltdWxhdG9yID0gbmV3IEdhbWVTaW11bGF0b3IoKTtcclxuICAgIC8vIHNpbXVsYXRvci5ydW5TaW11bGF0aW9uKDEwXzAwMCk7IC8vIFJ1biB0aGUgc2ltdWxhdGlvbiBmb3IgMyBob3Vyc1xyXG5cclxufSk7XHJcblxyXG5cclxuZnVuY3Rpb24gaW5jcmVhc2VDbG9uZUJ5T25lKGV2ZW50KSB7XHJcbiAgICAvLyBpbmNyZWFzZU1hdGVyaWFsKCdjbG9uZXMnLCAxKTtcclxuICAgIGxldCB0ZXh0ID0gJysxIENsb25lJztcclxuXHJcbiAgICAvLyBIYXJkY29kZWQgaW5zdGVhZCB0byBhdm9pZCBpbmNyZWFzZSBhZmZlY3RlZCBieSBwcm9kdWN0aXZpdHkgYm9udXNlc1xyXG4gICAgaWYgKGdldE1hdGVyaWFsKCdjbG9uZXMnKSA8IGdldE1heCgnY2xvbmVzJykpIHsgcmVzb3VyY2VzWydjbG9uZXMnXS52YWx1ZSArPSAxOyB9XHJcbiAgICBlbHNlIHRleHQgPSAnTWF4IENsb25lcyc7XHJcblxyXG4gICAgcGxheVNvdW5kKHRleHQgPT09ICcrMSBDbG9uZScgPyAnLi9hdWRpby9jbG9uZS53YXYnIDogJy4vYXVkaW8vZmFpbGNsb25lLndhdicpO1xyXG5cclxuXHJcbiAgICBjb25zdCB4ID0gZXZlbnQucGFnZVggfHwgMTA7IC8vIFggY29vcmRpbmF0ZSBvZiB0aGUgbW91c2VcclxuICAgIGNvbnN0IHkgPSBldmVudC5wYWdlWSB8fCAxMjA7IC8vIFkgY29vcmRpbmF0ZSBvZiB0aGUgbW91c2VcclxuICAgIGNvbnN0IGNvbG9yID0gdGV4dCA9PT0gJysxIENsb25lJyA/ICdncmVlbicgOiAncmVkJztcclxuICAgIHRyaWdnZXJGbG9hdFVwVGV4dCh4LCB5LCB0ZXh0LCBjb2xvcik7XHJcbiAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgdXBkYXRlRGlzcGxheVZhbHVlKCdjbG9uZXMnKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgbmV4dCBmaWJvbmFjY2kgbnVtYmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIEEgZmlib25hY2NpIG51bWJlclxyXG4gKiBAcmV0dXJucyBUaGUgZmlib25hY2NpIG51bWJlciBhZnRlciBuXHJcbiAqL1xyXG5mdW5jdGlvbiBuZXh0Rmlib25hY2NpKG4pIHtcclxuICAgIGxldCBhID0gbiAqICgxICsgTWF0aC5zcXJ0KDUpKSAvIDIuMDtcclxuICAgIHJldHVybiBNYXRoLnJvdW5kKGEpO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBwcmV2aW91cyBmaWJvbmFjY2kgbnVtYmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIEEgZmlib25hY2NpIG51bWJlclxyXG4gKiBAcmV0dXJucyBUaGUgZmlib25hY2NpIG51bWJlciBiZWZvcmUgblxyXG4gKi9cclxuZnVuY3Rpb24gcHJldkZpYm9uYWNjaShuKSB7XHJcbiAgICBsZXQgYSA9IG4gLyAoKDEgKyBNYXRoLnNxcnQoNSkpIC8gMi4wKTtcclxuICAgIHJldHVybiBNYXRoLnJvdW5kKGEpO1xyXG59XHJcblxyXG5jb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKTtcclxuY29uc3Qgb3ZlcmxheVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS10ZXh0Jyk7XHJcbmNvbnN0IG92ZXJsYXlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS1idXR0b24nKTtcclxuY29uc3Qgb3ZlcmxheUJhY2tCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS1iYWNrLWJ1dHRvbicpOyAvLyBHZXQgdGhlIFwiR28gQmFja1wiIGJ1dHRvblxyXG4vKipcclxuICogVGhlIGlzZWthaSBmdW5jdGlvbiwgY2FsbGVkIHVwb24gY2xpY2tpbmcgdGhlIFwiSXNla2FpXCIgYnV0dG9uXHJcbiAqIFxyXG4gKiBBbHNvIGhhbmRsZXMgcmVzZXR0aW5nIGFsbCByZXNvdXJjZXMsIGNyYWZ0ZWQgcmVzb3VyY2VzLCBwb25kZXJzLCBwZXJrcywgYnVpbGRpbmdzLCBhbmQgb3ZlcmFsbCBwcm9ncmVzcy5cclxuICovXHJcbmZ1bmN0aW9uIGlzZWthaSgpIHtcclxuXHJcbiAgICAvLyBIYW5kbGUgdGhlIGlzZWthaSBpdHNlbGZcclxuICAgIG92ZXJsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaHVza3NEdWUgPSBnZXRNYXRlcmlhbCgnY2xvbmVzJykgKyBnZXRNYXRlcmlhbCgnaHVza3MnKTtcclxuXHJcbiAgICAgICAgLy8gUmVzZXQgZnVuY3Rpb25zIHRvIGJlIGV4ZWN1dGVkIHdoZW4gXCJDb250aW51ZVwiIGlzIGNsaWNrZWRcclxuICAgICAgICByZXNldFJlc291cmNlcygpO1xyXG4gICAgICAgIHJlc2V0Q3JhZnRlZFJlc291cmNlcygpO1xyXG4gICAgICAgIHJlc2V0UG9uZGVycygpO1xyXG4gICAgICAgIHJlc2V0UGVya3MoKTtcclxuICAgICAgICByZXNldEJ1aWxkaW5ncygpO1xyXG4gICAgICAgIHJlc2V0QWxsSm9icygpO1xyXG4gICAgICAgIHJlc2V0U3RhZ2VzKCk7XHJcblxyXG5cclxuICAgICAgICBwbGF5U291bmQoJy4vYXVkaW8vaXNla2FpY29uZmlybS53YXYnLCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IG1heCBvZiBhbGwgcmVzb3VyY2VzIHRvIDEwMCAodGlueSBib29zdClcclxuICAgICAgICBmb3IgKGxldCBbciwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhyZXNvdXJjZXMpKSB7XHJcbiAgICAgICAgICAgIHZhbC5tYXggPSAxMDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHaXZlIGh1c2tzIGFmdGVyd2FyZHNcclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKCdodXNrcycsIGh1c2tzRHVlKTtcclxuXHJcblxyXG4gICAgICAgIC8vIENsb3NlIHRoZSBvdmVybGF5XHJcbiAgICAgICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICBsZXQgbGFzdEJ1aWxkaW5nID0gbnVsbDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0J1aWxkaW5nc0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcmFuZG9tQnVpbGRpbmcgPSBnZW5lcmF0ZVJhbmRvbUJ1aWxkaW5nKCk7XHJcbiAgICAgICAgICAgIGJ1aWxkaW5nc1tyYW5kb21CdWlsZGluZy5uYW1lLnNwbGl0KCcgJykuam9pbignXycpXSA9IHJhbmRvbUJ1aWxkaW5nO1xyXG4gICAgICAgICAgICBsYXN0QnVpbGRpbmcgPSByYW5kb21CdWlsZGluZztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hhbmdlTWVzc2FnZSgnWW91IGFyZSBpbiBhbm90aGVyIHdvcmxkLicsICdhbm90aGVyJywgYFlvdSBmZWVsIGEgbmVlZCB0byBhY3F1aXJlICR7T2JqZWN0LnZhbHVlcyhsYXN0QnVpbGRpbmcuY29zdCkuam9pbignLCcpfWApO1xyXG4gICAgICAgIGluaXRpYWxpemVSZXNvdXJjZVRhZ3MoZmFsc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbmV3QnVpbGRpbmdzQ291bnQgPSA0O1xyXG4gICAgb3ZlcmxheUJhY2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gSnVzdCBjbG9zZSB0aGUgb3ZlcmxheSB3aXRob3V0IGV4ZWN1dGluZyByZXNldCBmdW5jdGlvbnNcclxuICAgICAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBpc2VrYWlBdWRpbyA9IG5ldyBBdWRpbygnLi9hdWRpby9pc2VrYWkud2F2Jyk7XHJcbiAgICBpc2VrYWlBdWRpby52b2x1bWUgPSBnZXRTZnhWb2x1bWUoKTtcclxuICAgIGlzZWthaUF1ZGlvLnBsYXkoKTtcclxuXHJcbiAgICAvLyBDb252ZXJ0IGNsb25lcyB0byBodXNrc1xyXG4gICAgY29uc3Qgb2xkSHVza1ZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h1c2tzSXNla2FpVmFsdWUnKTtcclxuICAgIGxldCBodXNrVmFsdWU7XHJcbiAgICBpZiAob2xkSHVza1ZhbHVlKSBodXNrVmFsdWUgPSBvbGRIdXNrVmFsdWU7XHJcbiAgICBlbHNlIGh1c2tWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgIGh1c2tWYWx1ZS5pZCA9ICdodXNrc0lzZWthaVZhbHVlJztcclxuICAgIGh1c2tWYWx1ZS5pbm5lckhUTUwgPSBgSHVza3M6ICAke2dldE1hdGVyaWFsKCdodXNrcycpfSA8YnI+IFlvdSB3aWxsIGdldCAke2dldE1hdGVyaWFsKCdjbG9uZXMnKX0gSHVza3MgcG9zdC1pc2VrYWkuPGJyPllvdSB3aWxsIHJlY2VpdmUgJHtuZXdCdWlsZGluZ3NDb3VudH0gcmFuZG9tbHkgZ2VuZXJhdGVkIG5ldyBidWlsZGluZ3MsIHVuaXF1ZSB0byB0aGlzIG5ldyB3b3JsZC5gO1xyXG5cclxuICAgIGh1c2tWYWx1ZS5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgb3ZlcmxheS5wcmVwZW5kKGh1c2tWYWx1ZSk7XHJcbiAgICAvLyBPdmVybGF5XHJcbiAgICBvdmVybGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdNaWRuaWdodEJsdWUnO1xyXG4gICAgb3ZlcmxheVRleHQudGV4dENvbnRlbnQgPSAnWW91IHN0ZXAgdGhyb3VnaCB0byBhbm90aGVyIHdvcmxkLic7XHJcblxyXG4gICAgZmFkZVRvQmxhY2soKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgb3ZlcmxheUJhY2tCdXR0b24uc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgIH0sIDUwMDApO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVByZXN0aWdlQnV0dG9ucygpIHtcclxuXHJcbiAgICAgICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lzZWthaUJ1dHRvbnMnKTtcclxuICAgICAgICBsZXQgaSA9IDE7XHJcbiAgICAgICAgT2JqZWN0LmtleXMocHJlc3RpZ2UpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgPGI+JHtwcmVzdGlnZVtrZXldLnRleHR9PC9iPjxicj5MZXZlbDogJHtwcmVzdGlnZVtrZXldLmxldmVsfTxicj5Db3N0OiAke3ByZXN0aWdlW2tleV0uY29zdH1gO1xyXG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcsIHByZXN0aWdlW2tleV0uY29zdCk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBEZXNjJywgcHJlc3RpZ2Vba2V5XS50b29sdGlwRGVzYyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0b29sdGlwJyk7IC8vIEFkZCBhIGNsYXNzIGZvciBzdHlsaW5nIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZ3JpZENvbHVtbiA9IChpICUgNCArIDEpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5ncmlkUm93ID0gTWF0aC5mbG9vcihpIC8gNCArIDEpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgLy8gT3B0aW9uYWw6IEFkZCBhbiBldmVudCBsaXN0ZW5lciBpZiB5b3Ugd2FudCB0byBoYW5kbGUgY2xpY2tzXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFlvdSBjYW4gaW1wbGVtZW50IHdoYXQgaGFwcGVucyB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEJ1dHRvbiAke2tleX0gd2FzIGNsaWNrZWRgKTtcclxuICAgICAgICAgICAgICAgIGlmIChnZXRNYXRlcmlhbCgnaHVza3MnKSA8IHByZXN0aWdlW2tleV0uY29zdCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgcHJlc3RpZ2Vba2V5XS5sZXZlbCsrO1xyXG4gICAgICAgICAgICAgICAgaW5jcmVhc2VNYXRlcmlhbCgnaHVza3MnLCAtcHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlW2tleV0uY29zdCA9IG5leHRGaWJvbmFjY2kocHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBDb3N0JywgcHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYDxiPiR7cHJlc3RpZ2Vba2V5XS50ZXh0fTwvYj48YnI+TGV2ZWw6ICR7cHJlc3RpZ2Vba2V5XS5sZXZlbH08YnI+Q29zdDogJHtwcmVzdGlnZVtrZXldLmNvc3R9YDtcclxuICAgICAgICAgICAgICAgIGh1c2tWYWx1ZS50ZXh0Q29udGVudCA9ICdIdXNrczogJyArIGdldE1hdGVyaWFsKCdodXNrcycpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gUmlnaHQtY2xpY2sgdG8gZGVjcmVhc2UgbGV2ZWxcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIC8vIFlvdSBjYW4gaW1wbGVtZW50IHdoYXQgaGFwcGVucyB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEJ1dHRvbiAke2tleX0gd2FzIHJpZ2h0IGNsaWNrZWRgKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcmVzdGlnZVtrZXldLmxldmVsIDw9IDApIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlW2tleV0ubGV2ZWwtLTtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlW2tleV0uY29zdCA9IHByZXZGaWJvbmFjY2kocHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBDb3N0JywgcHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuICAgICAgICAgICAgICAgIGluY3JlYXNlTWF0ZXJpYWwoJ2h1c2tzJywgcHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYDxiPiR7cHJlc3RpZ2Vba2V5XS50ZXh0fTwvYj48YnI+TGV2ZWw6ICR7cHJlc3RpZ2Vba2V5XS5sZXZlbH08YnI+Q29zdDogJHtwcmVzdGlnZVtrZXldLmNvc3R9YDtcclxuICAgICAgICAgICAgICAgIGh1c2tWYWx1ZS50ZXh0Q29udGVudCA9ICdIdXNrczogJyArIGdldE1hdGVyaWFsKCdodXNrcycpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xyXG5cclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudEhvdmVyQnV0dG9uID0gYnV0dG9uO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkgeyBoaWRlVG9vbHRpcCgpOyBjdXJyZW50SG92ZXJCdXR0b24gPSBudWxsOyB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsbCB0aGUgZnVuY3Rpb24gdG8gY3JlYXRlIGJ1dHRvbnNcclxuICAgIHNldFRpbWVvdXQoY3JlYXRlUHJlc3RpZ2VCdXR0b25zLCA1MDAwKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4geyBodXNrVmFsdWUuc3R5bGUub3BhY2l0eSA9ICcxJzsgfSwgNTAwMCk7XHJcblxyXG59XHJcblxyXG52YXIgY3VycmVudEhvdmVyQnV0dG9uID0gbnVsbDtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cclxuICAgIHVwZGF0ZVVJLFxyXG4gICAgc2V0VG90YWxUaW1lLFxyXG4gICAgY2hhbmdlTWVzc2FnZSxcclxuXHJcbiAgICBnZXRNZXNzYWdlLFxyXG4gICAgdG90YWxfdGltZSxcclxuICAgIGN1cnJlbnRIb3ZlckJ1dHRvbixcclxuICAgIGRlbGV0ZUdhbWUsXHJcbiAgICBpc2VrYWksXHJcbiAgICB1cGRhdGVcclxufTtcclxuZnVuY3Rpb24gZGVsZXRlR2FtZSgpIHtcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzYXZlJyk7IGN1cnJlbnRseURlbGV0aW5nID0gdHJ1ZTsgbG9jYXRpb24ucmVsb2FkKCk7XHJcbn1cclxuXHJcbi8vIEB0cy1pZ25vcmVcclxud2luZG93LmRlbGV0ZUdhbWUgPSBkZWxldGVHYW1lO1xyXG4vLyBAdHMtaWdub3JlXHJcbndpbmRvdy5pc2VrYWkgPSBpc2VrYWk7IiwiXHJcbmNvbnN0IHsgc2V0U3RhZ2UsIHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG5jb25zdCB7IHVwZGF0ZUJ1dHRvblZpc2liaWxpdHkgfSA9IHJlcXVpcmUoJy4vdXBkYXRlQnV0dG9uVmlzaWJpbGl0eScpO1xyXG5cclxuLyoqXHJcbiAqIE1ha2UgZXZlcnl0aGluZyB3aXRoIHRoZSBjbGFzcyBcInN0YWdlXCIgdmlzaWJsZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhZ2VcclxuICovXHJcbmZ1bmN0aW9uIG1ha2VWaXNpYmxlKHN0YWdlKSB7XHJcbiAgICBpZiAoIXBhc3NlZFN0YWdlKHN0YWdlKSkge1xyXG4gICAgICAgIHNldFN0YWdlKHN0YWdlKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHN0YWdlRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgc3RhZ2UpO1xyXG4gICAgc3RhZ2VFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgfSk7XHJcbiAgICB1cGRhdGVCdXR0b25WaXNpYmlsaXR5KCk7XHJcbn1cclxuZXhwb3J0cy5tYWtlVmlzaWJsZSA9IG1ha2VWaXNpYmxlOyIsImNvbnN0IHsgYnVpbGRpbmdzIH0gPSByZXF1aXJlKCcuL2pzb24vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgcGVya3MgfSA9IHJlcXVpcmUoJy4vanNvbi9wZXJrcycpO1xyXG5sZXQgbXlQZXJrcyA9IFtdO1xyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGVya05hbWUgXHJcbiAqIEByZXR1cm5zIGJvb2xlYW5cclxuICovXHJcbmZ1bmN0aW9uIGhhc1BlcmsocGVya05hbWUpIHtcclxuICAgIHJldHVybiBteVBlcmtzLmluY2x1ZGVzKHBlcmtOYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QWxsUGVya3MoKSB7XHJcbiAgICByZXR1cm4gbXlQZXJrcztcclxufVxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwZXJrTmFtZSBQZXJrIHRvIGFkZFxyXG4gKi9cclxuZnVuY3Rpb24gYWRkUGVyayhwZXJrTmFtZSkge1xyXG4gICAgbXlQZXJrcy5wdXNoKHBlcmtOYW1lKTtcclxuXHJcbiAgICAvLyBEbyBhbGwgdGhlIG9uZS10aW1lIHVwZGF0ZXNcclxuICAgIHN3aXRjaCAocGVya05hbWUpIHtcclxuICAgICAgICBjYXNlICdBcmNoaXRlY3QnOlxyXG4gICAgICAgICAgICBjb25zdCBidWlsZGluZ3MgPSByZXF1aXJlKCcuL2pzb24vYnVpbGRpbmdzJykuYnVpbGRpbmdzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBiIG9mIE9iamVjdC5rZXlzKGJ1aWxkaW5ncykpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QnKS5yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChiKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0aWVyTnVtIFxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UGVya0Zyb21UaWVyKHRpZXJOdW0pIHtcclxuICAgIGZvciAobGV0IHBlcmsgaW4gcGVya3NbJ3RpZXInICsgdGllck51bV0pIHtcclxuICAgICAgICBpZiAoaGFzUGVyayhwZXJrKSkgcmV0dXJuIHBlcms7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gcGVyayBmb3IgdGhpcyB0aWVyXHJcbiAgICByZXR1cm4gJyc7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzZWxlY3RBYmlsaXR5KGFiaWxpdHlOYW1lKSB7XHJcbiAgICBpZiAoaGFzUGVyayhhYmlsaXR5TmFtZSkpIHJldHVybjtcclxuXHJcbiAgICBsZXQgY29uZmlybVNlbGVjdGlvbiA9IHdpbmRvdy5jb25maXJtKFwiRG8geW91IHdhbnQgdG8gc2VsZWN0IFwiICsgYWJpbGl0eU5hbWUgKyBcIj8gVGhpcyBkZWNpc2lvbiBjYW5ub3QgYmUgZWFzaWx5IGNoYW5nZWQuXCIpO1xyXG5cclxuICAgIGlmICghY29uZmlybVNlbGVjdGlvbikgcmV0dXJuO1xyXG4gICAgYWRkUGVyayhhYmlsaXR5TmFtZSk7XHJcblxyXG4gICAgLy8gZm9yIChsZXQgaSA9IDE7IGkgPD0gMTsgKytpKVxyXG4gICAgcmVxdWlyZSgnLi9zZWxlY3RDb3JyZWN0UGVya0J1dHRvbicpLnNlbGVjdENvcnJlY3RQZXJrQnV0dG9uKGFiaWxpdHlOYW1lKTtcclxuXHJcbiAgICAvLyBteVBlcmtzLnB1c2goYWJpbGl0eU5hbWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldFBlcmtzKCkge1xyXG4gICAgbXlQZXJrcyA9IFtdO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGhhc1BlcmssXHJcbiAgICBhZGRQZXJrLFxyXG4gICAgc2VsZWN0QWJpbGl0eSxcclxuICAgIGdldFBlcmtGcm9tVGllcixcclxuICAgIGdldEFsbFBlcmtzLFxyXG4gICAgcmVzZXRQZXJrc1xyXG59OyIsImxldCBwbGF5ZXJVaWQgPSBudWxsO1xyXG5cclxuLy8gR2V0IFVzZXIgSURcclxuZnVuY3Rpb24gZ2V0UGxheWVyVWlkKCkge1xyXG4gICAgcmV0dXJuIHBsYXllclVpZDtcclxufVxyXG5cclxuLy8gRnVuY3Rpb24gdG8gZ2VuZXJhdGUgYSB1bmlxdWUgVUlEXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVW5pcXVlSUQoKSB7XHJcbiAgICByZXR1cm4gRGF0ZS5ub3coKS50b1N0cmluZygzNikgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNSk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgZ2V0UGxheWVyVWlkLFxyXG4gICAgZ2VuZXJhdGVVbmlxdWVJRFxyXG59OyIsIi8vIERFUEVORFMgT046IGpzb24vYnV0dG9ucy5qc1xyXG5jb25zdCB7IGNhcGl0YWxpemVGaXJzdCB9ID0gcmVxdWlyZSgnLi9jYXBpdGFsaXplRmlyc3QnKTtcclxuY29uc3QgeyBwb25kZXJzIH0gPSByZXF1aXJlKCcuL2pzb24vcG9uZGVyJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgYnV0dG9ucyB9ID0gcmVxdWlyZSgnLi9qc29uL2J1dHRvbnMnKTtcclxuXHJcbmZ1bmN0aW9uIGlzUG9uZGVyZWQoaWQpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoZSBpZCBleGlzdHMgaW4gdGhlIHVubG9ja3MgbWFwXHJcbiAgICAvLyBJZiB0aGUgaWQgZG9lc24ndCBleGlzdCBpbiB0aGUgbWFwLCByZXR1cm4gZmFsc2VcclxuXHJcbiAgICByZXR1cm4gcG9uZGVyc1tpZF0gPyBwb25kZXJzW2lkXS5pc1BvbmRlcmVkIDogZmFsc2U7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBjYW5VbmxvY2sodW5sb2NrSWQpIHtcclxuICAgIC8vIEdldCB0aGUga2V5IGZyb20gdGhpcyBpZFxyXG4gICAgLy8gY29uc29sZS5sb2coJ2NhbiB1bmxvY2s/ICcsIHVubG9ja0lkKTtcclxuICAgIHZhciB1bmxvY2tLZXkgPSAnJztcclxuICAgIGZvciAobGV0IHVubG9jayBpbiBwb25kZXJzKSB7XHJcbiAgICAgICAgaWYgKHBvbmRlcnNbdW5sb2NrXS5pZCA9PT0gdW5sb2NrSWQpIHtcclxuICAgICAgICAgICAgdW5sb2NrS2V5ID0gdW5sb2NrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodW5sb2NrS2V5ID09PSAnJykge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcImludmFsaWQgdW5sb2NrIGlkOiBcIiwgdW5sb2NrSWQpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgZW5vdWdoIHJlc291cmNlc1xyXG4gICAgdmFyIGNhbkJ1eSA9IHRydWU7XHJcbiAgICBmb3IgKGxldCBtYXRlcmlhbCBpbiBwb25kZXJzW3VubG9ja0tleV0uY29zdCkge1xyXG4gICAgICAgIGlmIChnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSA8IHBvbmRlcnNbdW5sb2NrS2V5XS5jb3N0W21hdGVyaWFsXSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbm5vdCB1bmxvY2sgXCIgKyB1bmxvY2tJZCk7XHJcbiAgICAgICAgICAgIGNhbkJ1eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ2NhbiB3ZSB1bmxvY2sgJywgdW5sb2NrSWQsIGNhbkJ1eSk7XHJcbiAgICByZXR1cm4gY2FuQnV5O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVQb25kZXJCdXR0b25zKHBvbmRlck9iamVjdHMpIHtcclxuICAgIC8vIGNvbnN0IGdlbmVyYXRlZEJ1dHRvbnMgPSB7fTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtwb25kZXJLZXksIHBvbmRlck9ial0gb2YgT2JqZWN0LmVudHJpZXMocG9uZGVyT2JqZWN0cykpIHtcclxuXHJcbiAgICAgICAgY29uc3QgYnV0dG9uS2V5ID0gYHBvbmRlciR7Y2FwaXRhbGl6ZUZpcnN0KHBvbmRlcktleSl9YDsgLy8gZS5nLiBwb25kZXJGaXNoaW5nXHJcblxyXG4gICAgICAgIC8vIGxldCB0b29sdGlwQ29zdCA9IE9iamVjdC5lbnRyaWVzKHBvbmRlck9iai5jb3N0KS5tYXAoKFttYXRlcmlhbCwgYW1vdW50XSkgPT4gYCR7YW1vdW50LnRvRml4ZWQoMCl9ICR7bWF0ZXJpYWx9YCkuam9pbignPGJyPicpO1xyXG4gICAgICAgIGxldCB0b29sdGlwQ29zdCA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuZ2VuZXJhdGVUb29sdGlwQ29zdChwb25kZXJPYmouY29zdCk7XHJcbiAgICAgICAgYnV0dG9uc1tidXR0b25LZXldID0ge1xyXG4gICAgICAgICAgICBjbGFzczogJ3Rvb2x0aXAgdW5sb2NrJyxcclxuICAgICAgICAgICAgdGV4dDogcG9uZGVyT2JqLnRleHQgfHwgJ1BvbmRlciBhIE15c3Rlcnk/JyxcclxuICAgICAgICAgICAgdG9vbHRpcERlc2M6IHBvbmRlck9iai50b29sdGlwRGVzYyB8fCBcIldobyBrbm93cyB3aGF0IHlvdSdsbCBkaXNjb3ZlclwiLFxyXG4gICAgICAgICAgICB0b29sdGlwQ29zdDogdG9vbHRpcENvc3QsXHJcbiAgICAgICAgICAgIHRhYjogJ3BvbmRlcicsXHJcbiAgICAgICAgICAgIHVubG9jazogcG9uZGVyS2V5LFxyXG4gICAgICAgICAgICByZXF1aXJlbWVudDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVpcmUoJy4vaGVscGVyJykuZ2V0TWF4KCdwb25kZXInKSA+PSBwb25kZXJzW3BvbmRlcktleV0uY29zdFsncG9uZGVyJ10gLyAyO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGlkZTogKCkgPT4gaXNQb25kZXJlZChwb25kZXJLZXkpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uS2V5LCBidXR0b25zW2J1dHRvbktleV0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyByZXR1cm4gZ2VuZXJhdGVkQnV0dG9ucztcclxufVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY2FuVW5sb2NrLFxyXG4gICAgaXNQb25kZXJlZCxcclxuICAgIGdlbmVyYXRlUG9uZGVyQnV0dG9uc1xyXG59OyIsIlxyXG5jb25zdCB7IGhhc1ByZXN0aWdlLCBnZXRMZXZlbE9mUHJlc3RpZ2UgfSA9IHJlcXVpcmUoXCIuL2pzb24vcHJlc3RpZ2VcIik7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZShcIi4vcG9uZGVyXCIpO1xyXG5jb25zdCB7IHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKFwiLi9zdGFnZXNcIik7XHJcbmNvbnN0IHsgdXBkYXRlQm91bmNlQW5pbWF0aW9uIH0gPSByZXF1aXJlKFwiLi91cGRhdGVCb3VuY2VBbmltYXRpb25cIik7XHJcblxyXG5mdW5jdGlvbiByZWNhbGNNYXhDbG9uZXMoKSB7XHJcbiAgICBsZXQgbWF4Q2xvbmVzID0gcmVxdWlyZShcIi4vanNvbi9yZXNvdXJjZXNcIikuZ2V0QmFzZU1heCgnY2xvbmVzJyk7XHJcbiAgICBpZiAocGFzc2VkU3RhZ2UoJ2Nsb25lJykpIG1heENsb25lcyArPSAxO1xyXG5cclxuICAgIGNvbnN0IGJ1aWxkaW5ncyA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpLmJ1aWxkaW5ncztcclxuICAgIC8vIGNvbnNvbGUubG9nKHBhc3NlZFN0YWdlKCdjbG9uZScpLCBtYXhDbG9uZXMpO1xyXG4gICAgZm9yIChjb25zdCBba2V5LCBidWlsZGluZ10gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmdzKSkge1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhrZXksIGJ1aWxkaW5nLCBidWlsZGluZy5lZmZlY3RzKTtcclxuICAgICAgICBpZiAoYnVpbGRpbmcuZWZmZWN0cyAmJiBidWlsZGluZy5lZmZlY3RzWydjbG9uZXMnXSlcclxuICAgICAgICAgICAgbWF4Q2xvbmVzICs9IGJ1aWxkaW5nLmVmZmVjdHNbJ2Nsb25lcyddICogYnVpbGRpbmcuY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUG9uZGVyIGJvbnVzZXNcclxuICAgIGlmIChpc1BvbmRlcmVkKCdiaWdnZXJTaGVsdGVyJykpIG1heENsb25lcyArPSAxICogYnVpbGRpbmdzWydzaGVsdGVyJ10uY291bnQ7XHJcbiAgICBpZiAoaXNQb25kZXJlZCgnYmlnZ2VySHV0JykpIG1heENsb25lcyArPSAxICogYnVpbGRpbmdzWydodXQnXS5jb3VudDtcclxuICAgIGlmIChpc1BvbmRlcmVkKCdiaWdnZXJIb3VzZScpKSBtYXhDbG9uZXMgKz0gMiAqIGJ1aWxkaW5nc1snaG91c2UnXS5jb3VudDtcclxuICAgIGlmIChpc1BvbmRlcmVkKCdiaWdnZXJUZWVwZWUnKSkgbWF4Q2xvbmVzICs9IDQgKiBidWlsZGluZ3NbJ3RlZXBlZSddLmNvdW50O1xyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ2V2ZW5CaWdnZXJTaGVsdGVyJykpIG1heENsb25lcyArPSAxICogYnVpbGRpbmdzWydzaGVsdGVyJ10uY291bnQ7XHJcblxyXG4gICAgaWYgKGhhc1ByZXN0aWdlKCdtYXhDbG9uZXMnKSkgbWF4Q2xvbmVzICs9IDEgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ21heENsb25lcycpO1xyXG4gICAgLy8gY29uc29sZS5sb2cobWF4Q2xvbmVzKTtcclxuICAgIC8vIHJldHVybiBtYXhDbG9uZXM7XHJcbiAgICByZXF1aXJlKFwiLi9zZXRNYXhcIikuc2V0TWF4KCdjbG9uZXMnLCBtYXhDbG9uZXMpO1xyXG4gICAgdXBkYXRlQm91bmNlQW5pbWF0aW9uKCk7XHJcbn1cclxuXHJcbmV4cG9ydHMucmVjYWxjTWF4Q2xvbmVzID0gcmVjYWxjTWF4Q2xvbmVzOyIsIi8qKlxyXG4gKiBSZWNhbGN1bGF0ZXMgdGhlIGNvc3Qgb2YgYSBidWlsZGluZ1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVpbGRpbmdLZXkgVGhlIGJ1aWxkaW5nIHdlIHJlY2FsY3VsYXRlIHRoZSBjb3N0IG9mXHJcbiAqL1xyXG5mdW5jdGlvbiByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChidWlsZGluZ0tleSkge1xyXG4gICAgY29uc3QgYnVpbGRpbmdzID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpLmJ1aWxkaW5ncztcclxuICAgIGxldCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ0tleV07XHJcbiAgICBpZiAoYnVpbGRpbmcgJiYgYnVpbGRpbmcuY29zdCAmJiBidWlsZGluZy5yYXRpbykge1xyXG4gICAgICAgIGZvciAobGV0IG1hdGVyaWFsIGluIGJ1aWxkaW5nLmNvc3QpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYnVpbGRpbmcsIGJ1aWxkaW5nLmJhc2Vjb3N0W21hdGVyaWFsXSwgYnVpbGRpbmcucmF0aW8sIGJ1aWxkaW5nLmNvdW50KTtcclxuICAgICAgICAgICAgYnVpbGRpbmdbJ2Nvc3QnXVttYXRlcmlhbF0gPSBNYXRoLnJvdW5kKGJ1aWxkaW5nLmJhc2Vjb3N0W21hdGVyaWFsXSAqIE1hdGgucG93KGJ1aWxkaW5nLnJhdGlvLCBidWlsZGluZy5jb3VudCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlcXVpcmUoJy4vcGVya3MnKS5oYXNQZXJrKCdBcmNoaXRlY3QnKSkgYnVpbGRpbmcuY29zdFttYXRlcmlhbF0gKj0gMC43NTsgLy8gMjUlIHJlZHVjdGlvbiBmb3IgYXJjaGl0ZWN0c1xyXG4gICAgICAgICAgICBpZiAocmVxdWlyZSgnLi9qc29uL3ByZXN0aWdlJykuaGFzUHJlc3RpZ2UoJ2NoZWFwZXJCdWlsZGluZ3MnKSlcclxuICAgICAgICAgICAgICAgIGJ1aWxkaW5nLmNvc3RbbWF0ZXJpYWxdICo9IE1hdGgucG93KDAuOTUsIHJlcXVpcmUoJy4vanNvbi9wcmVzdGlnZScpLmdldExldmVsT2ZQcmVzdGlnZSgnY2hlYXBlckJ1aWxkaW5ncycpKTsgLy8gNSUgcmVkdWN0aW9uXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSB0b29sdGlwIGNvc3RcclxuICAgIGNvbnN0IG15QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBidWlsZGluZ0tleSk7XHJcbiAgICB2YXIgbmV3VGV4dCA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuZ2VuZXJhdGVUb29sdGlwQ29zdChidWlsZGluZy5jb3N0KTtcclxuICAgIGlmIChteUJ1dHRvbikge1xyXG4gICAgICAgIG15QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBuZXdUZXh0KTtcclxuICAgICAgICBjb25zdCBlZmZlY3RTdHJpbmcgPSByZXF1aXJlKCcuL2J1aWxkaW5ncycpLmdlbmVyYXRlRWZmZWN0U3RyaW5nKGJ1aWxkaW5nKTtcclxuICAgICAgICBteUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1lZmZlY3QnLCBlZmZlY3RTdHJpbmcpO1xyXG5cclxuICAgIH1cclxuICAgIGVsc2UgeyB0aHJvdyBcIkJ1dHRvbiBub3QgZm91bmQgZm9yIFwiICsgYnVpbGRpbmdLZXk7IH1cclxuXHJcbn1cclxuZXhwb3J0cy5yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCA9IHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0O1xyXG5cclxuZnVuY3Rpb24gcmVjYWxjdWxhdGVBbGxCdWlsZGluZ0Nvc3RzKCkge1xyXG4gICAgY29uc3QgYnVpbGRpbmdzID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpLmJ1aWxkaW5ncztcclxuICAgIGZvciAobGV0IGJ1aWxkaW5nS2V5IG9mIE9iamVjdC5rZXlzKGJ1aWxkaW5ncykpIHtcclxuICAgICAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChidWlsZGluZ0tleSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5yZWNhbGN1bGF0ZUFsbEJ1aWxkaW5nQ29zdHMgPSByZWNhbGN1bGF0ZUFsbEJ1aWxkaW5nQ29zdHM7IiwiXHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL3Jlc291cmNlc1wiKTtcclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5cclxuY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKFwiLi9qc29uL2J1dHRvbnNcIik7XHJcbmNvbnN0IHsgc2tpbGxzIH0gPSByZXF1aXJlKCcuL2pzb24vc2tpbGxzJyk7XHJcblxyXG5jb25zdCB7IGdldFdvcmtlcnMsIHVwZGF0ZVRvdGFsIH0gPSByZXF1aXJlKCcuL2pvYnMnKTtcclxuY29uc3QgeyBoYXNUb29sLCB9ID0gcmVxdWlyZSgnLi90b29scycpO1xyXG5jb25zdCB7IGNhbGNDcmFmdEJvbnVzLCBnZXRNYXggfSA9IHJlcXVpcmUoXCIuL2hlbHBlclwiKTtcclxuY29uc3QgeyBjYW5DcmFmdCB9ID0gcmVxdWlyZSgnLi9jYW5DcmFmdCcpO1xyXG5jb25zdCB7IGNhcGl0YWxpemVGaXJzdCB9ID0gcmVxdWlyZSgnLi9jYXBpdGFsaXplRmlyc3QnKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5cclxuY29uc3QgeyBpc1BvbmRlcmVkIH0gPSByZXF1aXJlKCcuL3BvbmRlcicpO1xyXG5jb25zdCB7IGNhbGNJbmNyZWFzZSB9ID0gcmVxdWlyZShcIi4vY2FsY0luY3JlYXNlXCIpO1xyXG5jb25zdCB7IHVwZGF0ZVNpZGViYXIsIGFiYnJldmlhdGVOdW1iZXIgfSA9IHJlcXVpcmUoXCIuL3NpZGViYXJcIik7XHJcbmNvbnN0IHsgcGFzc2VkU3RhZ2UgfSA9IHJlcXVpcmUoXCIuL3N0YWdlc1wiKTsgLy8gVXNlZCBmb3IgZXZhbCBmdW5jdGlvbnNcclxuY29uc3QgeyB1cGRhdGVEaXNwbGF5VmFsdWUgfSA9IHJlcXVpcmUoXCIuL3NpZGViYXJcIik7XHJcbmNvbnN0IHsgdXBkYXRlU2tpbGxzIH0gPSByZXF1aXJlKFwiLi9za2lsbHNcIik7XHJcbmNvbnN0IHsgcmVjYWxjTWF4Q2xvbmVzIH0gPSByZXF1aXJlKFwiLi9yZWNhbGNNYXhDbG9uZXNcIik7XHJcbmNvbnN0IHsgdHJpZ2dlckZsb2F0VXBUZXh0IH0gPSByZXF1aXJlKFwiLi90cmlnZ2VyRmxvYXRVcFRleHRcIik7XHJcbi8vIGNvbnNvbGUubG9nKGNhcGl0YWxpemVGaXJzdCk7XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBqb2IgXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvdXJjZSBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGlzUmVzb3VyY2VBZmZlY3RlZEJ5Sm9iKGpvYiwgcmVzb3VyY2UpIHtcclxuICAgIGNvbnN0IHNraWxsID0gc2tpbGxzW2pvYl07XHJcbiAgICBpZiAoIXNraWxsKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKHNraWxsLmFmZmVjdGVkUmVzb3VyY2VzLmluY2x1ZGVzKHJlc291cmNlKSkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYSB0b29sIHJlcXVpcmVtZW50IGZvciB0aGlzIHJlc291cmNlXHJcbiAgICAgICAgaWYgKHNraWxsLm5lZWRUb29scyAmJiBBcnJheS5pc0FycmF5KHNraWxsLm5lZWRUb29scykpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgdG9vbE9iaiBvZiBza2lsbC5uZWVkVG9vbHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHRvb2wgaW4gdG9vbE9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sT2JqW3Rvb2xdLmluY2x1ZGVzKHJlc291cmNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwbGF5ZXIgaGFzIHRoaXMgdG9vbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3Igbm93LCBqdXN0IHJldHVybmluZyB0cnVlIHRvIGluZGljYXRlIHRoZSByZXNvdXJjZSBpcyBhZmZlY3RlZCBhbmQgYSB0b29sIGlzIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCdXQgeW91IG1heSB3YW50IHRvIHJlcGxhY2UgdGhpcyB3aXRoIGEgY2hlY2sgdG8gc2VlIGlmIHRoZSBwbGF5ZXIgcG9zc2Vzc2VzIHRoZSByZXF1aXJlZCB0b29sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNUb29sKHRvb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBXZSBuZWVkZWQgYSB0b29sIGJ1dCBub3QgZm9yIHRoaXNcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIG5vIHRvb2wgcmVxdWlyZW1lbnQgd2FzIGZvdW5kIGZvciB0aGUgcmVzb3VyY2UsIGl0J3Mgc3RpbGwgYWZmZWN0ZWQgYnkgdGhlIGpvYlxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBjYWxjU2Vjb25kc1JlbWFpbmluZyhyZXNvdXJjZU5hbWUsIG5lZWRlZCkge1xyXG4gICAgaWYgKG5lZWRlZCA8PSBnZXRNYXRlcmlhbChyZXNvdXJjZU5hbWUpKSByZXR1cm4gMDtcclxuXHJcbiAgICAvLyBIb3cgbXVjaCBwZXIgc2Vjb25kXHJcbiAgICBjb25zdCBpbmNyZWFzZSA9IGNhbGNJbmNyZWFzZShyZXNvdXJjZU5hbWUsIDEwMDApO1xyXG4gICAgaWYgKGluY3JlYXNlID09IDApIHJldHVybiAtMTsgLy8gV29uJ3QgZGlzcGxheVxyXG5cclxuICAgIC8vIERpZmZlcmVuY2Ugb3ZlciB0aW1lXHJcbiAgICBjb25zdCB0aW1lUmVtYWluaW5nID0gKG5lZWRlZCAtIGdldE1hdGVyaWFsKHJlc291cmNlTmFtZSkpIC8gaW5jcmVhc2U7XHJcblxyXG4gICAgcmV0dXJuIHRpbWVSZW1haW5pbmc7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuY29uc3QgcmVzb3VyY2VzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc291cmNlcycpO1xyXG5leHBvcnRzLnJlc291cmNlc0NvbnRhaW5lciA9IHJlc291cmNlc0NvbnRhaW5lcjtcclxuXHJcblxyXG5mdW5jdGlvbiBpbmNyZWFzZU1heChtYXRlcmlhbCwgbnVtKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcImluY3JlYXNlIG1heCBcIiwgbWF0ZXJpYWwsIG51bSk7XHJcbiAgICAvLyBjb25zb2xlLnRyYWNlKCk7XHJcbiAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLm1heCArPSBudW07XHJcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7bWF0ZXJpYWx9VmFsdWVgKTtcclxuICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7bWF0ZXJpYWx9VmFsdWVgKS5jbGFzc0xpc3QuYWRkKCdmbG9hdC11cC1mYWRlLW91dCcpO1xyXG4gICAgdHJpZ2dlckZsb2F0VXBUZXh0KHJlY3QucmlnaHQsIHJlY3QuYm90dG9tLCAnK21heCcsICdncmVlbicpOyAvL1xyXG5cclxuICAgIHVwZGF0ZVNpZGViYXIoKTtcclxuICAgIHVwZGF0ZVRvdGFsKCk7XHJcblxyXG59XHJcblxyXG4vLyBHZW5lcmljIGluY3JlYXNlXHJcbmZ1bmN0aW9uIGluY3JlYXNlTWF0ZXJpYWwobWF0ZXJpYWwsIG51bSkge1xyXG4gICAgLy8gRW5zdXJlIHdlIGFjdHVhbGx5IG5lZWQgdG8gZG8gYW55dGhpbmdcclxuICAgIGlmIChudW0gPT0gMCB8fCBOdW1iZXIuaXNOYU4obnVtKSkgcmV0dXJuO1xyXG4gICAgbWF0ZXJpYWwgPSBtYXRlcmlhbC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2luY3JlYXNlIG1hdGVyaWFsJywgbWF0ZXJpYWwsIG51bSk7XHJcbiAgICAvLyBpZiAoTWF0aC5hYnMobnVtKSA+IDUpIGNvbnNvbGUubG9nKCdjaGFuZ2luZycsIG1hdGVyaWFsLCAnYnknLCBudW0pO1xyXG5cclxuICAgIC8vIFRoaXMgY2hlY2sgZW5zdXJlcyB0aGF0IHRoZSBtYXRlcmlhbCBrZXkgZXhpc3RzIGluIHRoZSByZXNvdXJjZXMgbWFwLlxyXG4gICAgaWYgKG1hdGVyaWFsIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIC8vIGlmIChtYXRlcmlhbCA9PT0gJ2Nsb25lcycpIHJlY2FsY01heENsb25lcygpO1xyXG4gICAgICAgIGlmIChnZXRNYXRlcmlhbChtYXRlcmlhbCkgPCBnZXRNYXgobWF0ZXJpYWwpICYmIG51bSA+IDApIHsgLy8gQWRkaW5nIHJlc291cmNlc1xyXG4gICAgICAgICAgICBpZiAoaXNQb25kZXJlZCgnZmFzdGVyUmVzb3VyY2VHYWluJykpIG51bSAqPSAxLjA1O1xyXG4gICAgICAgICAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlICs9IG51bTtcclxuICAgICAgICAgICAgdXBkYXRlU2tpbGxzKG1hdGVyaWFsLCBudW0pO1xyXG4gICAgICAgICAgICBpZiAobWF0ZXJpYWwgPT09ICd2aW9sZW5jZScpIHJlcXVpcmUoXCIuL2NvbWJhdFwiKS5yZWZyZXNoVmFsdWVzKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChudW0gPCAwKSB7IC8vIFN1YnRyYWN0aW5nIHJlc291cmNlc1xyXG4gICAgICAgICAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlICs9IG51bTtcclxuICAgICAgICB9IGVsc2UgeyAvLyBBbHJlYWR5IGF0IG1heFxyXG4gICAgICAgICAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlID0gZ2V0TWF4KG1hdGVyaWFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheVZhbHVlKG1hdGVyaWFsKTtcclxuICAgICAgICAvLyByZWFzc2lnbkpvYnNCYXNlZE9uUmVzb3VyY2VzKCk7XHJcblxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobWF0ZXJpYWwgaW4gY3JhZnRlZFJlc291cmNlcykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjcmFmdGluZyBhIG1hdGVyaWFsJywgbWF0ZXJpYWwsIG51bSk7XHJcbiAgICAgICAgY3JhZnRlZFJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG4gICAgICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShtYXRlcmlhbCk7XHJcbiAgICAgICAgdXBkYXRlU2tpbGxzKG1hdGVyaWFsLCBudW0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBuZXcgbWF0ZXJpYWxcclxuICAgICAgICBpZiAocmVzb3VyY2VzW21hdGVyaWFsXSkgcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSArPSBudW07XHJcbiAgICAgICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZXNbbWF0ZXJpYWxdKSBjcmFmdGVkUmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSArPSBudW07XHJcblxyXG4gICAgICAgIHVwZGF0ZVNpZGViYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjcmFmdGVkIG1hdGVyaWFscyBoYXZlIG5vIG1heCwgYSBsYSBLaXR0ZW5zIEdhbWVcclxuXHJcbn1cclxuLy8gR2xvYmFsbHkgZGlzcGxheSBmb3IgZGV2IHB1cnBvc2VzXHJcbi8vIEB0cy1pZ25vcmVcclxud2luZG93LmluY3JlYXNlTWF0ZXJpYWwgPSBpbmNyZWFzZU1hdGVyaWFsO1xyXG4vLyBAdHMtaWdub3JlXHJcbndpbmRvdy5pbmNyZWFzZU1heCA9IGluY3JlYXNlTWF4O1xyXG5cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcygpIHtcclxuICAgIC8vIGNvbnN0IHJlc291cmNlcyA9IFtcImNsb25lc1wiLCBcInN0aWNrc1wiLCBcInZpbmVzXCIsIFwicm9ja3NcIiwgXCJmaXNoXCIsIFwid29vZFwiLCBcInBvbmRlclwiXTtcclxuICAgIGZvciAobGV0IHJlc291cmNlIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaW5jcmVhc2Ugb2YgXCIgKyByZXNvdXJjZSk7XHJcbiAgICAgICAgY29uc3QgcmF0ZSA9IGNhbGNJbmNyZWFzZShyZXNvdXJjZSwgMTAwMCk7XHJcbiAgICAgICAgdmFyIHJhdGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7cmVzb3VyY2V9SW5jcmVhc2VSYXRlYCk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChyYXRlRWxlbWVudCkgcmF0ZUVsZW1lbnQudGV4dENvbnRlbnQgPSByYXRlO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgXHJcbiAqIEByZXR1cm5zIEJ1dHRvblxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ3JhZnRlZFJlc291cmNlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBidXR0b24uY2xhc3NOYW1lID0gY29uZmlnLmNsYXNzICsgJyB0b29sdGlwJztcclxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgY29uZmlnLmlkKTtcclxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVtZW50JywgY29uZmlnLnJlcXVpcmVkU3RhZ2UpO1xyXG4gICAgY29uc3QgcmVzb3VyY2VOYW1lID0gT2JqZWN0LmtleXMoY3JhZnRlZFJlc291cmNlcykuZmluZChrZXkgPT4gY3JhZnRlZFJlc291cmNlc1trZXldID09PSBjb25maWcpO1xyXG4gICAgLy8gY29uc3QgY2xlYW5Db3VudCA9IHBhcnNlRmxvYXQoY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZU5hbWVdLnZhbHVlKS50b0ZpeGVkKDApO1xyXG4gICAgLy8gYnV0dG9uLmlubmVySFRNTCA9IGAke2NvbmZpZy50ZXh0IHx8IGNhcGl0YWxpemVGaXJzdChyZXNvdXJjZU5hbWUpfTogPHNwYW4gaWQ9XCIke3Jlc291cmNlTmFtZSArIFwiVmFsdWVcIn1cIj4ke2NsZWFuQ291bnR9PC9zcGFuPmA7XHJcbiAgICBidXR0b24uaW5uZXJIVE1MID0gYCR7Y29uZmlnLnRleHQgfHwgY2FwaXRhbGl6ZUZpcnN0KHJlc291cmNlTmFtZSl9YDtcclxuICAgIC8vIGJ1dHRvbi50b29sdGlwRGVzYyA9IGNvbmZpZy50b29sdGlwRGVzYzsgXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBidXR0b24udGFiID0gJ2V4cGVyaW1lbnQnO1xyXG5cclxuICAgIHJldHVybiBidXR0b247XHJcbn1cclxuXHJcblxyXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3JhZnRlZFJlc291cmNlQnV0dG9ucycpO1xyXG5mdW5jdGlvbiBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zKCkge1xyXG5cclxuICAgIC8vIEZvciBlYWNoIHJlc291cmNlLCBjcmVhdGUgYSBidXR0b24gdXNpbmcgdGhlIGNhcHR1cmVkIGNvdW50c1xyXG4gICAgZm9yIChsZXQgbmFtZSBpbiBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcblxyXG4gICAgICAgIC8vIGNvbmZpZy5jb3VudCA9IGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0udmFsdWU7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gY3JlYXRlQ3JhZnRlZFJlc291cmNlQnV0dG9uKGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0pO1xyXG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgY3JhZnRlZFJlc291cmNlc1tuYW1lXS50b29sdGlwRGVzYyB8fCBcIlwiKTtcclxuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcsIGdlbmVyYXRlVG9vbHRpcENvc3QoY3JhZnRlZFJlc291cmNlc1tuYW1lXS5jb3N0KSB8fCBcIlwiKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygndG9vbHRpcCBjb3N0JywgYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnKSk7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICAgICAgY29uc3QgcmVxUmVzdWx0ID0gcGFzc2VkU3RhZ2UoYnV0dG9uLmdldEF0dHJpYnV0ZSgncmVxdWlyZW1lbnQnKSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVxUmVzdWx0LCBidXR0b24uZ2V0QXR0cmlidXRlKCdyZXF1aXJlbWVudCcpLCBPYmplY3QudmFsdWVzKGdldEFsbFN0YWdlcygpKSk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgd2hhdCB0aGUgYnVnIGlzIGhlcmVcclxuICAgICAgICBpZiAocmVxUmVzdWx0KSBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgZWxzZSBidXR0b24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblxyXG5cclxuICAgICAgICBidXR0b25zW2NyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uaWRdID0gY3JhZnRlZFJlc291cmNlc1tuYW1lXTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b24obmFtZSkge1xyXG5cclxuICAgIGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbihjcmFmdGVkUmVzb3VyY2VzW25hbWVdKTtcclxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgY3JhZnRlZFJlc291cmNlc1tuYW1lXS50b29sdGlwRGVzYyk7XHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcsIGdlbmVyYXRlVG9vbHRpcENvc3QoY3JhZnRlZFJlc291cmNlc1tuYW1lXS5jb3N0KSk7XHJcblxyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICBidXR0b25zW2NyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uaWRdID0gY3JhZnRlZFJlc291cmNlc1tuYW1lXTtcclxuXHJcbn1cclxuXHJcbi8vIENhbGwgdGhlIGZ1bmN0aW9uIHRvIHJlcGxhY2UgPHA+IGVsZW1lbnRzIHdpdGggdGhlIGJ1dHRvbnNcclxuLy8gYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9uKCdzdGlja3MnKTtcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVG9vbHRpcENvc3QocmVxdWlyZW1lbnRzKSB7XHJcbiAgICBpZiAocmVxdWlyZW1lbnRzID09PSBudWxsKSByZXR1cm4gJyc7XHJcbiAgICB2YXIgc3RyID0gJyc7XHJcbiAgICBmb3IgKGxldCBtYXRlcmlhbCBpbiByZXF1aXJlbWVudHMpIHtcclxuXHJcbiAgICAgICAgY29uc3QgaGFzRW5vdWdoID0gZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPj0gcmVxdWlyZW1lbnRzW21hdGVyaWFsXTsvKiBZb3VyIGxvZ2ljIHRvIGNoZWNrIGlmIHRoZXJlJ3MgZW5vdWdoIG9mIHRoZSBtYXRlcmlhbCAqLztcclxuICAgICAgICBjb25zdCBjb2xvckNsYXNzID0gaGFzRW5vdWdoID8gJ2Vub3VnaCcgOiAnbm90LWVub3VnaCc7XHJcbiAgICAgICAgc3RyICs9IGA8c3BhbiBjbGFzcz1cInRvb2x0aXAtJHttYXRlcmlhbH0gJHtjb2xvckNsYXNzfVwiPiR7YWJicmV2aWF0ZU51bWJlcihyZXF1aXJlbWVudHNbbWF0ZXJpYWxdKX0gJHttYXRlcmlhbH08L3NwYW4+PGJyPmA7XHJcblxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0cjtcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBlbW9qaURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1vamlEaXNwbGF5Jyk7XHJcbmZ1bmN0aW9uIHVwZGF0ZUVtb2ppRGlzcGxheSgpIHtcclxuICAgIGxldCBlbW9qaVN0ciA9IFwiXCI7XHJcbiAgICBmdW5jdGlvbiBnZXRDb2xvckNvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDU1ICsgMjAwKSk7XHJcbiAgICB9XHJcbiAgICAvLyBMb29wIHRocm91Z2ggdGhlIGpvYkNvdW50cyBtYXAgdG8gZ2V0IGVhY2ggam9iIGFuZCBpdHMgY291bnRcclxuICAgIGZvciAoY29uc3QgW3NraWxsS2V5LCBza2lsbF0gb2YgT2JqZWN0LmVudHJpZXMoc2tpbGxzKSkge1xyXG5cclxuICAgICAgICBjb25zdCByZWQgPSBnZXRDb2xvckNvbXBvbmVudCgpO1xyXG4gICAgICAgIGNvbnN0IGJsdWUgPSBnZXRDb2xvckNvbXBvbmVudCgpO1xyXG4gICAgICAgIGNvbnN0IGdyZWVuID0gZ2V0Q29sb3JDb21wb25lbnQoKTtcclxuICAgICAgICBjb25zdCBza2lsbENvbG9yID0gYHJnYigke3JlZH0sICR7Z3JlZW59LCAke2JsdWV9KWA7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coc2tpbGxLZXksIHNraWxsQ29sb3IpO1xyXG4gICAgICAgIGZvciAoY29uc3QgcmVzb3VyY2Ugb2YgT2JqZWN0LnZhbHVlcyhza2lsbC5hZmZlY3RlZFJlc291cmNlcykpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzb3VyY2UpO1xyXG4gICAgICAgICAgICAvLyBmb3IgKGxldCByZXNvdXJjZSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgLy8gbGV0IHJlc291cmNlID0gcmVzb3VyY2VzW2dldEFmZmVjdGVkUmVzb3VyY2VzKGpvYilbMF1dO1xyXG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IGdldFdvcmtlcnMocmVzb3VyY2UpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZSwgY291bnQpO1xyXG4gICAgICAgICAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCB8fCBjb3VudCA9PSAwKSBjb250aW51ZTtcclxuICAgICAgICAgICAgY29uc3QgZW1vamkgPSByZXNvdXJjZXNbcmVzb3VyY2VdLmVtb2ppIHx8ICfwk4CfJzsgIC8vIGdldCB0aGUgZW1vamkgY29ycmVzcG9uZGluZyB0byB0aGUgam9iIGZyb20gdGhlIHJlc291cmNlcyBtYXBcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coam9iLCBlbW9qaSk7XHJcbiAgICAgICAgICAgIGlmIChlbW9qaSkge1xyXG4gICAgICAgICAgICAgICAgZW1vamlTdHIgKz0gYDxzcGFuIGNsYXNzPSd0b29sdGlwJyBzdHlsZT0nY29sb3I6JHtza2lsbENvbG9yfTsndG9vbHRpcGRlc2M9JyR7cmVzb3VyY2V9JyB0b29sdGlwY29zdD0nJz4ke2Vtb2ppLnJlcGVhdChjb3VudCl9PC9zcGFuPmA7ICAvLyByZXBlYXQgdGhlIGVtb2ppIGJhc2VkIG9uIHRoZSBjb3VudFxyXG4gICAgICAgICAgICAgICAgLy8gQ29sb3IgaW4gcmFuZ2UgMHhjY2MgLSAweGZmZlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVtb2ppRGlzcGxheS5pbm5lckhUTUwgPSBlbW9qaVN0cjsgIC8vIHVwZGF0ZSB0aGUgZW1vamlEaXNwbGF5IGRpdiB3aXRoIHRoZSBnZW5lcmF0ZWQgZW1vamkgc3RyaW5nXHJcblxyXG4gICAgZnVuY3Rpb24gYWRqdXN0Rm9udFNpemUoKSB7XHJcbiAgICAgICAgbGV0IGZvbnRTaXplID0gNDg7ICAvLyBTdGFydGluZyBmb250IHNpemVcclxuXHJcbiAgICAgICAgZW1vamlEaXNwbGF5LnN0eWxlLmZvbnRTaXplID0gYCR7Zm9udFNpemV9cHhgO1xyXG5cclxuICAgICAgICB3aGlsZSAoKGVtb2ppRGlzcGxheS5vZmZzZXRXaWR0aCA+IDYwMCkgJiYgZm9udFNpemUgPiAzMCkge1xyXG4gICAgICAgICAgICAvLyAzMCBpcyBhIG1pbmltdW0gZm9udC1zaXplIHRocmVzaG9sZCB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3BcclxuICAgICAgICAgICAgZm9udFNpemUgLT0gMTsgLy8gZGVjcmVhc2UgdGhlIGZvbnQgc2l6ZVxyXG4gICAgICAgICAgICBlbW9qaURpc3BsYXkuc3R5bGUuZm9udFNpemUgPSBgJHtmb250U2l6ZX1weGA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGwgdGhpcyBmdW5jdGlvbiB3aGVuZXZlciB0aGUgY29udGVudCBvZiAjZW1vamlEaXNwbGF5IGNoYW5nZXNcclxuICAgIC8vIGFkanVzdEZvbnRTaXplKCk7XHJcblxyXG59XHJcblxyXG4vLyBDYWxsIHVwZGF0ZUVtb2ppRGlzcGxheSBldmVyeSB0aW1lIGpvYkNvdW50cyBpcyB1cGRhdGVkOlxyXG4vLyBGb3IgZXhhbXBsZTpcclxuLy8gam9iQ291bnRzLnNldCgnZmlzaGluZycsIDQpO1xyXG51cGRhdGVFbW9qaURpc3BsYXkoKTtcclxuXHJcblxyXG5jb25zdCBhdXRvQ3JhZnRUYWJsZSA9IHtcclxuICAgICdzdGlja3MnOiAnaGFuZGxlJyxcclxuICAgICd3b29kJzogJ3BhcGVyJyxcclxuICAgICdyb2Nrcyc6ICdzaGFycHJvY2tzJyxcclxuICAgICd2aW5lcyc6ICdyb3BlJyxcclxuICAgICdzYW5kJzogJ2dsYXNzJyxcclxuICAgICdvcmUnOiAnZ29sZCcsXHJcbiAgICAnY2xheSc6ICdicmlja3MnXHJcbn07XHJcblxyXG5mdW5jdGlvbiBjcmFmdEFsbFJlc291cmNlcyhyZXNvdXJjZUtleSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb3N0ID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY29zdDtcclxuICAgICAgICBsZXQgc3VmZmljaWVudFJlc291cmNlcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IG1hdCBpbiBjb3N0KSB7XHJcbiAgICAgICAgICAgIC8vIGlmIChnZXRNYXRlcmlhbChtYXQsIHJlc291cmNlcykgPCBjb3N0W21hdF0pIHtcclxuICAgICAgICAgICAgc3VmZmljaWVudFJlc291cmNlcy5wdXNoKGdldE1hdGVyaWFsKG1hdCwgcmVzb3VyY2VzKSAvIGNvc3RbbWF0XSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1pbiA9IE1hdGguZmxvb3IoTWF0aC5taW4oLi4uc3VmZmljaWVudFJlc291cmNlcykpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc291cmNlS2V5LCBtaW4pO1xyXG4gICAgICAgIGNyYWZ0UmVzb3VyY2VRdWFudGl0eShyZXNvdXJjZUtleSwgbWluKTtcclxuXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGNyYWZ0YWxsIGZvcjogJywgcmVzb3VyY2VLZXksIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JhZnRSZXNvdXJjZVF1YW50aXR5KHJlc291cmNlS2V5LCBxdWFudGl0eSkge1xyXG4gICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlS2V5KSkgdGhyb3cgXCJJbnZhbGlkIGNyYWZ0IGZvciBtaXNzaW5nIHJlc291cmNlOiBcIiArIHJlc291cmNlS2V5O1xyXG5cclxuICAgIGlmICghY2FuQ3JhZnQocmVzb3VyY2VLZXkpKSByZXR1cm47IC8vIFRha2VzIGNhcmUgb2YgcXVhbnRpdHkgPCAxXHJcbiAgICBsZXQgY29zdCA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNvc3Q7XHJcbiAgICBxdWFudGl0eSA9IE1hdGguZmxvb3IocXVhbnRpdHkpOyAvLyBNYWtlIHN1cmUgdGhlIHF1YW50aXR5IGlzIGEgd2hvbGUgbnVtYmVyXHJcblxyXG4gICAgZm9yIChjb25zdCBbbWF0LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGNvc3QpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NyYWZ0aW5nIHF1YW50aXR5OicsIG1hdCwgdmFsKTtcclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKG1hdCwgLXZhbCAqIHF1YW50aXR5KTtcclxuICAgICAgICB1cGRhdGVEaXNwbGF5VmFsdWUobWF0KTtcclxuICAgIH1cclxuICAgIGluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2VLZXksIGNhbGNDcmFmdEJvbnVzKHJlc291cmNlS2V5KSAqIHF1YW50aXR5KTtcclxuICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5mbG9vcihxdWFudGl0eSk7ICsraSkgeyAvLyBPbmx5IGNyYWZ0IHdob2xlIG51bWJlciwgc28gMS40IG9ubHkgcnVucyBvbmNlXHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ2NyYWZ0aW5nJywgcXVhbnRpdHksIHJlc291cmNlS2V5LCBjb3N0KTtcclxuICAgIC8vICAgICBjcmFmdE9uZShyZXNvdXJjZUtleSwgY29zdCwgY2FsY0NyYWZ0Qm9udXMocmVzb3VyY2VLZXkpKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgcmVzb3VyY2VLZXkgKyBcIlZhbHVlXCIpLnRleHRDb250ZW50ID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0udmFsdWUudG9GaXhlZCgyKTtcclxuICAgIGlmICghY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY3JhZnRlZE9uY2UpIGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNyYWZ0ZWRPbmNlID0gdHJ1ZTtcclxuXHJcbiAgICB1cGRhdGVEaXNwbGF5VmFsdWUocmVzb3VyY2VLZXkpO1xyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNyYWZ0T25lKHJlc291cmNlS2V5LCBjb3N0LCBjcmFmdEJvbnVzKSB7XHJcbiAgICBmb3IgKGNvbnN0IFttYXQsIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoY29zdCkpIHtcclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKG1hdCwgLXZhbCk7XHJcbiAgICB9XHJcbiAgICBpbmNyZWFzZU1hdGVyaWFsKHJlc291cmNlS2V5LCBjcmFmdEJvbnVzKTtcclxuXHJcbn1cclxuLy8gQ3JhZnQgZnVuY3Rpb25cclxuZnVuY3Rpb24gY3JhZnRSZXNvdXJjZShyZXNvdXJjZUtleSkge1xyXG4gICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlS2V5KSkgdGhyb3cgXCJJbnZhbGlkIGNyYWZ0IGZvciBtaXNzaW5nIHJlc291cmNlOiBcIiArIHJlc291cmNlS2V5O1xyXG5cclxuICAgIGlmICghY2FuQ3JhZnQocmVzb3VyY2VLZXkpKSByZXR1cm47XHJcblxyXG4gICAgbGV0IGNvc3QgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jb3N0O1xyXG4gICAgbGV0IGNyYWZ0Qm9udXMgPSBjYWxjQ3JhZnRCb251cyhyZXNvdXJjZUtleSk7XHJcblxyXG5cclxuICAgIGNyYWZ0T25lKHJlc291cmNlS2V5LCBjb3N0LCBjcmFmdEJvbnVzKTtcclxuXHJcbiAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgcmVzb3VyY2VLZXkgKyBcIlZhbHVlXCIpLnRleHRDb250ZW50ID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0udmFsdWUudG9GaXhlZCgyKTtcclxuICAgIGlmICghY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY3JhZnRlZE9uY2UpIGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNyYWZ0ZWRPbmNlID0gdHJ1ZTtcclxuICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShyZXNvdXJjZUtleSk7XHJcbn1cclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBpbmNyZWFzZU1hdGVyaWFsLFxyXG4gICAgaW5jcmVhc2VNYXgsXHJcbiAgICBjcmFmdEFsbFJlc291cmNlcyxcclxuICAgIGNyYWZ0UmVzb3VyY2UsXHJcbiAgICB1cGRhdGVFbW9qaURpc3BsYXksXHJcbiAgICBnZW5lcmF0ZVRvb2x0aXBDb3N0LFxyXG4gICAgY2FsY1NlY29uZHNSZW1haW5pbmcsXHJcbiAgICBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zLFxyXG4gICAgY2FsY0luY3JlYXNlLFxyXG4gICAgdXBkYXRlUmVzb3VyY2VJbmNyZWFzZVJhdGVzLFxyXG4gICAgY3JhZnRSZXNvdXJjZVF1YW50aXR5LFxyXG5cclxufTsiLCIvLyBERVBFTkRTIE9OOiByZXNvdXJjZXMuanNcclxuY29uc3QgeyBjYWxjSW5jcmVhc2UsIHVwZGF0ZUVtb2ppRGlzcGxheSB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBhZGRUb29sLCBnZXRBbGxUb29scyB9ID0gcmVxdWlyZSgnLi90b29scycpO1xyXG5jb25zdCB7IGFsbFZpc2libGVCdXR0b25zLCBzZXRWaXNpYmxlQnV0dG9uLCBnZXRNYXggfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcbmNvbnN0IHsgbWFrZVZpc2libGUgfSA9IHJlcXVpcmUoJy4vbWFrZVZpc2libGUnKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vZ2V0Q3JhZnRlZFJlc291cmNlJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmNvbnN0IHsgZ2V0QWxsUGVya3MsIGFkZFBlcmssIGhhc1BlcmssIHNlbGVjdEFiaWxpdHkgfSA9IHJlcXVpcmUoJy4vcGVya3MnKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkIH0gPSByZXF1aXJlKCcuL3BvbmRlcicpO1xyXG5jb25zdCB7IGpvYkNvdW50cywgc2V0Q29ubmVjdGlvbnMsIGdldENvbm5lY3Rpb25zLCBkaXN0cmlidXRlV29ya2VycywgdXBkYXRlRGlzcGxheSB9ID0gcmVxdWlyZSgnLi9qb2JzJyk7XHJcbmNvbnN0IHsgdG90YWxfdGltZSB9ID0gcmVxdWlyZSgnLi9tYWluJyk7XHJcbmNvbnN0IHsgc2V0QXRlRmlzaCwgZ2V0QXRlRmlzaCB9ID0gcmVxdWlyZSgnLi9hdGVGaXNoJyk7XHJcblxyXG5cclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIik7XHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZShcIi4vanNvbi9wb25kZXJcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgc2tpbGxzIH0gPSByZXF1aXJlKFwiLi9qc29uL3NraWxsc1wiKTtcclxuY29uc3QgeyBnZXRBbGxTdGFnZXMgfSA9IHJlcXVpcmUoJy4vc3RhZ2VzJyk7XHJcbmNvbnN0IHsgYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nLCBsb2FkRmFjdG9yeSB9ID0gcmVxdWlyZSgnLi9mYWN0b3J5Jyk7XHJcbmNvbnN0IHsgcmVjYWxjTWF4Q2xvbmVzIH0gPSByZXF1aXJlKCcuL3JlY2FsY01heENsb25lcycpO1xyXG5jb25zdCB7IHVwZGF0ZVNpZGViYXIgfSA9IHJlcXVpcmUoJy4vc2lkZWJhcicpO1xyXG5jb25zdCB7IHByZXN0aWdlLCBzZXRQcmVzdGlnZUNvc3QsIHNldFByZXN0aWdlTGV2ZWwgfSA9IHJlcXVpcmUoJy4vanNvbi9wcmVzdGlnZScpO1xyXG5jb25zdCB7IHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0IH0gPSByZXF1aXJlKCcuL3JlY2FsY3VsYXRlQnVpbGRpbmdDb3N0Jyk7XHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCB9ID0gcmVxdWlyZSgnLi91cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50Jyk7XHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdMaXN0IH0gPSByZXF1aXJlKCcuL2J1aWxkaW5ncycpO1xyXG5jb25zdCB7IHBvcHVsYXRlU2tpbGxzVGFibGUgfSA9IHJlcXVpcmUoJy4vc2tpbGxzJyk7XHJcbmNvbnN0IHsgZ2V0QW5hbHl0aWNzLCBsb2dFdmVudCB9ID0gcmVxdWlyZSgnQGZpcmViYXNlL2FuYWx5dGljcycpO1xyXG5jb25zdCB7IGdlbmVyYXRlVW5pcXVlSUQgfSA9IHJlcXVpcmUoJy4vcGxheWVyVWlkJyk7XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHNhdmVHYW1lKCkge1xyXG4gICAgbGV0IHNhdmUgPSB7XHJcbiAgICAgICAgc2tpbGxzOiB7fSwgLy8gVGhpcyB3aWxsIGhvbGQgdGhlIGV4cGVyaWVuY2UgYW5kIGxldmVsIGZvciBlYWNoIHNraWxsXHJcbiAgICAgICAgY3JhZnRlZFJlc291cmNlczoge30sIC8vIFRoaXMgd2lsbCBob2xkIHRoZSB2YWx1ZSBmb3IgZWFjaCBjcmFmdGVkIGl0ZW1cclxuICAgICAgICByZXNvdXJjZXM6IHt9LFxyXG4gICAgICAgIHRvb2xzOiBbXSxcclxuICAgICAgICBzdGFnZXM6IFtdLFxyXG4gICAgICAgIHVubG9ja3M6IHt9LFxyXG4gICAgICAgIGpvYnM6IHt9LFxyXG4gICAgICAgIGJ1aWxkaW5nczoge30sXHJcbiAgICAgICAgdGltZToge30sXHJcbiAgICAgICAgYWxsVmlzaWJsZUJ1dHRvbnM6IFtdLFxyXG4gICAgICAgIG1lc3NhZ2U6IFtdLFxyXG4gICAgICAgIGNvbm5lY3Rpb25zOiBuZXcgTWFwKCksXHJcbiAgICAgICAgcGVya3M6IFtdLFxyXG4gICAgICAgIGZhY3Rvcmllczoge30sXHJcbiAgICAgICAgcHJlc3RpZ2U6IHt9LFxyXG4gICAgICAgIG5ld0J1aWxkaW5nczoge31cclxuICAgIH07XHJcblxyXG4gICAgLy8gRXh0cmFjdCBleHAgYW5kIGxldmVsIGZyb20gc2tpbGxzIGFuZCBzYXZlIHRvIHNhdmUuc2tpbGxzXHJcbiAgICBmb3IgKGxldCBza2lsbCBpbiBza2lsbHMpIHtcclxuICAgICAgICBzYXZlLnNraWxsc1tza2lsbF0gPSB7XHJcbiAgICAgICAgICAgIGV4cDogc2tpbGxzW3NraWxsXS5leHAsXHJcbiAgICAgICAgICAgIGxldmVsOiBza2lsbHNbc2tpbGxdLmxldmVsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFeHRyYWN0IHZhbHVlIGZyb20gY3JhZnRlZFJlc291cmNlcyBhbmQgc2F2ZSB0byBzYXZlLmNyYWZ0ZWRJdGVtc1xyXG4gICAgZm9yIChsZXQgaXRlbSBpbiBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgaWYgKCFzYXZlLmNyYWZ0ZWRSZXNvdXJjZXMuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgc2F2ZS5jcmFmdGVkUmVzb3VyY2VzW2l0ZW1dID0geyB2YWx1ZTogMCwgY3JhZnRlZE9uY2U6IGZhbHNlIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzYXZlLmNyYWZ0ZWRSZXNvdXJjZXNbaXRlbV0udmFsdWUgPSBnZXRDcmFmdGVkUmVzb3VyY2UoaXRlbSk7XHJcbiAgICAgICAgc2F2ZS5jcmFmdGVkUmVzb3VyY2VzW2l0ZW1dLmNyYWZ0ZWRPbmNlID0gY3JhZnRlZFJlc291cmNlc1tpdGVtXS5jcmFmdGVkT25jZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaXRlbSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgaXRlbSBleGlzdHMgaW4gdGhlIHNhdmUucmVzb3VyY2VzIG9iamVjdC4gSWYgbm90LCBpbml0aWFsaXplIGl0LlxyXG4gICAgICAgIGlmICghc2F2ZS5yZXNvdXJjZXMuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgc2F2ZS5yZXNvdXJjZXNbaXRlbV0gPSB7IHZhbHVlOiAwLCBtYXg6IDAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNhdmUucmVzb3VyY2VzW2l0ZW1dLnZhbHVlID0gZ2V0TWF0ZXJpYWwoaXRlbSwgcmVzb3VyY2VzKTtcclxuICAgICAgICBzYXZlLnJlc291cmNlc1tpdGVtXS5tYXggPSBnZXRNYXgoaXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZS50b29scyA9IGdldEFsbFRvb2xzKCk7XHJcbiAgICBzYXZlLnN0YWdlcyA9IGdldEFsbFN0YWdlcygpO1xyXG4gICAgc2F2ZS5qb2JzID0gam9iQ291bnRzO1xyXG4gICAgdHJ5IHsgc2F2ZS5wZXJrcyA9IFtuZXcgU2V0KGdldEFsbFBlcmtzKCkpXTsgfVxyXG4gICAgY2F0Y2ggKGUpIHsgc2F2ZS5wZXJrcyA9IFtdOyBjb25zb2xlLmVycm9yKCdzYXZpbmcgcGVya3MgZXJyb3InLCBlKTsgfVxyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHNhdmUuY29ubmVjdGlvbnMgPSBBcnJheS5mcm9tKGdldENvbm5lY3Rpb25zKCkuZW50cmllcygpKTtcclxuXHJcbiAgICBmb3IgKGxldCB1IGluIHBvbmRlcnMpIHtcclxuICAgICAgICBzYXZlLnVubG9ja3NbdV0gPSBpc1BvbmRlcmVkKHUpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBsYXN0TmV3QnVpbGRpbmcgPSBudWxsO1xyXG4gICAgZm9yIChsZXQgYiBpbiBidWlsZGluZ3MpIHtcclxuICAgICAgICBzYXZlLmJ1aWxkaW5nc1tiXSA9IGJ1aWxkaW5nc1tiXS5jb3VudDtcclxuICAgICAgICBpZiAoYnVpbGRpbmdzW2JdLmhhc093blByb3BlcnR5KCduYW1lJykpIHtcclxuICAgICAgICAgICAgLy8gc2F2ZSBuZXcgYnVpbGRpbmcgZGF0YSBcclxuICAgICAgICAgICAgc2F2ZS5uZXdCdWlsZGluZ3NbYl0gPSBidWlsZGluZ3NbYl07XHJcbiAgICAgICAgICAgIGxhc3ROZXdCdWlsZGluZyA9IGJ1aWxkaW5nc1tiXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coYWxsVmlzaWJsZUJ1dHRvbnMudmFsdWVzKCkpO1xyXG4gICAgZm9yIChsZXQgYSBpbiBhbGxWaXNpYmxlQnV0dG9ucykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGEpO1xyXG4gICAgICAgIHNhdmUuYWxsVmlzaWJsZUJ1dHRvbnMucHVzaChhKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhzYXZlLmFsbFZpc2libGVCdXR0b25zKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHRyYWN0VGV4dEZyb21IVE1MKGh0bWxTdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZztcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dENvbnRlbnQgPSBkaXYudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgY29uc3Qgc3BhblRleHQgPSBkaXYucXVlcnlTZWxlY3Rvcignc3BhbicpLnRleHRDb250ZW50O1xyXG5cclxuICAgICAgICByZXR1cm4gW3RleHRDb250ZW50LCBzcGFuVGV4dF07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TWVzc2FnZVRvb2x0aXAoKSB7XHJcbiAgICAgICAgLy8gR2V0IG1vc3QgcmVjZW50IGJ1aWxkaW5nXHJcbiAgICAgICAgLy8gcmV0dXJuIG1lc3NhZ2VFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWxvbmVcIikuZ2V0QXR0cmlidXRlKCd0b29sdGlwRGVzYycpO1xyXG4gICAgICAgIGxldCBuZWVkcyA9IFwiWW91IGZlZWwgcGVja2lzaCBmb3Igc29tZSBzZWFmb29kLlwiO1xyXG4gICAgICAgIGlmIChsYXN0TmV3QnVpbGRpbmcgJiYgbGFzdE5ld0J1aWxkaW5nLmNvc3QpXHJcbiAgICAgICAgICAgIG5lZWRzID0gJ1lvdSBmZWVsIGEgc3RyYW5nZSwgY29uc3RydWN0aXZlIHVyZ2UgdG8gYWNxdWlyZSAnICsgT2JqZWN0LmtleXMobGFzdE5ld0J1aWxkaW5nLmNvc3QpLmpvaW4oJywgJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ21lc3NhZ2UgdG9vbHRpcDonLCBuZWVkcyk7XHJcbiAgICAgICAgcmV0dXJuIG5lZWRzO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmcpKSB7XHJcbiAgICAgICAgc2F2ZS5mYWN0b3JpZXNba2V5XSA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBodG1sU3RyaW5nID0gcmVxdWlyZSgnLi9tYWluJykuZ2V0TWVzc2FnZSgpLmlubmVySFRNTDtcclxuICAgIGNvbnN0IG1lc3NhZ2VUb29sdGlwID0gZ2V0TWVzc2FnZVRvb2x0aXAoKTtcclxuICAgIGNvbnN0IG1lc3NhZ2VBcnJheSA9IGV4dHJhY3RUZXh0RnJvbUhUTUwoaHRtbFN0cmluZyk7IC8vIFttZXNzYWdlLCBzcGFuXVxyXG4gICAgbWVzc2FnZUFycmF5LnB1c2gobWVzc2FnZVRvb2x0aXApO1xyXG4gICAgc2F2ZS5tZXNzYWdlID0gbWVzc2FnZUFycmF5O1xyXG5cclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhwcmVzdGlnZSkpIHtcclxuICAgICAgICBzYXZlLnByZXN0aWdlW2tleV0gPSB7IGNvc3Q6IHZhbC5jb3N0LCBsZXZlbDogdmFsLmxldmVsIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coY29tYmluZWRUZXh0KTsgLy8gXCJZb3UgZmluZCB5b3Vyc2VsZiBhbG9uZSBpbiBhIGZvcmVzdFwiXHJcbiAgICAvLyBjb25zb2xlLmxvZyhzcGFuVGV4dCk7IC8vIFwiYWxvbmVcIlxyXG5cclxuXHJcbiAgICBzYXZlLnRpbWVbJ3RvdGFsX3RpbWUnXSA9IHRvdGFsX3RpbWU7XHJcbiAgICBzYXZlLnRpbWVbJ3RpbWVfb2Zfc2F2ZSddID0gRGF0ZS5ub3coKTtcclxuICAgIC8vIFlvdSBjYW4gbm93IHVzZSB0aGUgc2F2ZSBvYmplY3QgdG8gc3RvcmUgdGhlIGRhdGEgc29tZXdoZXJlIG9yIGRpc3BsYXkgaXQgdG8gdGhlIHVzZXJcclxuXHJcbiAgICBjb25zb2xlLmxvZyhzYXZlKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHNhdmUpKTtcclxuXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNhdmVcIiwgSlNPTi5zdHJpbmdpZnkoc2F2ZSkpO1xyXG4gICAgbG9nRXZlbnQoZ2V0QW5hbHl0aWNzKCksICdzYXZlJywgc2F2ZSk7XHJcbiAgICByZXR1cm4gc2F2ZTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGxvYWRCdWlsZGluZ3Moc2F2ZWdhbWUpIHtcclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLm5ld0J1aWxkaW5ncyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGxldCBiIGluIHNhdmVnYW1lLm5ld0J1aWxkaW5ncykge1xyXG4gICAgICAgICAgICBidWlsZGluZ3NbYl0gPSBzYXZlZ2FtZS5uZXdCdWlsZGluZ3NbYl07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuYnVpbGRpbmdzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGZvciAobGV0IGIgaW4gc2F2ZWdhbWUuYnVpbGRpbmdzKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGIsIHNhdmVnYW1lLmJ1aWxkaW5nc1tiXSk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBidWlsZGluZ3NbYl0uY291bnQgPSBzYXZlZ2FtZS5idWlsZGluZ3NbYl07XHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgYnV0dG9uIHRleHRcclxuICAgICAgICAgICAgICAgIGlmIChidWlsZGluZ3NbYl0uY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudChiLCBidWlsZGluZ3NbYl0uY291bnQsIGJ1aWxkaW5nc1tiXS5lbW9qaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY29zdHMgb2YgYWxsIHRoZSBidWlsZGluZ3NcclxuICAgICAgICAgICAgICAgICAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2Vycm9yIHdpdGggYnVpbGRpbmcnLCBiLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkR2FtZSgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBHYW1lXCIpO1xyXG5cclxuICAgIC8vIEdldCBVc2VyIElEXHJcbiAgICBpZiAoIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwbGF5ZXJfdWlkJykpIHtcclxuICAgICAgICBjb25zdCBuZXdVaWQgPSBnZW5lcmF0ZVVuaXF1ZUlEKCk7IC8vIFJlcGxhY2Ugd2l0aCB5b3VyIFVJRCBnZW5lcmF0aW9uIGxvZ2ljXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BsYXllcl91aWQnLCBuZXdVaWQpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcGxheWVyVWlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BsYXllcl91aWQnKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICB2YXIgc2F2ZWdhbWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2F2ZVwiKSk7XHJcbiAgICBjb25zb2xlLmxvZyhzYXZlZ2FtZSk7XHJcblxyXG4gICAgbG9nRXZlbnQoZ2V0QW5hbHl0aWNzKCksICdsb2FkJywgeyBzYXZlZ2FtZTogc2F2ZWdhbWUsIHBsYXllclVpZDogcGxheWVyVWlkIH0pO1xyXG5cclxuICAgIGlmIChzYXZlZ2FtZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIC8vIE5FVyBHQU1FXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5yZXNvdXJjZXMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHNhdmVnYW1lLnJlc291cmNlcykge1xyXG4gICAgICAgICAgICBpZiAoaS52YWx1ZU9mKCkgPT09IFwidW5kZWZpbmVkXCIgfHwgaSA9PT0gbnVsbCB8fCByZXNvdXJjZXNbaV0gPT09IG51bGwpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9zZXRNYXRlcmlhbCcpLnNldE1hdGVyaWFsKGksIHNhdmVnYW1lLnJlc291cmNlc1tpXS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlKCcuL3NldE1heCcpLnNldE1heChpLCBzYXZlZ2FtZS5yZXNvdXJjZXNbaV0ubWF4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignZXJyb3Igd2l0aCBsb2FkaW5nIHJlc291cmNlJywgaSwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgcmVzb3VyY2VzIGZvciBcIiArIGkgKyBcIiB0byBcIiArIHNhdmVnYW1lLnJlc291cmNlc1tpXS52YWx1ZSwgc2F2ZWdhbWUucmVzb3VyY2VzW2ldLm1heCk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzW2ldLnZhbHVlICE9IDApIHJlcXVpcmUoJy4vc2lkZWJhcicpLnVwZGF0ZURpc3BsYXlWYWx1ZShpKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5za2lsbHMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBzYXZlZ2FtZS5za2lsbHMpIHtcclxuICAgICAgICAgICAgc2tpbGxzW2ldLmV4cCA9IHNhdmVnYW1lLnNraWxsc1tpXS5leHA7XHJcbiAgICAgICAgICAgIHNraWxsc1tpXS5sZXZlbCA9IHNhdmVnYW1lLnNraWxsc1tpXS5sZXZlbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5jcmFmdGVkUmVzb3VyY2VzICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IG9mIE9iamVjdC5rZXlzKHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXMpKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsb2FkaW5nIGNyYWZ0ZWQnLCBrZXksIHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXNba2V5XSwgY3JhZnRlZFJlc291cmNlc1trZXldKTtcclxuICAgICAgICAgICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzW2tleV0pIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBjcmFmdGVkUmVzb3VyY2VzW2tleV0udmFsdWUgPSBzYXZlZ2FtZS5jcmFmdGVkUmVzb3VyY2VzW2tleV0udmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4oY3JhZnRlZFJlc291cmNlc1trZXldLnZhbHVlKSkgY3JhZnRlZFJlc291cmNlc1trZXldLnZhbHVlID0gMDtcclxuICAgICAgICAgICAgY3JhZnRlZFJlc291cmNlc1trZXldLmNyYWZ0ZWRPbmNlID0gc2F2ZWdhbWUuY3JhZnRlZFJlc291cmNlc1trZXldLmNyYWZ0ZWRPbmNlO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9zaWRlYmFyJykudXBkYXRlRGlzcGxheVZhbHVlKGtleSk7XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnRvb2xzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIHBsYXllclRvb2xzID0gc2F2ZWdhbWUudG9vbHM7XHJcbiAgICAgICAgLy8gVW5pb24gdGhlIHRvb2wgbGlzdHMgdG9nZXRoZXJcclxuICAgICAgICBsZXQgdW5pb24gPSBbLi4ubmV3IFNldChbLi4uZ2V0QWxsVG9vbHMoKSwgLi4uc2F2ZWdhbWUudG9vbHNdKV07XHJcbiAgICAgICAgLy8gcGxheWVyVG9vbHMgPSB1bmlvbjtcclxuICAgICAgICBmb3IgKGxldCB0b29sIGluIHVuaW9uKSB7XHJcbiAgICAgICAgICAgIGFkZFRvb2wodG9vbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBmb3IgKGxldCB0IGluIHBsYXllclRvb2xzKSB7XHJcbiAgICAgICAgLy8gICAgIHVwZGF0ZVRvb2xVSShwbGF5ZXJUb29sc1t0XSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuc3RhZ2VzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGZvciAobGV0IHMgaW4gc2F2ZWdhbWUuc3RhZ2VzKSB7XHJcbiAgICAgICAgICAgIG1ha2VWaXNpYmxlKHNhdmVnYW1lLnN0YWdlc1tzXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5qb2JzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIGpvYkNvdW50cyA9IHNhdmVnYW1lLmpvYnM7XHJcbiAgICAgICAgZm9yIChsZXQgaiBpbiBzYXZlZ2FtZS5qb2JzKSB7XHJcbiAgICAgICAgICAgIGpvYkNvdW50c1tqXSA9IHNhdmVnYW1lLmpvYnNbal07XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGopO1xyXG4gICAgICAgICAgICB1cGRhdGVEaXNwbGF5KGopO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUudW5sb2NrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGxldCB1IGluIHNhdmVnYW1lLnVubG9ja3MpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHBvbmRlcnNbdV0uaXNQb25kZXJlZCA9IHNhdmVnYW1lLnVubG9ja3NbdV07XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdPbGQgc2F2ZSBkYXRhIGluY2x1ZGVzIG9ic29sZXRlIHBvbmRlcicsIHUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1BvbmRlcmVkKCdza2lsbHNUYWJsZScpKSB7XHJcbiAgICAgICAgcG9wdWxhdGVTa2lsbHNUYWJsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBlcmtzIGJlZm9yZSBidWlsZGluZ3MgdG8gdXBkYXRlIGNvc3RzXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnBlcmtzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIG15UGVya3MgPSBzYXZlZ2FtZS5wZXJrcztcclxuICAgICAgICBmb3IgKGxldCBbaSwgcGVya10gb2YgT2JqZWN0LmVudHJpZXMoc2F2ZWdhbWUucGVya3MpKSB7XHJcbiAgICAgICAgICAgIGFkZFBlcmsocGVyayk7XHJcbiAgICAgICAgICAgIHJlcXVpcmUoJy4vc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24nKS5zZWxlY3RDb3JyZWN0UGVya0J1dHRvbihwZXJrKTtcclxuICAgICAgICAgICAgaWYgKHBhcnNlRmxvYXQoaSkgPiAxMDApIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5wcmVzdGlnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoc2F2ZWdhbWUucHJlc3RpZ2UpKSB7XHJcblxyXG4gICAgICAgICAgICBzZXRQcmVzdGlnZUNvc3Qoa2V5LCB2YWxbJ2Nvc3QnXSk7XHJcbiAgICAgICAgICAgIHNldFByZXN0aWdlTGV2ZWwoa2V5LCB2YWxbJ2xldmVsJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsb2FkQnVpbGRpbmdzKHNhdmVnYW1lKTtcclxuICAgIC8vIFRPRE86IFVwZGF0ZSBidWlsZGluZ3MgY29zdHNcclxuXHJcbiAgICAvLyBBZnRlciBwb25kZXJzIGFuZCBidWlsZGluZ3Mgd2UgY2FuIHJlY2FsY3VsYXRlIG1heCBjbG9uZXNcclxuICAgIHJlY2FsY01heENsb25lcygpO1xyXG4gICAgdXBkYXRlQnVpbGRpbmdMaXN0KCk7XHJcblxyXG5cclxuICAgIC8vIElmIHdlIGhhdmUgYSBjbG9uZSwgdGhlbiB3ZSBhdGUgZmlzaFxyXG4gICAgc2V0QXRlRmlzaChyZXNvdXJjZXMuY2xvbmVzLm1heCA+PSAxKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdhdGVmaXNoJywgYXRlRmlzaCk7XHJcbiAgICBpZiAoZ2V0QXRlRmlzaCgpKSB7XHJcbiAgICAgICAgY29uc3QgZmlzaEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWF0RmlzaFwiKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgZmlzaEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gICAgLy8gQ2hhbmdlIHRoZSBtZXNzYWdlIHRvIHRoZSBsYXRlc3Qgb25lXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLm1lc3NhZ2UgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgLy8gW2Z1bGwgbWVzc2FnZSwgc3BhbiwgdG9vbHRpcF1cclxuICAgICAgICByZXF1aXJlKCcuL2NoYW5nZU1lc3NhZ2UnKS5jaGFuZ2VNZXNzYWdlKHNhdmVnYW1lLm1lc3NhZ2VbMF0sIHNhdmVnYW1lLm1lc3NhZ2VbMV0sIHNhdmVnYW1lLm1lc3NhZ2VbMl0gPyBzYXZlZ2FtZS5tZXNzYWdlWzJdIDogbnVsbCk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgcmVzb3VyY2VzIGVhcm5lZCB3aGlsZSBhd2F5XHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnRpbWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmVxdWlyZSgnLi9tYWluJykuc2V0VG90YWxUaW1lKHNhdmVnYW1lLnRpbWVbdG90YWxfdGltZV0pO1xyXG4gICAgICAgIGNvbnN0IHRpbWVfZGlmZmVyZW5jZSA9IERhdGUubm93KCkgLSBzYXZlZ2FtZS50aW1lWyd0aW1lX29mX3NhdmUnXTtcclxuICAgICAgICBmb3IgKGxldCByIGluIHJlc291cmNlcykge1xyXG4gICAgICAgICAgICBjb25zdCBpbmMgPSBjYWxjSW5jcmVhc2UociwgdGltZV9kaWZmZXJlbmNlKTtcclxuICAgICAgICAgICAgcmVzb3VyY2VzW3JdLnZhbHVlICs9IGluYztcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cociwgdGltZV9kaWZmZXJlbmNlLCBpbmMpO1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzW3JdLnZhbHVlID4gcmVzb3VyY2VzW3JdLm1heCkgcmVzb3VyY2VzW3JdLnZhbHVlID0gcmVzb3VyY2VzW3JdLm1heDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5hbGxWaXNpYmxlQnV0dG9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhzYXZlZ2FtZS5hbGxWaXNpYmxlQnV0dG9ucyk7XHJcbiAgICAgICAgZm9yIChsZXQgYSBpbiBzYXZlZ2FtZS5hbGxWaXNpYmxlQnV0dG9ucykge1xyXG4gICAgICAgICAgICBzZXRWaXNpYmxlQnV0dG9uKGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5jb25uZWN0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBzZXRDb25uZWN0aW9ucyhuZXcgTWFwKHNhdmVnYW1lLmNvbm5lY3Rpb25zKSk7XHJcblxyXG4gICAgICAgIGlmIChnZXRDb25uZWN0aW9ucygpLnNpemUgPT09IDApIHNldENvbm5lY3Rpb25zKG5ldyBNYXAoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZ2V0Q29ubmVjdGlvbnMoKSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZvciAobGV0IGpvYiBpbiBqb2JDb3VudHMpIHtcclxuICAgICAgICBkaXN0cmlidXRlV29ya2Vycyhqb2IsIGpvYkNvdW50c1tqb2JdKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVFbW9qaURpc3BsYXkoKTtcclxuXHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5mYWN0b3JpZXMgIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhzYXZlZ2FtZS5mYWN0b3JpZXMpKVxyXG4gICAgICAgICAgICBpZiAodmFsID4gMClcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdmFsOyArK2kpXHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZEZhY3Rvcnkoa2V5KTtcclxuXHJcblxyXG5cclxufVxyXG5cclxuXHJcbi8vIHNhdmUgdGhlIHRpbWUgd2hlbiB0aGUgcGxheWVyIGV4aXRzIHRoZSBicm93c2VyIHRhYlxyXG4vLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCAoKSA9PiBzYXZlR2FtZSgpKTtcclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzYXZlR2FtZSxcclxuICAgIGxvYWRHYW1lXHJcbn07XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbndpbmRvdy5zYXZlR2FtZSA9IHNhdmVHYW1lOyIsIi8qKlxyXG4gKiBTZWxlY3QgdGhlIHBlcmsgYnV0dG9uIHRoYXQgd2UndmUgY2hvc2VuIGFuZCBkaXNhYmxlIHRoZSBvdGhlcnNcclxuICogQHBhcmFtIHtzdHJpbmd9IGFiaWxpdHlOYW1lIE5hbWUgb2YgdGhlIGNob3NlbiBwZXJrXHJcbiAqL1xyXG5mdW5jdGlvbiBzZWxlY3RDb3JyZWN0UGVya0J1dHRvbihhYmlsaXR5TmFtZSkge1xyXG4gICAgLy8gRGlzYWJsZSBhbGwgYnV0dG9uc1xyXG4gICAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGllck9uZUJ1dHRvbicpO1xyXG4gICAgbGV0IHNlbGVjdGVkQnV0dG9uO1xyXG4gICAgdHJ5IHsgc2VsZWN0ZWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHthYmlsaXR5TmFtZX1QZXJrYCk7IH1cclxuICAgIGNhdGNoIChlcnJvcikgeyB9XHJcbiAgICBpZiAoc2VsZWN0ZWRCdXR0b24pIHtcclxuICAgICAgICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBFbmFibGUgYW5kIGhpZ2hsaWdodCB0aGUgc2VsZWN0ZWQgYnV0dG9uXHJcbiAgICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRCdXR0b24sIGFiaWxpdHlOYW1lKTtcclxuICAgICAgICBzZWxlY3RlZEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgc2VsZWN0ZWRCdXR0b24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdObyBidXR0b24gZm91bmQgd2l0aCBhYmlsaXR5IG5hbWU6ICcgKyBhYmlsaXR5TmFtZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5zZWxlY3RDb3JyZWN0UGVya0J1dHRvbiA9IHNlbGVjdENvcnJlY3RQZXJrQnV0dG9uOyIsImNvbnN0IHsgdXBkYXRlVG90YWwgfSA9IHJlcXVpcmUoXCIuL2pvYnNcIik7XHJcbmNvbnN0IHsgdXBkYXRlRGlzcGxheVZhbHVlIH0gPSByZXF1aXJlKFwiLi9zaWRlYmFyXCIpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZShcIi4vanNvbi9yZXNvdXJjZXNcIik7XHJcblxyXG4vKipcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG1hdGVyaWFsXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1cclxuICovXHJcbmZ1bmN0aW9uIHNldE1hdGVyaWFsKG1hdGVyaWFsLCBudW0pIHtcclxuICAgIC8vIENoZWNrIGlmIG1hdGVyaWFsIGV4aXN0c1xyXG4gICAgaWYgKHJlc291cmNlc1ttYXRlcmlhbF0gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSA9IG51bTtcclxuICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShtYXRlcmlhbCk7XHJcbiAgICB1cGRhdGVUb3RhbCgpO1xyXG59XHJcbmV4cG9ydHMuc2V0TWF0ZXJpYWwgPSBzZXRNYXRlcmlhbDsiLCJjb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZShcIi4vanNvbi9yZXNvdXJjZXNcIik7XHJcbmNvbnN0IHsgdXBkYXRlVG90YWwgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IHVwZGF0ZURpc3BsYXlWYWx1ZSB9ID0gcmVxdWlyZShcIi4vc2lkZWJhclwiKTtcclxuXHJcbi8qKlxyXG4gKiBTZXRzIHRoZSBtYXggdmFsdWUgZm9yIGEgbWF0ZXJpYWwuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXRlcmlhbCBUaGUgbmFtZSBvZiB0aGUgbWF0ZXJpYWwuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW0gVGhlIG51bWJlciBvZiB0aGUgbWF0ZXJpYWwuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRNYXgobWF0ZXJpYWwsIG51bSkge1xyXG4gICAgaWYgKHJlc291cmNlc1ttYXRlcmlhbF0gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgcmVzb3VyY2VzW21hdGVyaWFsXS5tYXggPSBudW07XHJcbiAgICB1cGRhdGVEaXNwbGF5VmFsdWUobWF0ZXJpYWwpO1xyXG4gICAgdXBkYXRlVG90YWwoKTtcclxufVxyXG5leHBvcnRzLnNldE1heCA9IHNldE1heDsiLCJjb25zdCB7IGRyYXdBbGxDb25uZWN0aW9ucyB9ID0gcmVxdWlyZSgnLi9qb2JzJyk7XHJcbmNvbnN0IHsgdXBkYXRlU2lkZWJhciB9ID0gcmVxdWlyZSgnLi9zaWRlYmFyJyk7XHJcbmNvbnN0IHsgcmVmcmVzaFZhbHVlcywgY29tYmF0LCBwYXVzZUFuaW1hdGlvbiwgYmF0dGxlUmVzdWx0LCBzaW11bGF0ZUJhdHRsZSB9ID0gcmVxdWlyZSgnLi9jb21iYXQnKTtcclxuY29uc3QgeyBnZXRTZnhWb2x1bWUsIHBsYXlTb3VuZCB9ID0gcmVxdWlyZSgnLi9hdWRpbycpO1xyXG5cclxuZnVuY3Rpb24gZ2V0Q3VycmVudFRhYigpIHtcclxuICAgIGxldCB0YWIgPSAnJztcclxuICAgIGZvciAobGV0IGNvbnRlbnQgb2YgdGFiQ29udGFpbmVycykge1xyXG4gICAgICAgIGlmIChjb250ZW50LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgdGFiID0gY29udGVudC5pZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGFiO1xyXG59XHJcbmV4cG9ydHMuZ2V0Q3VycmVudFRhYiA9IGdldEN1cnJlbnRUYWI7XHJcbi8vIFN3aXRjaCB0YWJzXHJcbmxldCB0YWJDb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YWItY29udGVudCA+IC5jb250ZW50XCIpOyAvLyBEaXJlY3QgY2hpbGRyZW4gb25seVxyXG5cclxuZnVuY3Rpb24gc2hvd1RhYih0YWJOYW1lKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInNob3cgdGFiOiBcIiArIHRhYk5hbWUpO1xyXG4gICAgLy8gR2V0IGFsbCBtYWluIGNvbnRhaW5lciBkaXZzIGFuZCBoaWRlIHRoZW1cclxuICAgIGxldCBwcmV2VGFiID0gZ2V0Q3VycmVudFRhYigpO1xyXG5cclxuICAgIGlmICh0YWJOYW1lID09PSBwcmV2VGFiKSByZXR1cm47XHJcblxyXG4gICAgcGxheVNvdW5kKCcuL2F1ZGlvL3RhYi53YXYnKTtcclxuXHJcblxyXG4gICAgbGV0IHByZXZUYWJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJldlRhYik7XHJcbiAgICBpZiAocHJldlRhYkVsZW1lbnQpIHtcclxuICAgICAgICBwcmV2VGFiRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICBwcmV2VGFiRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgfVxyXG4gICAgLy8gR2V0IGFsbCB0YWIgYnV0dG9ucyBhbmQgcmVtb3ZlIHRoZSBhY3RpdmUgY2xhc3NcclxuICAgIGxldCB0YWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YWItYnV0dG9uXCIpO1xyXG4gICAgZm9yIChsZXQgdGFiIG9mIHRhYnMpIHtcclxuICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTaG93IHRoZSBjbGlja2VkIHRhYidzIG1haW4gY29udGFpbmVyIGRpdiBhbmQgbWFrZSB0aGUgdGFiIGJ1dHRvbiBhY3RpdmVcclxuICAgIGxldCBhY3RpdmVDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFiTmFtZSk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHsgYWN0aXZlQ29udGVudC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpOyB9LCAxMDApO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgYWN0aXZlQ29udGVudC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgfSwgMjAwKTtcclxuXHJcblxyXG4gICAgLy8gR2V0IHRoZSBjbGlja2VkIHRhYiBidXR0b24gYW5kIG1ha2UgaXQgYWN0aXZlXHJcbiAgICBjb25zdCB0YWJTdHJpbmcgPSBgIyR7dGFiTmFtZX1CdXR0b25gO1xyXG4gICAgbGV0IGFjdGl2ZVRhYkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFiU3RyaW5nKTtcclxuXHJcbiAgICBpZiAoYWN0aXZlVGFiQnV0dG9uKSBhY3RpdmVUYWJCdXR0b24uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHJcbiAgICBpZiAodGFiTmFtZSA9PT0gJ2pvYnNUYWInKVxyXG4gICAgICAgIGRyYXdBbGxDb25uZWN0aW9ucygpO1xyXG5cclxuICAgIGlmICh0YWJOYW1lID09PSAnY29tYmF0VGFiJykge1xyXG4gICAgICAgIHJlZnJlc2hWYWx1ZXMoKTtcclxuXHJcbiAgICAgICAgLy8gV2hlbiByZXR1cm5pbmcgdG8gdGhlIGNvbWJhdFRhYiwgcmVzb2x2ZSB0aGUgYmF0dGxlIGlmIGl0IGhhc24ndCBiZWVuIHJlc29sdmVkIHlldFxyXG4gICAgICAgIGlmIChiYXR0bGVSZXN1bHQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgc2ltdWxhdGVCYXR0bGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbnNvbGUubG9nKHByZXZUYWIsICc+JywgdGFiTmFtZSk7XHJcblxyXG4gICAgLy8gdXBkYXRlU2lkZWJhcigpO1xyXG59XHJcbmV4cG9ydHMuc2hvd1RhYiA9IHNob3dUYWI7XHJcbiIsImNvbnN0IHsgY2FsY0luY3JlYXNlIH0gPSByZXF1aXJlKFwiLi9jYWxjSW5jcmVhc2VcIik7XHJcbmNvbnN0IHsgY2FwaXRhbGl6ZUZpcnN0IH0gPSByZXF1aXJlKCcuL2NhcGl0YWxpemVGaXJzdCcpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKFwiLi9nZXRNYXRlcmlhbFwiKTtcclxuY29uc3QgeyBnZXRNYXggfSA9IHJlcXVpcmUoXCIuL2hlbHBlclwiKTtcclxuY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoXCIuL2pzb24vcmVzb3VyY2VzXCIpO1xyXG4vLyBAdHMtaWdub3JlXHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiB0b2dnbGVHcm91cFZpc2liaWxpdHkoZ3JvdXBOYW1lKSB7XHJcbiAgICBjb25zdCBncm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBncm91cC0ke2dyb3VwTmFtZX1gKTtcclxuICAgIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0b2dnbGUtJHtncm91cE5hbWV9YCk7IC8vIEVuc3VyZSB5b3UgaGF2ZSB0aGlzIGJ1dHRvbiB3aXRoIHRoZSBpZCAndG9nZ2xlLWdyb3VwTmFtZSdcclxuXHJcbiAgICBBcnJheS5mcm9tKGdyb3VwLmNoaWxkcmVuKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09ICdQJykgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSBncm91cCBpcyBjdXJyZW50bHkgaGlkZGVuXHJcbiAgICBpZiAodG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYXJyb3ctZG93bicpKSB7XHJcbiAgICAgICAgdG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2Fycm93LWRvd24nKTtcclxuICAgICAgICB0b2dnbGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnYXJyb3ctcmlnaHQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2Fycm93LXJpZ2h0Jyk7XHJcbiAgICAgICAgdG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Fycm93LWRvd24nKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIGdyb3VwIGNvbnRhaW5lclxyXG5mdW5jdGlvbiBjcmVhdGVSZXNvdXJjZUdyb3VwQ29udGFpbmVyKGdyb3VwTmFtZSkge1xyXG4gICAgY29uc3QgZ3JvdXBDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGdyb3VwQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdyZXNvdXJjZUdyb3VwJztcclxuICAgIGdyb3VwQ29udGFpbmVyLmlkID0gYGdyb3VwLSR7Z3JvdXBOYW1lfWA7XHJcblxyXG4gICAgY29uc3QgdG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICB0b2dnbGVCdXR0b24udGV4dENvbnRlbnQgPSBncm91cE5hbWUudG9VcHBlckNhc2UoKTtcclxuICAgIHRvZ2dsZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdG9nZ2xlR3JvdXBWaXNpYmlsaXR5KGdyb3VwTmFtZSk7XHJcbiAgICB0b2dnbGVCdXR0b24uY2xhc3NOYW1lID0gJ3RvZ2dsZS1idXR0b24gYXJyb3ctZG93bic7XHJcbiAgICB0b2dnbGVCdXR0b24uaWQgPSBgdG9nZ2xlLSR7Z3JvdXBOYW1lfWA7XHJcblxyXG4gICAgZ3JvdXBDb250YWluZXIuYXBwZW5kQ2hpbGQodG9nZ2xlQnV0dG9uKTtcclxuICAgIHJldHVybiBncm91cENvbnRhaW5lcjtcclxufVxyXG5cclxuXHJcblxyXG4vLyBJdGVyYXRlcyBvdmVyIGVhY2ggZ3JvdXAgYW5kIHJlc291cmNlIHRvIGNyZWF0ZSB0YWdzXHJcbmZ1bmN0aW9uIGluaXRpYWxpemVSZXNvdXJjZVRhZ3Mod2l0aEdyb3Vwcykge1xyXG4gICAgLy8gaWYgKGlzUG9uZGVyZWQoJ29yZ2FuaXphdGlvbicpKSB3aXRoR3JvdXBzID0gdHJ1ZTtcclxuICAgIGNvbnNvbGUubG9nKFwiaW5pdGlhbHppbmcgcmVzb3VyY2UgdGFnc1wiKTtcclxuICAgIGNvbnNvbGUudHJhY2UoKTtcclxuICAgIC8vIERlZmluZSBncm91cHMgZm9yIHlvdXIgcmVzb3VyY2VzXHJcbiAgICBjb25zdCByZXNvdXJjZUdyb3VwcyA9IHtcclxuICAgICAgICBzcGVjaWFsOiBbJ2Nsb25lcycsICdodXNrcycsICdwb25kZXInLCAndmlvbGVuY2UnXSxcclxuICAgICAgICBmb29kOiBbJ2JlcnJpZXMnLCAnZmlzaCcsICdnYW1lJywgJ3doZWF0JywgJ2JyZWFkJywgJ2ZyZXNod2F0ZXInXSxcclxuICAgICAgICBtYXRlcmlhbHM6IFsnc3RpY2tzJywgJ3ZpbmVzJywgJ3JvY2tzJywgJ3dvb2QnLCAnc2FuZCcsICdjbGF5JywgJ2hpZGVzJywgJ2hlcmJzJ10sXHJcbiAgICAgICAgdG9vbHM6IFsnc2hhcnByb2NrcycsICdyb3BlJywgJ2hhbmRsZScsICdmaXNoaW5ncm9kJywgJ3BpY2theGUnLCAnYXhlJywgJ3NwZWFyJywgJ3N0YWZmJ10sXHJcbiAgICAgICAgYWR2YW5jZWQ6IFsnZ2xhc3MnLCAncGFwZXInLCAnY3JhdGVzJywgJ21lZGljaW5lJywgJ2xlYXRoZXInXSxcclxuICAgICAgICBtZXRhbDogWydvcmUnLCAnZ29sZCcsICdpcm9uJywgJ3NpbHZlcicsICdzdGVlbCddLFxyXG4gICAgICAgIGNvbnN0cnVjdGlvbjogWydicmlja3MnLCAnYmVhbXMnLCAnbmFpbHMnLCAnc2xhYnMnLCAnY29uY3JldGUnXSxcclxuICAgICAgICAvLyAuLi4gQWRkIG90aGVyIGdyb3VwcyBhcyBuZWNlc3NhcnlcclxuICAgIH07XHJcbiAgICBmb3IgKGxldCBbZ3JvdXBOYW1lLCBncm91cE9mUmVzb3VyY2VzXSBvZiBPYmplY3QuZW50cmllcyhyZXNvdXJjZUdyb3VwcykpIHtcclxuXHJcbiAgICAgICAgZ3JvdXBPZlJlc291cmNlcy5mb3JFYWNoKHJlc291cmNlTmFtZSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc291cmNlTmFtZSwgZ3JvdXBOYW1lKTtcclxuICAgICAgICAgICAgbGV0IHBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzb3VyY2UtJyArIHJlc291cmNlTmFtZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXdpdGhHcm91cHMpIGdyb3VwTmFtZSA9IG51bGw7IC8vIFNldCBncm91cCB0byByZXNvdXJjZXNcclxuXHJcbiAgICAgICAgICAgIGlmICghcGFyZW50RWxlbWVudCkgcGFyZW50RWxlbWVudCA9IGNyZWF0ZVJlc291cmNlVGFnKHJlc291cmNlTmFtZSwgZ3JvdXBOYW1lKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocGFyZW50RWxlbWVudCk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gSGlkZSB0aGUgZWxlbWVudCBpZiB3ZSBzaG91bGQsIG90aGVyd2lzZSBjcmVhdGUgYSByZXNvdXJjZSB0YWdcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzb3VyY2VOYW1lLCBzaG91bGRIaWRlKHJlc291cmNlTmFtZSksIGdldE1hdGVyaWFsKHJlc291cmNlTmFtZSkpO1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkSGlkZShyZXNvdXJjZU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzaG91bGRIaWRlKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3VsZEhpZGUocmVzb3VyY2VOYW1lKSB7XHJcblxyXG4gICAgdmFyIHNob3VsZEhpZGUgPSB0cnVlO1xyXG4gICAgLy8gZm9yIChsZXQgYyBpbiBwYXJlbnRFbGVtZW50LmNsYXNzTGlzdCkge1xyXG4gICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKCdoYXMgcGFzc2VkJywgcmVzb3VyY2VOYW1lLCBwYXNzZWRTdGFnZShjKSk7XHJcbiAgICAvLyAgICAgaWYgKHJlcXVpcmUoJy4vc3RhZ2VzJykucGFzc2VkU3RhZ2UoYykpIHsgc2hvdWxkSGlkZSA9IGZhbHNlOyBjb25zb2xlLmxvZygnZG9udCBoaWRlJywgcmVzb3VyY2VOYW1lLCBjKTsgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIGlmIChnZXRNYXRlcmlhbChyZXNvdXJjZU5hbWUpID4gMCkge1xyXG4gICAgICAgIHNob3VsZEhpZGUgPSBmYWxzZTtcclxuICAgICAgICBpZiAocmVzb3VyY2VzW3Jlc291cmNlTmFtZV0pIHJlc291cmNlc1tyZXNvdXJjZU5hbWVdLmlzVmlzaWJsZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAocmVzb3VyY2VzW3Jlc291cmNlTmFtZV0gJiYgcmVzb3VyY2VzW3Jlc291cmNlTmFtZV0uaXNWaXNpYmxlKSB7IHNob3VsZEhpZGUgPSBmYWxzZTsgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdzaG91bGQgaGlkZT8nLCByZXNvdXJjZU5hbWUsIHNob3VsZEhpZGUpO1xyXG4gICAgcmV0dXJuIHNob3VsZEhpZGU7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBhYmJyZXZpYXRlTnVtYmVyKG51bSkge1xyXG4gICAgaWYgKHR5cGVvZiBudW0gIT09ICdudW1iZXInKSByZXR1cm4gbnVtO1xyXG4gICAgZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCB1bml0KSB7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgMTApIHJldHVybiByb3VuZFRvRGVjaW1hbHModmFsdWUsIDIpICsgdW5pdDtcclxuICAgICAgICBpZiAodmFsdWUgPCAxMDApIHJldHVybiByb3VuZFRvRGVjaW1hbHModmFsdWUsIDEpICsgdW5pdDtcclxuICAgICAgICBpZiAodmFsdWUgPCAxMDAwKSByZXR1cm4gcm91bmRUb0RlY2ltYWxzKHZhbHVlLCAwKSArIHVuaXQ7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUpICsgdW5pdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByb3VuZFRvRGVjaW1hbHMobnVtYmVyLCBkZWNpbWFscykge1xyXG4gICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XHJcbiAgICAgICAgcmV0dXJuIChNYXRoLnJvdW5kKG51bWJlciAqIGZhY3RvcikgLyBmYWN0b3IpLnRvRml4ZWQoZGVjaW1hbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChudW0gPCAxZTMpIHJldHVybiByb3VuZFRvRGVjaW1hbHMobnVtLCAxKTsgLy8gSWYgbGVzcyB0aGFuIDEsMDAwXHJcbiAgICBpZiAobnVtIDwgMWU2KSByZXR1cm4gZm9ybWF0KG51bSAvIDFlMywgJ0snKTsgLy8gVGhvdXNhbmRzXHJcbiAgICBpZiAobnVtIDwgMWU5KSByZXR1cm4gZm9ybWF0KG51bSAvIDFlNiwgJ00nKTsgLy8gTWlsbGlvbnNcclxuICAgIGlmIChudW0gPCAxZTEyKSByZXR1cm4gZm9ybWF0KG51bSAvIDFlOSwgJ0InKTsgLy8gQmlsbGlvbnNcclxuICAgIC8vIEFkZCBtb3JlIGNhc2VzIGZvciBsYXJnZXIgbnVtYmVycyBpZiBuZWVkZWRcclxuXHJcbiAgICBpZiAobnVtID09PSBJbmZpbml0eSkgbnVtID0gJ+KInic7XHJcbiAgICByZXR1cm4gbnVtLnRvU3RyaW5nKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGVzIHRoZSByZXNvdXJjZSBjb3VudCBhbmQgbWF4ZXMgb2YgYWxsIHJlc291cmNlc1xyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmZ1bmN0aW9uIHVwZGF0ZVNpZGViYXIoKSB7XHJcbiAgICBjb25zdCBhbGxNYXRlcmlhbHMgPSByZXF1aXJlKCcuL2ZhY3RvcnknKS5hbGxNYXRlcmlhbHM7XHJcbiAgICBBcnJheS5mcm9tKGFsbE1hdGVyaWFscykuZm9yRWFjaChyID0+IHsgdXBkYXRlRGlzcGxheVZhbHVlKHIpOyB9KTtcclxufVxyXG5cclxuXHJcbi8vIENyZWF0ZSBhbGwgb3VyIHJlc291cmNlIHRhZ3MgaW4gdGhlIHNpZGViYXJcclxuY29uc3QgcmVzb3VyY2VzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc291cmNlcycpO1xyXG5mdW5jdGlvbiBjcmVhdGVSZXNvdXJjZVRhZyhyZXNvdXJjZU5hbWUsIGdyb3VwTmFtZSkge1xyXG4gICAgLy8gaWYgKCFyZXNvdXJjZXMuaGFzT3duUHJvcGVydHkocmVzb3VyY2VOYW1lKSkgdGhyb3cgXCJJbnZhbGlkIHJlc291cmNlOiBcIiArIHJlc291cmNlTmFtZTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgcmVzb3VyY2UgdGFnIGZvciBcIiwgcmVzb3VyY2VOYW1lLCBncm91cE5hbWUpO1xyXG4gICAgbGV0IGdyb3VwQ29udGFpbmVyO1xyXG4gICAgaWYgKGdyb3VwTmFtZSkge1xyXG4gICAgICAgIGdyb3VwQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGdyb3VwLSR7Z3JvdXBOYW1lfWApO1xyXG4gICAgICAgIGlmICghZ3JvdXBDb250YWluZXIpIHtcclxuICAgICAgICAgICAgZ3JvdXBDb250YWluZXIgPSBjcmVhdGVSZXNvdXJjZUdyb3VwQ29udGFpbmVyKGdyb3VwTmFtZSk7XHJcbiAgICAgICAgICAgIHJlc291cmNlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChncm91cENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdhcHBlbmRpbmcnLCBncm91cENvbnRhaW5lciwgcmVzb3VyY2VzQ29udGFpbmVyLCByZXNvdXJjZXNDb250YWluZXIuY2hpbGRFbGVtZW50Q291bnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGdyb3VwQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc291cmNlcycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKGdyb3VwQ29udGFpbmVyKTtcclxuXHJcbiAgICBjb25zdCByZXNvdXJjZURpc3BsYXlOYW1lID0gY2FwaXRhbGl6ZUZpcnN0KHJlc291cmNlTmFtZSkuc3BsaXQoJ18nKS5qb2luKCcgJyk7XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgcmVzb3VyY2VFbGVtZW50LmNsYXNzTmFtZSA9IGByZXNvdXJjZWA7XHJcbiAgICByZXNvdXJjZUVsZW1lbnQuaWQgPSBgcmVzb3VyY2UtJHtyZXNvdXJjZU5hbWV9YDtcclxuXHJcbiAgICBjb25zdCByZXNvdXJjZU5hbWVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgcmVzb3VyY2VOYW1lU3Bhbi5jbGFzc05hbWUgPSAncmVzb3VyY2VOYW1lJztcclxuICAgIHJlc291cmNlTmFtZVNwYW4udGV4dENvbnRlbnQgPSBgJHtyZXNvdXJjZURpc3BsYXlOYW1lfTpgO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlVmFsdWVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgcmVzb3VyY2VWYWx1ZVNwYW4uY2xhc3NOYW1lID0gJ3Jlc291cmNlVmFsdWUnO1xyXG4gICAgcmVzb3VyY2VWYWx1ZVNwYW4uaWQgPSBgJHtyZXNvdXJjZU5hbWV9VmFsdWVgO1xyXG4gICAgbGV0IG1heCA9IChnZXRNYXgocmVzb3VyY2VOYW1lKSAmJiBnZXRNYXgocmVzb3VyY2VOYW1lKSA8IEluZmluaXR5KSA/IGdldE1heChyZXNvdXJjZU5hbWUpLnRvRml4ZWQoMikgOiAn4oieJztcclxuXHJcbiAgICByZXNvdXJjZVZhbHVlU3Bhbi50ZXh0Q29udGVudCA9IGAke2dldE1hdGVyaWFsKHJlc291cmNlTmFtZSkudG9GaXhlZCgyKX0gLyAke21heH1gO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlUmF0ZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICByZXNvdXJjZVJhdGVTcGFuLmNsYXNzTmFtZSA9ICdyZXNvdXJjZVJhdGUnO1xyXG4gICAgcmVzb3VyY2VSYXRlU3Bhbi5pbm5lckhUTUwgPSBgPHNwYW4gaWQ9XCIke3Jlc291cmNlTmFtZX1JbmNyZWFzZVJhdGVcIj48L3NwYW4+KWA7XHJcblxyXG4gICAgcmVzb3VyY2VFbGVtZW50LmFwcGVuZENoaWxkKHJlc291cmNlTmFtZVNwYW4pO1xyXG4gICAgcmVzb3VyY2VFbGVtZW50LmFwcGVuZENoaWxkKHJlc291cmNlVmFsdWVTcGFuKTtcclxuICAgIHJlc291cmNlRWxlbWVudC5hcHBlbmRDaGlsZChyZXNvdXJjZVJhdGVTcGFuKTtcclxuXHJcbiAgICBncm91cENvbnRhaW5lci5hcHBlbmRDaGlsZChyZXNvdXJjZUVsZW1lbnQpO1xyXG5cclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIG9yZGVyaW5nXHJcblxyXG4gICAgLy8gRnVuY3Rpb24gdG8gY2hhbmdlIHRoZSBvcmRlciBvZiBhIHJlc291cmNlXHJcbiAgICAvLyBmdW5jdGlvbiBjaGFuZ2VSZXNvdXJjZU9yZGVyKHJlc291cmNlSWQsIG5ld09yZGVyKSB7XHJcbiAgICAvLyAgICAgY29uc3QgcmVzb3VyY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZXNvdXJjZUlkKTtcclxuICAgIC8vICAgICBpZiAocmVzb3VyY2UpIHtcclxuICAgIC8vICAgICAgICAgcmVzb3VyY2Uuc3R5bGUub3JkZXIgPSBuZXdPcmRlcjtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG5cclxuICAgIC8vIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1jbG9uZXNcIiwgMSk7XHJcbiAgICAvLyBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utc3RpY2tzXCIsIDIpOyAvLyBNb3ZlIFwiU3RpY2tzXCIgdG8gb3JkZXIgMlxyXG4gICAgLy8gY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXZpbmVzXCIsIDMpOyAvLyBNb3ZlIFwiVmluZXNcIiB0byBvcmRlciAzXHJcbiAgICAvLyBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utcm9ja3NcIiwgNCk7XHJcbiAgICAvLyBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtZmlzaFwiLCA1KTtcclxuICAgIC8vIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1mcmVzaHdhdGVyXCIsIDYpO1xyXG4gICAgLy8gY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXdvb2RcIiwgNyk7XHJcbiAgICAvLyBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utb3JlXCIsIDgpO1xyXG4gICAgLy8gY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXNhbmRcIiwgOSk7XHJcbiAgICAvLyBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtY2xheVwiLCAxMCk7XHJcbiAgICAvLyBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utd2hlYXRcIiwgMTEpO1xyXG4gICAgLy8gY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLWhpZGVzXCIsIDEyKTtcclxuICAgIC8vIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1nYW1lXCIsIDEzKTtcclxuICAgIC8vIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1oZXJic1wiLCAxNCk7XHJcbiAgICAvLyBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtYmVycmllc1wiLCAxNSk7XHJcbiAgICAvLyBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtcG9uZGVyXCIsIDUwKTtcclxuXHJcbiAgICByZXR1cm4gcmVzb3VyY2VFbGVtZW50O1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICB1cGRhdGVTaWRlYmFyLFxyXG4gICAgaW5pdGlhbGl6ZVJlc291cmNlVGFncyxcclxuICAgIHVwZGF0ZURpc3BsYXlWYWx1ZSxcclxuICAgIGFiYnJldmlhdGVOdW1iZXJcclxufTtcclxuLyoqXHJcbiAqIFVwZGF0ZXMgdGhlIGRpc3BsYXkgdmFsdWUgb2Ygb25lIHJlc291cmNlLCBhIHNwZWNpZmljIHVwZGF0ZVNpZGViYXIoKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF0ZXJpYWxcclxuICovXHJcbmZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlWYWx1ZShtYXRlcmlhbCkge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IHJlc291cmNlc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGAjJHttYXRlcmlhbH1WYWx1ZWApO1xyXG4gICAgY29uc3QgZWxlbWVudEluY3JlYXNlID0gcmVzb3VyY2VzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYCMke21hdGVyaWFsfUluY3JlYXNlUmF0ZWApO1xyXG4gICAgLy8gY29uc3QgY3JhZnRlZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGJ1dHRvbiNjcmFmdCR7Y2FwaXRhbGl6ZUZpcnN0KG1hdGVyaWFsKX1gKTtcclxuICAgIC8vIHRyeSB7IGlmICghZWxlbWVudCkgY3JlYXRlUmVzb3VyY2VUYWcobWF0ZXJpYWwpOyB9XHJcbiAgICAvLyBjYXRjaCAoZXJyb3IpIHsgfVxyXG4gICAgLy8gY29uc29sZS5sb2cobWF0ZXJpYWwsIGVsZW1lbnQsIGNyYWZ0ZWRCdXR0b24pO1xyXG4gICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IGdldE1hdGVyaWFsKG1hdGVyaWFsKTtcclxuICAgICAgICAgICAgY29uc3QgbWF4ID0gZ2V0TWF4KG1hdGVyaWFsKTtcclxuICAgICAgICAgICAgLy8gbGV0IG1heCA9IChnZXRNYXgobWF0ZXJpYWwpICYmIGdldE1heChtYXRlcmlhbCkgPCBJbmZpbml0eSkgPyBnZXRNYXgobWF0ZXJpYWwpLnRvRml4ZWQoMSkgOiAn4oieJztcclxuICAgICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGAke2FiYnJldmlhdGVOdW1iZXIoY291bnQpfSAvICR7YWJicmV2aWF0ZU51bWJlcihtYXgpfWA7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuY29sb3IgPSAnd2hpdGUnO1xyXG4gICAgICAgICAgICBpZiAoY291bnQgLyBtYXggPiAuNikgZWxlbWVudC5zdHlsZS5jb2xvciA9ICcjZmZjJztcclxuICAgICAgICAgICAgaWYgKGNvdW50IC8gbWF4ID4gLjgpIGVsZW1lbnQuc3R5bGUuY29sb3IgPSAnI2ZlYyc7XHJcbiAgICAgICAgICAgIGlmIChjb3VudCAvIG1heCA+IC45NSkgZWxlbWVudC5zdHlsZS5jb2xvciA9ICcjZmNjJztcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRJbmNyZWFzZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5jID0gY2FsY0luY3JlYXNlKG1hdGVyaWFsLCAxMDAwKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGluYywgZWxlbWVudEluY3JlYXNlKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmMgPT09IDAgfHwgTnVtYmVyLmlzTmFOKGluYykpIGVsZW1lbnRJbmNyZWFzZS5wYXJlbnRFbGVtZW50LmlubmVySFRNTCA9IGA8c3BhbiBpZD1cIiR7bWF0ZXJpYWx9SW5jcmVhc2VSYXRlXCI+PC9zcGFuPmA7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGVsZW1lbnRJbmNyZWFzZS5wYXJlbnRFbGVtZW50LmlubmVySFRNTCA9IGAke2luYyA+PSAwID8gJysnIDogJy0nfTxzcGFuIGlkPVwiJHttYXRlcmlhbH1JbmNyZWFzZVJhdGVcIj4ke2luYy50b0ZpeGVkKDIpfTwvc3Bhbj4vc2A7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobWF0ZXJpYWwsIHNob3VsZEhpZGUobWF0ZXJpYWwpLCBnZXRNYXRlcmlhbChtYXRlcmlhbCkpO1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkSGlkZShtYXRlcmlhbCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZWxlbWVudCwgbWF0ZXJpYWwsIGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZXNvdXJjZXNbbWF0ZXJpYWxdKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbbWF0ZXJpYWxdLmlzR2V0dGluZykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2lkZWJhclRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jlc291cmNlc1wiKS5xdWVyeVNlbGVjdG9yKCcjcmVzb3VyY2UtJyArIG1hdGVyaWFsKTtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGlmIChzaWRlYmFyVGV4dCkgc2lkZWJhclRleHQuc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gaWYgKGNyYWZ0ZWRCdXR0b24pIHtcclxuICAgIC8vICAgICBjb25zdCBjb3VudFNwYW4gPSBjcmFmdGVkQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoYCMke21hdGVyaWFsfVZhbHVlYCk7XHJcbiAgICAvLyAgICAgLy8gY29uc29sZS5sb2coJ2NyYWZ0ZWQgYnV0dG9uIHdhcyBmb3VuZCcsIGNvdW50U3BhbiwgbWF0ZXJpYWwsIGdldENyYWZ0ZWRSZXNvdXJjZShtYXRlcmlhbCkpO1xyXG4gICAgLy8gICAgIGlmIChjb3VudFNwYW4pIGNvdW50U3Bhbi50ZXh0Q29udGVudCA9IGdldENyYWZ0ZWRSZXNvdXJjZShtYXRlcmlhbCkudG9GaXhlZCgwKTtcclxuICAgIC8vICAgICBlbHNlIGNvbnNvbGUud2FybihgUmVzb3VyY2UgYnV0dG9uIGZvdW5kIGJ1dCBubyBjb3VudCBzcGFuIGZvcjogJHttYXRlcmlhbH1gKTtcclxuICAgIC8vIH1cclxufVxyXG4iLCJjb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZSgnLi9qc29uL3NraWxscycpO1xyXG5jb25zdCB7IHRyaWdnZXJGbG9hdFVwVGV4dCB9ID0gcmVxdWlyZSgnLi90cmlnZ2VyRmxvYXRVcFRleHQnKTtcclxuXHJcbmZ1bmN0aW9uIGludmVydFNraWxsc1RvUmVzb3VyY2VzKHNraWxscykge1xyXG4gICAgbGV0IHJlc291cmNlVG9Ta2lsbE1hcCA9IHt9O1xyXG5cclxuICAgIGZvciAoY29uc3QgW3NraWxsLCBkYXRhXSBvZiBPYmplY3QuZW50cmllcyhza2lsbHMpKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCByZXNvdXJjZSBvZiBkYXRhLmFmZmVjdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgIGlmICghcmVzb3VyY2VUb1NraWxsTWFwW3Jlc291cmNlXSkge1xyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VUb1NraWxsTWFwW3Jlc291cmNlXSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc291cmNlVG9Ta2lsbE1hcFtyZXNvdXJjZV0ucHVzaChza2lsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXNvdXJjZVRvU2tpbGxNYXA7XHJcbn1cclxuY29uc3QgcmVzb3VyY2VUb1NraWxsTWFwID0gaW52ZXJ0U2tpbGxzVG9SZXNvdXJjZXMoc2tpbGxzKTtcclxuY29uc29sZS5sb2cocmVzb3VyY2VUb1NraWxsTWFwKTtcclxuLyoqXHJcbiAqIFVwZGF0ZSB0aGUgcmVsZXZhbnQgc2tpbGwgb2YgYSByZXNvdXJjZSBpbmNyZWFzZWQgYnkgbnVtXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvdXJjZSBXaGljaCByZXNvdXJjZSB3YXMgdXBkYXRlZFxyXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtIEhvdyBtdWNoIHRoZSByZXNvdXJjZSBpbmNyZWFzZWRcclxuICogQHJldHVybnNcclxuICovXHJcbmZ1bmN0aW9uIHVwZGF0ZVNraWxscyhyZXNvdXJjZSwgbnVtKSB7XHJcbiAgICBudW0gPSBNYXRoLmFicyhudW0pO1xyXG4gICAgaWYgKHJlcXVpcmUoJy4vcG9uZGVyJykuaXNQb25kZXJlZCgnZmFzdGVyU2tpbGxzJykpIG51bSAqPSAxLjA1O1xyXG5cclxuICAgIGlmICghcmVzb3VyY2VUb1NraWxsTWFwW3Jlc291cmNlXSkgcmV0dXJuO1xyXG4gICAgY29uc3Qgc2tpbGwgPSByZXNvdXJjZVRvU2tpbGxNYXBbcmVzb3VyY2VdWzBdLnRvU3RyaW5nKCk7XHJcbiAgICAvLyBtYXggbGV2ZWwgMTAwXHJcbiAgICBpZiAoc2tpbGxzW3NraWxsXS5sZXZlbCA+PSAxMDApIHtcclxuICAgICAgICBza2lsbHNbc2tpbGxdLmxldmVsID0gMTAwO1xyXG4gICAgICAgIHNraWxsc1tza2lsbF0uZXhwID0gMDtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBcclxuICAgIHNraWxsc1tza2lsbF0uZXhwICs9IG51bSAvIE1hdGgucG93KDEuNCwgc2tpbGxzW3NraWxsXS5sZXZlbCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIlVwZGF0aW5nIHNraWxsOlwiICsgc2tpbGwgKyBcIiB0byBcIiArIHNraWxsc1tza2lsbF0uZXhwKVxyXG4gICAgaWYgKHNraWxsc1tza2lsbF0uZXhwID49IDEwMCkge1xyXG5cclxuICAgICAgICBza2lsbHNbc2tpbGxdLmxldmVsICs9IDE7XHJcbiAgICAgICAgc2tpbGxzW3NraWxsXS5leHAgPSAwO1xyXG5cclxuICAgICAgICAvLyBMZXZlbHVwIHBvcHVwXHJcbiAgICAgICAgbGV0IGxldmVsdXAgPSBgTGV2ZWwgdXAhICR7c2tpbGx9IOKGkiAke3NraWxsc1tza2lsbF0ubGV2ZWx9YDtcclxuICAgICAgICBjb25zdCByZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXN0aWdlJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdHJpZ2dlckZsb2F0VXBUZXh0KHJlY3QueCwgcmVjdC55LCBsZXZlbHVwLCAnI0Y0RDAzRicpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIHNraWxscyB0YWJsZSB2aXN1YWxpemF0aW9uXHJcbiAgICBpZiAocmVxdWlyZSgnLi9zdGFnZXMnKS5wYXNzZWRTdGFnZSgnc2tpbGxzVGFibGUnKSkge1xyXG4gICAgICAgIHBvcHVsYXRlU2tpbGxzVGFibGUoKTtcclxuICAgIH1cclxufVxyXG5sZXQgaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSA9IGZhbHNlO1xyXG4vKipcclxuICogRHJhdyB0aGUgc2tpbGxzIHRhYmxlIGFuZCBpbml0aWFsaXplIGlmIG5lZWRlZFxyXG4gKi9cclxuZnVuY3Rpb24gcG9wdWxhdGVTa2lsbHNUYWJsZSgpIHtcclxuICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NraWxsc1RhYmxlJyk7XHJcblxyXG4gICAgLy8gSWYgdGhlIHRhYmxlIGlzIGVtcHR5LCBjcmVhdGUgdGhlIHJvd3MgYW5kIHByb2dyZXNzIGJhcnNcclxuICAgIGlmICghaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiR2VuZXJhdGluZyB0YWJsZSBmb3IgdGhlIGZpcnN0IHRpbWVcIik7XHJcbiAgICAgICAgaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSA9IHRydWU7XHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgICAgIGxldCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICAgICAgICAgIHRyLmlkID0gJ3RyLScgKyBza2lsbDtcclxuICAgICAgICAgICAgLy8gdHIuY2xhc3NMaXN0LmFkZCgndG9vbHRpcCcpO1xyXG4gICAgICAgICAgICAvLyB0ci5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBEZXNjJywgJ2V2YWwoc2tpbGxzW3NraWxsXS5leHApJyk7XHJcbiAgICAgICAgICAgIGxldCB0ZFByb2dyZXNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgdGRQcm9ncmVzcy5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcblxyXG4gICAgICAgICAgICBsZXQgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdwcm9ncmVzc0JhcicpO1xyXG4gICAgICAgICAgICAvLyBpZiAoaXNEYXJrKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBwcm9ncmVzc0Jhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzIyOEIyMic7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgLy8gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICAgICBwcm9ncmVzc0Jhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzUwQzg3OCc7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUuaGVpZ2h0ID0gJzIwcHgnO1xyXG4gICAgICAgICAgICBwcm9ncmVzc0Jhci5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2tpbGwnLCBza2lsbCk7IC8vIEFzc2lnbiBhIGRhdGEgYXR0cmlidXRlIGZvciBpZGVudGlmaWNhdGlvblxyXG5cclxuICAgICAgICAgICAgbGV0IHNraWxsVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBza2lsbFRleHQudGV4dENvbnRlbnQgPSBgW2xldmVsICR7c2tpbGxzW3NraWxsXS5sZXZlbH0gKCR7c2tpbGxzW3NraWxsXS5leHB9JSldICAgJHtza2lsbH1gO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc2V0QXR0cmlidXRlKCdpZCcsICdsZXZlbC0nICsgc2tpbGwpO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc3R5bGUubGVmdCA9ICcxMHB4JztcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTUwJSknO1xyXG5cclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmV4cCA9PSAwICYmIHNraWxsc1tza2lsbF0ubGV2ZWwgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdHIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ZFByb2dyZXNzLmFwcGVuZENoaWxkKHByb2dyZXNzQmFyKTtcclxuICAgICAgICAgICAgdGRQcm9ncmVzcy5hcHBlbmRDaGlsZChza2lsbFRleHQpO1xyXG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZFByb2dyZXNzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBEaXNwbGF5IGV2ZXJ5dGhpbmcgd2UgY2FuXHJcbiAgICAgICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2tpbGxzW3NraWxsXS5leHAgPiAwIHx8IHNraWxsc1tza2lsbF0ubGV2ZWwgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ci0nICsgc2tpbGwpLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZ3Jlc3NCYXJbZGF0YS1za2lsbD1cIiR7c2tpbGx9XCJdYCk7XHJcbiAgICAgICAgICAgIGlmIChwcm9ncmVzc0Jhcikge1xyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9IHNraWxsc1tza2lsbF0uZXhwICsgJyUnO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNraWxsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGV2ZWwtXCIgKyBza2lsbCk7XHJcbiAgICAgICAgICAgICAgICBza2lsbE5hbWUudGV4dENvbnRlbnQgPSBgW2xldmVsICR7c2tpbGxzW3NraWxsXS5sZXZlbH1dICgke01hdGguZmxvb3Ioc2tpbGxzW3NraWxsXS5leHApLnRvRml4ZWQoMCl9JSkgICAke3NraWxsfWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHVwZGF0ZVNraWxscyxcclxuICAgIHBvcHVsYXRlU2tpbGxzVGFibGVcclxuXHJcbn07IiwibGV0IHN0YWdlcyA9IFtdO1xyXG5mdW5jdGlvbiBzZXRTdGFnZShzdGFnZSkge1xyXG4gICAgc3RhZ2VzLnB1c2goc3RhZ2UpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhZ2UgU3RhZ2UgdG8gY2hlY2tcclxuICogQHJldHVybnMgYm9vbGVhbiBpZiBzdGFnZSBpbiBzdGFnZXNcclxuICovXHJcbmZ1bmN0aW9uIHBhc3NlZFN0YWdlKHN0YWdlKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhzdGFnZXMpLmluY2x1ZGVzKHN0YWdlKTtcclxufVxyXG5mdW5jdGlvbiBnZXRBbGxTdGFnZXMoKSB7XHJcbiAgICByZXR1cm4gc3RhZ2VzO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldFN0YWdlcygpIHtcclxuICAgIHdoaWxlIChzdGFnZXMubGVuZ3RoID4gMClcclxuICAgICAgICBzdGFnZXMucG9wKCk7XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzZXRTdGFnZSxcclxuICAgIHBhc3NlZFN0YWdlLFxyXG4gICAgZ2V0QWxsU3RhZ2VzLFxyXG4gICAgcmVzZXRTdGFnZXNcclxufTsiLCIvKiBUT09MUyAqL1xyXG5cclxuXHJcbi8vIExpc3QgdG8gaG9sZCB0aGUgdG9vbHNcclxubGV0IHBsYXllclRvb2xzID0gWydCYXJlIEhhbmRzJ107XHJcblxyXG5cclxuLyoqXHJcbiAqIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIGEgdG9vbCBpcyBwcmVzZW50IGluIHRoZSBsaXN0IFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9vbCBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiBoYXNUb29sKHRvb2wpIHtcclxuICAgIHJldHVybiBwbGF5ZXJUb29scy5pbmNsdWRlcyh0b29sKTtcclxufVxyXG5cclxuLy8gRnVuY3Rpb24gdG8gYWRkIGEgdG9vbCBpZiBpdCdzIG5vdCBhbHJlYWR5IHByZXNlbnRcclxuZnVuY3Rpb24gYWRkVG9vbCh0b29sKSB7XHJcbiAgICAvLyBJZ25vcmUgdG9vbHMgdGhhdCBhcmUganVzdCBudW1iZXJzXHJcbiAgICBpZiAoIWlzTmFOKHRvb2wpICYmIC8vIHVzZSB0eXBlIGNvZXJjaW9uIHRvIHBhcnNlIHRoZSBfZW50aXJldHlfIG9mIHRoZSBzdHJpbmcgKGBwYXJzZUZsb2F0YCBhbG9uZSBkb2VzIG5vdCBkbyB0aGlzKS4uLlxyXG4gICAgICAgICFpc05hTihwYXJzZUZsb2F0KHRvb2wpKSkgLy8gLi4uYW5kIGVuc3VyZSBzdHJpbmdzIG9mIHdoaXRlc3BhY2UgZmFpbFxyXG4gICAge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghaGFzVG9vbCh0b29sKSkge1xyXG4gICAgICAgIHBsYXllclRvb2xzLnB1c2godG9vbCk7XHJcblxyXG4gICAgICAgIHVwZGF0ZVRvb2xVSSh0b29sKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QWxsVG9vbHMoKSB7XHJcbiAgICByZXR1cm4gcGxheWVyVG9vbHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVRvb2xVSSh0b29sKSB7XHJcbiAgICAvLyBVcGRhdGUgdGhlIFVJXHJcbiAgICB2YXIgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvb2xzLWxpc3RcIik7XHJcbiAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICBsaS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0b29sKSk7XHJcbiAgICBpZiAodWwpIHVsLmFwcGVuZENoaWxkKGxpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VG9vbFZhbHVlRm9yUmVzb3VyY2UocmVzb3VyY2UpIHtcclxuICAgIGlmICghcmVzb3VyY2UpIHJldHVybiAxO1xyXG4gICAgaWYgKCFyZXNvdXJjZS50b29scykgcmV0dXJuIDE7XHJcblxyXG4gICAgLy8gU29ydCB0aGUgdG9vbHMgaW4gZGVzY2VuZGluZyBvcmRlciBiYXNlZCBvbiB0aGVpciB2YWxcclxuICAgIGNvbnN0IHNvcnRlZFRvb2xzID0gcmVzb3VyY2UudG9vbHMuc29ydCgoYSwgYikgPT4gYi52YWwgLSBhLnZhbCk7XHJcblxyXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBzb3J0ZWQgdG9vbHNcclxuICAgIGZvciAobGV0IHRvb2wgb2Ygc29ydGVkVG9vbHMpIHtcclxuICAgICAgICBpZiAoaGFzVG9vbCh0b29sLnRvb2wpKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBwbGF5ZXIgaGFzIHRoZSB0b29sLCByZXR1cm4gaXRzIGFzc29jaWF0ZWQgdmFsdWVcclxuICAgICAgICAgICAgcmV0dXJuIHRvb2wudmFsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gSWYgbm9uZSBvZiB0aGUgdG9vbHMgYXJlIGZvdW5kLCByZXR1cm4gdGhlIGRlZmF1bHQgdmFsdWVcclxuICAgIHJldHVybiAxO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGhhc1Rvb2wsXHJcbiAgICBhZGRUb29sLFxyXG4gICAgZ2V0QWxsVG9vbHMsXHJcbiAgICBnZXRUb29sVmFsdWVGb3JSZXNvdXJjZVxyXG59OyIsImNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcblxyXG5jb25zdCByZXNvdXJjZUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzb3VyY2VMaXN0Jyk7XHJcbmNvbnN0IGdvbGRBbW91bnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb2xkQW1vdW50Jyk7XHJcbi8vIGxldCBnb2xkQW1vdW50ID0gMTAwMDsgLy8gU2FtcGxlIHN0YXJ0aW5nIGFtb3VudFxyXG4vLyBjb25zdCB0cmFkZUJvbnVzID0gMC45OyAvLyAxMCUgZGlzY291bnRcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVHJhZGVUYWJsZShyZXNvdXJjZXMpIHtcclxuICAgIGZvciAobGV0IHJlc291cmNlIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICAgICAgY29uc3QgcHJpY2UgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApICsgMTA7IC8vIFJhbmRvbSBwcmljZSBiZXR3ZWVuIDEwIGFuZCAxMTAgZm9yIHRoaXMgZXhhbXBsZS5cclxuXHJcbiAgICAgICAgcm93LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPHRkIGNsYXNzPVwidHJhZGV0ZFwiPiR7cmVzb3VyY2V9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzPVwidHJhZGV0ZFwiPiR7cHJpY2V9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzPVwidHJhZGV0ZFwiIHN0eWxlPVwiZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpyb3c7XCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV5QnRuXCIgZGF0YS1yZXNvdXJjZT1cIiR7cmVzb3VyY2V9XCIgZGF0YS1wcmljZT1cIiR7cHJpY2V9XCI+QnV5PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2VsbEJ0blwiIGRhdGEtcmVzb3VyY2U9XCIke3Jlc291cmNlfVwiIGRhdGEtcHJpY2U9XCIke3ByaWNlfVwiPlNlbGw8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICByZXNvdXJjZUxpc3QuYXBwZW5kQ2hpbGQocm93KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgYnV5IGFuZCBzZWxsIGJ1dHRvbnNcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXlCdG4nKS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yZXNvdXJjZScpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGNvbnN0IHByaWNlID0gcGFyc2VGbG9hdChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJpY2UnKSk7XHJcbiAgICAgICAgICAgIGJ1eVJlc291cmNlKHJlc291cmNlLCBwcmljZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxsQnRuJykuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVzb3VyY2UnKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb25zdCBwcmljZSA9IHBhcnNlRmxvYXQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXByaWNlJykpO1xyXG4gICAgICAgICAgICBzZWxsUmVzb3VyY2UocmVzb3VyY2UsIHByaWNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNpbWlsYXJseSwgeW91IGNhbiBhZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBzZWxsIGJ1dHRvbnMgaGVyZVxyXG59XHJcblxyXG5leHBvcnRzLmdlbmVyYXRlVHJhZGVUYWJsZSA9IGdlbmVyYXRlVHJhZGVUYWJsZTtcclxuXHJcbmV4cG9ydHMuYnV5UmVzb3VyY2UgPSBidXlSZXNvdXJjZTtcclxuZXhwb3J0cy5zZWxsUmVzb3VyY2UgPSBzZWxsUmVzb3VyY2U7XHJcblxyXG5mdW5jdGlvbiBidXlSZXNvdXJjZShyZXNvdXJjZSwgcHJpY2UpIHtcclxuXHJcbiAgICBpZiAoZ2V0TWF0ZXJpYWwoJ2dvbGQnLCByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJykucmVzb3VyY2VzKSA+PSBwcmljZSkge1xyXG4gICAgICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuaW5jcmVhc2VNYXRlcmlhbCgnZ29sZCcsIC1wcmljZSk7XHJcbiAgICAgICAgcmVxdWlyZSgnLi9yZXNvdXJjZXMnKS5pbmNyZWFzZU1hdGVyaWFsKHJlc291cmNlLCBwcmljZSk7XHJcbiAgICAgICAgZ29sZEFtb3VudEVsLnRleHRDb250ZW50ID0gZ2V0TWF0ZXJpYWwoJ2dvbGQnLCByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJykucmVzb3VyY2VzKTtcclxuICAgICAgICAvLyBhbGVydChgWW91IGJvdWdodCAke3Jlc291cmNlfSBmb3IgJHtwcmljZS50b0ZpeGVkKDIpfSBnb2xkIWApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBhbGVydChcIllvdSBkb24ndCBoYXZlIGVub3VnaCBnb2xkIVwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2VsbFJlc291cmNlKHJlc291cmNlLCBwcmljZSkge1xyXG4gICAgaWYgKGdldE1hdGVyaWFsKHJlc291cmNlLCByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJykucmVzb3VyY2VzKSA+PSAxKSB7XHJcblxyXG4gICAgICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuaW5jcmVhc2VNYXRlcmlhbCgnZ29sZCcsIHByaWNlKTtcclxuICAgICAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLmluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2UsIC0xKTtcclxuICAgICAgICBnb2xkQW1vdW50RWwudGV4dENvbnRlbnQgPSBnZXRNYXRlcmlhbCgnZ29sZCcsIHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKS5yZXNvdXJjZXMpO1xyXG4gICAgfVxyXG4gICAgLy8gYWxlcnQoYFlvdSBzb2xkICR7cmVzb3VyY2V9IGZvciAke3ByaWNlLnRvRml4ZWQoMil9IGdvbGQhYCk7XHJcbn0iLCJmdW5jdGlvbiB0cmlnZ2VyRmxvYXRVcFRleHQoeCwgeSwgdGV4dCwgY29sb3IpIHtcclxuICAgIGNvbnN0IGZsb2F0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgZmxvYXRUZXh0LnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIGZsb2F0VGV4dC5zdHlsZS5sZWZ0ID0gYCR7d2luZG93LnNjcm9sbFggKyB4fXB4YDtcclxuICAgIGZsb2F0VGV4dC5zdHlsZS50b3AgPSBgJHt3aW5kb3cuc2Nyb2xsWSArIHkgLSAzMH1weGA7XHJcbiAgICBmbG9hdFRleHQuc3R5bGUuY29sb3IgPSBjb2xvcjtcclxuICAgIGZsb2F0VGV4dC5jbGFzc0xpc3QuYWRkKCdmbG9hdC11cC1mYWRlLW91dCcpO1xyXG5cclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZmxvYXRUZXh0KTtcclxuXHJcbiAgICAvLyBSZW1vdmUgdGhlIGVsZW1lbnQgZnJvbSB0aGUgRE9NIGFmdGVyIHRoZSBhbmltYXRpb24gY29tcGxldGVzXHJcbiAgICBmbG9hdFRleHQuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKCkgPT4ge1xyXG4gICAgICAgIGZsb2F0VGV4dC5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG59XHJcbmV4cG9ydHMudHJpZ2dlckZsb2F0VXBUZXh0ID0gdHJpZ2dlckZsb2F0VXBUZXh0O1xyXG4iLCJjb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKFwiLi9nZXRNYXRlcmlhbFwiKTtcclxuY29uc3QgeyBnZXRNYXggfSA9IHJlcXVpcmUoXCIuL2hlbHBlclwiKTtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUJvdW5jZUFuaW1hdGlvbigpIHtcclxuICAgIGNvbnN0IGFsb25lRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbG9uZScpO1xyXG5cclxuICAgIGlmIChnZXRNYXRlcmlhbCgnY2xvbmVzJykgPCBnZXRNYXgoJ2Nsb25lcycpKSB7XHJcbiAgICAgICAgLy8gQXBwbHkgdGhlIGFuaW1hdGlvblxyXG4gICAgICAgIGFsb25lRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdib3VuY2luZycpO1xyXG5cclxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgYW5pbWF0aW9uIHRvIGNvbXBsZXRlIHBsdXMgYW4gYWRkaXRpb25hbCBkZWxheSwgdGhlbiBjaGVjayB0aGUgY29uZGl0aW9uIGFnYWluXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgYW5pbWF0aW9uIGNsYXNzIHRvIHJlc2V0XHJcbiAgICAgICAgICAgIGFsb25lRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdib3VuY2luZycpO1xyXG4gICAgICAgICAgICB2b2lkIGFsb25lRWxlbWVudC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZSBjYWxsIHRvIHJlLWNoZWNrIHRoZSBjb25kaXRpb24gYW5kIHBvdGVudGlhbGx5IHJlYXBwbHkgdGhlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICB1cGRhdGVCb3VuY2VBbmltYXRpb24oKTtcclxuICAgICAgICB9LCAxMTAwMCk7IC8vIFdhaXQgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uICgxcykgKyBkZWxheSAoMTBzKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBSZW1vdmUgdGhlIGFuaW1hdGlvbiBjbGFzcyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXRcclxuICAgICAgICBhbG9uZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYm91bmNpbmcnKTtcclxuICAgIH1cclxuXHJcbn1cclxuZXhwb3J0cy51cGRhdGVCb3VuY2VBbmltYXRpb24gPSB1cGRhdGVCb3VuY2VBbmltYXRpb247IiwiY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vY2FwaXRhbGl6ZUZpcnN0Jyk7XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50KGJ1aWxkaW5nTmFtZSwgYnVpbGRpbmdDb3VudCwgZW1vamkpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2J1aWxkaW5nTmFtZX1gKS50ZXh0Q29udGVudCA9IGAke2Vtb2ppfSAke2NhcGl0YWxpemVGaXJzdChidWlsZGluZ05hbWUpLnNwbGl0KCdfJykuam9pbignICcpfSAoJHtidWlsZGluZ0NvdW50fSlgO1xyXG5cclxufVxyXG5leHBvcnRzLnVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQgPSB1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50OyIsImNvbnN0IHsgYnVpbGRpbmdzIH0gPSByZXF1aXJlKCcuL2pzb24vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgdXBkYXRlVG9vbHRpcCwgaGlkZVRvb2x0aXAgfSA9IHJlcXVpcmUoJy4vdXBkYXRlVG9vbHRpcCcpO1xyXG4vLyBAdHMtaWdub3JlXHJcbmNvbnN0IHsgZml0Q2hhclRvQ2VsbCB9ID0gcmVxdWlyZSgnLi9maXRDaGFyVG9DZWxsJyk7XHJcblxyXG5jb25zdCBidWlsZGluZ0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVpbGRpbmdMaXN0Jyk7XHJcbi8vIGZ1bmN0aW9uIHVwZGF0ZUJ1aWxkaW5nTGlzdCgpIHtcclxuLy8gICAgIGJ1aWxkaW5nTGlzdC5pbm5lckhUTUwgPSAnJztcclxuLy8gICAgIGxldCBpID0gMDtcclxuLy8gICAgIGNvbnN0IGdyaWRTaXplID0gNjtcclxuLy8gICAgIGNvbnN0IG1heENlbGxXaWR0aCA9IDM2O1xyXG4vLyAgICAgY29uc3QgbWF4Q2VsbEhlaWdodCA9IDQ4O1xyXG4vLyAgICAgY29uc3QgaW5pdGlhbEZvbnRTaXplID0gMzY7IC8vIHN0YXJ0aW5nIGZvbnQgc2l6ZVxyXG5cclxuLy8gICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhidWlsZGluZ3MpKSB7XHJcbi8vICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2YWwuY291bnQ7ICsraiwgKytpKSB7XHJcbi8vICAgICAgICAgICAgIGxldCBjb2wgPSAoaSAlIGdyaWRTaXplICsgMSkudG9TdHJpbmcoKTtcclxuLy8gICAgICAgICAgICAgbGV0IHJvdyA9IE1hdGguZmxvb3IoaSAvIGdyaWRTaXplICsgMSkudG9TdHJpbmcoKTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYmVzdCBmb250IHNpemUgZm9yIHRoaXMgY2hhcmFjdGVyXHJcbi8vICAgICAgICAgICAgIC8vIGNvbnN0IGZvbnRTaXplID0gZml0Q2hhclRvQ2VsbCh2YWwuZW1vamkgfHwgJz8nLCBtYXhDZWxsV2lkdGgsIG1heENlbGxIZWlnaHQsIGluaXRpYWxGb250U2l6ZSk7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBBZGQgdGhlIHNwYW4gd2l0aCB0aGUgY2FsY3VsYXRlZCBmb250IHNpemVcclxuLy8gICAgICAgICAgICAgLy8gYWRkVG9CdWlsZGluZ0xpc3QoY29sLCByb3csIGluaXRpYWxGb250U2l6ZSwga2V5LCB2YWwuZW1vamkpO1xyXG4vLyAgICAgICAgICAgICBidWlsZGluZ0xpc3QuaW5uZXJIVE1MICs9IGA8c3BhbiBjbGFzcyA9ICd0b29sdGlwJyBzdHlsZT0nZ3JpZC1jb2x1bW46JHtjb2x9OyBncmlkLXJvdzoke3Jvd307IGZvbnQtc2l6ZToke2luaXRpYWxGb250U2l6ZX1weCcgdG9vbHRpcERlc2M9JyR7a2V5fSc+JHt2YWwuZW1vamkgfHwgJz8nfTwvc3Bhbj5gO1xyXG5cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vICAgICBidWlsZGluZ0xpc3QucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi50b29sdGlwJykuZm9yRWFjaCgoc3BhbikgPT4ge1xyXG4vLyAgICAgICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcclxuLy8gICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChzcGFuKTtcclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgICAgICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XHJcbi8vICAgICAgICAgICAgIGhpZGVUb29sdGlwKCk7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICB9KTtcclxuLy8gfVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlQnVpbGRpbmdMaXN0KCkge1xyXG4gICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICBjb25zdCBncmlkU2l6ZSA9IDY7XHJcbiAgICBjb25zdCBpbml0aWFsRm9udFNpemUgPSAzNjsgLy8gU3RhcnRpbmcgZm9udCBzaXplXHJcblxyXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5ncykpIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZhbC5jb3VudDsgKytqLCArK2kpIHtcclxuICAgICAgICAgICAgbGV0IGNvbCA9IChpICUgZ3JpZFNpemUgKyAxKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBsZXQgcm93ID0gTWF0aC5mbG9vcihpIC8gZ3JpZFNpemUgKyAxKS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSAndG9vbHRpcCc7XHJcbiAgICAgICAgICAgIHNwYW4uc3R5bGUuZ3JpZENvbHVtbiA9IGNvbDtcclxuICAgICAgICAgICAgc3Bhbi5zdHlsZS5ncmlkUm93ID0gcm93O1xyXG4gICAgICAgICAgICBzcGFuLnN0eWxlLmZvbnRTaXplID0gYCR7aW5pdGlhbEZvbnRTaXplfXB4YDtcclxuICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBEZXNjJywga2V5KTtcclxuICAgICAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IHZhbC5lbW9qaSB8fCAnPyc7XHJcblxyXG4gICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChzcGFuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2xlYXIgdGhlIGV4aXN0aW5nIGNvbnRlbnQgYW5kIGFwcGVuZCB0aGUgbmV3IGNvbnRlbnRcclxuICAgIGJ1aWxkaW5nTGlzdC5pbm5lckhUTUwgPSAnJztcclxuICAgIGJ1aWxkaW5nTGlzdC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XHJcblxyXG4gICAgLy8gRXZlbnQgZGVsZWdhdGlvbiBmb3IgdG9vbHRpcHNcclxuICAgIGJ1aWxkaW5nTGlzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0b29sdGlwJykpIHtcclxuICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChldmVudC50YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHRydWUpO1xyXG5cclxuICAgIGJ1aWxkaW5nTGlzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0b29sdGlwJykpIHtcclxuICAgICAgICAgICAgaGlkZVRvb2x0aXAoKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB0cnVlKTtcclxufVxyXG5cclxuZXhwb3J0cy51cGRhdGVCdWlsZGluZ0xpc3QgPSB1cGRhdGVCdWlsZGluZ0xpc3Q7XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gYnVpbGRpbmdcclxuICovXHJcbi8vIGZ1bmN0aW9uIGFkZFRvQnVpbGRpbmdMaXN0KGtleSwgZW1vamkpIHtcclxuLy8gICAgIGJ1aWxkaW5nTGlzdC5pbm5lckhUTUwgKz0gYDxzcGFuIGNsYXNzID0gJ3Rvb2x0aXAnIHN0eWxlPSdncmlkLWNvbHVtbjoke2NvbH07IGdyaWQtcm93OiR7cm93fTsgZm9udC1zaXplOiR7Zm9udHNpemV9cHgnIHRvb2x0aXBEZXNjPScke2tleX0nPiR7ZW1vamkgfHwgJz8nfTwvc3Bhbj5gO1xyXG5cclxuLy8gfVxyXG4vLyBleHBvcnRzLmFkZFRvQnVpbGRpbmdMaXN0ID0gYWRkVG9CdWlsZGluZ0xpc3Q7IiwiY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKCcuL2pzb24vYnV0dG9ucycpO1xyXG5jb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZUNvbmZpZ0J5SWQgfSA9IHJlcXVpcmUoJy4vanNvbi9jcmFmdGVkUmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgZ2V0QnVpbGRpbmdDb3VudCB9ID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpO1xyXG5jb25zdCB7IGlzUG9uZGVyZWQsIGNhblVubG9jayB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2VLZXlCeUNvbmZpZyB9ID0gcmVxdWlyZShcIi4vanNvbi9jcmFmdGVkUmVzb3VyY2VzXCIpO1xyXG5jb25zdCB7IGlzQnV0dG9uSWRWaXNpYmxlLCBzZXRWaXNpYmxlQnV0dG9uIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IGNhbkNyYWZ0IH0gPSByZXF1aXJlKCcuL2NhbkNyYWZ0Jyk7XHJcbmNvbnN0IHsgY2FuQnV5QnVpbGRpbmcgfSA9IHJlcXVpcmUoJy4vY2FuQnV5QnVpbGRpbmcnKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZSgnLi9zdGFnZXMnKTtcclxuLyoqXHJcbiAqIENoYW5nZXMgdGhlIHN0YXRlcyBvZiBidXR0b25zIGJldHdlZW4gJ2hpZGRlbicsICdwdXJjaGFzYWJsZScsIGFuZCAnYnV0dG9uLWRpc2FibGVkJ1xyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSgpIHtcclxuICAgIGNvbnN0IHNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKTsgLy8gQWRqdXN0IHRoZSBzZWxlY3RvciBhY2NvcmRpbmdseVxyXG5cclxuICAgIHNlbGVjdEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbmZpZyA9IGJ1dHRvbnNbYnV0dG9uLmlkXTsgLyogZ2V0IHRoZSBidXR0b24ncyBjb25maWd1cmF0aW9uIHVzaW5nIGl0cyBkYXRhIGF0dHJpYnV0ZSBvciBJRCwgZXRjLiAqLztcclxuICAgICAgICBpZiAoIWJ1dHRvbkNvbmZpZykgeyAvKmNvbnNvbGUud2Fybignbm8gYnV0dG9uIGNvbmZpZyBmb3VuZCBmb3InLCBidXR0b24sIGJ1dHRvbi5pZCk7ICovcmV0dXJuOyB9XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcsIGJ1dHRvbkNvbmZpZy5yZXF1aXJlbWVudCk7XHJcbiAgICAgICAgLy8gUmVzZXQgYWxsIHN0YXRlcyBmaXJzdFxyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncHVyY2hhc2FibGUnLCAnYnV0dG9uLWRpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZSA9ICdoaWRkZW4nO1xyXG5cclxuICAgICAgICBpZiAoYnV0dG9uLmlkICYmIGlzQnV0dG9uSWRWaXNpYmxlKGJ1dHRvbi5pZCkpIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG4gICAgICAgIC8vIElmIHJlcXVpcmVtZW50IGlzIG1ldCwgaXQgc2hvdWxkIGJlIHZpc2libGVcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBsZXQgZ2V0TWF0ZXJpYWwgPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJykuZ2V0TWF0ZXJpYWw7XHJcbiAgICAgICAgICAgIGlmIChidXR0b25Db25maWcucmVxdWlyZW1lbnQgJiYgYnV0dG9uQ29uZmlnLnJlcXVpcmVtZW50KCkpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgcHVyY2hhc2FibGUgZ2F0aGVyIGJ1dHRvbnNcclxuICAgICAgICAgICAgICAgIGlmIChidXR0b25Db25maWcudGFiICYmICFidXR0b25Db25maWcuZGF0YV9idWlsZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgPT09ICdwcm9kdWN0aW9uJykgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHBvbmRlciBidXR0b25cclxuICAgICAgICAgICAgICAgIGlmIChidXR0b24uaWQgJiYgYnV0dG9uLmlkID09PSAnZ2F0aGVyUG9uZGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBwb25kZXIgdW5sb2Nrc1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgJiYgYnV0dG9uQ29uZmlnLnRhYiA9PT0gJ3BvbmRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24uY2xhc3NMaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmlkICYmIGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3VubG9jaycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5VbmxvY2soYnV0dG9uLmlkKSkgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIHBvbmRlciBidXR0b24gaXMgdW5sb2NrZWQsIGhpZGUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoYnV0dG9uLmdldEF0dHJpYnV0ZSgndW5sb2NrJykpKSBzdGF0ZSA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24sIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdGFiIGJ1dHRvbnMgYWx3YXlzIGVpdGhlciBoaWRkZW4gb3IgZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgJiYgYnV0dG9uQ29uZmlnLnRhYiA9PT0gJ3RhYnMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAndmlzaWJsZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKCdFcnJvciB3aXRoIGNoZWNraW5nIHJlcXVpcmVtZW50IG9mIGJ1dHRvbjogJywgYnV0dG9uQ29uZmlnLCBlcnIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5pZCAmJiBidXR0b25Db25maWcuaWQuc2xpY2UoMCwgNSkgPT09ICdjcmFmdCcpIHtcclxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZW4ndCB1bmxvY2tlZCB0aGUgYnV0dG9uLCBuZXZlciBkaXNwbGF5IGl0XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkNvbmZpZy5yZXF1aXJlZFN0YWdlKTtcclxuICAgICAgICAgICAgLy8gaWYgKGJ1dHRvbkNvbmZpZy5yZXF1aXJlZFN0YWdlICYmICFwYXNzZWRTdGFnZShidXR0b25Db25maWcucmVxdWlyZWRTdGFnZSkpIHtcclxuICAgICAgICAgICAgLy8gICAgIHN0YXRlID0gJ2hpZGRlbic7XHJcblxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIG5ldmVyIGhpZGUgdGhpcyBidXR0b24gb25jZSBpdHMgYmVlbiB1bmxvY2tlZFxyXG4gICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLmNyYWZ0ZWRPbmNlKSBzdGF0ZSA9ICdidXR0b24tZGlzYWJsZWQnO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBjcmFmdGVkID0gZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZChidXR0b25Db25maWcuaWQpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjcmFmdGVkKTtcclxuICAgICAgICAgICAgaWYgKGNyYWZ0ZWQudmFsdWUgPiAwKSBzdGF0ZSA9ICdidXR0b24tZGlzYWJsZWQnO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UgY2FuIGFmZm9yZCB0aGlzIGNyYWZ0LCBpdCBzaG91bGQgYmUgcHVyY2hhc2FibGVcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWcoY3JhZnRlZCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGtleSk7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBpZiAoY2FuQ3JhZnQoa2V5KSlcclxuICAgICAgICAgICAgICAgIGlmICghYnV0dG9uQ29uZmlnLnJlcXVpcmVkU3RhZ2UgfHwgYnV0dG9uQ29uZmlnLnJlcXVpcmVkU3RhZ2UgJiYgcGFzc2VkU3RhZ2UoYnV0dG9uQ29uZmlnLnJlcXVpcmVkU3RhZ2UpKSBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHN0YXRlID0gJ2hpZGRlbic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB3ZSBjYW4gYWZmb3JkIHRoaXMgYnVpbGRpbmcsIGl0IHNob3VsZCBiZSBwdXJjaGFzYWJsZVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkNvbmZpZyk7XHJcbiAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5kYXRhX2J1aWxkaW5nKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgcHVyY2hhc2VkIGEgYnVpbGRpbmcsIGl0IHNob3VsZCBiZSB2aXNpYmxlXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBzdGF0ZSA9IGdldEJ1aWxkaW5nQ291bnQoYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcpID8gJ2J1dHRvbi1kaXNhYmxlZCcgOiBzdGF0ZTtcclxuICAgICAgICAgICAgLy8gRmluZCB0aGUgYnVpbGRpbmcgY29zdFxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b25Db25maWcpO1xyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgc3RhdGUgPSBjYW5CdXlCdWlsZGluZyhidXR0b25Db25maWcuZGF0YV9idWlsZGluZykgPyAncHVyY2hhc2FibGUnIDogc3RhdGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBoaWRkZW4gaXMgbWV0LCBpdCBzaG91bGQgYmUgaGlkZGVuXHJcbiAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5oaWRlKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gYnV0dG9uQ29uZmlnLmhpZGUoKSA/ICdoaWRkZW4nIDogc3RhdGU7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBjdXJyZW50IHN0YXRlXHJcbiAgICAgICAgaWYgKHN0YXRlICE9PSAnJykgYnV0dG9uLmNsYXNzTGlzdC5hZGQoc3RhdGUpO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgc3RhdGUgaXMgbm90LXB1cmNoYXNhYmxlLCBkaXNhYmxlIHRoZSBidXR0b25cclxuICAgICAgICAvLyBidXR0b24uZGlzYWJsZWQgPSBzdGF0ZSA9PT0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB0b29sdGlwIGZvciB0aGlzIGJ1dHRvbiBpZiBpdHMgYWN0aXZlXHJcbiAgICAgICAgLy8gaWYgKGJ1dHRvbiA9PT0gY3VycmVudEhvdmVyQnV0dG9uKSB1cGRhdGVUb29sdGlwKGJ1dHRvbik7XHJcbiAgICAgICAgLy8gSWYgdGhlIHN0YXRlIGlzIGhpZGRlbiwgc2V0IHRoZSBidXR0b24ncyBkaXNwbGF5IHRvIG5vbmVcclxuICAgICAgICBpZiAoc3RhdGUgPT09ICdoaWRkZW4nKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdoaWRpbmcnLCBidXR0b24pO1xyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxsIHZpc2libGUgJywgYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgc2V0VmlzaWJsZUJ1dHRvbihidXR0b24uaWQpO1xyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICcnOyAvLyBUaGlzIHdpbGwgcmV2ZXJ0IGl0IGJhY2sgdG8gaXRzIG9yaWdpbmFsIGRpc3BsYXkgc3RhdGUgb3IgZGVmYXVsdCAoZS5nLiwgJ2Jsb2NrJyBvciAnaW5saW5lLWJsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9iLWJ1dHRvbicpLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgICBjb25zdCBqb2IgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWpvYicpO1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncHVyY2hhc2FibGUnLCAnYnV0dG9uLWRpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgY29uc3QgcmVxUG9uZGVyID0gKHJlcXVpcmUoJy4vam9iUmVxdWlyZWRQb25kZXJzJykuam9iUmVxdWlyZWRQb25kZXJzKVtqb2JdO1xyXG4gICAgICAgIGlmIChyZXFQb25kZXIgPT09IG51bGwgfHwgcmVxUG9uZGVyID09PSB1bmRlZmluZWQpIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICBlbHNlIGlmIChpc1BvbmRlcmVkKHJlcVBvbmRlcikpIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICBlbHNlIGlmIChyZXFQb25kZXIgPT09ICdub3QtdW5sb2NrYWJsZScpIHN0YXRlID0gJ2hpZGRlbic7XHJcbiAgICAgICAgZWxzZSBzdGF0ZSA9ICdidXR0b24tZGlzYWJsZWQnO1xyXG5cclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coam9iLCBidXR0b24sIHJlcVBvbmRlciwgc3RhdGUpO1xyXG4gICAgICAgIC8vIGJ1dHRvbi5jbGFzc0xpc3QuXHJcbiAgICAgICAgaWYgKHN0YXRlID09PSAnaGlkZGVuJykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaGlkaW5nJywgYnV0dG9uKTtcclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsbCB2aXNpYmxlICcsIGJ1dHRvbi5pZCk7XHJcbiAgICAgICAgICAgIHNldFZpc2libGVCdXR0b24oYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoc3RhdGUpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJyc7IC8vIFRoaXMgd2lsbCByZXZlcnQgaXQgYmFjayB0byBpdHMgb3JpZ2luYWwgZGlzcGxheSBzdGF0ZSBvciBkZWZhdWx0IChlLmcuLCAnYmxvY2snIG9yICdpbmxpbmUtYmxvY2snKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmV4cG9ydHMudXBkYXRlQnV0dG9uVmlzaWJpbGl0eSA9IHVwZGF0ZUJ1dHRvblZpc2liaWxpdHk7IiwiY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIik7XHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZShcIi4vanNvbi9wb25kZXJcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzLCBnZXRSZXNvdXJjZUNvbmZpZ0J5SWQgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBjYWxjU2Vjb25kc1JlbWFpbmluZyB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBnZXRNYXggfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmNvbnN0IHRvb2x0aXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHluYW1pYy10b29sdGlwJyk7XHJcbmZ1bmN0aW9uIHNob3dUb29sdGlwKHRhcmdldCwgZGVzYywgZWZmZWN0LCBjb3N0KSB7XHJcbiAgICBsZXQgY29udGVudCA9ICcnO1xyXG5cclxuICAgIGlmIChkZXNjKSB7XHJcbiAgICAgICAgY29udGVudCArPSBgPHNwYW4gPiR7ZGVzY308L3NwYW4+PGhyPmA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVmZmVjdCkge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gYDxzcGFuIHN0eWxlPVwiY29sb3I6IzRjZlwiPiR7ZWZmZWN0fTwvc3Bhbj48aHI+YDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzTWF0ZXJpYWxzKGh0bWxTdHJpbmcsIHJlc291cmNlcykge1xyXG4gICAgICAgIC8vIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBleHRyYWN0IG1hdGVyaWFsIGFuZCBhbW91bnRcclxuICAgICAgICBjb25zdCByZWdleCA9IC9jbGFzcz1cInRvb2x0aXAtKFxcdyspIC4rP1wiPihbXFxkLl0rW0tNXT8pXFxzKFxcdyspPC9nO1xyXG4gICAgICAgIGxldCBtYXRjaDtcclxuICAgICAgICBsZXQgcHJvY2Vzc2VkU3RyaW5nID0gJyc7XHJcblxyXG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKGh0bWxTdHJpbmcpKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG1hdGNoWzFdO1xyXG4gICAgICAgICAgICBjb25zdCBhbW91bnRUZXh0ID0gbWF0Y2hbMl07XHJcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlQW1vdW50KGFtb3VudFRleHQpOyAvLyBDb252ZXJ0ICcxMjFLJyB0byAxMjEwMDAsIGZvciBleGFtcGxlXHJcblxyXG4gICAgICAgICAgICAvLyBQZXJmb3JtIHlvdXIgbG9naWMgaGVyZVxyXG4gICAgICAgICAgICBjb25zdCBoYXNFbm91Z2ggPSBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSA+PSBhbW91bnQ7XHJcbiAgICAgICAgICAgIHZhciBjb2xvckNsYXNzID0gaGFzRW5vdWdoID8gJ2Vub3VnaCcgOiAnbm90LWVub3VnaCc7XHJcbiAgICAgICAgICAgIGlmIChnZXRNYXgobWF0ZXJpYWwpIDwgYW1vdW50KSBjb2xvckNsYXNzID0gJ2V4Y2VlZHMtbWF4JztcclxuXHJcbiAgICAgICAgICAgIHByb2Nlc3NlZFN0cmluZyArPSBgPHNwYW4gY2xhc3M9XCJ0b29sdGlwLSR7bWF0ZXJpYWx9ICR7Y29sb3JDbGFzc31cIj4ke2Ftb3VudFRleHR9ICR7bWF0ZXJpYWx9PC9zcGFuPmA7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2Vjb25kc1JlbWFpbmluZyA9IDA7XHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbbWF0ZXJpYWxdKSBzZWNvbmRzUmVtYWluaW5nID0gY2FsY1NlY29uZHNSZW1haW5pbmcobWF0ZXJpYWwsIGFtb3VudCk7XHJcbiAgICAgICAgICAgIGlmIChzZWNvbmRzUmVtYWluaW5nID4gMCAmJiBjb2xvckNsYXNzICE9ICdleGNlZWRzLW1heCcpIHtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZFN0cmluZyArPSBgPHNwYW4gY2xhc3M9XCJ0aW1lLXJlbWFpbmluZ1wiPigke3NlY29uZHNSZW1haW5pbmcudG9GaXhlZCgwKX0gc2Vjb25kcyk8L3NwYW4+YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcm9jZXNzZWRTdHJpbmcgKz0gYDxicj5gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NlZFN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgYW1vdW50cyBsaWtlICcxMjFLJyBpbnRvIG51bWJlcnNcclxuICAgIGZ1bmN0aW9uIHBhcnNlQW1vdW50KGFtb3VudFRleHQpIHtcclxuICAgICAgICBsZXQgYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnRUZXh0KTtcclxuICAgICAgICBpZiAoYW1vdW50VGV4dC5pbmNsdWRlcygnSycpKSB7XHJcbiAgICAgICAgICAgIGFtb3VudCAqPSAxZTM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhbW91bnRUZXh0LmluY2x1ZGVzKCdNJykpIHtcclxuICAgICAgICAgICAgYW1vdW50ICo9IDFlNjtcclxuICAgICAgICB9IGVsc2UgaWYgKGFtb3VudFRleHQuaW5jbHVkZXMoJ0InKSkge1xyXG4gICAgICAgICAgICBhbW91bnQgKj0gMWU5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW1vdW50O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb3N0KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Nvc3Qgb2YgdG9vbHRpcDonLCBjb3N0KTtcclxuICAgICAgICAgICAgaWYgKGNvc3QudG9TdHJpbmcoKS5pbmNsdWRlcygnc3BhbicpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb250ZW50ICs9IGA8c3BhbiBzdHlsZT1cImNvbG9yOiNGNEQwM0ZcIj4ke2Nvc3R9PC9zcGFuPjxicj5gO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3J1bm5pbmcgcHJvY21hdCBmb3IgJywgY29zdCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50ICs9IHByb2Nlc3NNYXRlcmlhbHMoY29zdCwgcmVzb3VyY2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHIgPSAnJztcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW21hdGVyaWFsLCBhbW91bnRdIG9mIE9iamVjdC5lbnRyaWVzKGNvc3QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgbWF0ZXJpYWwgPSByZXE7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzRW5vdWdoID0gZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPj0gYW1vdW50OyAvKiBZb3VyIGxvZ2ljIHRvIGNoZWNrIGlmIHRoZXJlJ3MgZW5vdWdoIG9mIHRoZSBtYXRlcmlhbCAqLy8qIFlvdXIgbG9naWMgdG8gY2hlY2sgaWYgdGhlcmUncyBlbm91Z2ggb2YgdGhlIG1hdGVyaWFsICovO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2xvckNsYXNzID0gaGFzRW5vdWdoID8gJ2Vub3VnaCcgOiAnbm90LWVub3VnaCc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldE1heChtYXRlcmlhbCkgPCBhbW91bnQpIGNvbG9yQ2xhc3MgPSAnZXhjZWVkcy1tYXgnO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSBgPHNwYW4gY2xhc3M9XCJ0b29sdGlwLSR7bWF0ZXJpYWx9ICR7Y29sb3JDbGFzc31cIj4ke2Ftb3VudC50b0ZpeGVkKDApfSAke21hdGVyaWFsfTwvc3Bhbj5gO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2Vjb25kc1JlbWFpbmluZyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1ttYXRlcmlhbF0pIHNlY29uZHNSZW1haW5pbmcgPSBjYWxjU2Vjb25kc1JlbWFpbmluZyhtYXRlcmlhbCwgYW1vdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzZWNvbmRzUmVtYWluaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2Vjb25kc1JlbWFpbmluZyA+IDAgJiYgY29sb3JDbGFzcyAhPSAnZXhjZWVkcy1tYXgnKSB7IHN0ciArPSBgPHNwYW4gY2xhc3M9XCJ0aW1lLXJlbWFpbmluZ1wiPigkeyhzZWNvbmRzUmVtYWluaW5nKS50b0ZpeGVkKDApfSBzZWNvbmRzKTwvc3Bhbj5gOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyICs9IGA8YnI+YDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gc3RyO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAoY29zdCAhPT0gdW5kZWZpbmVkICYmIGNvc3QgIT09ICd1bmRlZmluZWQnKSBjb250ZW50ICs9IGNvc3Q7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJDb3VsZG4ndCBtYWtlIG5vcm1hbCBjb3N0IGZvciBidXR0b246IFwiLCB0YXJnZXQsIGNvc3QsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZyh0YXJnZXQsIGNvbnRlbnQpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdG9vbHRpcC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdG9vbHRpcC5zdHlsZS5sZWZ0ID0gKHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCArIDUpICsgJ3B4JztcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRvb2x0aXAuc3R5bGUudG9wID0gKHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSB0b29sdGlwLm9mZnNldEhlaWdodCAvIDIpICsgJ3B4JztcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVUb29sdGlwKCkge1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG59XHJcbmV4cG9ydHMuaGlkZVRvb2x0aXAgPSBoaWRlVG9vbHRpcDtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKSB7XHJcbiAgICBjb25zdCBkZXNjID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWRlc2MnKSB8fCBidXR0b24uZ2V0QXR0cmlidXRlKCd0b29sdGlwRGVzYycpO1xyXG4gICAgY29uc3QgZWZmZWN0ID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWVmZmVjdCcpO1xyXG4gICAgLy8gY29uc3QgY29zdCA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1jb3N0Jyk7XHJcbiAgICBjb25zdCBjb25maWcgPSBnZXRSZXNvdXJjZUNvbmZpZ0J5SWQoYnV0dG9uLmlkKSB8fCBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkKGJ1dHRvbi5pZCkgfHwgYnVpbGRpbmdzW2J1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGFfYnVpbGRpbmcnKV0gfHwgcG9uZGVyc1tidXR0b24uZ2V0QXR0cmlidXRlKCd1bmxvY2snKV07XHJcbiAgICAvLyBjb25zb2xlLmxvZyhjb25maWcpO1xyXG4gICAgY29uc3QgY29zdCA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBDb3N0JykgfHwgYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnKSB8fCAoY29uZmlnICYmIGNvbmZpZy5jb3N0KTtcclxuICAgIHNob3dUb29sdGlwKGJ1dHRvbiwgZGVzYywgZWZmZWN0LCBjb3N0KTtcclxufVxyXG5leHBvcnRzLnVwZGF0ZVRvb2x0aXAgPSB1cGRhdGVUb29sdGlwO1xyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQxNzk6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gKGNodW5rSWQpID0+IChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPT09IDApO1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IChwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDA7XG5cdGlmKGNodW5rSWRzLnNvbWUoKGlkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2lkXSAhPT0gMCkpKSB7XG5cdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihydW50aW1lKSB2YXIgcmVzdWx0ID0gcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0fVxuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKCk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua2Nsb25lX2lkbGVcIl0gPSBzZWxmW1wid2VicGFja0NodW5rY2xvbmVfaWRsZVwiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzEzXSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oODA4KSkpXG5fX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuIl0sIm5hbWVzIjpbImRlZmVycmVkIiwiZXhwb3J0cyIsIkdhbWVTaW11bGF0b3IiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJnYW1lU3RhdGUiLCJyZXNvdXJjZXMiLCJjbG9uZXMiLCJzdGlja3MiLCJ2aW5lcyIsInJvY2tzIiwiZmlzaCIsIndvb2QiLCJwb25kZXIiLCJvcmUiLCJzYW5kIiwid2hlYXQiLCJmcmVzaHdhdGVyIiwiaGlkZXMiLCJjbGF5IiwiaGVyYnMiLCJnYW1lIiwiaHVza3MiLCJ2aW9sZW5jZSIsInNoYXJwcm9ja3MiLCJyb3BlIiwiaGFuZGxlIiwic3RhZmYiLCJmaXNoaW5ncm9kIiwic3BlYXIiLCJheGUiLCJwaWNrYXhlIiwiZ2xhc3MiLCJwYXBlciIsImdvbGQiLCJpcm9uIiwic2lsdmVyIiwiYnJpY2tzIiwiYnJlYWQiLCJzdGVlbCIsImJlYW1zIiwiY3JhdGVzIiwibmFpbHMiLCJzbGFicyIsIm1lZGljaW5lIiwibGVhdGhlciIsImNvbmNyZXRlIiwibWF4ZXMiLCJidWlsZGluZ3MiLCJhbmltYWxfcGVuIiwiYmFrZXJ5IiwiYmFybiIsImJhcnJhY2tzIiwiY2FtcGZpcmUiLCJkZXNrIiwiZHJ5aW5nX3JhY2tzIiwiZmlzaF90cmFwcyIsImZpc2hlcnkiLCJmb3JnZSIsImdhcmRlbiIsImdyb3ZlIiwiaGVyYmFsaXN0X2h1dCIsImhvc3BpdGFsIiwiaG91c2UiLCJodXQiLCJpcnJpZ2F0aW9uIiwibGlicmFyeSIsImx1bWJlcl95YXJkIiwibWFya2V0cGxhY2UiLCJtaWxpdGFyeV9zY2hvb2wiLCJtaW5lIiwib2JzZXJ2YXRvcnkiLCJyZXNlcnZvaXIiLCJyb2NrX3JvbGUiLCJzYW5kX3Njb29wIiwic2hlZCIsInNoZWx0ZXIiLCJzdG9ja3BpbGUiLCJzdG9uZV9kZXBvdCIsInN0b25lX3F1YXJyeSIsInRhbm5lcnkiLCJ0ZWVwZWUiLCJ0ZWxlc2NvcGUiLCJ0b3dlciIsInRyYXBzIiwidmluZXlhcmQiLCJ3YXJlaG91c2UiLCJ3YXRlcl9wdW1wIiwid2luZG1pbGwiLCJ3b3Jrc2hvcCIsInRpbWUiLCJsb2ciLCJidWlsZGluZ3NDb25zdCIsImJ1eUJ1aWxkaW5nIiwiYnVpbGRpbmdOYW1lIiwiY29zdCIsImtleSIsInZhbHVlIiwiT2JqZWN0IiwiZW50cmllcyIsImJhc2Vjb3N0IiwiTWF0aCIsInBvdyIsInJhdGlvIiwiY2FuQnV5IiwiYyIsInN0b3JhZ2UiLCJpbmNsdWRlcyIsInIiLCJ2YWwiLCJlZmZlY3RzIiwic2ltdWxhdGVUaWNrIiwicGVyZm9ybUFjdGlvbnMiLCJ1cGRhdGVSZXNvdXJjZXMiLCJsb2dHYW1lU3RhdGUiLCJob3VzaW5nIiwiYnVpbGRpbmdQcmlvcml0eSIsImIiLCJ2YWx1ZXMiLCJlcnJvciIsImNvbnNvbGUiLCJyZXNvdXJjZXNUb0dhdGhlciIsImkiLCJnYXRoZXJpbmciLCJsZW5ndGgiLCJrZXlzIiwicmFuZG9tIiwicHVzaCIsIndhcm4iLCJzdGF0ZUNvcHkiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJydW5TaW11bGF0aW9uIiwiZHVyYXRpb24iLCJvdXRwdXRSZXN1bHRzIiwiY3N2RGF0YSIsImRhdGEiLCJidWlsZGluZ3NLZXlzIiwicmVzb3VyY2VzS2V5cyIsImhlYWRlciIsImZpbHRlciIsImNzdiIsImpvaW4iLCJmb3JFYWNoIiwicm93IiwibWFwIiwiaGFzT3duUHJvcGVydHkiLCJjb252ZXJ0VG9DU1YiLCJibG9iIiwiQmxvYiIsInR5cGUiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJsaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwidGV4dENvbnRlbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJ0YWJsZSIsImF0ZUZpc2giLCJtb2R1bGUiLCJzZXRBdGVGaXNoIiwiYm9vbCIsImdldEF0ZUZpc2giLCJtdXNpY1ZvbHVtZSIsImdldE11c2ljVm9sdW1lIiwic2Z4Vm9sdW1lIiwiZ2V0U2Z4Vm9sdW1lIiwic2V0TXVzaWNWb2x1bWUiLCJ2b2wiLCJzZXRTZnhWb2x1bWUiLCJwbGF5U291bmQiLCJmaWxlbmFtZSIsImlzU2Z4IiwiYXVkaW8iLCJBdWRpbyIsInZvbHVtZSIsInBsYXkiLCJpc1BvcEJ1aWxkaW5nIiwiaW5jcmVhc2VNYXRlcmlhbCIsImluY3JlYXNlTWF4IiwidXBkYXRlVG90YWwiLCJoYXNQZXJrIiwiZ2V0TWF0ZXJpYWwiLCJwYXNzZWRTdGFnZSIsInJlY2FsY01heENsb25lcyIsInVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQiLCJyZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCIsImNhbkJ1eUJ1aWxkaW5nIiwiaXNQb25kZXJlZCIsInVwZGF0ZUJ1aWxkaW5nTGlzdCIsImNhcGl0YWxpemVGaXJzdCIsInBvbmRlcnMiLCJsb2dFdmVudCIsImdldEFuYWx5dGljcyIsImdldFBsYXllclVpZCIsInRyaWdnZXJGbG9hdFVwVGV4dCIsImJ1aWxkaW5nIiwiY291bnQiLCJyZXNvdXJjZSIsImFtb3VudCIsImJvb3N0IiwicmF0ZUVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyaWdodCIsImJvdHRvbSIsImVtb2ppIiwiYnVpbGRpbmdfbmFtZSIsInVzZXJfaWQiLCJnZW5lcmF0ZUJ1aWxkaW5nVG9vbHRpcENvc3QiLCJtYXRlcmlhbCIsInRvRml4ZWQiLCJjcmVhdGVCdWlsZGluZ0J1dHRvbiIsImJ1aWxkaW5nS2V5IiwiY29zdHMiLCJyZXF1aXJlbWVudEZ1bmN0aW9uIiwiY29zdENvbmRpdGlvbiIsImV2ZXJ5IiwiZmxvb3IiLCJjcmVhdGVSZXF1aXJlbWVudEZ1bmN0aW9uIiwidG9vbHRpcERlc2MiLCJidXlNYXhCdWlsZGluZ3MiLCJnZW5lcmF0ZUVmZmVjdFN0cmluZyIsImVmZmVjdFBhcnRzIiwicGVyY2VudGFnZUJvb3N0Iiwicm91bmQiLCJwb25kZXJJZCIsInN0YXJ0c1dpdGgiLCJjcmFmdGVkUmVzb3VyY2VzIiwic2tpbGxzIiwiZ2V0V29ya2VycyIsImdldEZhY3RvcnlQcm9kdWN0aW9uIiwiaGFzUHJlc3RpZ2UiLCJnZXRMZXZlbE9mUHJlc3RpZ2UiLCJoYXNUb29sIiwicGVya0Jvb3N0cyIsInNraWxsQm9vc3RzIiwicmVzb3VyY2VUb29sTWFwIiwiY2FsY0luY3JlYXNlIiwicmVzb3VyY2VOYW1lIiwiZGVsdGFfdGltZSIsInRvdGFsIiwicGFyc2VGbG9hdCIsImlzR2V0dGluZyIsImNsb25lTXVsdCIsInBlcmsiLCJhcHBseVBlcmtCb29zdCIsInNraWxsIiwiYm9vc3RzIiwiYWZmZWN0ZWRSZXNvdXJjZXMiLCJza2lsbFJhdGlvIiwibXVsdCIsImxldmVsIiwiYXBwbHlTa2lsbEJvb3N0IiwiYm9vc3REYXRhIiwiaW5jcmVhc2UiLCJ0b29sTmFtZSIsImxvZzEwIiwiYXBwbHlUb29sQm9vc3QiLCJhcHBseVBvbmRlckJvbnVzZXMiLCJzcXJ0IiwiY2FuQ3JhZnQiLCJyZXNvdXJjZUtleSIsInJlcXVpcmVtZW50cyIsIm1hdCIsInN0ciIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJtZXNzYWdlRWxlbWVudCIsImNoYW5nZU1lc3NhZ2UiLCJuZXdNZXNzYWdlIiwiY2xvbmVXb3JkcyIsInRvb2x0aXAiLCJtb2RpZmllZE1lc3NhZ2UiLCJyZXBsYWNlIiwiaW5uZXJIVE1MIiwibG9vdFRhYmxlIiwicHJvYmFiaWxpdHkiLCJxdWFudGl0eSIsImN1cnJMb290IiwiZ2V0Q3Vyckxvb3QiLCJnZW5lcmF0ZUxvb3QiLCJsb290IiwiYXJlbmEiLCJjcmVhdGVCYWxscyIsInRlYW0iLCJiYWxsIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJsZWZ0IiwidG9wIiwicGxheWVyVHJvb3BzIiwiZW5lbXlUcm9vcHMiLCJhbmltYXRpb25zIiwiYW5pbVRpbWUiLCJzdGFydEFuaW1hdGlvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0YXJnZXRYIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJvZmZzZXRXaWR0aCIsImFuaW1hdGUiLCJ0cmFuc2Zvcm0iLCJmaWxsIiwiZmluaXNoZWQiLCJ0aGVuIiwicmVtb3ZlIiwidXBkYXRlIiwic2V0VGltZW91dCIsInBsYXllckJhbGxzIiwiZW5lbXlCYWxscyIsImhhc1Jld2FyZGVkIiwiY2hlY2tGb3JXaW4iLCJiYXR0bGVSZXN1bHQiLCJjb21iYXRSZXN1bHQiLCJmaWdodEJ1dHRvbiIsImRpc2FibGVkIiwic3RhbmNlTXVsdCIsImdldFN0YW5jZSIsImxvb3ROYW1lIiwicGxheWVyV29uUHJldmlvdXNCYXR0bGUiLCJlbmVteU1pZ2h0IiwiZ2V0TmV4dEJhdHRsZU1pZ2h0IiwicmVmcmVzaFZhbHVlcyIsImlzQ29sbGlkaW5nIiwiYmFsbDEiLCJiYWxsMiIsInJlY3QxIiwicmVjdDIiLCJwbGF5ZXIiLCJlbmVteSIsImoiLCJwbGF5ZXJCYWxsIiwiZW5lbXlCYWxsIiwiZ2V0Q3VyckVuZW15TWlnaHQiLCJjYWxjdWxhdGVQbGF5ZXJNaWdodCIsImNoYW5jZVNwcmVhZCIsImRldGVjdENvbGxpc2lvbnMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYWxjUm91bmRpbmciLCJwbGF5ZXJNaWdodCIsInBsYXllclJvdW5kaW5nIiwiY2VpbCIsImVuZW15Um91bmRpbmciLCJoaWdoZXJSb3VuZGluZyIsIm1heCIsInBsYXllckNvdW50IiwiZW5lbXlDb3VudCIsInRvU3RyaW5nIiwicXVlcnlTZWxlY3RvciIsIm1pZ2h0IiwicGxheWVyTWlnaHRFbGVtZW50IiwiZW5lbXlNaWdodEVsZW1lbnQiLCJjYWxjdWxhdGVXaW5DaGFuY2UiLCJjaGFuY2UiLCJzZXRBdHRyaWJ1dGUiLCJjaGFuY2VFbGVtZW50IiwiY29sb3IiLCJzdGFuY2UiLCJzdGFuY2VCdXR0b25zIiwic3dpdGNoU3RhbmNlIiwibmV3U3RhbmNlIiwiZWxlbWVudCIsInNldFN0YW5jZSIsImxvb3RMaXN0Iiwid2luZG93IiwiY29tYmF0IiwicGF1c2VBbmltYXRpb24iLCJwYXVzZSIsInNpbXVsYXRlQmF0dGxlIiwicGxheWVyQ2hhbmNlIiwiY2FsY3VsYXRlQmF0dGxlUmVzdWx0Iiwic2V0RW5lbXlNaWdodCIsInN3aXRjaGVkTWFudWZhY3R1cmVkTWFwIiwiYWxsTWF0ZXJpYWxzIiwiYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nIiwiYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nIiwidXBkYXRlRmFjdG9yeVJlc291cmNlVHJhY2tpbmciLCJvbGRQcm9kdWNlZCIsIm5ld1Byb2R1Y2VkIiwiQXJyYXkiLCJmcm9tIiwiY3JlYXRlRmFjdG9yeURpdiIsImZhY3Rvcmllc0NvbnRhaW5lciIsImZhY3RvcnlEaXYiLCJsZWZ0VGV4dCIsImFkZCIsInJpZ2h0U2VsZWN0Iiwib3B0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImN1cnJlbnRQcm9kdWNlZCIsImdldEF0dHJpYnV0ZSIsImFycm93Iiwic2VsZWN0RWxlbWVudCIsInRleHQiLCJpbml0aWFsT3B0aW9uIiwic2VsZWN0ZWQiLCJhZGRJbml0aWFsT3B0aW9uIiwibWFudWZhY3R1cmVCdWxrIiwiYnVsa1VwZ3JhZGVDb3N0IiwibmV3RmFjdG9yeVNpbHZlckNvc3QiLCJhdHRlbXB0TWFudWZhY3R1cmUiLCJmYWN0b3J5IiwiZ29hbFJlc291cmNlIiwidHJhY2UiLCJhcnIiLCJudW0iLCJtaW4iLCJtYW51ZmFjdHVyZSIsImJ1eUZhY3RvcnkiLCJidXlGYWN0b3J5QnV0dG9uIiwidXBncmFkZUJ1bGsiLCJsb2FkRmFjdG9yeSIsImNyYWZ0aW5nIiwiZGl2IiwiZml0Q2hhclRvQ2VsbCIsImNoYXIiLCJjZWxsV2lkdGgiLCJjZWxsSGVpZ2h0IiwiaW5pdGlhbEZvbnRTaXplIiwic3BhbiIsImZvbnRTaXplIiwicG9zaXRpb24iLCJ3aGl0ZVNwYWNlIiwidmlzaWJpbGl0eSIsImN1cnJlbnRGb250U2l6ZSIsIm9mZnNldEhlaWdodCIsInJlbW92ZUNoaWxkIiwidXBkYXRlRGlzcGxheVZhbHVlIiwic2lkZWJhclBhcmVudCIsImVtb2ppR2F0aGVyRGl2IiwidG9nZ2xlUmVzb3VyY2UiLCJnYXRoZXJBdWRpbyIsInNpZGViYXJUZXh0IiwicmVzb3VyY2VCdXR0b24iLCJkZWZhdWx0VGV4dCIsImZvbnRXZWlnaHQiLCJyQnV0dG9uIiwic3RvcEFsbEdhdGhlcmluZyIsImFjdGl2ZVRleHQiLCJidXR0b25zIiwiZ2VuZXJhdGVUb29sdGlwQ29zdCIsInNob3dUYWIiLCJjcmVhdGVTdHlsZWRDb2x1bW5zIiwicGFyZW50IiwiY29sdW1ucyIsImNvbCIsIndpZHRoIiwiZGlzcGxheSIsInByZXBlbmQiLCJjcmVhdGVCdXR0b25FbGVtZW50IiwiYnRuIiwiYnV0dG9uRWxlbWVudCIsImlkIiwiY2xhc3MiLCJzcGxpdCIsInRvb2x0aXBFZmZlY3QiLCJ1bmxvY2siLCJkYXRhX2J1aWxkaW5nIiwiZ2VuZXJhdGVCdXR0b25zIiwiYnV0dG9uIiwidGFic0NvbnRhaW5lciIsInByb2R1Y3Rpb25Db250YWluZXIiLCJleHBlcmltZW50Q29udGFpbmVyIiwicG9uZGVyQ29udGFpbmVyIiwiZXhwZXJpbWVudENvbHVtbnMiLCJwcm9kdWN0aW9uQ29sdW1uSW5kZXgiLCJleHBlcmltZW50Q29sdW1uSW5kZXgiLCJwb25kZXJDb2x1bW5JbmRleCIsImNyYWZ0ZWRSZXNvdXJjZSIsImZpbmQiLCJ0b29sdGlwQ29zdCIsInRhYiIsImdyaWRDb2x1bW4iLCJyZXF1aXJlbWVudCIsImVyciIsInBvc3NpYmxlUmVzb3VyY2VzIiwicG9zc2libGVDcmFmdGVkUmVzb3VyY2VzIiwiZ2V0UmFuZG9tTnVtYmVyIiwiZ2V0UmFuZG9tRW1vamkiLCJyYW5nZXMiLCJzdGFydCIsImVuZCIsInJhbmRvbVJhbmdlIiwicmFuZG9tVW5pY29kZSIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJhZGplY3RpdmVzIiwiYnVpbGRpbmdOYW1lcyIsIm5vdW5zIiwidmVyYnMiLCJwcmVwb3NpdGlvbnMiLCJjb25qdW5jdGlvbnMiLCJnZW5lcmF0ZVJhbmRvbUJ1aWxkaW5nIiwicmFuZG9tTmFtZSIsInJhbmRvbUFkamVjdGl2ZSIsInJhbmRvbUJ1aWxkaW5nTmFtZSIsImdlbmVyYXRlQnVpbGRpbmdOYW1lIiwicmFuZG9tRGVzY3JpcHRpb24iLCJyYW5kb21BZGplY3RpdmUyIiwicmFuZG9tTm91biIsInJhbmRvbVZlcmIiLCJyYW5kb21QcmVwb3NpdGlvbiIsInJhbmRvbUNvbmp1bmN0aW9uIiwiZGVzY3JpcHRpb24iLCJnZW5lcmF0ZUJ1aWxkaW5nRGVzY3JpcHRpb24iLCJudW1SZXNvdXJjZXMiLCJyYW5kb21Db3N0cyIsIm51bUNyYWZ0ZWRSZXNvdXJjZXMiLCJyYW5kb21FZmZlY3RzIiwibnVtRWZmZWN0cyIsInJhbmRvbVJlc291cmNlIiwicmFuZG9tRWZmZWN0VmFsdWUiLCJyYW5kb21Cb29zdHMiLCJudW1Cb29zdHMiLCJyYW5kb21Cb29zdFZhbHVlIiwibmFtZSIsImdldENyYWZ0ZWRSZXNvdXJjZSIsInRvTG93ZXJDYXNlIiwiaXNSZXNvdXJjZSIsInVwZGF0ZUJvdW5jZUFuaW1hdGlvbiIsImFsbFZpc2libGVCdXR0b25zIiwiU2V0IiwiZ2V0TWF4IiwiYmFzZU1heCIsImJhc2VtYXgiLCJJbmZpbml0eSIsImNhbGNDcmFmdEJvbnVzIiwiaXNCdXR0b25JZFZpc2libGUiLCJoYXMiLCJzZXRWaXNpYmxlQnV0dG9uIiwiY2xlYXJTaWRlYmFyIiwiam9iQ291bnRzIiwiam9ic1RhYiIsImdldFRvdGFsSm9icyIsImpvYkRpdiIsImRlY3JlbWVudERpdiIsImpvYk5hbWVTcGFuIiwiaW5jcmVtZW50RGl2IiwiZXZlbnQiLCJqb2JUeXBlIiwiY2xvc2VzdCIsIngiLCJwYWdlWCIsInkiLCJwYWdlWSIsInNoaWZ0S2V5IiwiZGlmZmVyZW5jZSIsImN0cmxLZXkiLCJkaXN0cmlidXRlV29ya2VycyIsInVwZGF0ZURpc3BsYXkiLCJudW1Xb3JrZXJzIiwid29ya2Vyc0Rpc3RyaWJ1dGlvbiIsIk1hcCIsInRvdGFsV29ya2VycyIsIm51bWJlck9mUmVzb3VyY2VzIiwicGVyUmVzb3VyY2UiLCJzZXQiLCJtb3ZlQmFsbEZyb21Kb2JUb1Jlc291cmNlIiwicmVtYWluaW5nV29ya2VycyIsImdldCIsImFmZmVjdGVkUmVzb3VyY2UiLCJqb2JCdXR0b24iLCJyZXNvdXJjZURpc3BsYXkiLCJqb2JCdXR0b25SZWN0IiwicmVzb3VyY2VSZWN0IiwiaGVpZ2h0IiwiYm9yZGVyUmFkaXVzIiwiYmFja2dyb3VuZENvbG9yIiwib3BhY2l0eSIsInNjcm9sbFgiLCJzY3JvbGxZIiwiZWFzaW5nIiwib25maW5pc2giLCJ0aGlzSm9iQnV0dG9uIiwiam9iRWxlbWVudCIsImNvbm5lY3Rpb25zIiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdMaW5lIiwic3RhcnRFbGVtZW50IiwiZW5kWCIsImVuZFkiLCJzdGFydFgiLCJzdGFydFkiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJjb250ZXh0IiwiZnJvbVgiLCJmcm9tWSIsInRvWCIsInRvWSIsInJhZGl1cyIsImFuZ2xlIiwieF9jZW50ZXIiLCJ5X2NlbnRlciIsImF0YW4yIiwiY29zIiwic2luIiwiUEkiLCJjbG9zZVBhdGgiLCJkcmF3QXJyb3doZWFkIiwic3dpdGNoSm9iIiwib2xkSm9iSWQiLCJuZXdKb2JJZCIsIndvcmtlcnMiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjbGVhckpvYkFzc2lnbm1lbnRzIiwiY2xlYXJSZWN0IiwicmVhc3NpZ25Kb2JzQmFzZWRPblJlc291cmNlcyIsInVuZGVmaW5lZCIsImRhdGFKb2IiLCJvbGRJZCIsIm5ld0lkIiwibWF4ZWRPdXQiLCJyZXNvdXJjZUFycmF5IiwiZHJhd0FsbENvbm5lY3Rpb25zIiwib2xkQnV0dG9uIiwibmV3QnV0dG9uIiwibmV3WCIsIm5ld1kiLCJvZmZzZXRUb3AiLCJzZXRDb25uZWN0aW9ucyIsIm5ld0Nvbm5lY3Rpb25zIiwiZ2V0Q29ubmVjdGlvbnMiLCJyZXNldEFsbEpvYnMiLCJ3YXRlciIsImFsbCIsImdldEJ1aWxkaW5nQ291bnQiLCJnZXRCb29zdCIsInJlc2V0QnVpbGRpbmdzIiwiaGlkZSIsImNyYWZ0ZWRPbmNlIiwicmVxdWlyZWRTdGFnZSIsInRvb2x0aXBjb3N0IiwiZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZCIsImdldENyYWZ0ZWRSZXNvdXJjZUtleUJ5Q29uZmlnIiwiY29uZmlnIiwiayIsInJlc2V0Q3JhZnRlZFJlc291cmNlcyIsInBlcmtzIiwidG9Sb21hbiIsInJvbWFuTnVtZXJhbHMiLCJudW1lcmFsIiwicmVzdWx0IiwiYWRkUG9uZGVycyIsInJlc2V0UG9uZGVycyIsInByZXN0aWdlIiwicHJlcyIsInNldFByZXN0aWdlQ29zdCIsInNldFByZXN0aWdlTGV2ZWwiLCJpc1Zpc2libGUiLCJnZXRSZXNvdXJjZUNvbmZpZ0J5SWQiLCJyZXNldFJlc291cmNlcyIsImdldEJhc2VNYXgiLCJleHAiLCJtYXNvbnJ5IiwibmVlZFRvb2xzIiwiY2FycGVudHJ5IiwidGhpbmtpbmciLCJmYXJtaW5nIiwiZmlzaGluZyIsImh1bnRpbmciLCJzYXZlR2FtZSIsImxvYWRHYW1lIiwiYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucyIsImNyYWZ0QWxsUmVzb3VyY2VzIiwiY3JhZnRSZXNvdXJjZSIsInVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcyIsInNlbGVjdEFiaWxpdHkiLCJyZXNldFBlcmtzIiwibWFrZVZpc2libGUiLCJ1cGRhdGVCdXR0b25WaXNpYmlsaXR5IiwiZ2VuZXJhdGVQb25kZXJCdXR0b25zIiwiYWRkVG9vbCIsInJlc2V0U3RhZ2VzIiwiaW5pdGlhbGl6ZVJlc291cmNlVGFncyIsInVwZGF0ZVNpZGViYXIiLCJ1cGRhdGVUb29sdGlwIiwiaGlkZVRvb2x0aXAiLCJnZXRDdXJyZW50VGFiIiwiaW5pdGlhbGl6ZUFwcCIsInNldE1hdGVyaWFsIiwicmVjYWxjdWxhdGVBbGxCdWlsZGluZ0Nvc3RzIiwidG9vbHNUb1N0YWdlcyIsInZpc2liaWxpdHlSdWxlcyIsImNvbmRpdGlvbiIsImFjdGlvbiIsImxvY2F0aW9uIiwiYXVkaW9GaWxlcyIsImN1cnJlbnRBdWRpbyIsInRpbWVvdXRJZCIsInBsYXlSYW5kb21UcmFjayIsImN1cnJlbnRUaW1lIiwicmFuZG9tSW5kZXgiLCJjbGVhclRpbWVvdXQiLCJzaWxlbmNlRHVyYXRpb24iLCJvbmVuZGVkIiwic2NoZWR1bGVOZXh0VHJhY2siLCJ0b2dnbGVPcHRpb25zIiwidGFyZ2V0IiwicHJldmVudERlZmF1bHQiLCJpbmNyZWFzZUNsb25lQnlPbmUiLCJ0b2dnbGUiLCJpc0RhcmsiLCJmYWRlVG9CbGFjayIsIm92ZXJsYXkiLCJvdmVybGF5VGV4dCIsIm92ZXJsYXlCdXR0b24iLCJtaWxsaXNlY29uZHNfcGVyX2ZyYW1lIiwibGFzdF90aW1lIiwidG90YWxfdGltZSIsImFjY3VtdWxhdGVkX2xhZyIsImxvb3AiLCJjdXJyZW50X3RpbWUiLCJub3JtYWxSYXRlIiwidGltZV9zaW5jZV9sYXN0X3NhdmUiLCJ0aW1lX3NpbmNlX21hbnVmYXR1cmUiLCJzYXZlX3JhdGUiLCJtYW51ZmFjdHVyZV9yYXRlIiwicnVsZSIsInNwbGljZSIsInRvb2wiLCJjdXJyZW50SG92ZXJCdXR0b24iLCJyZW5kZXIiLCJvcHRpb25zTWVudSIsIm9uYmVmb3JldW5sb2FkIiwiY3VycmVudGx5RGVsZXRpbmciLCJhcHAiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwicHJvamVjdElkIiwic3RvcmFnZUJ1Y2tldCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiYXBwSWQiLCJtZWFzdXJlbWVudElkIiwiZmFjdG9yeUJ1dHRvbnMiLCJ1cGdyYWRlQnVsa0J1dHRvbiIsIm1ha2VGYWN0b3J5QnV0dG9ucyIsIm1hdGNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImJ1aWxkaW5nU3RyaW5nIiwidW5sb2NrQXR0ciIsImNhblVubG9jayIsInJlbG9hZCIsImdldFJLZXlGcm9tSUQiLCJjciIsImdldENSS2V5RnJvbUlEIiwiZmlzaEF1ZGlvIiwiZWF0RmlzaCIsImNvbmZpcm0iLCJkZWxldGVHYW1lIiwiZGFya01vZGVUb2dnbGUiLCJpc2VrYWkiLCJlIiwib3ZlcmxheUJhY2tCdXR0b24iLCJodXNrc0R1ZSIsImxhc3RCdWlsZGluZyIsIm5ld0J1aWxkaW5nc0NvdW50IiwicmFuZG9tQnVpbGRpbmciLCJpc2VrYWlBdWRpbyIsIm9sZEh1c2tWYWx1ZSIsImh1c2tWYWx1ZSIsImJ1dHRvbkNvbnRhaW5lciIsImdyaWRSb3ciLCJuIiwiYSIsIm5leHRGaWJvbmFjY2kiLCJwcmV2Rmlib25hY2NpIiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsInVwZGF0ZVVJIiwicmVzb3VyY2VEaXYiLCJzZXRUb3RhbFRpbWUiLCJnZXRNZXNzYWdlIiwic2V0U3RhZ2UiLCJzdGFnZSIsIm15UGVya3MiLCJwZXJrTmFtZSIsImFkZFBlcmsiLCJhYmlsaXR5TmFtZSIsImdldFBlcmtGcm9tVGllciIsInRpZXJOdW0iLCJnZXRBbGxQZXJrcyIsImdlbmVyYXRlVW5pcXVlSUQiLCJEYXRlIiwibm93Iiwic3Vic3RyIiwidW5sb2NrSWQiLCJ1bmxvY2tLZXkiLCJwb25kZXJPYmplY3RzIiwicG9uZGVyS2V5IiwicG9uZGVyT2JqIiwiYnV0dG9uS2V5IiwibWF4Q2xvbmVzIiwibXlCdXR0b24iLCJuZXdUZXh0IiwiZWZmZWN0U3RyaW5nIiwiYWJicmV2aWF0ZU51bWJlciIsInVwZGF0ZVNraWxscyIsInJlc291cmNlc0NvbnRhaW5lciIsIk51bWJlciIsImlzTmFOIiwiY3JlYXRlQ3JhZnRlZFJlc291cmNlQnV0dG9uIiwiY29udGFpbmVyIiwiZW1vamlEaXNwbGF5IiwidXBkYXRlRW1vamlEaXNwbGF5IiwiZW1vamlTdHIiLCJnZXRDb2xvckNvbXBvbmVudCIsInNraWxsS2V5IiwicmVkIiwiYmx1ZSIsInNraWxsQ29sb3IiLCJyZXBlYXQiLCJjcmFmdFJlc291cmNlUXVhbnRpdHkiLCJzdWZmaWNpZW50UmVzb3VyY2VzIiwiY3JhZnRCb251cyIsImNyYWZ0T25lIiwiY2FsY1NlY29uZHNSZW1haW5pbmciLCJuZWVkZWQiLCJyYXRlIiwiZ2V0QWxsVG9vbHMiLCJnZXRBbGxTdGFnZXMiLCJwb3B1bGF0ZVNraWxsc1RhYmxlIiwic2F2ZSIsInRvb2xzIiwic3RhZ2VzIiwidW5sb2NrcyIsImpvYnMiLCJtZXNzYWdlIiwiZmFjdG9yaWVzIiwibmV3QnVpbGRpbmdzIiwiaXRlbSIsInUiLCJsYXN0TmV3QnVpbGRpbmciLCJodG1sU3RyaW5nIiwibWVzc2FnZVRvb2x0aXAiLCJuZWVkcyIsImdldE1lc3NhZ2VUb29sdGlwIiwibWVzc2FnZUFycmF5IiwiZXh0cmFjdFRleHRGcm9tSFRNTCIsInNldEl0ZW0iLCJnZXRJdGVtIiwibmV3VWlkIiwicGxheWVyVWlkIiwic2F2ZWdhbWUiLCJ2YWx1ZU9mIiwidW5pb24iLCJzIiwibG9hZEJ1aWxkaW5ncyIsInRpbWVfZGlmZmVyZW5jZSIsImluYyIsInNpemUiLCJqb2IiLCJzZWxlY3RDb3JyZWN0UGVya0J1dHRvbiIsInNlbGVjdGVkQnV0dG9uIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0TWF4IiwiY29udGVudCIsInRhYkNvbnRhaW5lcnMiLCJ0YWJOYW1lIiwicHJldlRhYiIsInByZXZUYWJFbGVtZW50IiwidGFicyIsImFjdGl2ZUNvbnRlbnQiLCJ0YWJTdHJpbmciLCJhY3RpdmVUYWJCdXR0b24iLCJzaG91bGRIaWRlIiwiZm9ybWF0IiwidW5pdCIsInJvdW5kVG9EZWNpbWFscyIsIm51bWJlciIsImRlY2ltYWxzIiwiZmFjdG9yIiwiY3JlYXRlUmVzb3VyY2VUYWciLCJncm91cE5hbWUiLCJncm91cENvbnRhaW5lciIsInRvZ2dsZUJ1dHRvbiIsIm9uY2xpY2siLCJncm91cCIsImNoaWxkcmVuIiwidGFnTmFtZSIsInRvZ2dsZUdyb3VwVmlzaWJpbGl0eSIsImNyZWF0ZVJlc291cmNlR3JvdXBDb250YWluZXIiLCJyZXNvdXJjZURpc3BsYXlOYW1lIiwicmVzb3VyY2VFbGVtZW50IiwicmVzb3VyY2VOYW1lU3BhbiIsInJlc291cmNlVmFsdWVTcGFuIiwicmVzb3VyY2VSYXRlU3BhbiIsImVsZW1lbnRJbmNyZWFzZSIsInBhcmVudEVsZW1lbnQiLCJ3aXRoR3JvdXBzIiwicmVzb3VyY2VHcm91cHMiLCJzcGVjaWFsIiwiZm9vZCIsIm1hdGVyaWFscyIsImFkdmFuY2VkIiwibWV0YWwiLCJjb25zdHJ1Y3Rpb24iLCJncm91cE9mUmVzb3VyY2VzIiwicmVzb3VyY2VUb1NraWxsTWFwIiwiaW52ZXJ0U2tpbGxzVG9SZXNvdXJjZXMiLCJoYXNHZW5lcmF0ZWRTa2lsbFRhYmxlIiwicHJvZ3Jlc3NCYXIiLCJ0ciIsInRkUHJvZ3Jlc3MiLCJza2lsbFRleHQiLCJhYnMiLCJsZXZlbHVwIiwicG9wIiwicGxheWVyVG9vbHMiLCJ1bCIsImxpIiwiY3JlYXRlVGV4dE5vZGUiLCJ1cGRhdGVUb29sVUkiLCJnZXRUb29sVmFsdWVGb3JSZXNvdXJjZSIsInNvcnRlZFRvb2xzIiwic29ydCIsInJlc291cmNlTGlzdCIsImdvbGRBbW91bnRFbCIsImJ1eVJlc291cmNlIiwicHJpY2UiLCJzZWxsUmVzb3VyY2UiLCJnZW5lcmF0ZVRyYWRlVGFibGUiLCJmbG9hdFRleHQiLCJhbG9uZUVsZW1lbnQiLCJidWlsZGluZ0NvdW50IiwiYnVpbGRpbmdMaXN0IiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiYnV0dG9uQ29uZmlnIiwic3RhdGUiLCJjcmFmdGVkIiwicmVxUG9uZGVyIiwiZGVzYyIsImVmZmVjdCIsInBhcnNlQW1vdW50IiwiYW1vdW50VGV4dCIsInJlZ2V4IiwibWF0Y2giLCJwcm9jZXNzZWRTdHJpbmciLCJleGVjIiwiY29sb3JDbGFzcyIsInNlY29uZHNSZW1haW5pbmciLCJwcm9jZXNzTWF0ZXJpYWxzIiwic2hvd1Rvb2x0aXAiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIk8iLCJjaHVua0lkcyIsImZuIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJmdWxmaWxsZWQiLCJkIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsImluc3RhbGxlZENodW5rcyIsImNodW5rSWQiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwic29tZSIsImNodW5rTG9hZGluZ0dsb2JhbCIsInNlbGYiLCJiaW5kIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJzb3VyY2VSb290IjoiIn0=