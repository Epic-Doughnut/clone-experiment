(()=>{var e={151:(e,t,o)=>{const{buildings:s}=o(882),{buttons:n}=o(54),{resources:i}=o(587),{increaseMaterial:r,increaseMax:a}=o(594),{capitalizeFirst:c,canBuyBuilding:l,updateSidebar:d}=o(78),{updateTotal:u}=o(150),{hasPerk:f}=o(134);function p(e){return Object.entries(e).map((([e,t])=>`${t.toFixed(2)} ${e}`)).join("\n")}function b(e,t){const o=t[e];o.cost=JSON.parse(JSON.stringify(o.basecost));const s=Object.entries(o.cost).map((([e,t])=>`${e}: ${t}`)).join(", ");let n=`return ${Object.entries(o.cost).map((([e,t])=>`getMaterial('${e},resources') >= ${Math.floor(t/2)}`)).join(" && ")}`;return o.effects&&o.effects.clones&&(n+=" && passedStage('clones')"),{class:"tooltip "+e,tab:"production",text:`${e.charAt(0).toUpperCase()+e.slice(1)}`,tooltipDesc:t[e].tooltipDesc||"A mysterious building with untold benefits.",tooltipCost:s,requirement:new Function(n),data_building:e}}for(let e in s){const t=b(e,s);n[e]=t}e.exports={recalculateBuildingCost:function(e,t,o){let s=t[e];if(s&&s.cost&&s.ratio)for(let e in s.cost)s.cost[e]=Math.round(s.basecost[e]*Math.pow(s.ratio,s.count)),o("Architect")&&(s.cost[e]*=.75);const n=document.querySelector("#"+e);var i=p(s.cost);if(!n)throw"Button not found for "+e;{n.setAttribute("data-tooltip-cost",i);const e=function(e){let t=[];for(let[o,s]of Object.entries(e.effects))t.push(`+${s} max ${o}`);for(let[o,s]of Object.entries(e.boost)){let e=Math.round(100*(s-1));t.push(`+${e}% ${o} production`)}return t.join(", ")}(s);n.setAttribute("data-tooltip-effect",e)}},generateBuildingTooltipCost:p,createBuildingButton:b,updateBuildingButtonCount:function(e,t){document.getElementById(`${e}`).textContent=`${c(e).split("_").join(" ")} (${t})`}}},924:(e,t,o)=>{const{getCraftedResource:s}=o(78);t.getMaterial=function(e,t){return t.hasOwnProperty(e)?t[e].value:s(e)}},78:(e,t,o)=>{const{resources:s}=o(587),{buttons:n}=o(54),{skills:i}=o(324),{getCraftedResourceConfigById:r}=o(371),{getBuildingCount:a,buildings:c}=o(882),{isPondered:l,canUnlock:d}=o(369),{craftedResources:u,getCraftedResourceKeyByConfig:f}=o(371),{getMaterial:p}=o(924);let b=[],h=new Set(["gatherSticks"]);function g(e){return b.includes(e)}function m(e){let t=!0;const o=c[e];for(const e in o.cost)if(o.cost[e]>p(e,s)){t=!1;break}return t}t.allVisibleButtons=h;const k={thinking:"thinking",fishing:"fishing",smithing:"not-unlockable",farming:"agriculture",combat:"combat",hunting:"hunting"};function v(){document.querySelectorAll("button").forEach((e=>{const t=n[e.id];if(t){e.classList.remove("hidden","purchasable","button-disabled");var o="hidden";e.id&&h.has(e.id)&&(o="button-disabled");try{t.requirement()&&(o="button-disabled",t.tab&&!t.data_building&&"production"===t.tab&&(o="purchasable"),e.id&&"gatherPonder"===e.id&&(o="purchasable"),t.tab&&"ponder"===t.tab&&e.id&&e.classList.contains("unlock")&&(d(e.id)&&(o="purchasable"),l(e.getAttribute("unlock"))&&(o="hidden")),t.tab&&"tabs"===t.tab&&(o="visible"))}catch(e){console.warn("Error with checking requirement of button: ",t,e)}if(t.id&&"craft"===t.id.slice(0,5)){t.craftedOnce&&(o="button-disabled");var s=r(t.id);s.value>0&&(o="button-disabled"),y(f(s))&&(o="purchasable")}t.data_building&&(o=a(t.data_building)?"button-disabled":o,o=m(t.data_building)?"purchasable":o),t.hide&&(o=t.hide()?"hidden":o),""!==o&&e.classList.add(o),"hidden"===o?e.style.display="none":(h.add(e.id),e.style.display="")}})),document.querySelectorAll(".job-button").forEach((e=>{const t=e.getAttribute("data-job");e.classList.remove("hidden","purchasable","button-disabled");var o;const s=k[t];"hidden"==(o=null==s||l(s)?"purchasable":"not-unlockable"===s?"hidden":"button-disabled")?e.style.display="none":(h.add(e.id),e.classList.add(o),e.style.display="")}))}function y(e){let t=!0,o=u[e].cost;try{for(let e in o)if(p(e,s)<o[e]){t=!1;break}}catch(t){console.warn("Error in calculating requirements: ",e,o,t)}return t}function x(e){return s.hasOwnProperty(e)?s[e].max:1/0}function w(e){function t(e,t){return e<10?o(e,3)+t:e<100?o(e,2)+t:e<1e3?o(e,1)+t:Math.round(e)+t}function o(e,t){const o=Math.pow(10,t);return(Math.round(e*o)/o).toFixed(t)}return e<1e3?o(e,2):e<1e6?t(e/1e3,"K"):e<1e9?t(e/1e6,"M"):e<1e12?t(e/1e9,"B"):e.toString()}const C=document.getElementById("levelUpMessage");let T=!1;function S(){const e=document.getElementById("skillsTable");if(T)for(let e in i){(i[e].exp>0||i[e].level>0)&&(document.querySelector("#tr-"+e).style.display="");let t=document.querySelector(`.progressBar[data-skill="${e}"]`);t&&(t.style.width=i[e].exp+"%",document.querySelector("#level-"+e).textContent="["+i[e].level+"]   "+e)}else{console.log("Generating table for the first time"),T=!0;for(let t in i){let o=document.createElement("tr");o.id="tr-"+t;let s=document.createElement("td");s.style.position="relative";let n=document.createElement("div");n.setAttribute("class","progressBar"),n.style.height="20px",n.setAttribute("data-skill",t);let r=document.createElement("span");r.textContent="["+i[t].level+"]   "+t,r.setAttribute("id","level-"+t),r.style.position="absolute",r.style.left="10px",r.style.top="50%",r.style.transform="translateY(-50%)",0==i[t].exp&&0==i[t].level&&(o.style.display="none"),s.appendChild(n),s.appendChild(r),o.appendChild(s),e.appendChild(o)}}}e.exports={capitalizeFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},makeVisible:function(e){g(e)||b.push(e);const t=document.querySelectorAll("p."+e);t.forEach((e=>e.classList.add("visible"))),t.forEach((e=>e.style.display="")),v()},passedStage:g,getMaterial:p,getMax:x,updateSidebar:function(){for(const[o,n]of Object.entries(s)){const i=document.getElementById("resource-"+o);if(!i)return;var e=!0;for(let t in i.classList)g(t)&&(e=!1,console.log("dont hide",o,t));n.value>0&&(e=!1,s[o].isVisible=!0),n.isVisible&&(e=!1),e&&(i.style.display="none");const r=document.getElementById(o+"Value");if(r){var t="#fff";n.value===x(o)?t="#fcc":n.value/x(o)>.6&&(t="#eeb"),r.innerHTML=`<span style="color:${t}">${w(n.value)} / ${w(x(o))} </span>`}}},updateSkills:function(e,t){t=Math.abs(t),l("fasterSkills")&&(t*=1.05);for(let o in i)i[o].affectedResources.includes(e)&&(i[o].exp+=t/Math.pow(1.1,i[o].level),i[o].exp>=100&&(i[o].level+=1,i[o].exp=0,C.textContent=`Level up! ${o} → ${i[o].level}`,C.classList.remove("hidden"),setTimeout((()=>{C.classList.add("hidden")}),3e3)));g("skillsTable")&&S()},populateSkillsTable:S,getAllStages:function(){return b},updateButtonVisibility:v,canCraft:y,calcCraftBonus:function(e){return 1},canBuyBuilding:m,hasGeneratedSkillTable:T},t.getCraftedResource=function(e){if(e=e.toLowerCase(),u.hasOwnProperty(e))return u[e].value;throw"Invalid crafted resource:"+e}},150:(e,t,o)=>{const{skills:s}=o(324),{resources:n}=o(587),{getMaterial:i}=o(924),{updateEmojiDisplay:r}=o(594),{isPondered:a}=o(369),c={};for(let e in s)c[e]=0;const l=document.getElementById("jobsTab");function d(){var e=0;for(let t in c)e+=c[t];return e}Object.keys(s).forEach((e=>{const t=document.createElement("div");t.classList.add("job-button"),t.setAttribute("data-job",e),t.id="job-button-"+e;const o=document.createElement("div");o.classList.add("btn-decrement"),o.textContent="-",t.appendChild(o);const s=document.createElement("span");s.classList.add("job-name"),s.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: 0`,t.appendChild(s);const n=document.createElement("div");n.classList.add("btn-increment"),n.textContent="+",t.appendChild(n),l.appendChild(t)})),document.querySelectorAll(".btn-increment").forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".job-button").getAttribute("data-job");i("clones",n)>d()&&c[e]++,f(e,c[e]),p(e),b(),console.log(u)}))})),document.querySelectorAll(".btn-decrement").forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".job-button").getAttribute("data-job");c[e]>0&&(c[e]--,f(e,c[e]),p(e),b())}))}));let u=new Map;function f(e,t){if(!s[e])return null;let o=s[e].affectedResources;o=o.filter((e=>e in n)),console.log(o);let i=o.length,r=Math.floor(t/i);for(let e of o)u.set(e,r);let a=t-r*i;for(let e of o)a>0&&(u.set(e,u.get(e)+1),a--);console.log(u)}function p(e){const t=document.querySelector(`.job-button[data-job="${e}"]`);t||console.warn("Couldn't find job button for job: ",e);const o=t.querySelector(".job-name");o&&(o.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: ${c[e]}`),r()}function b(){document.querySelector("#jobs-total").textContent="Assigned Clones: "+d()+" / "+i("clones",n)}let h=null,g=new Map,m=document.getElementById("lineCanvas"),k=m.getContext("2d");function v(){k.clearRect(0,0,m.width,m.height);try{for(let[e,t]of g.entries()){let o=document.getElementById(e),s=document.getElementById(t),n=s.getBoundingClientRect(),i=n.left+n.width/2,r=0;r=n.bottom>o.getBoundingClientRect().bottom?s.offsetTop-10:s.offsetTop+s.offsetHeight+10,y(o,i,r)}}catch(e){console.warn("drawAllConnections",e)}}function y(e,t,o){let s=e.getBoundingClientRect(),n=s.left+s.width/2,i=scrollY+s.top+s.height/2;k.beginPath(),k.moveTo(n,i),k.lineTo(t,o),k.stroke(),function(e,t,o,s,n,i){let r,a,c,l=s,d=n;e.beginPath(),r=Math.atan2(n-o,s-t),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.moveTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.lineTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.lineTo(a,c),e.closePath(),e.fill()}(k,n,i,t,o,10)}function x(e,t){let o=c[e];c[e]=0,c[t]+=o,p(e),p(t)}m.width=window.innerWidth,m.height=window.innerHeight,document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".job-button").forEach((e=>{e.addEventListener("click",(function(e){if(e.target.closest(".btn-decrement")||e.target.closest(".btn-increment"))return;if(!a("management"))return;let t=e.target.closest(".job-button");t?h?h.id&&t.id?(g.set(h.id,t.id),v(),h.classList.remove("highlight"),h=null):console.error("Missing ID for one of the buttons:",h,t):(h=t,h.classList.add("highlight")):console.error("Clicked element is not inside a job button:",e.target)}))})),document.addEventListener("mousemove",(function(e){h&&(k.clearRect(0,0,m.width,m.height),v(),y(h,e.clientX,e.clientY))}))})),e.exports={clearJobAssignments:function(){k.clearRect(0,0,m.width,m.height),g=new Map},reassignJobsBasedOnResources:function(){try{const e=g.entries();if(void 0===e)throw"Entries is undefined";for(let[t,o]of e){let e=document.getElementById(t).getAttribute("data-job");const r=t.replace("job-button-",""),a=o.replace("job-button-","");let l=!0,d=s[e].affectedResources;if(!d)return;for(const e of d)if(void 0!==n[e]&&i(e)<n[e].max){l=!1;break}l&&c[e]>0&&(x(r,a),f(r,c[r]),f(a,c[a]))}}catch(e){console.warn("reassignJobs",e)}},switchJob:x,drawAllConnections:v,getWorkers:function(e){return u.get(e)},updateTotal:b,setConnections:function(e){g=e},getConnections:function(){return g},distributeWorkers:f,updateDisplay:p,jobCounts:c}},882:e=>{const t={shelter:{basecost:{sticks:30},effects:{clones:1},boost:{},count:0,ratio:1.3,tooltipDesc:"For when you need a home away from home."},hut:{basecost:{sticks:50,vines:30},effects:{clones:1},boost:{},count:0,ratio:1.2,tooltipDesc:"A cozy, idyllic chunk of wood."},house:{basecost:{wood:50,rocks:20},effects:{clones:2},boost:{},count:0,ratio:1.4,tooltipDesc:"Every clone's dream. Minus the white picket fence."},teepee:{basecost:{wood:10,hides:25},effects:{clones:2},boost:{},count:0,ratio:1.5,tooltipDesc:"Wrap some hides around some wood and call it a home."},shed:{basecost:{wood:40},effects:{wood:50,sticks:50,rocks:20},boost:{},count:0,ratio:1.1,tooltipDesc:"The ultimate storage solution for the pack rat in you."},stockpile:{basecost:{rocks:30},effects:{wood:100},ratio:1.1,boost:{},count:0,tooltipDesc:"Chuck a bunch of logs in a pile, what could happen?"},drying_racks:{basecost:{sticks:30,fish:5},effects:{fish:20},boost:{},count:0,ratio:1.1,tooltipDesc:"Air drying: Nature's way of preserving food."},workshop:{basecost:{wood:40,sticks:20,rocks:10},effects:{rocks:50,ore:50,sand:100},boost:{},count:0,ratio:1.2,tooltipDesc:"DIY's dream destination."},barn:{basecost:{wood:30,wheat:5},effects:{wheat:100,berries:40,vines:40},boost:{},count:0,ratio:1.2,tooltipDesc:"Hay, what's in that building?"},herbalist_hut:{basecost:{sticks:50,vines:50,herbs:50},effects:{herbs:100,vines:100},boost:{herbs:1.2,vines:1.1},count:0,ratio:1.2,tooltipDesc:"A place for brewing and stewing."},bakery:{basecost:{wood:80,wheat:100,rocks:40},effects:{wheat:200},boost:{},count:0,ratio:1.25,tooltipDesc:"Freshly baked bread, hot and ready."},animal_pen:{basecost:{sticks:50,game:20,fish:25},effects:{game:100,hides:30},boost:{},count:0,ratio:1.2,tooltipDesc:"A place to put those lesser than you."},grove:{basecost:{wood:20,vines:20},effects:{},boost:{wood:1.1},count:0,ratio:1.2,tooltipDesc:"A nice grove of trees to find wood faster."},fish_traps:{basecost:{rope:40},effects:{},boost:{fish:1.2},count:0,ratio:1.2,tooltipDesc:"Fishing made easy. No patience required."},mine:{basecost:{rocks:30,wood:30},effects:{},boost:{ore:1.05},count:0,ratio:1.2,tooltipDesc:"Dig deep and find your inner ore."},campfire:{basecost:{rocks:20,sticks:20},effects:{},boost:{all:1.05},count:0,ratio:1.5,tooltipDesc:"Where stories are told and marshmallows are toasted."},lumber_yard:{basecost:{wood:60,iron:5},effects:{},boost:{wood:1.25},count:0,ratio:1.3,tooltipDesc:"Wood you like some more wood?"},stone_quarry:{basecost:{rocks:50,wood:20,rope:30},effects:{},boost:{rocks:1.3},count:0,ratio:1.3,tooltipDesc:"Rock on with your bad self!"},fishery:{basecost:{wood:40,rope:15},effects:{},boost:{fish:1.4},count:0,ratio:1.2,tooltipDesc:"Fish are friends. And food."},vineyard:{basecost:{wood:20,vines:50},effects:{},boost:{vines:1.3},count:0,ratio:1.2,tooltipDesc:"For the finest vines. What else would it grow?"},forge:{basecost:{rocks:40,ore:20,wood:100},effects:{},boost:{ore:1.5},count:0,ratio:1.2,tooltipDesc:"Melt, mold, and make marvelous metals."},water_well:{basecost:{rocks:30,rope:5,wood:10},effects:{freshwater:30},boost:{freshwater:1.2},count:0,ratio:1.4,tooltipDesc:"Fresh water on demand!"},tower:{basecost:{bricks:20,rocks:10,wood:30},effects:{},boost:{hides:1.05,game:1.1},count:0,ratio:1.3,tooltipDesc:"See things from afar."},tannery:{basecost:{wood:60,hides:40},effects:{hides:50},boost:{hides:1.5},count:0,ratio:1.3,tooltipDesc:"Treat hides to make quality leather."},marketplace:{basecost:{wood:100,rocks:50,berries:40,gold:1},effects:{},boost:{berries:1.4,herbs:1.4,ore:1.2},count:0,ratio:1.25,tooltipDesc:"A bustling hub of trade and barter."},windmill:{basecost:{wood:100,rocks:60,wheat:50},effects:{},boost:{wheat:1.4},count:0,ratio:1.3,tooltipDesc:"Grind grains efficiently with wind power."},observatory:{basecost:{rocks:70,wood:30,glass:50,ponder:50},effects:{},boost:{ponder:1.4},count:0,ratio:1.3,tooltipDesc:"Stargazing has never been so... productive?"},library:{basecost:{wood:70,paper:25,glass:5,ponder:25},effects:{ponder:50},boost:{ponder:1.5},count:0,ratio:1.3,tooltipDesc:"Knowledge is power. And a fire hazard if not stored properly."},desk:{basecost:{wood:15,sticks:20,ponder:10},effects:{ponder:30},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"A writer's block is no match for armor-piercing pencils!"}};e.exports={buildings:t,getBuildingCount:function(e){return t[e].count},getBoost:function(e,o){const s=t[e];if(s&&s.boost){if(s.boost[o])return s.boost[o];if(s.boost.all)return s.boost.all}return null}}},54:(e,t,o)=>{const{getMaterial:s,passedStage:n}=o(78),{hasTool:i}=o(609),{resources:r}=o(587),a={gatherSticks:{class:"tooltip startVisible",tab:"production",text:"𓀝 Gather Sticks",tooltipDesc:"Five, Six, Pick up sticks.",tooltipCost:"Free",requirement:()=>!0,hide:()=>!1},gatherVines:{class:"tooltip stick",tab:"production",text:"𓍯 Gather Vines",tooltipDesc:"Some vines are rubbery, others are gummy.",tooltipCost:"Free",requirement:()=>s("sticks",r)>=10||n("vines"),hide:()=>!1},gatherRocks:{class:"tooltip stick",tab:"production",text:"𓊖𓀩 Gather Rocks",tooltipDesc:"Not a single window to throw them through.",tooltipCost:"Free",requirement:()=>s("vines",r)>=10||n("rocks"),hide:()=>!1},gatherFish:{class:"tooltip fishing",tab:"production",text:"𓆝 𓆟 𓆞 Go Fish",tooltipDesc:"Got any tuna?",tooltipCost:"Free",requirement:()=>i("Spear")||i("Fishing Rod")||n("fishing"),hide:()=>!1},gatherWood:{class:"woodToggle wood",tab:"production",text:"𓌏 Chop Wood",tooltipDesc:"An axe hurts way less than using your hands.",tooltipCost:"",requirement:()=>i("Axe")||n("wood"),hide:()=>!1},gatherOre:{class:"tooltip ",tab:"production",text:"⛏ Mine Ore",tooltipDesc:"Diggy Diggy Hole",tooltipCost:"Free",requirement:()=>i("Pickaxe")||n("ore"),hide:()=>!1},productionTabButton:{class:"tab-button",text:"Production",showTab:"productionTab",tab:"tabs",requirement:()=>n("tab-button"),hide:()=>!1},experimentTabButton:{class:"tab-button",text:"Experiment",showTab:"experimentTab",tab:"tabs",requirement:()=>n("tab-button"),hide:()=>!1},ponderTabButton:{class:"tab-button",text:"Ponder",showTab:"ponderTab",tab:"tabs",requirement:()=>n("ponder-tab"),hide:()=>!1},jobsTabButton:{class:"tab-button",text:"Jobs",showTab:"jobsTab",tab:"tabs",requirement:()=>n("jobs-tab"),hide:()=>!1},skillsTabButton:{class:"tab-button",text:"Skills",showTab:"skillsTab",tab:"tabs",requirement:()=>n("skillsTable"),hide:()=>!1},perksTabButton:{class:"tab-button",text:"Perks",showTab:"perksTab",tab:"tabs",requirement:()=>n("perksTab"),hide:()=>!1},gatherPonder:{class:"tooltip",text:"Ponder",tooltipDesc:"Wrap your head around the great mysteries",tooltipCost:"Time",tab:"ponder",requirement:()=>n("ponder-tab"),hide:()=>!1}};e.exports={buttons:a}},371:(e,t,o)=>{const{getMaterial:s,passedStage:n,getCraftedResource:i}=o(78),{resources:r}=o(587),a={sharprocks:{text:"Sharp Rocks",id:"craftSharprocks",value:0,cost:{rocks:2},craftedOnce:!1,requirement:()=>s("rocks",r)>=5,tooltipDesc:"Craft a rock using nothing but rocks!",tooltipCost:"Rocks: 5",class:"craftRocks"},rope:{id:"craftRope",value:0,cost:{vines:3},craftedOnce:!1,requirement:()=>s("vines",r)>=3,tooltipDesc:"The basis of attaching things to other things.",tooltipCost:"Vines: 3",class:"rope"},handle:{id:"craftHandle",value:0,cost:{sticks:2},craftedOnce:!1,requirement:()=>i("sharpRocks")>=1,tooltipDesc:"Shear off that bark to hold it better",tooltipCost:"Sharp Rocks: 1",class:"craftRocks"},staff:{id:"craftStaff",value:0,cost:{handle:2,rope:1},craftedOnce:!1,requirement:()=>i("handle")>=1,tooltipDesc:"Stick some sheared sticks together",tooltipCost:"Handles: 2",class:"rope"},fishingrod:{id:"craftFishingrod",value:0,cost:{staff:1,rope:2},craftedOnce:!1,requirement:()=>n("fishing"),tooltipDesc:"A weapon feared by underwater life",tooltipCost:"",class:"rope"},spear:{id:"craftSpear",value:0,cost:{staff:1,sharpRocks:1,rope:1},craftedOnce:!1,requirement:()=>i("staff")>=1,tooltipDesc:"A long and pointy stick",tooltipCost:"Staffs: 1",class:"rope"},axe:{id:"craftAxe",value:0,cost:{handle:1,rope:1,sharprocks:2},craftedOnce:!1,requirement:()=>i("spear")>=1,tooltipDesc:"Put a rock straight through that handle",tooltipCost:"Spears: 1",class:"rope"},pickaxe:{id:"craftPickaxe",value:0,cost:{handle:1,sharpRocks:3,rope:1,rocks:10},craftedOnce:!1,requirement:()=>i("axe")>=1,tooltipDesc:"Sadly not made of diamonds",tooltipCost:"Axes: 1",class:"rope"},glass:{id:"craftGlass",value:0,cost:{sand:10},craftedOnce:!1,requirement:()=>n("glassBlowing")},paper:{id:"craftPaper",value:0,cost:{wood:12},craftedOnce:!1,requirement:()=>n("paper")},gold:{id:"craftGold",value:0,cost:{ore:100},craftedOnce:!1,requirement:()=>n("metalWorking"),tooltipDesc:"There's some yellow bits in this ore",tooltipCost:"",class:"metalWorking"},iron:{id:"craftIron",value:0,cost:{ore:20},craftedOnce:!1,requirement:()=>n("metalWorking"),tooltipDesc:"There's some sturdy-looking bits in this ore",tooltipCost:"",class:"metalWorking"},silver:{id:"craftSilver",value:0,cost:{ore:50},craftedOnce:!1,requirement:()=>n("metalWorking"),tooltipDesc:"There's some shiny gray bits in this ore",tooltipCost:"",class:"metalWorking"},bricks:{id:"craftBricks",value:0,cost:{clay:15},craftedOnce:!1,requirement:()=>s("clay",r)>5,tooltipDesc:"Leave some clay by the fire",tooltipCost:""}};e.exports={craftedResources:a,getCraftedResourceConfigById:function(e){for(let t in a)if(a[t].id===e)return a[t];return null},getCraftedResourceKeyByConfig:function(e){for(let t in a)if(a[t].id===e.id)return t;return null}}},55:e=>{e.exports={perks:{tier1:["Lumberjack","Miner","Botanist","Leader","Architect"],tier2:["Thinker","General","Merchant","Generalist","Specialist"]}}},397:e=>{e.exports={ponders:{ponder1:{id:"ponderPonder1",isPondered:!1,cost:{ponder:10},text:"Think Harder",tooltipDesc:"5% boost to pondering",requirement:()=>!0},"jobs-tab":{id:"ponderJobs-tab",isPondered:!1,cost:{ponder:20},text:"Understand Cloning",tooltipDesc:"Why are there two of you?",requirement:()=>!0,tooltipCost:"Sanity (20 Ponder)"},skillsTable:{id:"ponderSkillsTable",isPondered:!1,cost:{ponder:40},tooltipDesc:"You're starting to learn things, right?",requirement:()=>!0,text:"Notice Improvement"},fishing:{id:"ponderFishing",isPondered:!1,cost:{ponder:50,fish:50},tooltipDesc:"What if... your clones could go fishing?",requirement:()=>!0,text:"Fishing Job"},management:{id:"ponderManagement",isPondered:!1,cost:{ponder:200,clones:5},text:"Meta-jobs",requirement:()=>!0,tooltipDesc:"You managed to make clones manage each other. You call them "},fasterSkills:{id:"ponderFasterSkills",isPondered:!1,cost:{ponder:80},requirement:()=>!0,text:"Skills I",tooltipDesc:"Think Smarter. 5% bonus to skill exp"},thinking:{id:"ponderThinking",isPondered:!1,cost:{ponder:150},text:"Thinking Job",requirement:()=>!0,tooltipDesc:"Let your clones start thinking for themselves."},fasterResourceGain:{id:"ponderFasterResourceGain",isPondered:!1,cost:{ponder:120},requirement:()=>!0,text:"Productivity I",tooltipDesc:"Just work harder. 5% bonus to resource gain"},autoClone:{id:"ponderAutoClone",requirement:()=>!0,isPondered:!1,text:"Auto Clone",tooltipDesc:"Automatically produce clones",cost:{ponder:140,clones:20}},effectiveBuildings:{id:"ponderEffectiveBuildings",requirement:()=>!0,isPondered:!1,text:"Buildings I",tooltipDesc:"Increase building effects by 1%",cost:{ponder:140}},agriculture:{id:"ponderAgriculture",requirement:()=>!0,isPondered:!1,text:"Agriculture",tooltipDesc:"Find some seeds from all those plants",cost:{ponder:150}},combat:{id:"ponderCombat",requirement:()=>!0,isPondered:!1,text:"Combat",tooltipDesc:"Is there anyone to spar with besides you?",cost:{ponder:300,spear:100}},hunting:{id:"ponderHunting",requirement:()=>!0,isPondered:!1,text:"Hunting",tooltipDesc:"At least there are animals",cost:{ponder:140,fish:50}},perksTab:{id:"ponderPerksTab",requirement:()=>!0,isPondered:!1,text:"Perks",tooltipDesc:"Maybe you as the original should specialize",cost:{ponder:400}},autocraft:{id:"ponderAutocraft",requirement:()=>!0,isPondered:!1,text:"Auto Craft",tooltipDesc:"Automatically craft resources when they reach the storage limit",cost:{ponder:400,wood:1e3,rocks:500,wheat:1e3}},finish:{id:"ponderFinish",requirement:()=>!0,isPondered:!1,text:"Finish the Game",tooltipDesc:"That's it. You're done",cost:{ponder:1e3}}}}},587:e=>{const t={clones:{id:"makeClone",value:0,isVisible:!1,max:0},sticks:{id:"gatherSticks",isGetting:!1,isVisible:!0,activeText:"𓆱𓀜 Gathering Sticks",defaultText:"𓆱 Gather Sticks",value:0,emoji:"𓀝",max:50},vines:{id:"gatherVines",isGetting:!1,isVisible:!1,activeText:"𓍯𓀪 Gathering Vines",defaultText:"𓍯 Gather Vines",tools:[{tool:"Axe",val:1.5}],value:0,emoji:"𓀪",max:50},rocks:{id:"gatherRocks",isGetting:!1,isVisible:!1,activeText:"𓊖𓀩 Gathering Rocks",defaultText:"𓊖 Gather Rocks",value:0,emoji:"𓀩",max:30},fish:{id:"gatherFish",isGetting:!1,isVisible:!1,activeText:"𓆝𓆟𓆞 𓁃 Gone Fishing",defaultText:"𓆝𓆟𓆞 Go Fish",value:0,emoji:"𓁃",tools:[{tool:"Spear",val:1},{tool:"Fishing Rod",val:2}],max:10},wood:{id:"gatherWood",isGetting:!1,isVisible:!1,activeText:"𓀨 Chopping Wood",defaultText:"𓌏 Chop Wood",emoji:"𓀨",tools:[{tool:"Axe",val:1.5},{tool:"Chainsaw",val:3}],value:0,max:40},ponder:{id:"gatherPonder",isGetting:!1,isVisible:!1,activeText:"𓀁 Pondering",defaultText:"𓀁 Ponder",emoji:"𓀁",value:0,max:20},ore:{value:0,id:"gatherOre",isGetting:!1,isVisible:!1,activeText:"𓉸𓁄 Mining Ore",defaultText:"𓉸 Mine Ore",emoji:"𓁄",max:20},sand:{value:0,id:"gatherSand",isGetting:!1,isVisible:!1,activeText:"𓀩 Scooping Sand",defaultText:"𓀩 Scoop Sand",emoji:"𓀩",max:20},wheat:{value:0,id:"gatherWheat",isGetting:!1,isVisible:!1,activeText:"𓀩 Harvesting Wheat",defaultText:"𓀩 Harvest Wheat",emoji:"𓀝",max:20},freshwater:{value:0,id:"gatherFreshwater",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},hides:{value:0,id:"gatherHides",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀎",max:50},clay:{value:0,id:"gatherClay",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},berries:{value:0,id:"gatherBerries",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},herbs:{value:0,id:"gatherHerbs",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},game:{value:0,id:"gatherGame",isGetting:!1,isVisible:!1,activeText:"𓃚𓀎 Hunting",defaultText:"𓀎 Hunt",emoji:"𓀎",max:50}};e.exports={resources:t,isResource:function(e){return null!==t[e]},getResourceConfigById:function(e){for(let o in t)if(t[o].id===e)return t[o];return null}}},324:e=>{e.exports={skills:{gathering:{exp:0,level:0,affectedResources:["sticks","vines","sand","herbs","berries"]},masonry:{exp:0,level:0,affectedResources:["rocks","ore","clay"],needTools:[{Pickaxe:["ore"]}]},carpentry:{exp:0,level:0,affectedResources:["wood","handle","staff","fishingrod"],needTools:[{Axe:["wood"]}]},thinking:{exp:0,level:0,affectedResources:["ponder"]},smithing:{exp:0,level:0,affectedResources:["axe","pickaxe","spear","glass","iron","silver","gold"]},farming:{exp:0,level:0,affectedResources:["wheat","freshwater"]},combat:{exp:0,level:0,affectedResources:[]},fishing:{exp:0,level:0,affectedResources:["fish","freshwater"]},hunting:{exp:0,level:0,affectedResources:["hides","game"]}}}},808:(e,t,o)=>{const{craftedResources:s}=o(371),{buildings:n}=o(882),{ponders:i}=o(397),{buttons:r}=o(54),{resources:a}=o(587),{saveGame:c,loadGame:l}=o(502),{createResourceTag:d,generateTooltipCost:u}=o(594),{recalculateBuildingCost:f}=o(151),{hasPerk:p}=o(134),{capitalizeFirst:b,passedStage:h,makeVisible:g,updateSidebar:m,updateButtonVisibility:k,getCraftedResource:v}=o(78),{getMaterial:y}=o(924),{canUnlock:x,isPondered:w,generatePonderButtons:C}=o(369),{hasTool:T,addTool:S}=o(609),B=document.querySelector("#resources"),A=document.querySelector("#emojiGatherDisplay");var R=!1;const q={SharpRocks:"craftRocks",Spear:"fishing",FishingRod:"fishing",Axe:"wood",Pickaxe:"ore"},D=[{condition:()=>y("sticks",a)>=1,action:()=>g("stick")},{condition:()=>y("sticks",a)>=10,action:()=>g("vines")},{condition:()=>y("vines",a)>=10,action:()=>g("rocks")},{condition:()=>y("rocks",a)>=1,action:()=>{g("tab-button"),g("craftRocks")}},{condition:()=>y("fish",a)>=1,action:()=>g("fishing")},{condition:()=>T("Axe"),action:()=>g("wood")},{condition:()=>v("rope")>=1,action:()=>g("rope")},{condition:()=>y("fish",a)>=5&&!R,action:()=>{document.getElementById("eatFish").style.display="block",document.getElementById("eatFish").classList.add("visible")}},{condition:()=>R,action:()=>{g("clone"),g("ponder-tab")}}];let M=document.querySelectorAll(".tab-content > .content");function j(e){console.log("show tab: "+e);for(let e of M)e.classList.remove("active");let t=document.querySelectorAll(".tab-button");for(let e of t)e.classList.remove("active");document.getElementById(e).classList.add("active");const o=`#${e}Button`;let s=document.querySelector(o);s&&s.classList.add("active"),"jobsTab"===e&&drawAllConnections()}document.addEventListener("keydown",(function(e){switch(e.key){case"1":j("productionTab");break;case"2":h("tab-button")&&j("experimentTab");break;case"3":h("ponder-tab")&&j("ponderTab");break;case"4":h("jobs-tab")&&j("jobsTab");break;case"5":h("skillsTable")&&j("skillsTab");break;case"6":h("perksTab")&&j("perksTab")}}));const E=document.getElementById("darkModeToggle"),P=document.body;P.classList.toggle("dark-mode"),E.classList.toggle("dark");let L=!0;document.getElementById("overlay");const F=document.getElementById("message");let O=50,$=null,G=0,I=0;function V(e){null===$&&($=e);const t=e-$;G+=t,I+=t,$=e;let o=O;for(;I>=100*O;)O*=10;for(;I>=O;)I-=O,_(O);O=o,requestAnimationFrame(V)}let W=0;function _(e,t){for(let t in a)increaseMaterial(t,calcIncrease(t,e));updateResourceIncreaseRates(),function(){D.forEach((e=>{e.condition()&&e.action()}));for(let e in q)!T(e)&&v(e)>0&&(S(e),g(q[e]));try{k(),null!==J&&N(J)}catch(e){console.warn(e)}}(),W+=e,W>=1e4&&(c(),W=0)}const H=document.getElementById("dynamic-tooltip");function N(e){const t=e.getAttribute("data-tooltip-desc")||e.getAttribute("tooltipDesc"),o=e.getAttribute("data-tooltip-effect"),s=getResourceConfigById(e.id)||getCraftedResourceConfigById(e.id)||n[e.getAttribute("data_building")]||i[e.getAttribute("unlock")],r=e.getAttribute("tooltipCost")||s.cost;!function(e,t,o,s){let n="";if(t&&(n+=`<span >${t}</span><hr>`),o&&(n+=`<span style="color:#00ABE7">${o}</span><hr>`),s)try{var i="";for(let e in s){const t=s[e];var r=y(e)>=t?"enough":"not-enough";getMax(e)<t&&(r="exceeds-max"),i+=`<span class="tooltip-${e} ${r}">${t.toFixed(0)} ${e}</span>`;const o=calcSecondsRemaining(e,t);o>0&&"exceeds-max"!=r&&(i+=`<span class="time-remaining">(${o.toFixed(0)} seconds)</span>`),i+="<br>"}n+=i}catch(e){n+=s}H.innerHTML=n,H.style.left=e.getBoundingClientRect().right+5+"px",H.style.top=e.getBoundingClientRect().top-H.offsetHeight/2+"px",H.style.display="block"}(e,t,o,r)}!function(){console.log("Generating buttons"),console.trace();const e=e=>{const t=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div");return t.style.width="33.33%",o.style.width="33.33%",s.style.width="33.33%",t.style.display="inline-block",o.style.display="inline-block",s.style.display="inline-block",t.classList.add("visible"),o.classList.add("visible"),s.classList.add("visible"),e.prepend(s),e.prepend(o),e.prepend(t),[t,o,s]},t=document.getElementById("tabs"),o=document.getElementById("productionTab"),i=document.getElementById("experimentTab").querySelector(".button-columns"),a=document.getElementById("ponderTab"),c=e(o),l=e(i),d=e(a);let b=0,h=0,g=0;for(let e in r){const o=r[e],i=document.createElement("button");i.id=e,i.className=o.class,i.textContent=o.text,o.tooltipDesc&&i.setAttribute("data-tooltip-desc",o.tooltipDesc),o.tooltipEffect&&i.setAttribute("data-tooltip-effect",o.tooltipEffect),i.setAttribute("unlock",o.unlock),i.setAttribute("data_building",o.data_building);const a=Object.values(s).find((t=>t.id===e));a&&(o.tooltipCost=u(a.cost)),i.setAttribute("data-tooltip-cost",o.tooltipCost),o.showTab&&i.addEventListener("click",(()=>{j(o.showTab),console.log("Switching to tab: "+o.showTab)})),"production"===o.tab?(c[b].appendChild(i),b=(b+1)%3):"experiment"===o.tab?(l[h].appendChild(i),h=(h+1)%3):"tabs"===o.tab?t.appendChild(i):"ponder"===o.tab?(d[g].appendChild(i),g=(g+1)%3):o.tab,Object.keys(n).find((t=>t===e))&&f(e,n,p);try{o.requirement()||(i.style.display="none")}catch(e){console.warn("Error with requirement while generating buttons: ",o,e)}}}(),document.addEventListener("DOMContentLoaded",(e=>{function t(e){for(let t in s)if(s[t].id===e)return t;return""}l(),m(),C(i),j("productionTab"),d("sticks"),appendCraftedResourceButtons(),document.addEventListener("click",(e=>{if(e.target.matches("button")){const n=e.target;if(n.getAttribute("data_building")&&"undefined"!==n.getAttribute("data_building")&&n.classList.contains("purchasable")){var o=n.getAttribute("data_building");e.shiftKey?buyMaxBuildings(o):buyBuilding(o)}if(n.classList.contains("unlock")){const e=n.getAttribute("unlock");if(console.log(e),i[e]){var s=!0;for(let t in i[e].cost)if(y(t)<i[e].cost[t]){console.log("Cannot unlock "+e),s=!1;break}if(s){for(let t in i[e].cost)increaseMaterial(t,-i[e].cost[t]);i[e].isPondered=!0,g(e),n.display="none",console.log("Unlocking "+e)}}}"undefined"!==n.id&&(console.log(n),"gather"===n.id.slice(0,6)&&function(e){const t=a[e],o=document.querySelector("#resources").querySelector("#resource-"+e),s=document.querySelector("#gather"+e.charAt(0).toUpperCase()+e.slice(1));t.isGetting?(t.isGetting=!1,s.textContent=t.defaultText,o&&(o.style.fontWeight="normal")):(function(){for(let e in a){a[e].isGetting=!1;const t=document.querySelector("#gather"+b(e));t&&(t.textContent=a[e].defaultText);const o=B.querySelector("#resource-"+e);o&&(o.style.fontWeight="normal")}}(),t.isGetting=!0,s.textContent=t.activeText,o&&(o.style.fontWeight="bold"),A.textContent=t.emoji,console.log(t.emoji))}(function(e){for(let t in a)if(a[t].id===e)return t;return""}(n.id)),"craft"===n.id.slice(0,5)&&(e.shiftKey?craftAllResources(t(n.id)):craftResource(t(n.id))),"darkModeToggle"===n.id&&(P.classList.toggle("dark-mode"),E.classList.toggle("dark"),L=!L,E.textContent=L?"Light Mode":"Dark Mode"))}e.target.matches("#alone")&&(a.clones.value<a.clones.max&&(a.clones.value+=1),updateTotal())})),requestAnimationFrame(V),document.querySelectorAll(".tooltip").forEach((e=>{e.addEventListener("mouseenter",(function(t){N(e),J=e})),e.addEventListener("onclick",(function(){N(e)})),e.addEventListener("mouseleave",(function(){H.style.display="none",J=null}))})),updateTotal()}));var J=null;e.exports={updateSidebar:m,updateUI:function(e){const t=document.createElement("div");t.innerHTML=`${e}: ${a[e].value}`,document.body.appendChild(t)},passedStage:h,setTotalTime:function(e){G=e},changeMessage:function(e,t){const o=e.replace(t,`<span id="alone" title="You feel peckish for some seafood">${t}</span>`);F.innerHTML=o},setAteFish:function(e){return R=e},getAteFish:function(){return R},getMessage:function(){return F},total_time:G,currentHoverButton:J}},134:(e,t,o)=>{const{buildings:s}=o(882),{recalculateBuildingCost:n}=o(151),{perks:i}=o(55);let r=[];function a(e){return r.includes(e)}function c(e){if(r.push(e),"Architect"===e)for(let e in s)n(e,s,a)}function l(e){document.querySelectorAll(".tierOneButton").forEach((e=>{e.setAttribute("disabled","true")}));let t=document.querySelector(".tierOneButton[onclick=\"selectAbility('"+e+"')\"]");console.log(t,e),t.removeAttribute("disabled"),t.classList.add("selected")}e.exports={hasPerk:a,addPerk:c,selectCorrectPerkButton:l,selectAbility:function(e){a(e)||window.confirm("Do you want to select "+e+"? This decision cannot be easily changed.")&&(c(e),l(e))},getPerkFromTier:function(e){for(let t in i["tier"+e])if(a(t))return t;return""},getAllPerks:function(){return r}}},369:(e,t,o)=>{const{capitalizeFirst:s}=o(78),{ponders:n}=o(397),{getMax:i}=o(78),{getMaterial:r}=o(924),{resources:a}=o(587),{buttons:c}=o(54);function l(e){return!!n[e]&&n[e].isPondered}e.exports={canUnlock:function(e){var t="";for(let o in n)n[o].id===e&&(t=o);if(""===t)return console.warn("invalid unlock id: ",e),!1;var o=!0;for(let e in n[t].cost)if(r(e,a)<n[t].cost[e]){o=!1;break}return o},isPondered:l,generatePonderButtons:function(e){for(const[t,o]of Object.entries(e)){const e=`ponder${s(t)}`;c[e]={class:"tooltip unlock",text:o.text||"Ponder a Mystery?",tooltipDesc:o.tooltipDesc||"Who knows what you'll discover",tooltipCost:o.tooltipCost,tab:"ponder",unlock:t,requirement:()=>i("ponder")>=n[t].cost.ponder/2,hide:()=>l(t)}}}}},594:(e,t,o)=>{const{resources:s}=o(587),{craftedResources:n}=o(371),{buildings:i,getBoost:r}=o(882),{ponders:a}=o(397),{buttons:c}=o(54),{skills:l}=o(324),{getWorkers:d,updateTotal:u,reassignJobsBasedOnResources:f}=o(150),{hasTool:p,getToolValueForResource:b}=o(609),{updateSidebar:h,updateSkills:g,capitalizeFirst:m,canCraft:k,calcCraftBonus:v}=o(78),{getMaterial:y}=o(924),{hasPerk:x}=o(134),{isPondered:w}=o(369),{getCraftedResource:C}=o(78);console.log(m);function T(e,t){var o=0;if(!s.hasOwnProperty(e))return o;"clones"===e&&w("autoClone")&&(o=1);var n=b(s[e]);s[e].isGetting&&(o+=n),o+=(x("Leader")?.375:.25)*d(e)||0,!x("Lumberjack")||"wood"!=e&&"sticks"!=e||(o*=1.25),!x("Miner")||"rocks"!=e&&"ore"!=e||(o*=1.25),!x("Botanist")||"vines"!=e&&"herbs"!=e&&"wheat"!=e||(o*=1.25);for(let t in l)if(l[t].affectedResources.includes(e)){let e=1.2;o*=1+(Math.pow(e,l[t].level)-1)/100}for(let t in i){const s=r(t,e);if(s){var a=Math.pow(s,i[t].count);w("effectiveBuildings")&&(a*=1.01),o*=a}}return"ponder"===e&&w("ponder1")&&(o*=1.05),w("fasterResourceGain")&&(o*=1.05),o*=t/1e3,parseFloat(o.toFixed(3))}const S=document.getElementById("resources");function B(e){if(!s.hasOwnProperty(e))throw"Invalid resource: "+e;const t=m(e).split("_").join(" "),o=document.createElement("p");o.className=`${e} resource`,o.id=`resource-${e}`;const n=document.createElement("span");n.className="resourceName",n.textContent=`${t}:`;const i=document.createElement("span");i.className="resourceValue",i.id=`${e}Value`,i.textContent=`${s[e].value.toFixed(1)} / ${s[e].max.toFixed(1)}`;const r=document.createElement("span");function a(e,t){const o=document.getElementById(e);o&&(o.style.order=t)}r.className="resourceRate",r.innerHTML=`(+\n            <span id="${e}IncreaseRate">0</span>/s)`,o.appendChild(n),o.appendChild(i),o.appendChild(r),S.appendChild(o),a("resource-clones",1),a("resource-sticks",2),a("resource-vines",3),a("resource-rocks",4),a("resource-fish",5),a("resource-wood",6),a("resource-ore",7),a("resource-ponder",50)}function A(e){const t=S.querySelector(`#${e}Value`),o=document.querySelector(`button#craft${m(e)}`);try{t&&!o||B(e)}catch(e){}if(t){try{t.textContent=`${s[e].value.toFixed(1)} / ${s[e].max.toFixed(1)}`}catch(o){console.error(t,e,o)}if(s[e].isGetting){const t=document.querySelector("#resources").querySelector("#resource-"+e);t&&(t.style.fontWeight="bold")}}else if(o){const t=o.querySelector(`#${e}Value`);t?t.textContent=C(e).toFixed(0):console.warn(`Resource button found but no count span for: ${e}`)}}function R(e,t){if(0!=t){if(e=e.toLowerCase(),s.hasOwnProperty(e))w("fasterResourceGain")&&(t*=1.05),s[e].value<s[e].max&&t>0?(s[e].value+=t,g(e,t)):t<0?s[e].value+=t:(s[e].value=s[e].max,w("autocraft")&&P[e]&&L(P[e])),A(e),f();else{if(!n.hasOwnProperty(e))throw"Tried to increase Invalid material: "+e;n[e].value+=t,A(e),g(e,t)}h()}}function q(e){const t=document.createElement("button");t.className=e.class+" tooltip",t.setAttribute("id",e.id),t.requirement=e.requirement;const o=Object.keys(n).find((t=>n[t]===e)),s=parseFloat(n[o].value).toFixed(0);return t.innerHTML=`${e.text||m(o)}: <span id="${o+"Value"}">${s}</span>`,t.tab="experiment",t}const D=document.querySelector("#craftedResourceButtons");function M(e){var t="";for(let o in e)t+=`<span class="tooltip-${o} ${y(o,s)>=e[o]?"enough":"not-enough"}">${e[o]} ${o}</span><br>`;return t}const j=document.getElementById("emojiDisplay");function E(){let e="";for(let t in s){let o=d(t);if(console.log(t,o),void 0===o||0==o)continue;let n=s[t].emoji||"𓀟";n&&(e+=n.repeat(o))}j.textContent=e,function(){let e=48;for(j.style.fontSize=`${e}px`;j.offsetWidth>600&&e>30;)e-=1,j.style.fontSize=`${e}px`}()}E();const P={sticks:"handle",wood:"paper",rocks:"sharprocks",vines:"rope",sand:"glass",ore:"gold",clay:"bricks"};function L(e){try{for(;k(e);)F(e)}catch(t){console.log("Failed to craftall for: ",e,t)}}function F(e){if(!n.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;let t=n[e].cost;if(k(e)){for(let e in t)R(e,-t[e]);R(e,1),n[e].craftedOnce=!0,A(e)}}e.exports={getMaterial:y,increaseMaterial:R,setMax:function(e,t){s[e].max=t,h(),u()},increaseMax:function(e,t){s[e].max+=t,h(),u()},craftAllResources:L,craftResource:F,updateEmojiDisplay:E,updateDisplayValue:A,generateTooltipCost:M,calcSecondsRemaining:function(e,t){if(t<=s[e])return 0;const o=T(e,1e3);return 0==o?-1:Math.ceil(t-s[e].value)/o},createResourceTag:B,appendCraftedResourceButtons:function(){for(let e in n){const t=q(n[e]);t.setAttribute("data-tooltip-desc",n[e].tooltipDesc),t.setAttribute("data-tooltip-cost",M(n[e].cost)),D.appendChild(t),c[n[e].id]=n[e]}},calcIncrease:T}},502:(e,t,o)=>{const{updateBuildingButtonCount:s,recalculateBuildingCost:n}=o(151),{updateDisplayValue:i,calcIncrease:r,updateEmojiDisplay:a}=o(594),{addTool:c,getAllTools:l}=o(609),{makeVisible:d,getAllStages:u,allVisibleButtons:f,updateSidebar:p,populateSkillsTable:b,getCraftedResource:h}=o(78),{getMaterial:g}=o(924),{getAllPerks:m,selectCorrectPerkButton:k,addPerk:v,hasPerk:y}=o(134),{isPondered:x}=o(369),{jobCounts:w,setConnections:C,getConnections:T,distributeWorkers:S,updateDisplay:B}=o(150),{total_time:A,setTotalTime:R,setAteFish:q,getAteFish:D,changeMessage:M,getMessage:j}=o(808),{craftedResources:E}=o(371),{buildings:P}=o(882),{ponders:L}=o(397),{resources:F}=o(587),{skills:O}=o(324);e.exports={saveGame:function(){let e={skills:{},craftedResources:{},resources:{},tools:[],stages:[],unlocks:{},jobs:{},buildings:{},time:{},allVisibleButtons:[],message:[],connections:new Map,perks:[]};for(let t in O)e.skills[t]={exp:O[t].exp,level:O[t].level};for(let t in E)e.craftedResources.hasOwnProperty(t)||(e.craftedResources[t]={value:0,craftedOnce:!1}),e.craftedResources[t].value=h(t),e.craftedResources[t].craftedOnce=E[t].craftedOnce;for(let t in F)e.resources.hasOwnProperty(t)||(e.resources[t]={value:0,max:0}),e.resources[t].value=g(t),e.resources[t].max=F[t].max;e.tools=l(),e.stages=u(),e.jobs=w,e.perks=m(),e.connections=Array.from(T().entries());for(let t in L)e.unlocks[t]=x(t);for(let t in P)e.buildings[t]=P[t].count;for(let t of f)e.allVisibleButtons.push(t);const t=j().innerHTML;return e.message=function(e){const t=document.createElement("div");return t.innerHTML=e,[t.textContent,t.querySelector("span").textContent]}(t),e.time.total_time=A,e.time.time_of_save=Date.now(),console.log(e),localStorage.setItem("save",JSON.stringify(e)),e},loadGame:function(){console.log("Loading Game");var e=JSON.parse(localStorage.getItem("save"));if(console.log(e),null!==e){if(void 0!==e.resources)for(let t in e.resources)"undefined"!==t.valueOf()&&null!==t&&(F[t].value=e.resources[t].value,F[t].max=e.resources[t].max,console.log("Updating resources for "+t+" to "+e.resources[t].value,e.resources[t].max),0!=F[t].value&&i(t));if(void 0!==e.skills)for(let t in e.skills)O[t].exp=e.skills[t].exp,O[t].level=e.skills[t].level;if(void 0!==e.craftedResources)for(var t of Object.keys(e.craftedResources))E[t].value=e.craftedResources[t].value,E[t].craftedOnce=e.craftedResources[t].craftedOnce,i(t);if(void 0!==e.tools){let t=[...new Set([...l(),...e.tools])];for(let e in t)c(e)}if(void 0!==e.stages)for(let t in e.stages)d(e.stages[t]);if(void 0!==e.jobs)for(let t in e.jobs)w[t]=e.jobs[t],B(t);if(void 0!==e.unlocks)for(let t in e.unlocks)L[t].isPondered=e.unlocks[t];if(x("skillsTable")&&b(),void 0!==e.buildings){for(let t in e.buildings)P[t].count=e.buildings[t],s(t,P[t].count),n(t,P,y);p()}if(q(F.clones.max>=1),D()&&(document.querySelector("#eatFish").style.display="none"),void 0!==e.message&&M(e.message[0],e.message[1]),void 0!==e.time){R(e.time[A]);const t=Date.now()-e.time.time_of_save;for(let e in F){const o=r(e,t);F[e].value+=o,F[e].value>F[e].max&&(F[e].value=F[e].max)}}if(void 0!==e.allVisibleButtons){console.log(e.allVisibleButtons);for(let t in e.allVisibleButtons)f.add(t)}void 0!==e.connections&&(C(new Map(e.connections)),0===T().size&&C(new Map),console.log(T()));for(let e in w)S(e,w[e]);if(a(),void 0!==e.perks)for(let t in e.perks)v(t),k(t)}}}},609:e=>{let t=["Bare Hands"];function o(e){return t.includes(e)}e.exports={hasTool:o,addTool:function(e){o(e)||(t.push(e),function(e){var t=document.getElementById("tools-list"),o=document.createElement("li");o.appendChild(document.createTextNode(e)),t&&t.appendChild(o)}(e))},getAllTools:function(){return t},getToolValueForResource:function(e){if(e.tools){const t=e.tools.sort(((e,t)=>t.val-e.val));for(let e of t)if(o(e.tool))return e.val}return 1}}}},t={};!function o(s){var n=t[s];if(void 0!==n)return n.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,o),i.exports}(808)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YnlPLFVBQ0EyQixRQXhDSixTQUFpQm1DLEdBQ1I5RCxFQUFROEQsS0FDVHVKLEVBQVkvYSxLQUFLd1IsR0FVekIsU0FBc0JBLEdBRWxCLElBQUl3SixFQUFLeGIsU0FBU2UsZUFBZSxjQUM3QjBhLEVBQUt6YixTQUFTd0YsY0FBYyxNQUNoQ2lXLEVBQUd6VixZQUFZaEcsU0FBUzBiLGVBQWUxSixJQUNuQ3dKLEdBQUlBLEVBQUd4VixZQUFZeVYsRUFDM0IsQ0FkUUUsQ0FBYTNKLEdBRXJCLEVBbUNJMEgsWUFqQ0osV0FDSSxPQUFPNkIsQ0FDWCxFQWdDSS9ELHdCQXRCSixTQUFpQ2xYLEdBQzdCLEdBQUlBLEVBQVN1WixNQUFPLENBRWhCLE1BQU0rQixFQUFjdGIsRUFBU3VaLE1BQU1nQyxNQUFLLENBQUN4QixFQUFHOUQsSUFBTUEsRUFBRXVGLElBQU16QixFQUFFeUIsTUFHNUQsSUFBSyxJQUFJOUosS0FBUTRKLEVBQ2IsR0FBSTFOLEVBQVE4RCxFQUFLQSxNQUViLE9BQU9BLEVBQUs4SixHQUd4QixDQUdBLE9BQU8sQ0FDWCxFLEdDcERJQyxFQUEyQixDQUFDLEdBR2hDLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJoUCxJQUFqQmlQLEVBQ0gsT0FBT0EsRUFBYXpjLFFBR3JCLElBQUlELEVBQVN1YyxFQUF5QkUsR0FBWSxDQUdqRHhjLFFBQVMsQ0FBQyxHQU9YLE9BSEEwYyxFQUFvQkYsR0FBVXpjLEVBQVFBLEVBQU9DLFFBQVN1YyxHQUcvQ3hjLEVBQU9DLE9BQ2YsQ0NuQjBCdWMsQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2J1aWxkaW5ncy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9nZXRNYXRlcmlhbC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9oZWxwZXIuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvam9icy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL2J1aWxkaW5ncy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL2J1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9jcmFmdGVkUmVzb3VyY2VzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vcGVya3MuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9wb25kZXIuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9yZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9za2lsbHMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvbWFpbi5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9wZXJrcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9wb25kZXIuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvcmVzb3VyY2VzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3NhdmluZy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy90b29scy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Nsb25lLWlkbGUvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgYnVpbGRpbmdzIH0gPSByZXF1aXJlKCcuL2pzb24vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgYnV0dG9ucyB9ID0gcmVxdWlyZSgnLi9qc29uL2J1dHRvbnMnKTtcclxuY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBpbmNyZWFzZU1hdGVyaWFsLCBpbmNyZWFzZU1heCB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QsIGNhbkJ1eUJ1aWxkaW5nLCB1cGRhdGVTaWRlYmFyIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IHVwZGF0ZVRvdGFsIH0gPSByZXF1aXJlKCcuL2pvYnMnKTtcclxuY29uc3QgeyBoYXNQZXJrIH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbi8qIEJVSUxESU5HUyAqL1xyXG5cclxuXHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBidWlsZGluZyBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUVmZmVjdFN0cmluZyhidWlsZGluZykge1xyXG4gICAgbGV0IGVmZmVjdFBhcnRzID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgW3Jlc291cmNlLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuZWZmZWN0cykpIHtcclxuICAgICAgICAvLyBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZWZmZWN0KSkge1xyXG4gICAgICAgIGVmZmVjdFBhcnRzLnB1c2goYCske3ZhbHVlfSBtYXggJHtyZXNvdXJjZX1gKTtcclxuICAgICAgICAvLyBBZGQgbW9yZSBjb25kaXRpb25zIGhlcmUgaWYgeW91IGludHJvZHVjZSBuZXcgdHlwZXMgb2YgZWZmZWN0c1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBbcmVzb3VyY2UsIGJvb3N0XSBvZiBPYmplY3QuZW50cmllcyhidWlsZGluZy5ib29zdCkpIHtcclxuICAgICAgICBsZXQgcGVyY2VudGFnZUJvb3N0ID0gTWF0aC5yb3VuZCgoYm9vc3QgLSAxKSAqIDEwMCk7XHJcbiAgICAgICAgZWZmZWN0UGFydHMucHVzaChgKyR7cGVyY2VudGFnZUJvb3N0fSUgJHtyZXNvdXJjZX0gcHJvZHVjdGlvbmApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWZmZWN0UGFydHMuam9pbignLCAnKTtcclxufVxyXG5cclxuLy8gVXNhZ2U6XHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IGJ1aWxkaW5nS2V5IFxyXG4gKiBAcGFyYW0ge09iamVjdH0gYnVpbGRpbmdzXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhc1BlcmtcclxuICovXHJcbmZ1bmN0aW9uIHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGJ1aWxkaW5nS2V5LCBidWlsZGluZ3MsIGhhc1BlcmspIHtcclxuICAgIGxldCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ0tleV07XHJcbiAgICBpZiAoYnVpbGRpbmcgJiYgYnVpbGRpbmcuY29zdCAmJiBidWlsZGluZy5yYXRpbykge1xyXG4gICAgICAgIGZvciAobGV0IG1hdGVyaWFsIGluIGJ1aWxkaW5nLmNvc3QpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnVpbGRpbmcuYmFzZWNvc3RbbWF0ZXJpYWxdLCBidWlsZGluZy5yYXRpbywgYnVpbGRpbmcuY291bnQpO1xyXG4gICAgICAgICAgICBidWlsZGluZy5jb3N0W21hdGVyaWFsXSA9IE1hdGgucm91bmQoYnVpbGRpbmcuYmFzZWNvc3RbbWF0ZXJpYWxdICogTWF0aC5wb3coYnVpbGRpbmcucmF0aW8sIGJ1aWxkaW5nLmNvdW50KSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaGFzUGVyaygnQXJjaGl0ZWN0JykpIGJ1aWxkaW5nLmNvc3RbbWF0ZXJpYWxdICo9IDAuNzU7IC8vIDI1JSByZWR1Y3Rpb24gZm9yIGFyY2hpdGVjdHNcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIHRvb2x0aXAgY29zdFxyXG4gICAgY29uc3QgbXlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGJ1aWxkaW5nS2V5KTtcclxuICAgIHZhciBuZXdUZXh0ID0gZ2VuZXJhdGVCdWlsZGluZ1Rvb2x0aXBDb3N0KGJ1aWxkaW5nLmNvc3QpO1xyXG4gICAgaWYgKG15QnV0dG9uKSB7XHJcbiAgICAgICAgbXlCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcsIG5ld1RleHQpO1xyXG4gICAgICAgIGNvbnN0IGVmZmVjdFN0cmluZyA9IGdlbmVyYXRlRWZmZWN0U3RyaW5nKGJ1aWxkaW5nKTtcclxuICAgICAgICBteUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1lZmZlY3QnLCBlZmZlY3RTdHJpbmcpO1xyXG5cclxuICAgIH1cclxuICAgIGVsc2UgeyB0aHJvdyBcIkJ1dHRvbiBub3QgZm91bmQgZm9yIFwiICsgYnVpbGRpbmdLZXk7IH1cclxuXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJ1aWxkaW5nVG9vbHRpcENvc3QoY29zdCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGNvc3QpLm1hcCgoW21hdGVyaWFsLCBhbW91bnRdKSA9PiBgJHthbW91bnQudG9GaXhlZCgyKX0gJHttYXRlcmlhbH1gKS5qb2luKCdcXG4nKTtcclxufVxyXG5cclxuXHJcbi8vIGZ1bmN0aW9uIGNyZWF0ZUJ1aWxkaW5nQnV0dG9uKGJ1aWxkaW5nS2V5KSB7XHJcbi8vICAgICByZXR1cm4gY3JlYXRlQnVpbGRpbmdCdXR0b24oYnVpbGRpbmdLZXksIGJ1aWxkaW5ncyk7XHJcbi8vIH1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUJ1aWxkaW5nQnV0dG9uKGJ1aWxkaW5nS2V5LCBidWlsZGluZ3MpIHtcclxuICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nS2V5XTtcclxuXHJcbiAgICAvLyBidWlsZGluZy5jb3N0ID0gYnVpbGRpbmcuYmFzZWNvc3Q7XHJcbiAgICBidWlsZGluZy5jb3N0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShidWlsZGluZy5iYXNlY29zdCkpO1xyXG5cclxuICAgIGNvbnN0IGNvc3RzID0gT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuY29zdClcclxuICAgICAgICAubWFwKChbbWF0ZXJpYWwsIGFtb3VudF0pID0+IGAke21hdGVyaWFsfTogJHthbW91bnR9YClcclxuICAgICAgICAuam9pbignLCAnKTtcclxuXHJcbiAgICBjb25zdCBoYWxmQ29zdFJlcXVpcmVtZW50ID0gT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuY29zdClcclxuICAgICAgICAubWFwKChbbWF0ZXJpYWwsIGFtb3VudF0pID0+IGBnZXRNYXRlcmlhbCgnJHttYXRlcmlhbH0scmVzb3VyY2VzJykgPj0gJHtNYXRoLmZsb29yKGFtb3VudCAvIDIpfWApXHJcbiAgICAgICAgLmpvaW4oJyAmJiAnKTtcclxuXHJcbiAgICBsZXQgcmVxdWlyZW1lbnRTdHJpbmcgPSBgcmV0dXJuICR7aGFsZkNvc3RSZXF1aXJlbWVudH1gO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSBidWlsZGluZyBoYXMgYW4gZWZmZWN0IG9uIGNsb25lcyBtYXhcclxuICAgIGlmIChidWlsZGluZy5lZmZlY3RzICYmIGJ1aWxkaW5nLmVmZmVjdHNbJ2Nsb25lcyddKSB7XHJcbiAgICAgICAgcmVxdWlyZW1lbnRTdHJpbmcgKz0gYCAmJiBwYXNzZWRTdGFnZSgnY2xvbmVzJylgO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJ1dHRvbiA9IHtcclxuICAgICAgICAnY2xhc3MnOiAndG9vbHRpcCAnICsgYnVpbGRpbmdLZXksXHJcbiAgICAgICAgJ3RhYic6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICAndGV4dCc6IGAke2J1aWxkaW5nS2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgYnVpbGRpbmdLZXkuc2xpY2UoMSl9YCxcclxuICAgICAgICAndG9vbHRpcERlc2MnOiBidWlsZGluZ3NbYnVpbGRpbmdLZXldLnRvb2x0aXBEZXNjIHx8IFwiQSBteXN0ZXJpb3VzIGJ1aWxkaW5nIHdpdGggdW50b2xkIGJlbmVmaXRzLlwiLFxyXG4gICAgICAgICd0b29sdGlwQ29zdCc6IGNvc3RzLFxyXG4gICAgICAgICdyZXF1aXJlbWVudCc6IG5ldyBGdW5jdGlvbihyZXF1aXJlbWVudFN0cmluZyksXHJcbiAgICAgICAgJ2RhdGFfYnVpbGRpbmcnOiBidWlsZGluZ0tleSxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGJ1dHRvbjtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5mb3IgKGxldCBidWlsZGluZ0tleSBpbiBidWlsZGluZ3MpIHtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUJ1aWxkaW5nQnV0dG9uKGJ1aWxkaW5nS2V5LCBidWlsZGluZ3MpO1xyXG4gICAgYnV0dG9uc1tidWlsZGluZ0tleV0gPSBidXR0b247XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIk1hZGUgYnV0dG9uIGZvciBcIiArIGJ1aWxkaW5nS2V5KTtcclxufVxyXG5cclxuXHJcbi8vIGNvbnNvbGUubG9nKGJ1dHRvbnMpO1xyXG5cclxuZnVuY3Rpb24gZ2V0QnVpbGRpbmdDb3N0KGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgcmV0dXJuIGJ1aWxkaW5nc1tidWlsZGluZ05hbWVdLmNvc3Q7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBidXlCdWlsZGluZyhidWlsZGluZ05hbWUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiQnV5aW5nIGJ1aWxkaW5nIFwiICsgYnVpbGRpbmdOYW1lKTtcclxuICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV07XHJcblxyXG5cclxuXHJcbiAgICBpZiAoIWNhbkJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkpIHJldHVybjtcclxuXHJcbiAgICAvLyBTdWJ0cmFjdCB0aGUgY29zdFxyXG4gICAgZm9yIChjb25zdCByZXNvdXJjZSBpbiBidWlsZGluZy5jb3N0KSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJSZWR1Y2luZyBcIiwgcmVzb3VyY2UsIFwiYnlcIiwgYnVpbGRpbmcuY29zdFtyZXNvdXJjZV0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGluY3JlYXNlTWF0ZXJpYWwpO1xyXG4gICAgICAgIGluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2UsIC1idWlsZGluZy5jb3N0W3Jlc291cmNlXSk7XHJcbiAgICB9XHJcbiAgICAvLyBBZGQgdGhlIGVmZmVjdHNcclxuICAgIGZvciAoY29uc3QgcmVzb3VyY2UgaW4gYnVpbGRpbmcuZWZmZWN0cykge1xyXG4gICAgICAgIC8vIGlmIChidWlsZGluZy5lZmZlY3RzW2VmZmVjdF0pIHtcclxuICAgICAgICBpbmNyZWFzZU1heChyZXNvdXJjZSwgYnVpbGRpbmcuZWZmZWN0c1tyZXNvdXJjZV0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBBZGRpdGlvbmFsIGxvZ2ljIGNhbiBiZSBhZGRlZCBoZXJlIGZvciBvdGhlciBlZmZlY3RzIChlLmcuLCBpbmNyZWFzZSBwcm9kdWN0aW9uIHJhdGVzKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBBY3R1YWxseSBidWlsZCB0aGUgYnVpbGRpbmdcclxuICAgIGJ1aWxkaW5nLmNvdW50Kys7XHJcblxyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG5cclxuICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICAvLyBVcGRhdGUgYnV0dG9uIHRleHRcclxuICAgIHVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQoYnVpbGRpbmdOYW1lLCBidWlsZGluZy5jb3VudCk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBjb3N0IG9mIHRoZSBidWlsZGluZ1xyXG4gICAgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QoYnVpbGRpbmdOYW1lLCBidWlsZGluZ3MsIGhhc1BlcmspO1xyXG59XHJcblxyXG5mdW5jdGlvbiBidXlNYXhCdWlsZGluZ3MoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICB3aGlsZSAoY2FuQnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKSkge1xyXG4gICAgICAgIGJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQoYnVpbGRpbmdOYW1lLCBidWlsZGluZ0NvdW50KSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtidWlsZGluZ05hbWV9YCkudGV4dENvbnRlbnQgPSBgJHtjYXBpdGFsaXplRmlyc3QoYnVpbGRpbmdOYW1lKS5zcGxpdCgnXycpLmpvaW4oJyAnKX0gKCR7YnVpbGRpbmdDb3VudH0pYDtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8vIGZ1bmN0aW9uIGRvdWJsZVN0b3JhZ2VFZmZlY3RzSWZQYXNzZWQoKSB7XHJcbi8vICAgICBpZiAocGFzc2VkU3RhZ2UoXCJkb3VibGVTdG9yYWdlMVwiKSkge1xyXG4vLyAgICAgICAgIGZvciAobGV0IGJ1aWxkaW5nS2V5IGluIGJ1aWxkaW5ncykge1xyXG4vLyAgICAgICAgICAgICBsZXQgYnVpbGRpbmcgPSBidWlsZGluZ3NbYnVpbGRpbmdLZXldO1xyXG5cclxuLy8gICAgICAgICAgICAgaWYgKGJ1aWxkaW5nLmVmZmVjdHMpIHtcclxuLy8gICAgICAgICAgICAgICAgIGZvciAobGV0IG1hdGVyaWFsIGluIGJ1aWxkaW5nLmVmZmVjdHMpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBidWlsZGluZy5lZmZlY3RzW21hdGVyaWFsXS5tYXggKj0gMjtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QsXHJcbiAgICBnZW5lcmF0ZUJ1aWxkaW5nVG9vbHRpcENvc3QsXHJcbiAgICBjcmVhdGVCdWlsZGluZ0J1dHRvbixcclxuICAgIHVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQsXHJcbn07IiwiY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcblxyXG4vLyBHZXQgZnVuY3Rpb24gZm9yIG1hdGVyaWFsc1xyXG4vKipcclxuICogR2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gbWF0ZXJpYWxcclxuICogQHBhcmFtIHtzdHJpbmd9IG1hdGVyaWFsXHJcbiAqIEByZXR1cm5zIFZhbHVlIG9mIG1hdGVyaWFsXHJcbiovXHJcbmZ1bmN0aW9uIGdldE1hdGVyaWFsKG1hdGVyaWFsLCByZXNvdXJjZXMpIHtcclxuICAgIGlmIChyZXNvdXJjZXMuaGFzT3duUHJvcGVydHkobWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIG1hdGVyaWFsOlwiLCBtYXRlcmlhbCk7ICAvLyBGb3IgZGVidWdnaW5nXHJcbiAgICAgICAgcmV0dXJuIGdldENyYWZ0ZWRSZXNvdXJjZShtYXRlcmlhbCk7XHJcblxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZ2V0TWF0ZXJpYWwgPSBnZXRNYXRlcmlhbDsiLCJjb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoJy4vanNvbi9idXR0b25zJyk7XHJcbmNvbnN0IHsgc2tpbGxzIH0gPSByZXF1aXJlKCcuL2pzb24vc2tpbGxzJyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZCB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuY29uc3QgeyBnZXRCdWlsZGluZ0NvdW50LCBidWlsZGluZ3MgfSA9IHJlcXVpcmUoJy4vanNvbi9idWlsZGluZ3MnKTtcclxuXHJcbmNvbnN0IHsgaXNQb25kZXJlZCwgY2FuVW5sb2NrIH0gPSByZXF1aXJlKCcuL3BvbmRlcicpO1xyXG5jb25zdCB7IGNyYWZ0ZWRSZXNvdXJjZXMsIGdldENyYWZ0ZWRSZXNvdXJjZUtleUJ5Q29uZmlnIH0gPSByZXF1aXJlKFwiLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXNcIik7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmxldCBzdGFnZXMgPSBbXTtcclxubGV0IGFsbFZpc2libGVCdXR0b25zID0gbmV3IFNldChbJ2dhdGhlclN0aWNrcyddKTtcclxuZXhwb3J0cy5hbGxWaXNpYmxlQnV0dG9ucyA9IGFsbFZpc2libGVCdXR0b25zO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBzdHJpbmdFeGFtcGxlXHJcbiAqIEByZXR1cm5zIFN0cmluZ0V4YW1wbGVcclxuICovXHJcbmZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdChzdHIpIHtcclxuICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNYWtlIGV2ZXJ5dGhpbmcgd2l0aCB0aGUgY2xhc3MgXCJzdGFnZVwiIHZpc2libGVcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0YWdlIFxyXG4gKi9cclxuZnVuY3Rpb24gbWFrZVZpc2libGUoc3RhZ2UpIHtcclxuICAgIGlmICghcGFzc2VkU3RhZ2Uoc3RhZ2UpKSB7XHJcbiAgICAgICAgc3RhZ2VzLnB1c2goc3RhZ2UpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc3RhZ2VFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJwLlwiICsgc3RhZ2UpO1xyXG4gICAgc3RhZ2VFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4gZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJykpO1xyXG4gICAgLy8gXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBzdGFnZUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJyk7XHJcbiAgICB1cGRhdGVCdXR0b25WaXNpYmlsaXR5KCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0YWdlIFN0YWdlIHRvIGNoZWNrXHJcbiAqIEByZXR1cm5zIGJvb2xlYW4gaWYgc3RhZ2UgaW4gc3RhZ2VzXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXNzZWRTdGFnZShzdGFnZSkge1xyXG4gICAgcmV0dXJuIHN0YWdlcy5pbmNsdWRlcyhzdGFnZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEFsbFN0YWdlcygpIHtcclxuICAgIHJldHVybiBzdGFnZXM7XHJcbn1cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVpbGRpbmdOYW1lIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmZ1bmN0aW9uIGNhbkJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBlbm91Z2ggcmVzb3VyY2VzXHJcbiAgICBsZXQgY2FuQnV5ID0gdHJ1ZTtcclxuICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV07XHJcblxyXG4gICAgZm9yIChjb25zdCByZXNvdXJjZSBpbiBidWlsZGluZy5jb3N0KSB7XHJcbiAgICAgICAgaWYgKGJ1aWxkaW5nLmNvc3RbcmVzb3VyY2VdID4gZ2V0TWF0ZXJpYWwocmVzb3VyY2UsIHJlc291cmNlcykpIHtcclxuICAgICAgICAgICAgY2FuQnV5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnY2FuIHdlIGJ1eSAnLGJ1aWxkaW5nTmFtZSxjYW5CdXkpO1xyXG4gICAgcmV0dXJuIGNhbkJ1eTtcclxufVxyXG4vKipcclxuICogQSBtYXAgb2YgYWxsIGpvYnMgdGhhdCByZXF1aXJlIGEgcG9uZGVyIHRvIGJlIHVubG9ja2VkXHJcbiAqXHJcbiAqIEpvYjogUmVxdWlyZWRQb25kZXJcclxuICovXHJcbmNvbnN0IGpvYlJlcXVpcmVkUG9uZGVycyA9IHtcclxuICAgICd0aGlua2luZyc6ICd0aGlua2luZycsXHJcbiAgICAnZmlzaGluZyc6ICdmaXNoaW5nJyxcclxuICAgICdzbWl0aGluZyc6ICdub3QtdW5sb2NrYWJsZScsXHJcbiAgICAnZmFybWluZyc6ICdhZ3JpY3VsdHVyZScsXHJcbiAgICAnY29tYmF0JzogJ2NvbWJhdCcsXHJcbiAgICAnaHVudGluZyc6ICdodW50aW5nJ1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoYW5nZXMgdGhlIHN0YXRlcyBvZiBidXR0b25zIGJldHdlZW4gJ2hpZGRlbicsICdwdXJjaGFzYWJsZScsIGFuZCAnYnV0dG9uLWRpc2FibGVkJ1xyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSgpIHtcclxuICAgIGNvbnN0IHNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKTsgLy8gQWRqdXN0IHRoZSBzZWxlY3RvciBhY2NvcmRpbmdseVxyXG5cclxuICAgIHNlbGVjdEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbmZpZyA9IGJ1dHRvbnNbYnV0dG9uLmlkXTsgLyogZ2V0IHRoZSBidXR0b24ncyBjb25maWd1cmF0aW9uIHVzaW5nIGl0cyBkYXRhIGF0dHJpYnV0ZSBvciBJRCwgZXRjLiAqLy8qIGdldCB0aGUgYnV0dG9uJ3MgY29uZmlndXJhdGlvbiB1c2luZyBpdHMgZGF0YSBhdHRyaWJ1dGUgb3IgSUQsIGV0Yy4gKi87XHJcbiAgICAgICAgaWYgKCFidXR0b25Db25maWcpIHJldHVybjtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b25Db25maWcuZGF0YV9idWlsZGluZywgYnV0dG9uQ29uZmlnLnJlcXVpcmVtZW50KTtcclxuICAgICAgICAvLyBSZXNldCBhbGwgc3RhdGVzIGZpcnN0XHJcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicsICdwdXJjaGFzYWJsZScsICdidXR0b24tZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgdmFyIHN0YXRlID0gJ2hpZGRlbic7XHJcblxyXG4gICAgICAgIGlmIChidXR0b24uaWQgJiYgYWxsVmlzaWJsZUJ1dHRvbnMuaGFzKGJ1dHRvbi5pZCkpIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG4gICAgICAgIC8vIElmIHJlcXVpcmVtZW50IGlzIG1ldCwgaXQgc2hvdWxkIGJlIHZpc2libGVcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLnJlcXVpcmVtZW50KCkpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgcHVyY2hhc2FibGUgZ2F0aGVyIGJ1dHRvbnNcclxuICAgICAgICAgICAgICAgIGlmIChidXR0b25Db25maWcudGFiICYmICFidXR0b25Db25maWcuZGF0YV9idWlsZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgPT09ICdwcm9kdWN0aW9uJykgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHBvbmRlciBidXR0b25cclxuICAgICAgICAgICAgICAgIGlmIChidXR0b24uaWQgJiYgYnV0dG9uLmlkID09PSAnZ2F0aGVyUG9uZGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBwb25kZXIgdW5sb2Nrc1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgJiYgYnV0dG9uQ29uZmlnLnRhYiA9PT0gJ3BvbmRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24uY2xhc3NMaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmlkICYmIGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3VubG9jaycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5VbmxvY2soYnV0dG9uLmlkKSkgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIHBvbmRlciBidXR0b24gaXMgdW5sb2NrZWQsIGhpZGUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoYnV0dG9uLmdldEF0dHJpYnV0ZSgndW5sb2NrJykpKSBzdGF0ZSA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24sIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdGFiIGJ1dHRvbnMgYWx3YXlzIGVpdGhlciBoaWRkZW4gb3IgZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgJiYgYnV0dG9uQ29uZmlnLnRhYiA9PT0gJ3RhYnMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAndmlzaWJsZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciB3aXRoIGNoZWNraW5nIHJlcXVpcmVtZW50IG9mIGJ1dHRvbjogJywgYnV0dG9uQ29uZmlnLCBlcnIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5pZCAmJiBidXR0b25Db25maWcuaWQuc2xpY2UoMCwgNSkgPT09ICdjcmFmdCcpIHtcclxuICAgICAgICAgICAgLy8gbmV2ZXIgaGlkZSB0aGlzIGJ1dHRvbiBvbmNlIGl0cyBiZWVuIHVubG9ja2VkXHJcbiAgICAgICAgICAgIGlmIChidXR0b25Db25maWcuY3JhZnRlZE9uY2UpIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UgY2FuIGFmZm9yZCB0aGlzIGNyYWZ0LCBpdCBzaG91bGQgYmUgcHVyY2hhc2FibGVcclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIHZhciBjcmFmdGVkID0gZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZChidXR0b25Db25maWcuaWQpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjcmFmdGVkKTtcclxuICAgICAgICAgICAgaWYgKGNyYWZ0ZWQudmFsdWUgPiAwKSBzdGF0ZSA9ICdidXR0b24tZGlzYWJsZWQnO1xyXG5cclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldENyYWZ0ZWRSZXNvdXJjZUtleUJ5Q29uZmlnKGNyYWZ0ZWQpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhrZXkpO1xyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgaWYgKGNhbkNyYWZ0KGtleSkpIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHdlIGNhbiBhZmZvcmQgdGhpcyBidWlsZGluZywgaXQgc2hvdWxkIGJlIHB1cmNoYXNhYmxlXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnKTtcclxuICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcpIHtcclxuICAgICAgICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBwdXJjaGFzZWQgYSBidWlsZGluZywgaXQgc2hvdWxkIGJlIHZpc2libGVcclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIHN0YXRlID0gZ2V0QnVpbGRpbmdDb3VudChidXR0b25Db25maWcuZGF0YV9idWlsZGluZykgPyAnYnV0dG9uLWRpc2FibGVkJyA6IHN0YXRlO1xyXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBidWlsZGluZyBjb3N0XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkNvbmZpZyk7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBzdGF0ZSA9IGNhbkJ1eUJ1aWxkaW5nKGJ1dHRvbkNvbmZpZy5kYXRhX2J1aWxkaW5nKSA/ICdwdXJjaGFzYWJsZScgOiBzdGF0ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGhpZGRlbiBpcyBtZXQsIGl0IHNob3VsZCBiZSBoaWRkZW5cclxuICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLmhpZGUpIHtcclxuICAgICAgICAgICAgc3RhdGUgPSBidXR0b25Db25maWcuaGlkZSgpID8gJ2hpZGRlbicgOiBzdGF0ZTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAvLyBBZGQgdGhlIGN1cnJlbnQgc3RhdGVcclxuICAgICAgICBpZiAoc3RhdGUgIT09ICcnKSBidXR0b24uY2xhc3NMaXN0LmFkZChzdGF0ZSk7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBzdGF0ZSBpcyBub3QtcHVyY2hhc2FibGUsIGRpc2FibGUgdGhlIGJ1dHRvblxyXG4gICAgICAgIC8vIGJ1dHRvbi5kaXNhYmxlZCA9IHN0YXRlID09PSAnYnV0dG9uLWRpc2FibGVkJztcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIHRvb2x0aXAgZm9yIHRoaXMgYnV0dG9uIGlmIGl0cyBhY3RpdmVcclxuICAgICAgICAvLyBpZiAoYnV0dG9uID09PSBjdXJyZW50SG92ZXJCdXR0b24pIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuICAgICAgICAvLyBJZiB0aGUgc3RhdGUgaXMgaGlkZGVuLCBzZXQgdGhlIGJ1dHRvbidzIGRpc3BsYXkgdG8gbm9uZVxyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gJ2hpZGRlbicpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2hpZGluZycsYnV0dG9uKTtcclxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsbCB2aXNpYmxlICcsIGJ1dHRvbi5pZCk7XHJcbiAgICAgICAgICAgIGFsbFZpc2libGVCdXR0b25zLmFkZChidXR0b24uaWQpO1xyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICcnOyAvLyBUaGlzIHdpbGwgcmV2ZXJ0IGl0IGJhY2sgdG8gaXRzIG9yaWdpbmFsIGRpc3BsYXkgc3RhdGUgb3IgZGVmYXVsdCAoZS5nLiwgJ2Jsb2NrJyBvciAnaW5saW5lLWJsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9iLWJ1dHRvbicpLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgICBjb25zdCBqb2IgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWpvYicpO1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncHVyY2hhc2FibGUnLCAnYnV0dG9uLWRpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgY29uc3QgcmVxUG9uZGVyID0gam9iUmVxdWlyZWRQb25kZXJzW2pvYl07XHJcbiAgICAgICAgaWYgKHJlcVBvbmRlciA9PT0gbnVsbCB8fCByZXFQb25kZXIgPT09IHVuZGVmaW5lZCkgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgIGVsc2UgaWYgKGlzUG9uZGVyZWQocmVxUG9uZGVyKSkgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgIGVsc2UgaWYgKHJlcVBvbmRlciA9PT0gJ25vdC11bmxvY2thYmxlJykgc3RhdGUgPSAnaGlkZGVuJztcclxuICAgICAgICBlbHNlIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhqb2IsIGJ1dHRvbiwgcmVxUG9uZGVyLCBzdGF0ZSk7XHJcbiAgICAgICAgLy8gYnV0dG9uLmNsYXNzTGlzdC5cclxuICAgICAgICBpZiAoc3RhdGUgPT09ICdoaWRkZW4nKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdoaWRpbmcnLGJ1dHRvbik7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGwgdmlzaWJsZSAnLCBidXR0b24uaWQpO1xyXG4gICAgICAgICAgICBhbGxWaXNpYmxlQnV0dG9ucy5hZGQoYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoc3RhdGUpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJyc7IC8vIFRoaXMgd2lsbCByZXZlcnQgaXQgYmFjayB0byBpdHMgb3JpZ2luYWwgZGlzcGxheSBzdGF0ZSBvciBkZWZhdWx0IChlLmcuLCAnYmxvY2snIG9yICdpbmxpbmUtYmxvY2snKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIENhbGN1bGF0ZSB0aGUgZmluYWwgbnVtYmVyIG9mIGNyYWZ0ZWQgZ29vZHMgZnJvbSBib251c2VzXHJcbi8vIEB0cy1pZ25vcmVcclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBjYWxjQ3JhZnRCb251cyhyZXNvdXJjZUtleSkge1xyXG4gICAgcmV0dXJuIDE7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjYW5DcmFmdChyZXNvdXJjZUtleSkge1xyXG4gICAgbGV0IGNhbkNyYWZ0ID0gdHJ1ZTtcclxuICAgIGxldCByZXF1aXJlbWVudHMgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jb3N0O1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGFsbCByZXF1aXJlbWVudHMgYXJlIG1ldFxyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKGxldCBtYXQgaW4gcmVxdWlyZW1lbnRzKSB7XHJcbiAgICAgICAgICAgIGlmIChnZXRNYXRlcmlhbChtYXQsIHJlc291cmNlcykgPCByZXF1aXJlbWVudHNbbWF0XSkge1xyXG4gICAgICAgICAgICAgICAgY2FuQ3JhZnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciBpbiBjYWxjdWxhdGluZyByZXF1aXJlbWVudHM6ICcsIHJlc291cmNlS2V5LCByZXF1aXJlbWVudHMsIGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNhbkNyYWZ0O1xyXG59XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGdldEFmZmVjdGVkUmVzb3VyY2VzKHNraWxsKSB7XHJcbiAgICBpZiAoc2tpbGxzW3NraWxsXSkge1xyXG4gICAgICAgIHJldHVybiBza2lsbHNbc2tpbGxdLmFmZmVjdGVkUmVzb3VyY2VzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7ICAvLyBvciBhbiBlbXB0eSBhcnJheSBbXSwgYmFzZWQgb24geW91ciBwcmVmZXJlbmNlXHJcbn1cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF0ZXJpYWwgXHJcbiAqIEByZXR1cm5zIE1heCBvZiBtYXRlcmlhbCBvciBJbmZpbml0eVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TWF4KG1hdGVyaWFsKSB7XHJcbiAgICBpZiAocmVzb3VyY2VzLmhhc093blByb3BlcnR5KG1hdGVyaWFsKSkge1xyXG4gICAgICAgIHJldHVybiByZXNvdXJjZXNbbWF0ZXJpYWxdLm1heDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdXBkYXRlU2lkZWJhcigpIHtcclxuICAgIGZvciAoY29uc3QgW3Jlc291cmNlTmFtZSwgcmVzb3VyY2VDb25maWddIG9mIE9iamVjdC5lbnRyaWVzKHJlc291cmNlcykpIHtcclxuXHJcbiAgICAgICAgY29uc3QgcGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZS0nICsgcmVzb3VyY2VOYW1lKTtcclxuICAgICAgICBpZiAoIXBhcmVudEVsZW1lbnQpIHJldHVybjtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhwYXJlbnRFbGVtZW50KTtcclxuICAgICAgICB2YXIgc2hvdWxkSGlkZSA9IHRydWU7XHJcbiAgICAgICAgZm9yIChsZXQgYyBpbiBwYXJlbnRFbGVtZW50LmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaGFzIHBhc3NlZCcsIHJlc291cmNlTmFtZSwgcGFzc2VkU3RhZ2UoYykpO1xyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoYykpIHsgc2hvdWxkSGlkZSA9IGZhbHNlOyBjb25zb2xlLmxvZygnZG9udCBoaWRlJywgcmVzb3VyY2VOYW1lLCBjKTsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVzb3VyY2VDb25maWcudmFsdWUgPiAwKSB7IHNob3VsZEhpZGUgPSBmYWxzZTsgcmVzb3VyY2VzW3Jlc291cmNlTmFtZV0uaXNWaXNpYmxlID0gdHJ1ZTsgfVxyXG4gICAgICAgIGlmIChyZXNvdXJjZUNvbmZpZy5pc1Zpc2libGUpIHsgc2hvdWxkSGlkZSA9IGZhbHNlOyB9XHJcblxyXG4gICAgICAgIGlmIChzaG91bGRIaWRlKSB7XHJcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGlzcGxheUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZXNvdXJjZU5hbWUgKyAnVmFsdWUnKTtcclxuICAgICAgICBpZiAoZGlzcGxheUVsZW0pIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYWJicmV2aWF0ZU51bWJlcihyZXNvdXJjZURhdGEpKTtcclxuICAgICAgICAgICAgdmFyIGNvbG9yID0gJyNmZmYnO1xyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgaWYgKHJlc291cmNlQ29uZmlnLnZhbHVlID09PSBnZXRNYXgocmVzb3VyY2VOYW1lKSkgY29sb3IgPSAnI2ZjYyc7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBlbHNlIGlmIChyZXNvdXJjZUNvbmZpZy52YWx1ZSAvIGdldE1heChyZXNvdXJjZU5hbWUpID4gLjYpIGNvbG9yID0gJyNlZWInO1xyXG5cclxuICAgICAgICAgICAgZGlzcGxheUVsZW0uaW5uZXJIVE1MID0gYDxzcGFuIHN0eWxlPVwiY29sb3I6JHtjb2xvcn1cIj4ke2FiYnJldmlhdGVOdW1iZXIocmVzb3VyY2VDb25maWcudmFsdWUpfSAvICR7YWJicmV2aWF0ZU51bWJlcihnZXRNYXgocmVzb3VyY2VOYW1lKSl9IDwvc3Bhbj5gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWJicmV2aWF0ZU51bWJlcihudW0pIHtcclxuICAgIGZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSwgdW5pdCkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDEwKSByZXR1cm4gcm91bmRUb0RlY2ltYWxzKHZhbHVlLCAzKSArIHVuaXQ7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgMTAwKSByZXR1cm4gcm91bmRUb0RlY2ltYWxzKHZhbHVlLCAyKSArIHVuaXQ7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgMTAwMCkgcmV0dXJuIHJvdW5kVG9EZWNpbWFscyh2YWx1ZSwgMSkgKyB1bml0O1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlKSArIHVuaXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcm91bmRUb0RlY2ltYWxzKG51bWJlciwgZGVjaW1hbHMpIHtcclxuICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLnBvdygxMCwgZGVjaW1hbHMpO1xyXG4gICAgICAgIHJldHVybiAoTWF0aC5yb3VuZChudW1iZXIgKiBmYWN0b3IpIC8gZmFjdG9yKS50b0ZpeGVkKGRlY2ltYWxzKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobnVtIDwgMWUzKSByZXR1cm4gcm91bmRUb0RlY2ltYWxzKG51bSwgMik7IC8vIElmIGxlc3MgdGhhbiAxLDAwMFxyXG4gICAgaWYgKG51bSA8IDFlNikgcmV0dXJuIGZvcm1hdChudW0gLyAxZTMsICdLJyk7IC8vIFRob3VzYW5kc1xyXG4gICAgaWYgKG51bSA8IDFlOSkgcmV0dXJuIGZvcm1hdChudW0gLyAxZTYsICdNJyk7IC8vIE1pbGxpb25zXHJcbiAgICBpZiAobnVtIDwgMWUxMikgcmV0dXJuIGZvcm1hdChudW0gLyAxZTksICdCJyk7IC8vIEJpbGxpb25zXHJcbiAgICAvLyBBZGQgbW9yZSBjYXNlcyBmb3IgbGFyZ2VyIG51bWJlcnMgaWYgbmVlZGVkXHJcbiAgICByZXR1cm4gbnVtLnRvU3RyaW5nKCk7XHJcbn1cclxuY29uc3QgbGV2ZWxVcE1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWxVcE1lc3NhZ2UnKTtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVNraWxscyhyZXNvdXJjZSwgbnVtKSB7XHJcbiAgICBudW0gPSBNYXRoLmFicyhudW0pO1xyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ2Zhc3RlclNraWxscycpKSBudW0gKj0gMS4wNTtcclxuICAgIC8vIFxyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uYWZmZWN0ZWRSZXNvdXJjZXMuaW5jbHVkZXMocmVzb3VyY2UpKSB7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBza2lsbHNbc2tpbGxdLmV4cCArPSBudW0gLyBNYXRoLnBvdygxLjEsIHNraWxsc1tza2lsbF0ubGV2ZWwpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlVwZGF0aW5nIHNraWxsOlwiICsgc2tpbGwgKyBcIiB0byBcIiArIHNraWxsc1tza2lsbF0uZXhwKVxyXG5cclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmV4cCA+PSAxMDApIHtcclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgc2tpbGxzW3NraWxsXS5sZXZlbCArPSAxO1xyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICBza2lsbHNbc2tpbGxdLmV4cCA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkxldmVsIFVwISBcIiArIHNraWxsICsgc2tpbGxzW3NraWxsXS5sZXZlbCk7XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIGxldmVsVXBNZXNzYWdlLnRleHRDb250ZW50ID0gYExldmVsIHVwISAke3NraWxsfSDihpIgJHtza2lsbHNbc2tpbGxdLmxldmVsfWA7XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIGxldmVsVXBNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSB0aGUgbWVzc2FnZSBhZnRlciAzIHNlY29uZHNcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldmVsVXBNZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxVcE1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICB9LCAzMDAwKTsgLy8gMzAwMCBtaWxsaXNlY29uZHMgKDMgc2Vjb25kcylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwYXNzZWRTdGFnZSgnc2tpbGxzVGFibGUnKSkge1xyXG4gICAgICAgIHBvcHVsYXRlU2tpbGxzVGFibGUoKTtcclxuICAgIH1cclxufVxyXG5cclxubGV0IGhhc0dlbmVyYXRlZFNraWxsVGFibGUgPSBmYWxzZTtcclxuXHJcbmZ1bmN0aW9uIHBvcHVsYXRlU2tpbGxzVGFibGUoKSB7XHJcbiAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdza2lsbHNUYWJsZScpO1xyXG5cclxuICAgIC8vIElmIHRoZSB0YWJsZSBpcyBlbXB0eSwgY3JlYXRlIHRoZSByb3dzIGFuZCBwcm9ncmVzcyBiYXJzXHJcbiAgICBpZiAoIWhhc0dlbmVyYXRlZFNraWxsVGFibGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkdlbmVyYXRpbmcgdGFibGUgZm9yIHRoZSBmaXJzdCB0aW1lXCIpO1xyXG4gICAgICAgIGhhc0dlbmVyYXRlZFNraWxsVGFibGUgPSB0cnVlO1xyXG4gICAgICAgIC8vIFxyXG4gICAgICAgIGZvciAobGV0IHNraWxsIGluIHNraWxscykge1xyXG4gICAgICAgICAgICBsZXQgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgICAgICAgICB0ci5pZCA9ICd0ci0nICsgc2tpbGw7XHJcbiAgICAgICAgICAgIGxldCB0ZFByb2dyZXNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgdGRQcm9ncmVzcy5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcblxyXG4gICAgICAgICAgICBsZXQgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdwcm9ncmVzc0JhcicpO1xyXG4gICAgICAgICAgICAvLyBpZiAoaXNEYXJrKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBwcm9ncmVzc0Jhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzIyOEIyMic7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgLy8gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICAgICBwcm9ncmVzc0Jhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzUwQzg3OCc7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUuaGVpZ2h0ID0gJzIwcHgnO1xyXG4gICAgICAgICAgICBwcm9ncmVzc0Jhci5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2tpbGwnLCBza2lsbCk7IC8vIEFzc2lnbiBhIGRhdGEgYXR0cmlidXRlIGZvciBpZGVudGlmaWNhdGlvblxyXG5cclxuICAgICAgICAgICAgbGV0IHNraWxsVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBza2lsbFRleHQudGV4dENvbnRlbnQgPSAnWycgKyBza2lsbHNbc2tpbGxdLmxldmVsICsgJ10gICAnICsgc2tpbGw7XHJcbiAgICAgICAgICAgIHNraWxsVGV4dC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2xldmVsLScgKyBza2lsbCk7XHJcbiAgICAgICAgICAgIHNraWxsVGV4dC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgIHNraWxsVGV4dC5zdHlsZS5sZWZ0ID0gJzEwcHgnO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgICAgICAgIHNraWxsVGV4dC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtNTAlKSc7XHJcblxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uZXhwID09IDAgJiYgc2tpbGxzW3NraWxsXS5sZXZlbCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0ci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRkUHJvZ3Jlc3MuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NCYXIpO1xyXG4gICAgICAgICAgICB0ZFByb2dyZXNzLmFwcGVuZENoaWxkKHNraWxsVGV4dCk7XHJcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkUHJvZ3Jlc3MpO1xyXG5cclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRyKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIERpc3BsYXkgZXZlcnl0aGluZyB3ZSBjYW5cclxuICAgICAgICBmb3IgKGxldCBza2lsbCBpbiBza2lsbHMpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmV4cCA+IDAgfHwgc2tpbGxzW3NraWxsXS5sZXZlbCA+IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RyLScgKyBza2lsbCkuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBwcm9ncmVzc0JhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wcm9ncmVzc0JhcltkYXRhLXNraWxsPVwiJHtza2lsbH1cIl1gKTtcclxuICAgICAgICAgICAgaWYgKHByb2dyZXNzQmFyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gc2tpbGxzW3NraWxsXS5leHAgKyAnJSc7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2tpbGxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsZXZlbC1cIiArIHNraWxsKTtcclxuICAgICAgICAgICAgICAgIHNraWxsTmFtZS50ZXh0Q29udGVudCA9ICdbJyArIHNraWxsc1tza2lsbF0ubGV2ZWwgKyAnXSAgICcgKyBza2lsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY2FwaXRhbGl6ZUZpcnN0LFxyXG4gICAgbWFrZVZpc2libGUsXHJcbiAgICBwYXNzZWRTdGFnZSxcclxuICAgIGdldE1hdGVyaWFsLFxyXG4gICAgZ2V0TWF4LFxyXG4gICAgdXBkYXRlU2lkZWJhcixcclxuICAgIHVwZGF0ZVNraWxscyxcclxuICAgIHBvcHVsYXRlU2tpbGxzVGFibGUsXHJcbiAgICBnZXRBbGxTdGFnZXMsXHJcbiAgICB1cGRhdGVCdXR0b25WaXNpYmlsaXR5LCBjYW5DcmFmdCwgY2FsY0NyYWZ0Qm9udXMsXHJcbiAgICBjYW5CdXlCdWlsZGluZyxcclxuICAgIGhhc0dlbmVyYXRlZFNraWxsVGFibGVcclxufTtcclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXRlcmlhbFxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Q3JhZnRlZFJlc291cmNlKG1hdGVyaWFsKSB7XHJcbiAgICAvLyB0cnkge1xyXG4gICAgbWF0ZXJpYWwgPSBtYXRlcmlhbC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgLy8gfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vICAgICBjb25zb2xlLndhcm4obWF0ZXJpYWwsIGVycm9yKTtcclxuICAgIC8vICAgICByZXR1cm4gbnVsbDtcclxuICAgIC8vIH1cclxuICAgIGlmIChjcmFmdGVkUmVzb3VyY2VzLmhhc093blByb3BlcnR5KG1hdGVyaWFsKSkge1xyXG4gICAgICAgIHJldHVybiBjcmFmdGVkUmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgKFwiSW52YWxpZCBjcmFmdGVkIHJlc291cmNlOlwiICsgbWF0ZXJpYWwpOyAvLyBGb3IgZGVidWdnaW5nXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5nZXRDcmFmdGVkUmVzb3VyY2UgPSBnZXRDcmFmdGVkUmVzb3VyY2U7XHJcbiIsIi8vIEB0cy1ub2NoZWNrXHJcbi8vIERFUEVORFMgT046IHNraWxscy5qcywgcG9uZGVyLmpzXHJcbmNvbnN0IHsgc2tpbGxzIH0gPSByZXF1aXJlKCcuL2pzb24vc2tpbGxzJyk7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcblxyXG5cclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IHVwZGF0ZUVtb2ppRGlzcGxheSB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkIH0gPSByZXF1aXJlKFwiLi9wb25kZXJcIik7XHJcblxyXG4vKiBKT0JTIEZVTkNUSU9OQUxJVFkgKi9cclxuXHJcblxyXG5jb25zdCBqb2JDb3VudHMgPSB7fTtcclxuZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICBqb2JDb3VudHNbc2tpbGxdID0gMDtcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBqb2JzVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYnNUYWInKTtcclxuXHJcbk9iamVjdC5rZXlzKHNraWxscykuZm9yRWFjaChza2lsbCA9PiB7XHJcbiAgICBjb25zdCBqb2JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGpvYkRpdi5jbGFzc0xpc3QuYWRkKCdqb2ItYnV0dG9uJyk7XHJcbiAgICBqb2JEaXYuc2V0QXR0cmlidXRlKCdkYXRhLWpvYicsIHNraWxsKTtcclxuICAgIGpvYkRpdi5pZCA9ICdqb2ItYnV0dG9uLScgKyBza2lsbDtcclxuXHJcbiAgICBjb25zdCBkZWNyZW1lbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRlY3JlbWVudERpdi5jbGFzc0xpc3QuYWRkKCdidG4tZGVjcmVtZW50Jyk7XHJcbiAgICBkZWNyZW1lbnREaXYudGV4dENvbnRlbnQgPSAnLSc7XHJcbiAgICBqb2JEaXYuYXBwZW5kQ2hpbGQoZGVjcmVtZW50RGl2KTtcclxuXHJcbiAgICBjb25zdCBqb2JOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIGpvYk5hbWVTcGFuLmNsYXNzTGlzdC5hZGQoJ2pvYi1uYW1lJyk7XHJcbiAgICBqb2JOYW1lU3Bhbi50ZXh0Q29udGVudCA9IGAke3NraWxsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc2tpbGwuc2xpY2UoMSl9OiAwYDtcclxuICAgIGpvYkRpdi5hcHBlbmRDaGlsZChqb2JOYW1lU3Bhbik7XHJcblxyXG4gICAgY29uc3QgaW5jcmVtZW50RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBpbmNyZW1lbnREaXYuY2xhc3NMaXN0LmFkZCgnYnRuLWluY3JlbWVudCcpO1xyXG4gICAgaW5jcmVtZW50RGl2LnRleHRDb250ZW50ID0gJysnO1xyXG4gICAgam9iRGl2LmFwcGVuZENoaWxkKGluY3JlbWVudERpdik7XHJcblxyXG4gICAgam9ic1RhYi5hcHBlbmRDaGlsZChqb2JEaXYpO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idG4taW5jcmVtZW50JykuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGpvYlR5cGUgPSB0aGlzLmNsb3Nlc3QoJy5qb2ItYnV0dG9uJykuZ2V0QXR0cmlidXRlKCdkYXRhLWpvYicpO1xyXG4gICAgICAgIGlmIChnZXRNYXRlcmlhbCgnY2xvbmVzJywgcmVzb3VyY2VzKSA+IGdldFRvdGFsSm9icygpKSB7XHJcbiAgICAgICAgICAgIGpvYkNvdW50c1tqb2JUeXBlXSsrO1xyXG4gICAgICAgICAgICAvLyBpbmNyZWFzZU1hdGVyaWFsKCdjbG9uZXMnLCAtMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpc3RyaWJ1dGVXb3JrZXJzKGpvYlR5cGUsIGpvYkNvdW50c1tqb2JUeXBlXSk7XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheShqb2JUeXBlKTtcclxuICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHdvcmtlcnNEaXN0cmlidXRpb24pO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ0bi1kZWNyZW1lbnQnKS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3Qgam9iVHlwZSA9IHRoaXMuY2xvc2VzdCgnLmpvYi1idXR0b24nKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJyk7XHJcbiAgICAgICAgaWYgKGpvYkNvdW50c1tqb2JUeXBlXSA+IDApIHtcclxuICAgICAgICAgICAgam9iQ291bnRzW2pvYlR5cGVdLS07XHJcbiAgICAgICAgICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwoJ2Nsb25lcycsIDEpO1xyXG4gICAgICAgICAgICBkaXN0cmlidXRlV29ya2Vycyhqb2JUeXBlLCBqb2JDb3VudHNbam9iVHlwZV0pO1xyXG4gICAgICAgICAgICB1cGRhdGVEaXNwbGF5KGpvYlR5cGUpO1xyXG4gICAgICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTtcclxuXHJcblxyXG5mdW5jdGlvbiBnZXRUb3RhbEpvYnMoKSB7XHJcbiAgICB2YXIgdG90YWwgPSAwO1xyXG4gICAgZm9yIChsZXQgaiBpbiBqb2JDb3VudHMpIHtcclxuICAgICAgICB0b3RhbCArPSBqb2JDb3VudHNbal07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG90YWw7XHJcbn1cclxuXHJcbi8vIEdsb2JhbCBmb3Igd2hpY2ggcmVzb3VyY2UgZWFjaCBjbG9uZSBnYXRoZXJzXHJcbmxldCB3b3JrZXJzRGlzdHJpYnV0aW9uID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiBkaXN0cmlidXRlV29ya2Vycyhza2lsbCwgdG90YWxXb3JrZXJzKSB7XHJcbiAgICBpZiAoIXNraWxsc1tza2lsbF0pIHJldHVybiBudWxsOyAgLy8gUmV0dXJuIG51bGwgaWYgdGhlIHNraWxsIGRvZXNuJ3QgZXhpc3RcclxuXHJcbiAgICBsZXQgYWZmZWN0ZWRSZXNvdXJjZXMgPSBza2lsbHNbc2tpbGxdLmFmZmVjdGVkUmVzb3VyY2VzO1xyXG5cclxuICAgIC8vIEZpbHRlciBhZmZlY3RlZFJlc291cmNlcyB0byBvbmx5IGNvbnRhaW4ga2V5cyB0aGF0IGFyZSBwcmVzZW50IGluIHRoZSByZXNvdXJjZXMgbWFwXHJcbiAgICBhZmZlY3RlZFJlc291cmNlcyA9IGFmZmVjdGVkUmVzb3VyY2VzLmZpbHRlcihyZXNvdXJjZSA9PiByZXNvdXJjZSBpbiByZXNvdXJjZXMpO1xyXG5cclxuICAgIC8vIGxldCBhO1xyXG4gICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBhZmZlY3RlZFJlc291cmNlcy5sZW5ndGg7IGEgPSBhZmZlY3RlZFJlc291cmNlc1tpXSkge1xyXG5cclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhhKTtcclxuICAgIC8vICAgICBpZiAoIXJlc291cmNlc1thXSkge1xyXG5cclxuICAgIC8vICAgICAgICAgY29uc3QgaW5kZXggPSBhZmZlY3RlZFJlc291cmNlcy5pbmRleE9mKGEpO1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhhLCBpbmRleCk7XHJcbiAgICAvLyAgICAgICAgIGxldCB4ID0gYWZmZWN0ZWRSZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICArK2k7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG4gICAgY29uc29sZS5sb2coYWZmZWN0ZWRSZXNvdXJjZXMpO1xyXG4gICAgbGV0IG51bWJlck9mUmVzb3VyY2VzID0gYWZmZWN0ZWRSZXNvdXJjZXMubGVuZ3RoO1xyXG5cclxuICAgIC8vIEluaXRpYWwgZXZlbiBkaXN0cmlidXRpb25cclxuICAgIGxldCBwZXJSZXNvdXJjZSA9IE1hdGguZmxvb3IodG90YWxXb3JrZXJzIC8gbnVtYmVyT2ZSZXNvdXJjZXMpO1xyXG5cclxuICAgIC8vIEV2ZW5seSBkaXN0cmlidXRlIHdvcmtlcnMgYW1vbmcgdGhlIGFmZmVjdGVkIHJlc291cmNlc1xyXG4gICAgZm9yIChsZXQgcmVzb3VyY2Ugb2YgYWZmZWN0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICB3b3JrZXJzRGlzdHJpYnV0aW9uLnNldChyZXNvdXJjZSwgcGVyUmVzb3VyY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERpc3RyaWJ1dGUgYW55IHJlbWFpbmluZyB3b3JrZXJzIGR1ZSB0byByb3VuZGluZ1xyXG4gICAgbGV0IHJlbWFpbmluZ1dvcmtlcnMgPSB0b3RhbFdvcmtlcnMgLSAocGVyUmVzb3VyY2UgKiBudW1iZXJPZlJlc291cmNlcyk7XHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBvZiBhZmZlY3RlZFJlc291cmNlcykge1xyXG4gICAgICAgIGlmIChyZW1haW5pbmdXb3JrZXJzID4gMCkge1xyXG4gICAgICAgICAgICB3b3JrZXJzRGlzdHJpYnV0aW9uLnNldChyZXNvdXJjZSwgd29ya2Vyc0Rpc3RyaWJ1dGlvbi5nZXQocmVzb3VyY2UpICsgMSk7XHJcbiAgICAgICAgICAgIHJlbWFpbmluZ1dvcmtlcnMtLTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2cod29ya2Vyc0Rpc3RyaWJ1dGlvbik7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRXb3JrZXJzKHJlc291cmNlTmFtZSkge1xyXG4gICAgcmV0dXJuIHdvcmtlcnNEaXN0cmlidXRpb24uZ2V0KHJlc291cmNlTmFtZSk7XHJcbn1cclxuXHJcbi8vIGNvbnN0IGFsbEpvYkJ1dHRvbmJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpvYi1idXR0b24nKTtcclxuZnVuY3Rpb24gdXBkYXRlRGlzcGxheShqb2JUeXBlKSB7XHJcbiAgICBjb25zdCB0aGlzSm9iQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpvYi1idXR0b25bZGF0YS1qb2I9XCIke2pvYlR5cGV9XCJdYCk7XHJcbiAgICBpZiAoIXRoaXNKb2JCdXR0b24pIGNvbnNvbGUud2FybihcIkNvdWxkbid0IGZpbmQgam9iIGJ1dHRvbiBmb3Igam9iOiBcIiwgam9iVHlwZSk7XHJcbiAgICBjb25zdCBqb2JFbGVtZW50ID0gdGhpc0pvYkJ1dHRvbi5xdWVyeVNlbGVjdG9yKGAuam9iLW5hbWVgKTtcclxuICAgIGlmIChqb2JFbGVtZW50KSBqb2JFbGVtZW50LnRleHRDb250ZW50ID0gYCR7am9iVHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGpvYlR5cGUuc2xpY2UoMSl9OiAke2pvYkNvdW50c1tqb2JUeXBlXX1gO1xyXG5cclxuICAgIHVwZGF0ZUVtb2ppRGlzcGxheSgpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVG90YWwoKSB7XHJcbiAgICBjb25zdCB0b3RhbEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjam9icy10b3RhbCcpO1xyXG4gICAgdG90YWxFbGVtZW50LnRleHRDb250ZW50ID0gXCJBc3NpZ25lZCBDbG9uZXM6IFwiICsgZ2V0VG90YWxKb2JzKCkgKyBcIiAvIFwiICsgZ2V0TWF0ZXJpYWwoJ2Nsb25lcycsIHJlc291cmNlcyk7XHJcbn1cclxuXHJcblxyXG5sZXQgc3RhcnRCdXR0b24gPSBudWxsO1xyXG5sZXQgY29ubmVjdGlvbnMgPSBuZXcgTWFwKCk7ICAvLyBNYXAgdG8gc3RvcmUgY29ubmVjdGlvbnNcclxubGV0IG1hbmFnZW1lbnQgPSB7ICdjb25uZWN0aW9ucyc6IGNvbm5lY3Rpb25zLCAnbWlucyc6IHt9LCAnbWF4ZXMnOiB7fSwgJ3RyaWdnZXJzJzoge30gfTtcclxubGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW5lQ2FudmFzJyk7XHJcblxyXG5mdW5jdGlvbiBzZXRDb25uZWN0aW9ucyhuZXdDb25uZWN0aW9ucykge1xyXG4gICAgY29ubmVjdGlvbnMgPSBuZXdDb25uZWN0aW9ucztcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbnMoKSB7XHJcbiAgICByZXR1cm4gY29ubmVjdGlvbnM7XHJcbn1cclxuXHJcbi8vIGlmIChjYW52YXMpIHtcclxuLy8gQHRzLWlnbm9yZVxyXG5sZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbi8vIEB0cy1pZ25vcmVcclxuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbi8vIEB0cy1pZ25vcmVcclxuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuLy8gfVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpvYi1idXR0b24nKTtcclxuXHJcbiAgICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLmJ0bi1kZWNyZW1lbnQnKSB8fCBlLnRhcmdldC5jbG9zZXN0KCcuYnRuLWluY3JlbWVudCcpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoIWlzUG9uZGVyZWQoJ21hbmFnZW1lbnQnKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IGpvYkJ1dHRvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5qb2ItYnV0dG9uJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoam9iQnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0QnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRCdXR0b24gPSBqb2JCdXR0b247XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRCdXR0b24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0Jyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0QnV0dG9uLmlkICYmIGpvYkJ1dHRvbi5pZCkgeyAvLyBFbnN1cmUgYm90aCBJRHMgYXJlIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLnNldChzdGFydEJ1dHRvbi5pZCwgam9iQnV0dG9uLmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRHJhdyBhbGwgY29ubmVjdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICBkcmF3QWxsQ29ubmVjdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXRcclxuICAgICAgICAgICAgICAgICAgICBzdGFydEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQnKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydEJ1dHRvbiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgSUQgZm9yIG9uZSBvZiB0aGUgYnV0dG9uczonLCBzdGFydEJ1dHRvbiwgam9iQnV0dG9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NsaWNrZWQgZWxlbWVudCBpcyBub3QgaW5zaWRlIGEgam9iIGJ1dHRvbjonLCBlLnRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmIChzdGFydEJ1dHRvbikge1xyXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICAvLyBEcmF3IGV4aXN0aW5nIGNvbm5lY3Rpb25zXHJcbiAgICAgICAgICAgIGRyYXdBbGxDb25uZWN0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgLy8gRHJhdyB0aGUgbGluZSBmcm9tIHN0YXJ0QnV0dG9uIHRvIGN1cnJlbnQgbW91c2UgcG9zaXRpb25cclxuICAgICAgICAgICAgZHJhd0xpbmUoc3RhcnRCdXR0b24sIGUuY2xpZW50WCwgZS5jbGllbnRZKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBkcmF3QWxsQ29ubmVjdGlvbnMoKSB7XHJcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICB0cnkge1xyXG5cclxuXHJcbiAgICAgICAgZm9yIChsZXQgW29sZElkLCBuZXdJZF0gb2YgY29ubmVjdGlvbnMuZW50cmllcygpKSB7XHJcbiAgICAgICAgICAgIGxldCBvbGRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvbGRJZCk7XHJcbiAgICAgICAgICAgIGxldCBuZXdCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuZXdJZCk7XHJcbiAgICAgICAgICAgIGxldCByZWN0ID0gbmV3QnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICBsZXQgbmV3WCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyO1xyXG4gICAgICAgICAgICBsZXQgbmV3WSA9IDA7XHJcbiAgICAgICAgICAgIGlmIChyZWN0LmJvdHRvbSA+IG9sZEJ1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20pIG5ld1kgPSBuZXdCdXR0b24ub2Zmc2V0VG9wIC0gMTA7XHJcbiAgICAgICAgICAgIGVsc2UgbmV3WSA9IG5ld0J1dHRvbi5vZmZzZXRUb3AgKyBuZXdCdXR0b24ub2Zmc2V0SGVpZ2h0ICsgMTA7XHJcbiAgICAgICAgICAgIGRyYXdMaW5lKG9sZEJ1dHRvbiwgbmV3WCwgbmV3WSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGNvbnNvbGUud2FybignZHJhd0FsbENvbm5lY3Rpb25zJywgZXJyb3IpOyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdBcnJvd2hlYWQoY29udGV4dCwgZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSwgcmFkaXVzKSB7XHJcbiAgICBsZXQgeF9jZW50ZXIgPSB0b1g7XHJcbiAgICBsZXQgeV9jZW50ZXIgPSB0b1k7XHJcblxyXG4gICAgbGV0IGFuZ2xlO1xyXG4gICAgbGV0IHg7XHJcbiAgICBsZXQgeTtcclxuXHJcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgIGFuZ2xlID0gTWF0aC5hdGFuMih0b1kgLSBmcm9tWSwgdG9YIC0gZnJvbVgpO1xyXG4gICAgeCA9IHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSArIHhfY2VudGVyO1xyXG4gICAgeSA9IHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSArIHlfY2VudGVyO1xyXG5cclxuICAgIGNvbnRleHQubW92ZVRvKHgsIHkpO1xyXG5cclxuICAgIGFuZ2xlICs9ICgxIC8gMykgKiAoMiAqIE1hdGguUEkpO1xyXG4gICAgeCA9IHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSArIHhfY2VudGVyO1xyXG4gICAgeSA9IHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSArIHlfY2VudGVyO1xyXG5cclxuICAgIGNvbnRleHQubGluZVRvKHgsIHkpO1xyXG5cclxuICAgIGFuZ2xlICs9ICgxIC8gMykgKiAoMiAqIE1hdGguUEkpO1xyXG4gICAgeCA9IHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSArIHhfY2VudGVyO1xyXG4gICAgeSA9IHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSArIHlfY2VudGVyO1xyXG5cclxuICAgIGNvbnRleHQubGluZVRvKHgsIHkpO1xyXG5cclxuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcblxyXG4gICAgY29udGV4dC5maWxsKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdMaW5lKHN0YXJ0RWxlbWVudCwgZW5kWCwgZW5kWSkge1xyXG4gICAgbGV0IHJlY3QgPSBzdGFydEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAvLyBsZXQgb2Zmc2V0ID0gTWF0aC5yYW5kb20oKSAqIDEwMCArIDEwMFxyXG4gICAgbGV0IHN0YXJ0WCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyOyAvLyAtIG9mZnNldDtcclxuICAgIC8vIGVuZFggLT0gb2Zmc2V0O1xyXG4gICAgbGV0IHN0YXJ0WSA9IHNjcm9sbFkgKyByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcclxuXHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHgubW92ZVRvKHN0YXJ0WCwgc3RhcnRZKTtcclxuICAgIGN0eC5saW5lVG8oZW5kWCwgZW5kWSk7XHJcbiAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgLy8gRHJhdyBhcnJvdyBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lXHJcbiAgICBkcmF3QXJyb3doZWFkKGN0eCwgc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFksIDEwKTsgIC8vIGFkanVzdCB0aGUgbGFzdCBwYXJhbWV0ZXIgZm9yIGFycm93IHNpemVcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJKb2JBc3NpZ25tZW50cygpIHtcclxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgIGNvbm5lY3Rpb25zID0gbmV3IE1hcCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFzc2lnbkpvYnNCYXNlZE9uUmVzb3VyY2VzKCkge1xyXG4gICAgLy8gRm9yIGVhY2ggY29ubmVjdGlvblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBlbnRyaWVzID0gY29ubmVjdGlvbnMuZW50cmllcygpO1xyXG4gICAgICAgIGlmIChlbnRyaWVzID09PSB1bmRlZmluZWQpIHRocm93ICdFbnRyaWVzIGlzIHVuZGVmaW5lZCc7XHJcblxyXG4gICAgICAgIGZvciAobGV0IFtvbGRKb2JJZCwgbmV3Sm9iSWRdIG9mIGVudHJpZXMpIHtcclxuICAgICAgICAgICAgbGV0IG9sZEpvYkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9sZEpvYklkKTtcclxuICAgICAgICAgICAgbGV0IGRhdGFKb2IgPSBvbGRKb2JCdXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWpvYicpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgb2xkSWQgPSBvbGRKb2JJZC5yZXBsYWNlKCdqb2ItYnV0dG9uLScsICcnKTtcclxuICAgICAgICAgICAgY29uc3QgbmV3SWQgPSBuZXdKb2JJZC5yZXBsYWNlKCdqb2ItYnV0dG9uLScsICcnKTtcclxuICAgICAgICAgICAgbGV0IG1heGVkT3V0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGxldCByZXNvdXJjZUFycmF5ID0gc2tpbGxzW2RhdGFKb2JdLmFmZmVjdGVkUmVzb3VyY2VzO1xyXG4gICAgICAgICAgICBpZiAoIXJlc291cmNlQXJyYXkpIHJldHVybjtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzb3VyY2VBcnJheSk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgciBvZiByZXNvdXJjZUFycmF5KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocik7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzW3JdICE9PSB1bmRlZmluZWQgJiYgZ2V0TWF0ZXJpYWwocikgPCByZXNvdXJjZXNbcl0ubWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cociwgZ2V0TWF0ZXJpYWwociksIHJlc291cmNlc1tyXS5tYXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1heGVkT3V0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChtYXhlZE91dCAmJiBqb2JDb3VudHNbZGF0YUpvYl0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2hKb2Iob2xkSWQsIG5ld0lkKTtcclxuICAgICAgICAgICAgICAgIGRpc3RyaWJ1dGVXb3JrZXJzKG9sZElkLCBqb2JDb3VudHNbb2xkSWRdKTtcclxuICAgICAgICAgICAgICAgIGRpc3RyaWJ1dGVXb3JrZXJzKG5ld0lkLCBqb2JDb3VudHNbbmV3SWRdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYgKHJlc291cmNlc1thZmZlY3RlZFJlc291cmNlXS5jdXJyZW50VmFsdWUgPj0gcmVzb3VyY2VzW2FmZmVjdGVkUmVzb3VyY2VdLm1heFZhbHVlKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBzd2l0Y2hKb2Iob2xkSm9iSWQsIG5ld0pvYklkKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7IGNvbnNvbGUud2FybigncmVhc3NpZ25Kb2JzJywgZXJyb3IpOyB9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBzd2l0Y2hKb2Iob2xkSm9iSWQsIG5ld0pvYklkKSB7XHJcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHN3aXRjaGVzIHdvcmtlcnMgZnJvbSBvbGRKb2IgdG8gbmV3Sm9iLlxyXG4gICAgLy8gRGVwZW5kaW5nIG9uIHlvdXIgYXBwbGljYXRpb24gc3RydWN0dXJlLCB5b3UgY2FuIGltcGxlbWVudCB0aGlzIGZ1bmN0aW9uIGFjY29yZGluZ2x5LlxyXG4gICAgLy8gRm9yIGV4YW1wbGUsIHJlZHVjZSB0aGUgY291bnQgb2Ygd29ya2VycyBpbiBvbGRKb2IgYW5kIGluY3JlYXNlIGluIG5ld0pvYi5cclxuICAgIC8vIGNvbnNvbGUubG9nKGBTd2l0Y2hpbmcgd29ya2VycyBmcm9tICR7b2xkSm9iSWR9IHRvICR7bmV3Sm9iSWR9YCk7XHJcblxyXG4gICAgbGV0IHdvcmtlcnMgPSBqb2JDb3VudHNbb2xkSm9iSWRdO1xyXG4gICAgam9iQ291bnRzW29sZEpvYklkXSA9IDA7XHJcbiAgICBqb2JDb3VudHNbbmV3Sm9iSWRdICs9IHdvcmtlcnM7XHJcbiAgICB1cGRhdGVEaXNwbGF5KG9sZEpvYklkKTtcclxuICAgIHVwZGF0ZURpc3BsYXkobmV3Sm9iSWQpO1xyXG59XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBjbGVhckpvYkFzc2lnbm1lbnRzLFxyXG4gICAgcmVhc3NpZ25Kb2JzQmFzZWRPblJlc291cmNlcyxcclxuICAgIHN3aXRjaEpvYixcclxuICAgIGRyYXdBbGxDb25uZWN0aW9ucyxcclxuICAgIGdldFdvcmtlcnMsXHJcbiAgICB1cGRhdGVUb3RhbCxcclxuICAgIHNldENvbm5lY3Rpb25zLFxyXG4gICAgZ2V0Q29ubmVjdGlvbnMsXHJcbiAgICBkaXN0cmlidXRlV29ya2VycyxcclxuICAgIHVwZGF0ZURpc3BsYXksXHJcbiAgICBqb2JDb3VudHNcclxufTsiLCJjb25zdCBidWlsZGluZ3MgPSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIT1VTSU5HXHJcbiAgICAgKi9cclxuICAgIFwic2hlbHRlclwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwic3RpY2tzXCI6IDMwIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJjbG9uZXNcIjogMSB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZvciB3aGVuIHlvdSBuZWVkIGEgaG9tZSBhd2F5IGZyb20gaG9tZS5cIlxyXG4gICAgfSxcclxuICAgICdodXQnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgJ3N0aWNrcyc6IDUwLCAndmluZXMnOiAzMCB9LFxyXG4gICAgICAgICdlZmZlY3RzJzogeyAnY2xvbmVzJzogMSB9LFxyXG4gICAgICAgIGJvb3N0OiB7fSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQSBjb3p5LCBpZHlsbGljIGNodW5rIG9mIHdvb2QuJ1xyXG4gICAgfSxcclxuICAgIFwiaG91c2VcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjogeyBcIndvb2RcIjogNTAsIFwicm9ja3NcIjogMjAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyBcImNsb25lc1wiOiAyIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7fSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjQsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRXZlcnkgY2xvbmUncyBkcmVhbS4gTWludXMgdGhlIHdoaXRlIHBpY2tldCBmZW5jZS5cIlxyXG4gICAgfSxcclxuICAgICd0ZWVwZWUnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgJ3dvb2QnOiAxMCwgJ2hpZGVzJzogMjUgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICdjbG9uZXMnOiAyIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV3JhcCBzb21lIGhpZGVzIGFyb3VuZCBzb21lIHdvb2QgYW5kIGNhbGwgaXQgYSBob21lLlwiXHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU1RPUkFHRVxyXG4gICAgICovXHJcbiAgICBcInNoZWRcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjogeyBcIndvb2RcIjogNDAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyBcIndvb2RcIjogNTAsIFwic3RpY2tzXCI6IDUwLCBcInJvY2tzXCI6IDIwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7fSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjEsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhlIHVsdGltYXRlIHN0b3JhZ2Ugc29sdXRpb24gZm9yIHRoZSBwYWNrIHJhdCBpbiB5b3UuXCJcclxuICAgIH0sXHJcbiAgICAnc3RvY2twaWxlJzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7IHJvY2tzOiAzMCB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHsgd29vZDogMTAwIH0sXHJcbiAgICAgICAgcmF0aW86IDEuMSxcclxuICAgICAgICBib29zdDoge30sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQ2h1Y2sgYSBidW5jaCBvZiBsb2dzIGluIGEgcGlsZSwgd2hhdCBjb3VsZCBoYXBwZW4/XCJcclxuICAgIH0sXHJcbiAgICBcImRyeWluZ19yYWNrc1wiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwic3RpY2tzXCI6IDMwLCBcImZpc2hcIjogNSB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwiZmlzaFwiOiAyMCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4xLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkFpciBkcnlpbmc6IE5hdHVyZSdzIHdheSBvZiBwcmVzZXJ2aW5nIGZvb2QuXCJcclxuICAgIH0sXHJcbiAgICBcIndvcmtzaG9wXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHsgXCJ3b29kXCI6IDQwLCBcInN0aWNrc1wiOiAyMCwgXCJyb2Nrc1wiOiAxMCB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7ICdyb2Nrcyc6IDUwLCAnb3JlJzogNTAsICdzYW5kJzogMTAwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7fSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRElZJ3MgZHJlYW0gZGVzdGluYXRpb24uXCJcclxuICAgIH0sXHJcbiAgICAnYmFybic6IHtcclxuICAgICAgICAnYmFzZWNvc3QnOiB7ICd3b29kJzogMzAsICd3aGVhdCc6IDUgfSxcclxuICAgICAgICAnZWZmZWN0cyc6IHsgJ3doZWF0JzogMTAwLCAnYmVycmllcyc6IDQwLCAndmluZXMnOiA0MCB9LFxyXG4gICAgICAgICdib29zdCc6IHt9LFxyXG4gICAgICAgICdjb3VudCc6IDAsXHJcbiAgICAgICAgJ3JhdGlvJzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkhheSwgd2hhdCdzIGluIHRoYXQgYnVpbGRpbmc/XCJcclxuICAgIH0sXHJcbiAgICAnaGVyYmFsaXN0X2h1dCc6IHtcclxuICAgICAgICBiYXNlY29zdDogeyAnc3RpY2tzJzogNTAsICd2aW5lcyc6IDUwLCAnaGVyYnMnOiA1MCB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHsgJ2hlcmJzJzogMTAwLCAndmluZXMnOiAxMDAgfSxcclxuICAgICAgICBib29zdDogeyAnaGVyYnMnOiAxLjIsIHZpbmVzOiAxLjEgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkEgcGxhY2UgZm9yIGJyZXdpbmcgYW5kIHN0ZXdpbmcuXCJcclxuICAgIH0sXHJcbiAgICBcImJha2VyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiA4MCxcclxuICAgICAgICAgICAgXCJ3aGVhdFwiOiAxMDAsXHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7ICd3aGVhdCc6IDIwMCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yNSxcclxuICAgICAgICBcInRvb2x0aXBEZXNjXCI6IFwiRnJlc2hseSBiYWtlZCBicmVhZCwgaG90IGFuZCByZWFkeS5cIlxyXG4gICAgfSxcclxuICAgIFwiYW5pbWFsX3BlblwiOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHtcclxuICAgICAgICAgICAgc3RpY2tzOiA1MCxcclxuICAgICAgICAgICAgZ2FtZTogMjAsXHJcbiAgICAgICAgICAgIGZpc2g6IDI1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICdnYW1lJzogMTAwLCAnaGlkZXMnOiAzMCB9LFxyXG4gICAgICAgIGJvb3N0OiB7fSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkEgcGxhY2UgdG8gcHV0IHRob3NlIGxlc3NlciB0aGFuIHlvdS5cIlxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQUk9EVUNUSU9OIEJPT1NUXHJcbiAgICAgKi9cclxuICAgIFwiZ3JvdmVcIjoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7ICd3b29kJzogMjAsICd2aW5lcyc6IDIwIH0sXHJcbiAgICAgICAgZWZmZWN0czoge30sXHJcbiAgICAgICAgYm9vc3Q6IHsgJ3dvb2QnOiAxLjEgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkEgbmljZSBncm92ZSBvZiB0cmVlcyB0byBmaW5kIHdvb2QgZmFzdGVyLlwiXHJcbiAgICB9LFxyXG4gICAgXCJmaXNoX3RyYXBzXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb3BlXCI6IDQwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiZmlzaFwiOiAxLjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGaXNoaW5nIG1hZGUgZWFzeS4gTm8gcGF0aWVuY2UgcmVxdWlyZWQuXCJcclxuICAgIH0sXHJcbiAgICBcIm1pbmVcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDMwLFxyXG4gICAgICAgICAgICBcIndvb2RcIjogMzBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJvcmVcIjogMS4wNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkRpZyBkZWVwIGFuZCBmaW5kIHlvdXIgaW5uZXIgb3JlLlwiXHJcbiAgICB9LFxyXG4gICAgXCJjYW1wZmlyZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogMjAsXHJcbiAgICAgICAgICAgIFwic3RpY2tzXCI6IDIwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7ICdhbGwnOiAxLjA1IH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS41LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIldoZXJlIHN0b3JpZXMgYXJlIHRvbGQgYW5kIG1hcnNobWFsbG93cyBhcmUgdG9hc3RlZC5cIlxyXG4gICAgfSxcclxuICAgIFwibHVtYmVyX3lhcmRcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogNjAsXHJcbiAgICAgICAgICAgIFwiaXJvblwiOiA1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxLjI1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV29vZCB5b3UgbGlrZSBzb21lIG1vcmUgd29vZD9cIlxyXG4gICAgfSxcclxuICAgIFwic3RvbmVfcXVhcnJ5XCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiA1MCxcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDIwLFxyXG4gICAgICAgICAgICBcInJvcGVcIjogMzBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiAxLjNcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJSb2NrIG9uIHdpdGggeW91ciBiYWQgc2VsZiFcIlxyXG4gICAgfSxcclxuICAgIFwiZmlzaGVyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiA0MCxcclxuICAgICAgICAgICAgXCJyb3BlXCI6IDE1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiZmlzaFwiOiAxLjRcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGaXNoIGFyZSBmcmllbmRzLiBBbmQgZm9vZC5cIlxyXG4gICAgfSxcclxuICAgIFwidmluZXlhcmRcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMjAsXHJcbiAgICAgICAgICAgIFwidmluZXNcIjogNTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ2aW5lc1wiOiAxLjNcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGb3IgdGhlIGZpbmVzdCB2aW5lcy4gV2hhdCBlbHNlIHdvdWxkIGl0IGdyb3c/XCJcclxuICAgIH0sXHJcbiAgICBcImZvcmdlXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiA0MCxcclxuICAgICAgICAgICAgXCJvcmVcIjogMjAsXHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxMDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJvcmVcIjogMS41XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiTWVsdCwgbW9sZCwgYW5kIG1ha2UgbWFydmVsb3VzIG1ldGFscy5cIlxyXG4gICAgfSxcclxuICAgICd3YXRlcl93ZWxsJzoge1xyXG4gICAgICAgICdiYXNlY29zdCc6IHtcclxuICAgICAgICAgICAgJ3JvY2tzJzogMzAsXHJcbiAgICAgICAgICAgICdyb3BlJzogNSxcclxuICAgICAgICAgICAgJ3dvb2QnOiAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2VmZmVjdHMnOiB7ICdmcmVzaHdhdGVyJzogMzAgfSxcclxuICAgICAgICAnYm9vc3QnOiB7XHJcbiAgICAgICAgICAgICdmcmVzaHdhdGVyJzogMS4yXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnY291bnQnOiAwLFxyXG4gICAgICAgICdyYXRpbyc6IDEuNCxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGcmVzaCB3YXRlciBvbiBkZW1hbmQhXCJcclxuICAgIH0sXHJcbiAgICAndG93ZXInOiB7XHJcbiAgICAgICAgJ2Jhc2Vjb3N0Jzoge1xyXG4gICAgICAgICAgICAnYnJpY2tzJzogMjAsXHJcbiAgICAgICAgICAgICdyb2Nrcyc6IDEwLFxyXG4gICAgICAgICAgICAnd29vZCc6IDMwXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnZWZmZWN0cyc6IHt9LFxyXG4gICAgICAgICdib29zdCc6IHsgJ2hpZGVzJzogMS4wNSwgJ2dhbWUnOiAxLjEgfSxcclxuICAgICAgICAnY291bnQnOiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiU2VlIHRoaW5ncyBmcm9tIGFmYXIuXCJcclxuICAgIH0sXHJcbiAgICBcInRhbm5lcnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogNjAsXHJcbiAgICAgICAgICAgIFwiaGlkZXNcIjogNDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7ICdoaWRlcyc6IDUwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiaGlkZXNcIjogMS41XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIlRyZWF0IGhpZGVzIHRvIG1ha2UgcXVhbGl0eSBsZWF0aGVyLlwiXHJcbiAgICB9LFxyXG4gICAgXCJtYXJrZXRwbGFjZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxMDAsXHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNTAsXHJcbiAgICAgICAgICAgIFwiYmVycmllc1wiOiA0MCxcclxuICAgICAgICAgICAgXCJnb2xkXCI6IDFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJiZXJyaWVzXCI6IDEuNCxcclxuICAgICAgICAgICAgXCJoZXJic1wiOiAxLjQsXHJcbiAgICAgICAgICAgICdvcmUnOiAxLjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMjUsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkEgYnVzdGxpbmcgaHViIG9mIHRyYWRlIGFuZCBiYXJ0ZXIuXCJcclxuICAgIH0sXHJcbiAgICBcIndpbmRtaWxsXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDEwMCxcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiA2MCxcclxuICAgICAgICAgICAgXCJ3aGVhdFwiOiA1MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcIndoZWF0XCI6IDEuNFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIFwidG9vbHRpcERlc2NcIjogXCJHcmluZCBncmFpbnMgZWZmaWNpZW50bHkgd2l0aCB3aW5kIHBvd2VyLlwiXHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQT05ERVJcclxuICAgICAqL1xyXG4gICAgXCJvYnNlcnZhdG9yeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNzAsXHJcbiAgICAgICAgICAgIFwid29vZFwiOiAzMCxcclxuICAgICAgICAgICAgXCJnbGFzc1wiOiA1MCxcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogNTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogMS40XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiU3RhcmdhemluZyBoYXMgbmV2ZXIgYmVlbiBzby4uLiBwcm9kdWN0aXZlP1wiXHJcbiAgICB9LFxyXG4gICAgXCJsaWJyYXJ5XCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDcwLFxyXG4gICAgICAgICAgICBcInBhcGVyXCI6IDI1LFxyXG4gICAgICAgICAgICBcImdsYXNzXCI6IDUsXHJcbiAgICAgICAgICAgIFwicG9uZGVyXCI6IDI1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyBcInBvbmRlclwiOiA1MCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcInBvbmRlclwiOiAxLjVcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJLbm93bGVkZ2UgaXMgcG93ZXIuIEFuZCBhIGZpcmUgaGF6YXJkIGlmIG5vdCBzdG9yZWQgcHJvcGVybHkuXCJcclxuICAgIH0sXHJcbiAgICBcImRlc2tcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMTUsXHJcbiAgICAgICAgICAgIFwic3RpY2tzXCI6IDIwLFxyXG4gICAgICAgICAgICBcInBvbmRlclwiOiAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJwb25kZXJcIjogMzAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHsgXCJwb25kZXJcIjogMS4wNSB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIHdyaXRlcidzIGJsb2NrIGlzIG5vIG1hdGNoIGZvciBhcm1vci1waWVyY2luZyBwZW5jaWxzIVwiXHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBnZXRCdWlsZGluZ0NvdW50KGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgcmV0dXJuIGJ1aWxkaW5nc1tidWlsZGluZ05hbWVdLmNvdW50O1xyXG59XHJcbmZ1bmN0aW9uIGdldEJvb3N0KGJ1aWxkaW5nTmFtZSwgcmVzb3VyY2UpIHtcclxuICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV07XHJcblxyXG4gICAgaWYgKGJ1aWxkaW5nICYmIGJ1aWxkaW5nLmJvb3N0KSB7XHJcbiAgICAgICAgaWYgKGJ1aWxkaW5nLmJvb3N0W3Jlc291cmNlXSkgcmV0dXJuIGJ1aWxkaW5nLmJvb3N0W3Jlc291cmNlXTtcclxuICAgICAgICBpZiAoYnVpbGRpbmcuYm9vc3RbJ2FsbCddKSByZXR1cm4gYnVpbGRpbmcuYm9vc3RbJ2FsbCddO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBidWlsZGluZ3M6IGJ1aWxkaW5ncyxcclxuICAgIGdldEJ1aWxkaW5nQ291bnQsXHJcbiAgICBnZXRCb29zdFxyXG59OyIsImNvbnN0IHsgZ2V0TWF0ZXJpYWwsIHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKCcuLi9oZWxwZXInKTtcclxuY29uc3QgeyBoYXNUb29sIH0gPSByZXF1aXJlKCcuLi90b29scycpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuXHJcbi8qIEJVVFRPTlMgKi9cclxuY29uc3QgYnV0dG9ucyA9IHtcclxuXHJcbiAgICAvKiBQUk9EVUNUSU9OIFRBQiAqL1xyXG4gICAgJ2dhdGhlclN0aWNrcyc6IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgc3RhcnRWaXNpYmxlJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiAn8JOAnSBHYXRoZXIgU3RpY2tzJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0ZpdmUsIFNpeCwgUGljayB1cCBzdGlja3MuJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0ZyZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlIC8vIFRoaXMgYnV0dG9uIGlzIGFsd2F5cyB2aXNpYmxlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlclZpbmVzJzoge1xyXG4gICAgICAgIGNsYXNzOiAndG9vbHRpcCBzdGljaycsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogJ/CTja8gR2F0aGVyIFZpbmVzJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1NvbWUgdmluZXMgYXJlIHJ1YmJlcnksIG90aGVycyBhcmUgZ3VtbXkuJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0ZyZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRNYXRlcmlhbCgnc3RpY2tzJywgcmVzb3VyY2VzKSA+PSAxMCB8fCBwYXNzZWRTdGFnZSgndmluZXMnKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdnYXRoZXJSb2Nrcyc6IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgc3RpY2snLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6ICfwk4qW8JOAqSBHYXRoZXIgUm9ja3MnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnTm90IGEgc2luZ2xlIHdpbmRvdyB0byB0aHJvdyB0aGVtIHRocm91Z2guJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0ZyZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRNYXRlcmlhbCgndmluZXMnLCByZXNvdXJjZXMpID49IDEwIHx8IHBhc3NlZFN0YWdlKCdyb2NrcycpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlckZpc2gnOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwIGZpc2hpbmcnLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6ICfwk4adIPCThp8g8JOGniBHbyBGaXNoJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0dvdCBhbnkgdHVuYT8nLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnRnJlZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGhhc1Rvb2woJ1NwZWFyJykgfHwgaGFzVG9vbChcIkZpc2hpbmcgUm9kXCIpIHx8IHBhc3NlZFN0YWdlKCdmaXNoaW5nJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnZ2F0aGVyV29vZCc6IHtcclxuICAgICAgICBjbGFzczogJ3dvb2RUb2dnbGUgd29vZCcsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogJ/CTjI8gQ2hvcCBXb29kJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0FuIGF4ZSBodXJ0cyB3YXkgbGVzcyB0aGFuIHVzaW5nIHlvdXIgaGFuZHMuJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGhhc1Rvb2woJ0F4ZScpIHx8IHBhc3NlZFN0YWdlKCd3b29kJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnZ2F0aGVyT3JlJzoge1xyXG4gICAgICAgIFwiY2xhc3NcIjogXCJ0b29sdGlwIFwiLFxyXG4gICAgICAgIFwidGFiXCI6IFwicHJvZHVjdGlvblwiLFxyXG4gICAgICAgIFwidGV4dFwiOiBcIuKbjyBNaW5lIE9yZVwiLFxyXG4gICAgICAgIFwidG9vbHRpcERlc2NcIjogXCJEaWdneSBEaWdneSBIb2xlXCIsXHJcbiAgICAgICAgXCJ0b29sdGlwQ29zdFwiOiBcIkZyZWVcIixcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gaGFzVG9vbCgnUGlja2F4ZScpIHx8IHBhc3NlZFN0YWdlKCdvcmUnKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuXHJcblxyXG5cclxuICAgIC8qIFRBQlMgKi9cclxuICAgICdwcm9kdWN0aW9uVGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogJ1Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHNob3dUYWI6ICdwcm9kdWN0aW9uVGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3RhYi1idXR0b24nKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdleHBlcmltZW50VGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogJ0V4cGVyaW1lbnQnLFxyXG4gICAgICAgIHNob3dUYWI6ICdleHBlcmltZW50VGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3RhYi1idXR0b24nKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdwb25kZXJUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnUG9uZGVyJyxcclxuICAgICAgICBzaG93VGFiOiAncG9uZGVyVGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3BvbmRlci10YWInKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdqb2JzVGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogJ0pvYnMnLFxyXG4gICAgICAgIHNob3dUYWI6ICdqb2JzVGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ2pvYnMtdGFiJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnc2tpbGxzVGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogJ1NraWxscycsXHJcbiAgICAgICAgc2hvd1RhYjogJ3NraWxsc1RhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdza2lsbHNUYWJsZScpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ3BlcmtzVGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogJ1BlcmtzJyxcclxuICAgICAgICBzaG93VGFiOiAncGVya3NUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgncGVya3NUYWInKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuXHJcbiAgICAvKiBQT05ERVIgVEFCICovXHJcbiAgICAnZ2F0aGVyUG9uZGVyJzoge1xyXG4gICAgICAgIGNsYXNzOiAndG9vbHRpcCcsXHJcbiAgICAgICAgdGV4dDogJ1BvbmRlcicsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdXcmFwIHlvdXIgaGVhZCBhcm91bmQgdGhlIGdyZWF0IG15c3RlcmllcycsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdUaW1lJyxcclxuICAgICAgICB0YWI6ICdwb25kZXInLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgncG9uZGVyLXRhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBidXR0b25zOiBidXR0b25zXHJcbn07IiwiLyogQ1JBRlRJTkcgUkVTT1VSQ0VTICovXHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwsIHBhc3NlZFN0YWdlLCBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4uL2hlbHBlcicpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuXHJcblxyXG5jb25zdCBjcmFmdGVkUmVzb3VyY2VzID0ge1xyXG4gICAgJ3NoYXJwcm9ja3MnOiB7XHJcbiAgICAgICAgdGV4dDogJ1NoYXJwIFJvY2tzJyxcclxuICAgICAgICBpZDogJ2NyYWZ0U2hhcnByb2NrcycsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAncm9ja3MnOiAyIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRNYXRlcmlhbCgncm9ja3MnLCByZXNvdXJjZXMpID49IDUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdDcmFmdCBhIHJvY2sgdXNpbmcgbm90aGluZyBidXQgcm9ja3MhJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1JvY2tzOiA1JyxcclxuICAgICAgICBjbGFzczogJ2NyYWZ0Um9ja3MnXHJcbiAgICAgICAgLy8gdG9vbDogJ0JhcmUgSGFuZHMnXHJcbiAgICB9LFxyXG4gICAgJ3JvcGUnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFJvcGUnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3ZpbmVzJzogMyB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gZ2V0TWF0ZXJpYWwoJ3ZpbmVzJywgcmVzb3VyY2VzKSA+PSAzLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnVGhlIGJhc2lzIG9mIGF0dGFjaGluZyB0aGluZ3MgdG8gb3RoZXIgdGhpbmdzLicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdWaW5lczogMycsXHJcbiAgICAgICAgY2xhc3M6ICdyb3BlJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdoYW5kbGUnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEhhbmRsZScsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnc3RpY2tzJzogMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gZ2V0Q3JhZnRlZFJlc291cmNlKCdzaGFycFJvY2tzJykgPj0gMSxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1NoZWFyIG9mZiB0aGF0IGJhcmsgdG8gaG9sZCBpdCBiZXR0ZXInLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnU2hhcnAgUm9ja3M6IDEnLFxyXG4gICAgICAgIGNsYXNzOiAnY3JhZnRSb2NrcydcclxuICAgICAgICAvLyB0b29sOiAnU2hhcnAgUm9jaydcclxuICAgIH0sXHJcbiAgICAnc3RhZmYnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFN0YWZmJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdoYW5kbGUnOiAyLCAncm9wZSc6IDEgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGdldENyYWZ0ZWRSZXNvdXJjZSgnaGFuZGxlJykgPj0gMSxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1N0aWNrIHNvbWUgc2hlYXJlZCBzdGlja3MgdG9nZXRoZXInLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnSGFuZGxlczogMicsXHJcbiAgICAgICAgY2xhc3M6ICdyb3BlJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdmaXNoaW5ncm9kJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRGaXNoaW5ncm9kJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdzdGFmZic6IDEsICdyb3BlJzogMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ2Zpc2hpbmcnKSxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0Egd2VhcG9uIGZlYXJlZCBieSB1bmRlcndhdGVyIGxpZmUnLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnJyxcclxuICAgICAgICBjbGFzczogJ3JvcGUnXHJcbiAgICAgICAgLy8gdG9vbDogJ0JhcmUgSGFuZHMnXHJcbiAgICB9LFxyXG4gICAgJ3NwZWFyJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRTcGVhcicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDoge1xyXG4gICAgICAgICAgICAnc3RhZmYnOiAxLFxyXG4gICAgICAgICAgICAnc2hhcnBSb2Nrcyc6IDEsXHJcbiAgICAgICAgICAgICdyb3BlJzogMSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gZ2V0Q3JhZnRlZFJlc291cmNlKCdzdGFmZicpID49IDEsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdBIGxvbmcgYW5kIHBvaW50eSBzdGljaycsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdTdGFmZnM6IDEnLFxyXG4gICAgICAgIGNsYXNzOiAncm9wZSdcclxuICAgICAgICAvLyB0b29sOiAnQmFyZSBIYW5kcydcclxuICAgIH0sXHJcbiAgICAnYXhlJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRBeGUnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ2hhbmRsZSc6IDEsICdyb3BlJzogMSwgJ3NoYXJwcm9ja3MnOiAyIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRDcmFmdGVkUmVzb3VyY2UoJ3NwZWFyJykgPj0gMSxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1B1dCBhIHJvY2sgc3RyYWlnaHQgdGhyb3VnaCB0aGF0IGhhbmRsZScsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdTcGVhcnM6IDEnLFxyXG4gICAgICAgIGNsYXNzOiAncm9wZSdcclxuICAgICAgICAvLyB0b29sOiAnQmFyZSBIYW5kcydcclxuICAgIH0sXHJcbiAgICAncGlja2F4ZSc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0UGlja2F4ZScsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDoge1xyXG4gICAgICAgICAgICAnaGFuZGxlJzogMSxcclxuICAgICAgICAgICAgJ3NoYXJwUm9ja3MnOiAzLFxyXG4gICAgICAgICAgICAncm9wZSc6IDEsXHJcbiAgICAgICAgICAgICdyb2Nrcyc6IDEwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGdldENyYWZ0ZWRSZXNvdXJjZSgnYXhlJykgPj0gMSxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1NhZGx5IG5vdCBtYWRlIG9mIGRpYW1vbmRzJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0F4ZXM6IDEnLFxyXG4gICAgICAgIGNsYXNzOiAncm9wZSdcclxuICAgIH0sXHJcblxyXG4gICAgJ2dsYXNzJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRHbGFzcycsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnc2FuZCc6IDEwIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZShcImdsYXNzQmxvd2luZ1wiKVxyXG4gICAgfSxcclxuICAgICdwYXBlcic6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0UGFwZXInLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3dvb2QnOiAxMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3BhcGVyJyksXHJcbiAgICB9LFxyXG4gICAgJ2dvbGQnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEdvbGQnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ29yZSc6IDEwMCB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ21ldGFsV29ya2luZycpLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlRoZXJlJ3Mgc29tZSB5ZWxsb3cgYml0cyBpbiB0aGlzIG9yZVwiLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnJyxcclxuICAgICAgICBjbGFzczogJ21ldGFsV29ya2luZydcclxuICAgIH0sXHJcbiAgICAnaXJvbic6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0SXJvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnb3JlJzogMjAgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdtZXRhbFdvcmtpbmcnKSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGVyZSdzIHNvbWUgc3R1cmR5LWxvb2tpbmcgYml0cyBpbiB0aGlzIG9yZVwiLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnJyxcclxuICAgICAgICBjbGFzczogJ21ldGFsV29ya2luZydcclxuICAgIH0sXHJcbiAgICAnc2lsdmVyJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRTaWx2ZXInLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ29yZSc6IDUwIH0sXHJcblxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ21ldGFsV29ya2luZycpLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlRoZXJlJ3Mgc29tZSBzaGlueSBncmF5IGJpdHMgaW4gdGhpcyBvcmVcIixcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdtZXRhbFdvcmtpbmcnXHJcbiAgICB9LFxyXG4gICAgJ2JyaWNrcyc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0QnJpY2tzJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdjbGF5JzogMTUgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGdldE1hdGVyaWFsKCdjbGF5JywgcmVzb3VyY2VzKSA+IDUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiTGVhdmUgc29tZSBjbGF5IGJ5IHRoZSBmaXJlXCIsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnXHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkKGlkKSB7XHJcbiAgICBmb3IgKGxldCBjIGluIGNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICBpZiAoY3JhZnRlZFJlc291cmNlc1tjXS5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNyYWZ0ZWRSZXNvdXJjZXNbY107XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENyYWZ0ZWRSZXNvdXJjZUtleUJ5Q29uZmlnKGNvbmZpZykge1xyXG4gICAgZm9yIChsZXQgayBpbiBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coayk7XHJcbiAgICAgICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZXNba10uaWQgPT09IGNvbmZpZy5pZCkgcmV0dXJuIGs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBjcmFmdGVkUmVzb3VyY2VzLFxyXG4gICAgZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZCxcclxuICAgIGdldENyYWZ0ZWRSZXNvdXJjZUtleUJ5Q29uZmlnXHJcbn07IiwiXHJcblxyXG4vKipcclxuICogVGllciAxICg0MDAgcG9uZGVyKTpcclxuICogTHVtYmVyamFja1xyXG4gKiAgKzI1JSB3b29kIHByb2R1Y3Rpb25cclxuICogICsyNSUgc3RpY2tzIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIE1pbmVyXHJcbiAqICArMjUlIHN0b25lICYgb3JlIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIEJvdGFuaXN0XHJcbiAqICArMjUlIHZpbmVzICYgaGVyYnMgJiB3aGVhdCBwcm9kdWN0aW9uXHJcbiAqIFxyXG4gKiBMZWFkZXJcclxuICogIDUwJSBjbG9uZSBlZmZlY3RpdmVuZXNzXHJcbiAqIFxyXG4gKiBBcmNoaXRlY3RcclxuICogIC0yNSUgYnVpbGRpbmcgY29zdFxyXG4gKiBcclxuICogXHJcbiAqIFRpZXIgMiAoMTUwMCBwb25kZXIpOlxyXG4gKiBUaGlua2VyXHJcbiAqICArNTAlIHBvbmRlciBwcm9kdWN0aW9uIGFuZCBzdG9yYWdlXHJcbiAqICAtMjUlIHBvbmRlciBjb3N0XHJcbiAqIFxyXG4gKiBHZW5lcmFsXHJcbiAqICArNTAlIGNvbWJhdCBzdHJlbmd0aFxyXG4gKiAgKzI1JSBjbG9uZSBlZmZlY3RpdmVuZXNzXHJcbiAqIFxyXG4gKiBNZXJjaGFudFxyXG4gKiAgLTI1JSB0cmFkZSBwcmljZVxyXG4gKiAgKzI1JSBjaGFuY2Ugb2YgcmFyZSB0cmFkZVxyXG4gKiBcclxuICogR2VuZXJhbGlzdFxyXG4gKiAgKzEwJSBnbG9iYWwgcHJvZHVjdGlvblxyXG4gKiBcclxuICogU3BlY2lhbGlzdFxyXG4gKiAgKzEwMCUgc2tpbGwgZ2FpblxyXG4gKiAgKzEwJSBza2lsbCBib251cyB0byByZXNvdXJjZXNcclxuICogXHJcbiAqL1xyXG5jb25zdCBwZXJrcyA9IHtcclxuICAgICd0aWVyMSc6IFsnTHVtYmVyamFjaycsICdNaW5lcicsICdCb3RhbmlzdCcsICdMZWFkZXInLCAnQXJjaGl0ZWN0J10sXHJcbiAgICAndGllcjInOiBbJ1RoaW5rZXInLCAnR2VuZXJhbCcsICdNZXJjaGFudCcsICdHZW5lcmFsaXN0JywgJ1NwZWNpYWxpc3QnXVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBwZXJrczogcGVya3NcclxufSIsImxldCBwb25kZXJzID0ge1xyXG4gICAgJ3BvbmRlcjEnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJQb25kZXIxJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxMCB9LFxyXG4gICAgICAgIHRleHQ6IFwiVGhpbmsgSGFyZGVyXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiNSUgYm9vc3QgdG8gcG9uZGVyaW5nXCIsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcblxyXG4gICAgfSxcclxuICAgICdqb2JzLXRhYic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckpvYnMtdGFiJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAyMCB9LFxyXG4gICAgICAgIHRleHQ6IFwiVW5kZXJzdGFuZCBDbG9uaW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdXaHkgYXJlIHRoZXJlIHR3byBvZiB5b3U/JyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1Nhbml0eSAoMjAgUG9uZGVyKScsXHJcblxyXG4gICAgfSxcclxuICAgICdza2lsbHNUYWJsZSc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlclNraWxsc1RhYmxlJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA0MCB9LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIllvdSdyZSBzdGFydGluZyB0byBsZWFybiB0aGluZ3MsIHJpZ2h0P1wiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiTm90aWNlIEltcHJvdmVtZW50XCJcclxuICAgIH0sXHJcbiAgICAnZmlzaGluZyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckZpc2hpbmcnLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDUwLCAnZmlzaCc6IDUwIH0sXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV2hhdCBpZi4uLiB5b3VyIGNsb25lcyBjb3VsZCBnbyBmaXNoaW5nP1wiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiRmlzaGluZyBKb2JcIlxyXG4gICAgfSxcclxuICAgICdtYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyTWFuYWdlbWVudCcsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMjAwLCAnY2xvbmVzJzogNSB9LFxyXG4gICAgICAgIHRleHQ6IFwiTWV0YS1qb2JzXCIsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiWW91IG1hbmFnZWQgdG8gbWFrZSBjbG9uZXMgbWFuYWdlIGVhY2ggb3RoZXIuIFlvdSBjYWxsIHRoZW0gXCJcclxuICAgIH0sXHJcbiAgICAnZmFzdGVyU2tpbGxzJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyRmFzdGVyU2tpbGxzJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA4MCB9LFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiU2tpbGxzIElcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGluayBTbWFydGVyLiA1JSBib251cyB0byBza2lsbCBleHBcIlxyXG4gICAgfSxcclxuICAgICd0aGlua2luZyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlclRoaW5raW5nJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxNTAgfSxcclxuICAgICAgICB0ZXh0OiBcIlRoaW5raW5nIEpvYlwiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkxldCB5b3VyIGNsb25lcyBzdGFydCB0aGlua2luZyBmb3IgdGhlbXNlbHZlcy5cIlxyXG5cclxuICAgIH0sXHJcbiAgICAnZmFzdGVyUmVzb3VyY2VHYWluJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyRmFzdGVyUmVzb3VyY2VHYWluJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxMjAgfSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIlByb2R1Y3Rpdml0eSBJXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSnVzdCB3b3JrIGhhcmRlci4gNSUgYm9udXMgdG8gcmVzb3VyY2UgZ2FpblwiXHJcbiAgICB9LFxyXG4gICAgLy8gJ21ldGFsV29ya2luZyc6IHtcclxuICAgIC8vICAgICBpZDogJ3BvbmRlck1ldGFsV29ya2luZycsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAvLyAgICAgdGV4dDogXCJNZXRhbCBXb3JraW5nXCIsXHJcbiAgICAvLyAgICAgdG9vbHRpcERlc2M6IFwiU3RhcnQgcHJvY2Vzc2luZyB0aGF0IG9yZVwiLFxyXG4gICAgLy8gICAgIC8vIGNvc3Q6IFt7IG1hdGVyaWFsOiAncG9uZGVyJywgYW1vdW50OiAxMDAgfSwgeyBtYXRlcmlhbDogJ29yZScsIGFtb3VudDogNTAgfSwgeyBtYXRlcmlhbDogJ3JvY2tzJywgYW1vdW50OiA1MCB9XVxyXG4gICAgLy8gICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDEwMCwgJ29yZSc6IDUwLCAncm9ja3MnOiA1MCB9LFxyXG4gICAgLy8gfSxcclxuICAgICdhdXRvQ2xvbmUnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJBdXRvQ2xvbmUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiQXV0byBDbG9uZVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkF1dG9tYXRpY2FsbHkgcHJvZHVjZSBjbG9uZXNcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxNDAsICdjbG9uZXMnOiAyMCB9LFxyXG4gICAgfSxcclxuXHJcbiAgICAnZWZmZWN0aXZlQnVpbGRpbmdzJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyRWZmZWN0aXZlQnVpbGRpbmdzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkJ1aWxkaW5ncyBJXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSW5jcmVhc2UgYnVpbGRpbmcgZWZmZWN0cyBieSAxJVwiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDE0MCB9LFxyXG4gICAgfSxcclxuICAgICdhZ3JpY3VsdHVyZSc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckFncmljdWx0dXJlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkFncmljdWx0dXJlXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRmluZCBzb21lIHNlZWRzIGZyb20gYWxsIHRob3NlIHBsYW50c1wiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDE1MCB9XHJcbiAgICB9LFxyXG4gICAgJ2NvbWJhdCc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckNvbWJhdCcsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJDb21iYXRcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJJcyB0aGVyZSBhbnlvbmUgdG8gc3BhciB3aXRoIGJlc2lkZXMgeW91P1wiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDMwMCwgJ3NwZWFyJzogMTAwIH1cclxuICAgIH0sXHJcbiAgICAnaHVudGluZyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckh1bnRpbmcnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiSHVudGluZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkF0IGxlYXN0IHRoZXJlIGFyZSBhbmltYWxzXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTQwLCAnZmlzaCc6IDUwIH1cclxuICAgIH0sXHJcbiAgICAncGVya3NUYWInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJQZXJrc1RhYicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogJ1BlcmtzJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ01heWJlIHlvdSBhcyB0aGUgb3JpZ2luYWwgc2hvdWxkIHNwZWNpYWxpemUnLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDQwMCB9XHJcbiAgICB9LFxyXG4gICAgJ2F1dG9jcmFmdCc6IHtcclxuICAgICAgICBpZDogXCJwb25kZXJBdXRvY3JhZnRcIixcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkF1dG8gQ3JhZnRcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBdXRvbWF0aWNhbGx5IGNyYWZ0IHJlc291cmNlcyB3aGVuIHRoZXkgcmVhY2ggdGhlIHN0b3JhZ2UgbGltaXRcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA0MDAsICd3b29kJzogMTAwMCwgJ3JvY2tzJzogNTAwLCAnd2hlYXQnOiAxMDAwIH1cclxuICAgIH0sXHJcbiAgICAnZmluaXNoJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyRmluaXNoJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkZpbmlzaCB0aGUgR2FtZVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlRoYXQncyBpdC4gWW91J3JlIGRvbmVcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxMDAwIH1cclxuICAgIH0sXHJcbiAgICAvLyAnZXhwbG9yYXRpb24nOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJFeHBsb3JhdGlvbicsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgY29zdDogW3tcclxuICAgIC8vICAgICAgICAgbWF0ZXJpYWw6ICdwb25kZXInLFxyXG4gICAgLy8gICAgICAgICBhbW91bnQ6IDE2MFxyXG4gICAgLy8gICAgIH1dXHJcbiAgICAvLyB9LFxyXG4gICAgLy8gJ3RyYWRpbmcnOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJUcmFkaW5nJyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICBjb3N0OiBbe1xyXG4gICAgLy8gICAgICAgICBtYXRlcmlhbDogJ3BvbmRlcicsXHJcbiAgICAvLyAgICAgICAgIGFtb3VudDogMTgwXHJcbiAgICAvLyAgICAgfSwgeyBtYXRlcmlhbDogJ2dvbGQnLCBhbW91bnQ6IDEwMCB9XVxyXG4gICAgLy8gfSxcclxuICAgIC8vICdzY2llbmNlJzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyU2NpZW5jZScsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgY29zdDogW3tcclxuICAgIC8vICAgICAgICAgbWF0ZXJpYWw6ICdwb25kZXInLFxyXG4gICAgLy8gICAgICAgICBhbW91bnQ6IDIwMFxyXG4gICAgLy8gICAgIH1dXHJcbiAgICAvLyB9LFxyXG4gICAgLy8gJ21hZ2ljJzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyTWFnaWMnLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIGNvc3Q6IFt7XHJcbiAgICAvLyAgICAgICAgIG1hdGVyaWFsOiAncG9uZGVyJyxcclxuICAgIC8vICAgICAgICAgYW1vdW50OiAyMjBcclxuICAgIC8vICAgICB9XVxyXG4gICAgLy8gfSxcclxuICAgIC8vICdkaXBsb21hY3knOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJEaXBsb21hY3knLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIGNvc3Q6IFt7XHJcbiAgICAvLyAgICAgICAgIG1hdGVyaWFsOiAncG9uZGVyJyxcclxuICAgIC8vICAgICAgICAgYW1vdW50OiAyNDBcclxuICAgIC8vICAgICB9XVxyXG4gICAgLy8gfSxcclxuICAgIC8vICdjb25zdHJ1Y3Rpb24nOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJDb25zdHJ1Y3Rpb24nLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIGNvc3Q6IFt7XHJcbiAgICAvLyAgICAgICAgIG1hdGVyaWFsOiAncG9uZGVyJyxcclxuICAgIC8vICAgICAgICAgYW1vdW50OiAyNjBcclxuICAgIC8vICAgICB9XVxyXG4gICAgLy8gfSxcclxuICAgIC8vICdhcnRzJzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyQXJ0cycsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgY29zdDogW3tcclxuICAgIC8vICAgICAgICAgbWF0ZXJpYWw6ICdwb25kZXInLFxyXG4gICAgLy8gICAgICAgICBhbW91bnQ6IDI4MFxyXG4gICAgLy8gICAgIH1dXHJcbiAgICAvLyB9LFxyXG4gICAgLy8gJ2FzdHJvbm9teSc6IHtcclxuICAgIC8vICAgICBpZDogJ3BvbmRlckFzdHJvbm9teScsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgY29zdDogW3tcclxuICAgIC8vICAgICAgICAgbWF0ZXJpYWw6ICdwb25kZXInLFxyXG4gICAgLy8gICAgICAgICBhbW91bnQ6IDMwMFxyXG4gICAgLy8gICAgIH1dXHJcbiAgICAvLyB9XHJcbn07XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBwb25kZXJzOiBwb25kZXJzXHJcbn07IiwiLy8gU3RhdGUgb2YgZWFjaCByZXNvdXJjZVxyXG5cclxuLy8gVE9ETzogQUREIFJFUVVJUkVNRU5UUyBGT1IgRUFDSCBUTyBNQUtFIFRIRU0gVklTSUJMRVxyXG4vLyBvciBqdXN0IGRpc3BsYXkgdGhlbSB3aGVuIHlvdSBnZXQgeW91ciBmaXJzdCBvbmU/XHJcbmNvbnN0IHJlc291cmNlcyA9IHtcclxuICAgIFwiY2xvbmVzXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwibWFrZUNsb25lXCIsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIG1heDogMFxyXG4gICAgfSxcclxuXHJcbiAgICBcInN0aWNrc1wiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlclN0aWNrc1wiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IHRydWUsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOGsfCTgJwgR2F0aGVyaW5nIFN0aWNrc1wiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4axIEdhdGhlciBTdGlja3NcIixcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgZW1vamk6ICfwk4CdJyxcclxuICAgICAgICBtYXg6IDUwXHJcbiAgICB9LFxyXG4gICAgXCJ2aW5lc1wiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlclZpbmVzXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JONr/CTgKogR2F0aGVyaW5nIFZpbmVzXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTja8gR2F0aGVyIFZpbmVzXCIsXHJcbiAgICAgICAgXCJ0b29sc1wiOiBbeyBcInRvb2xcIjogXCJBeGVcIiwgXCJ2YWxcIjogMS41IH1dLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBlbW9qaTogJ/CTgKonLFxyXG4gICAgICAgIG1heDogNTBcclxuICAgIH0sXHJcbiAgICBcInJvY2tzXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyUm9ja3NcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4qW8JOAqSBHYXRoZXJpbmcgUm9ja3NcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOKliBHYXRoZXIgUm9ja3NcIixcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICBtYXg6IDMwXHJcbiAgICB9LFxyXG4gICAgXCJmaXNoXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyRmlzaFwiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCThp3wk4af8JOGniDwk4GDIEdvbmUgRmlzaGluZ1wiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4ad8JOGn/CThp4gR28gRmlzaFwiLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBlbW9qaTogJ/CTgYMnLFxyXG4gICAgICAgIFwidG9vbHNcIjogW3sgXCJ0b29sXCI6IFwiU3BlYXJcIiwgXCJ2YWxcIjogMSB9LCB7IFwidG9vbFwiOiBcIkZpc2hpbmcgUm9kXCIsIFwidmFsXCI6IDIgfV0sXHJcbiAgICAgICAgbWF4OiAxMFxyXG4gICAgfSxcclxuICAgIFwid29vZFwiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlcldvb2RcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4CoIENob3BwaW5nIFdvb2RcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOMjyBDaG9wIFdvb2RcIixcclxuICAgICAgICBlbW9qaTogJ/CTgKgnLFxyXG4gICAgICAgIFwidG9vbHNcIjogW3sgXCJ0b29sXCI6IFwiQXhlXCIsIFwidmFsXCI6IDEuNSB9LCB7IFwidG9vbFwiOiBcIkNoYWluc2F3XCIsIFwidmFsXCI6IDMgfV0sXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIG1heDogNDBcclxuICAgIH0sXHJcbiAgICBcInBvbmRlclwiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlclBvbmRlclwiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTgIEgUG9uZGVyaW5nXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTgIEgUG9uZGVyXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4CBJyxcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgbWF4OiAyMFxyXG4gICAgfSxcclxuICAgIFwib3JlXCI6IHtcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlck9yZVwiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTibjwk4GEIE1pbmluZyBPcmVcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOJuCBNaW5lIE9yZVwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOBhCcsXHJcbiAgICAgICAgbWF4OiAyMFxyXG4gICAgfSxcclxuICAgIFwic2FuZFwiOiB7XHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJTYW5kXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOAqSBTY29vcGluZyBTYW5kXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTgKkgU2Nvb3AgU2FuZFwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgbWF4OiAyMFxyXG4gICAgfSxcclxuICAgIFwid2hlYXRcIjoge1xyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyV2hlYXRcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4CpIEhhcnZlc3RpbmcgV2hlYXRcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOAqSBIYXJ2ZXN0IFdoZWF0XCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4CdJyxcclxuICAgICAgICBtYXg6IDIwXHJcbiAgICB9LFxyXG4gICAgJ2ZyZXNod2F0ZXInOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVyRnJlc2h3YXRlcicsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgJ2RlZmF1bHRUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICBlbW9qaTogJ/CTgKknLFxyXG4gICAgICAgICdtYXgnOiA1MFxyXG4gICAgfSxcclxuICAgICdoaWRlcyc6IHtcclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJIaWRlcycsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgJ2RlZmF1bHRUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICBlbW9qaTogJ/CTgI4nLFxyXG4gICAgICAgICdtYXgnOiA1MFxyXG5cclxuICAgIH0sXHJcbiAgICAnY2xheSc6IHtcclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJDbGF5JyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcbiAgICB9LFxyXG4gICAgJ2JlcnJpZXMnOiB7XHJcblxyXG4gICAgICAgICd2YWx1ZSc6IDAsXHJcbiAgICAgICAgJ2lkJzogJ2dhdGhlckJlcnJpZXMnLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICAnbWF4JzogNTBcclxuICAgIH0sXHJcbiAgICAnaGVyYnMnOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVySGVyYnMnLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICAnbWF4JzogNTBcclxuICAgIH0sXHJcbiAgICAnZ2FtZSc6IHtcclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJHYW1lJyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ/CTg5rwk4COIEh1bnRpbmcnLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICfwk4COIEh1bnQnLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAjicsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIGlzUmVzb3VyY2UocmVzb3VyY2UpIHtcclxuICAgIHJldHVybiByZXNvdXJjZXNbcmVzb3VyY2VdICE9PSBudWxsO1xyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFJlc291cmNlQ29uZmlnQnlJZChpZCkge1xyXG4gICAgZm9yIChsZXQgciBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICBpZiAocmVzb3VyY2VzW3JdLmlkID09PSBpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzW3JdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXHJcbiAgICBpc1Jlc291cmNlLFxyXG4gICAgZ2V0UmVzb3VyY2VDb25maWdCeUlkXHJcbn07IiwiY29uc3Qgc2tpbGxzID0ge1xyXG4gICAgZ2F0aGVyaW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ3N0aWNrcycsICd2aW5lcycsICdzYW5kJywgJ2hlcmJzJywgJ2JlcnJpZXMnXVxyXG4gICAgfSxcclxuICAgIG1hc29ucnk6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsncm9ja3MnLCAnb3JlJywgJ2NsYXknXSxcclxuICAgICAgICBuZWVkVG9vbHM6IFt7ICdQaWNrYXhlJzogWydvcmUnXSB9XVxyXG4gICAgfSxcclxuICAgIGNhcnBlbnRyeToge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWyd3b29kJywgJ2hhbmRsZScsICdzdGFmZicsICdmaXNoaW5ncm9kJ10sXHJcbiAgICAgICAgbmVlZFRvb2xzOiBbeyAnQXhlJzogWyd3b29kJ10gfV1cclxuICAgIH0sXHJcbiAgICB0aGlua2luZzoge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWydwb25kZXInXVxyXG4gICAgfSxcclxuICAgIHNtaXRoaW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ2F4ZScsICdwaWNrYXhlJywgJ3NwZWFyJywgJ2dsYXNzJywgJ2lyb24nLCAnc2lsdmVyJywgJ2dvbGQnXVxyXG4gICAgfSxcclxuICAgIGZhcm1pbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnd2hlYXQnLCAnZnJlc2h3YXRlciddXHJcbiAgICB9LFxyXG4gICAgY29tYmF0OiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbXVxyXG4gICAgfSxcclxuICAgIGZpc2hpbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnZmlzaCcsICdmcmVzaHdhdGVyJ11cclxuICAgIH0sXHJcbiAgICBodW50aW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ2hpZGVzJywgJ2dhbWUnXVxyXG4gICAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBza2lsbHM6IHNraWxsc1xyXG59OyIsIlxyXG5jb25zdCB7IGNyYWZ0ZWRSZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9jcmFmdGVkUmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgYnVpbGRpbmdzIH0gPSByZXF1aXJlKFwiLi9qc29uL2J1aWxkaW5nc1wiKTtcclxuY29uc3QgeyBwb25kZXJzIH0gPSByZXF1aXJlKFwiLi9qc29uL3BvbmRlclwiKTtcclxuY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKFwiLi9qc29uL2J1dHRvbnNcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcblxyXG5jb25zdCB7IHNhdmVHYW1lLCBsb2FkR2FtZSB9ID0gcmVxdWlyZShcIi4vc2F2aW5nXCIpO1xyXG5jb25zdCB7IGNyZWF0ZVJlc291cmNlVGFnLCBnZW5lcmF0ZVRvb2x0aXBDb3N0IH0gPSByZXF1aXJlKCcuL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0IH0gPSByZXF1aXJlKCcuL2J1aWxkaW5ncycpO1xyXG5jb25zdCB7IGhhc1BlcmsgfSA9IHJlcXVpcmUoJy4vcGVya3MnKTtcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QsIHBhc3NlZFN0YWdlLCBtYWtlVmlzaWJsZSwgdXBkYXRlU2lkZWJhciwgdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSwgZ2V0Q3JhZnRlZFJlc291cmNlIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgY2FuVW5sb2NrLCBpc1BvbmRlcmVkLCBnZW5lcmF0ZVBvbmRlckJ1dHRvbnMgfSA9IHJlcXVpcmUoXCIuL3BvbmRlclwiKTtcclxuY29uc3QgeyBoYXNUb29sLCBhZGRUb29sIH0gPSByZXF1aXJlKCcuL3Rvb2xzJyk7XHJcblxyXG4vKiBNWSBDT0RFIFNUQVJUUyBIRVJFICovXHJcblxyXG5cclxuXHJcbi8vIEluaXRpYWxpemUgdmFsdWVzXHJcbi8vIGxldCBza2lsbGVkID0gZmFsc2U7XHJcblxyXG5cclxuZnVuY3Rpb24gc2V0VG90YWxUaW1lKHRpbWUpIHtcclxuICAgIHRvdGFsX3RpbWUgPSB0aW1lO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuLyogR0FUSEVSSU5HIE1BVEVSSUFMUyovXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IHNpZGViYXJQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jlc291cmNlc1wiKTtcclxuZnVuY3Rpb24gc3RvcEFsbEdhdGhlcmluZygpIHtcclxuICAgIGZvciAobGV0IGtleSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICByZXNvdXJjZXNba2V5XS5pc0dldHRpbmcgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCByQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYXRoZXJcIiArIGNhcGl0YWxpemVGaXJzdChrZXkpKTtcclxuICAgICAgICBpZiAockJ1dHRvbikgckJ1dHRvbi50ZXh0Q29udGVudCA9IHJlc291cmNlc1trZXldLmRlZmF1bHRUZXh0O1xyXG5cclxuICAgICAgICAvLyBTZXQgc2lkZWJhciB0byBub3QgYm9sZFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjb25zdCBzaWRlYmFyVGV4dCA9IHNpZGViYXJQYXJlbnQucXVlcnlTZWxlY3RvcignI3Jlc291cmNlLScgKyBrZXkpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoc2lkZWJhclRleHQpIHNpZGViYXJUZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAnbm9ybWFsJztcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGVtb2ppR2F0aGVyRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vtb2ppR2F0aGVyRGlzcGxheScpO1xyXG5mdW5jdGlvbiB0b2dnbGVSZXNvdXJjZShyZXNvdXJjZUtleSkge1xyXG4gICAgY29uc3QgcmVzb3VyY2UgPSByZXNvdXJjZXNbcmVzb3VyY2VLZXldO1xyXG5cclxuICAgIC8vIGVtb2ppRGl2LnRleHRDb250ZW50ID0gJ/CThq4nO1xyXG4gICAgY29uc3Qgc2lkZWJhclBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzb3VyY2VzXCIpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3Qgc2lkZWJhclRleHQgPSBzaWRlYmFyUGFyZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXNvdXJjZS0nICsgcmVzb3VyY2VLZXkpO1xyXG4gICAgY29uc3QgcmVzb3VyY2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2F0aGVyJyArIHJlc291cmNlS2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVzb3VyY2VLZXkuc2xpY2UoMSkpO1xyXG5cclxuICAgIGlmICghcmVzb3VyY2UuaXNHZXR0aW5nKSB7XHJcbiAgICAgICAgc3RvcEFsbEdhdGhlcmluZygpOyAvLyBTdG9wIGFsbCBnYXRoZXJpbmcgYWN0aW9uc1xyXG4gICAgICAgIHJlc291cmNlLmlzR2V0dGluZyA9IHRydWU7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHJlc291cmNlQnV0dG9uLnRleHRDb250ZW50ID0gcmVzb3VyY2UuYWN0aXZlVGV4dDtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKHNpZGViYXJUZXh0KSBzaWRlYmFyVGV4dC5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBlbW9qaUdhdGhlckRpdi50ZXh0Q29udGVudCA9IHJlc291cmNlLmVtb2ppO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc291cmNlLmVtb2ppKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb3VyY2UuaXNHZXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHJlc291cmNlQnV0dG9uLnRleHRDb250ZW50ID0gcmVzb3VyY2UuZGVmYXVsdFRleHQ7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChzaWRlYmFyVGV4dCkgc2lkZWJhclRleHQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgYXRlRmlzaCA9IGZhbHNlO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKiBCVVRUT05TIEdFTkVSQVRFICovXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJ1dHRvbnMoKSB7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJHZW5lcmF0aW5nIGJ1dHRvbnNcIik7XHJcbiAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgICAvLyBDcmVhdGUgdGhlIGNvbHVtbnNcclxuICAgIGNvbnN0IGNyZWF0ZUNvbHVtbnMgPSAocGFyZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29sMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGNvbnN0IGNvbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBjb25zdCBjb2wzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAgIGNvbDEuc3R5bGUud2lkdGggPSAnMzMuMzMlJztcclxuICAgICAgICBjb2wyLnN0eWxlLndpZHRoID0gJzMzLjMzJSc7XHJcbiAgICAgICAgY29sMy5zdHlsZS53aWR0aCA9ICczMy4zMyUnO1xyXG5cclxuICAgICAgICBjb2wxLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICBjb2wyLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICBjb2wzLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuXHJcbiAgICAgICAgY29sMS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgY29sMi5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgY29sMy5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcblxyXG4gICAgICAgIC8vIHBhcmVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXg7JyAgLy8gU2V0IHBhcmVudCB0byBiZSBhIGZsZXggY29udGFpbmVyXHJcblxyXG4gICAgICAgIHBhcmVudC5wcmVwZW5kKGNvbDMpO1xyXG4gICAgICAgIHBhcmVudC5wcmVwZW5kKGNvbDIpO1xyXG4gICAgICAgIHBhcmVudC5wcmVwZW5kKGNvbDEpO1xyXG5cclxuICAgICAgICByZXR1cm4gW2NvbDEsIGNvbDIsIGNvbDNdO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB0YWJzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYnMnKTtcclxuICAgIGNvbnN0IHByb2R1Y3Rpb25Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZHVjdGlvblRhYicpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgZXhwZXJpbWVudENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlcmltZW50VGFiJykucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1jb2x1bW5zJyk7XHJcbiAgICBjb25zdCBwb25kZXJDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9uZGVyVGFiJyk7XHJcbiAgICAvLyBjb25zdCBqb2JDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnam9ic1RhYicpO1xyXG4gICAgLy8gWW91IGNhbiBhZGQgbW9yZSBjb250YWluZXJzIGZvciBkaWZmZXJlbnQgdGFicyBhcyBuZWVkZWRcclxuXHJcbiAgICBjb25zdCBwcm9kdWN0aW9uQ29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMocHJvZHVjdGlvbkNvbnRhaW5lcik7XHJcbiAgICBjb25zdCBleHBlcmltZW50Q29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMoZXhwZXJpbWVudENvbnRhaW5lcik7XHJcbiAgICBjb25zdCBwb25kZXJDb2x1bW5zID0gY3JlYXRlQ29sdW1ucyhwb25kZXJDb250YWluZXIpO1xyXG4gICAgLy8gY29uc3Qgam9iQ29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMoam9iQ29udGFpbmVyKTtcclxuICAgIC8vIFNpbWlsYXJseSwgY3JlYXRlIGNvbHVtbnMgZm9yIG90aGVyIHRhYnMgYXMgbmVlZGVkXHJcblxyXG4gICAgbGV0IHByb2R1Y3Rpb25Db2x1bW5JbmRleCA9IDA7XHJcbiAgICBsZXQgZXhwZXJpbWVudENvbHVtbkluZGV4ID0gMDtcclxuICAgIGxldCBwb25kZXJDb2x1bW5JbmRleCA9IDA7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBsZXQgam9iQ29sdW1uSW5kZXggPSAwO1xyXG5cclxuICAgIC8vIEFkZCBjb3VudGVycyBmb3Igb3RoZXIgdGFicyBhcyBuZWVkZWRcclxuXHJcbiAgICBmb3IgKGxldCBrZXkgaW4gYnV0dG9ucykge1xyXG4gICAgICAgIGNvbnN0IGJ0biA9IGJ1dHRvbnNba2V5XTtcclxuICAgICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblxyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuaWQgPSBrZXk7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc05hbWUgPSBidG4uY2xhc3M7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC50ZXh0Q29udGVudCA9IGJ0bi50ZXh0O1xyXG5cclxuICAgICAgICAvLyBidXR0b25FbGVtZW50LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgICAgIGlmIChidG4udG9vbHRpcERlc2MpIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycsIGJ0bi50b29sdGlwRGVzYyk7XHJcbiAgICAgICAgaWYgKGJ0bi50b29sdGlwRWZmZWN0KSBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWVmZmVjdCcsIGJ0bi50b29sdGlwRWZmZWN0KTtcclxuICAgICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgndW5sb2NrJywgYnRuLnVubG9jayk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnRuKTtcclxuICAgICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YV9idWlsZGluZycsIGJ0bi5kYXRhX2J1aWxkaW5nKTtcclxuICAgICAgICAvLyBpZiB0aGlzIHJlc291cmNlIGlzbid0IHVubG9ja2VkLCBoaWRlIGl0XHJcbiAgICAgICAgLy8gaWYgKCFidG4uaXNWaXNpYmxlKSBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgYnV0dG9uIGNvcnJlc3BvbmRzIHRvIGEgY3JhZnRlZCByZXNvdXJjZSB1c2luZyB0aGUgSURcclxuICAgICAgICBjb25zdCBjcmFmdGVkUmVzb3VyY2UgPSBPYmplY3QudmFsdWVzKGNyYWZ0ZWRSZXNvdXJjZXMpLmZpbmQocmVzb3VyY2UgPT4gcmVzb3VyY2UuaWQgPT09IGtleSk7XHJcblxyXG4gICAgICAgIGlmIChjcmFmdGVkUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgYnRuLnRvb2x0aXBDb3N0ID0gZ2VuZXJhdGVUb29sdGlwQ29zdChjcmFmdGVkUmVzb3VyY2UuY29zdCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1jb3N0JywgYnRuLnRvb2x0aXBDb3N0KTtcclxuXHJcbiAgICAgICAgaWYgKGJ0bi5zaG93VGFiKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzaG93VGFiKGJ0bi5zaG93VGFiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3dpdGNoaW5nIHRvIHRhYjogXCIgKyBidG4uc2hvd1RhYik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBcHBlbmQgdG8gdGhlIGFwcHJvcHJpYXRlIGNvbHVtbiBiYXNlZCBvbiB0aGUgdGFiIHByb3BlcnR5XHJcbiAgICAgICAgaWYgKGJ0bi50YWIgPT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBwcm9kdWN0aW9uQ29sdW1uc1twcm9kdWN0aW9uQ29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICBwcm9kdWN0aW9uQ29sdW1uSW5kZXggPSAocHJvZHVjdGlvbkNvbHVtbkluZGV4ICsgMSkgJSAzO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGJ0bi50YWIgPT09ICdleHBlcmltZW50Jykge1xyXG4gICAgICAgICAgICBleHBlcmltZW50Q29sdW1uc1tleHBlcmltZW50Q29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICBleHBlcmltZW50Q29sdW1uSW5kZXggPSAoZXhwZXJpbWVudENvbHVtbkluZGV4ICsgMSkgJSAzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYnRuLnRhYiA9PT0gJ3RhYnMnKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgdGFic0NvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGJ0bi50YWIgPT09ICdwb25kZXInKSB7XHJcbiAgICAgICAgICAgIHBvbmRlckNvbHVtbnNbcG9uZGVyQ29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICBwb25kZXJDb2x1bW5JbmRleCA9IChwb25kZXJDb2x1bW5JbmRleCArIDEpICUgMztcclxuICAgICAgICB9IGVsc2UgaWYgKGJ0bi50YWIgPT09ICdqb2InKSB7XHJcbiAgICAgICAgICAgIC8vIGpvYkNvbHVtbnNbam9iQ29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICAvLyBqb2JDb2x1bW5JbmRleCA9IChqb2JDb2x1bW5JbmRleCArIDEpICUgMztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkIG1vcmUgY29uZGl0aW9ucyBmb3Igb3RoZXIgdGFicyBhcyBuZWVkZWRcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRvb2x0aXAgZm9yIGJ1aWxkaW5nc1xyXG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nID0gT2JqZWN0LmtleXMoYnVpbGRpbmdzKS5maW5kKGJ1aWxkaW5nID0+IGJ1aWxkaW5nID09PSBrZXkpO1xyXG4gICAgICAgIGlmIChidWlsZGluZykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidWlsZGluZywga2V5KTtcclxuICAgICAgICAgICAgLy8gYnRuLnRvb2x0aXBDb3N0ID0gZ2VuZXJhdGVCdWlsZGluZ1Rvb2x0aXBDb3N0KGJ1aWxkaW5nc1tidWlsZGluZ10uY29zdCk7XHJcbiAgICAgICAgICAgIHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGtleSwgYnVpbGRpbmdzLCBoYXNQZXJrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSGlkZSB0aGUgYnV0dG9ucyB3ZSBzaG91bGRuJ3Qgc2VlIHlldFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ0bik7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKCFidG4ucmVxdWlyZW1lbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uRWxlbWVudCwgYnRuLnJlcXVpcmVtZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3Igd2l0aCByZXF1aXJlbWVudCB3aGlsZSBnZW5lcmF0aW5nIGJ1dHRvbnM6ICcsIGJ0biwgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHRvb2xzVG9TdGFnZXMgPSB7XHJcbiAgICAnU2hhcnBSb2Nrcyc6ICdjcmFmdFJvY2tzJyxcclxuICAgICdTcGVhcic6ICdmaXNoaW5nJyxcclxuICAgIFwiRmlzaGluZ1JvZFwiOiAnZmlzaGluZycsXHJcbiAgICAnQXhlJzogJ3dvb2QnLFxyXG4gICAgXCJQaWNrYXhlXCI6ICdvcmUnXHJcbn07XHJcblxyXG4vLyBVcGRhdGUgdmlzaWJpbGl0eSBvZiBhc3NldHNcclxuY29uc3QgdmlzaWJpbGl0eVJ1bGVzID0gW1xyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoXCJzdGlja3NcIiwgcmVzb3VyY2VzKSA+PSAxLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoXCJzdGlja1wiKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKCdzdGlja3MnLCByZXNvdXJjZXMpID49IDEwLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3ZpbmVzJylcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbCgndmluZXMnLCByZXNvdXJjZXMpID49IDEwLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3JvY2tzJylcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbChcInJvY2tzXCIsIHJlc291cmNlcykgPj0gMSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IHsgbWFrZVZpc2libGUoXCJ0YWItYnV0dG9uXCIpOyBtYWtlVmlzaWJsZSgnY3JhZnRSb2NrcycpOyB9XHJcbiAgICB9LFxyXG5cclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKFwiZmlzaFwiLCByZXNvdXJjZXMpID49IDEsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgnZmlzaGluZycpXHJcbiAgICB9LFxyXG5cclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGhhc1Rvb2woXCJBeGVcIiksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgnd29vZCcpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0Q3JhZnRlZFJlc291cmNlKCdyb3BlJykgPj0gMSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCdyb3BlJylcclxuICAgIH0sXHJcblxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoJ2Zpc2gnLCByZXNvdXJjZXMpID49IDUgJiYgIWF0ZUZpc2gsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VhdEZpc2gnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWF0RmlzaCcpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gYXRlRmlzaCxcclxuICAgICAgICBhY3Rpb246ICgpID0+IHsgbWFrZVZpc2libGUoJ2Nsb25lJyk7IG1ha2VWaXNpYmxlKCdwb25kZXItdGFiJyk7IH1cclxuICAgIH0sXHJcbiAgICAvLyB7XHJcbiAgICAvLyAgICAgY29uZGl0aW9uOiAoKSA9PiBpc1BvbmRlcmVkKCdqb2JzLXRhYicpLFxyXG4gICAgLy8gICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ2pvYnMtdGFiJylcclxuICAgIC8vIH0sXHJcbiAgICAvLyB7XHJcbiAgICAvLyAgICAgY29uZGl0aW9uOiAoKSA9PiBpc1BvbmRlcmVkKCdza2lsbHNUYWJsZScpLFxyXG4gICAgLy8gICAgIGFjdGlvbjogKCkgPT4geyBtYWtlVmlzaWJsZShcInNraWxsZWRcIik7IHBvcHVsYXRlU2tpbGxzVGFibGUoKTsgfVxyXG4gICAgLy8gfVxyXG5dO1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ3VwZGF0aW5nIHZpc2libGUnKTtcclxuICAgIHZpc2liaWxpdHlSdWxlcy5mb3JFYWNoKHJ1bGUgPT4ge1xyXG4gICAgICAgIGlmIChydWxlLmNvbmRpdGlvbigpKSB7XHJcbiAgICAgICAgICAgIHJ1bGUuYWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZm9yIChsZXQgdG9vbCBpbiB0b29sc1RvU3RhZ2VzKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmICghaGFzVG9vbCh0b29sKSAmJiBnZXRDcmFmdGVkUmVzb3VyY2UodG9vbCkgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgYWRkVG9vbCh0b29sKTtcclxuICAgICAgICAgICAgbWFrZVZpc2libGUodG9vbHNUb1N0YWdlc1t0b29sXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHVwZGF0ZUJ1dHRvblZpc2liaWxpdHkoKTtcclxuICAgICAgICBpZiAoY3VycmVudEhvdmVyQnV0dG9uICE9PSBudWxsKSB1cGRhdGVUb29sdGlwKGN1cnJlbnRIb3ZlckJ1dHRvbik7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyBTd2l0Y2ggdGFic1xyXG5sZXQgdGFiQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiLWNvbnRlbnQgPiAuY29udGVudFwiKTsgLy8gRGlyZWN0IGNoaWxkcmVuIG9ubHlcclxuZnVuY3Rpb24gc2hvd1RhYih0YWJOYW1lKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInNob3cgdGFiOiBcIiArIHRhYk5hbWUpO1xyXG4gICAgLy8gR2V0IGFsbCBtYWluIGNvbnRhaW5lciBkaXZzIGFuZCBoaWRlIHRoZW1cclxuICAgIGZvciAobGV0IGNvbnRlbnQgb2YgdGFiQ29udGFpbmVycykge1xyXG4gICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgYWxsIHRhYiBidXR0b25zIGFuZCByZW1vdmUgdGhlIGFjdGl2ZSBjbGFzc1xyXG4gICAgbGV0IHRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYi1idXR0b25cIik7XHJcbiAgICBmb3IgKGxldCB0YWIgb2YgdGFicykge1xyXG4gICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNob3cgdGhlIGNsaWNrZWQgdGFiJ3MgbWFpbiBjb250YWluZXIgZGl2IGFuZCBtYWtlIHRoZSB0YWIgYnV0dG9uIGFjdGl2ZVxyXG4gICAgbGV0IGFjdGl2ZUNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWJOYW1lKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGFjdGl2ZUNvbnRlbnQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAvLyBHZXQgdGhlIGNsaWNrZWQgdGFiIGJ1dHRvbiBhbmQgbWFrZSBpdCBhY3RpdmVcclxuICAgIGNvbnN0IHRhYlN0cmluZyA9IGAjJHt0YWJOYW1lfUJ1dHRvbmA7XHJcbiAgICBsZXQgYWN0aXZlVGFiQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YWJTdHJpbmcpO1xyXG5cclxuICAgIGlmIChhY3RpdmVUYWJCdXR0b24pIGFjdGl2ZVRhYkJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cclxuXHJcbiAgICAvLyBTaG93IGJ1dHRvbnMgaW4gdGhlIGFjdGl2ZSB0YWIgKGluY2x1ZGluZyB0aG9zZSBpbiB0aGUgdGhyZWUgY29sdW1ucylcclxuICAgIC8vIGxldCBjb2x1bW5zSW5BY3RpdmVUYWIgPSBhY3RpdmVDb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpO1xyXG4gICAgLy8gZm9yIChsZXQgY29sdW1uIG9mIGNvbHVtbnNJbkFjdGl2ZVRhYikge1xyXG4gICAgLy8gICAgIGNvbHVtbi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgIC8vICAgICBsZXQgYnV0dG9uc0luQ29sdW1uID0gY29sdW1uLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpO1xyXG4gICAgLy8gICAgIGZvciAobGV0IGJ1dHRvbiBvZiBidXR0b25zSW5Db2x1bW4pIHtcclxuICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uc1tidXR0b24uaWRdKTtcclxuICAgIC8vICAgICAgICAgaWYgKGJ1dHRvbnNbYnV0dG9uLmlkXSAmJiBidXR0b25zW2J1dHRvbi5pZF0ucmVxdWlyZW1lbnQoKSkge1xyXG4gICAgLy8gICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7IC8vIE9yICdpbmxpbmUtYmxvY2snLCBvciB3aGF0ZXZlciB5b3VyIGRlc2lyZWQgZGlzcGxheSBzdHlsZSBpc1xyXG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coXCJkaXNwbGF5aW5nIFwiICsgYnV0dG9uLmlkKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBIaWRlIGJ1dHRvbnMgaW4gaW5hY3RpdmUgdGFicyAoaW5jbHVkaW5nIHRob3NlIGluIHRoZSB0aHJlZSBjb2x1bW5zKVxyXG4gICAgLy8gZm9yIChsZXQgY29udGVudCBvZiB0YWJDb250YWluZXJzKSB7XHJcbiAgICAvLyAgICAgaWYgKGNvbnRlbnQgIT09IGFjdGl2ZUNvbnRlbnQpIHtcclxuICAgIC8vICAgICAgICAgbGV0IGNvbHVtbnNUb0hpZGUgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpO1xyXG4gICAgLy8gICAgICAgICBmb3IgKGxldCBjb2x1bW4gb2YgY29sdW1uc1RvSGlkZSkge1xyXG4gICAgLy8gICAgICAgICAgICAgbGV0IGJ1dHRvbnNUb0hpZGUgPSBjb2x1bW4ucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJyk7XHJcbiAgICAvLyAgICAgICAgICAgICBmb3IgKGxldCBidXR0b24gb2YgYnV0dG9uc1RvSGlkZSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIC8vIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidXR0b24tZGlzYWJsZWQnKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfVxyXG5cclxuICAgIC8vICAgICAgICAgaWYgKGNvbnRlbnQuaWQgPT09IFwicGVya3NUYWJcIilcclxuXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIGlmICh0YWJOYW1lID09PSAnam9ic1RhYicpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgZHJhd0FsbENvbm5lY3Rpb25zKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKiBIT1RLRVlTICovXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XHJcbiAgICAgICAgY2FzZSAnMSc6XHJcbiAgICAgICAgICAgIHNob3dUYWIoJ3Byb2R1Y3Rpb25UYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnMic6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgndGFiLWJ1dHRvbicpKSBzaG93VGFiKCdleHBlcmltZW50VGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vIEFkZCBjYXNlcyBmb3Igb3RoZXIgdGFicyBhcyBuZWVkZWRcclxuICAgICAgICBjYXNlICczJzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCdwb25kZXItdGFiJykpIHNob3dUYWIoJ3BvbmRlclRhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICc0JzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCdqb2JzLXRhYicpKSBzaG93VGFiKCdqb2JzVGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJzUnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ3NraWxsc1RhYmxlJykpIHNob3dUYWIoJ3NraWxsc1RhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICc2JzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCdwZXJrc1RhYicpKSBzaG93VGFiKCdwZXJrc1RhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuLyogREFSSyBNT0RFICovXHJcbmNvbnN0IGRhcmtNb2RlVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXJrTW9kZVRvZ2dsZVwiKTtcclxuY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XHJcbmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyay1tb2RlJyk7XHJcbi8vIEB0cy1pZ25vcmVcclxuZGFya01vZGVUb2dnbGUuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyaycpO1xyXG5sZXQgaXNEYXJrID0gdHJ1ZTtcclxuXHJcblxyXG4vKiBDVVRTQ0VORVMgKi9cclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gZWF0RmlzaCgpIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGlmICghYXRlRmlzaCAmJiBnZXRNYXRlcmlhbCgnZmlzaCcpID49IDEpIHtcclxuICAgICAgICAvLyBlYXQgYSBmaXNoIGFuZCBibGFja291dFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKCdmaXNoJywgLTEpO1xyXG4gICAgICAgIC8vIENhbGwgdGhpcyBmdW5jdGlvbiB0byBzdGFydCB0aGUgc2VxdWVuY2VcclxuICAgICAgICBmYWRlVG9CbGFjaygpO1xyXG4gICAgICAgIC8vIEhpZGUgZmlzaCBidXR0b25cclxuICAgICAgICBhdGVGaXNoID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCBmaXNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlYXRGaXNoXCIpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBmaXNoQnV0dG9uLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYW5nZU1lc3NhZ2UoXCJZb3UgYXJlIHdpdGggeW91cnNlbGYgaW4gYSBmb3Jlc3QuXCIsICd3aXRoIHlvdXJzZWxmJyk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgaW5jcmVhc2VNYXgoJ2Nsb25lcycsIDEpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGluY3JlYXNlTWF0ZXJpYWwoJ2Nsb25lcycsIDEpO1xyXG4gICAgICAgIH0sIDEwMDApOyAvLyBkZWxheSBvZiAxc1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGZhZGVUb0JsYWNrKCkge1xyXG4gICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5Jyk7XHJcbiAgICBjb25zdCBvdmVybGF5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5LXRleHQnKTtcclxuICAgIGNvbnN0IG92ZXJsYXlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS1idXR0b24nKTtcclxuXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG92ZXJsYXlUZXh0LnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICB9LCAyMDAwKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgb3ZlcmxheUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIH0sIDUwMDApO1xyXG59XHJcblxyXG5jb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKTtcclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBoaWRlT3ZlcmxheSgpIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxufVxyXG5cclxuXHJcbi8vIE1lc3NhZ2UgXHJcbmNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UnKTtcclxuZnVuY3Rpb24gY2hhbmdlTWVzc2FnZShuZXdNZXNzYWdlLCBjbG9uZVdvcmRzKSB7XHJcbiAgICBjb25zdCBtb2RpZmllZE1lc3NhZ2UgPSBuZXdNZXNzYWdlLnJlcGxhY2UoY2xvbmVXb3JkcywgYDxzcGFuIGlkPVwiYWxvbmVcIiB0aXRsZT1cIllvdSBmZWVsIHBlY2tpc2ggZm9yIHNvbWUgc2VhZm9vZFwiPiR7Y2xvbmVXb3Jkc308L3NwYW4+YCk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBtZXNzYWdlRWxlbWVudC5pbm5lckhUTUwgPSBtb2RpZmllZE1lc3NhZ2U7XHJcbn1cclxuZnVuY3Rpb24gZ2V0TWVzc2FnZSgpIHtcclxuICAgIHJldHVybiBtZXNzYWdlRWxlbWVudDtcclxufVxyXG5cclxuLyogR0FNRSBMT09QICovXHJcblxyXG5cclxubGV0IG1pbGxpc2Vjb25kc19wZXJfZnJhbWUgPSA1MDtcclxubGV0IGxhc3RfdGltZSA9IG51bGw7XHJcbmxldCB0b3RhbF90aW1lID0gMDtcclxubGV0IGFjY3VtdWxhdGVkX2xhZyA9IDA7XHJcblxyXG5cclxuZnVuY3Rpb24gbG9vcChjdXJyZW50X3RpbWUpIHtcclxuICAgIGlmIChsYXN0X3RpbWUgPT09IG51bGwpIGxhc3RfdGltZSA9IGN1cnJlbnRfdGltZTtcclxuXHJcbiAgICBjb25zdCBkZWx0YV90aW1lID0gY3VycmVudF90aW1lIC0gbGFzdF90aW1lO1xyXG5cclxuICAgIHRvdGFsX3RpbWUgKz0gZGVsdGFfdGltZTtcclxuICAgIGFjY3VtdWxhdGVkX2xhZyArPSBkZWx0YV90aW1lO1xyXG5cclxuICAgIGxhc3RfdGltZSA9IGN1cnJlbnRfdGltZTtcclxuXHJcbiAgICAvLyBDYXRjaCB1cCBhbGwgdGhlIG1pc3NlZCB0aWNrc1xyXG4gICAgbGV0IG5vcm1hbFJhdGUgPSBtaWxsaXNlY29uZHNfcGVyX2ZyYW1lO1xyXG4gICAgLy8gc2ltdWxhdGUgd2l0aCBsZXNzIGZpZGVsaXR5IHRvIG1ha2UgdXAgdGltZVxyXG4gICAgd2hpbGUgKGFjY3VtdWxhdGVkX2xhZyA+PSAxMDAgKiBtaWxsaXNlY29uZHNfcGVyX2ZyYW1lKSB7XHJcbiAgICAgICAgbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSAqPSAxMDtcclxuICAgIH1cclxuICAgIHdoaWxlIChhY2N1bXVsYXRlZF9sYWcgPj0gbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSkge1xyXG5cclxuICAgICAgICBhY2N1bXVsYXRlZF9sYWcgLT0gbWlsbGlzZWNvbmRzX3Blcl9mcmFtZTtcclxuICAgICAgICB1cGRhdGUobWlsbGlzZWNvbmRzX3Blcl9mcmFtZSwgdG90YWxfdGltZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSA9IG5vcm1hbFJhdGU7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbn1cclxuXHJcblxyXG5sZXQgdGltZV9zaW5jZV9sYXN0X3NhdmUgPSAwO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlKGRlbHRhX3RpbWUsIHRvdGFsX3RpbWUpIHtcclxuXHJcbiAgICBmb3IgKGxldCBrZXkgaW4gcmVzb3VyY2VzKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ1cGRhdGluZyBcIiArIGtleSk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGluY3JlYXNlTWF0ZXJpYWwoa2V5LCBjYWxjSW5jcmVhc2Uoa2V5LCBkZWx0YV90aW1lKSk7XHJcbiAgICB9XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB1cGRhdGVSZXNvdXJjZUluY3JlYXNlUmF0ZXMoKTtcclxuXHJcbiAgICByZW5kZXIoKTtcclxuXHJcbiAgICAvLyBTYXZlIHRoZSBnYW1lIGV2ZXJ5IDEwIHNlY29uZHNcclxuICAgIHRpbWVfc2luY2VfbGFzdF9zYXZlICs9IGRlbHRhX3RpbWU7XHJcbiAgICB0b3RhbF90aW1lICs9IGRlbHRhX3RpbWU7XHJcbiAgICBpZiAodGltZV9zaW5jZV9sYXN0X3NhdmUgPj0gMTAwMDApIHtcclxuICAgICAgICBzYXZlR2FtZSgpO1xyXG4gICAgICAgIHRpbWVfc2luY2VfbGFzdF9zYXZlID0gMDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8vIHdpbmRvdy5zZXRJbnRlcnZhbChyZW5kZXIsIDEwMCkgLy8gVXBkYXRlIHZpc3VhbHMgMTAgdGltZXMgcGVyIHNlY29uZFxyXG4vLyB3aW5kb3cuc2V0SW50ZXJ2YWwodGljaywgMTAwMCk7IC8vIEV2ZXJ5IHRpY2sgbGFzdHMgZm9yIDEgc2Vjb25kXHJcbi8vIHdpbmRvdy5zZXRJbnRlcnZhbChzYXZlR2FtZSwgMTAwMDApOyAvLyBTYXZlIHRoZSBnYW1lIGV2ZXJ5IDEwIHNlY29uZHNcclxuXHJcblxyXG5cclxuLy8gY29uc3QgbXlSZXNvdXJjZXMgPSB7fTtcclxuXHJcbi8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkUmVzb3VyY2VCdG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VGb3JtXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbi8vIH0pO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBhZGRSZXNvdXJjZSgpIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IHJlc291cmNlTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VOYW1lXCIpLnZhbHVlO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgYWN0aXZlVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VBY3RpdmVUZXh0XCIpLnZhbHVlO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgZGVmYXVsdFRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc291cmNlRGVmYXVsdFRleHRcIikudmFsdWU7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgYnRuVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuVGV4dFwiKS52YWx1ZTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGJ0blRvb2x0aXBEZXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5Ub29sdGlwRGVzY1wiKS52YWx1ZTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGJ0blRvb2x0aXBDb3N0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5Ub29sdGlwQ29zdFwiKS52YWx1ZTtcclxuXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB2YXIgbmV3UmVzb3VyY2UgPSBteVJlc291cmNlc1tyZXNvdXJjZU5hbWVdID0ge1xyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGlkOiBcImdhdGhlclwiICsgcmVzb3VyY2VOYW1lLFxyXG4gICAgICAgIGlzR2V0dGluZzogZmFsc2UsXHJcbiAgICAgICAgYWN0aXZlVGV4dDogYWN0aXZlVGV4dCxcclxuICAgICAgICBkZWZhdWx0VGV4dDogZGVmYXVsdFRleHQsXHJcbiAgICAgICAgLy8gLi4uIEFkZCBvdGhlciBhdHRyaWJ1dGVzIGFzIGZldGNoZWQgZnJvbSBmb3JtIC4uLlxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIGJ1dHRvbiBvYmplY3RcclxuICAgIHZhciBuZXdCdXR0b24gPSBidXR0b25zW1wiZ2F0aGVyXCIgKyByZXNvdXJjZU5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyByZXNvdXJjZU5hbWUuc2xpY2UoMSldID0ge1xyXG4gICAgICAgIGNsYXNzOiAndG9vbHRpcCAnLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6IGJ0blRleHQsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IGJ0blRvb2x0aXBEZXNjLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiBidG5Ub29sdGlwQ29zdCxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSAvLyBCeSBkZWZhdWx0LCBtYWtpbmcgdGhpcyBhbHdheXMgdmlzaWJsZS4gTW9kaWZ5IGFzIG5lZWRlZC5cclxuICAgIH07XHJcblxyXG4gICAgY29uc29sZS5sb2cobmV3UmVzb3VyY2UpO1xyXG4gICAgY29uc29sZS5sb2cobmV3QnV0dG9uKTtcclxuXHJcbiAgICAvLyBIaWRlIGZvcm0gb25jZSByZXNvdXJjZSBpcyBhZGRlZFxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZUZvcm1cIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgIC8vIE9wdGlvbmFsbHksIHlvdSBjYW4gdXBkYXRlIHRoZSBVSSB0byBzaG93IHRoZSBhZGRlZCByZXNvdXJjZVxyXG4gICAgLy8gdXBkYXRlVUkocmVzb3VyY2VOYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVUkocmVzb3VyY2VOYW1lKSB7XHJcbiAgICAvLyBIZXJlIHlvdSBjYW4gY3JlYXRlIGEgbmV3IERPTSBlbGVtZW50IHRvIGRpc3BsYXkgdGhlIGFkZGVkIHJlc291cmNlXHJcbiAgICBjb25zdCByZXNvdXJjZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICByZXNvdXJjZURpdi5pbm5lckhUTUwgPSBgJHtyZXNvdXJjZU5hbWV9OiAke3Jlc291cmNlc1tyZXNvdXJjZU5hbWVdLnZhbHVlfWA7XHJcblxyXG4gICAgLy8gQXBwZW5kIHRvIHNvbWUgY29udGFpbmVyXHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlc291cmNlRGl2KTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IHRvb2x0aXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHluYW1pYy10b29sdGlwJyk7XHJcblxyXG5mdW5jdGlvbiBzaG93VG9vbHRpcCh0YXJnZXQsIGRlc2MsIGVmZmVjdCwgY29zdCkge1xyXG4gICAgbGV0IGNvbnRlbnQgPSAnJztcclxuXHJcbiAgICBpZiAoZGVzYykge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gYDxzcGFuID4ke2Rlc2N9PC9zcGFuPjxocj5gO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlZmZlY3QpIHtcclxuICAgICAgICBjb250ZW50ICs9IGA8c3BhbiBzdHlsZT1cImNvbG9yOiMwMEFCRTdcIj4ke2VmZmVjdH08L3NwYW4+PGhyPmA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvc3QpIHtcclxuICAgICAgICAvLyBjb250ZW50ICs9IGA8c3BhbiBzdHlsZT1cImNvbG9yOiNGNEQwM0ZcIj4ke2Nvc3R9PC9zcGFuPjxicj5gO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBzdHIgPSAnJztcclxuICAgICAgICAgICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gY29zdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgbWF0ZXJpYWwgPSByZXE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBjb3N0W21hdGVyaWFsXTtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0Vub3VnaCA9IGdldE1hdGVyaWFsKG1hdGVyaWFsKSA+PSBhbW91bnQ7LyogWW91ciBsb2dpYyB0byBjaGVjayBpZiB0aGVyZSdzIGVub3VnaCBvZiB0aGUgbWF0ZXJpYWwgKi87XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JDbGFzcyA9IGhhc0Vub3VnaCA/ICdlbm91Z2gnIDogJ25vdC1lbm91Z2gnO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgaWYgKGdldE1heChtYXRlcmlhbCkgPCBhbW91bnQpIGNvbG9yQ2xhc3MgPSAnZXhjZWVkcy1tYXgnO1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGA8c3BhbiBjbGFzcz1cInRvb2x0aXAtJHttYXRlcmlhbH0gJHtjb2xvckNsYXNzfVwiPiR7YW1vdW50LnRvRml4ZWQoMCl9ICR7bWF0ZXJpYWx9PC9zcGFuPmA7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRzUmVtYWluaW5nID0gY2FsY1NlY29uZHNSZW1haW5pbmcobWF0ZXJpYWwsIGFtb3VudCk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzZWNvbmRzUmVtYWluaW5nKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZWNvbmRzUmVtYWluaW5nID4gMCAmJiBjb2xvckNsYXNzICE9ICdleGNlZWRzLW1heCcpIHsgc3RyICs9IGA8c3BhbiBjbGFzcz1cInRpbWUtcmVtYWluaW5nXCI+KCR7KHNlY29uZHNSZW1haW5pbmcpLnRvRml4ZWQoMCl9IHNlY29uZHMpPC9zcGFuPmA7IH1cclxuICAgICAgICAgICAgICAgIHN0ciArPSBgPGJyPmA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGVudCArPSBzdHI7XHJcblxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb250ZW50ICs9IGNvc3Q7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJDb3VsZG4ndCBtYWtlIG5vcm1hbCBjb3N0IGZvciBidXR0b246IFwiLCB0YXJnZXQsIGNvc3QsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZyh0YXJnZXQsIGNvbnRlbnQpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdG9vbHRpcC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdG9vbHRpcC5zdHlsZS5sZWZ0ID0gKHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCArIDUpICsgJ3B4JztcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRvb2x0aXAuc3R5bGUudG9wID0gKHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSB0b29sdGlwLm9mZnNldEhlaWdodCAvIDIpICsgJ3B4JztcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVUb29sdGlwKCkge1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVUb29sdGlwKGJ1dHRvbikge1xyXG4gICAgY29uc3QgZGVzYyA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJykgfHwgYnV0dG9uLmdldEF0dHJpYnV0ZSgndG9vbHRpcERlc2MnKTtcclxuICAgIGNvbnN0IGVmZmVjdCA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1lZmZlY3QnKTtcclxuICAgIC8vIGNvbnN0IGNvc3QgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgY29uZmlnID0gZ2V0UmVzb3VyY2VDb25maWdCeUlkKGJ1dHRvbi5pZCkgfHwgZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZChidXR0b24uaWQpIHx8IGJ1aWxkaW5nc1tidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJyldIHx8IHBvbmRlcnNbYnV0dG9uLmdldEF0dHJpYnV0ZSgndW5sb2NrJyldO1xyXG4gICAgLy8gY29uc29sZS5sb2coY29uZmlnKTtcclxuICAgIGNvbnN0IGNvc3QgPSBidXR0b24uZ2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcpIHx8IGNvbmZpZy5jb3N0O1xyXG4gICAgc2hvd1Rvb2x0aXAoYnV0dG9uLCBkZXNjLCBlZmZlY3QsIGNvc3QpO1xyXG59XHJcblxyXG5cclxuZ2VuZXJhdGVCdXR0b25zKCk7IC8vIENhbGwgdGhpcyBvbmNlIG9uIHBhZ2UgbG9hZCBvciBnYW1lIGluaXRpYWxpemF0aW9uXHJcbi8vIEFmdGVyIGFsbCBoYXMgYmVlbiBsb2FkZWRcclxuLy8gQHRzLWlnbm9yZVxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKGV2ZW50KSA9PiB7XHJcblxyXG4gICAgbG9hZEdhbWUoKTtcclxuICAgIHVwZGF0ZVNpZGViYXIoKTtcclxuICAgIGdlbmVyYXRlUG9uZGVyQnV0dG9ucyhwb25kZXJzKTtcclxuICAgIHNob3dUYWIoJ3Byb2R1Y3Rpb25UYWInKTtcclxuICAgIGNyZWF0ZVJlc291cmNlVGFnKCdzdGlja3MnKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGFwcGVuZENyYWZ0ZWRSZXNvdXJjZUJ1dHRvbnMoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSS2V5RnJvbUlEKGlkKSB7XHJcbiAgICAgICAgZm9yIChsZXQgciBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzb3VyY2VzW3JdLmlkLCBpZCk7XHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcl0uaWQgPT09IGlkKSByZXR1cm4gcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0Q1JLZXlGcm9tSUQoaWQpIHtcclxuICAgICAgICBmb3IgKGxldCByIGluIGNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzb3VyY2VzW3JdLmlkLCBpZCk7XHJcbiAgICAgICAgICAgIGlmIChjcmFmdGVkUmVzb3VyY2VzW3JdLmlkID09PSBpZCkgcmV0dXJuIHI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKFwiYnV0dG9uXCIpKSB7XHJcbiAgICAgICAgICAgIC8vIG9uZSBvZiBvdXIgYnV0dG9ucyB3YXMgY2xpY2tlZFxyXG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGlja2VkJywgYnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0b29sdGlwcyBcclxuICAgICAgICAgICAgLy8gaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3Rvb2x0aXAnKSkgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgICAgICAvLyB1cGRhdGVUb29sdGlwKGJ1dHRvbik7XHJcblxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGlmIChidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJykgJiYgYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YV9idWlsZGluZycpICE9PSAndW5kZWZpbmVkJyAmJiBidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXJjaGFzYWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICB2YXIgYnVpbGRpbmcgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgYnV5TWF4QnVpbGRpbmdzKGJ1aWxkaW5nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1eUJ1aWxkaW5nKGJ1aWxkaW5nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCd1bmxvY2snKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdW5sb2NrQXR0ciA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3VubG9jaycpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1bmxvY2tBdHRyKTtcclxuICAgICAgICAgICAgICAgIGlmIChwb25kZXJzW3VubG9ja0F0dHJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhblVubG9jayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gcG9uZGVyc1t1bmxvY2tBdHRyXS5jb3N0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldE1hdGVyaWFsKG1hdGVyaWFsKSA8IHBvbmRlcnNbdW5sb2NrQXR0cl0uY29zdFttYXRlcmlhbF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2Fubm90IHVubG9jayBcIiArIHVubG9ja0F0dHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuVW5sb2NrID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhblVubG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBtYXRlcmlhbCBpbiBwb25kZXJzW3VubG9ja0F0dHJdLmNvc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY3JlYXNlTWF0ZXJpYWwobWF0ZXJpYWwsIC1wb25kZXJzW3VubG9ja0F0dHJdLmNvc3RbbWF0ZXJpYWxdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb25kZXJzW3VubG9ja0F0dHJdLmlzUG9uZGVyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlVmlzaWJsZSh1bmxvY2tBdHRyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIHJlc291cmNlS2V5ICsgXCJWYWx1ZVwiKS50ZXh0Q29udGVudCA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLnZhbHVlLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgdGhpcyBidXR0b24gZGlzYXBwZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVubG9ja2luZyBcIiArIHVubG9ja0F0dHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmlkLnNsaWNlKDAsIDYpID09PSBcImdhdGhlclwiKSB0b2dnbGVSZXNvdXJjZShnZXRSS2V5RnJvbUlEKGJ1dHRvbi5pZCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGlmIChidXR0b24uaWQuc2xpY2UoMCwgNSkgPT09ICdjcmFmdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSkgY3JhZnRBbGxSZXNvdXJjZXMoZ2V0Q1JLZXlGcm9tSUQoYnV0dG9uLmlkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgY3JhZnRSZXNvdXJjZShnZXRDUktleUZyb21JRChidXR0b24uaWQpKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZCA9PT0gJ2RhcmtNb2RlVG9nZ2xlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyay1tb2RlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGRhcmtNb2RlVG9nZ2xlLmNsYXNzTGlzdC50b2dnbGUoJ2RhcmsnKTtcclxuICAgICAgICAgICAgICAgICAgICBpc0RhcmsgPSAhaXNEYXJrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBkYXJrTW9kZVRvZ2dsZS50ZXh0Q29udGVudCA9IGlzRGFyayA/IFwiTGlnaHQgTW9kZVwiIDogXCJEYXJrIE1vZGVcIjtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQubWF0Y2hlcyhcIiNhbG9uZVwiKSkge1xyXG4gICAgICAgICAgICAvLyBpbmNyZWFzZU1hdGVyaWFsKCdjbG9uZXMnLCAxKTtcclxuICAgICAgICAgICAgLy8gSGFyZGNvZGVkIGluc3RlYWQgdG8gYXZvaWQgaW5jcmVhc2UgYWZmZWN0ZWQgYnkgcHJvZHVjdGl2aXR5IGJvbnVzZXNcclxuICAgICAgICAgICAgaWYgKHJlc291cmNlc1snY2xvbmVzJ10udmFsdWUgPCByZXNvdXJjZXNbJ2Nsb25lcyddLm1heCkgcmVzb3VyY2VzWydjbG9uZXMnXS52YWx1ZSArPSAxO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcclxuXHJcbiAgICAvLyBTYW1wbGUgdXNhZ2U6XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG9vbHRpcCcpLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24pO1xyXG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIGRhdGEgZnJvbSB5b3VyIGJ1aWxkaW5nIG9yIGFueSBvdGhlciBkYXRhIC0gc291cmNlXHJcbiAgICAgICAgLy8gY29uc3QgY29udGVudCA9IFwiWW91ciB0b29sdGlwIGNvbnRlbnQgaGVyZVwiO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuICAgICAgICAgICAgY3VycmVudEhvdmVyQnV0dG9uID0gYnV0dG9uO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gVE9ETzogbW92ZSB0aGlzIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ29uY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7IGhpZGVUb29sdGlwKCk7IGN1cnJlbnRIb3ZlckJ1dHRvbiA9IG51bGw7IH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBqb2JzIGNvdW50ZXJcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHVwZGF0ZVRvdGFsKCk7XHJcblxyXG5cclxufSk7XHJcblxyXG5mdW5jdGlvbiBzZXRBdGVGaXNoKGJvb2wpIHtcclxuICAgIGF0ZUZpc2ggPSBib29sO1xyXG4gICAgcmV0dXJuIGF0ZUZpc2g7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEF0ZUZpc2goKSB7XHJcbiAgICByZXR1cm4gYXRlRmlzaDtcclxufVxyXG5cclxuXHJcbnZhciBjdXJyZW50SG92ZXJCdXR0b24gPSBudWxsO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblxyXG4gICAgdXBkYXRlU2lkZWJhcixcclxuICAgIHVwZGF0ZVVJLFxyXG4gICAgcGFzc2VkU3RhZ2UsXHJcbiAgICBzZXRUb3RhbFRpbWUsXHJcbiAgICBjaGFuZ2VNZXNzYWdlLFxyXG4gICAgc2V0QXRlRmlzaCxcclxuICAgIGdldEF0ZUZpc2gsXHJcbiAgICBnZXRNZXNzYWdlLFxyXG4gICAgdG90YWxfdGltZSxcclxuICAgIGN1cnJlbnRIb3ZlckJ1dHRvblxyXG5cclxufTtcclxuIiwiY29uc3QgeyBidWlsZGluZ3MgfSA9IHJlcXVpcmUoJy4vanNvbi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCB9ID0gcmVxdWlyZSgnLi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyBwZXJrcyB9ID0gcmVxdWlyZSgnLi9qc29uL3BlcmtzJyk7XHJcbmxldCBteVBlcmtzID0gW107XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwZXJrTmFtZSBcclxuICogQHJldHVybnMgYm9vbGVhblxyXG4gKi9cclxuZnVuY3Rpb24gaGFzUGVyayhwZXJrTmFtZSkge1xyXG4gICAgcmV0dXJuIG15UGVya3MuaW5jbHVkZXMocGVya05hbWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbGxQZXJrcygpIHtcclxuICAgIHJldHVybiBteVBlcmtzO1xyXG59XHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IHBlcmtOYW1lIFBlcmsgdG8gYWRkXHJcbiAqL1xyXG5mdW5jdGlvbiBhZGRQZXJrKHBlcmtOYW1lKSB7XHJcbiAgICBteVBlcmtzLnB1c2gocGVya05hbWUpO1xyXG5cclxuICAgIC8vIERvIGFsbCB0aGUgb25lLXRpbWUgdXBkYXRlc1xyXG4gICAgc3dpdGNoIChwZXJrTmFtZSkge1xyXG4gICAgICAgIGNhc2UgJ0FyY2hpdGVjdCc6XHJcbiAgICAgICAgICAgIGZvciAobGV0IGIgaW4gYnVpbGRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChiLCBidWlsZGluZ3MsIGhhc1BlcmspO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtOdW1iZXJ9IHRpZXJOdW0gXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQZXJrRnJvbVRpZXIodGllck51bSkge1xyXG4gICAgZm9yIChsZXQgcGVyayBpbiBwZXJrc1sndGllcicgKyB0aWVyTnVtXSkge1xyXG4gICAgICAgIGlmIChoYXNQZXJrKHBlcmspKSByZXR1cm4gcGVyaztcclxuICAgIH1cclxuXHJcbiAgICAvLyBObyBwZXJrIGZvciB0aGlzIHRpZXJcclxuICAgIHJldHVybiAnJztcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHNlbGVjdEFiaWxpdHkoYWJpbGl0eU5hbWUpIHtcclxuICAgIGlmIChoYXNQZXJrKGFiaWxpdHlOYW1lKSkgcmV0dXJuO1xyXG5cclxuICAgIGxldCBjb25maXJtU2VsZWN0aW9uID0gd2luZG93LmNvbmZpcm0oXCJEbyB5b3Ugd2FudCB0byBzZWxlY3QgXCIgKyBhYmlsaXR5TmFtZSArIFwiPyBUaGlzIGRlY2lzaW9uIGNhbm5vdCBiZSBlYXNpbHkgY2hhbmdlZC5cIik7XHJcblxyXG4gICAgaWYgKCFjb25maXJtU2VsZWN0aW9uKSByZXR1cm47XHJcbiAgICBhZGRQZXJrKGFiaWxpdHlOYW1lKTtcclxuXHJcbiAgICAvLyBmb3IgKGxldCBpID0gMTsgaSA8PSAxOyArK2kpXHJcbiAgICBzZWxlY3RDb3JyZWN0UGVya0J1dHRvbihhYmlsaXR5TmFtZSk7XHJcblxyXG4gICAgLy8gbXlQZXJrcy5wdXNoKGFiaWxpdHlOYW1lKTtcclxufVxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBhYmlsaXR5TmFtZSBcclxuICovXHJcbmZ1bmN0aW9uIHNlbGVjdENvcnJlY3RQZXJrQnV0dG9uKGFiaWxpdHlOYW1lKSB7XHJcbiAgICAvLyBEaXNhYmxlIGFsbCBidXR0b25zXHJcbiAgICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50aWVyT25lQnV0dG9uJyk7XHJcbiAgICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFbmFibGUgYW5kIGhpZ2hsaWdodCB0aGUgc2VsZWN0ZWQgYnV0dG9uXHJcbiAgICBsZXQgc2VsZWN0ZWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGllck9uZUJ1dHRvbltvbmNsaWNrPVwic2VsZWN0QWJpbGl0eShcXCcnICsgYWJpbGl0eU5hbWUgKyAnXFwnKVwiXScpO1xyXG4gICAgY29uc29sZS5sb2coc2VsZWN0ZWRCdXR0b24sIGFiaWxpdHlOYW1lKTtcclxuICAgIHNlbGVjdGVkQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgIHNlbGVjdGVkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGhhc1BlcmssXHJcbiAgICBhZGRQZXJrLFxyXG4gICAgc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24sXHJcbiAgICBzZWxlY3RBYmlsaXR5LFxyXG4gICAgZ2V0UGVya0Zyb21UaWVyLFxyXG4gICAgZ2V0QWxsUGVya3NcclxufTsiLCIvLyBERVBFTkRTIE9OOiBqc29uL2J1dHRvbnMuanNcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZSgnLi9qc29uL3BvbmRlcicpO1xyXG5jb25zdCB7IGdldE1heCB9ID0gcmVxdWlyZSgnLi9oZWxwZXInKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5cclxuY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKCcuL2pzb24vYnV0dG9ucycpO1xyXG5cclxuZnVuY3Rpb24gaXNQb25kZXJlZChpZCkge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGlkIGV4aXN0cyBpbiB0aGUgdW5sb2NrcyBtYXBcclxuICAgIC8vIElmIHRoZSBpZCBkb2Vzbid0IGV4aXN0IGluIHRoZSBtYXAsIHJldHVybiBmYWxzZVxyXG5cclxuICAgIHJldHVybiBwb25kZXJzW2lkXSA/IHBvbmRlcnNbaWRdLmlzUG9uZGVyZWQgOiBmYWxzZTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhblVubG9jayh1bmxvY2tJZCkge1xyXG4gICAgLy8gR2V0IHRoZSBrZXkgZnJvbSB0aGlzIGlkXHJcbiAgICAvLyBjb25zb2xlLmxvZygnY2FuIHVubG9jaz8gJywgdW5sb2NrSWQpO1xyXG4gICAgdmFyIHVubG9ja0tleSA9ICcnO1xyXG4gICAgZm9yIChsZXQgdW5sb2NrIGluIHBvbmRlcnMpIHtcclxuICAgICAgICBpZiAocG9uZGVyc1t1bmxvY2tdLmlkID09PSB1bmxvY2tJZCkge1xyXG4gICAgICAgICAgICB1bmxvY2tLZXkgPSB1bmxvY2s7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh1bmxvY2tLZXkgPT09ICcnKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiaW52YWxpZCB1bmxvY2sgaWQ6IFwiLCB1bmxvY2tJZCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBlbm91Z2ggcmVzb3VyY2VzXHJcbiAgICB2YXIgY2FuQnV5ID0gdHJ1ZTtcclxuICAgIGZvciAobGV0IG1hdGVyaWFsIGluIHBvbmRlcnNbdW5sb2NrS2V5XS5jb3N0KSB7XHJcbiAgICAgICAgaWYgKGdldE1hdGVyaWFsKG1hdGVyaWFsLCByZXNvdXJjZXMpIDwgcG9uZGVyc1t1bmxvY2tLZXldLmNvc3RbbWF0ZXJpYWxdKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2Fubm90IHVubG9jayBcIiArIHVubG9ja0lkKTtcclxuICAgICAgICAgICAgY2FuQnV5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnY2FuIHdlIHVubG9jayAnLCB1bmxvY2tJZCwgY2FuQnV5KTtcclxuICAgIHJldHVybiBjYW5CdXk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVBvbmRlckJ1dHRvbnMocG9uZGVyT2JqZWN0cykge1xyXG4gICAgLy8gY29uc3QgZ2VuZXJhdGVkQnV0dG9ucyA9IHt9O1xyXG5cclxuICAgIGZvciAoY29uc3QgW3BvbmRlcktleSwgcG9uZGVyT2JqXSBvZiBPYmplY3QuZW50cmllcyhwb25kZXJPYmplY3RzKSkge1xyXG5cclxuICAgICAgICBjb25zdCBidXR0b25LZXkgPSBgcG9uZGVyJHtjYXBpdGFsaXplRmlyc3QocG9uZGVyS2V5KX1gOyAvLyBlLmcuIHBvbmRlckZpc2hpbmdcclxuXHJcbiAgICAgICAgYnV0dG9uc1tidXR0b25LZXldID0ge1xyXG4gICAgICAgICAgICBjbGFzczogJ3Rvb2x0aXAgdW5sb2NrJyxcclxuICAgICAgICAgICAgdGV4dDogcG9uZGVyT2JqLnRleHQgfHwgJ1BvbmRlciBhIE15c3Rlcnk/JyxcclxuICAgICAgICAgICAgdG9vbHRpcERlc2M6IHBvbmRlck9iai50b29sdGlwRGVzYyB8fCBcIldobyBrbm93cyB3aGF0IHlvdSdsbCBkaXNjb3ZlclwiLFxyXG4gICAgICAgICAgICB0b29sdGlwQ29zdDogcG9uZGVyT2JqLnRvb2x0aXBDb3N0LFxyXG4gICAgICAgICAgICB0YWI6ICdwb25kZXInLFxyXG4gICAgICAgICAgICB1bmxvY2s6IHBvbmRlcktleSxcclxuICAgICAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRNYXgoJ3BvbmRlcicpID49IHBvbmRlcnNbcG9uZGVyS2V5XS5jb3N0Wydwb25kZXInXSAvIDI7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBoaWRlOiAoKSA9PiBpc1BvbmRlcmVkKHBvbmRlcktleSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b25LZXksIGJ1dHRvbnNbYnV0dG9uS2V5XSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIHJldHVybiBnZW5lcmF0ZWRCdXR0b25zO1xyXG59XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBjYW5VbmxvY2ssXHJcbiAgICBpc1BvbmRlcmVkLFxyXG4gICAgZ2VuZXJhdGVQb25kZXJCdXR0b25zXHJcbn07IiwiXHJcbi8vIERFUEVORFMgT046IHRvb2xzLmpzLCBqb2JzLmpzXHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL3Jlc291cmNlc1wiKTtcclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1aWxkaW5ncywgZ2V0Qm9vc3QgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpO1xyXG4vLyBAdHMtaWdub3JlXHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZShcIi4vanNvbi9wb25kZXJcIik7XHJcbmNvbnN0IHsgYnV0dG9ucyB9ID0gcmVxdWlyZShcIi4vanNvbi9idXR0b25zXCIpO1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZSgnLi9qc29uL3NraWxscycpO1xyXG5cclxuY29uc3QgeyBnZXRXb3JrZXJzLCB1cGRhdGVUb3RhbCwgcmVhc3NpZ25Kb2JzQmFzZWRPblJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qb2JzJyk7XHJcbmNvbnN0IHsgaGFzVG9vbCwgZ2V0VG9vbFZhbHVlRm9yUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vdG9vbHMnKTtcclxuY29uc3QgeyB1cGRhdGVTaWRlYmFyLCB1cGRhdGVTa2lsbHMsIGNhcGl0YWxpemVGaXJzdCwgY2FuQ3JhZnQsIGNhbGNDcmFmdEJvbnVzIH0gPSByZXF1aXJlKFwiLi9oZWxwZXJcIik7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmNvbnN0IHsgaGFzUGVyayB9ID0gcmVxdWlyZSgnLi9wZXJrcycpO1xyXG5jb25zdCB7IGlzUG9uZGVyZWQgfSA9IHJlcXVpcmUoJy4vcG9uZGVyJyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlIH0gPSByZXF1aXJlKFwiLi9oZWxwZXJcIik7XHJcbmNvbnNvbGUubG9nKGNhcGl0YWxpemVGaXJzdCk7XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBqb2IgXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvdXJjZSBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGlzUmVzb3VyY2VBZmZlY3RlZEJ5Sm9iKGpvYiwgcmVzb3VyY2UpIHtcclxuICAgIGNvbnN0IHNraWxsID0gc2tpbGxzW2pvYl07XHJcbiAgICBpZiAoIXNraWxsKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKHNraWxsLmFmZmVjdGVkUmVzb3VyY2VzLmluY2x1ZGVzKHJlc291cmNlKSkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYSB0b29sIHJlcXVpcmVtZW50IGZvciB0aGlzIHJlc291cmNlXHJcbiAgICAgICAgaWYgKHNraWxsLm5lZWRUb29scyAmJiBBcnJheS5pc0FycmF5KHNraWxsLm5lZWRUb29scykpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgdG9vbE9iaiBvZiBza2lsbC5uZWVkVG9vbHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHRvb2wgaW4gdG9vbE9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sT2JqW3Rvb2xdLmluY2x1ZGVzKHJlc291cmNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwbGF5ZXIgaGFzIHRoaXMgdG9vbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3Igbm93LCBqdXN0IHJldHVybmluZyB0cnVlIHRvIGluZGljYXRlIHRoZSByZXNvdXJjZSBpcyBhZmZlY3RlZCBhbmQgYSB0b29sIGlzIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCdXQgeW91IG1heSB3YW50IHRvIHJlcGxhY2UgdGhpcyB3aXRoIGEgY2hlY2sgdG8gc2VlIGlmIHRoZSBwbGF5ZXIgcG9zc2Vzc2VzIHRoZSByZXF1aXJlZCB0b29sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNUb29sKHRvb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBXZSBuZWVkZWQgYSB0b29sIGJ1dCBub3QgZm9yIHRoaXNcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIG5vIHRvb2wgcmVxdWlyZW1lbnQgd2FzIGZvdW5kIGZvciB0aGUgcmVzb3VyY2UsIGl0J3Mgc3RpbGwgYWZmZWN0ZWQgYnkgdGhlIGpvYlxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyBDbG9uZXMgd29yayBhdCAxLzQgdGhlIHNwZWVkIGJ5IGRlZmF1bHRcclxudmFyIGNsb25lTXVsdCA9IDAuMjU7XHJcbi8vIGNvbnNvbGUubG9nKCdpbml0aWFsJywgd29ya2Vyc0Rpc3RyaWJ1dGlvbik7XHJcbmZ1bmN0aW9uIGNhbGNJbmNyZWFzZShyZXNvdXJjZU5hbWUsIGRlbHRhX3RpbWUpIHtcclxuICAgIHZhciB0b3RhbCA9IDA7XHJcblxyXG4gICAgLy8gY2xvbmVzIGluY3JlYXNlIGJ5IDEgcGVyIHNlY29uZCBhcyBsb25nIGFzIHRoZXJlJ3Mgc3BhY2VcclxuICAgIC8vIGlmIChyZXNvdXJjZSA9PT0gJ2Nsb25lcycgJiYgcGFzc2VkU3RhZ2UoJ2Nsb25lJykpIHtcclxuICAgIC8vICAgICB0b3RhbCA9IDE7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRvdGFsO1xyXG4gICAgLy8gfVxyXG4gICAgaWYgKCFyZXNvdXJjZXMuaGFzT3duUHJvcGVydHkocmVzb3VyY2VOYW1lKSkgcmV0dXJuIHRvdGFsO1xyXG5cclxuICAgIGlmIChyZXNvdXJjZU5hbWUgPT09ICdjbG9uZXMnICYmIGlzUG9uZGVyZWQoJ2F1dG9DbG9uZScpKSB0b3RhbCA9IDE7XHJcbiAgICAvLyBDaGVjayB0b29sc1xyXG4gICAgdmFyIGN1cnJUb29sID0gZ2V0VG9vbFZhbHVlRm9yUmVzb3VyY2UocmVzb3VyY2VzW3Jlc291cmNlTmFtZV0pO1xyXG4gICAgLy8gR2F0aGVyaW5nIHBlcnNvbmFsbHlcclxuICAgIGlmIChyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS5pc0dldHRpbmcpIHtcclxuICAgICAgICB0b3RhbCArPSBjdXJyVG9vbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBqb2JzXHJcbiAgICBsZXQgbGVhZGVyTXVsdCA9IGhhc1BlcmsoJ0xlYWRlcicpID8gY2xvbmVNdWx0ICogMS41IDogY2xvbmVNdWx0O1xyXG4gICAgdG90YWwgKz0gbGVhZGVyTXVsdCAqIGdldFdvcmtlcnMocmVzb3VyY2VOYW1lKSB8fCAwO1xyXG5cclxuXHJcbiAgICAvLyBBcHBseSBwZXJrcyBwcm9kdWN0aW9uIGJvb3N0XHJcbiAgICBpZiAoaGFzUGVyaygnTHVtYmVyamFjaycpICYmIChyZXNvdXJjZU5hbWUgPT0gJ3dvb2QnIHx8IHJlc291cmNlTmFtZSA9PSAnc3RpY2tzJykpIHRvdGFsICo9IDEuMjU7XHJcbiAgICBpZiAoaGFzUGVyaygnTWluZXInKSAmJiAocmVzb3VyY2VOYW1lID09ICdyb2NrcycgfHwgcmVzb3VyY2VOYW1lID09ICdvcmUnKSkgdG90YWwgKj0gMS4yNTtcclxuICAgIGlmIChoYXNQZXJrKCdCb3RhbmlzdCcpICYmIChyZXNvdXJjZU5hbWUgPT0gJ3ZpbmVzJyB8fCByZXNvdXJjZU5hbWUgPT0gJ2hlcmJzJyB8fCByZXNvdXJjZU5hbWUgPT0gJ3doZWF0JykpIHRvdGFsICo9IDEuMjU7XHJcblxyXG4gICAgLy8gQXBwbHkgc2tpbGxzIHRvIGFsbCBjbG9uZXNcclxuICAgIGZvciAobGV0IHNraWxsIGluIHNraWxscykge1xyXG4gICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmFmZmVjdGVkUmVzb3VyY2VzLmluY2x1ZGVzKHJlc291cmNlTmFtZSkpIHtcclxuICAgICAgICAgICAgbGV0IHNraWxsUmF0aW8gPSAxLjI7XHJcbiAgICAgICAgICAgIHZhciBtdWx0ID0gMSArIChNYXRoLnBvdyhza2lsbFJhdGlvLCBza2lsbHNbc2tpbGxdLmxldmVsKSAtIDEpIC8gMTAwO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIk11bHRpcGx5aW5nIGdhaW4gYnkgXCIgKyBtdWx0KTtcclxuICAgICAgICAgICAgdG90YWwgKj0gbXVsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEFsbCBidWlsZGluZ3MgYWZ0ZXIgbGV2ZWxcclxuICAgIGZvciAobGV0IGJ1aWxkaW5nIGluIGJ1aWxkaW5ncykge1xyXG4gICAgICAgIGNvbnN0IGJvb3N0RGF0YSA9IGdldEJvb3N0KGJ1aWxkaW5nLCByZXNvdXJjZU5hbWUpO1xyXG4gICAgICAgIGlmIChib29zdERhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGluY3JlYXNlID0gTWF0aC5wb3coYm9vc3REYXRhLCBidWlsZGluZ3NbYnVpbGRpbmddLmNvdW50KTtcclxuICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ2VmZmVjdGl2ZUJ1aWxkaW5ncycpKSBpbmNyZWFzZSAqPSAxLjAxO1xyXG4gICAgICAgICAgICB0b3RhbCAqPSBpbmNyZWFzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocmVzb3VyY2VOYW1lID09PSAncG9uZGVyJykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUE9OREVSSU5HIElOQzogXCIsdG90YWwpO1xyXG4gICAgICAgIGlmIChpc1BvbmRlcmVkKCdwb25kZXIxJykpIHRvdGFsICo9IDEuMDU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ2Zhc3RlclJlc291cmNlR2FpbicpKSB0b3RhbCAqPSAxLjA1O1xyXG5cclxuICAgIC8vIENvbnZlcnQgZnJvbSBzZWNvbmRzIHRvIG1pbGxpc2Vjb25kc1xyXG4gICAgdG90YWwgKj0gZGVsdGFfdGltZSAvIDEwMDA7XHJcbiAgICAvLyByb3VuZCB0b3RhbCB0byBuZWFyZXN0IHRob3VzYW5kdGhcclxuICAgIHRvdGFsID0gcGFyc2VGbG9hdCh0b3RhbC50b0ZpeGVkKDMpKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwidGltZSBmb3IgcmVzb3VyY2VzXCIsIGRlbHRhX3RpbWUsIHJlc291cmNlTmFtZSwgdG90YWwpO1xyXG4gICAgcmV0dXJuIHRvdGFsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjU2Vjb25kc1JlbWFpbmluZyhyZXNvdXJjZU5hbWUsIG5lZWRlZCkge1xyXG4gICAgaWYgKG5lZWRlZCA8PSByZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSkgcmV0dXJuIDA7XHJcblxyXG4gICAgLy8gSG93IG11Y2ggcGVyIHNlY29uZFxyXG4gICAgY29uc3QgaW5jcmVhc2UgPSBjYWxjSW5jcmVhc2UocmVzb3VyY2VOYW1lLCAxMDAwKTtcclxuICAgIGlmIChpbmNyZWFzZSA9PSAwKSByZXR1cm4gLTE7XHJcbiAgICAvLyBjb25zb2xlLmxvZygncGluZycpO1xyXG4gICAgLy8gRGlmZmVyZW5jZSBvdmVyIHRpbWVcclxuICAgIGNvbnN0IHRpbWVSZW1haW5pbmcgPSBNYXRoLmNlaWwobmVlZGVkIC0gcmVzb3VyY2VzW3Jlc291cmNlTmFtZV0udmFsdWUpIC8gaW5jcmVhc2U7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ2NhbGMgbWlsbGknLCByZXNvdXJjZU5hbWUsIG5lZWRlZCwgdGltZVJlbWFpbmluZyk7XHJcbiAgICAvLyBpZiAodGltZVJlbWFpbmluZyA9PSBJbmZpbml0eSB8fCB0aW1lUmVtYWluaW5nID09IC1JbmZpbml0eSkgcmV0dXJuIC0xO1xyXG4gICAgcmV0dXJuIHRpbWVSZW1haW5pbmc7XHJcbn1cclxuXHJcbi8vIENyZWF0ZSBhbGwgb3VyIHJlc291cmNlIHRhZ3MgaW4gdGhlIHNpZGViYXJcclxuY29uc3QgcmVzb3VyY2VzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc291cmNlcycpO1xyXG5mdW5jdGlvbiBjcmVhdGVSZXNvdXJjZVRhZyhyZXNvdXJjZU5hbWUpIHtcclxuICAgIGlmICghcmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlTmFtZSkpIHRocm93IFwiSW52YWxpZCByZXNvdXJjZTogXCIgKyByZXNvdXJjZU5hbWU7XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VEaXNwbGF5TmFtZSA9IGNhcGl0YWxpemVGaXJzdChyZXNvdXJjZU5hbWUpLnNwbGl0KCdfJykuam9pbignICcpO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgIHJlc291cmNlRWxlbWVudC5jbGFzc05hbWUgPSBgJHtyZXNvdXJjZU5hbWV9IHJlc291cmNlYDtcclxuICAgIHJlc291cmNlRWxlbWVudC5pZCA9IGByZXNvdXJjZS0ke3Jlc291cmNlTmFtZX1gO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlTmFtZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICByZXNvdXJjZU5hbWVTcGFuLmNsYXNzTmFtZSA9ICdyZXNvdXJjZU5hbWUnO1xyXG4gICAgcmVzb3VyY2VOYW1lU3Bhbi50ZXh0Q29udGVudCA9IGAke3Jlc291cmNlRGlzcGxheU5hbWV9OmA7XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VWYWx1ZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICByZXNvdXJjZVZhbHVlU3Bhbi5jbGFzc05hbWUgPSAncmVzb3VyY2VWYWx1ZSc7XHJcbiAgICByZXNvdXJjZVZhbHVlU3Bhbi5pZCA9IGAke3Jlc291cmNlTmFtZX1WYWx1ZWA7XHJcbiAgICByZXNvdXJjZVZhbHVlU3Bhbi50ZXh0Q29udGVudCA9IGAke3Jlc291cmNlc1tyZXNvdXJjZU5hbWVdLnZhbHVlLnRvRml4ZWQoMSl9IC8gJHtyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS5tYXgudG9GaXhlZCgxKX1gO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlUmF0ZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICByZXNvdXJjZVJhdGVTcGFuLmNsYXNzTmFtZSA9ICdyZXNvdXJjZVJhdGUnO1xyXG4gICAgcmVzb3VyY2VSYXRlU3Bhbi5pbm5lckhUTUwgPSBgKCtcclxuICAgICAgICAgICAgPHNwYW4gaWQ9XCIke3Jlc291cmNlTmFtZX1JbmNyZWFzZVJhdGVcIj4wPC9zcGFuPi9zKWA7XHJcblxyXG4gICAgcmVzb3VyY2VFbGVtZW50LmFwcGVuZENoaWxkKHJlc291cmNlTmFtZVNwYW4pO1xyXG4gICAgcmVzb3VyY2VFbGVtZW50LmFwcGVuZENoaWxkKHJlc291cmNlVmFsdWVTcGFuKTtcclxuICAgIHJlc291cmNlRWxlbWVudC5hcHBlbmRDaGlsZChyZXNvdXJjZVJhdGVTcGFuKTtcclxuXHJcbiAgICByZXNvdXJjZXNDb250YWluZXIuYXBwZW5kQ2hpbGQocmVzb3VyY2VFbGVtZW50KTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIG9yZGVyaW5nXHJcblxyXG4gICAgLy8gRnVuY3Rpb24gdG8gY2hhbmdlIHRoZSBvcmRlciBvZiBhIHJlc291cmNlXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VSZXNvdXJjZU9yZGVyKHJlc291cmNlSWQsIG5ld09yZGVyKSB7XHJcbiAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZXNvdXJjZUlkKTtcclxuICAgICAgICBpZiAocmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgcmVzb3VyY2Uuc3R5bGUub3JkZXIgPSBuZXdPcmRlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1jbG9uZXNcIiwgMSk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utc3RpY2tzXCIsIDIpOyAvLyBNb3ZlIFwiU3RpY2tzXCIgdG8gb3JkZXIgMlxyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXZpbmVzXCIsIDMpOyAvLyBNb3ZlIFwiVmluZXNcIiB0byBvcmRlciAzXHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utcm9ja3NcIiwgNCk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtZmlzaFwiLCA1KTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS13b29kXCIsIDYpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLW9yZVwiLCA3KTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1wb25kZXJcIiwgNTApO1xyXG5cclxuXHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gdXBkYXRlRGlzcGxheVZhbHVlKG1hdGVyaWFsKSB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gcmVzb3VyY2VzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYCMke21hdGVyaWFsfVZhbHVlYCk7XHJcbiAgICBjb25zdCBjcmFmdGVkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgYnV0dG9uI2NyYWZ0JHtjYXBpdGFsaXplRmlyc3QobWF0ZXJpYWwpfWApO1xyXG4gICAgdHJ5IHsgaWYgKCFlbGVtZW50IHx8IGNyYWZ0ZWRCdXR0b24pIGNyZWF0ZVJlc291cmNlVGFnKG1hdGVyaWFsKTsgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IH1cclxuXHJcblxyXG5cclxuICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGAke3Jlc291cmNlc1ttYXRlcmlhbF0udmFsdWUudG9GaXhlZCgxKX0gLyAke3Jlc291cmNlc1ttYXRlcmlhbF0ubWF4LnRvRml4ZWQoMSl9YDtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlbGVtZW50LCBtYXRlcmlhbCwgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlc291cmNlc1ttYXRlcmlhbF0uaXNHZXR0aW5nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpZGViYXJUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyZXNvdXJjZXNcIikucXVlcnlTZWxlY3RvcignI3Jlc291cmNlLScgKyBtYXRlcmlhbCk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgaWYgKHNpZGViYXJUZXh0KSBzaWRlYmFyVGV4dC5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGNyYWZ0ZWRCdXR0b24pIHtcclxuICAgICAgICBjb25zdCBjb3VudFNwYW4gPSBjcmFmdGVkQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoYCMke21hdGVyaWFsfVZhbHVlYCk7XHJcbiAgICAgICAgaWYgKGNvdW50U3BhbikgY291bnRTcGFuLnRleHRDb250ZW50ID0gZ2V0Q3JhZnRlZFJlc291cmNlKG1hdGVyaWFsKS50b0ZpeGVkKDApO1xyXG4gICAgICAgIGVsc2UgY29uc29sZS53YXJuKGBSZXNvdXJjZSBidXR0b24gZm91bmQgYnV0IG5vIGNvdW50IHNwYW4gZm9yOiAke21hdGVyaWFsfWApO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gY29uc29sZS53YXJuKGBObyBkaXNwbGF5IGVsZW1lbnQgZm91bmQgZm9yIG1hdGVyaWFsOiAke21hdGVyaWFsfWApO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TWF4KG1hdGVyaWFsLCBudW0pIHtcclxuICAgIHJlc291cmNlc1ttYXRlcmlhbF0ubWF4ID0gbnVtO1xyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgdXBkYXRlVG90YWwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5jcmVhc2VNYXgobWF0ZXJpYWwsIG51bSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJpbmNyZWFzZSBtYXggXCIsIG1hdGVyaWFsLCBudW0pO1xyXG4gICAgcmVzb3VyY2VzW21hdGVyaWFsXS5tYXggKz0gbnVtO1xyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgdXBkYXRlVG90YWwoKTtcclxufVxyXG5cclxuLy8gR2VuZXJpYyBpbmNyZWFzZVxyXG5mdW5jdGlvbiBpbmNyZWFzZU1hdGVyaWFsKG1hdGVyaWFsLCBudW0pIHtcclxuICAgIC8vIEVuc3VyZSB3ZSBhY3R1YWxseSBuZWVkIHRvIGRvIGFueXRoaW5nXHJcbiAgICBpZiAobnVtID09IDApIHJldHVybjtcclxuICAgIG1hdGVyaWFsID0gbWF0ZXJpYWwudG9Mb3dlckNhc2UoKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdpbmNyZWFzZSBtYXRlcmlhbCcsIG1hdGVyaWFsLCBudW0pO1xyXG4gICAgLy8gaWYgKE1hdGguYWJzKG51bSkgPiA1KSBjb25zb2xlLmxvZygnY2hhbmdpbmcnLCBtYXRlcmlhbCwgJ2J5JywgbnVtKTtcclxuXHJcbiAgICAvLyBUaGlzIGNoZWNrIGVuc3VyZXMgdGhhdCB0aGUgbWF0ZXJpYWwga2V5IGV4aXN0cyBpbiB0aGUgcmVzb3VyY2VzIG1hcC5cclxuICAgIGlmIChyZXNvdXJjZXMuaGFzT3duUHJvcGVydHkobWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ2Zhc3RlclJlc291cmNlR2FpbicpKSBudW0gKj0gMS4wNTtcclxuXHJcbiAgICAgICAgaWYgKHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgPCByZXNvdXJjZXNbbWF0ZXJpYWxdLm1heCAmJiBudW0gPiAwKSB7IC8vIEFkZGluZyByZXNvdXJjZXNcclxuICAgICAgICAgICAgcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSArPSBudW07XHJcbiAgICAgICAgICAgIHVwZGF0ZVNraWxscyhtYXRlcmlhbCwgbnVtKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG51bSA8IDApIHsgLy8gU3VidHJhY3RpbmcgcmVzb3VyY2VzXHJcbiAgICAgICAgICAgIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG4gICAgICAgIH0gZWxzZSB7IC8vIEFscmVhZHkgYXQgbWF4XHJcbiAgICAgICAgICAgIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgPSByZXNvdXJjZXNbbWF0ZXJpYWxdLm1heDtcclxuICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ2F1dG9jcmFmdCcpICYmIGF1dG9DcmFmdFRhYmxlW21hdGVyaWFsXSkge1xyXG4gICAgICAgICAgICAgICAgY3JhZnRBbGxSZXNvdXJjZXMoYXV0b0NyYWZ0VGFibGVbbWF0ZXJpYWxdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheVZhbHVlKG1hdGVyaWFsKTtcclxuICAgICAgICByZWFzc2lnbkpvYnNCYXNlZE9uUmVzb3VyY2VzKCk7XHJcblxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShtYXRlcmlhbCkpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY3JhZnRpbmcgYSBtYXRlcmlhbCcsIG1hdGVyaWFsLCBudW0pO1xyXG4gICAgICAgIGNyYWZ0ZWRSZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlICs9IG51bTtcclxuICAgICAgICB1cGRhdGVEaXNwbGF5VmFsdWUobWF0ZXJpYWwpO1xyXG4gICAgICAgIHVwZGF0ZVNraWxscyhtYXRlcmlhbCwgbnVtKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRocm93IFwiVHJpZWQgdG8gaW5jcmVhc2UgSW52YWxpZCBtYXRlcmlhbDogXCIgKyBtYXRlcmlhbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjcmFmdGVkIG1hdGVyaWFscyBoYXZlIG5vIG1heCwgYSBsYSBLaXR0ZW5zIEdhbWVcclxuXHJcblxyXG5cclxuICAgIHVwZGF0ZVNpZGViYXIoKTtcclxuXHJcblxyXG5cclxuICAgIC8vIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG4gICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIG1hdGVyaWFsICsgXCJWYWx1ZVwiKS50ZXh0Q29udGVudCA9IHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWU7XHJcblxyXG59XHJcblxyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiB1cGRhdGVSZXNvdXJjZUluY3JlYXNlUmF0ZXMoKSB7XHJcbiAgICAvLyBjb25zdCByZXNvdXJjZXMgPSBbXCJjbG9uZXNcIiwgXCJzdGlja3NcIiwgXCJ2aW5lc1wiLCBcInJvY2tzXCIsIFwiZmlzaFwiLCBcIndvb2RcIiwgXCJwb25kZXJcIl07XHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImluY3JlYXNlIG9mIFwiICsgcmVzb3VyY2UpO1xyXG4gICAgICAgIGNvbnN0IHJhdGUgPSBjYWxjSW5jcmVhc2UocmVzb3VyY2UsIDEwMDApO1xyXG4gICAgICAgIHZhciByYXRlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3Jlc291cmNlfUluY3JlYXNlUmF0ZWApO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAocmF0ZUVsZW1lbnQpIHJhdGVFbGVtZW50LnRleHRDb250ZW50ID0gcmF0ZTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFxyXG4gKiBAcmV0dXJucyBCdXR0b25cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbihjb25maWcpIHtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgYnV0dG9uLmNsYXNzTmFtZSA9IGNvbmZpZy5jbGFzcyArICcgdG9vbHRpcCc7XHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdpZCcsIGNvbmZpZy5pZCk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBidXR0b24ucmVxdWlyZW1lbnQgPSBjb25maWcucmVxdWlyZW1lbnQ7XHJcbiAgICBjb25zdCByZXNvdXJjZU5hbWUgPSBPYmplY3Qua2V5cyhjcmFmdGVkUmVzb3VyY2VzKS5maW5kKGtleSA9PiBjcmFmdGVkUmVzb3VyY2VzW2tleV0gPT09IGNvbmZpZyk7XHJcbiAgICBjb25zdCBjbGVhbkNvdW50ID0gcGFyc2VGbG9hdChjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlTmFtZV0udmFsdWUpLnRvRml4ZWQoMCk7XHJcbiAgICBidXR0b24uaW5uZXJIVE1MID0gYCR7Y29uZmlnLnRleHQgfHwgY2FwaXRhbGl6ZUZpcnN0KHJlc291cmNlTmFtZSl9OiA8c3BhbiBpZD1cIiR7cmVzb3VyY2VOYW1lICsgXCJWYWx1ZVwifVwiPiR7Y2xlYW5Db3VudH08L3NwYW4+YDtcclxuICAgIC8vIGJ1dHRvbi50b29sdGlwRGVzYyA9IGNvbmZpZy50b29sdGlwRGVzYzsgXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBidXR0b24udGFiID0gJ2V4cGVyaW1lbnQnO1xyXG5cclxuICAgIHJldHVybiBidXR0b247XHJcbn1cclxuXHJcblxyXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3JhZnRlZFJlc291cmNlQnV0dG9ucycpO1xyXG5mdW5jdGlvbiBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zKCkge1xyXG5cclxuICAgIC8vIEZvciBlYWNoIHJlc291cmNlLCBjcmVhdGUgYSBidXR0b24gdXNpbmcgdGhlIGNhcHR1cmVkIGNvdW50c1xyXG4gICAgZm9yIChsZXQgbmFtZSBpbiBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcblxyXG4gICAgICAgIC8vIGNvbmZpZy5jb3VudCA9IGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0udmFsdWU7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gY3JlYXRlQ3JhZnRlZFJlc291cmNlQnV0dG9uKGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0pO1xyXG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgY3JhZnRlZFJlc291cmNlc1tuYW1lXS50b29sdGlwRGVzYyk7XHJcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBnZW5lcmF0ZVRvb2x0aXBDb3N0KGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uY29zdCkpO1xyXG5cclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgICAgICBidXR0b25zW2NyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uaWRdID0gY3JhZnRlZFJlc291cmNlc1tuYW1lXTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b24obmFtZSkge1xyXG5cclxuICAgIGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbihjcmFmdGVkUmVzb3VyY2VzW25hbWVdKTtcclxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgY3JhZnRlZFJlc291cmNlc1tuYW1lXS50b29sdGlwRGVzYyk7XHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcsIGdlbmVyYXRlVG9vbHRpcENvc3QoY3JhZnRlZFJlc291cmNlc1tuYW1lXS5jb3N0KSk7XHJcblxyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICBidXR0b25zW2NyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uaWRdID0gY3JhZnRlZFJlc291cmNlc1tuYW1lXTtcclxuXHJcbn1cclxuXHJcbi8vIENhbGwgdGhlIGZ1bmN0aW9uIHRvIHJlcGxhY2UgPHA+IGVsZW1lbnRzIHdpdGggdGhlIGJ1dHRvbnNcclxuLy8gYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9uKCdzdGlja3MnKTtcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVG9vbHRpcENvc3QocmVxdWlyZW1lbnRzKSB7XHJcbiAgICB2YXIgc3RyID0gJyc7XHJcbiAgICBmb3IgKGxldCBtYXRlcmlhbCBpbiByZXF1aXJlbWVudHMpIHtcclxuXHJcbiAgICAgICAgY29uc3QgaGFzRW5vdWdoID0gZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPj0gcmVxdWlyZW1lbnRzW21hdGVyaWFsXTsvKiBZb3VyIGxvZ2ljIHRvIGNoZWNrIGlmIHRoZXJlJ3MgZW5vdWdoIG9mIHRoZSBtYXRlcmlhbCAqLztcclxuICAgICAgICBjb25zdCBjb2xvckNsYXNzID0gaGFzRW5vdWdoID8gJ2Vub3VnaCcgOiAnbm90LWVub3VnaCc7XHJcbiAgICAgICAgc3RyICs9IGA8c3BhbiBjbGFzcz1cInRvb2x0aXAtJHttYXRlcmlhbH0gJHtjb2xvckNsYXNzfVwiPiR7cmVxdWlyZW1lbnRzW21hdGVyaWFsXX0gJHttYXRlcmlhbH08L3NwYW4+PGJyPmA7XHJcblxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0cjtcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBlbW9qaURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1vamlEaXNwbGF5Jyk7XHJcbmZ1bmN0aW9uIHVwZGF0ZUVtb2ppRGlzcGxheSgpIHtcclxuICAgIGxldCBlbW9qaVN0ciA9IFwiXCI7XHJcblxyXG4gICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBqb2JDb3VudHMgbWFwIHRvIGdldCBlYWNoIGpvYiBhbmQgaXRzIGNvdW50XHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAvLyBsZXQgcmVzb3VyY2UgPSByZXNvdXJjZXNbZ2V0QWZmZWN0ZWRSZXNvdXJjZXMoam9iKVswXV07XHJcbiAgICAgICAgbGV0IGNvdW50ID0gZ2V0V29ya2VycyhyZXNvdXJjZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzb3VyY2UsIGNvdW50KTtcclxuICAgICAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCB8fCBjb3VudCA9PSAwKSBjb250aW51ZTtcclxuICAgICAgICBsZXQgZW1vamkgPSByZXNvdXJjZXNbcmVzb3VyY2VdLmVtb2ppIHx8ICfwk4CfJzsgIC8vIGdldCB0aGUgZW1vamkgY29ycmVzcG9uZGluZyB0byB0aGUgam9iIGZyb20gdGhlIHJlc291cmNlcyBtYXBcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhqb2IsIGVtb2ppKTtcclxuICAgICAgICBpZiAoZW1vamkpIHtcclxuICAgICAgICAgICAgZW1vamlTdHIgKz0gZW1vamkucmVwZWF0KGNvdW50KTsgIC8vIHJlcGVhdCB0aGUgZW1vamkgYmFzZWQgb24gdGhlIGNvdW50XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVtb2ppRGlzcGxheS50ZXh0Q29udGVudCA9IGVtb2ppU3RyOyAgLy8gdXBkYXRlIHRoZSBlbW9qaURpc3BsYXkgZGl2IHdpdGggdGhlIGdlbmVyYXRlZCBlbW9qaSBzdHJpbmdcclxuXHJcbiAgICBmdW5jdGlvbiBhZGp1c3RGb250U2l6ZSgpIHtcclxuICAgICAgICBsZXQgZm9udFNpemUgPSA0ODsgIC8vIFN0YXJ0aW5nIGZvbnQgc2l6ZVxyXG5cclxuICAgICAgICBlbW9qaURpc3BsYXkuc3R5bGUuZm9udFNpemUgPSBgJHtmb250U2l6ZX1weGA7XHJcblxyXG4gICAgICAgIHdoaWxlICgoZW1vamlEaXNwbGF5Lm9mZnNldFdpZHRoID4gNjAwKSAmJiBmb250U2l6ZSA+IDMwKSB7XHJcbiAgICAgICAgICAgIC8vIDEwIGlzIGEgbWluaW11bSBmb250LXNpemUgdGhyZXNob2xkIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcFxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlbW9qaURpc3BsYXkub2Zmc2V0V2lkdGgsIGVtb2ppRGlzcGxheS5vZmZzZXRIZWlnaHQpO1xyXG4gICAgICAgICAgICBmb250U2l6ZSAtPSAxOyAvLyBkZWNyZWFzZSB0aGUgZm9udCBzaXplXHJcbiAgICAgICAgICAgIGVtb2ppRGlzcGxheS5zdHlsZS5mb250U2l6ZSA9IGAke2ZvbnRTaXplfXB4YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsbCB0aGlzIGZ1bmN0aW9uIHdoZW5ldmVyIHRoZSBjb250ZW50IG9mICNlbW9qaURpc3BsYXkgY2hhbmdlc1xyXG4gICAgYWRqdXN0Rm9udFNpemUoKTtcclxuXHJcbn1cclxuXHJcbi8vIENhbGwgdXBkYXRlRW1vamlEaXNwbGF5IGV2ZXJ5IHRpbWUgam9iQ291bnRzIGlzIHVwZGF0ZWQ6XHJcbi8vIEZvciBleGFtcGxlOlxyXG4vLyBqb2JDb3VudHMuc2V0KCdmaXNoaW5nJywgNCk7XHJcbnVwZGF0ZUVtb2ppRGlzcGxheSgpO1xyXG5cclxuXHJcbmNvbnN0IGF1dG9DcmFmdFRhYmxlID0ge1xyXG4gICAgJ3N0aWNrcyc6ICdoYW5kbGUnLFxyXG4gICAgJ3dvb2QnOiAncGFwZXInLFxyXG4gICAgJ3JvY2tzJzogJ3NoYXJwcm9ja3MnLFxyXG4gICAgJ3ZpbmVzJzogJ3JvcGUnLFxyXG4gICAgJ3NhbmQnOiAnZ2xhc3MnLFxyXG4gICAgJ29yZSc6ICdnb2xkJyxcclxuICAgICdjbGF5JzogJ2JyaWNrcydcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNyYWZ0QWxsUmVzb3VyY2VzKHJlc291cmNlS2V5KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlIChjYW5DcmFmdChyZXNvdXJjZUtleSkpIHtcclxuICAgICAgICAgICAgY3JhZnRSZXNvdXJjZShyZXNvdXJjZUtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBjcmFmdGFsbCBmb3I6ICcsIHJlc291cmNlS2V5LCBlcnJvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIENyYWZ0IGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIGNyYWZ0UmVzb3VyY2UocmVzb3VyY2VLZXkpIHtcclxuICAgIGlmICghY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZUtleSkpIHRocm93IFwiSW52YWxpZCBjcmFmdCBmb3IgbWlzc2luZyByZXNvdXJjZTogXCIgKyByZXNvdXJjZUtleTtcclxuXHJcblxyXG4gICAgbGV0IGNvc3QgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jb3N0O1xyXG5cclxuICAgIGlmIChjYW5DcmFmdChyZXNvdXJjZUtleSkpIHtcclxuICAgICAgICBmb3IgKGxldCBtYXQgaW4gY29zdCkge1xyXG4gICAgICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKG1hdCwgLWNvc3RbbWF0XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2VLZXksIDEgfHwgY2FsY0NyYWZ0Qm9udXMocmVzb3VyY2VLZXkpKTtcclxuICAgICAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgcmVzb3VyY2VLZXkgKyBcIlZhbHVlXCIpLnRleHRDb250ZW50ID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0udmFsdWUudG9GaXhlZCgyKTtcclxuICAgICAgICBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jcmFmdGVkT25jZSA9IHRydWU7XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheVZhbHVlKHJlc291cmNlS2V5KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgZ2V0TWF0ZXJpYWwsXHJcbiAgICBpbmNyZWFzZU1hdGVyaWFsLFxyXG4gICAgc2V0TWF4LFxyXG4gICAgaW5jcmVhc2VNYXgsXHJcbiAgICBjcmFmdEFsbFJlc291cmNlcyxcclxuICAgIGNyYWZ0UmVzb3VyY2UsXHJcbiAgICB1cGRhdGVFbW9qaURpc3BsYXksXHJcbiAgICB1cGRhdGVEaXNwbGF5VmFsdWUsXHJcbiAgICBnZW5lcmF0ZVRvb2x0aXBDb3N0LFxyXG4gICAgY2FsY1NlY29uZHNSZW1haW5pbmcsXHJcbiAgICBjcmVhdGVSZXNvdXJjZVRhZyxcclxuICAgIGFwcGVuZENyYWZ0ZWRSZXNvdXJjZUJ1dHRvbnMsXHJcbiAgICBjYWxjSW5jcmVhc2VcclxuXHJcbn07IiwiLy8gREVQRU5EUyBPTjogcmVzb3VyY2VzLmpzXHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCwgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QgfSA9IHJlcXVpcmUoJy4vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgdXBkYXRlRGlzcGxheVZhbHVlLCBjYWxjSW5jcmVhc2UsIHVwZGF0ZUVtb2ppRGlzcGxheSB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBhZGRUb29sLCBnZXRBbGxUb29scyB9ID0gcmVxdWlyZSgnLi90b29scycpO1xyXG5jb25zdCB7IG1ha2VWaXNpYmxlLCBnZXRBbGxTdGFnZXMsIGFsbFZpc2libGVCdXR0b25zLCB1cGRhdGVTaWRlYmFyLCBwb3B1bGF0ZVNraWxsc1RhYmxlLCBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmNvbnN0IHsgZ2V0QWxsUGVya3MsIHNlbGVjdENvcnJlY3RQZXJrQnV0dG9uLCBhZGRQZXJrLCBoYXNQZXJrIH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBqb2JDb3VudHMsIHNldENvbm5lY3Rpb25zLCBnZXRDb25uZWN0aW9ucywgZGlzdHJpYnV0ZVdvcmtlcnMsIHVwZGF0ZURpc3BsYXkgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IHRvdGFsX3RpbWUsIHNldFRvdGFsVGltZSwgc2V0QXRlRmlzaCwgZ2V0QXRlRmlzaCwgY2hhbmdlTWVzc2FnZTogc2V0TWVzc2FnZSwgZ2V0TWVzc2FnZSB9ID0gcmVxdWlyZSgnLi9tYWluJyk7XHJcblxyXG5cclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIik7XHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZShcIi4vanNvbi9wb25kZXJcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgc2tpbGxzIH0gPSByZXF1aXJlKFwiLi9qc29uL3NraWxsc1wiKTtcclxuXHJcbi8vIGltcG9ydCBqb2JDb3VudHM7XHJcbi8qIFNBVklORyAqL1xyXG4vLyB2YXIgc2F2ZSA9IHtcclxuLy8gICAgIHJlc291cmNlczogcmVzb3VyY2VzLFxyXG4vLyAgICAgY3JhZnRlZFJlc291cmNlczogY3JhZnRlZFJlc291cmNlcyxcclxuLy8gICAgIHNraWxsczogc2tpbGxzLFxyXG4vLyAgICAgcGxheWVyVG9vbHM6IHBsYXllclRvb2xzXHJcbi8vIH1cclxuXHJcbmZ1bmN0aW9uIHNhdmVHYW1lKCkge1xyXG4gICAgbGV0IHNhdmUgPSB7XHJcbiAgICAgICAgc2tpbGxzOiB7fSwgLy8gVGhpcyB3aWxsIGhvbGQgdGhlIGV4cGVyaWVuY2UgYW5kIGxldmVsIGZvciBlYWNoIHNraWxsXHJcbiAgICAgICAgY3JhZnRlZFJlc291cmNlczoge30sIC8vIFRoaXMgd2lsbCBob2xkIHRoZSB2YWx1ZSBmb3IgZWFjaCBjcmFmdGVkIGl0ZW1cclxuICAgICAgICByZXNvdXJjZXM6IHt9LFxyXG4gICAgICAgIHRvb2xzOiBbXSxcclxuICAgICAgICBzdGFnZXM6IFtdLFxyXG4gICAgICAgIHVubG9ja3M6IHt9LFxyXG4gICAgICAgIGpvYnM6IHt9LFxyXG4gICAgICAgIGJ1aWxkaW5nczoge30sXHJcbiAgICAgICAgdGltZToge30sXHJcbiAgICAgICAgYWxsVmlzaWJsZUJ1dHRvbnM6IFtdLFxyXG4gICAgICAgIG1lc3NhZ2U6IFtdLFxyXG4gICAgICAgIGNvbm5lY3Rpb25zOiBuZXcgTWFwKCksXHJcbiAgICAgICAgcGVya3M6IFtdXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEV4dHJhY3QgZXhwIGFuZCBsZXZlbCBmcm9tIHNraWxscyBhbmQgc2F2ZSB0byBzYXZlLnNraWxsc1xyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgc2F2ZS5za2lsbHNbc2tpbGxdID0ge1xyXG4gICAgICAgICAgICBleHA6IHNraWxsc1tza2lsbF0uZXhwLFxyXG4gICAgICAgICAgICBsZXZlbDogc2tpbGxzW3NraWxsXS5sZXZlbFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXh0cmFjdCB2YWx1ZSBmcm9tIGNyYWZ0ZWRSZXNvdXJjZXMgYW5kIHNhdmUgdG8gc2F2ZS5jcmFmdGVkSXRlbXNcclxuICAgIGZvciAobGV0IGl0ZW0gaW4gY3JhZnRlZFJlc291cmNlcykge1xyXG4gICAgICAgIGlmICghc2F2ZS5jcmFmdGVkUmVzb3VyY2VzLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHNhdmUuY3JhZnRlZFJlc291cmNlc1tpdGVtXSA9IHsgdmFsdWU6IDAsIGNyYWZ0ZWRPbmNlOiBmYWxzZSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2F2ZS5jcmFmdGVkUmVzb3VyY2VzW2l0ZW1dLnZhbHVlID0gZ2V0Q3JhZnRlZFJlc291cmNlKGl0ZW0pO1xyXG4gICAgICAgIHNhdmUuY3JhZnRlZFJlc291cmNlc1tpdGVtXS5jcmFmdGVkT25jZSA9IGNyYWZ0ZWRSZXNvdXJjZXNbaXRlbV0uY3JhZnRlZE9uY2U7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGl0ZW0gaW4gcmVzb3VyY2VzKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGl0ZW0gZXhpc3RzIGluIHRoZSBzYXZlLnJlc291cmNlcyBvYmplY3QuIElmIG5vdCwgaW5pdGlhbGl6ZSBpdC5cclxuICAgICAgICBpZiAoIXNhdmUucmVzb3VyY2VzLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHNhdmUucmVzb3VyY2VzW2l0ZW1dID0geyB2YWx1ZTogMCwgbWF4OiAwIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzYXZlLnJlc291cmNlc1tpdGVtXS52YWx1ZSA9IGdldE1hdGVyaWFsKGl0ZW0pO1xyXG4gICAgICAgIHNhdmUucmVzb3VyY2VzW2l0ZW1dLm1heCA9IHJlc291cmNlc1tpdGVtXS5tYXg7XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZS50b29scyA9IGdldEFsbFRvb2xzKCk7XHJcbiAgICBzYXZlLnN0YWdlcyA9IGdldEFsbFN0YWdlcygpO1xyXG4gICAgc2F2ZS5qb2JzID0gam9iQ291bnRzO1xyXG4gICAgc2F2ZS5wZXJrcyA9IGdldEFsbFBlcmtzKCk7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgc2F2ZS5jb25uZWN0aW9ucyA9IEFycmF5LmZyb20oZ2V0Q29ubmVjdGlvbnMoKS5lbnRyaWVzKCkpO1xyXG5cclxuICAgIGZvciAobGV0IHUgaW4gcG9uZGVycykge1xyXG4gICAgICAgIHNhdmUudW5sb2Nrc1t1XSA9IGlzUG9uZGVyZWQodSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgYiBpbiBidWlsZGluZ3MpIHtcclxuICAgICAgICBzYXZlLmJ1aWxkaW5nc1tiXSA9IGJ1aWxkaW5nc1tiXS5jb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhhbGxWaXNpYmxlQnV0dG9ucy52YWx1ZXMoKSk7XHJcbiAgICBmb3IgKGxldCBhIG9mIGFsbFZpc2libGVCdXR0b25zKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYSk7XHJcbiAgICAgICAgc2F2ZS5hbGxWaXNpYmxlQnV0dG9ucy5wdXNoKGEpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHNhdmUuYWxsVmlzaWJsZUJ1dHRvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV4dHJhY3RUZXh0RnJvbUhUTUwoaHRtbFN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sU3RyaW5nO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0Q29udGVudCA9IGRpdi50ZXh0Q29udGVudDtcclxuICAgICAgICBjb25zdCBzcGFuVGV4dCA9IGRpdi5xdWVyeVNlbGVjdG9yKCdzcGFuJykudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgICAgIHJldHVybiBbdGV4dENvbnRlbnQsIHNwYW5UZXh0XTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBodG1sU3RyaW5nID0gZ2V0TWVzc2FnZSgpLmlubmVySFRNTDtcclxuXHJcbiAgICBzYXZlLm1lc3NhZ2UgPSBleHRyYWN0VGV4dEZyb21IVE1MKGh0bWxTdHJpbmcpOyAvLyBbbWVzc2FnZSwgc3Bhbl1cclxuXHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coY29tYmluZWRUZXh0KTsgLy8gXCJZb3UgZmluZCB5b3Vyc2VsZiBhbG9uZSBpbiBhIGZvcmVzdFwiXHJcbiAgICAvLyBjb25zb2xlLmxvZyhzcGFuVGV4dCk7IC8vIFwiYWxvbmVcIlxyXG5cclxuXHJcbiAgICBzYXZlLnRpbWVbJ3RvdGFsX3RpbWUnXSA9IHRvdGFsX3RpbWU7XHJcbiAgICBzYXZlLnRpbWVbJ3RpbWVfb2Zfc2F2ZSddID0gRGF0ZS5ub3coKTtcclxuICAgIC8vIFlvdSBjYW4gbm93IHVzZSB0aGUgc2F2ZSBvYmplY3QgdG8gc3RvcmUgdGhlIGRhdGEgc29tZXdoZXJlIG9yIGRpc3BsYXkgaXQgdG8gdGhlIHVzZXJcclxuXHJcbiAgICBjb25zb2xlLmxvZyhzYXZlKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHNhdmUpKTtcclxuXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNhdmVcIiwgSlNPTi5zdHJpbmdpZnkoc2F2ZSkpO1xyXG4gICAgcmV0dXJuIHNhdmU7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gbG9hZEdhbWUoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgR2FtZVwiKTtcclxuICAgIHZhciBzYXZlZ2FtZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzYXZlXCIpKTtcclxuICAgIGNvbnNvbGUubG9nKHNhdmVnYW1lKTtcclxuICAgIGlmIChzYXZlZ2FtZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIC8vIE5FVyBHQU1FXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5yZXNvdXJjZXMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHNhdmVnYW1lLnJlc291cmNlcykge1xyXG4gICAgICAgICAgICBpZiAoaS52YWx1ZU9mKCkgPT09IFwidW5kZWZpbmVkXCIgfHwgaSA9PT0gbnVsbCkgY29udGludWU7XHJcbiAgICAgICAgICAgIHJlc291cmNlc1tpXS52YWx1ZSA9IHNhdmVnYW1lLnJlc291cmNlc1tpXS52YWx1ZTtcclxuICAgICAgICAgICAgcmVzb3VyY2VzW2ldLm1heCA9IHNhdmVnYW1lLnJlc291cmNlc1tpXS5tYXg7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgcmVzb3VyY2VzIGZvciBcIiArIGkgKyBcIiB0byBcIiArIHNhdmVnYW1lLnJlc291cmNlc1tpXS52YWx1ZSwgc2F2ZWdhbWUucmVzb3VyY2VzW2ldLm1heCk7XHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbaV0udmFsdWUgIT0gMCkgdXBkYXRlRGlzcGxheVZhbHVlKGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnNraWxscyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHNhdmVnYW1lLnNraWxscykge1xyXG4gICAgICAgICAgICBza2lsbHNbaV0uZXhwID0gc2F2ZWdhbWUuc2tpbGxzW2ldLmV4cDtcclxuICAgICAgICAgICAgc2tpbGxzW2ldLmxldmVsID0gc2F2ZWdhbWUuc2tpbGxzW2ldLmxldmVsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgb2YgT2JqZWN0LmtleXMoc2F2ZWdhbWUuY3JhZnRlZFJlc291cmNlcykpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xvYWRpbmcgY3JhZnRlZCcsIGtleSwgc2F2ZWdhbWUuY3JhZnRlZFJlc291cmNlc1trZXldLCBjcmFmdGVkUmVzb3VyY2VzW2tleV0pO1xyXG4gICAgICAgICAgICBjcmFmdGVkUmVzb3VyY2VzW2tleV0udmFsdWUgPSBzYXZlZ2FtZS5jcmFmdGVkUmVzb3VyY2VzW2tleV0udmFsdWU7XHJcbiAgICAgICAgICAgIGNyYWZ0ZWRSZXNvdXJjZXNba2V5XS5jcmFmdGVkT25jZSA9IHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXNba2V5XS5jcmFmdGVkT25jZTtcclxuICAgICAgICAgICAgdXBkYXRlRGlzcGxheVZhbHVlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUudG9vbHMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgLy8gcGxheWVyVG9vbHMgPSBzYXZlZ2FtZS50b29scztcclxuICAgICAgICAvLyBVbmlvbiB0aGUgdG9vbCBsaXN0cyB0b2dldGhlclxyXG4gICAgICAgIGxldCB1bmlvbiA9IFsuLi5uZXcgU2V0KFsuLi5nZXRBbGxUb29scygpLCAuLi5zYXZlZ2FtZS50b29sc10pXTtcclxuICAgICAgICAvLyBwbGF5ZXJUb29scyA9IHVuaW9uO1xyXG4gICAgICAgIGZvciAobGV0IHRvb2wgaW4gdW5pb24pIHtcclxuICAgICAgICAgICAgYWRkVG9vbCh0b29sKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGZvciAobGV0IHQgaW4gcGxheWVyVG9vbHMpIHtcclxuICAgICAgICAvLyAgICAgdXBkYXRlVG9vbFVJKHBsYXllclRvb2xzW3RdKTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5zdGFnZXMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgZm9yIChsZXQgcyBpbiBzYXZlZ2FtZS5zdGFnZXMpIHtcclxuICAgICAgICAgICAgbWFrZVZpc2libGUoc2F2ZWdhbWUuc3RhZ2VzW3NdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLmpvYnMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgLy8gam9iQ291bnRzID0gc2F2ZWdhbWUuam9icztcclxuICAgICAgICBmb3IgKGxldCBqIGluIHNhdmVnYW1lLmpvYnMpIHtcclxuICAgICAgICAgICAgam9iQ291bnRzW2pdID0gc2F2ZWdhbWUuam9ic1tqXTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaik7XHJcbiAgICAgICAgICAgIHVwZGF0ZURpc3BsYXkoaik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS51bmxvY2tzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGZvciAobGV0IHUgaW4gc2F2ZWdhbWUudW5sb2Nrcykge1xyXG4gICAgICAgICAgICBwb25kZXJzW3VdLmlzUG9uZGVyZWQgPSBzYXZlZ2FtZS51bmxvY2tzW3VdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNQb25kZXJlZCgnc2tpbGxzVGFibGUnKSkge1xyXG4gICAgICAgIHBvcHVsYXRlU2tpbGxzVGFibGUoKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuYnVpbGRpbmdzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGZvciAobGV0IGIgaW4gc2F2ZWdhbWUuYnVpbGRpbmdzKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGIsIHNhdmVnYW1lLmJ1aWxkaW5nc1tiXSk7XHJcbiAgICAgICAgICAgIGJ1aWxkaW5nc1tiXS5jb3VudCA9IHNhdmVnYW1lLmJ1aWxkaW5nc1tiXTtcclxuICAgICAgICAgICAgLy8gVXBkYXRlIGJ1dHRvbiB0ZXh0XHJcbiAgICAgICAgICAgIHVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQoYiwgYnVpbGRpbmdzW2JdLmNvdW50KTtcclxuXHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY29zdHMgb2YgYWxsIHRoZSBidWlsZGluZ3NcclxuICAgICAgICAgICAgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QoYiwgYnVpbGRpbmdzLCBoYXNQZXJrKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbWF4IGFzIGluZmx1ZW5jZWQgYnkgdGhpcyBidWlsZGluZ1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBEb24ndCBvdmVyd3JpdGUgZXhpc3RpbmcgYnVpbGRpbmcgYm9vc3RzXHJcbiAgICAgICAgICAgIC8vIGlmIChidWlsZGluZ3NbYl0uZWZmZWN0cykge1xyXG4gICAgICAgICAgICAvLyAgICAgZm9yIChsZXQgbWF0IGluIGJ1aWxkaW5nc1tiXS5lZmZlY3RzKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgc2V0TWF4KG1hdCwgYnVpbGRpbmdzW2JdLmNvdW50ICogYnVpbGRpbmdzW2JdLmVmZmVjdHNbbWF0XSk7XHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHdlIGhhdmUgYSBjbG9uZSwgdGhlbiB3ZSBhdGUgZmlzaFxyXG4gICAgc2V0QXRlRmlzaChyZXNvdXJjZXMuY2xvbmVzLm1heCA+PSAxKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdhdGVmaXNoJywgYXRlRmlzaCk7XHJcbiAgICBpZiAoZ2V0QXRlRmlzaCgpKSB7XHJcbiAgICAgICAgY29uc3QgZmlzaEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWF0RmlzaFwiKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgZmlzaEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gICAgLy8gQ2hhbmdlIHRoZSBtZXNzYWdlIHRvIHRoZSBsYXRlc3Qgb25lXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLm1lc3NhZ2UgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgLy8gW2Z1bGwgbWVzc2FnZSwgc3Bhbl1cclxuICAgICAgICBzZXRNZXNzYWdlKHNhdmVnYW1lLm1lc3NhZ2VbMF0sIHNhdmVnYW1lLm1lc3NhZ2VbMV0pO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHJlc291cmNlcyBlYXJuZWQgd2hpbGUgYXdheVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS50aW1lICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHNldFRvdGFsVGltZShzYXZlZ2FtZS50aW1lW3RvdGFsX3RpbWVdKTtcclxuICAgICAgICBjb25zdCB0aW1lX2RpZmZlcmVuY2UgPSBEYXRlLm5vdygpIC0gc2F2ZWdhbWUudGltZVsndGltZV9vZl9zYXZlJ107XHJcbiAgICAgICAgZm9yIChsZXQgciBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5jID0gY2FsY0luY3JlYXNlKHIsIHRpbWVfZGlmZmVyZW5jZSk7XHJcbiAgICAgICAgICAgIHJlc291cmNlc1tyXS52YWx1ZSArPSBpbmM7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHIsIHRpbWVfZGlmZmVyZW5jZSwgaW5jKTtcclxuICAgICAgICAgICAgaWYgKHJlc291cmNlc1tyXS52YWx1ZSA+IHJlc291cmNlc1tyXS5tYXgpIHJlc291cmNlc1tyXS52YWx1ZSA9IHJlc291cmNlc1tyXS5tYXg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuYWxsVmlzaWJsZUJ1dHRvbnMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coc2F2ZWdhbWUuYWxsVmlzaWJsZUJ1dHRvbnMpO1xyXG4gICAgICAgIGZvciAobGV0IGEgaW4gc2F2ZWdhbWUuYWxsVmlzaWJsZUJ1dHRvbnMpIHtcclxuICAgICAgICAgICAgYWxsVmlzaWJsZUJ1dHRvbnMuYWRkKGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5jb25uZWN0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBzZXRDb25uZWN0aW9ucyhuZXcgTWFwKHNhdmVnYW1lLmNvbm5lY3Rpb25zKSk7XHJcblxyXG4gICAgICAgIGlmIChnZXRDb25uZWN0aW9ucygpLnNpemUgPT09IDApIHNldENvbm5lY3Rpb25zKG5ldyBNYXAoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZ2V0Q29ubmVjdGlvbnMoKSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZvciAobGV0IGpvYiBpbiBqb2JDb3VudHMpIHtcclxuICAgICAgICBkaXN0cmlidXRlV29ya2Vycyhqb2IsIGpvYkNvdW50c1tqb2JdKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVFbW9qaURpc3BsYXkoKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnBlcmtzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIG15UGVya3MgPSBzYXZlZ2FtZS5wZXJrcztcclxuICAgICAgICBmb3IgKGxldCBwZXJrIGluIHNhdmVnYW1lLnBlcmtzKSB7XHJcbiAgICAgICAgICAgIGFkZFBlcmsocGVyayk7XHJcbiAgICAgICAgICAgIHNlbGVjdENvcnJlY3RQZXJrQnV0dG9uKHBlcmspO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4vLyBzYXZlIHRoZSB0aW1lIHdoZW4gdGhlIHBsYXllciBleGl0cyB0aGUgYnJvd3NlciB0YWJcclxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKCkgPT4gc2F2ZUdhbWUoKSk7XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgc2F2ZUdhbWU6IHNhdmVHYW1lLFxyXG4gICAgbG9hZEdhbWU6IGxvYWRHYW1lXHJcbn07IiwiLyogVE9PTFMgKi9cclxuXHJcblxyXG4vLyBMaXN0IHRvIGhvbGQgdGhlIHRvb2xzXHJcbmxldCBwbGF5ZXJUb29scyA9IFsnQmFyZSBIYW5kcyddO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiB0byBjaGVjayBpZiBhIHRvb2wgaXMgcHJlc2VudCBpbiB0aGUgbGlzdCBcclxuICogQHBhcmFtIHtzdHJpbmd9IHRvb2wgXHJcbiAqIEByZXR1cm5zIFxyXG4gKi9cclxuZnVuY3Rpb24gaGFzVG9vbCh0b29sKSB7XHJcbiAgICByZXR1cm4gcGxheWVyVG9vbHMuaW5jbHVkZXModG9vbCk7XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGFkZCBhIHRvb2wgaWYgaXQncyBub3QgYWxyZWFkeSBwcmVzZW50XHJcbmZ1bmN0aW9uIGFkZFRvb2wodG9vbCkge1xyXG4gICAgaWYgKCFoYXNUb29sKHRvb2wpKSB7XHJcbiAgICAgICAgcGxheWVyVG9vbHMucHVzaCh0b29sKTtcclxuXHJcbiAgICAgICAgdXBkYXRlVG9vbFVJKHRvb2wpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbGxUb29scygpIHtcclxuICAgIHJldHVybiBwbGF5ZXJUb29scztcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVG9vbFVJKHRvb2wpIHtcclxuICAgIC8vIFVwZGF0ZSB0aGUgVUlcclxuICAgIHZhciB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9vbHMtbGlzdFwiKTtcclxuICAgIHZhciBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAgIGxpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRvb2wpKTtcclxuICAgIGlmICh1bCkgdWwuYXBwZW5kQ2hpbGQobGkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUb29sVmFsdWVGb3JSZXNvdXJjZShyZXNvdXJjZSkge1xyXG4gICAgaWYgKHJlc291cmNlLnRvb2xzKSB7XHJcbiAgICAgICAgLy8gU29ydCB0aGUgdG9vbHMgaW4gZGVzY2VuZGluZyBvcmRlciBiYXNlZCBvbiB0aGVpciB2YWxcclxuICAgICAgICBjb25zdCBzb3J0ZWRUb29scyA9IHJlc291cmNlLnRvb2xzLnNvcnQoKGEsIGIpID0+IGIudmFsIC0gYS52YWwpO1xyXG5cclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIHNvcnRlZCB0b29sc1xyXG4gICAgICAgIGZvciAobGV0IHRvb2wgb2Ygc29ydGVkVG9vbHMpIHtcclxuICAgICAgICAgICAgaWYgKGhhc1Rvb2wodG9vbC50b29sKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBsYXllciBoYXMgdGhlIHRvb2wsIHJldHVybiBpdHMgYXNzb2NpYXRlZCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2wudmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIG5vbmUgb2YgdGhlIHRvb2xzIGFyZSBmb3VuZCwgcmV0dXJuIHRoZSBkZWZhdWx0IHZhbHVlXHJcbiAgICByZXR1cm4gMTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBoYXNUb29sLFxyXG4gICAgYWRkVG9vbCxcclxuICAgIGdldEFsbFRvb2xzLFxyXG4gICAgZ2V0VG9vbFZhbHVlRm9yUmVzb3VyY2VcclxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODA4KTtcbiJdLCJuYW1lcyI6WyJidWlsZGluZ3MiLCJidXR0b25zIiwicmVzb3VyY2VzIiwiaW5jcmVhc2VNYXRlcmlhbCIsImluY3JlYXNlTWF4IiwiY2FwaXRhbGl6ZUZpcnN0IiwiY2FuQnV5QnVpbGRpbmciLCJ1cGRhdGVTaWRlYmFyIiwidXBkYXRlVG90YWwiLCJoYXNQZXJrIiwiZ2VuZXJhdGVCdWlsZGluZ1Rvb2x0aXBDb3N0IiwiY29zdCIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJtYXRlcmlhbCIsImFtb3VudCIsInRvRml4ZWQiLCJqb2luIiwiY3JlYXRlQnVpbGRpbmdCdXR0b24iLCJidWlsZGluZ0tleSIsImJ1aWxkaW5nIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiYmFzZWNvc3QiLCJjb3N0cyIsInJlcXVpcmVtZW50U3RyaW5nIiwiTWF0aCIsImZsb29yIiwiZWZmZWN0cyIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJ0b29sdGlwRGVzYyIsIkZ1bmN0aW9uIiwiYnV0dG9uIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0IiwicmF0aW8iLCJyb3VuZCIsInBvdyIsImNvdW50IiwibXlCdXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuZXdUZXh0Iiwic2V0QXR0cmlidXRlIiwiZWZmZWN0U3RyaW5nIiwiZWZmZWN0UGFydHMiLCJyZXNvdXJjZSIsInZhbHVlIiwicHVzaCIsImJvb3N0IiwicGVyY2VudGFnZUJvb3N0IiwiZ2VuZXJhdGVFZmZlY3RTdHJpbmciLCJ1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50IiwiYnVpbGRpbmdOYW1lIiwiYnVpbGRpbmdDb3VudCIsImdldEVsZW1lbnRCeUlkIiwidGV4dENvbnRlbnQiLCJzcGxpdCIsImdldENyYWZ0ZWRSZXNvdXJjZSIsImdldE1hdGVyaWFsIiwiaGFzT3duUHJvcGVydHkiLCJza2lsbHMiLCJnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkIiwiZ2V0QnVpbGRpbmdDb3VudCIsImlzUG9uZGVyZWQiLCJjYW5VbmxvY2siLCJjcmFmdGVkUmVzb3VyY2VzIiwiZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWciLCJzdGFnZXMiLCJhbGxWaXNpYmxlQnV0dG9ucyIsIlNldCIsInBhc3NlZFN0YWdlIiwic3RhZ2UiLCJpbmNsdWRlcyIsImNhbkJ1eSIsImpvYlJlcXVpcmVkUG9uZGVycyIsInVwZGF0ZUJ1dHRvblZpc2liaWxpdHkiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImJ1dHRvbkNvbmZpZyIsImlkIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwic3RhdGUiLCJoYXMiLCJyZXF1aXJlbWVudCIsInRhYiIsImRhdGFfYnVpbGRpbmciLCJjb250YWlucyIsImdldEF0dHJpYnV0ZSIsImVyciIsImNvbnNvbGUiLCJ3YXJuIiwiY3JhZnRlZE9uY2UiLCJjcmFmdGVkIiwiY2FuQ3JhZnQiLCJoaWRlIiwiYWRkIiwic3R5bGUiLCJkaXNwbGF5Iiwiam9iIiwicmVxUG9uZGVyIiwicmVzb3VyY2VLZXkiLCJyZXF1aXJlbWVudHMiLCJtYXQiLCJnZXRNYXgiLCJtYXgiLCJJbmZpbml0eSIsImFiYnJldmlhdGVOdW1iZXIiLCJudW0iLCJmb3JtYXQiLCJ1bml0Iiwicm91bmRUb0RlY2ltYWxzIiwibnVtYmVyIiwiZGVjaW1hbHMiLCJmYWN0b3IiLCJ0b1N0cmluZyIsImxldmVsVXBNZXNzYWdlIiwiaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSIsInBvcHVsYXRlU2tpbGxzVGFibGUiLCJ0YWJsZSIsInNraWxsIiwiZXhwIiwibGV2ZWwiLCJwcm9ncmVzc0JhciIsIndpZHRoIiwibG9nIiwidHIiLCJjcmVhdGVFbGVtZW50IiwidGRQcm9ncmVzcyIsInBvc2l0aW9uIiwiaGVpZ2h0Iiwic2tpbGxUZXh0IiwibGVmdCIsInRvcCIsInRyYW5zZm9ybSIsImFwcGVuZENoaWxkIiwic3RyIiwibWFrZVZpc2libGUiLCJzdGFnZUVsZW1lbnRzIiwiZWxlbWVudCIsInJlc291cmNlTmFtZSIsInJlc291cmNlQ29uZmlnIiwicGFyZW50RWxlbWVudCIsInNob3VsZEhpZGUiLCJjIiwiaXNWaXNpYmxlIiwiZGlzcGxheUVsZW0iLCJjb2xvciIsImlubmVySFRNTCIsInVwZGF0ZVNraWxscyIsImFicyIsImFmZmVjdGVkUmVzb3VyY2VzIiwic2V0VGltZW91dCIsImdldEFsbFN0YWdlcyIsImNhbGNDcmFmdEJvbnVzIiwidG9Mb3dlckNhc2UiLCJ1cGRhdGVFbW9qaURpc3BsYXkiLCJqb2JDb3VudHMiLCJqb2JzVGFiIiwiZ2V0VG90YWxKb2JzIiwidG90YWwiLCJqIiwia2V5cyIsImpvYkRpdiIsImRlY3JlbWVudERpdiIsImpvYk5hbWVTcGFuIiwiaW5jcmVtZW50RGl2IiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImpvYlR5cGUiLCJ0aGlzIiwiY2xvc2VzdCIsImRpc3RyaWJ1dGVXb3JrZXJzIiwidXBkYXRlRGlzcGxheSIsIndvcmtlcnNEaXN0cmlidXRpb24iLCJNYXAiLCJ0b3RhbFdvcmtlcnMiLCJmaWx0ZXIiLCJudW1iZXJPZlJlc291cmNlcyIsImxlbmd0aCIsInBlclJlc291cmNlIiwic2V0IiwicmVtYWluaW5nV29ya2VycyIsImdldCIsInRoaXNKb2JCdXR0b24iLCJqb2JFbGVtZW50Iiwic3RhcnRCdXR0b24iLCJjb25uZWN0aW9ucyIsImNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJkcmF3QWxsQ29ubmVjdGlvbnMiLCJjbGVhclJlY3QiLCJvbGRJZCIsIm5ld0lkIiwib2xkQnV0dG9uIiwibmV3QnV0dG9uIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm5ld1giLCJuZXdZIiwiYm90dG9tIiwib2Zmc2V0VG9wIiwib2Zmc2V0SGVpZ2h0IiwiZHJhd0xpbmUiLCJlcnJvciIsInN0YXJ0RWxlbWVudCIsImVuZFgiLCJlbmRZIiwic3RhcnRYIiwic3RhcnRZIiwic2Nyb2xsWSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImNvbnRleHQiLCJmcm9tWCIsImZyb21ZIiwidG9YIiwidG9ZIiwicmFkaXVzIiwiYW5nbGUiLCJ4IiwieSIsInhfY2VudGVyIiwieV9jZW50ZXIiLCJhdGFuMiIsImNvcyIsInNpbiIsIlBJIiwiY2xvc2VQYXRoIiwiZmlsbCIsImRyYXdBcnJvd2hlYWQiLCJzd2l0Y2hKb2IiLCJvbGRKb2JJZCIsIm5ld0pvYklkIiwid29ya2VycyIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImUiLCJ0YXJnZXQiLCJqb2JCdXR0b24iLCJjbGllbnRYIiwiY2xpZW50WSIsImNsZWFySm9iQXNzaWdubWVudHMiLCJyZWFzc2lnbkpvYnNCYXNlZE9uUmVzb3VyY2VzIiwidW5kZWZpbmVkIiwiZGF0YUpvYiIsInJlcGxhY2UiLCJtYXhlZE91dCIsInJlc291cmNlQXJyYXkiLCJyIiwiZ2V0V29ya2VycyIsInNldENvbm5lY3Rpb25zIiwibmV3Q29ubmVjdGlvbnMiLCJnZXRDb25uZWN0aW9ucyIsInJvY2tzIiwid29vZCIsInZpbmVzIiwic3RpY2tzIiwiZ2FtZSIsImZpc2giLCJnZXRCb29zdCIsImhhc1Rvb2wiLCJjbGFzcyIsInRleHQiLCJ0b29sdGlwQ29zdCIsInNob3dUYWIiLCJjb25maWciLCJrIiwicGVya3MiLCJwb25kZXJzIiwiZW1vamkiLCJpc1Jlc291cmNlIiwiZ2V0UmVzb3VyY2VDb25maWdCeUlkIiwiZ2F0aGVyaW5nIiwibWFzb25yeSIsIm5lZWRUb29scyIsImNhcnBlbnRyeSIsInRoaW5raW5nIiwic21pdGhpbmciLCJmYXJtaW5nIiwiY29tYmF0IiwiZmlzaGluZyIsImh1bnRpbmciLCJzYXZlR2FtZSIsImxvYWRHYW1lIiwiY3JlYXRlUmVzb3VyY2VUYWciLCJnZW5lcmF0ZVRvb2x0aXBDb3N0IiwiZ2VuZXJhdGVQb25kZXJCdXR0b25zIiwiYWRkVG9vbCIsInNpZGViYXJQYXJlbnQiLCJlbW9qaUdhdGhlckRpdiIsImF0ZUZpc2giLCJ0b29sc1RvU3RhZ2VzIiwidmlzaWJpbGl0eVJ1bGVzIiwiY29uZGl0aW9uIiwiYWN0aW9uIiwidGFiQ29udGFpbmVycyIsInRhYk5hbWUiLCJjb250ZW50IiwidGFicyIsInRhYlN0cmluZyIsImFjdGl2ZVRhYkJ1dHRvbiIsImV2ZW50Iiwia2V5IiwiZGFya01vZGVUb2dnbGUiLCJib2R5IiwidG9nZ2xlIiwiaXNEYXJrIiwibWVzc2FnZUVsZW1lbnQiLCJtaWxsaXNlY29uZHNfcGVyX2ZyYW1lIiwibGFzdF90aW1lIiwidG90YWxfdGltZSIsImFjY3VtdWxhdGVkX2xhZyIsImxvb3AiLCJjdXJyZW50X3RpbWUiLCJkZWx0YV90aW1lIiwibm9ybWFsUmF0ZSIsInVwZGF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInRpbWVfc2luY2VfbGFzdF9zYXZlIiwiY2FsY0luY3JlYXNlIiwidXBkYXRlUmVzb3VyY2VJbmNyZWFzZVJhdGVzIiwicnVsZSIsInRvb2wiLCJjdXJyZW50SG92ZXJCdXR0b24iLCJ1cGRhdGVUb29sdGlwIiwicmVuZGVyIiwidG9vbHRpcCIsImRlc2MiLCJlZmZlY3QiLCJjb2xvckNsYXNzIiwic2Vjb25kc1JlbWFpbmluZyIsImNhbGNTZWNvbmRzUmVtYWluaW5nIiwicmlnaHQiLCJzaG93VG9vbHRpcCIsInRyYWNlIiwiY3JlYXRlQ29sdW1ucyIsInBhcmVudCIsImNvbDEiLCJjb2wyIiwiY29sMyIsInByZXBlbmQiLCJ0YWJzQ29udGFpbmVyIiwicHJvZHVjdGlvbkNvbnRhaW5lciIsImV4cGVyaW1lbnRDb250YWluZXIiLCJwb25kZXJDb250YWluZXIiLCJwcm9kdWN0aW9uQ29sdW1ucyIsImV4cGVyaW1lbnRDb2x1bW5zIiwicG9uZGVyQ29sdW1ucyIsInByb2R1Y3Rpb25Db2x1bW5JbmRleCIsImV4cGVyaW1lbnRDb2x1bW5JbmRleCIsInBvbmRlckNvbHVtbkluZGV4IiwiYnV0dG9uRWxlbWVudCIsImNsYXNzTmFtZSIsInRvb2x0aXBFZmZlY3QiLCJ1bmxvY2siLCJjcmFmdGVkUmVzb3VyY2UiLCJ2YWx1ZXMiLCJmaW5kIiwiZ2VuZXJhdGVCdXR0b25zIiwiZ2V0Q1JLZXlGcm9tSUQiLCJhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zIiwibWF0Y2hlcyIsInNoaWZ0S2V5IiwiYnV5TWF4QnVpbGRpbmdzIiwiYnV5QnVpbGRpbmciLCJ1bmxvY2tBdHRyIiwic2lkZWJhclRleHQiLCJyZXNvdXJjZUJ1dHRvbiIsImlzR2V0dGluZyIsImRlZmF1bHRUZXh0IiwiZm9udFdlaWdodCIsInJCdXR0b24iLCJzdG9wQWxsR2F0aGVyaW5nIiwiYWN0aXZlVGV4dCIsInRvZ2dsZVJlc291cmNlIiwiZ2V0UktleUZyb21JRCIsImNyYWZ0QWxsUmVzb3VyY2VzIiwiY3JhZnRSZXNvdXJjZSIsInVwZGF0ZVVJIiwicmVzb3VyY2VEaXYiLCJzZXRUb3RhbFRpbWUiLCJ0aW1lIiwiY2hhbmdlTWVzc2FnZSIsIm5ld01lc3NhZ2UiLCJjbG9uZVdvcmRzIiwibW9kaWZpZWRNZXNzYWdlIiwic2V0QXRlRmlzaCIsImJvb2wiLCJnZXRBdGVGaXNoIiwiZ2V0TWVzc2FnZSIsIm15UGVya3MiLCJwZXJrTmFtZSIsImFkZFBlcmsiLCJiIiwic2VsZWN0Q29ycmVjdFBlcmtCdXR0b24iLCJhYmlsaXR5TmFtZSIsInNlbGVjdGVkQnV0dG9uIiwicmVtb3ZlQXR0cmlidXRlIiwic2VsZWN0QWJpbGl0eSIsImNvbmZpcm0iLCJnZXRQZXJrRnJvbVRpZXIiLCJ0aWVyTnVtIiwicGVyayIsImdldEFsbFBlcmtzIiwidW5sb2NrSWQiLCJ1bmxvY2tLZXkiLCJwb25kZXJPYmplY3RzIiwicG9uZGVyS2V5IiwicG9uZGVyT2JqIiwiYnV0dG9uS2V5IiwiZ2V0VG9vbFZhbHVlRm9yUmVzb3VyY2UiLCJjdXJyVG9vbCIsImNsb25lTXVsdCIsInNraWxsUmF0aW8iLCJib29zdERhdGEiLCJpbmNyZWFzZSIsInBhcnNlRmxvYXQiLCJyZXNvdXJjZXNDb250YWluZXIiLCJyZXNvdXJjZURpc3BsYXlOYW1lIiwicmVzb3VyY2VFbGVtZW50IiwicmVzb3VyY2VOYW1lU3BhbiIsInJlc291cmNlVmFsdWVTcGFuIiwicmVzb3VyY2VSYXRlU3BhbiIsImNoYW5nZVJlc291cmNlT3JkZXIiLCJyZXNvdXJjZUlkIiwibmV3T3JkZXIiLCJvcmRlciIsInVwZGF0ZURpc3BsYXlWYWx1ZSIsImNyYWZ0ZWRCdXR0b24iLCJjb3VudFNwYW4iLCJhdXRvQ3JhZnRUYWJsZSIsImNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbiIsImNsZWFuQ291bnQiLCJjb250YWluZXIiLCJlbW9qaURpc3BsYXkiLCJlbW9qaVN0ciIsInJlcGVhdCIsImZvbnRTaXplIiwib2Zmc2V0V2lkdGgiLCJhZGp1c3RGb250U2l6ZSIsInNldE1heCIsIm5lZWRlZCIsImNlaWwiLCJuYW1lIiwiZ2V0QWxsVG9vbHMiLCJzZXRNZXNzYWdlIiwic2F2ZSIsInRvb2xzIiwidW5sb2NrcyIsImpvYnMiLCJtZXNzYWdlIiwiaXRlbSIsIkFycmF5IiwiZnJvbSIsInUiLCJhIiwiaHRtbFN0cmluZyIsImRpdiIsImV4dHJhY3RUZXh0RnJvbUhUTUwiLCJEYXRlIiwibm93IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInNhdmVnYW1lIiwiZ2V0SXRlbSIsImkiLCJ2YWx1ZU9mIiwidW5pb24iLCJzIiwiY2xvbmVzIiwidGltZV9kaWZmZXJlbmNlIiwiaW5jIiwic2l6ZSIsInBsYXllclRvb2xzIiwidWwiLCJsaSIsImNyZWF0ZVRleHROb2RlIiwidXBkYXRlVG9vbFVJIiwic29ydGVkVG9vbHMiLCJzb3J0IiwidmFsIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJzb3VyY2VSb290IjoiIn0=