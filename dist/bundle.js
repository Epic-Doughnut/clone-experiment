(()=>{var e={621:e=>{var t=!1;e.exports={ateFish:t,setAteFish:function(e){return t=e},getAteFish:function(){return t}}},151:(e,t,o)=>{const{buildings:s}=o(882),{buttons:n}=o(54),{resources:i}=o(587),{increaseMaterial:r,increaseMax:a,generateTooltipCost:c}=o(594),{canBuyBuilding:l,updateSidebar:d}=o(78),{updateTotal:u}=o(150),{hasPerk:f}=o(134),{capitalizeFirst:p}=o(681),{getMaterial:b}=o(924),{passedStage:g}=o(751);function h(e,t,o){let s=t[e];if(s&&s.cost&&s.ratio)for(let e in s.cost)s.cost[e]=Math.round(s.basecost[e]*Math.pow(s.ratio,s.count)),o("Architect")&&(s.cost[e]*=.75);const n=document.querySelector("#"+e);var i=c(s.cost);if(!n)throw"Button not found for "+e;{n.setAttribute("data-tooltip-cost",i);const e=function(e){let t=[];for(let[o,s]of Object.entries(e.effects))t.push(`+${s} max ${o}`);for(let[o,s]of Object.entries(e.boost)){let e=Math.round(100*(s-1));t.push(`+${e}% ${o} production`)}return t.join(", ")}(s);n.setAttribute("data-tooltip-effect",e)}}function m(e,t){const o=t[e];o.cost=JSON.parse(JSON.stringify(o.basecost));const s=Object.entries(o.cost).map((([e,t])=>`${e}: ${t}`)).join(", "),n=function(e,t){return function(o){const s=Object.entries(e).every((([e,t])=>b(e,o)>=Math.floor(t/2))),n=!t.effects||!t.effects.clones||g("clones");return s&&n}}(o.cost,o);return{class:"tooltip "+e,tab:"production",text:`${e.charAt(0).toUpperCase()+e.slice(1)}`,tooltipDesc:t[e].tooltipDesc||"A mysterious building with untold benefits.",tooltipCost:s,requirement:()=>n(),data_building:e}}for(let e in s){const t=m(e,s);n[e]=t}function y(e){console.log("Buying building "+e);const t=s[e];if(l(e)){for(const e in t.cost)r(e,-t.cost[e]);for(const e in t.effects)a(e,t.effects[e]);t.count++,d(),u(),v(e,t.count),h(e,s,f)}}function v(e,t){document.getElementById(`${e}`).textContent=`${p(e).split("_").join(" ")} (${t})`}e.exports={recalculateBuildingCost:h,generateBuildingTooltipCost:function(e){return Object.entries(e).map((([e,t])=>`${t.toFixed(2)} ${e}`)).join("\n")},createBuildingButton:m,updateBuildingButtonCount:v,buyMaxBuildings:function(e){for(;l(e);)y(e)},buyBuilding:y}},64:(e,t,o)=>{const{resources:s}=o(587),{craftedResources:n}=o(371),{getMaterial:i}=o(924);t.canCraft=function(e){let t=!0,o=n[e].cost;try{for(let e in o)if(i(e,s)<o[e]){t=!1;break}}catch(t){console.warn("Error in calculating requirements: ",e,o,t)}return t}},681:(e,t)=>{t.capitalizeFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},51:(e,t,o)=>{const{craftedResources:s}=o(371),{resources:n}=o(587),{increaseMaterial:i,getMaterial:r,craftResource:a}=o(594);var c={bricks:["clay"],medicine:["herbs"],leather:["hides"],steel:["iron"],nails:["iron"],iron:["ore"],silver:["ore"],gold:["ore"],glass:["sand"],concrete:["sand"],slabs:["rocks"],rope:["vines"],paper:["wood"],beams:["wood"],crates:["wood"]},l=[];function d(){const e=document.getElementById("factories"),t=document.createElement("div");t.className="factory";const o=document.createElement("span"),s=document.createElement("select");Object.keys(c).forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,s.appendChild(t)})),s.addEventListener("change",(function(){document.querySelector(`#resource-${s.value}`).style.color="thistle",o.textContent=c[s.value]}));const n=document.createElement("span");n.innerHTML="&#8594;",t.appendChild(o),t.appendChild(n),t.appendChild(s),function(e,t){const o=document.createElement("option");o.value="",o.textContent="Select a Resource",o.disabled=!0,o.selected=!0,e.appendChild(o)}(s),e.appendChild(t)}Object.keys(n).forEach((e=>l.push(e))),Object.keys(s).forEach((e=>l.push(e))),console.log("All materials: ",l);let u=2,f=30;var p=50;e.exports={createFactoryDiv:d,attemptManufacture:function(){document.querySelectorAll(".factory").forEach((e=>{const t=e.querySelector("span:first-child"),o=e.querySelector("select:last-child"),s=t.textContent,n=o.value;console.log("checking factory",s,n),s&&n&&function(e,t){let o=Math.min(u,r(e));o*=1;for(let e=0;e<o;++e)a(t)}(s,n)}))},buyFactory:function(){const e=document.getElementById("buyFactoryButton");r("silver")<p?console.log("Not enough silver!"):(i("silver",-p),d(),p*=1.2,e.setAttribute("data-tooltip-cost",`${p.toFixed(2)} silver`))},upgradeBulk:function(){u+=2,f+=10,document.getElementById("upgradeBulkButton").setAttribute("data-tooltip-cost",`${u} → ${u+2}: ${f.toFixed(0)} silver`)},allMaterials:l}},590:(e,t,o)=>{t.getCraftedResource=function(e,t){return e=e.toLowerCase(),t||(t=o(371).craftedResources),t.hasOwnProperty(e)?t[e].value||0:(console.warn("Invalid crafted resource:"+e),0)}},924:(e,t,o)=>{const{getCraftedResource:s}=o(590);t.getMaterial=function(e,t){return t||(t=o(587).resources),t.hasOwnProperty(e)?t[e].value:s(e,null)}},78:(e,t,o)=>{const{resources:s}=o(587),{skills:n}=o(324),{buildings:i}=o(882),{getMaterial:r}=o(924);let a=new Set(["gatherSticks"]);function c(e){return s.hasOwnProperty(e)?s[e].max:1/0}function l(e){function t(e,t){return e<10?o(e,3)+t:e<100?o(e,2)+t:e<1e3?o(e,1)+t:Math.round(e)+t}function o(e,t){const o=Math.pow(10,t);return(Math.round(e*o)/o).toFixed(t)}return e<1e3?o(e,2):e<1e6?t(e/1e3,"K"):e<1e9?t(e/1e6,"M"):e<1e12?t(e/1e9,"B"):e.toString()}t.allVisibleButtons=a;const d=document.getElementById("levelUpMessage");let u=!1;function f(){const e=document.getElementById("skillsTable");if(u)for(let e in n){(n[e].exp>0||n[e].level>0)&&(document.querySelector("#tr-"+e).style.display="");let t=document.querySelector(`.progressBar[data-skill="${e}"]`);t&&(t.style.width=n[e].exp+"%",document.querySelector("#level-"+e).textContent="["+n[e].level+"]   "+e)}else{console.log("Generating table for the first time"),u=!0;for(let t in n){let o=document.createElement("tr");o.id="tr-"+t;let s=document.createElement("td");s.style.position="relative";let i=document.createElement("div");i.setAttribute("class","progressBar"),i.style.height="20px",i.setAttribute("data-skill",t);let r=document.createElement("span");r.textContent="["+n[t].level+"]   "+t,r.setAttribute("id","level-"+t),r.style.position="absolute",r.style.left="10px",r.style.top="50%",r.style.transform="translateY(-50%)",0==n[t].exp&&0==n[t].level&&(o.style.display="none"),s.appendChild(i),s.appendChild(r),o.appendChild(s),e.appendChild(o)}}}e.exports={getMaterial:r,getMax:c,updateSidebar:function(){Array.from(o(51).allMaterials).forEach((e=>o(594).updateDisplayValue(e)));for(const[n,i]of Object.entries(s)){const r=document.getElementById("resource-"+n);if(!r)return;var e=!0;for(let t in r.classList)o(751).passedStage(t)&&(e=!1,console.log("dont hide",n,t));i.value>0&&(e=!1,s[n].isVisible=!0),i.isVisible&&(e=!1),e&&(r.style.display="none");const a=document.getElementById(n+"Value");if(a){var t="#fff";i.value===c(n)?t="#fcc":i.value/c(n)>.6&&(t="#eeb"),a.innerHTML=`<span style="color:${t}">${l(i.value)} / ${l(c(n))} </span>`}}},updateSkills:function(e,t){t=Math.abs(t),o(369).isPondered("fasterSkills")&&(t*=1.05);for(let o in n)if(n[o].affectedResources.includes(e)){if(n[o].level>=100){n[o].level=100,n[o].exp=0;continue}n[o].exp+=t/Math.pow(1.4,n[o].level),n[o].exp>=100&&(n[o].level+=1,n[o].exp=0,d.textContent=`Level up! ${o} → ${n[o].level}`,d.classList.remove("hidden"),setTimeout((()=>{d.classList.add("hidden")}),3e3))}o(751).passedStage("skillsTable")&&f()},populateSkillsTable:f,calcCraftBonus:function(e){return 1},isButtonIdVisible:function(e){return a.has(e)},setVisibleButton:function(e){a.add(e)},canBuyBuilding:function(e){let t=!0;const o=i[e];for(const e in o.cost)if(o.cost[e]>r(e,s)){t=!1;break}return t},hasGeneratedSkillTable:u,clearSidebar:function(){document.querySelector("#resources").innerHTML=""}}},842:(e,t)=>{t.O={thinking:"thinking",fishing:"fishing",smithing:"not-unlockable",farming:"agriculture",combat:"combat",hunting:"hunting"}},150:(e,t,o)=>{const{skills:s}=o(324),{resources:n}=o(587),{getMaterial:i}=o(924),{isPondered:r}=o(369),{getMax:a}=o(78),c={};for(let e in s)c[e]=0;const l=document.getElementById("jobsTab");function d(){var e=0;for(let t in c)e+=c[t];return e}Object.keys(s).forEach((e=>{const t=document.createElement("div");t.classList.add("job-button"),t.setAttribute("data-job",e),t.id="job-button-"+e;const o=document.createElement("div");o.classList.add("btn-decrement"),o.textContent="-",t.appendChild(o);const s=document.createElement("span");s.classList.add("job-name"),s.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: 0`,t.appendChild(s);const n=document.createElement("div");n.classList.add("btn-increment"),n.textContent="+",t.appendChild(n),l.appendChild(t)})),document.querySelectorAll(".btn-increment").forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".job-button").getAttribute("data-job");i("clones",n)>d()&&c[e]++,f(e,c[e]),p(e),b(),console.log(u)}))})),document.querySelectorAll(".btn-decrement").forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".job-button").getAttribute("data-job");c[e]>0&&(c[e]--,f(e,c[e]),p(e),b())}))}));let u=new Map;function f(e,t){if(!s[e])return null;let o=s[e].affectedResources;o=o.filter((e=>e in n));let i=o.length,r=Math.floor(t/i);for(let e of o)u.set(e,r);let a=t-r*i;for(let e of o)a>0&&(u.set(e,u.get(e)+1),a--)}function p(e){const t=document.querySelector(`.job-button[data-job="${e}"]`);t||console.warn("Couldn't find job button for job: ",e);const s=t.querySelector(".job-name");s&&(s.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: ${c[e]}`),o(594).updateEmojiDisplay()}function b(){document.querySelector("#jobs-total").textContent="Assigned Clones: "+d()+" / "+a("clones")}let g=new Map,h=document.getElementById("lineCanvas"),m=h.getContext("2d");function y(e,t,o){let s=e.getBoundingClientRect(),n=s.left+s.width/2,i=scrollY+s.top+s.height/2;m.beginPath(),m.moveTo(n,i),m.lineTo(t,o),m.stroke(),function(e,t,o,s,n,i){let r,a,c,l=s,d=n;e.beginPath(),r=Math.atan2(n-o,s-t),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.moveTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.lineTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.lineTo(a,c),e.closePath(),e.fill()}(m,n,i,t,o,10)}function v(e,t){let o=c[e];c[e]=0,c[t]+=o,p(e),p(t)}h.width=window.innerWidth,h.height=window.innerHeight,e.exports={clearJobAssignments:function(){m.clearRect(0,0,h.width,h.height),g=new Map},reassignJobsBasedOnResources:function(){try{const e=g.entries();if(void 0===e)throw"Entries is undefined";for(let[t,o]of e){let e=document.getElementById(t).getAttribute("data-job");const r=t.replace("job-button-",""),a=o.replace("job-button-","");let l=!0,d=s[e].affectedResources;if(!d)return;for(const e of d)if(void 0!==n[e]&&i(e)<n[e].max){l=!1;break}l&&c[e]>0&&(v(r,a),f(r,c[r]),f(a,c[a]))}}catch(e){console.warn("reassignJobs",e)}},switchJob:v,drawAllConnections:function(){m.clearRect(0,0,h.width,h.height);try{for(let[e,t]of g.entries()){let o=document.getElementById(e),s=document.getElementById(t),n=s.getBoundingClientRect(),i=n.left+n.width/2,r=0;r=n.bottom>o.getBoundingClientRect().bottom?s.offsetTop-10:s.offsetTop+s.offsetHeight+10,y(o,i,r)}}catch(e){console.warn("drawAllConnections",e)}},getWorkers:function(e){return u.get(e)},updateTotal:b,setConnections:function(e){g=e},getConnections:function(){return g},distributeWorkers:f,updateDisplay:p,jobCounts:c}},882:e=>{const t={shelter:{basecost:{sticks:30},effects:{clones:1},boost:{},count:0,ratio:1.3,tooltipDesc:"For when you need a home away from home."},hut:{basecost:{sticks:50,vines:30},effects:{clones:1},boost:{},count:0,ratio:1.2,tooltipDesc:"A cozy, idyllic chunk of wood."},house:{basecost:{wood:50,rocks:20,fish:10},effects:{clones:2},boost:{},count:0,ratio:1.4,tooltipDesc:"Every clone's dream. Minus the white picket fence."},teepee:{basecost:{wood:10,hides:25,fish:15},effects:{clones:2},boost:{},count:0,ratio:1.5,tooltipDesc:"Wrap some hides around some wood and call it a home."},shed:{basecost:{wood:40},effects:{wood:50,sticks:50,rocks:20},boost:{},count:0,ratio:1.1,tooltipDesc:"The ultimate storage solution for the pack rat in you."},stockpile:{basecost:{rocks:30},effects:{wood:100},ratio:1.1,boost:{},count:0,tooltipDesc:"Chuck a bunch of logs in a pile, what could happen?"},drying_racks:{basecost:{sticks:30,fish:5},effects:{fish:20},boost:{},count:0,ratio:1.1,tooltipDesc:"Air drying: Nature's way of preserving food."},workshop:{basecost:{wood:40,sticks:20,rocks:10},effects:{rocks:50,ore:50,sand:100,clay:50},boost:{},count:0,ratio:1.2,tooltipDesc:"DIY's dream destination."},barn:{basecost:{wood:30,wheat:5},effects:{wheat:100,berries:40,vines:40},boost:{},count:0,ratio:1.2,tooltipDesc:"Hay, what's in that building?"},herbalist_hut:{basecost:{sticks:50,vines:50,herbs:50},effects:{herbs:100,vines:100},boost:{herbs:1.2,vines:1.1},count:0,ratio:1.2,tooltipDesc:"A place for brewing and stewing."},bakery:{basecost:{wood:80,wheat:100,rocks:40},effects:{wheat:200},boost:{},count:0,ratio:1.25,tooltipDesc:"Freshly baked bread, hot and ready."},animal_pen:{basecost:{sticks:50,game:20,fish:25},effects:{game:100,hides:30},boost:{},count:0,ratio:1.2,tooltipDesc:"A place to put those lesser than you."},grove:{basecost:{wood:20,vines:20},effects:{},boost:{wood:1.05,sticks:1.1},count:0,ratio:1.2,tooltipDesc:"A nice grove of trees to find wood faster."},fish_traps:{basecost:{rope:40},effects:{},boost:{fish:1.05},count:0,ratio:1.2,tooltipDesc:"Fishing made easy. No patience required."},mine:{basecost:{rocks:30,wood:30},effects:{},boost:{ore:1.05,rocks:1.05},count:0,ratio:1.2,tooltipDesc:"Dig deep and find your inner ore."},campfire:{basecost:{rocks:20,sticks:20},effects:{},boost:{all:1.05},count:0,ratio:1.5,tooltipDesc:"Where stories are told and marshmallows are toasted."},lumber_yard:{basecost:{wood:200,iron:1},effects:{},boost:{wood:1.2},count:0,ratio:1.3,tooltipDesc:"Wood you like some more wood?"},stone_quarry:{basecost:{rocks:50,wood:20,rope:30},effects:{},boost:{rocks:1.1},count:0,ratio:1.3,tooltipDesc:"Rock on with your bad self!"},fishery:{basecost:{wood:40,rope:15},effects:{},boost:{fish:1.1},count:0,ratio:1.2,tooltipDesc:"Fish are friends. And food."},vineyard:{basecost:{wood:20,vines:50},effects:{},boost:{vines:1.1},count:0,ratio:1.2,tooltipDesc:"For the finest vines. What else would it grow?"},forge:{basecost:{rocks:40,ore:20,wood:100},effects:{},boost:{ore:1.2},count:0,ratio:1.2,tooltipDesc:"Melt, mold, and make marvelous metals."},water_well:{basecost:{rocks:30,rope:1,wood:10},effects:{freshwater:30},boost:{freshwater:1.1},count:0,ratio:1.4,tooltipDesc:"Fresh water on demand!"},tower:{basecost:{bricks:20,rocks:10,wood:30},effects:{},boost:{hides:1.05,game:1.1},count:0,ratio:1.3,tooltipDesc:"See things from afar."},tannery:{basecost:{wood:60,hides:40},effects:{hides:50},boost:{hides:1.1},count:0,ratio:1.3,tooltipDesc:"Treat hides to make quality leather."},marketplace:{basecost:{wood:100,rocks:50,berries:40,gold:1},effects:{},boost:{berries:1.2,herbs:1.2,ore:1.1},count:0,ratio:1.25,tooltipDesc:"A bustling hub of trade and barter."},windmill:{basecost:{wood:100,rocks:60,wheat:50},effects:{},boost:{wheat:1.2},count:0,ratio:1.3,tooltipDesc:"Grind grains efficiently with wind power."},telescope:{basecost:{glass:1,wood:10,ponder:10},effects:{},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"Look, up in the sky! It's a star!"},observatory:{basecost:{bricks:70,wood:30,glass:50,ponder:50},effects:{},boost:{ponder:1.2},count:0,ratio:1.3,tooltipDesc:"Stargazing has never been so... productive?"},library:{basecost:{wood:70,paper:25,glass:5,ponder:25},effects:{ponder:50},boost:{ponder:1.1},count:0,ratio:1.3,tooltipDesc:"Knowledge is power. And a fire hazard if not stored properly."},desk:{basecost:{wood:15,sticks:20,ponder:10},effects:{ponder:30},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"A writer's block is no match for armor-piercing pencils!"}};e.exports={buildings:t,getBuildingCount:function(e){return t[e].count},getBoost:function(e,o){const s=t[e];if(s&&s.boost){if(s.boost[o])return s.boost[o];if(s.boost.all)return s.boost.all}return null}}},54:(e,t,o)=>{const{passedStage:s}=o(751),{getMaterial:n}=o(924),{hasTool:i}=o(609),{resources:r}=o(587),a={gatherSticks:{class:"tooltip startVisible",tab:"production",text:"𓀝 Gather Sticks",tooltipDesc:"Five, Six, Pick up sticks.",tooltipCost:"Free",requirement:()=>!0,hide:()=>!1},gatherVines:{class:"tooltip stick",tab:"production",text:"𓍯 Gather Vines",tooltipDesc:"Some vines are rubbery, others are gummy.",tooltipCost:"Free",requirement:()=>n("sticks",r)>=10||s("vines"),hide:()=>!1},gatherRocks:{class:"tooltip stick",tab:"production",text:"𓊖𓀩 Gather Rocks",tooltipDesc:"Not a single window to throw them through.",tooltipCost:"Free",requirement:()=>n("vines",r)>=10||s("rocks"),hide:()=>!1},gatherFish:{class:"tooltip fishing",tab:"production",text:"𓆝 𓆟 𓆞 Go Fish",tooltipDesc:"Got any tuna?",tooltipCost:"Free",requirement:()=>i("Spear")||i("Fishing Rod")||s("fishing"),hide:()=>!1},gatherWood:{class:"woodToggle wood",tab:"production",text:"𓌏 Chop Wood",tooltipDesc:"An axe hurts way less than using your hands.",tooltipCost:"",requirement:()=>i("Axe")||s("wood"),hide:()=>!1},gatherOre:{class:"tooltip ",tab:"production",text:"𓉸 Mine Ore",tooltipDesc:"Diggy Diggy Hole",tooltipCost:"Free",requirement:()=>i("Pickaxe")||s("ore"),hide:()=>!1},productionTabButton:{class:"tab-button",text:"Production",showTab:"productionTab",tab:"tabs",requirement:()=>s("tab-button"),hide:()=>!1},experimentTabButton:{class:"tab-button",text:"Experiment",showTab:"experimentTab",tab:"tabs",requirement:()=>s("tab-button"),hide:()=>!1},ponderTabButton:{class:"tab-button",text:"Ponder",showTab:"ponderTab",tab:"tabs",requirement:()=>s("ponder-tab"),hide:()=>!1},jobsTabButton:{class:"tab-button",text:"Jobs",showTab:"jobsTab",tab:"tabs",requirement:()=>s("jobs-tab"),hide:()=>!1},skillsTabButton:{class:"tab-button",text:"Skills",showTab:"skillsTab",tab:"tabs",requirement:()=>s("skillsTable"),hide:()=>!1},perksTabButton:{class:"tab-button",text:"Perks",showTab:"perksTab",tab:"tabs",requirement:()=>s("perksTab"),hide:()=>!1},factoryTabButton:{class:"tab-button",text:"Factories",showTab:"factoryTab",tab:"tabs",requirement:()=>s("factoryTab"),hide:()=>!1},gatherPonder:{class:"tooltip",text:"Ponder",tooltipDesc:"Wrap your head around the great mysteries",tooltipCost:"Time",tab:"ponder",requirement:()=>s("ponder-tab"),hide:()=>!1}};e.exports={buttons:a}},371:(e,t,o)=>{const{getMaterial:s}=o(924),{getCraftedResource:n}=o(590),{resources:i}=o(587),{passedStage:r}=o(751),a={sharprocks:{text:"Sharp Rocks",id:"craftSharprocks",value:0,cost:{rocks:2},craftedOnce:!1,requirement:()=>s("rocks",i)>=5,tooltipDesc:"Craft a rock using nothing but rocks!",tooltipCost:"Rocks: 5",class:"craftRocks"},rope:{id:"craftRope",value:0,cost:{vines:3},craftedOnce:!1,requirement:()=>s("vines",i)>=3,tooltipDesc:"The basis of attaching things to other things.",tooltipCost:"Vines: 3",class:"rope"},handle:{id:"craftHandle",value:0,cost:{sticks:2},craftedOnce:!1,requirement:()=>n("sharpRocks")>=1,tooltipDesc:"Shear off that bark to hold it better",tooltipCost:"Sharp Rocks: 1",class:"craftRocks"},staff:{id:"craftStaff",value:0,cost:{handle:2,rope:1},craftedOnce:!1,requirement:()=>n("handle")>=1,tooltipDesc:"Stick some sheared sticks together",tooltipCost:"Handles: 2",class:"rope"},fishingrod:{id:"craftFishingrod",value:0,cost:{staff:1,rope:2},craftedOnce:!1,requirement:()=>r("fishing"),tooltipDesc:"A weapon feared by underwater life",tooltipCost:"",class:"rope"},spear:{id:"craftSpear",value:0,cost:{staff:1,sharpRocks:1,rope:1},craftedOnce:!1,requirement:()=>n("staff")>=1,tooltipDesc:"A long and pointy stick",tooltipCost:"Staffs: 1",class:"rope"},axe:{id:"craftAxe",value:0,cost:{handle:1,rope:1,sharprocks:2},craftedOnce:!1,requirement:()=>n("spear")>=1,tooltipDesc:"Put a rock straight through that handle",tooltipCost:"Spears: 1",class:"rope"},pickaxe:{id:"craftPickaxe",value:0,cost:{handle:1,sharpRocks:3,rope:1,rocks:10},craftedOnce:!1,requirement:()=>n("axe")>=1,tooltipDesc:"Sadly not made of diamonds",tooltipCost:"Axes: 1",class:"rope"},glass:{id:"craftGlass",value:0,cost:{sand:10},craftedOnce:!1,tooltipDesc:"You can see right through it!",requirement:()=>r("glassBlowing")},paper:{id:"craftPaper",value:0,cost:{wood:12},craftedOnce:!1,tooltipDesc:"Outsource your memory",requirement:()=>r("paper")},gold:{id:"craftGold",value:0,cost:{ore:100},craftedOnce:!1,requirement:()=>r("metalWorking"),tooltipDesc:"There's some yellow bits in this ore",tooltipCost:"",class:"metalWorking"},iron:{id:"craftIron",value:0,cost:{ore:20},craftedOnce:!1,requirement:()=>r("metalWorking"),tooltipDesc:"There's some sturdy-looking bits in this ore",tooltipCost:"",class:"metalWorking"},silver:{id:"craftSilver",value:0,cost:{ore:50},craftedOnce:!1,requirement:()=>r("metalWorking"),tooltipDesc:"There's some shiny gray bits in this ore",tooltipCost:"",class:"metalWorking"},bricks:{id:"craftBricks",value:0,cost:{clay:15},craftedOnce:!1,requirement:()=>s("clay",i)>5,tooltipDesc:"Leave some clay by the fire",tooltipCost:""},steel:{value:0,cost:{iron:5}},beams:{value:0,cost:{wood:10}},crates:{value:0,cost:{wood:15}},nails:{value:0,cost:{iron:1}},slabs:{value:0,cost:{rocks:20}},medicine:{value:0,cost:{herbs:50}},leather:{value:0,cost:{hides:10}},concrete:{value:0,cost:{sand:32}}};e.exports={craftedResources:a,getCraftedResourceConfigById:function(e){for(let t in a)if(a[t].id===e)return a[t];return null},getCraftedResourceKeyByConfig:function(e){for(let t in a)if(a[t].id===e.id)return t;return null}}},55:e=>{e.exports={perks:{tier1:["Lumberjack","Miner","Botanist","Leader","Architect"],tier2:["Thinker","General","Merchant","Generalist","Specialist"]}}},397:e=>{e.exports={ponders:{ponder1:{id:"ponderPonder1",isPondered:!1,cost:{ponder:10},text:"Think Harder",tooltipDesc:"5% boost to pondering",requirement:()=>!0},"jobs-tab":{id:"ponderJobs-tab",isPondered:!1,cost:{ponder:20},text:"Understand Cloning",tooltipDesc:"Why are there two of you?",requirement:()=>!0,tooltipCost:"Sanity (20 Ponder)"},skillsTable:{id:"ponderSkillsTable",isPondered:!1,cost:{ponder:40},tooltipDesc:"You're starting to learn things, right?",requirement:()=>!0,text:"Notice Improvement"},fishing:{id:"ponderFishing",isPondered:!1,cost:{ponder:50,fish:50},tooltipDesc:"What if... your clones could go fishing?",requirement:()=>!0,text:"Fishing Job"},fasterSkills:{id:"ponderFasterSkills",isPondered:!1,cost:{ponder:80},requirement:()=>!0,text:"Skills I",tooltipDesc:"Think Smarter. 5% bonus to skill exp"},thinking:{id:"ponderThinking",isPondered:!1,cost:{ponder:150},text:"Thinking Job",requirement:()=>!0,tooltipDesc:"Let your clones start thinking for themselves."},fasterResourceGain:{id:"ponderFasterResourceGain",isPondered:!1,cost:{ponder:120},requirement:()=>!0,text:"Productivity I",tooltipDesc:"Just work harder. 5% bonus to resource gain"},autoClone:{id:"ponderAutoClone",requirement:()=>!0,isPondered:!1,text:"Auto Clone",tooltipDesc:"Automatically produce clones",cost:{ponder:140,clones:20}},effectiveBuildings:{id:"ponderEffectiveBuildings",requirement:()=>!0,isPondered:!1,text:"Buildings I",tooltipDesc:"Increase building effects by 1%",cost:{ponder:140}},agriculture:{id:"ponderAgriculture",requirement:()=>!0,isPondered:!1,text:"Agriculture",tooltipDesc:"Find some seeds from all those plants",cost:{ponder:150}},combat:{id:"ponderCombat",requirement:()=>!0,isPondered:!1,text:"Combat",tooltipDesc:"Is there anyone to spar with besides you?",cost:{ponder:300,spear:100}},hunting:{id:"ponderHunting",requirement:()=>!0,isPondered:!1,text:"Hunting",tooltipDesc:"At least there are animals",cost:{ponder:140,fish:50}},perksTab:{id:"ponderPerksTab",requirement:()=>!0,isPondered:!1,text:"Perks",tooltipDesc:"Maybe you as the original should specialize",cost:{ponder:400}},factoryTab:{id:"ponderFactoryTab",requirement:()=>!0,isPondered:!1,text:"Factories",tooltipDesc:"Ascend to the next level of economy",cost:{ponder:500,gold:10,wood:1e3,wheat:1e3,rocks:1e3}}}}},587:e=>{const t={clones:{id:"makeClone",value:0,isVisible:!1,max:0},sticks:{id:"gatherSticks",isGetting:!1,isVisible:!0,activeText:"𓆱𓀜 Gathering Sticks",defaultText:"𓆱 Gather Sticks",value:0,emoji:"𓀝",max:50},vines:{id:"gatherVines",isGetting:!1,isVisible:!1,activeText:"𓍯𓀪 Gathering Vines",defaultText:"𓍯 Gather Vines",tools:[{tool:"Axe",val:1.5}],value:0,emoji:"𓀪",max:50},rocks:{id:"gatherRocks",isGetting:!1,isVisible:!1,activeText:"𓊖𓀩 Gathering Rocks",defaultText:"𓊖 Gather Rocks",value:0,emoji:"𓀩",max:30},fish:{id:"gatherFish",isGetting:!1,isVisible:!1,activeText:"𓆝𓆟𓆞 𓁃 Gone Fishing",defaultText:"𓆝𓆟𓆞 Go Fish",value:0,emoji:"𓁃",tools:[{tool:"Spear",val:1},{tool:"Fishing Rod",val:2}],max:10},wood:{id:"gatherWood",isGetting:!1,isVisible:!1,activeText:"𓀨 Chopping Wood",defaultText:"𓌏 Chop Wood",emoji:"𓀨",tools:[{tool:"Axe",val:1.5},{tool:"Chainsaw",val:3}],value:0,max:40},ponder:{id:"gatherPonder",isGetting:!1,isVisible:!1,activeText:"𓀁 Pondering",defaultText:"𓀁 Ponder",emoji:"𓀁",value:0,max:20},ore:{value:0,id:"gatherOre",isGetting:!1,isVisible:!1,activeText:"𓉸𓁄 Mining Ore",defaultText:"𓉸 Mine Ore",emoji:"𓁄",max:20},sand:{value:0,id:"gatherSand",isGetting:!1,isVisible:!1,activeText:"𓀩 Scooping Sand",defaultText:"𓀩 Scoop Sand",emoji:"𓀩",max:20},wheat:{value:0,id:"gatherWheat",isGetting:!1,isVisible:!1,activeText:"𓀩 Harvesting Wheat",defaultText:"𓀩 Harvest Wheat",emoji:"𓀝",max:20},freshwater:{value:0,id:"gatherFreshwater",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},hides:{value:0,id:"gatherHides",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀎",max:50},clay:{value:0,id:"gatherClay",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},berries:{value:0,id:"gatherBerries",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},herbs:{value:0,id:"gatherHerbs",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},game:{value:0,id:"gatherGame",isGetting:!1,isVisible:!1,activeText:"𓃚𓀎 Hunting",defaultText:"𓀎 Hunt",emoji:"𓀎",max:50}};e.exports={resources:t,isResource:function(e){return e in t},getResourceConfigById:function(e){for(let o in t)if(t[o].id===e)return t[o];return null}}},324:e=>{e.exports={skills:{gathering:{exp:0,level:0,affectedResources:["sticks","vines","sand","herbs","berries"]},masonry:{exp:0,level:0,affectedResources:["rocks","ore","clay"],needTools:[{Pickaxe:["ore"]}]},carpentry:{exp:0,level:0,affectedResources:["wood","handle","staff","fishingrod"],needTools:[{Axe:["wood"]}]},thinking:{exp:0,level:0,affectedResources:["ponder"]},smithing:{exp:0,level:0,affectedResources:["axe","pickaxe","spear","glass","iron","silver","gold"]},farming:{exp:0,level:0,affectedResources:["wheat","freshwater"]},combat:{exp:0,level:0,affectedResources:[]},fishing:{exp:0,level:0,affectedResources:["fish","freshwater"]},hunting:{exp:0,level:0,affectedResources:["hides","game"]}}}},808:(e,t,o)=>{const{craftedResources:s,getCraftedResourceConfigById:n}=o(371),{buildings:i}=o(882),{ponders:r}=o(397),{buttons:a}=o(54),{resources:c,getResourceConfigById:l}=o(587),{saveGame:d,loadGame:u}=o(502),{generateTooltipCost:f,appendCraftedResourceButtons:p,increaseMaterial:b,craftAllResources:g,craftResource:h,calcIncrease:m,updateResourceIncreaseRates:y,calcSecondsRemaining:v,increaseMax:k,initializeResourceTags:x}=o(594),{recalculateBuildingCost:w,buyMaxBuildings:C,buyBuilding:T}=o(151),{hasPerk:B,selectAbility:S}=o(134),{updateSidebar:A,getMax:E,clearSidebar:M}=o(78),{makeVisible:R}=o(123),{updateButtonVisibility:q}=o(667),{getCraftedResource:D}=o(590),{getMaterial:j}=o(924),{createFactoryDiv:F,buyFactory:P,attemptManufacture:L,upgradeBulk:$}=o(51),{isPondered:I,generatePonderButtons:O}=o(369),{hasTool:G,addTool:V}=o(609),{getAteFish:W,setAteFish:N}=o(621),{drawAllConnections:H,updateTotal:_}=o(150),{capitalizeFirst:J}=o(681),{passedStage:z}=o(751),U=document.querySelector("#resources"),Y=document.querySelector("#emojiGatherDisplay"),K={SharpRocks:"craftRocks",Spear:"fishing",FishingRod:"fishing",Axe:"wood",Pickaxe:"ore"},Q=[{condition:()=>j("sticks",c)>=1,action:()=>R("stick")},{condition:()=>j("sticks",c)>=10,action:()=>R("vines")},{condition:()=>j("vines",c)>=10,action:()=>R("rocks")},{condition:()=>j("rocks",c)>=1,action:()=>{R("tab-button"),R("craftRocks")}},{condition:()=>j("fish",c)>=1,action:()=>R("fishing")},{condition:()=>G("Axe"),action:()=>R("wood")},{condition:()=>D("rope")>=1,action:()=>R("rope")},{condition:()=>j("fish",c)>=5&&!W(),action:()=>{document.getElementById("eatFish").style.display="block",document.getElementById("eatFish").classList.add("visible")}},{condition:()=>W(),action:()=>{R("clone"),R("ponder-tab")}},{condition:()=>I("ponderFinish"),action:()=>(document.getElementById("page-transition-overlay").classList.add("fade-in"),void setTimeout((function(){window.location.href="stage2.html"}),300))}];let X=document.querySelectorAll(".tab-content > .content");function Z(e){console.log("show tab: "+e);let t="";for(let e of X)e.classList.contains("active")&&(t=e.id,e.classList.remove("active"));let o=document.querySelectorAll(".tab-button");for(let e of o)e.classList.remove("active");document.getElementById(e).classList.add("active");const s=`#${e}Button`;let n=document.querySelector(s);n&&n.classList.add("active"),"jobsTab"===e&&H(),"factoryTab"===e&&"factoryTab"!==t?(M(),x()):"factoryTab"===t&&(M(),A())}document.addEventListener("keydown",(function(e){switch(e.key){case"1":Z("productionTab");break;case"2":z("tab-button")&&Z("experimentTab");break;case"3":z("ponder-tab")&&Z("ponderTab");break;case"4":z("jobs-tab")&&Z("jobsTab");break;case"5":z("skillsTable")&&Z("skillsTab");break;case"6":z("perksTab")&&Z("perksTab");break;case"7":z("factoryTab")&&Z("factoryTab")}}));const ee=document.getElementById("darkModeToggle"),te=document.body;te.classList.toggle("dark-mode"),ee.classList.toggle("dark");let oe=!0;const se=document.getElementById("overlay"),ne=document.getElementById("message");function ie(e,t){const o=e.replace(t,`<span id="alone" title="You feel peckish for some seafood">${t}</span>`);ne.innerHTML=o}let re=50,ae=null,ce=0,le=0;function de(e){null===ae&&(ae=e);const t=e-ae;ce+=t,le+=t,ae=e;let o=re;for(le>=10*re&&(re=le/10);le>=re;)le-=re,pe(re);re=o,requestAnimationFrame(de)}let ue=0,fe=0;function pe(e,t){for(let t in c)b(t,m(t,e));y(),function(){Q.forEach((e=>{e.condition()&&e.action()}));for(let e in K)!G(e)&&D(e)>0&&(V(e),R(K[e]));try{q(),null!==he&&ge(he)}catch(e){console.warn(e)}}(),ue+=e,fe+=e,ue>=1e4&&(d(),ue=0),z("factoryTab")&&fe>=1e3&&(L(),fe=0)}const be=document.getElementById("dynamic-tooltip");function ge(e){const t=e.getAttribute("data-tooltip-desc")||e.getAttribute("tooltipDesc"),o=e.getAttribute("data-tooltip-effect"),s=l(e.id)||n(e.id)||i[e.getAttribute("data_building")]||r[e.getAttribute("unlock")],a=e.getAttribute("tooltipCost")||s.cost;!function(e,t,o,s){let n="";if(t&&(n+=`<span >${t}</span><hr>`),o&&(n+=`<span style="color:#00ABE7">${o}</span><hr>`),s)try{var i="";for(const[e,t]of Object.entries(s)){var r=j(e,c)>=t?"enough":"not-enough";E(e)<t&&(r="exceeds-max"),i+=`<span class="tooltip-${e} ${r}">${t.toFixed(0)} ${e}</span>`;const o=v(e,t);o>0&&"exceeds-max"!=r&&(i+=`<span class="time-remaining">(${o.toFixed(0)} seconds)</span>`),i+="<br>"}n+=i}catch(t){n+=s,console.error("Couldn't make normal cost for button: ",e,s,t)}be.innerHTML=n,be.style.left=e.getBoundingClientRect().right+5+"px",be.style.top=e.getBoundingClientRect().top-be.offsetHeight/2+"px",be.style.display="block"}(e,t,o,a)}document.addEventListener("DOMContentLoaded",(e=>{function t(e){for(let t in s)if(s[t].id===e)return t;return""}O(r),p(),function(){console.log("Generating buttons"),console.trace();const e=e=>{const t=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div");return t.style.width="33.33%",o.style.width="33.33%",s.style.width="33.33%",t.style.display="inline-block",o.style.display="inline-block",s.style.display="inline-block",t.classList.add("visible"),o.classList.add("visible"),s.classList.add("visible"),e.prepend(s),e.prepend(o),e.prepend(t),[t,o,s]},t=document.getElementById("tabs"),o=document.getElementById("productionTab"),n=document.getElementById("experimentTab").querySelector(".button-columns"),r=document.getElementById("ponderTab"),c=e(o),l=e(n),d=e(r);let u=0,p=0,b=0;for(let e in a){const o=a[e],n=document.createElement("button");n.id=e,n.className=o.class,n.textContent=o.text,o.tooltipDesc&&n.setAttribute("data-tooltip-desc",o.tooltipDesc),o.tooltipEffect&&n.setAttribute("data-tooltip-effect",o.tooltipEffect),n.setAttribute("unlock",o.unlock),n.setAttribute("data_building",o.data_building);const r=Object.values(s).find((t=>t.id===e));r&&(o.tooltipCost=f(r.cost)),n.setAttribute("data-tooltip-cost",o.tooltipCost),o.showTab&&n.addEventListener("click",(()=>{Z(o.showTab),console.log("Switching to tab: "+o.showTab)})),"production"===o.tab?(c[u].appendChild(n),u=(u+1)%3):"experiment"===o.tab?(l[p].appendChild(n),p=(p+1)%3):"tabs"===o.tab?t.appendChild(n):"ponder"===o.tab?(d[b].appendChild(n),b=(b+1)%3):o.tab,Object.keys(i).find((t=>t===e))&&w(e,i,B);try{o.requirement()||(n.style.display="none")}catch(e){}}}(),u(),A(),Z("productionTab"),o(864).generateTradeTable(c),document.addEventListener("click",(e=>{if(e.target.matches("button")){const n=e.target;if(n.getAttribute("data_building")&&"undefined"!==n.getAttribute("data_building")&&n.classList.contains("purchasable")){var o=n.getAttribute("data_building");e.shiftKey?C(o):T(o)}if(n.classList.contains("unlock")){const e=n.getAttribute("unlock");if(console.log(e),r[e]){var s=!0;for(let t in r[e].cost)if(j(t,c)<r[e].cost[t]){console.log("Cannot unlock "+e),s=!1;break}if(s){for(let t in r[e].cost)b(t,-r[e].cost[t]);r[e].isPondered=!0,R(e),n.display="none",console.log("Unlocking "+e)}}}if("undefined"!==n.id&&(console.log(n),"gather"===n.id.slice(0,6)?function(e){const t=c[e],o=document.querySelector("#resources").querySelector("#resource-"+e),s=document.querySelector("#gather"+e.charAt(0).toUpperCase()+e.slice(1));t.isGetting?(t.isGetting=!1,s.textContent=t.defaultText,o&&(o.style.fontWeight="normal")):(function(){for(let e in c){c[e].isGetting=!1;const t=document.querySelector("#gather"+J(e));t&&(t.textContent=c[e].defaultText);const o=U.querySelector("#resource-"+e);o&&(o.style.fontWeight="normal")}}(),t.isGetting=!0,s.textContent=t.activeText,o&&(o.style.fontWeight="bold"),Y.textContent=t.emoji,console.log(t.emoji))}(function(e){for(let t in c)if(c[t].id===e)return t;return""}(n.id)):"craft"===n.id.slice(0,5)?e.shiftKey?g(t(n.id)):h(t(n.id)):"saveButton"===n.id?d():"eatFish"===n.id?!W()&&j("fish",c)>=1&&(b("fish",-1),function(){const e=document.getElementById("overlay"),t=document.getElementById("overlay-text"),o=document.getElementById("overlay-button");e.style.display="flex",setTimeout((()=>{t.style.opacity="1"}),2e3),setTimeout((()=>{o.style.display="block"}),5e3)}(),N(!0),document.querySelector("#eatFish").style.display="none",setTimeout((()=>{ie("You are with yourself in a forest.","with yourself"),k("clones",1),b("clones",1)}),1e3)):"overlay-button"===n.id?se.style.display="none":"deleteSaveButton"===n.id?(localStorage.removeItem("save"),location.reload()):"clearJobAssignments"===n.id?clearJobAssignments():"darkModeToggle"===n.id?(te.classList.toggle("dark-mode"),ee.classList.toggle("dark"),oe=!oe,ee.textContent=oe?"Light Mode":"Dark Mode"):"2main"===n.id?Z("mainTab"):"2graphs"===n.id&&Z("graphsTab")),n.classList.contains("tierOneButton")){let e=n.textContent;S(e)}}e.target.matches("#alone")&&(c.clones.value<c.clones.max&&(c.clones.value+=1),_())})),function(){const e=document.querySelector("#factoryButtons"),t=document.createElement("button");t.classList.add("tooltip"),t.id="buyFactoryButton",t.textContent="Buy New Factory",t.setAttribute("data-tooltip-desc","The factory must grow!"),t.setAttribute("tooltipCost","50 silver"),e.appendChild(t),t.addEventListener("click",(()=>{console.log("buying factory"),P()}));const o=document.createElement("button");o.classList.add("tooltip"),o.id="upgradeBulkButton",o.textContent="Upgrade Bulk",o.setAttribute("data-tooltip-desc","Craft more resources per second"),o.setAttribute("tooltipCost","2 → 4: 30 silver"),e.appendChild(o),o.addEventListener("click",(()=>{console.log("upgrading bulk"),$()}))}(),F(),requestAnimationFrame(de),document.querySelectorAll(".tooltip").forEach((e=>{e.addEventListener("mouseenter",(function(t){ge(e),he=e})),e.addEventListener("onclick",(function(){ge(e)})),e.addEventListener("mouseleave",(function(){be.style.display="none",he=null}))})),_()}));var he=null;e.exports={updateSidebar:A,updateUI:function(e){const t=document.createElement("div");t.innerHTML=`${e}: ${c[e].value}`,document.body.appendChild(t)},setTotalTime:function(e){ce=e},changeMessage:ie,getMessage:function(){return ne},total_time:ce,currentHoverButton:he}},123:(e,t,o)=>{const{setStage:s,passedStage:n}=o(751),{updateButtonVisibility:i}=o(667);t.makeVisible=function(e){n(e)||s(e);const t=document.querySelectorAll("p."+e);t.forEach((e=>e.classList.add("visible"))),t.forEach((e=>e.style.display="")),i()}},134:(e,t,o)=>{const{buildings:s}=o(882),{perks:n}=o(55);let i=[];function r(e){return i.includes(e)}function a(e){if(i.push(e),"Architect"===e)for(let e in s)o(151).recalculateBuildingCost(e,s,r)}e.exports={hasPerk:r,addPerk:a,selectAbility:function(e){r(e)||window.confirm("Do you want to select "+e+"? This decision cannot be easily changed.")&&(a(e),o(495).selectCorrectPerkButton(e))},getPerkFromTier:function(e){for(let t in n["tier"+e])if(r(t))return t;return""},getAllPerks:function(){return i}}},369:(e,t,o)=>{const{capitalizeFirst:s}=o(681),{ponders:n}=o(397),{getMaterial:i}=o(924),{resources:r}=o(587),{buttons:a}=o(54);function c(e){return!!n[e]&&n[e].isPondered}e.exports={canUnlock:function(e){var t="";for(let o in n)n[o].id===e&&(t=o);if(""===t)return console.warn("invalid unlock id: ",e),!1;var o=!0;for(let e in n[t].cost)if(i(e,r)<n[t].cost[e]){o=!1;break}return o},isPondered:c,generatePonderButtons:function(e){for(const[t,i]of Object.entries(e)){const e=`ponder${s(t)}`;let r=o(594).generateTooltipCost(i.cost);a[e]={class:"tooltip unlock",text:i.text||"Ponder a Mystery?",tooltipDesc:i.tooltipDesc||"Who knows what you'll discover",tooltipCost:r,tab:"ponder",unlock:t,requirement:()=>o(78).getMax("ponder")>=n[t].cost.ponder/2,hide:()=>c(t)}}}}},594:(e,t,o)=>{const{resources:s}=o(587),{craftedResources:n}=o(371),{buildings:i,getBoost:r}=o(882),{ponders:a}=o(397),{buttons:c}=o(54),{skills:l}=o(324),{getWorkers:d,updateTotal:u,reassignJobsBasedOnResources:f}=o(150),{hasTool:p,getToolValueForResource:b}=o(609),{updateSidebar:g,updateSkills:h,calcCraftBonus:m,getMax:y}=o(78),{canCraft:v}=o(64),{capitalizeFirst:k}=o(681),{getMaterial:x}=o(924),{hasPerk:w}=o(134),{isPondered:C}=o(369),{getCraftedResource:T}=o(590);function B(e,t){var o=0;if(n.hasOwnProperty(e));else if(!s.hasOwnProperty(e))return o;"clones"===e&&C("autoClone")&&(o=1);var a=b(s[e]);s[e]&&s[e].isGetting&&(o+=a),o+=(w("Leader")?.375:.25)*d(e)||0,!w("Lumberjack")||"wood"!=e&&"sticks"!=e||(o*=1.25),!w("Miner")||"rocks"!=e&&"ore"!=e||(o*=1.25),!w("Botanist")||"vines"!=e&&"herbs"!=e&&"wheat"!=e||(o*=1.25);for(let t in l)if(l[t].affectedResources.includes(e)){let e=1.06;o*=1+(Math.pow(e,l[t].level)-1)/100}for(let t in i){const s=r(t,e);if(s){var c=Math.pow(s,i[t].count);C("effectiveBuildings")&&(c*=1.01),o*=c}}return"ponder"===e&&C("ponder1")&&(o*=1.05),C("fasterResourceGain")&&(o*=1.05),o*=t/1e3,parseFloat(o.toFixed(3))}const S=document.getElementById("resources");function A(e,t){let o;console.log("Creating resource tag for ",e,t),t?(o=document.getElementById(`group-${t}`),o||(o=function(e){const t=document.createElement("div");t.className="resourceGroup",t.id=`group-${e}`;const o=document.createElement("button");return o.textContent=e.toUpperCase(),o.onclick=()=>function(e){const t=document.getElementById(`group-${e}`),o=document.getElementById(`toggle-${e}`);Array.from(t.children).forEach((e=>{"P"===e.tagName&&e.classList.toggle("hidden")})),o.classList.contains("arrow-down")?(o.classList.remove("arrow-down"),o.classList.add("arrow-right")):(o.classList.remove("arrow-right"),o.classList.add("arrow-down"))}(e),o.className="toggle-button arrow-down",o.id=`toggle-${e}`,t.appendChild(o),t}(t),S.appendChild(o))):o=document.getElementById("resources");const s=k(e).split("_").join(" "),n=document.createElement("p");n.className=`${e} resource`,n.id=`resource-${e}`;const i=document.createElement("span");i.className="resourceName",i.textContent=`${s}:`;const r=document.createElement("span");r.className="resourceValue",r.id=`${e}Value`;let a=y(e)===1/0?"∞":y(e).toFixed(2);r.textContent=`${x(e).toFixed(2)} / ${a}`;const c=document.createElement("span");function l(e,t){const o=document.getElementById(e);o&&(o.style.order=t)}c.className="resourceRate",c.innerHTML=`(+\n            <span id="${e}IncreaseRate">0</span>/s)`,n.appendChild(i),n.appendChild(r),n.appendChild(c),o.appendChild(n),l("resource-clones",1),l("resource-sticks",2),l("resource-vines",3),l("resource-rocks",4),l("resource-fish",5),l("resource-freshwater",6),l("resource-wood",7),l("resource-ore",8),l("resource-sand",9),l("resource-clay",10),l("resource-wheat",11),l("resource-hides",12),l("resource-game",13),l("resource-herbs",14),l("resource-berries",15),l("resource-ponder",50)}const E={basics:["clones","sticks","berries","fish","game","wheat","freshwater"],materials:["wood","ore","sand","clay","vines","rocks","hides","herbs"],tools:["sharprocks","rope","handle","fishingrod","pickaxe","axe","spear","staff"],advanced:["glass","paper","crates","medicine","leather"],metal:["gold","iron","silver","steel"],construction:["bricks","beams","nails","slabs","concrete"]};function M(e){const t=S.querySelector(`#${e}Value`),o=document.querySelector(`button#craft${k(e)}`);try{t||A(e)}catch(e){}if(t){try{let o=y(e)===1/0?"∞":y(e).toFixed(2);t.textContent=`${x(e).toFixed(2)} / ${o}`}catch(o){console.error(t,e,o)}if(s[e]){const t=document.querySelector("#resources").querySelector("#resource-"+e);s[e].isGetting&&t&&(t.style.fontWeight="bold")}}if(o){const t=o.querySelector(`#${e}Value`);t?t.textContent=T(e).toFixed(0):console.warn(`Resource button found but no count span for: ${e}`)}}function R(e,t){0!=t&&(e=e.toLowerCase(),s.hasOwnProperty(e)?(x(e)<y(e)&&t>0?(C("fasterResourceGain")&&(t*=1.05),s[e].value+=t,h(e,t)):t<0?s[e].value+=t:(s[e].value=y(e),C("autocraft")&&document.querySelector("#autoCraftCheckbox").checked&&L[e]&&$(L[e])),M(e),f()):n.hasOwnProperty(e)?(n[e].value+=t,M(e),h(e,t)):(A(e),R(e,t)),g())}function q(e){const t=document.createElement("button");t.className=e.class+" tooltip",t.setAttribute("id",e.id),t.requirement=e.requirement;const o=Object.keys(n).find((t=>n[t]===e)),s=parseFloat(n[o].value).toFixed(0);return t.innerHTML=`${e.text||k(o)}: <span id="${o+"Value"}">${s}</span>`,t.tab="experiment",t}const D=document.querySelector("#craftedResourceButtons");function j(e){if(null===e)return"";var t="";for(let o in e)t+=`<span class="tooltip-${o} ${x(o,s)>=e[o]?"enough":"not-enough"}">${e[o]} ${o}</span><br>`;return t}const F=document.getElementById("emojiDisplay");function P(){let e="";for(let t in s){let o=d(t);if(void 0===o||0==o)continue;let n=s[t].emoji||"𓀟";n&&(e+=n.repeat(o))}F.textContent=e,function(){let e=48;for(F.style.fontSize=`${e}px`;F.offsetWidth>600&&e>30;)e-=1,F.style.fontSize=`${e}px`}()}P();const L={sticks:"handle",wood:"paper",rocks:"sharprocks",vines:"rope",sand:"glass",ore:"gold",clay:"bricks"};function $(e){try{const t=n[e].cost;let o=[];for(let e in t)o.push(x(e,s)/t[e]);let i=Math.floor(Math.min(...o));console.log(e,i),function(e,t){if(!n.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;if(!v(e))return;let o=n[e].cost;for(let e in o)R(e,-o[e]*t);R(e,t),n[e].craftedOnce||(n[e].craftedOnce=!0),M(e)}(e,i)}catch(t){console.log("Failed to craftall for: ",e,t)}}e.exports={getMaterial:x,increaseMaterial:R,setMax:function(e,t){s[e].max=t,g(),u()},increaseMax:function(e,t){s[e].max+=t,g(),u()},craftAllResources:$,craftResource:function(e){if(!n.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;if(!v(e))return;let t=n[e].cost;m(e),function(e,t,o){for(let e in t)R(e,-t[e]);R(e,1)}(e,t),n[e].craftedOnce||(n[e].craftedOnce=!0),M(e)},updateEmojiDisplay:P,updateDisplayValue:M,generateTooltipCost:j,calcSecondsRemaining:function(e,t){if(t<=s[e])return 0;const o=B(e,1e3);return 0==o?-1:Math.ceil(t-s[e].value)/o},createResourceTag:A,appendCraftedResourceButtons:function(){for(let e in n){const t=q(n[e]);t.setAttribute("data-tooltip-desc",n[e].tooltipDesc||""),t.setAttribute("data-tooltip-cost",j(n[e].cost)||""),D.appendChild(t),c[n[e].id]=n[e]}},calcIncrease:B,updateResourceIncreaseRates:function(){for(let t in s){const o=B(t,1e3);var e=document.getElementById(`${t}IncreaseRate`);e&&(e.textContent=o)}},initializeResourceTags:function(){for(let e in E)E[e].forEach((t=>{try{A(t,e)}catch(e){console.log(e)}}))}}},502:(e,t,o)=>{const{updateBuildingButtonCount:s,recalculateBuildingCost:n}=o(151),{updateDisplayValue:i,calcIncrease:r,updateEmojiDisplay:a}=o(594),{addTool:c,getAllTools:l}=o(609),{allVisibleButtons:d,updateSidebar:u,populateSkillsTable:f,setVisibleButton:p}=o(78),{makeVisible:b}=o(123),{getCraftedResource:g}=o(590),{getMaterial:h}=o(924),{getAllPerks:m,addPerk:y,hasPerk:v}=o(134),{isPondered:k}=o(369),{jobCounts:x,setConnections:w,getConnections:C,distributeWorkers:T,updateDisplay:B}=o(150),{total_time:S}=o(808),{setAteFish:A,getAteFish:E}=o(621),{craftedResources:M}=o(371),{buildings:R}=o(882),{ponders:q}=o(397),{resources:D}=o(587),{skills:j}=o(324),{getAllStages:F}=o(751);e.exports={saveGame:function(){let e={skills:{},craftedResources:{},resources:{},tools:[],stages:[],unlocks:{},jobs:{},buildings:{},time:{},allVisibleButtons:[],message:[],connections:new Map,perks:[]};for(let t in j)e.skills[t]={exp:j[t].exp,level:j[t].level};for(let t in M)e.craftedResources.hasOwnProperty(t)||(e.craftedResources[t]={value:0,craftedOnce:!1}),e.craftedResources[t].value=g(t),e.craftedResources[t].craftedOnce=M[t].craftedOnce;for(let t in D)e.resources.hasOwnProperty(t)||(e.resources[t]={value:0,max:0}),e.resources[t].value=h(t,D),e.resources[t].max=D[t].max;e.tools=l(),e.stages=F(),e.jobs=x,e.perks=m(),e.connections=Array.from(C().entries());for(let t in q)e.unlocks[t]=k(t);for(let t in R)e.buildings[t]=R[t].count;for(let t in d)e.allVisibleButtons.push(t);const t=o(808).getMessage().innerHTML;return e.message=function(e){const t=document.createElement("div");return t.innerHTML=e,[t.textContent,t.querySelector("span").textContent]}(t),e.time.total_time=S,e.time.time_of_save=Date.now(),console.log(e),localStorage.setItem("save",JSON.stringify(e)),e},loadGame:function(){console.log("Loading Game");var e=JSON.parse(localStorage.getItem("save"));if(console.log(e),null!==e){if(void 0!==e.resources)for(let t in e.resources)"undefined"!==t.valueOf()&&null!==t&&(D[t].value=e.resources[t].value,D[t].max=e.resources[t].max,console.log("Updating resources for "+t+" to "+e.resources[t].value,e.resources[t].max),0!=D[t].value&&i(t));if(void 0!==e.skills)for(let t in e.skills)j[t].exp=e.skills[t].exp,j[t].level=e.skills[t].level;if(void 0!==e.craftedResources)for(var t of Object.keys(e.craftedResources))M[t]&&(M[t].value=e.craftedResources[t].value,Number.isNaN(M[t].value)&&(M[t].value=0),M[t].craftedOnce=e.craftedResources[t].craftedOnce,i(t));if(void 0!==e.tools){let t=[...new Set([...l(),...e.tools])];for(let e in t)c(e)}if(void 0!==e.stages)for(let t in e.stages)b(e.stages[t]);if(void 0!==e.jobs)for(let t in e.jobs)x[t]=e.jobs[t],B(t);if(void 0!==e.unlocks)for(let t in e.unlocks)try{q[t].isPondered=e.unlocks[t]}catch(e){console.warn("Old save data includes obsolete ponder",t)}if(k("skillsTable")&&f(),void 0!==e.buildings){for(let t in e.buildings)R[t].count=e.buildings[t],s(t,R[t].count),n(t,R,v);u()}if(A(D.clones.max>=1),E()&&(document.querySelector("#eatFish").style.display="none"),void 0!==e.message&&o(808).changeMessage(e.message[0],e.message[1]),void 0!==e.time){o(808).setTotalTime(e.time[S]);const t=Date.now()-e.time.time_of_save;for(let e in D){const o=r(e,t);D[e].value+=o,D[e].value>D[e].max&&(D[e].value=D[e].max)}}if(void 0!==e.allVisibleButtons){console.log(e.allVisibleButtons);for(let t in e.allVisibleButtons)p(t)}void 0!==e.connections&&(w(new Map(e.connections)),0===C().size&&w(new Map),console.log(C()));for(let e in x)T(e,x[e]);if(a(),void 0!==e.perks)for(let t in e.perks)y(t),o(495).selectCorrectPerkButton(t)}}}},495:(e,t)=>{t.selectCorrectPerkButton=function(e){let t,o=document.querySelectorAll(".tierOneButton");try{t=document.querySelector(`#${e}Perk`)}catch(e){}t?(o.forEach((e=>{e.setAttribute("disabled","true")})),console.log(t,e),t.removeAttribute("disabled"),t.classList.add("selected")):console.warn("No button found with ability name: "+e)}},751:e=>{let t=[];e.exports={setStage:function(e){t.push(e)},passedStage:function(e){return t.includes(e)},getAllStages:function(){return t}}},609:e=>{let t=["Bare Hands"];function o(e){return t.includes(e)}e.exports={hasTool:o,addTool:function(e){(isNaN(e)||isNaN(parseFloat(e)))&&(o(e)||(t.push(e),function(e){var t=document.getElementById("tools-list"),o=document.createElement("li");o.appendChild(document.createTextNode(e)),t&&t.appendChild(o)}(e)))},getAllTools:function(){return t},getToolValueForResource:function(e){if(!e)return 1;if(!e.tools)return 1;const t=e.tools.sort(((e,t)=>t.val-e.val));for(let e of t)if(o(e.tool))return e.val;return 1}}},864:(e,t,o)=>{const{getMaterial:s}=o(924),n=document.getElementById("resourceList"),i=document.getElementById("goldAmount");function r(e,t){s("gold",o(587).resources)>=t&&(o(594).increaseMaterial("gold",-t),o(594).increaseMaterial(e,t),i.textContent=s("gold",o(587).resources))}function a(e,t){s(e,o(587).resources)>=1&&(o(594).increaseMaterial("gold",t),o(594).increaseMaterial(e,-1),i.textContent=s("gold",o(587).resources))}t.generateTradeTable=function(e){for(let t in e){const e=document.createElement("tr"),o=Math.floor(100*Math.random())+10;e.innerHTML=`\n            <td class="tradetd">${t}</td>\n            <td class="tradetd">${o}</td>\n            <td class="tradetd" style="display:flex; flex-direction:row;">\n                <button class="buyBtn" data-resource="${t}" data-price="${o}">Buy</button>\n                <button class="sellBtn" data-resource="${t}" data-price="${o}">Sell</button>\n            </td>\n        `,n.appendChild(e)}document.querySelectorAll(".buyBtn").forEach((e=>{e.addEventListener("click",(e=>{r(e.target.getAttribute("data-resource"),parseFloat(e.target.getAttribute("data-price")))}))})),document.querySelectorAll(".sellBtn").forEach((e=>{e.addEventListener("click",(e=>{a(e.target.getAttribute("data-resource"),parseFloat(e.target.getAttribute("data-price")))}))}))},t.buyResource=r,t.sellResource=a},667:(e,t,o)=>{const{buttons:s}=o(54),{getCraftedResourceConfigById:n}=o(371),{getBuildingCount:i}=o(882),{isPondered:r,canUnlock:a}=o(369),{getCraftedResourceKeyByConfig:c}=o(371),{isButtonIdVisible:l,canBuyBuilding:d,setVisibleButton:u}=o(78),{canCraft:f}=o(64),{getMaterial:p}=o(924);t.updateButtonVisibility=function(){document.querySelectorAll("button").forEach((e=>{const t=s[e.id];if(t){e.classList.remove("hidden","purchasable","button-disabled");var o="hidden";e.id&&l(e.id)&&(o="button-disabled");try{t.requirement()&&(o="button-disabled",t.tab&&!t.data_building&&"production"===t.tab&&(o="purchasable"),e.id&&"gatherPonder"===e.id&&(o="purchasable"),t.tab&&"ponder"===t.tab&&e.id&&e.classList.contains("unlock")&&(a(e.id)&&(o="purchasable"),r(e.getAttribute("unlock"))&&(o="hidden")),t.tab&&"tabs"===t.tab&&(o="visible"))}catch(e){}if(t.id&&"craft"===t.id.slice(0,5)){t.craftedOnce&&(o="button-disabled");var p=n(t.id);p.value>0&&(o="button-disabled");const e=c(p);f(e)&&(o="purchasable")}t.data_building&&(o=i(t.data_building)?"button-disabled":o,o=d(t.data_building)?"purchasable":o),t.hide&&(o=t.hide()?"hidden":o),""!==o&&e.classList.add(o),"hidden"===o?e.style.display="none":(u(e.id),e.style.display="")}})),document.querySelectorAll(".job-button").forEach((e=>{const t=e.getAttribute("data-job");e.classList.remove("hidden","purchasable","button-disabled");var s;const n=o(842).O[t];"hidden"==(s=null==n||r(n)?"purchasable":"not-unlockable"===n?"hidden":"button-disabled")?e.style.display="none":(u(e.id),e.classList.add(s),e.style.display="")}))}}},t={};!function o(s){var n=t[s];if(void 0!==n)return n.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,o),i.exports}(808)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZixFQUFPb0MsTUFBTWtELFFBQVUsR0FDM0IsR0FFUixDLEdDakpJbWEsRUFBMkIsQ0FBQyxHQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCeFQsSUFBakJ5VCxFQUNILE9BQU9BLEVBQWExakIsUUFHckIsSUFBSUQsRUFBU3dqQixFQUF5QkUsR0FBWSxDQUdqRHpqQixRQUFTLENBQUMsR0FPWCxPQUhBMmpCLEVBQW9CRixHQUFVMWpCLEVBQVFBLEVBQU9DLFFBQVN3akIsR0FHL0N6akIsRUFBT0MsT0FDZixDQ25CMEJ3akIsQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2F0ZUZpc2guanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvYnVpbGRpbmdzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2NhbkNyYWZ0LmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2NhcGl0YWxpemVGaXJzdC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9mYWN0b3J5LmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2dldENyYWZ0ZWRSZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9nZXRNYXRlcmlhbC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9oZWxwZXIuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvam9iUmVxdWlyZWRQb25kZXJzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pvYnMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9idWlsZGluZ3MuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9idXR0b25zLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vY3JhZnRlZFJlc291cmNlcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL3BlcmtzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vcG9uZGVyLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vcmVzb3VyY2VzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vc2tpbGxzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL21haW4uanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvbWFrZVZpc2libGUuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvcGVya3MuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvcG9uZGVyLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3Jlc291cmNlcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9zYXZpbmcuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24uanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvc3RhZ2VzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3Rvb2xzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3RyYWRlLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3VwZGF0ZUJ1dHRvblZpc2liaWxpdHkuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXRlRmlzaCA9IGZhbHNlO1xyXG5cclxuZnVuY3Rpb24gc2V0QXRlRmlzaChib29sKSB7XHJcbiAgICBhdGVGaXNoID0gYm9vbDtcclxuICAgIHJldHVybiBhdGVGaXNoO1xyXG59XHJcbmZ1bmN0aW9uIGdldEF0ZUZpc2goKSB7XHJcbiAgICByZXR1cm4gYXRlRmlzaDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBhdGVGaXNoLFxyXG4gICAgc2V0QXRlRmlzaCxcclxuICAgIGdldEF0ZUZpc2hcclxufTsiLCJjb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpO1xyXG5jb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoJy4vanNvbi9idXR0b25zJyk7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgaW5jcmVhc2VNYXRlcmlhbCwgaW5jcmVhc2VNYXgsIGdlbmVyYXRlVG9vbHRpcENvc3QgfSA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgY2FuQnV5QnVpbGRpbmcsIHVwZGF0ZVNpZGViYXIgfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcbmNvbnN0IHsgdXBkYXRlVG90YWwgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IGhhc1BlcmsgfSA9IHJlcXVpcmUoJy4vcGVya3MnKTtcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vY2FwaXRhbGl6ZUZpcnN0Jyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZSgnLi9zdGFnZXMnKTtcclxuXHJcbi8qIEJVSUxESU5HUyAqL1xyXG5cclxuXHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBidWlsZGluZyBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUVmZmVjdFN0cmluZyhidWlsZGluZykge1xyXG4gICAgbGV0IGVmZmVjdFBhcnRzID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgW3Jlc291cmNlLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuZWZmZWN0cykpIHtcclxuICAgICAgICAvLyBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZWZmZWN0KSkge1xyXG4gICAgICAgIGVmZmVjdFBhcnRzLnB1c2goYCske3ZhbHVlfSBtYXggJHtyZXNvdXJjZX1gKTtcclxuICAgICAgICAvLyBBZGQgbW9yZSBjb25kaXRpb25zIGhlcmUgaWYgeW91IGludHJvZHVjZSBuZXcgdHlwZXMgb2YgZWZmZWN0c1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBbcmVzb3VyY2UsIGJvb3N0XSBvZiBPYmplY3QuZW50cmllcyhidWlsZGluZy5ib29zdCkpIHtcclxuICAgICAgICBsZXQgcGVyY2VudGFnZUJvb3N0ID0gTWF0aC5yb3VuZCgoYm9vc3QgLSAxKSAqIDEwMCk7XHJcbiAgICAgICAgZWZmZWN0UGFydHMucHVzaChgKyR7cGVyY2VudGFnZUJvb3N0fSUgJHtyZXNvdXJjZX0gcHJvZHVjdGlvbmApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWZmZWN0UGFydHMuam9pbignLCAnKTtcclxufVxyXG5cclxuLy8gVXNhZ2U6XHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IGJ1aWxkaW5nS2V5IFxyXG4gKiBAcGFyYW0ge09iamVjdH0gYnVpbGRpbmdzXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhc1BlcmtcclxuICovXHJcbmZ1bmN0aW9uIHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGJ1aWxkaW5nS2V5LCBidWlsZGluZ3MsIGhhc1BlcmspIHtcclxuICAgIGxldCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ0tleV07XHJcbiAgICBpZiAoYnVpbGRpbmcgJiYgYnVpbGRpbmcuY29zdCAmJiBidWlsZGluZy5yYXRpbykge1xyXG4gICAgICAgIGZvciAobGV0IG1hdGVyaWFsIGluIGJ1aWxkaW5nLmNvc3QpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnVpbGRpbmcuYmFzZWNvc3RbbWF0ZXJpYWxdLCBidWlsZGluZy5yYXRpbywgYnVpbGRpbmcuY291bnQpO1xyXG4gICAgICAgICAgICBidWlsZGluZy5jb3N0W21hdGVyaWFsXSA9IE1hdGgucm91bmQoYnVpbGRpbmcuYmFzZWNvc3RbbWF0ZXJpYWxdICogTWF0aC5wb3coYnVpbGRpbmcucmF0aW8sIGJ1aWxkaW5nLmNvdW50KSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaGFzUGVyaygnQXJjaGl0ZWN0JykpIGJ1aWxkaW5nLmNvc3RbbWF0ZXJpYWxdICo9IDAuNzU7IC8vIDI1JSByZWR1Y3Rpb24gZm9yIGFyY2hpdGVjdHNcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIHRvb2x0aXAgY29zdFxyXG4gICAgY29uc3QgbXlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGJ1aWxkaW5nS2V5KTtcclxuICAgIHZhciBuZXdUZXh0ID0gZ2VuZXJhdGVUb29sdGlwQ29zdChidWlsZGluZy5jb3N0KTtcclxuICAgIGlmIChteUJ1dHRvbikge1xyXG4gICAgICAgIG15QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBuZXdUZXh0KTtcclxuICAgICAgICBjb25zdCBlZmZlY3RTdHJpbmcgPSBnZW5lcmF0ZUVmZmVjdFN0cmluZyhidWlsZGluZyk7XHJcbiAgICAgICAgbXlCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZWZmZWN0JywgZWZmZWN0U3RyaW5nKTtcclxuXHJcbiAgICB9XHJcbiAgICBlbHNlIHsgdGhyb3cgXCJCdXR0b24gbm90IGZvdW5kIGZvciBcIiArIGJ1aWxkaW5nS2V5OyB9XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVCdWlsZGluZ1Rvb2x0aXBDb3N0KGNvc3QpIHtcclxuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhjb3N0KS5tYXAoKFttYXRlcmlhbCwgYW1vdW50XSkgPT4gYCR7YW1vdW50LnRvRml4ZWQoMil9ICR7bWF0ZXJpYWx9YCkuam9pbignXFxuJyk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVCdWlsZGluZ0J1dHRvbihidWlsZGluZ0tleSwgYnVpbGRpbmdzKSB7XHJcbiAgICBjb25zdCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ0tleV07XHJcblxyXG4gICAgLy8gYnVpbGRpbmcuY29zdCA9IGJ1aWxkaW5nLmJhc2Vjb3N0O1xyXG4gICAgYnVpbGRpbmcuY29zdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYnVpbGRpbmcuYmFzZWNvc3QpKTtcclxuXHJcbiAgICBjb25zdCBjb3N0cyA9IE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5nLmNvc3QpXHJcbiAgICAgICAgLm1hcCgoW21hdGVyaWFsLCBhbW91bnRdKSA9PiBgJHttYXRlcmlhbH06ICR7YW1vdW50fWApXHJcbiAgICAgICAgLmpvaW4oJywgJyk7XHJcblxyXG4gICAgLy8gY29uc3QgaGFsZkNvc3RSZXF1aXJlbWVudCA9IE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5nLmNvc3QpXHJcbiAgICAvLyAgICAgLm1hcCgoW21hdGVyaWFsLCBhbW91bnRdKSA9PiBgZ2V0TWF0ZXJpYWwoJyR7bWF0ZXJpYWx9LHJlc291cmNlcycpID49ICR7TWF0aC5mbG9vcihhbW91bnQgLyAyKX1gKVxyXG4gICAgLy8gICAgIC5qb2luKCcgJiYgJyk7XHJcblxyXG4gICAgLy8gbGV0IHJlcXVpcmVtZW50U3RyaW5nID0gYHJldHVybiAke2hhbGZDb3N0UmVxdWlyZW1lbnR9YDtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgYnVpbGRpbmcgaGFzIGFuIGVmZmVjdCBvbiBjbG9uZXMgbWF4XHJcbiAgICAvLyBpZiAoYnVpbGRpbmcuZWZmZWN0cyAmJiBidWlsZGluZy5lZmZlY3RzWydjbG9uZXMnXSkge1xyXG4gICAgLy8gICAgIHJlcXVpcmVtZW50U3RyaW5nICs9IGAgJiYgcGFzc2VkU3RhZ2UoJ2Nsb25lcycpYDtcclxuICAgIC8vIH1cclxuICAgIGNvbnN0IHJlcXVpcmVtZW50RnVuY3Rpb24gPSBjcmVhdGVSZXF1aXJlbWVudEZ1bmN0aW9uKGJ1aWxkaW5nLmNvc3QsIGJ1aWxkaW5nKTtcclxuXHJcbiAgICBjb25zdCBidXR0b24gPSB7XHJcbiAgICAgICAgJ2NsYXNzJzogJ3Rvb2x0aXAgJyArIGJ1aWxkaW5nS2V5LFxyXG4gICAgICAgICd0YWInOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgJ3RleHQnOiBgJHtidWlsZGluZ0tleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGJ1aWxkaW5nS2V5LnNsaWNlKDEpfWAsXHJcbiAgICAgICAgJ3Rvb2x0aXBEZXNjJzogYnVpbGRpbmdzW2J1aWxkaW5nS2V5XS50b29sdGlwRGVzYyB8fCBcIkEgbXlzdGVyaW91cyBidWlsZGluZyB3aXRoIHVudG9sZCBiZW5lZml0cy5cIixcclxuICAgICAgICAndG9vbHRpcENvc3QnOiBjb3N0cyxcclxuICAgICAgICAncmVxdWlyZW1lbnQnOiAoKSA9PiByZXF1aXJlbWVudEZ1bmN0aW9uKCksXHJcbiAgICAgICAgJ2RhdGFfYnVpbGRpbmcnOiBidWlsZGluZ0tleSxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGJ1dHRvbjtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUmVxdWlyZW1lbnRGdW5jdGlvbihjb3N0cywgYnVpbGRpbmcpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAocmVzb3VyY2VzKSB7XHJcbiAgICAgICAgY29uc3QgY29zdENvbmRpdGlvbiA9IE9iamVjdC5lbnRyaWVzKGNvc3RzKVxyXG4gICAgICAgICAgICAuZXZlcnkoKFttYXRlcmlhbCwgYW1vdW50XSkgPT4gZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPj0gTWF0aC5mbG9vcihhbW91bnQgLyAyKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNsb25lQ29uZGl0aW9uID0gIWJ1aWxkaW5nLmVmZmVjdHMgfHwgIWJ1aWxkaW5nLmVmZmVjdHNbJ2Nsb25lcyddIHx8IHBhc3NlZFN0YWdlKCdjbG9uZXMnKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNvc3RDb25kaXRpb24gJiYgY2xvbmVDb25kaXRpb247XHJcbiAgICB9O1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmZvciAobGV0IGJ1aWxkaW5nS2V5IGluIGJ1aWxkaW5ncykge1xyXG4gICAgY29uc3QgYnV0dG9uID0gY3JlYXRlQnVpbGRpbmdCdXR0b24oYnVpbGRpbmdLZXksIGJ1aWxkaW5ncyk7XHJcbiAgICBidXR0b25zW2J1aWxkaW5nS2V5XSA9IGJ1dHRvbjtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiTWFkZSBidXR0b24gZm9yIFwiICsgYnVpbGRpbmdLZXkpO1xyXG59XHJcblxyXG5cclxuLy8gY29uc29sZS5sb2coYnV0dG9ucyk7XHJcblxyXG5mdW5jdGlvbiBnZXRCdWlsZGluZ0Nvc3QoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICByZXR1cm4gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV0uY29zdDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgY29uc29sZS5sb2coXCJCdXlpbmcgYnVpbGRpbmcgXCIgKyBidWlsZGluZ05hbWUpO1xyXG4gICAgY29uc3QgYnVpbGRpbmcgPSBidWlsZGluZ3NbYnVpbGRpbmdOYW1lXTtcclxuXHJcblxyXG5cclxuICAgIGlmICghY2FuQnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKSkgcmV0dXJuO1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IHRoZSBjb3N0XHJcbiAgICBmb3IgKGNvbnN0IHJlc291cmNlIGluIGJ1aWxkaW5nLmNvc3QpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlJlZHVjaW5nIFwiLCByZXNvdXJjZSwgXCJieVwiLCBidWlsZGluZy5jb3N0W3Jlc291cmNlXSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coaW5jcmVhc2VNYXRlcmlhbCk7XHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChyZXNvdXJjZSwgLWJ1aWxkaW5nLmNvc3RbcmVzb3VyY2VdKTtcclxuICAgIH1cclxuICAgIC8vIEFkZCB0aGUgZWZmZWN0c1xyXG4gICAgZm9yIChjb25zdCByZXNvdXJjZSBpbiBidWlsZGluZy5lZmZlY3RzKSB7XHJcbiAgICAgICAgaW5jcmVhc2VNYXgocmVzb3VyY2UsIGJ1aWxkaW5nLmVmZmVjdHNbcmVzb3VyY2VdKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEFjdHVhbGx5IGJ1aWxkIHRoZSBidWlsZGluZ1xyXG4gICAgYnVpbGRpbmcuY291bnQrKztcclxuXHJcbiAgICB1cGRhdGVTaWRlYmFyKCk7XHJcblxyXG4gICAgdXBkYXRlVG90YWwoKTtcclxuICAgIC8vIFVwZGF0ZSBidXR0b24gdGV4dFxyXG4gICAgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudChidWlsZGluZ05hbWUsIGJ1aWxkaW5nLmNvdW50KTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIGNvc3Qgb2YgdGhlIGJ1aWxkaW5nXHJcbiAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChidWlsZGluZ05hbWUsIGJ1aWxkaW5ncywgaGFzUGVyayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJ1eU1heEJ1aWxkaW5ncyhidWlsZGluZ05hbWUpIHtcclxuICAgIHdoaWxlIChjYW5CdXlCdWlsZGluZyhidWlsZGluZ05hbWUpKSB7XHJcbiAgICAgICAgYnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudChidWlsZGluZ05hbWUsIGJ1aWxkaW5nQ291bnQpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2J1aWxkaW5nTmFtZX1gKS50ZXh0Q29udGVudCA9IGAke2NhcGl0YWxpemVGaXJzdChidWlsZGluZ05hbWUpLnNwbGl0KCdfJykuam9pbignICcpfSAoJHtidWlsZGluZ0NvdW50fSlgO1xyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuLy8gZnVuY3Rpb24gZG91YmxlU3RvcmFnZUVmZmVjdHNJZlBhc3NlZCgpIHtcclxuLy8gICAgIGlmIChwYXNzZWRTdGFnZShcImRvdWJsZVN0b3JhZ2UxXCIpKSB7XHJcbi8vICAgICAgICAgZm9yIChsZXQgYnVpbGRpbmdLZXkgaW4gYnVpbGRpbmdzKSB7XHJcbi8vICAgICAgICAgICAgIGxldCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ0tleV07XHJcblxyXG4vLyAgICAgICAgICAgICBpZiAoYnVpbGRpbmcuZWZmZWN0cykge1xyXG4vLyAgICAgICAgICAgICAgICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gYnVpbGRpbmcuZWZmZWN0cykge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nLmVmZmVjdHNbbWF0ZXJpYWxdLm1heCAqPSAyO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCxcclxuICAgIGdlbmVyYXRlQnVpbGRpbmdUb29sdGlwQ29zdCxcclxuICAgIGNyZWF0ZUJ1aWxkaW5nQnV0dG9uLFxyXG4gICAgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCxcclxuICAgIGJ1eU1heEJ1aWxkaW5ncyxcclxuICAgIGJ1eUJ1aWxkaW5nXHJcbn07IiwiY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXNcIik7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmZ1bmN0aW9uIGNhbkNyYWZ0KHJlc291cmNlS2V5KSB7XHJcbiAgICBsZXQgY2FuQ3JhZnQgPSB0cnVlO1xyXG4gICAgbGV0IHJlcXVpcmVtZW50cyA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNvc3Q7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgYWxsIHJlcXVpcmVtZW50cyBhcmUgbWV0XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAobGV0IG1hdCBpbiByZXF1aXJlbWVudHMpIHtcclxuICAgICAgICAgICAgaWYgKGdldE1hdGVyaWFsKG1hdCwgcmVzb3VyY2VzKSA8IHJlcXVpcmVtZW50c1ttYXRdKSB7XHJcbiAgICAgICAgICAgICAgICBjYW5DcmFmdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGluIGNhbGN1bGF0aW5nIHJlcXVpcmVtZW50czogJywgcmVzb3VyY2VLZXksIHJlcXVpcmVtZW50cywgZXJyKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2FuQ3JhZnQ7XHJcbn1cclxuZXhwb3J0cy5jYW5DcmFmdCA9IGNhbkNyYWZ0OyIsIi8qKlxyXG4gKiBDYXBpdGFsaXplcyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc3RyaW5nXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgc3RyaW5nRXhhbXBsZVxyXG4gKiBAcmV0dXJucyBTdHJpbmdFeGFtcGxlXHJcbiAqL1xyXG5mdW5jdGlvbiBjYXBpdGFsaXplRmlyc3Qoc3RyKSB7XHJcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xyXG59XHJcbmV4cG9ydHMuY2FwaXRhbGl6ZUZpcnN0ID0gY2FwaXRhbGl6ZUZpcnN0OyIsImNvbnN0IHsgY3JhZnRlZFJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBpbmNyZWFzZU1hdGVyaWFsLCBnZXRNYXRlcmlhbCwgY3JhZnRSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuLy8gQXNzdW1pbmcgdGhlc2UgYXJlIGRlZmluZWQgZ2xvYmFsbHlcclxudmFyIG1hbnVmYWN0dXJlZE1hcCA9IHtcclxuICAgIGNsYXk6IFsnYnJpY2tzJ10sXHJcbiAgICBoZXJiczogWydtZWRpY2luZSddLFxyXG4gICAgaGlkZXM6IFsnbGVhdGhlciddLFxyXG4gICAgaXJvbjogWydzdGVlbCcsICduYWlscyddLFxyXG4gICAgb3JlOiBbJ2lyb24nLCAnc2lsdmVyJywgJ2dvbGQnXSxcclxuICAgIHNhbmQ6IFsnZ2xhc3MnLCAnY29uY3JldGUnXSxcclxuICAgIHJvY2tzOiBbJ3NsYWJzJ10sXHJcbiAgICB2aW5lczogWydyb3BlJ10sXHJcbiAgICB3b29kOiBbJ3BhcGVyJywgJ2JlYW1zJywgJ2NyYXRlcyddLFxyXG59O1xyXG5cclxudmFyIHN3aXRjaGVkTWFudWZhY3R1cmVkTWFwID0ge1xyXG4gICAgJ2JyaWNrcyc6IFsnY2xheSddLFxyXG4gICAgJ21lZGljaW5lJzogWydoZXJicyddLFxyXG4gICAgJ2xlYXRoZXInOiBbJ2hpZGVzJ10sXHJcbiAgICAnc3RlZWwnOiBbJ2lyb24nXSxcclxuICAgICduYWlscyc6IFsnaXJvbiddLFxyXG4gICAgJ2lyb24nOiBbJ29yZSddLFxyXG4gICAgJ3NpbHZlcic6IFsnb3JlJ10sXHJcbiAgICAnZ29sZCc6IFsnb3JlJ10sXHJcbiAgICAnZ2xhc3MnOiBbJ3NhbmQnXSxcclxuICAgICdjb25jcmV0ZSc6IFsnc2FuZCddLFxyXG4gICAgJ3NsYWJzJzogWydyb2NrcyddLFxyXG4gICAgJ3JvcGUnOiBbJ3ZpbmVzJ10sXHJcbiAgICAncGFwZXInOiBbJ3dvb2QnXSxcclxuICAgICdiZWFtcyc6IFsnd29vZCddLFxyXG4gICAgJ2NyYXRlcyc6IFsnd29vZCddXHJcbn07XHJcblxyXG5cclxudmFyIGFsbE1hdGVyaWFscyA9IFtdO1xyXG5PYmplY3Qua2V5cyhyZXNvdXJjZXMpLmZvckVhY2gociA9PiBhbGxNYXRlcmlhbHMucHVzaChyKSk7XHJcbk9iamVjdC5rZXlzKGNyYWZ0ZWRSZXNvdXJjZXMpLmZvckVhY2gociA9PiBhbGxNYXRlcmlhbHMucHVzaChyKSk7XHJcbmNvbnNvbGUubG9nKFwiQWxsIG1hdGVyaWFsczogXCIsIGFsbE1hdGVyaWFscyk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVGYWN0b3J5RGl2KCkge1xyXG4gICAgY29uc3QgZmFjdG9yaWVzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZhY3RvcmllcycpO1xyXG4gICAgY29uc3QgZmFjdG9yeURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgZmFjdG9yeURpdi5jbGFzc05hbWUgPSAnZmFjdG9yeSc7XHJcblxyXG4gICAgY29uc3QgbGVmdFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICBjb25zdCByaWdodFNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG5cclxuICAgIC8vIFBvcHVsYXRlIHRoZSByaWdodCBkcm9wZG93blxyXG4gICAgT2JqZWN0LmtleXMoc3dpdGNoZWRNYW51ZmFjdHVyZWRNYXApLmZvckVhY2gocmVzb3VyY2UgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBvcHRpb24udmFsdWUgPSByZXNvdXJjZTtcclxuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSByZXNvdXJjZTtcclxuICAgICAgICByaWdodFNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG5cclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgcmlnaHRTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNyZXNvdXJjZS0ke3JpZ2h0U2VsZWN0LnZhbHVlfWApLnN0eWxlLmNvbG9yID0gJ3RoaXN0bGUnO1xyXG4gICAgICAgIGxlZnRUZXh0LnRleHRDb250ZW50ID0gc3dpdGNoZWRNYW51ZmFjdHVyZWRNYXBbcmlnaHRTZWxlY3QudmFsdWVdO1xyXG4gICAgICAgIC8vIGxldCBmb3VuZFJlc291cmNlID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBtYW51ZmFjdHVyZWRNYXAgdG8gZmluZCB0aGUgcmlnaHQgcmVzb3VyY2VcclxuICAgICAgICAvLyBmb3IgKGNvbnN0IFtyZXNvdXJjZSwgcHJvZHVjdHNdIG9mIE9iamVjdC5lbnRyaWVzKG1hbnVmYWN0dXJlZE1hcCkpIHtcclxuICAgICAgICAvLyAgICAgaWYgKHByb2R1Y3RzLmluY2x1ZGVzKHJpZ2h0U2VsZWN0LnZhbHVlKSkgeyAvLyBNYWtlIHN1cmUgdG8gdXNlIC52YWx1ZSBmb3IgPHNlbGVjdD4gZWxlbWVudHNcclxuICAgICAgICAvLyAgICAgICAgIGZvdW5kUmVzb3VyY2UgPSByZXNvdXJjZTtcclxuICAgICAgICAvLyAgICAgICAgIGJyZWFrOyAvLyBTdG9wIHRoZSBsb29wIG9uY2UgdGhlIHJlc291cmNlIGlzIGZvdW5kXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIC8vIFVwZGF0ZSB0aGUgbGVmdFRleHQgaWYgdGhlIHJlc291cmNlIHdhcyBmb3VuZFxyXG4gICAgICAgIC8vIGlmIChmb3VuZFJlc291cmNlKSB7XHJcbiAgICAgICAgLy8gICAgIGxlZnRUZXh0LnRleHRDb250ZW50ID0gZm91bmRSZXNvdXJjZTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBZGQgdGhlIGluaXRpYWwgb3B0aW9uIGZvciBsZWZ0IHNlbGVjdFxyXG4gICAgZnVuY3Rpb24gYWRkSW5pdGlhbE9wdGlvbihzZWxlY3RFbGVtZW50LCB0ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIGluaXRpYWxPcHRpb24udmFsdWUgPSAnJztcclxuICAgICAgICBpbml0aWFsT3B0aW9uLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgICAgICBpbml0aWFsT3B0aW9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICBpbml0aWFsT3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICBzZWxlY3RFbGVtZW50LmFwcGVuZENoaWxkKGluaXRpYWxPcHRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgYXJyb3cuaW5uZXJIVE1MID0gJyYjODU5NDsnOyAvLyBSaWdodCBhcnJvdyBIVE1MIGVudGl0eVxyXG5cclxuICAgIGZhY3RvcnlEaXYuYXBwZW5kQ2hpbGQobGVmdFRleHQpO1xyXG4gICAgZmFjdG9yeURpdi5hcHBlbmRDaGlsZChhcnJvdyk7XHJcbiAgICBmYWN0b3J5RGl2LmFwcGVuZENoaWxkKHJpZ2h0U2VsZWN0KTtcclxuXHJcbiAgICBhZGRJbml0aWFsT3B0aW9uKHJpZ2h0U2VsZWN0LCAnU2VsZWN0IGEgUmVzb3VyY2UnKTtcclxuXHJcbiAgICBmYWN0b3JpZXNDb250YWluZXIuYXBwZW5kQ2hpbGQoZmFjdG9yeURpdik7XHJcblxyXG59XHJcblxyXG5cclxubGV0IG1hbnVmYWN0dXJlQnVsayA9IDI7XHJcbmxldCBidWxrVXBncmFkZUNvc3QgPSAzMDtcclxubGV0IG1hbnVmYWN0dXJlQm9udXMgPSAxO1xyXG5mdW5jdGlvbiBtYW51ZmFjdHVyZShyZXNvdXJjZSwgZ29hbFJlc291cmNlKSB7XHJcbiAgICAvLyBDYWxjdWxhdGUgaG93IG1hbnkgd2UgY2FuIGFmZm9yZFxyXG4gICAgbGV0IG51bSA9IE1hdGgubWluKG1hbnVmYWN0dXJlQnVsaywgZ2V0TWF0ZXJpYWwocmVzb3VyY2UpKTtcclxuICAgIG51bSAqPSBtYW51ZmFjdHVyZUJvbnVzO1xyXG4gICAgLy8gVGhlIGZhY3RvcmllcyBnZXQgdG8gYmUgaGFsZiBwcmljZSBvZiBub3JtYWwgY3JhZnRpbmcgYmMgZWZmaWNpZW5jeVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW07ICsraSlcclxuICAgICAgICBjcmFmdFJlc291cmNlKGdvYWxSZXNvdXJjZSk7XHJcbiAgICAvLyBpbmNyZWFzZU1hdGVyaWFsKGdvYWxSZXNvdXJjZSwgbnVtKTtcclxuICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2UsIC1jcmFmdGVkUmVzb3VyY2VzW2dvYWxSZXNvdXJjZV0uY29zdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZ3JhZGVCdWxrKCkge1xyXG4gICAgbWFudWZhY3R1cmVCdWxrICs9IDI7XHJcbiAgICBidWxrVXBncmFkZUNvc3QgKz0gMTA7XHJcblxyXG4gICAgY29uc3QgdXBCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBncmFkZUJ1bGtCdXR0b24nKTtcclxuICAgIHVwQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBgJHttYW51ZmFjdHVyZUJ1bGt9IOKGkiAke21hbnVmYWN0dXJlQnVsayArIDJ9OiAke2J1bGtVcGdyYWRlQ29zdC50b0ZpeGVkKDApfSBzaWx2ZXJgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYXR0ZW1wdE1hbnVmYWN0dXJlKCkge1xyXG4gICAgY29uc3QgZmFjdG9yaWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZhY3RvcnknKTtcclxuICAgIGZhY3Rvcmllcy5mb3JFYWNoKGZhY3RvcnkgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBsZWZ0U2VsZWN0ID0gZmFjdG9yeS5xdWVyeVNlbGVjdG9yKCdzcGFuOmZpcnN0LWNoaWxkJyk7XHJcbiAgICAgICAgY29uc3QgcmlnaHRTZWxlY3QgPSBmYWN0b3J5LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdDpsYXN0LWNoaWxkJyk7XHJcbiAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBsZWZ0U2VsZWN0LnRleHRDb250ZW50O1xyXG4gICAgICAgIGNvbnN0IGdvYWxSZXNvdXJjZSA9IHJpZ2h0U2VsZWN0LnZhbHVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tpbmcgZmFjdG9yeVwiLCByZXNvdXJjZSwgZ29hbFJlc291cmNlKTtcclxuICAgICAgICBpZiAocmVzb3VyY2UgJiYgZ29hbFJlc291cmNlKSB7XHJcbiAgICAgICAgICAgIG1hbnVmYWN0dXJlKHJlc291cmNlLCBnb2FsUmVzb3VyY2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gQ2FsbCB0aGlzIGZ1bmN0aW9uIHdoZW5ldmVyIHlvdSB3YW50IHRvIHN0YXJ0IHRoZSBtYW51ZmFjdHVyaW5nIHByb2Nlc3NcclxuLy8gZm9yIGV4YW1wbGUsIGFmdGVyIGNyZWF0aW5nIHRoZSBmYWN0b3J5IGRpdnMgaW5pdGlhbGx5IG9yIGFmdGVyIGFkZGluZyBhIG5ldyBvbmVcclxuLy8gc3RhcnRNYW51ZmFjdHVyaW5nUHJvY2VzcygpO1xyXG52YXIgbmV3RmFjdG9yeVNpbHZlckNvc3QgPSA1MDtcclxuZnVuY3Rpb24gYnV5RmFjdG9yeSgpIHtcclxuICAgIGNvbnN0IGJ1eUZhY3RvcnlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5RmFjdG9yeUJ1dHRvbicpO1xyXG4gICAgaWYgKGdldE1hdGVyaWFsKCdzaWx2ZXInKSA8IG5ld0ZhY3RvcnlTaWx2ZXJDb3N0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ05vdCBlbm91Z2ggc2lsdmVyIScpOyByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGFzIGVub3VnaCBzaWx2ZXIgdG8gYWZmb3JkIGZhY3RvcnlcclxuICAgIGluY3JlYXNlTWF0ZXJpYWwoJ3NpbHZlcicsIC1uZXdGYWN0b3J5U2lsdmVyQ29zdCk7XHJcbiAgICBjcmVhdGVGYWN0b3J5RGl2KCk7XHJcblxyXG4gICAgbmV3RmFjdG9yeVNpbHZlckNvc3QgKj0gMS4yO1xyXG4gICAgYnV5RmFjdG9yeUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1jb3N0JywgYCR7bmV3RmFjdG9yeVNpbHZlckNvc3QudG9GaXhlZCgyKX0gc2lsdmVyYCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY3JlYXRlRmFjdG9yeURpdixcclxuICAgIGF0dGVtcHRNYW51ZmFjdHVyZSxcclxuICAgIGJ1eUZhY3RvcnksXHJcbiAgICB1cGdyYWRlQnVsayxcclxuICAgIGFsbE1hdGVyaWFsc1xyXG59O1xyXG4iLCIvKipcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG1hdGVyaWFsXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRDcmFmdGVkUmVzb3VyY2UobWF0ZXJpYWwsIGNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuXHJcbiAgICBtYXRlcmlhbCA9IG1hdGVyaWFsLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBpZiAoIWNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICBjcmFmdGVkUmVzb3VyY2VzID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKS5jcmFmdGVkUmVzb3VyY2VzO1xyXG4gICAgICAgIC8vIGNvbnNvbGUud2FybignTWlzc2luZyBjcmFmdGVkUmVzb3VyY2VzIGRlZmluaXRpb24sIGxvYWRpbmcgZGVmYXVsdCcsIGNyYWZ0ZWRSZXNvdXJjZXMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZXMuaGFzT3duUHJvcGVydHkobWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIGNyYWZ0ZWRSZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlIHx8IDA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgY3JhZnRlZCByZXNvdXJjZTpcIiArIG1hdGVyaWFsKTsgLy8gRm9yIGRlYnVnZ2luZ1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZ2V0Q3JhZnRlZFJlc291cmNlID0gZ2V0Q3JhZnRlZFJlc291cmNlO1xyXG4iLCJjb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi9nZXRDcmFmdGVkUmVzb3VyY2UnKTtcclxuLy8gY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5cclxuLy8gR2V0IGZ1bmN0aW9uIGZvciBtYXRlcmlhbHNcclxuLyoqXHJcbiAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIG1hdGVyaWFsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXRlcmlhbFxyXG4gKiBAcmV0dXJucyBWYWx1ZSBvZiBtYXRlcmlhbFxyXG4qL1xyXG5mdW5jdGlvbiBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSB7XHJcbiAgICBpZiAoIXJlc291cmNlcykgcmVzb3VyY2VzID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpLnJlc291cmNlcztcclxuICAgIGlmIChyZXNvdXJjZXMuaGFzT3duUHJvcGVydHkobWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIG1hdGVyaWFsOlwiLCBtYXRlcmlhbCk7ICAvLyBGb3IgZGVidWdnaW5nXHJcbiAgICAgICAgcmV0dXJuIGdldENyYWZ0ZWRSZXNvdXJjZShtYXRlcmlhbCwgbnVsbCk7XHJcblxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZ2V0TWF0ZXJpYWwgPSBnZXRNYXRlcmlhbDsiLCJjb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZSgnLi9qc29uL3NraWxscycpO1xyXG5jb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpO1xyXG5cclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5cclxuXHJcblxyXG5sZXQgYWxsVmlzaWJsZUJ1dHRvbnMgPSBuZXcgU2V0KFsnZ2F0aGVyU3RpY2tzJ10pO1xyXG5leHBvcnRzLmFsbFZpc2libGVCdXR0b25zID0gYWxsVmlzaWJsZUJ1dHRvbnM7XHJcblxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVpbGRpbmdOYW1lIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmZ1bmN0aW9uIGNhbkJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBlbm91Z2ggcmVzb3VyY2VzXHJcbiAgICBsZXQgY2FuQnV5ID0gdHJ1ZTtcclxuICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV07XHJcblxyXG4gICAgZm9yIChjb25zdCByZXNvdXJjZSBpbiBidWlsZGluZy5jb3N0KSB7XHJcbiAgICAgICAgaWYgKGJ1aWxkaW5nLmNvc3RbcmVzb3VyY2VdID4gZ2V0TWF0ZXJpYWwocmVzb3VyY2UsIHJlc291cmNlcykpIHtcclxuICAgICAgICAgICAgY2FuQnV5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnY2FuIHdlIGJ1eSAnLGJ1aWxkaW5nTmFtZSxjYW5CdXkpO1xyXG4gICAgcmV0dXJuIGNhbkJ1eTtcclxufVxyXG4vLyBDYWxjdWxhdGUgdGhlIGZpbmFsIG51bWJlciBvZiBjcmFmdGVkIGdvb2RzIGZyb20gYm9udXNlc1xyXG4vLyBAdHMtaWdub3JlXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gY2FsY0NyYWZ0Qm9udXMocmVzb3VyY2VLZXkpIHtcclxuICAgIHJldHVybiAxO1xyXG59XHJcblxyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBnZXRBZmZlY3RlZFJlc291cmNlcyhza2lsbCkge1xyXG4gICAgaWYgKHNraWxsc1tza2lsbF0pIHtcclxuICAgICAgICByZXR1cm4gc2tpbGxzW3NraWxsXS5hZmZlY3RlZFJlc291cmNlcztcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsOyAgLy8gb3IgYW4gZW1wdHkgYXJyYXkgW10sIGJhc2VkIG9uIHlvdXIgcHJlZmVyZW5jZVxyXG59XHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IG1hdGVyaWFsIFxyXG4gKiBAcmV0dXJucyBNYXggb2YgbWF0ZXJpYWwgb3IgSW5maW5pdHlcclxuICovXHJcbmZ1bmN0aW9uIGdldE1heChtYXRlcmlhbCkge1xyXG4gICAgaWYgKHJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShtYXRlcmlhbCkpIHtcclxuICAgICAgICByZXR1cm4gcmVzb3VyY2VzW21hdGVyaWFsXS5tYXg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBJbmZpbml0eTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJTaWRlYmFyKCkge1xyXG4gICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzb3VyY2VzXCIpO1xyXG4gICAgc2lkZWJhci5pbm5lckhUTUwgPSAnJztcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVNpZGViYXIoKSB7XHJcbiAgICBBcnJheS5mcm9tKHJlcXVpcmUoJy4vZmFjdG9yeScpLmFsbE1hdGVyaWFscykuZm9yRWFjaChyID0+IHJlcXVpcmUoJy4vcmVzb3VyY2VzJykudXBkYXRlRGlzcGxheVZhbHVlKHIpKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtyZXNvdXJjZU5hbWUsIHJlc291cmNlQ29uZmlnXSBvZiBPYmplY3QuZW50cmllcyhyZXNvdXJjZXMpKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzb3VyY2UtJyArIHJlc291cmNlTmFtZSk7XHJcbiAgICAgICAgaWYgKCFwYXJlbnRFbGVtZW50KSByZXR1cm47XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocGFyZW50RWxlbWVudCk7XHJcbiAgICAgICAgdmFyIHNob3VsZEhpZGUgPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGMgaW4gcGFyZW50RWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2hhcyBwYXNzZWQnLCByZXNvdXJjZU5hbWUsIHBhc3NlZFN0YWdlKGMpKTtcclxuICAgICAgICAgICAgaWYgKHJlcXVpcmUoJy4vc3RhZ2VzJykucGFzc2VkU3RhZ2UoYykpIHsgc2hvdWxkSGlkZSA9IGZhbHNlOyBjb25zb2xlLmxvZygnZG9udCBoaWRlJywgcmVzb3VyY2VOYW1lLCBjKTsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVzb3VyY2VDb25maWcudmFsdWUgPiAwKSB7IHNob3VsZEhpZGUgPSBmYWxzZTsgcmVzb3VyY2VzW3Jlc291cmNlTmFtZV0uaXNWaXNpYmxlID0gdHJ1ZTsgfVxyXG4gICAgICAgIGlmIChyZXNvdXJjZUNvbmZpZy5pc1Zpc2libGUpIHsgc2hvdWxkSGlkZSA9IGZhbHNlOyB9XHJcblxyXG4gICAgICAgIGlmIChzaG91bGRIaWRlKSB7XHJcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGlzcGxheUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZXNvdXJjZU5hbWUgKyAnVmFsdWUnKTtcclxuICAgICAgICBpZiAoZGlzcGxheUVsZW0pIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYWJicmV2aWF0ZU51bWJlcihyZXNvdXJjZURhdGEpKTtcclxuICAgICAgICAgICAgdmFyIGNvbG9yID0gJyNmZmYnO1xyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgaWYgKHJlc291cmNlQ29uZmlnLnZhbHVlID09PSBnZXRNYXgocmVzb3VyY2VOYW1lKSkgY29sb3IgPSAnI2ZjYyc7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBlbHNlIGlmIChyZXNvdXJjZUNvbmZpZy52YWx1ZSAvIGdldE1heChyZXNvdXJjZU5hbWUpID4gLjYpIGNvbG9yID0gJyNlZWInO1xyXG5cclxuICAgICAgICAgICAgZGlzcGxheUVsZW0uaW5uZXJIVE1MID0gYDxzcGFuIHN0eWxlPVwiY29sb3I6JHtjb2xvcn1cIj4ke2FiYnJldmlhdGVOdW1iZXIocmVzb3VyY2VDb25maWcudmFsdWUpfSAvICR7YWJicmV2aWF0ZU51bWJlcihnZXRNYXgocmVzb3VyY2VOYW1lKSl9IDwvc3Bhbj5gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFiYnJldmlhdGVOdW1iZXIobnVtKSB7XHJcbiAgICBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIHVuaXQpIHtcclxuICAgICAgICBpZiAodmFsdWUgPCAxMCkgcmV0dXJuIHJvdW5kVG9EZWNpbWFscyh2YWx1ZSwgMykgKyB1bml0O1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDEwMCkgcmV0dXJuIHJvdW5kVG9EZWNpbWFscyh2YWx1ZSwgMikgKyB1bml0O1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDEwMDApIHJldHVybiByb3VuZFRvRGVjaW1hbHModmFsdWUsIDEpICsgdW5pdDtcclxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSkgKyB1bml0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJvdW5kVG9EZWNpbWFscyhudW1iZXIsIGRlY2ltYWxzKSB7XHJcbiAgICAgICAgY29uc3QgZmFjdG9yID0gTWF0aC5wb3coMTAsIGRlY2ltYWxzKTtcclxuICAgICAgICByZXR1cm4gKE1hdGgucm91bmQobnVtYmVyICogZmFjdG9yKSAvIGZhY3RvcikudG9GaXhlZChkZWNpbWFscyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG51bSA8IDFlMykgcmV0dXJuIHJvdW5kVG9EZWNpbWFscyhudW0sIDIpOyAvLyBJZiBsZXNzIHRoYW4gMSwwMDBcclxuICAgIGlmIChudW0gPCAxZTYpIHJldHVybiBmb3JtYXQobnVtIC8gMWUzLCAnSycpOyAvLyBUaG91c2FuZHNcclxuICAgIGlmIChudW0gPCAxZTkpIHJldHVybiBmb3JtYXQobnVtIC8gMWU2LCAnTScpOyAvLyBNaWxsaW9uc1xyXG4gICAgaWYgKG51bSA8IDFlMTIpIHJldHVybiBmb3JtYXQobnVtIC8gMWU5LCAnQicpOyAvLyBCaWxsaW9uc1xyXG4gICAgLy8gQWRkIG1vcmUgY2FzZXMgZm9yIGxhcmdlciBudW1iZXJzIGlmIG5lZWRlZFxyXG4gICAgcmV0dXJuIG51bS50b1N0cmluZygpO1xyXG59XHJcbmNvbnN0IGxldmVsVXBNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsVXBNZXNzYWdlJyk7XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVTa2lsbHMocmVzb3VyY2UsIG51bSkge1xyXG4gICAgbnVtID0gTWF0aC5hYnMobnVtKTtcclxuICAgIGlmIChyZXF1aXJlKCcuL3BvbmRlcicpLmlzUG9uZGVyZWQoJ2Zhc3RlclNraWxscycpKSBudW0gKj0gMS4wNTtcclxuICAgIC8vIFxyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uYWZmZWN0ZWRSZXNvdXJjZXMuaW5jbHVkZXMocmVzb3VyY2UpKSB7XHJcbiAgICAgICAgICAgIC8vIG1heCBsZXZlbCAxMDBcclxuICAgICAgICAgICAgaWYgKHNraWxsc1tza2lsbF0ubGV2ZWwgPj0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICBza2lsbHNbc2tpbGxdLmxldmVsID0gMTAwO1xyXG4gICAgICAgICAgICAgICAgc2tpbGxzW3NraWxsXS5leHAgPSAwO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIHNraWxsc1tza2lsbF0uZXhwICs9IG51bSAvIE1hdGgucG93KDEuNCwgc2tpbGxzW3NraWxsXS5sZXZlbCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgc2tpbGw6XCIgKyBza2lsbCArIFwiIHRvIFwiICsgc2tpbGxzW3NraWxsXS5leHApXHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uZXhwID49IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICBza2lsbHNbc2tpbGxdLmxldmVsICs9IDE7XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIHNraWxsc1tza2lsbF0uZXhwID0gMDtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTGV2ZWwgVXAhIFwiICsgc2tpbGwgKyBza2lsbHNbc2tpbGxdLmxldmVsKTtcclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgbGV2ZWxVcE1lc3NhZ2UudGV4dENvbnRlbnQgPSBgTGV2ZWwgdXAhICR7c2tpbGx9IOKGkiAke3NraWxsc1tza2lsbF0ubGV2ZWx9YDtcclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgbGV2ZWxVcE1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBIaWRlIHRoZSBtZXNzYWdlIGFmdGVyIDMgc2Vjb25kc1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV2ZWxVcE1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgICAgICBsZXZlbFVwTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgIH0sIDMwMDApOyAvLyAzMDAwIG1pbGxpc2Vjb25kcyAoMyBzZWNvbmRzKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlcXVpcmUoJy4vc3RhZ2VzJykucGFzc2VkU3RhZ2UoJ3NraWxsc1RhYmxlJykpIHtcclxuICAgICAgICBwb3B1bGF0ZVNraWxsc1RhYmxlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBoYXNHZW5lcmF0ZWRTa2lsbFRhYmxlID0gZmFsc2U7XHJcblxyXG5mdW5jdGlvbiBwb3B1bGF0ZVNraWxsc1RhYmxlKCkge1xyXG4gICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2tpbGxzVGFibGUnKTtcclxuXHJcbiAgICAvLyBJZiB0aGUgdGFibGUgaXMgZW1wdHksIGNyZWF0ZSB0aGUgcm93cyBhbmQgcHJvZ3Jlc3MgYmFyc1xyXG4gICAgaWYgKCFoYXNHZW5lcmF0ZWRTa2lsbFRhYmxlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHZW5lcmF0aW5nIHRhYmxlIGZvciB0aGUgZmlyc3QgdGltZVwiKTtcclxuICAgICAgICBoYXNHZW5lcmF0ZWRTa2lsbFRhYmxlID0gdHJ1ZTtcclxuICAgICAgICAvLyBcclxuICAgICAgICBmb3IgKGxldCBza2lsbCBpbiBza2lsbHMpIHtcclxuICAgICAgICAgICAgbGV0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgICAgICAgdHIuaWQgPSAndHItJyArIHNraWxsO1xyXG4gICAgICAgICAgICBsZXQgdGRQcm9ncmVzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgICAgIHRkUHJvZ3Jlc3Muc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG5cclxuICAgICAgICAgICAgbGV0IHByb2dyZXNzQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHByb2dyZXNzQmFyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncHJvZ3Jlc3NCYXInKTtcclxuICAgICAgICAgICAgLy8gaWYgKGlzRGFyaykge1xyXG4gICAgICAgICAgICAvLyAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMyMjhCMjInO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM1MEM4NzgnO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIHByb2dyZXNzQmFyLnN0eWxlLmhlaWdodCA9ICcyMHB4JztcclxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc2V0QXR0cmlidXRlKCdkYXRhLXNraWxsJywgc2tpbGwpOyAvLyBBc3NpZ24gYSBkYXRhIGF0dHJpYnV0ZSBmb3IgaWRlbnRpZmljYXRpb25cclxuXHJcbiAgICAgICAgICAgIGxldCBza2lsbFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnRleHRDb250ZW50ID0gJ1snICsgc2tpbGxzW3NraWxsXS5sZXZlbCArICddICAgJyArIHNraWxsO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc2V0QXR0cmlidXRlKCdpZCcsICdsZXZlbC0nICsgc2tpbGwpO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc3R5bGUubGVmdCA9ICcxMHB4JztcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTUwJSknO1xyXG5cclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmV4cCA9PSAwICYmIHNraWxsc1tza2lsbF0ubGV2ZWwgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdHIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ZFByb2dyZXNzLmFwcGVuZENoaWxkKHByb2dyZXNzQmFyKTtcclxuICAgICAgICAgICAgdGRQcm9ncmVzcy5hcHBlbmRDaGlsZChza2lsbFRleHQpO1xyXG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZFByb2dyZXNzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBEaXNwbGF5IGV2ZXJ5dGhpbmcgd2UgY2FuXHJcbiAgICAgICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2tpbGxzW3NraWxsXS5leHAgPiAwIHx8IHNraWxsc1tza2lsbF0ubGV2ZWwgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ci0nICsgc2tpbGwpLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZ3Jlc3NCYXJbZGF0YS1za2lsbD1cIiR7c2tpbGx9XCJdYCk7XHJcbiAgICAgICAgICAgIGlmIChwcm9ncmVzc0Jhcikge1xyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9IHNraWxsc1tza2lsbF0uZXhwICsgJyUnO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNraWxsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGV2ZWwtXCIgKyBza2lsbCk7XHJcbiAgICAgICAgICAgICAgICBza2lsbE5hbWUudGV4dENvbnRlbnQgPSAnWycgKyBza2lsbHNbc2tpbGxdLmxldmVsICsgJ10gICAnICsgc2tpbGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBpc0J1dHRvbklkVmlzaWJsZShpZCkge1xyXG4gICAgcmV0dXJuIGFsbFZpc2libGVCdXR0b25zLmhhcyhpZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFZpc2libGVCdXR0b24oaWQpIHtcclxuICAgIGFsbFZpc2libGVCdXR0b25zLmFkZChpZCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgZ2V0TWF0ZXJpYWwsXHJcbiAgICBnZXRNYXgsXHJcbiAgICB1cGRhdGVTaWRlYmFyLFxyXG4gICAgdXBkYXRlU2tpbGxzLFxyXG4gICAgcG9wdWxhdGVTa2lsbHNUYWJsZSxcclxuICAgIGNhbGNDcmFmdEJvbnVzLFxyXG4gICAgaXNCdXR0b25JZFZpc2libGUsXHJcbiAgICBzZXRWaXNpYmxlQnV0dG9uLFxyXG4gICAgY2FuQnV5QnVpbGRpbmcsXHJcbiAgICBoYXNHZW5lcmF0ZWRTa2lsbFRhYmxlLFxyXG4gICAgY2xlYXJTaWRlYmFyLFxyXG59O1xyXG5cclxuIiwiLyoqXHJcbiAqIEEgbWFwIG9mIGFsbCBqb2JzIHRoYXQgcmVxdWlyZSBhIHBvbmRlciB0byBiZSB1bmxvY2tlZFxyXG4gKlxyXG4gKiBKb2I6IFJlcXVpcmVkUG9uZGVyXHJcbiAqL1xyXG5jb25zdCBqb2JSZXF1aXJlZFBvbmRlcnMgPSB7XHJcbiAgICAndGhpbmtpbmcnOiAndGhpbmtpbmcnLFxyXG4gICAgJ2Zpc2hpbmcnOiAnZmlzaGluZycsXHJcbiAgICAnc21pdGhpbmcnOiAnbm90LXVubG9ja2FibGUnLFxyXG4gICAgJ2Zhcm1pbmcnOiAnYWdyaWN1bHR1cmUnLFxyXG4gICAgJ2NvbWJhdCc6ICdjb21iYXQnLFxyXG4gICAgJ2h1bnRpbmcnOiAnaHVudGluZydcclxufTtcclxuZXhwb3J0cy5qb2JSZXF1aXJlZFBvbmRlcnMgPSBqb2JSZXF1aXJlZFBvbmRlcnM7XHJcbiIsIi8vIEB0cy1ub2NoZWNrXHJcbi8vIERFUEVORFMgT046IHNraWxscy5qcywgcG9uZGVyLmpzXHJcbmNvbnN0IHsgc2tpbGxzIH0gPSByZXF1aXJlKCcuL2pzb24vc2tpbGxzJyk7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcblxyXG5cclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IGlzUG9uZGVyZWQgfSA9IHJlcXVpcmUoXCIuL3BvbmRlclwiKTtcclxuY29uc3QgeyBnZXRNYXggfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcblxyXG4vKiBKT0JTIEZVTkNUSU9OQUxJVFkgKi9cclxuXHJcblxyXG5jb25zdCBqb2JDb3VudHMgPSB7fTtcclxuZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICBqb2JDb3VudHNbc2tpbGxdID0gMDtcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBqb2JzVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYnNUYWInKTtcclxuXHJcbk9iamVjdC5rZXlzKHNraWxscykuZm9yRWFjaChza2lsbCA9PiB7XHJcbiAgICBjb25zdCBqb2JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGpvYkRpdi5jbGFzc0xpc3QuYWRkKCdqb2ItYnV0dG9uJyk7XHJcbiAgICBqb2JEaXYuc2V0QXR0cmlidXRlKCdkYXRhLWpvYicsIHNraWxsKTtcclxuICAgIGpvYkRpdi5pZCA9ICdqb2ItYnV0dG9uLScgKyBza2lsbDtcclxuXHJcbiAgICBjb25zdCBkZWNyZW1lbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRlY3JlbWVudERpdi5jbGFzc0xpc3QuYWRkKCdidG4tZGVjcmVtZW50Jyk7XHJcbiAgICBkZWNyZW1lbnREaXYudGV4dENvbnRlbnQgPSAnLSc7XHJcbiAgICBqb2JEaXYuYXBwZW5kQ2hpbGQoZGVjcmVtZW50RGl2KTtcclxuXHJcbiAgICBjb25zdCBqb2JOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIGpvYk5hbWVTcGFuLmNsYXNzTGlzdC5hZGQoJ2pvYi1uYW1lJyk7XHJcbiAgICBqb2JOYW1lU3Bhbi50ZXh0Q29udGVudCA9IGAke3NraWxsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc2tpbGwuc2xpY2UoMSl9OiAwYDtcclxuICAgIGpvYkRpdi5hcHBlbmRDaGlsZChqb2JOYW1lU3Bhbik7XHJcblxyXG4gICAgY29uc3QgaW5jcmVtZW50RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBpbmNyZW1lbnREaXYuY2xhc3NMaXN0LmFkZCgnYnRuLWluY3JlbWVudCcpO1xyXG4gICAgaW5jcmVtZW50RGl2LnRleHRDb250ZW50ID0gJysnO1xyXG4gICAgam9iRGl2LmFwcGVuZENoaWxkKGluY3JlbWVudERpdik7XHJcblxyXG4gICAgam9ic1RhYi5hcHBlbmRDaGlsZChqb2JEaXYpO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idG4taW5jcmVtZW50JykuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGpvYlR5cGUgPSB0aGlzLmNsb3Nlc3QoJy5qb2ItYnV0dG9uJykuZ2V0QXR0cmlidXRlKCdkYXRhLWpvYicpO1xyXG4gICAgICAgIGlmIChnZXRNYXRlcmlhbCgnY2xvbmVzJywgcmVzb3VyY2VzKSA+IGdldFRvdGFsSm9icygpKSB7XHJcbiAgICAgICAgICAgIGpvYkNvdW50c1tqb2JUeXBlXSsrO1xyXG4gICAgICAgICAgICAvLyBpbmNyZWFzZU1hdGVyaWFsKCdjbG9uZXMnLCAtMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpc3RyaWJ1dGVXb3JrZXJzKGpvYlR5cGUsIGpvYkNvdW50c1tqb2JUeXBlXSk7XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheShqb2JUeXBlKTtcclxuICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHdvcmtlcnNEaXN0cmlidXRpb24pO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ0bi1kZWNyZW1lbnQnKS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3Qgam9iVHlwZSA9IHRoaXMuY2xvc2VzdCgnLmpvYi1idXR0b24nKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJyk7XHJcbiAgICAgICAgaWYgKGpvYkNvdW50c1tqb2JUeXBlXSA+IDApIHtcclxuICAgICAgICAgICAgam9iQ291bnRzW2pvYlR5cGVdLS07XHJcbiAgICAgICAgICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwoJ2Nsb25lcycsIDEpO1xyXG4gICAgICAgICAgICBkaXN0cmlidXRlV29ya2Vycyhqb2JUeXBlLCBqb2JDb3VudHNbam9iVHlwZV0pO1xyXG4gICAgICAgICAgICB1cGRhdGVEaXNwbGF5KGpvYlR5cGUpO1xyXG4gICAgICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTtcclxuXHJcblxyXG5mdW5jdGlvbiBnZXRUb3RhbEpvYnMoKSB7XHJcbiAgICB2YXIgdG90YWwgPSAwO1xyXG4gICAgZm9yIChsZXQgaiBpbiBqb2JDb3VudHMpIHtcclxuICAgICAgICB0b3RhbCArPSBqb2JDb3VudHNbal07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG90YWw7XHJcbn1cclxuXHJcbi8vIEdsb2JhbCBmb3Igd2hpY2ggcmVzb3VyY2UgZWFjaCBjbG9uZSBnYXRoZXJzXHJcbmxldCB3b3JrZXJzRGlzdHJpYnV0aW9uID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiBkaXN0cmlidXRlV29ya2Vycyhza2lsbCwgdG90YWxXb3JrZXJzKSB7XHJcbiAgICBpZiAoIXNraWxsc1tza2lsbF0pIHJldHVybiBudWxsOyAgLy8gUmV0dXJuIG51bGwgaWYgdGhlIHNraWxsIGRvZXNuJ3QgZXhpc3RcclxuXHJcbiAgICBsZXQgYWZmZWN0ZWRSZXNvdXJjZXMgPSBza2lsbHNbc2tpbGxdLmFmZmVjdGVkUmVzb3VyY2VzO1xyXG5cclxuICAgIC8vIEZpbHRlciBhZmZlY3RlZFJlc291cmNlcyB0byBvbmx5IGNvbnRhaW4ga2V5cyB0aGF0IGFyZSBwcmVzZW50IGluIHRoZSByZXNvdXJjZXMgbWFwXHJcbiAgICBhZmZlY3RlZFJlc291cmNlcyA9IGFmZmVjdGVkUmVzb3VyY2VzLmZpbHRlcihyZXNvdXJjZSA9PiByZXNvdXJjZSBpbiByZXNvdXJjZXMpO1xyXG5cclxuICAgIC8vIGxldCBhO1xyXG4gICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBhZmZlY3RlZFJlc291cmNlcy5sZW5ndGg7IGEgPSBhZmZlY3RlZFJlc291cmNlc1tpXSkge1xyXG5cclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhhKTtcclxuICAgIC8vICAgICBpZiAoIXJlc291cmNlc1thXSkge1xyXG5cclxuICAgIC8vICAgICAgICAgY29uc3QgaW5kZXggPSBhZmZlY3RlZFJlc291cmNlcy5pbmRleE9mKGEpO1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhhLCBpbmRleCk7XHJcbiAgICAvLyAgICAgICAgIGxldCB4ID0gYWZmZWN0ZWRSZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICArK2k7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG4gICAgLy8gY29uc29sZS5sb2coYWZmZWN0ZWRSZXNvdXJjZXMpO1xyXG4gICAgbGV0IG51bWJlck9mUmVzb3VyY2VzID0gYWZmZWN0ZWRSZXNvdXJjZXMubGVuZ3RoO1xyXG5cclxuICAgIC8vIEluaXRpYWwgZXZlbiBkaXN0cmlidXRpb25cclxuICAgIGxldCBwZXJSZXNvdXJjZSA9IE1hdGguZmxvb3IodG90YWxXb3JrZXJzIC8gbnVtYmVyT2ZSZXNvdXJjZXMpO1xyXG5cclxuICAgIC8vIEV2ZW5seSBkaXN0cmlidXRlIHdvcmtlcnMgYW1vbmcgdGhlIGFmZmVjdGVkIHJlc291cmNlc1xyXG4gICAgZm9yIChsZXQgcmVzb3VyY2Ugb2YgYWZmZWN0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICB3b3JrZXJzRGlzdHJpYnV0aW9uLnNldChyZXNvdXJjZSwgcGVyUmVzb3VyY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERpc3RyaWJ1dGUgYW55IHJlbWFpbmluZyB3b3JrZXJzIGR1ZSB0byByb3VuZGluZ1xyXG4gICAgbGV0IHJlbWFpbmluZ1dvcmtlcnMgPSB0b3RhbFdvcmtlcnMgLSAocGVyUmVzb3VyY2UgKiBudW1iZXJPZlJlc291cmNlcyk7XHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBvZiBhZmZlY3RlZFJlc291cmNlcykge1xyXG4gICAgICAgIGlmIChyZW1haW5pbmdXb3JrZXJzID4gMCkge1xyXG4gICAgICAgICAgICB3b3JrZXJzRGlzdHJpYnV0aW9uLnNldChyZXNvdXJjZSwgd29ya2Vyc0Rpc3RyaWJ1dGlvbi5nZXQocmVzb3VyY2UpICsgMSk7XHJcbiAgICAgICAgICAgIHJlbWFpbmluZ1dvcmtlcnMtLTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2cod29ya2Vyc0Rpc3RyaWJ1dGlvbik7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRXb3JrZXJzKHJlc291cmNlTmFtZSkge1xyXG4gICAgcmV0dXJuIHdvcmtlcnNEaXN0cmlidXRpb24uZ2V0KHJlc291cmNlTmFtZSk7XHJcbn1cclxuXHJcbi8vIGNvbnN0IGFsbEpvYkJ1dHRvbmJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpvYi1idXR0b24nKTtcclxuZnVuY3Rpb24gdXBkYXRlRGlzcGxheShqb2JUeXBlKSB7XHJcbiAgICBjb25zdCB0aGlzSm9iQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpvYi1idXR0b25bZGF0YS1qb2I9XCIke2pvYlR5cGV9XCJdYCk7XHJcbiAgICBpZiAoIXRoaXNKb2JCdXR0b24pIGNvbnNvbGUud2FybihcIkNvdWxkbid0IGZpbmQgam9iIGJ1dHRvbiBmb3Igam9iOiBcIiwgam9iVHlwZSk7XHJcbiAgICBjb25zdCBqb2JFbGVtZW50ID0gdGhpc0pvYkJ1dHRvbi5xdWVyeVNlbGVjdG9yKGAuam9iLW5hbWVgKTtcclxuICAgIGlmIChqb2JFbGVtZW50KSBqb2JFbGVtZW50LnRleHRDb250ZW50ID0gYCR7am9iVHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGpvYlR5cGUuc2xpY2UoMSl9OiAke2pvYkNvdW50c1tqb2JUeXBlXX1gO1xyXG5cclxuICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykudXBkYXRlRW1vamlEaXNwbGF5KCk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVXBkYXRlIHRvdGFsIGFzc2lnbmVkIGNsb25lcyBjb3VudGVyXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVUb3RhbCgpIHtcclxuICAgIGNvbnN0IHRvdGFsRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqb2JzLXRvdGFsJyk7XHJcbiAgICB0b3RhbEVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkFzc2lnbmVkIENsb25lczogXCIgKyBnZXRUb3RhbEpvYnMoKSArIFwiIC8gXCIgKyBnZXRNYXgoJ2Nsb25lcycpO1xyXG59XHJcblxyXG5cclxubGV0IHN0YXJ0QnV0dG9uID0gbnVsbDtcclxubGV0IGNvbm5lY3Rpb25zID0gbmV3IE1hcCgpOyAgLy8gTWFwIHRvIHN0b3JlIGNvbm5lY3Rpb25zXHJcbmxldCBtYW5hZ2VtZW50ID0geyAnY29ubmVjdGlvbnMnOiBjb25uZWN0aW9ucywgJ21pbnMnOiB7fSwgJ21heGVzJzoge30sICd0cmlnZ2Vycyc6IHt9IH07XHJcbmxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGluZUNhbnZhcycpO1xyXG5cclxuZnVuY3Rpb24gc2V0Q29ubmVjdGlvbnMobmV3Q29ubmVjdGlvbnMpIHtcclxuICAgIGNvbm5lY3Rpb25zID0gbmV3Q29ubmVjdGlvbnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENvbm5lY3Rpb25zKCkge1xyXG4gICAgcmV0dXJuIGNvbm5lY3Rpb25zO1xyXG59XHJcblxyXG4vLyBpZiAoY2FudmFzKSB7XHJcbi8vIEB0cy1pZ25vcmVcclxubGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4vLyBAdHMtaWdub3JlXHJcbmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4vLyBAdHMtaWdub3JlXHJcbmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbi8vIH1cclxuXHJcbi8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qb2ItYnV0dG9uJyk7XHJcblxyXG4vLyAgICAgYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbi8vICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuLy8gICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJy5idG4tZGVjcmVtZW50JykgfHwgZS50YXJnZXQuY2xvc2VzdCgnLmJ0bi1pbmNyZW1lbnQnKSkgcmV0dXJuO1xyXG5cclxuLy8gICAgICAgICAgICAgaWYgKCFpc1BvbmRlcmVkKCdtYW5hZ2VtZW50JykpIHJldHVybjtcclxuXHJcbi8vICAgICAgICAgICAgIGxldCBqb2JCdXR0b24gPSBlLnRhcmdldC5jbG9zZXN0KCcuam9iLWJ1dHRvbicpO1xyXG5cclxuLy8gICAgICAgICAgICAgaWYgKGpvYkJ1dHRvbikge1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKCFzdGFydEJ1dHRvbikge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uID0gam9iQnV0dG9uO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xyXG4vLyAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFydEJ1dHRvbi5pZCAmJiBqb2JCdXR0b24uaWQpIHsgLy8gRW5zdXJlIGJvdGggSURzIGFyZSBhdmFpbGFibGVcclxuLy8gICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5zZXQoc3RhcnRCdXR0b24uaWQsIGpvYkJ1dHRvbi5pZCk7XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgICAgIC8vIERyYXcgYWxsIGNvbm5lY3Rpb25zXHJcbi8vICAgICAgICAgICAgICAgICAgICAgZHJhd0FsbENvbm5lY3Rpb25zKCk7XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc3RhcnRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0Jyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc3RhcnRCdXR0b24gPSBudWxsO1xyXG4vLyAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIElEIGZvciBvbmUgb2YgdGhlIGJ1dHRvbnM6Jywgc3RhcnRCdXR0b24sIGpvYkJ1dHRvbik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDbGlja2VkIGVsZW1lbnQgaXMgbm90IGluc2lkZSBhIGpvYiBidXR0b246JywgZS50YXJnZXQpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfSk7XHJcblxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGUpIHtcclxuLy8gICAgICAgICBpZiAoc3RhcnRCdXR0b24pIHtcclxuLy8gICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gRHJhdyBleGlzdGluZyBjb25uZWN0aW9uc1xyXG4vLyAgICAgICAgICAgICBkcmF3QWxsQ29ubmVjdGlvbnMoKTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIERyYXcgdGhlIGxpbmUgZnJvbSBzdGFydEJ1dHRvbiB0byBjdXJyZW50IG1vdXNlIHBvc2l0aW9uXHJcbi8vICAgICAgICAgICAgIGRyYXdMaW5lKHN0YXJ0QnV0dG9uLCBlLmNsaWVudFgsIGUuY2xpZW50WSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vIH0pO1xyXG5cclxuZnVuY3Rpb24gZHJhd0FsbENvbm5lY3Rpb25zKCkge1xyXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgdHJ5IHtcclxuXHJcblxyXG4gICAgICAgIGZvciAobGV0IFtvbGRJZCwgbmV3SWRdIG9mIGNvbm5lY3Rpb25zLmVudHJpZXMoKSkge1xyXG4gICAgICAgICAgICBsZXQgb2xkQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2xkSWQpO1xyXG4gICAgICAgICAgICBsZXQgbmV3QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobmV3SWQpO1xyXG4gICAgICAgICAgICBsZXQgcmVjdCA9IG5ld0J1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgbGV0IG5ld1ggPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMjtcclxuICAgICAgICAgICAgbGV0IG5ld1kgPSAwO1xyXG4gICAgICAgICAgICBpZiAocmVjdC5ib3R0b20gPiBvbGRCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKSBuZXdZID0gbmV3QnV0dG9uLm9mZnNldFRvcCAtIDEwO1xyXG4gICAgICAgICAgICBlbHNlIG5ld1kgPSBuZXdCdXR0b24ub2Zmc2V0VG9wICsgbmV3QnV0dG9uLm9mZnNldEhlaWdodCArIDEwO1xyXG4gICAgICAgICAgICBkcmF3TGluZShvbGRCdXR0b24sIG5ld1gsIG5ld1kpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBjb25zb2xlLndhcm4oJ2RyYXdBbGxDb25uZWN0aW9ucycsIGVycm9yKTsgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3QXJyb3doZWFkKGNvbnRleHQsIGZyb21YLCBmcm9tWSwgdG9YLCB0b1ksIHJhZGl1cykge1xyXG4gICAgbGV0IHhfY2VudGVyID0gdG9YO1xyXG4gICAgbGV0IHlfY2VudGVyID0gdG9ZO1xyXG5cclxuICAgIGxldCBhbmdsZTtcclxuICAgIGxldCB4O1xyXG4gICAgbGV0IHk7XHJcblxyXG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICBhbmdsZSA9IE1hdGguYXRhbjIodG9ZIC0gZnJvbVksIHRvWCAtIGZyb21YKTtcclxuICAgIHggPSByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSkgKyB4X2NlbnRlcjtcclxuICAgIHkgPSByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkgKyB5X2NlbnRlcjtcclxuXHJcbiAgICBjb250ZXh0Lm1vdmVUbyh4LCB5KTtcclxuXHJcbiAgICBhbmdsZSArPSAoMSAvIDMpICogKDIgKiBNYXRoLlBJKTtcclxuICAgIHggPSByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSkgKyB4X2NlbnRlcjtcclxuICAgIHkgPSByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkgKyB5X2NlbnRlcjtcclxuXHJcbiAgICBjb250ZXh0LmxpbmVUbyh4LCB5KTtcclxuXHJcbiAgICBhbmdsZSArPSAoMSAvIDMpICogKDIgKiBNYXRoLlBJKTtcclxuICAgIHggPSByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSkgKyB4X2NlbnRlcjtcclxuICAgIHkgPSByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkgKyB5X2NlbnRlcjtcclxuXHJcbiAgICBjb250ZXh0LmxpbmVUbyh4LCB5KTtcclxuXHJcbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xyXG5cclxuICAgIGNvbnRleHQuZmlsbCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3TGluZShzdGFydEVsZW1lbnQsIGVuZFgsIGVuZFkpIHtcclxuICAgIGxldCByZWN0ID0gc3RhcnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgLy8gbGV0IG9mZnNldCA9IE1hdGgucmFuZG9tKCkgKiAxMDAgKyAxMDBcclxuICAgIGxldCBzdGFydFggPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMjsgLy8gLSBvZmZzZXQ7XHJcbiAgICAvLyBlbmRYIC09IG9mZnNldDtcclxuICAgIGxldCBzdGFydFkgPSBzY3JvbGxZICsgcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDI7XHJcblxyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4Lm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7XHJcbiAgICBjdHgubGluZVRvKGVuZFgsIGVuZFkpO1xyXG4gICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgIC8vIERyYXcgYXJyb3cgYXQgdGhlIGVuZCBvZiB0aGUgbGluZVxyXG4gICAgZHJhd0Fycm93aGVhZChjdHgsIHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZLCAxMCk7ICAvLyBhZGp1c3QgdGhlIGxhc3QgcGFyYW1ldGVyIGZvciBhcnJvdyBzaXplXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFySm9iQXNzaWdubWVudHMoKSB7XHJcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICBjb25uZWN0aW9ucyA9IG5ldyBNYXAoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVhc3NpZ25Kb2JzQmFzZWRPblJlc291cmNlcygpIHtcclxuICAgIC8vIEZvciBlYWNoIGNvbm5lY3Rpb25cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZW50cmllcyA9IGNvbm5lY3Rpb25zLmVudHJpZXMoKTtcclxuICAgICAgICBpZiAoZW50cmllcyA9PT0gdW5kZWZpbmVkKSB0aHJvdyAnRW50cmllcyBpcyB1bmRlZmluZWQnO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBbb2xkSm9iSWQsIG5ld0pvYklkXSBvZiBlbnRyaWVzKSB7XHJcbiAgICAgICAgICAgIGxldCBvbGRKb2JCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvbGRKb2JJZCk7XHJcbiAgICAgICAgICAgIGxldCBkYXRhSm9iID0gb2xkSm9iQnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS1qb2InKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG9sZElkID0gb2xkSm9iSWQucmVwbGFjZSgnam9iLWJ1dHRvbi0nLCAnJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0lkID0gbmV3Sm9iSWQucmVwbGFjZSgnam9iLWJ1dHRvbi0nLCAnJyk7XHJcbiAgICAgICAgICAgIGxldCBtYXhlZE91dCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBsZXQgcmVzb3VyY2VBcnJheSA9IHNraWxsc1tkYXRhSm9iXS5hZmZlY3RlZFJlc291cmNlcztcclxuICAgICAgICAgICAgaWYgKCFyZXNvdXJjZUFycmF5KSByZXR1cm47XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc291cmNlQXJyYXkpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2YgcmVzb3VyY2VBcnJheSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1tyXSAhPT0gdW5kZWZpbmVkICYmIGdldE1hdGVyaWFsKHIpIDwgcmVzb3VyY2VzW3JdLm1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHIsIGdldE1hdGVyaWFsKHIpLCByZXNvdXJjZXNbcl0ubWF4KTtcclxuICAgICAgICAgICAgICAgICAgICBtYXhlZE91dCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobWF4ZWRPdXQgJiYgam9iQ291bnRzW2RhdGFKb2JdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoSm9iKG9sZElkLCBuZXdJZCk7XHJcbiAgICAgICAgICAgICAgICBkaXN0cmlidXRlV29ya2VycyhvbGRJZCwgam9iQ291bnRzW29sZElkXSk7XHJcbiAgICAgICAgICAgICAgICBkaXN0cmlidXRlV29ya2VycyhuZXdJZCwgam9iQ291bnRzW25ld0lkXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGlmIChyZXNvdXJjZXNbYWZmZWN0ZWRSZXNvdXJjZV0uY3VycmVudFZhbHVlID49IHJlc291cmNlc1thZmZlY3RlZFJlc291cmNlXS5tYXhWYWx1ZSkge1xyXG4gICAgICAgICAgICAvLyAgICAgc3dpdGNoSm9iKG9sZEpvYklkLCBuZXdKb2JJZCk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikgeyBjb25zb2xlLndhcm4oJ3JlYXNzaWduSm9icycsIGVycm9yKTsgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gc3dpdGNoSm9iKG9sZEpvYklkLCBuZXdKb2JJZCkge1xyXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBzd2l0Y2hlcyB3b3JrZXJzIGZyb20gb2xkSm9iIHRvIG5ld0pvYi5cclxuICAgIC8vIERlcGVuZGluZyBvbiB5b3VyIGFwcGxpY2F0aW9uIHN0cnVjdHVyZSwgeW91IGNhbiBpbXBsZW1lbnQgdGhpcyBmdW5jdGlvbiBhY2NvcmRpbmdseS5cclxuICAgIC8vIEZvciBleGFtcGxlLCByZWR1Y2UgdGhlIGNvdW50IG9mIHdvcmtlcnMgaW4gb2xkSm9iIGFuZCBpbmNyZWFzZSBpbiBuZXdKb2IuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhgU3dpdGNoaW5nIHdvcmtlcnMgZnJvbSAke29sZEpvYklkfSB0byAke25ld0pvYklkfWApO1xyXG5cclxuICAgIGxldCB3b3JrZXJzID0gam9iQ291bnRzW29sZEpvYklkXTtcclxuICAgIGpvYkNvdW50c1tvbGRKb2JJZF0gPSAwO1xyXG4gICAgam9iQ291bnRzW25ld0pvYklkXSArPSB3b3JrZXJzO1xyXG4gICAgdXBkYXRlRGlzcGxheShvbGRKb2JJZCk7XHJcbiAgICB1cGRhdGVEaXNwbGF5KG5ld0pvYklkKTtcclxufVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY2xlYXJKb2JBc3NpZ25tZW50cyxcclxuICAgIHJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMsXHJcbiAgICBzd2l0Y2hKb2IsXHJcbiAgICBkcmF3QWxsQ29ubmVjdGlvbnMsXHJcbiAgICBnZXRXb3JrZXJzLFxyXG4gICAgdXBkYXRlVG90YWwsXHJcbiAgICBzZXRDb25uZWN0aW9ucyxcclxuICAgIGdldENvbm5lY3Rpb25zLFxyXG4gICAgZGlzdHJpYnV0ZVdvcmtlcnMsXHJcbiAgICB1cGRhdGVEaXNwbGF5LFxyXG4gICAgam9iQ291bnRzXHJcbn07IiwiY29uc3QgYnVpbGRpbmdzID0ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSE9VU0lOR1xyXG4gICAgICovXHJcbiAgICBcInNoZWx0ZXJcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjogeyBcInN0aWNrc1wiOiAzMCB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwiY2xvbmVzXCI6IDEgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGb3Igd2hlbiB5b3UgbmVlZCBhIGhvbWUgYXdheSBmcm9tIGhvbWUuXCJcclxuICAgIH0sXHJcbiAgICAnaHV0Jzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7ICdzdGlja3MnOiA1MCwgJ3ZpbmVzJzogMzAgfSxcclxuICAgICAgICAnZWZmZWN0cyc6IHsgJ2Nsb25lcyc6IDEgfSxcclxuICAgICAgICBib29zdDoge30sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0EgY296eSwgaWR5bGxpYyBjaHVuayBvZiB3b29kLidcclxuICAgIH0sXHJcbiAgICBcImhvdXNlXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHsgXCJ3b29kXCI6IDUwLCBcInJvY2tzXCI6IDIwLCAnZmlzaCc6IDEwIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJjbG9uZXNcIjogMiB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS40LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkV2ZXJ5IGNsb25lJ3MgZHJlYW0uIE1pbnVzIHRoZSB3aGl0ZSBwaWNrZXQgZmVuY2UuXCJcclxuICAgIH0sXHJcbiAgICAndGVlcGVlJzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7ICd3b29kJzogMTAsICdoaWRlcyc6IDI1LCAnZmlzaCc6IDE1IH0sXHJcbiAgICAgICAgZWZmZWN0czogeyAnY2xvbmVzJzogMiB9LFxyXG4gICAgICAgIGJvb3N0OiB7fSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS41LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIldyYXAgc29tZSBoaWRlcyBhcm91bmQgc29tZSB3b29kIGFuZCBjYWxsIGl0IGEgaG9tZS5cIlxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNUT1JBR0VcclxuICAgICAqL1xyXG4gICAgXCJzaGVkXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHsgXCJ3b29kXCI6IDQwIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJ3b29kXCI6IDUwLCBcInN0aWNrc1wiOiA1MCwgXCJyb2Nrc1wiOiAyMCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4xLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlRoZSB1bHRpbWF0ZSBzdG9yYWdlIHNvbHV0aW9uIGZvciB0aGUgcGFjayByYXQgaW4geW91LlwiXHJcbiAgICB9LFxyXG4gICAgJ3N0b2NrcGlsZSc6IHtcclxuICAgICAgICBiYXNlY29zdDogeyByb2NrczogMzAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7IHdvb2Q6IDEwMCB9LFxyXG4gICAgICAgIHJhdGlvOiAxLjEsXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkNodWNrIGEgYnVuY2ggb2YgbG9ncyBpbiBhIHBpbGUsIHdoYXQgY291bGQgaGFwcGVuP1wiXHJcbiAgICB9LFxyXG4gICAgXCJkcnlpbmdfcmFja3NcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjogeyBcInN0aWNrc1wiOiAzMCwgXCJmaXNoXCI6IDUgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyBcImZpc2hcIjogMjAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBaXIgZHJ5aW5nOiBOYXR1cmUncyB3YXkgb2YgcHJlc2VydmluZyBmb29kLlwiXHJcbiAgICB9LFxyXG4gICAgXCJ3b3Jrc2hvcFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwid29vZFwiOiA0MCwgXCJzdGlja3NcIjogMjAsIFwicm9ja3NcIjogMTAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyAncm9ja3MnOiA1MCwgJ29yZSc6IDUwLCAnc2FuZCc6IDEwMCwgJ2NsYXknOiA1MCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkRJWSdzIGRyZWFtIGRlc3RpbmF0aW9uLlwiXHJcbiAgICB9LFxyXG4gICAgJ2Jhcm4nOiB7XHJcbiAgICAgICAgJ2Jhc2Vjb3N0JzogeyAnd29vZCc6IDMwLCAnd2hlYXQnOiA1IH0sXHJcbiAgICAgICAgJ2VmZmVjdHMnOiB7ICd3aGVhdCc6IDEwMCwgJ2JlcnJpZXMnOiA0MCwgJ3ZpbmVzJzogNDAgfSxcclxuICAgICAgICAnYm9vc3QnOiB7fSxcclxuICAgICAgICAnY291bnQnOiAwLFxyXG4gICAgICAgICdyYXRpbyc6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJIYXksIHdoYXQncyBpbiB0aGF0IGJ1aWxkaW5nP1wiXHJcbiAgICB9LFxyXG4gICAgJ2hlcmJhbGlzdF9odXQnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgJ3N0aWNrcyc6IDUwLCAndmluZXMnOiA1MCwgJ2hlcmJzJzogNTAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICdoZXJicyc6IDEwMCwgJ3ZpbmVzJzogMTAwIH0sXHJcbiAgICAgICAgYm9vc3Q6IHsgJ2hlcmJzJzogMS4yLCB2aW5lczogMS4xIH0sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIHBsYWNlIGZvciBicmV3aW5nIGFuZCBzdGV3aW5nLlwiXHJcbiAgICB9LFxyXG4gICAgXCJiYWtlcnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogODAsXHJcbiAgICAgICAgICAgIFwid2hlYXRcIjogMTAwLFxyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDQwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyAnd2hlYXQnOiAyMDAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMjUsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkZyZXNobHkgYmFrZWQgYnJlYWQsIGhvdCBhbmQgcmVhZHkuXCJcclxuICAgIH0sXHJcbiAgICBcImFuaW1hbF9wZW5cIjoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7XHJcbiAgICAgICAgICAgIHN0aWNrczogNTAsXHJcbiAgICAgICAgICAgIGdhbWU6IDIwLFxyXG4gICAgICAgICAgICBmaXNoOiAyNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWZmZWN0czogeyAnZ2FtZSc6IDEwMCwgJ2hpZGVzJzogMzAgfSxcclxuICAgICAgICBib29zdDoge30sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIHBsYWNlIHRvIHB1dCB0aG9zZSBsZXNzZXIgdGhhbiB5b3UuXCJcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUFJPRFVDVElPTiBCT09TVFxyXG4gICAgICovXHJcbiAgICBcImdyb3ZlXCI6IHtcclxuICAgICAgICBiYXNlY29zdDogeyAnd29vZCc6IDIwLCAndmluZXMnOiAyMCB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHt9LFxyXG4gICAgICAgIGJvb3N0OiB7ICd3b29kJzogMS4wNSwgJ3N0aWNrcyc6IDEuMSB9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQSBuaWNlIGdyb3ZlIG9mIHRyZWVzIHRvIGZpbmQgd29vZCBmYXN0ZXIuXCJcclxuICAgIH0sXHJcbiAgICBcImZpc2hfdHJhcHNcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvcGVcIjogNDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJmaXNoXCI6IDEuMDVcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGaXNoaW5nIG1hZGUgZWFzeS4gTm8gcGF0aWVuY2UgcmVxdWlyZWQuXCJcclxuICAgIH0sXHJcbiAgICBcIm1pbmVcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDMwLFxyXG4gICAgICAgICAgICBcIndvb2RcIjogMzBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJvcmVcIjogMS4wNSwgJ3JvY2tzJzogMS4wNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkRpZyBkZWVwIGFuZCBmaW5kIHlvdXIgaW5uZXIgb3JlLlwiXHJcbiAgICB9LFxyXG4gICAgXCJjYW1wZmlyZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogMjAsXHJcbiAgICAgICAgICAgIFwic3RpY2tzXCI6IDIwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7ICdhbGwnOiAxLjA1IH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS41LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIldoZXJlIHN0b3JpZXMgYXJlIHRvbGQgYW5kIG1hcnNobWFsbG93cyBhcmUgdG9hc3RlZC5cIlxyXG4gICAgfSxcclxuICAgIFwibHVtYmVyX3lhcmRcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMjAwLFxyXG4gICAgICAgICAgICBcImlyb25cIjogMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMS4yXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV29vZCB5b3UgbGlrZSBzb21lIG1vcmUgd29vZD9cIlxyXG4gICAgfSxcclxuICAgIFwic3RvbmVfcXVhcnJ5XCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiA1MCxcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDIwLFxyXG4gICAgICAgICAgICBcInJvcGVcIjogMzBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJSb2NrIG9uIHdpdGggeW91ciBiYWQgc2VsZiFcIlxyXG4gICAgfSxcclxuICAgIFwiZmlzaGVyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiA0MCxcclxuICAgICAgICAgICAgXCJyb3BlXCI6IDE1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiZmlzaFwiOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGaXNoIGFyZSBmcmllbmRzLiBBbmQgZm9vZC5cIlxyXG4gICAgfSxcclxuICAgIFwidmluZXlhcmRcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMjAsXHJcbiAgICAgICAgICAgIFwidmluZXNcIjogNTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ2aW5lc1wiOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGb3IgdGhlIGZpbmVzdCB2aW5lcy4gV2hhdCBlbHNlIHdvdWxkIGl0IGdyb3c/XCJcclxuICAgIH0sXHJcbiAgICBcImZvcmdlXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiA0MCxcclxuICAgICAgICAgICAgXCJvcmVcIjogMjAsXHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxMDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJvcmVcIjogMS4yXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiTWVsdCwgbW9sZCwgYW5kIG1ha2UgbWFydmVsb3VzIG1ldGFscy5cIlxyXG4gICAgfSxcclxuICAgICd3YXRlcl93ZWxsJzoge1xyXG4gICAgICAgICdiYXNlY29zdCc6IHtcclxuICAgICAgICAgICAgJ3JvY2tzJzogMzAsXHJcbiAgICAgICAgICAgICdyb3BlJzogMSxcclxuICAgICAgICAgICAgJ3dvb2QnOiAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2VmZmVjdHMnOiB7ICdmcmVzaHdhdGVyJzogMzAgfSxcclxuICAgICAgICAnYm9vc3QnOiB7XHJcbiAgICAgICAgICAgICdmcmVzaHdhdGVyJzogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnY291bnQnOiAwLFxyXG4gICAgICAgICdyYXRpbyc6IDEuNCxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGcmVzaCB3YXRlciBvbiBkZW1hbmQhXCJcclxuICAgIH0sXHJcbiAgICAndG93ZXInOiB7XHJcbiAgICAgICAgJ2Jhc2Vjb3N0Jzoge1xyXG4gICAgICAgICAgICAnYnJpY2tzJzogMjAsXHJcbiAgICAgICAgICAgICdyb2Nrcyc6IDEwLFxyXG4gICAgICAgICAgICAnd29vZCc6IDMwXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnZWZmZWN0cyc6IHt9LFxyXG4gICAgICAgICdib29zdCc6IHsgJ2hpZGVzJzogMS4wNSwgJ2dhbWUnOiAxLjEgfSxcclxuICAgICAgICAnY291bnQnOiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiU2VlIHRoaW5ncyBmcm9tIGFmYXIuXCJcclxuICAgIH0sXHJcbiAgICBcInRhbm5lcnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogNjAsXHJcbiAgICAgICAgICAgIFwiaGlkZXNcIjogNDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7ICdoaWRlcyc6IDUwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiaGlkZXNcIjogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIlRyZWF0IGhpZGVzIHRvIG1ha2UgcXVhbGl0eSBsZWF0aGVyLlwiXHJcbiAgICB9LFxyXG4gICAgXCJtYXJrZXRwbGFjZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxMDAsXHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNTAsXHJcbiAgICAgICAgICAgIFwiYmVycmllc1wiOiA0MCxcclxuICAgICAgICAgICAgXCJnb2xkXCI6IDFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJiZXJyaWVzXCI6IDEuMixcclxuICAgICAgICAgICAgXCJoZXJic1wiOiAxLjIsXHJcbiAgICAgICAgICAgICdvcmUnOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMjUsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkEgYnVzdGxpbmcgaHViIG9mIHRyYWRlIGFuZCBiYXJ0ZXIuXCJcclxuICAgIH0sXHJcbiAgICBcIndpbmRtaWxsXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDEwMCxcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiA2MCxcclxuICAgICAgICAgICAgXCJ3aGVhdFwiOiA1MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcIndoZWF0XCI6IDEuMlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIFwidG9vbHRpcERlc2NcIjogXCJHcmluZCBncmFpbnMgZWZmaWNpZW50bHkgd2l0aCB3aW5kIHBvd2VyLlwiXHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQT05ERVJcclxuICAgICAqL1xyXG4gICAgJ3RlbGVzY29wZSc6IHtcclxuICAgICAgICBiYXNlY29zdDoge1xyXG4gICAgICAgICAgICBnbGFzczogMSxcclxuICAgICAgICAgICAgd29vZDogMTAsXHJcbiAgICAgICAgICAgIHBvbmRlcjogMTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHt9LFxyXG4gICAgICAgIGJvb3N0OiB7IHBvbmRlcjogMS4wNSB9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiTG9vaywgdXAgaW4gdGhlIHNreSEgSXQncyBhIHN0YXIhXCJcclxuICAgIH0sXHJcbiAgICBcIm9ic2VydmF0b3J5XCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJicmlja3NcIjogNzAsXHJcbiAgICAgICAgICAgIFwid29vZFwiOiAzMCxcclxuICAgICAgICAgICAgXCJnbGFzc1wiOiA1MCxcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogNTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogMS4yXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiU3RhcmdhemluZyBoYXMgbmV2ZXIgYmVlbiBzby4uLiBwcm9kdWN0aXZlP1wiXHJcbiAgICB9LFxyXG4gICAgXCJsaWJyYXJ5XCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDcwLFxyXG4gICAgICAgICAgICBcInBhcGVyXCI6IDI1LFxyXG4gICAgICAgICAgICBcImdsYXNzXCI6IDUsXHJcbiAgICAgICAgICAgIFwicG9uZGVyXCI6IDI1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyBcInBvbmRlclwiOiA1MCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcInBvbmRlclwiOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJLbm93bGVkZ2UgaXMgcG93ZXIuIEFuZCBhIGZpcmUgaGF6YXJkIGlmIG5vdCBzdG9yZWQgcHJvcGVybHkuXCJcclxuICAgIH0sXHJcbiAgICBcImRlc2tcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMTUsXHJcbiAgICAgICAgICAgIFwic3RpY2tzXCI6IDIwLFxyXG4gICAgICAgICAgICBcInBvbmRlclwiOiAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJwb25kZXJcIjogMzAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHsgXCJwb25kZXJcIjogMS4wNSB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIHdyaXRlcidzIGJsb2NrIGlzIG5vIG1hdGNoIGZvciBhcm1vci1waWVyY2luZyBwZW5jaWxzIVwiXHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBnZXRCdWlsZGluZ0NvdW50KGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgcmV0dXJuIGJ1aWxkaW5nc1tidWlsZGluZ05hbWVdLmNvdW50O1xyXG59XHJcbmZ1bmN0aW9uIGdldEJvb3N0KGJ1aWxkaW5nTmFtZSwgcmVzb3VyY2UpIHtcclxuICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV07XHJcblxyXG4gICAgaWYgKGJ1aWxkaW5nICYmIGJ1aWxkaW5nLmJvb3N0KSB7XHJcbiAgICAgICAgaWYgKGJ1aWxkaW5nLmJvb3N0W3Jlc291cmNlXSkgcmV0dXJuIGJ1aWxkaW5nLmJvb3N0W3Jlc291cmNlXTtcclxuICAgICAgICBpZiAoYnVpbGRpbmcuYm9vc3RbJ2FsbCddKSByZXR1cm4gYnVpbGRpbmcuYm9vc3RbJ2FsbCddO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGJ1aWxkaW5nczogYnVpbGRpbmdzLFxyXG4gICAgZ2V0QnVpbGRpbmdDb3VudCxcclxuICAgIGdldEJvb3N0XHJcbn07IiwiY29uc3QgeyBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZSgnLi4vc3RhZ2VzJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4uL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgaGFzVG9vbCB9ID0gcmVxdWlyZSgnLi4vdG9vbHMnKTtcclxuY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJyk7XHJcblxyXG4vKiBCVVRUT05TICovXHJcbmNvbnN0IGJ1dHRvbnMgPSB7XHJcblxyXG4gICAgLyogUFJPRFVDVElPTiBUQUIgKi9cclxuICAgICdnYXRoZXJTdGlja3MnOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwIHN0YXJ0VmlzaWJsZScsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogJ/CTgJ0gR2F0aGVyIFN0aWNrcycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdGaXZlLCBTaXgsIFBpY2sgdXAgc3RpY2tzLicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdGcmVlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZSAvLyBUaGlzIGJ1dHRvbiBpcyBhbHdheXMgdmlzaWJsZVxyXG4gICAgfSxcclxuICAgICdnYXRoZXJWaW5lcyc6IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgc3RpY2snLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6ICfwk42vIEdhdGhlciBWaW5lcycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdTb21lIHZpbmVzIGFyZSBydWJiZXJ5LCBvdGhlcnMgYXJlIGd1bW15LicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdGcmVlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gZ2V0TWF0ZXJpYWwoJ3N0aWNrcycsIHJlc291cmNlcykgPj0gMTAgfHwgcGFzc2VkU3RhZ2UoJ3ZpbmVzJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnZ2F0aGVyUm9ja3MnOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwIHN0aWNrJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiAn8JOKlvCTgKkgR2F0aGVyIFJvY2tzJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ05vdCBhIHNpbmdsZSB3aW5kb3cgdG8gdGhyb3cgdGhlbSB0aHJvdWdoLicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdGcmVlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gZ2V0TWF0ZXJpYWwoJ3ZpbmVzJywgcmVzb3VyY2VzKSA+PSAxMCB8fCBwYXNzZWRTdGFnZSgncm9ja3MnKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdnYXRoZXJGaXNoJzoge1xyXG4gICAgICAgIGNsYXNzOiAndG9vbHRpcCBmaXNoaW5nJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiAn8JOGnSDwk4afIPCThp4gR28gRmlzaCcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdHb3QgYW55IHR1bmE/JyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0ZyZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBoYXNUb29sKCdTcGVhcicpIHx8IGhhc1Rvb2woXCJGaXNoaW5nIFJvZFwiKSB8fCBwYXNzZWRTdGFnZSgnZmlzaGluZycpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlcldvb2QnOiB7XHJcbiAgICAgICAgY2xhc3M6ICd3b29kVG9nZ2xlIHdvb2QnLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6ICfwk4yPIENob3AgV29vZCcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdBbiBheGUgaHVydHMgd2F5IGxlc3MgdGhhbiB1c2luZyB5b3VyIGhhbmRzLicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBoYXNUb29sKCdBeGUnKSB8fCBwYXNzZWRTdGFnZSgnd29vZCcpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlck9yZSc6IHtcclxuICAgICAgICBcImNsYXNzXCI6IFwidG9vbHRpcCBcIixcclxuICAgICAgICBcInRhYlwiOiBcInByb2R1Y3Rpb25cIixcclxuICAgICAgICBcInRleHRcIjogXCLwk4m4IE1pbmUgT3JlXCIsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkRpZ2d5IERpZ2d5IEhvbGVcIixcclxuICAgICAgICBcInRvb2x0aXBDb3N0XCI6IFwiRnJlZVwiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBoYXNUb29sKCdQaWNrYXhlJykgfHwgcGFzc2VkU3RhZ2UoJ29yZScpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgLyogVEFCUyAqL1xyXG4gICAgJ3Byb2R1Y3Rpb25UYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnUHJvZHVjdGlvbicsXHJcbiAgICAgICAgc2hvd1RhYjogJ3Byb2R1Y3Rpb25UYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgndGFiLWJ1dHRvbicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2V4cGVyaW1lbnRUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnRXhwZXJpbWVudCcsXHJcbiAgICAgICAgc2hvd1RhYjogJ2V4cGVyaW1lbnRUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgndGFiLWJ1dHRvbicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ3BvbmRlclRhYkJ1dHRvbic6IHtcclxuICAgICAgICBjbGFzczogJ3RhYi1idXR0b24nLFxyXG4gICAgICAgIHRleHQ6ICdQb25kZXInLFxyXG4gICAgICAgIHNob3dUYWI6ICdwb25kZXJUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgncG9uZGVyLXRhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2pvYnNUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnSm9icycsXHJcbiAgICAgICAgc2hvd1RhYjogJ2pvYnNUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgnam9icy10YWInKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdza2lsbHNUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnU2tpbGxzJyxcclxuICAgICAgICBzaG93VGFiOiAnc2tpbGxzVGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3NraWxsc1RhYmxlJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAncGVya3NUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnUGVya3MnLFxyXG4gICAgICAgIHNob3dUYWI6ICdwZXJrc1RhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdwZXJrc1RhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2ZhY3RvcnlUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnRmFjdG9yaWVzJyxcclxuICAgICAgICBzaG93VGFiOiAnZmFjdG9yeVRhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdmYWN0b3J5VGFiJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcblxyXG4gICAgLyogUE9OREVSIFRBQiAqL1xyXG4gICAgJ2dhdGhlclBvbmRlcic6IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAnLFxyXG4gICAgICAgIHRleHQ6ICdQb25kZXInLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnV3JhcCB5b3VyIGhlYWQgYXJvdW5kIHRoZSBncmVhdCBteXN0ZXJpZXMnLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnVGltZScsXHJcbiAgICAgICAgdGFiOiAncG9uZGVyJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3BvbmRlci10YWInKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgYnV0dG9uczogYnV0dG9uc1xyXG59OyIsIi8qIENSQUZUSU5HIFJFU09VUkNFUyAqL1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuLi9nZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi4vZ2V0Q3JhZnRlZFJlc291cmNlJyk7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKCcuLi9zdGFnZXMnKTtcclxuXHJcblxyXG5jb25zdCBjcmFmdGVkUmVzb3VyY2VzID0ge1xyXG4gICAgJ3NoYXJwcm9ja3MnOiB7XHJcbiAgICAgICAgdGV4dDogJ1NoYXJwIFJvY2tzJyxcclxuICAgICAgICBpZDogJ2NyYWZ0U2hhcnByb2NrcycsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAncm9ja3MnOiAyIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRNYXRlcmlhbCgncm9ja3MnLCByZXNvdXJjZXMpID49IDUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdDcmFmdCBhIHJvY2sgdXNpbmcgbm90aGluZyBidXQgcm9ja3MhJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1JvY2tzOiA1JyxcclxuICAgICAgICBjbGFzczogJ2NyYWZ0Um9ja3MnXHJcbiAgICAgICAgLy8gdG9vbDogJ0JhcmUgSGFuZHMnXHJcbiAgICB9LFxyXG4gICAgJ3JvcGUnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFJvcGUnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3ZpbmVzJzogMyB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gZ2V0TWF0ZXJpYWwoJ3ZpbmVzJywgcmVzb3VyY2VzKSA+PSAzLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnVGhlIGJhc2lzIG9mIGF0dGFjaGluZyB0aGluZ3MgdG8gb3RoZXIgdGhpbmdzLicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdWaW5lczogMycsXHJcbiAgICAgICAgY2xhc3M6ICdyb3BlJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdoYW5kbGUnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEhhbmRsZScsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnc3RpY2tzJzogMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gZ2V0Q3JhZnRlZFJlc291cmNlKCdzaGFycFJvY2tzJykgPj0gMSxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1NoZWFyIG9mZiB0aGF0IGJhcmsgdG8gaG9sZCBpdCBiZXR0ZXInLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnU2hhcnAgUm9ja3M6IDEnLFxyXG4gICAgICAgIGNsYXNzOiAnY3JhZnRSb2NrcydcclxuICAgICAgICAvLyB0b29sOiAnU2hhcnAgUm9jaydcclxuICAgIH0sXHJcbiAgICAnc3RhZmYnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFN0YWZmJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdoYW5kbGUnOiAyLCAncm9wZSc6IDEgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGdldENyYWZ0ZWRSZXNvdXJjZSgnaGFuZGxlJykgPj0gMSxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1N0aWNrIHNvbWUgc2hlYXJlZCBzdGlja3MgdG9nZXRoZXInLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnSGFuZGxlczogMicsXHJcbiAgICAgICAgY2xhc3M6ICdyb3BlJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdmaXNoaW5ncm9kJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRGaXNoaW5ncm9kJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdzdGFmZic6IDEsICdyb3BlJzogMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ2Zpc2hpbmcnKSxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0Egd2VhcG9uIGZlYXJlZCBieSB1bmRlcndhdGVyIGxpZmUnLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnJyxcclxuICAgICAgICBjbGFzczogJ3JvcGUnXHJcbiAgICAgICAgLy8gdG9vbDogJ0JhcmUgSGFuZHMnXHJcbiAgICB9LFxyXG4gICAgJ3NwZWFyJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRTcGVhcicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDoge1xyXG4gICAgICAgICAgICAnc3RhZmYnOiAxLFxyXG4gICAgICAgICAgICAnc2hhcnBSb2Nrcyc6IDEsXHJcbiAgICAgICAgICAgICdyb3BlJzogMSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gZ2V0Q3JhZnRlZFJlc291cmNlKCdzdGFmZicpID49IDEsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdBIGxvbmcgYW5kIHBvaW50eSBzdGljaycsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdTdGFmZnM6IDEnLFxyXG4gICAgICAgIGNsYXNzOiAncm9wZSdcclxuICAgICAgICAvLyB0b29sOiAnQmFyZSBIYW5kcydcclxuICAgIH0sXHJcbiAgICAnYXhlJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRBeGUnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ2hhbmRsZSc6IDEsICdyb3BlJzogMSwgJ3NoYXJwcm9ja3MnOiAyIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRDcmFmdGVkUmVzb3VyY2UoJ3NwZWFyJykgPj0gMSxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1B1dCBhIHJvY2sgc3RyYWlnaHQgdGhyb3VnaCB0aGF0IGhhbmRsZScsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdTcGVhcnM6IDEnLFxyXG4gICAgICAgIGNsYXNzOiAncm9wZSdcclxuICAgICAgICAvLyB0b29sOiAnQmFyZSBIYW5kcydcclxuICAgIH0sXHJcbiAgICAncGlja2F4ZSc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0UGlja2F4ZScsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDoge1xyXG4gICAgICAgICAgICAnaGFuZGxlJzogMSxcclxuICAgICAgICAgICAgJ3NoYXJwUm9ja3MnOiAzLFxyXG4gICAgICAgICAgICAncm9wZSc6IDEsXHJcbiAgICAgICAgICAgICdyb2Nrcyc6IDEwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGdldENyYWZ0ZWRSZXNvdXJjZSgnYXhlJykgPj0gMSxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1NhZGx5IG5vdCBtYWRlIG9mIGRpYW1vbmRzJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0F4ZXM6IDEnLFxyXG4gICAgICAgIGNsYXNzOiAncm9wZSdcclxuICAgIH0sXHJcblxyXG4gICAgJ2dsYXNzJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRHbGFzcycsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnc2FuZCc6IDEwIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnWW91IGNhbiBzZWUgcmlnaHQgdGhyb3VnaCBpdCEnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZShcImdsYXNzQmxvd2luZ1wiKVxyXG4gICAgfSxcclxuICAgICdwYXBlcic6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0UGFwZXInLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3dvb2QnOiAxMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ091dHNvdXJjZSB5b3VyIG1lbW9yeScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdwYXBlcicpLFxyXG4gICAgfSxcclxuICAgICdnb2xkJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRHb2xkJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdvcmUnOiAxMDAgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdtZXRhbFdvcmtpbmcnKSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGVyZSdzIHNvbWUgeWVsbG93IGJpdHMgaW4gdGhpcyBvcmVcIixcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdtZXRhbFdvcmtpbmcnXHJcbiAgICB9LFxyXG4gICAgJ2lyb24nOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdElyb24nLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ29yZSc6IDIwIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgnbWV0YWxXb3JraW5nJyksXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhlcmUncyBzb21lIHN0dXJkeS1sb29raW5nIGJpdHMgaW4gdGhpcyBvcmVcIixcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdtZXRhbFdvcmtpbmcnXHJcbiAgICB9LFxyXG4gICAgJ3NpbHZlcic6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0U2lsdmVyJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdvcmUnOiA1MCB9LFxyXG5cclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdtZXRhbFdvcmtpbmcnKSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGVyZSdzIHNvbWUgc2hpbnkgZ3JheSBiaXRzIGluIHRoaXMgb3JlXCIsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIGNsYXNzOiAnbWV0YWxXb3JraW5nJ1xyXG4gICAgfSxcclxuICAgICdicmlja3MnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEJyaWNrcycsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnY2xheSc6IDE1IH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRNYXRlcmlhbCgnY2xheScsIHJlc291cmNlcykgPiA1LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkxlYXZlIHNvbWUgY2xheSBieSB0aGUgZmlyZVwiLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnJ1xyXG4gICAgfSxcclxuICAgICdzdGVlbCc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ2lyb24nOiA1IH0gfSxcclxuICAgICdiZWFtcyc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ3dvb2QnOiAxMCB9IH0sXHJcbiAgICAnY3JhdGVzJzogeyB2YWx1ZTogMCwgY29zdDogeyAnd29vZCc6IDE1IH0gfSxcclxuICAgICduYWlscyc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ2lyb24nOiAxIH0gfSxcclxuICAgICdzbGFicyc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ3JvY2tzJzogMjAgfSB9LFxyXG4gICAgJ21lZGljaW5lJzogeyB2YWx1ZTogMCwgY29zdDogeyAnaGVyYnMnOiA1MCB9IH0sXHJcbiAgICAnbGVhdGhlcic6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ2hpZGVzJzogMTAgfSB9LFxyXG4gICAgJ2NvbmNyZXRlJzogeyB2YWx1ZTogMCwgY29zdDogeyAnc2FuZCc6IDMyIH0gfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZChpZCkge1xyXG4gICAgZm9yIChsZXQgYyBpbiBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZXNbY10uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmFmdGVkUmVzb3VyY2VzW2NdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDcmFmdGVkUmVzb3VyY2VLZXlCeUNvbmZpZyhjb25maWcpIHtcclxuICAgIGZvciAobGV0IGsgaW4gY3JhZnRlZFJlc291cmNlcykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGspO1xyXG4gICAgICAgIGlmIChjcmFmdGVkUmVzb3VyY2VzW2tdLmlkID09PSBjb25maWcuaWQpIHJldHVybiBrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY3JhZnRlZFJlc291cmNlcyxcclxuICAgIGdldENyYWZ0ZWRSZXNvdXJjZUNvbmZpZ0J5SWQsXHJcbiAgICBnZXRDcmFmdGVkUmVzb3VyY2VLZXlCeUNvbmZpZ1xyXG59OyIsIlxyXG5cclxuLyoqXHJcbiAqIFRpZXIgMSAoNDAwIHBvbmRlcik6XHJcbiAqIEx1bWJlcmphY2tcclxuICogICsyNSUgd29vZCBwcm9kdWN0aW9uXHJcbiAqICArMjUlIHN0aWNrcyBwcm9kdWN0aW9uXHJcbiAqIFxyXG4gKiBNaW5lclxyXG4gKiAgKzI1JSBzdG9uZSAmIG9yZSBwcm9kdWN0aW9uXHJcbiAqIFxyXG4gKiBCb3RhbmlzdFxyXG4gKiAgKzI1JSB2aW5lcyAmIGhlcmJzICYgd2hlYXQgcHJvZHVjdGlvblxyXG4gKiBcclxuICogTGVhZGVyXHJcbiAqICA1MCUgY2xvbmUgZWZmZWN0aXZlbmVzc1xyXG4gKiBcclxuICogQXJjaGl0ZWN0XHJcbiAqICAtMjUlIGJ1aWxkaW5nIGNvc3RcclxuICogXHJcbiAqIFxyXG4gKiBUaWVyIDIgKDE1MDAgcG9uZGVyKTpcclxuICogVGhpbmtlclxyXG4gKiAgKzUwJSBwb25kZXIgcHJvZHVjdGlvbiBhbmQgc3RvcmFnZVxyXG4gKiAgLTI1JSBwb25kZXIgY29zdFxyXG4gKiBcclxuICogR2VuZXJhbFxyXG4gKiAgKzUwJSBjb21iYXQgc3RyZW5ndGhcclxuICogICsyNSUgY2xvbmUgZWZmZWN0aXZlbmVzc1xyXG4gKiBcclxuICogTWVyY2hhbnRcclxuICogIC0yNSUgdHJhZGUgcHJpY2VcclxuICogICsyNSUgY2hhbmNlIG9mIHJhcmUgdHJhZGVcclxuICogXHJcbiAqIEdlbmVyYWxpc3RcclxuICogICsxMCUgZ2xvYmFsIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIFNwZWNpYWxpc3RcclxuICogICsxMDAlIHNraWxsIGdhaW5cclxuICogICsxMCUgc2tpbGwgYm9udXMgdG8gcmVzb3VyY2VzXHJcbiAqIFxyXG4gKi9cclxuY29uc3QgcGVya3MgPSB7XHJcbiAgICAndGllcjEnOiBbJ0x1bWJlcmphY2snLCAnTWluZXInLCAnQm90YW5pc3QnLCAnTGVhZGVyJywgJ0FyY2hpdGVjdCddLFxyXG4gICAgJ3RpZXIyJzogWydUaGlua2VyJywgJ0dlbmVyYWwnLCAnTWVyY2hhbnQnLCAnR2VuZXJhbGlzdCcsICdTcGVjaWFsaXN0J11cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgcGVya3M6IHBlcmtzXHJcbn0iLCJsZXQgcG9uZGVycyA9IHtcclxuICAgICdwb25kZXIxJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyUG9uZGVyMScsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTAgfSxcclxuICAgICAgICB0ZXh0OiBcIlRoaW5rIEhhcmRlclwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIjUlIGJvb3N0IHRvIHBvbmRlcmluZ1wiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG5cclxuICAgIH0sXHJcbiAgICAnam9icy10YWInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJKb2JzLXRhYicsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMjAgfSxcclxuICAgICAgICB0ZXh0OiBcIlVuZGVyc3RhbmQgQ2xvbmluZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnV2h5IGFyZSB0aGVyZSB0d28gb2YgeW91PycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdTYW5pdHkgKDIwIFBvbmRlciknLFxyXG5cclxuICAgIH0sXHJcbiAgICAnc2tpbGxzVGFibGUnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJTa2lsbHNUYWJsZScsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNDAgfSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJZb3UncmUgc3RhcnRpbmcgdG8gbGVhcm4gdGhpbmdzLCByaWdodD9cIixcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIk5vdGljZSBJbXByb3ZlbWVudFwiXHJcbiAgICB9LFxyXG4gICAgJ2Zpc2hpbmcnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJGaXNoaW5nJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA1MCwgJ2Zpc2gnOiA1MCB9LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIldoYXQgaWYuLi4geW91ciBjbG9uZXMgY291bGQgZ28gZmlzaGluZz9cIixcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIkZpc2hpbmcgSm9iXCJcclxuICAgIH0sXHJcbiAgICAvLyAnbWljcm9tYW5hZ2VtZW50Jzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyTWljcm9tYW5hZ2VtZW50JyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICBjb3N0OiB7ICdwb25kZXInOiAyMDAsICdjbG9uZXMnOiA1IH0sXHJcbiAgICAvLyAgICAgdGV4dDogXCJNaWNyb21hbmFnZW1lbnRcIixcclxuICAgIC8vICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgIC8vICAgICB0b29sdGlwRGVzYzogXCJZb3UgbWFuYWdlZCB0byBtYWtlIGNsb25lcyBtYW5hZ2UgZWFjaCBvdGhlci5cIlxyXG4gICAgLy8gfSxcclxuICAgICdmYXN0ZXJTa2lsbHMnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJGYXN0ZXJTa2lsbHMnLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDgwIH0sXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdGV4dDogXCJTa2lsbHMgSVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlRoaW5rIFNtYXJ0ZXIuIDUlIGJvbnVzIHRvIHNraWxsIGV4cFwiXHJcbiAgICB9LFxyXG4gICAgJ3RoaW5raW5nJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyVGhpbmtpbmcnLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDE1MCB9LFxyXG4gICAgICAgIHRleHQ6IFwiVGhpbmtpbmcgSm9iXCIsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiTGV0IHlvdXIgY2xvbmVzIHN0YXJ0IHRoaW5raW5nIGZvciB0aGVtc2VsdmVzLlwiXHJcblxyXG4gICAgfSxcclxuICAgICdmYXN0ZXJSZXNvdXJjZUdhaW4nOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJGYXN0ZXJSZXNvdXJjZUdhaW4nLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDEyMCB9LFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiUHJvZHVjdGl2aXR5IElcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJKdXN0IHdvcmsgaGFyZGVyLiA1JSBib251cyB0byByZXNvdXJjZSBnYWluXCJcclxuICAgIH0sXHJcbiAgICAvLyAnbWV0YWxXb3JraW5nJzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyTWV0YWxXb3JraW5nJyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgIC8vICAgICB0ZXh0OiBcIk1ldGFsIFdvcmtpbmdcIixcclxuICAgIC8vICAgICB0b29sdGlwRGVzYzogXCJTdGFydCBwcm9jZXNzaW5nIHRoYXQgb3JlXCIsXHJcbiAgICAvLyAgICAgLy8gY29zdDogW3sgbWF0ZXJpYWw6ICdwb25kZXInLCBhbW91bnQ6IDEwMCB9LCB7IG1hdGVyaWFsOiAnb3JlJywgYW1vdW50OiA1MCB9LCB7IG1hdGVyaWFsOiAncm9ja3MnLCBhbW91bnQ6IDUwIH1dXHJcbiAgICAvLyAgICAgY29zdDogeyAncG9uZGVyJzogMTAwLCAnb3JlJzogNTAsICdyb2Nrcyc6IDUwIH0sXHJcbiAgICAvLyB9LFxyXG4gICAgJ2F1dG9DbG9uZSc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckF1dG9DbG9uZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJBdXRvIENsb25lXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQXV0b21hdGljYWxseSBwcm9kdWNlIGNsb25lc1wiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDE0MCwgJ2Nsb25lcyc6IDIwIH0sXHJcbiAgICB9LFxyXG5cclxuICAgICdlZmZlY3RpdmVCdWlsZGluZ3MnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJFZmZlY3RpdmVCdWlsZGluZ3MnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiQnVpbGRpbmdzIElcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJJbmNyZWFzZSBidWlsZGluZyBlZmZlY3RzIGJ5IDElXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTQwIH0sXHJcbiAgICB9LFxyXG4gICAgJ2FncmljdWx0dXJlJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQWdyaWN1bHR1cmUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiQWdyaWN1bHR1cmVcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGaW5kIHNvbWUgc2VlZHMgZnJvbSBhbGwgdGhvc2UgcGxhbnRzXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTUwIH1cclxuICAgIH0sXHJcbiAgICAnY29tYmF0Jzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQ29tYmF0JyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkNvbWJhdFwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIklzIHRoZXJlIGFueW9uZSB0byBzcGFyIHdpdGggYmVzaWRlcyB5b3U/XCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMzAwLCAnc3BlYXInOiAxMDAgfVxyXG4gICAgfSxcclxuICAgICdodW50aW5nJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVySHVudGluZycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJIdW50aW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQXQgbGVhc3QgdGhlcmUgYXJlIGFuaW1hbHNcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxNDAsICdmaXNoJzogNTAgfVxyXG4gICAgfSxcclxuICAgICdwZXJrc1RhYic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlclBlcmtzVGFiJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiAnUGVya3MnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnTWF5YmUgeW91IGFzIHRoZSBvcmlnaW5hbCBzaG91bGQgc3BlY2lhbGl6ZScsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNDAwIH1cclxuICAgIH0sXHJcbiAgICAvLyAnYXV0b2NyYWZ0Jzoge1xyXG4gICAgLy8gICAgIGlkOiBcInBvbmRlckF1dG9jcmFmdFwiLFxyXG4gICAgLy8gICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIHRleHQ6IFwiQXV0byBDcmFmdFwiLFxyXG4gICAgLy8gICAgIHRvb2x0aXBEZXNjOiBcIkF1dG9tYXRpY2FsbHkgY3JhZnQgcmVzb3VyY2VzIHdoZW4gdGhleSByZWFjaCB0aGUgc3RvcmFnZSBsaW1pdFwiLFxyXG4gICAgLy8gICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDQwMCwgJ3dvb2QnOiAxMDAwLCAncm9ja3MnOiA1MDAsICd3aGVhdCc6IDEwMDAgfVxyXG4gICAgLy8gfSxcclxuICAgICdmYWN0b3J5VGFiJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyRmFjdG9yeVRhYicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJGYWN0b3JpZXNcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBc2NlbmQgdG8gdGhlIG5leHQgbGV2ZWwgb2YgZWNvbm9teVwiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDUwMCwgJ2dvbGQnOiAxMCwgJ3dvb2QnOiAxMDAwLCAnd2hlYXQnOiAxMDAwLCAncm9ja3MnOiAxMDAwIH1cclxuICAgIH0sXHJcbiAgICAvLyAnZXhwbG9yYXRpb24nOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJFeHBsb3JhdGlvbicsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgY29zdDogW3tcclxuICAgIC8vICAgICAgICAgbWF0ZXJpYWw6ICdwb25kZXInLFxyXG4gICAgLy8gICAgICAgICBhbW91bnQ6IDE2MFxyXG4gICAgLy8gICAgIH1dXHJcbiAgICAvLyB9LFxyXG4gICAgLy8gJ3RyYWRpbmcnOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJUcmFkaW5nJyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICB0ZXh0OiBcIlRyYWRpbmdcIixcclxuICAgIC8vICAgICB0b29sdGlwRGVzYzogXCJZb3UgbWV0IHNvbWVvbmUhIFRpbWUgdG8gdHJhZGUgd2l0aCB0aGVtLlwiLFxyXG4gICAgLy8gICAgIGNvc3Q6IHsgJ2dvbGQnOiAxMCwgJ3BvbmRlcic6IDQwMCB9XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gJ3NjaWVuY2UnOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJTY2llbmNlJyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICBjb3N0OiBbe1xyXG4gICAgLy8gICAgICAgICBtYXRlcmlhbDogJ3BvbmRlcicsXHJcbiAgICAvLyAgICAgICAgIGFtb3VudDogMjAwXHJcbiAgICAvLyAgICAgfV1cclxuICAgIC8vIH0sXHJcbiAgICAvLyAnbWFnaWMnOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJNYWdpYycsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgY29zdDogW3tcclxuICAgIC8vICAgICAgICAgbWF0ZXJpYWw6ICdwb25kZXInLFxyXG4gICAgLy8gICAgICAgICBhbW91bnQ6IDIyMFxyXG4gICAgLy8gICAgIH1dXHJcbiAgICAvLyB9LFxyXG4gICAgLy8gJ2RpcGxvbWFjeSc6IHtcclxuICAgIC8vICAgICBpZDogJ3BvbmRlckRpcGxvbWFjeScsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgY29zdDogW3tcclxuICAgIC8vICAgICAgICAgbWF0ZXJpYWw6ICdwb25kZXInLFxyXG4gICAgLy8gICAgICAgICBhbW91bnQ6IDI0MFxyXG4gICAgLy8gICAgIH1dXHJcbiAgICAvLyB9LFxyXG4gICAgLy8gJ2NvbnN0cnVjdGlvbic6IHtcclxuICAgIC8vICAgICBpZDogJ3BvbmRlckNvbnN0cnVjdGlvbicsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgY29zdDogW3tcclxuICAgIC8vICAgICAgICAgbWF0ZXJpYWw6ICdwb25kZXInLFxyXG4gICAgLy8gICAgICAgICBhbW91bnQ6IDI2MFxyXG4gICAgLy8gICAgIH1dXHJcbiAgICAvLyB9LFxyXG4gICAgLy8gJ2FydHMnOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJBcnRzJyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICBjb3N0OiBbe1xyXG4gICAgLy8gICAgICAgICBtYXRlcmlhbDogJ3BvbmRlcicsXHJcbiAgICAvLyAgICAgICAgIGFtb3VudDogMjgwXHJcbiAgICAvLyAgICAgfV1cclxuICAgIC8vIH0sXHJcbiAgICAvLyAnYXN0cm9ub215Jzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyQXN0cm9ub215JyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICBjb3N0OiBbe1xyXG4gICAgLy8gICAgICAgICBtYXRlcmlhbDogJ3BvbmRlcicsXHJcbiAgICAvLyAgICAgICAgIGFtb3VudDogMzAwXHJcbiAgICAvLyAgICAgfV1cclxuICAgIC8vIH1cclxufTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHBvbmRlcnM6IHBvbmRlcnNcclxufTsiLCIvLyBTdGF0ZSBvZiBlYWNoIHJlc291cmNlXHJcblxyXG4vLyBUT0RPOiBBREQgUkVRVUlSRU1FTlRTIEZPUiBFQUNIIFRPIE1BS0UgVEhFTSBWSVNJQkxFXHJcbi8vIG9yIGp1c3QgZGlzcGxheSB0aGVtIHdoZW4geW91IGdldCB5b3VyIGZpcnN0IG9uZT9cclxuY29uc3QgcmVzb3VyY2VzID0ge1xyXG4gICAgXCJjbG9uZXNcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJtYWtlQ2xvbmVcIixcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgbWF4OiAwXHJcbiAgICB9LFxyXG5cclxuICAgIFwic3RpY2tzXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyU3RpY2tzXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogdHJ1ZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4ax8JOAnCBHYXRoZXJpbmcgU3RpY2tzXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCThrEgR2F0aGVyIFN0aWNrc1wiLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBlbW9qaTogJ/CTgJ0nLFxyXG4gICAgICAgIG1heDogNTBcclxuICAgIH0sXHJcbiAgICBcInZpbmVzXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyVmluZXNcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk42v8JOAqiBHYXRoZXJpbmcgVmluZXNcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JONryBHYXRoZXIgVmluZXNcIixcclxuICAgICAgICBcInRvb2xzXCI6IFt7IFwidG9vbFwiOiBcIkF4ZVwiLCBcInZhbFwiOiAxLjUgfV0sXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqicsXHJcbiAgICAgICAgbWF4OiA1MFxyXG4gICAgfSxcclxuICAgIFwicm9ja3NcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJSb2Nrc1wiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTipbwk4CpIEdhdGhlcmluZyBSb2Nrc1wiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4qWIEdhdGhlciBSb2Nrc1wiLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBlbW9qaTogJ/CTgKknLFxyXG4gICAgICAgIG1heDogMzBcclxuICAgIH0sXHJcbiAgICBcImZpc2hcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJGaXNoXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOGnfCThp/wk4aeIPCTgYMgR29uZSBGaXNoaW5nXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCThp3wk4af8JOGniBHbyBGaXNoXCIsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIGVtb2ppOiAn8JOBgycsXHJcbiAgICAgICAgXCJ0b29sc1wiOiBbeyBcInRvb2xcIjogXCJTcGVhclwiLCBcInZhbFwiOiAxIH0sIHsgXCJ0b29sXCI6IFwiRmlzaGluZyBSb2RcIiwgXCJ2YWxcIjogMiB9XSxcclxuICAgICAgICBtYXg6IDEwXHJcbiAgICB9LFxyXG4gICAgXCJ3b29kXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyV29vZFwiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTgKggQ2hvcHBpbmcgV29vZFwiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4yPIENob3AgV29vZFwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqCcsXHJcbiAgICAgICAgXCJ0b29sc1wiOiBbeyBcInRvb2xcIjogXCJBeGVcIiwgXCJ2YWxcIjogMS41IH0sIHsgXCJ0b29sXCI6IFwiQ2hhaW5zYXdcIiwgXCJ2YWxcIjogMyB9XSxcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgbWF4OiA0MFxyXG4gICAgfSxcclxuICAgIFwicG9uZGVyXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyUG9uZGVyXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOAgSBQb25kZXJpbmdcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOAgSBQb25kZXJcIixcclxuICAgICAgICBlbW9qaTogJ/CTgIEnLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBtYXg6IDIwXHJcbiAgICB9LFxyXG4gICAgXCJvcmVcIjoge1xyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyT3JlXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOJuPCTgYQgTWluaW5nIE9yZVwiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4m4IE1pbmUgT3JlXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4GEJyxcclxuICAgICAgICBtYXg6IDIwXHJcbiAgICB9LFxyXG4gICAgXCJzYW5kXCI6IHtcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlclNhbmRcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4CpIFNjb29waW5nIFNhbmRcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOAqSBTY29vcCBTYW5kXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICBtYXg6IDIwXHJcbiAgICB9LFxyXG4gICAgXCJ3aGVhdFwiOiB7XHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJXaGVhdFwiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTgKkgSGFydmVzdGluZyBXaGVhdFwiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4CpIEhhcnZlc3QgV2hlYXRcIixcclxuICAgICAgICBlbW9qaTogJ/CTgJ0nLFxyXG4gICAgICAgIG1heDogMjBcclxuICAgIH0sXHJcbiAgICAnZnJlc2h3YXRlcic6IHtcclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJGcmVzaHdhdGVyJyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcbiAgICB9LFxyXG4gICAgJ2hpZGVzJzoge1xyXG4gICAgICAgICd2YWx1ZSc6IDAsXHJcbiAgICAgICAgJ2lkJzogJ2dhdGhlckhpZGVzJyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAjicsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcblxyXG4gICAgfSxcclxuICAgICdjbGF5Jzoge1xyXG4gICAgICAgICd2YWx1ZSc6IDAsXHJcbiAgICAgICAgJ2lkJzogJ2dhdGhlckNsYXknLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICAnbWF4JzogNTBcclxuICAgIH0sXHJcbiAgICAnYmVycmllcyc6IHtcclxuXHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVyQmVycmllcycsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgJ2RlZmF1bHRUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICBlbW9qaTogJ/CTgKknLFxyXG4gICAgICAgICdtYXgnOiA1MFxyXG4gICAgfSxcclxuICAgICdoZXJicyc6IHtcclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJIZXJicycsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgJ2RlZmF1bHRUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICBlbW9qaTogJ/CTgKknLFxyXG4gICAgICAgICdtYXgnOiA1MFxyXG4gICAgfSxcclxuICAgICdnYW1lJzoge1xyXG4gICAgICAgICd2YWx1ZSc6IDAsXHJcbiAgICAgICAgJ2lkJzogJ2dhdGhlckdhbWUnLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAn8JODmvCTgI4gSHVudGluZycsXHJcbiAgICAgICAgJ2RlZmF1bHRUZXh0JzogJ/CTgI4gSHVudCcsXHJcbiAgICAgICAgZW1vamk6ICfwk4COJyxcclxuICAgICAgICAnbWF4JzogNTBcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gaXNSZXNvdXJjZShyZXNvdXJjZSkge1xyXG4gICAgLy8gcmV0dXJuIHJlc291cmNlc1tyZXNvdXJjZV0gIT09IG51bGw7XHJcbiAgICByZXR1cm4gcmVzb3VyY2UgaW4gcmVzb3VyY2VzO1xyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFJlc291cmNlQ29uZmlnQnlJZChpZCkge1xyXG4gICAgZm9yIChsZXQgciBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICBpZiAocmVzb3VyY2VzW3JdLmlkID09PSBpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzW3JdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXHJcbiAgICBpc1Jlc291cmNlLFxyXG4gICAgZ2V0UmVzb3VyY2VDb25maWdCeUlkXHJcbn07IiwiY29uc3Qgc2tpbGxzID0ge1xyXG4gICAgZ2F0aGVyaW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ3N0aWNrcycsICd2aW5lcycsICdzYW5kJywgJ2hlcmJzJywgJ2JlcnJpZXMnXVxyXG4gICAgfSxcclxuICAgIG1hc29ucnk6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsncm9ja3MnLCAnb3JlJywgJ2NsYXknXSxcclxuICAgICAgICBuZWVkVG9vbHM6IFt7ICdQaWNrYXhlJzogWydvcmUnXSB9XVxyXG4gICAgfSxcclxuICAgIGNhcnBlbnRyeToge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWyd3b29kJywgJ2hhbmRsZScsICdzdGFmZicsICdmaXNoaW5ncm9kJ10sXHJcbiAgICAgICAgbmVlZFRvb2xzOiBbeyAnQXhlJzogWyd3b29kJ10gfV1cclxuICAgIH0sXHJcbiAgICB0aGlua2luZzoge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWydwb25kZXInXVxyXG4gICAgfSxcclxuICAgIHNtaXRoaW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ2F4ZScsICdwaWNrYXhlJywgJ3NwZWFyJywgJ2dsYXNzJywgJ2lyb24nLCAnc2lsdmVyJywgJ2dvbGQnXVxyXG4gICAgfSxcclxuICAgIGZhcm1pbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnd2hlYXQnLCAnZnJlc2h3YXRlciddXHJcbiAgICB9LFxyXG4gICAgY29tYmF0OiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbXVxyXG4gICAgfSxcclxuICAgIGZpc2hpbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnZmlzaCcsICdmcmVzaHdhdGVyJ11cclxuICAgIH0sXHJcbiAgICBodW50aW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ2hpZGVzJywgJ2dhbWUnXVxyXG4gICAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBza2lsbHM6IHNraWxsc1xyXG59OyIsImNvbnN0IHsgY3JhZnRlZFJlc291cmNlcywgZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZCB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuY29uc3QgeyBidWlsZGluZ3MgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpO1xyXG5jb25zdCB7IHBvbmRlcnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vcG9uZGVyXCIpO1xyXG5jb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnV0dG9uc1wiKTtcclxuY29uc3QgeyByZXNvdXJjZXMsIGdldFJlc291cmNlQ29uZmlnQnlJZCB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5cclxuY29uc3QgeyBzYXZlR2FtZSwgbG9hZEdhbWUgfSA9IHJlcXVpcmUoXCIuL3NhdmluZ1wiKTtcclxuY29uc3QgeyBnZW5lcmF0ZVRvb2x0aXBDb3N0LCBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zLCBpbmNyZWFzZU1hdGVyaWFsLCBjcmFmdEFsbFJlc291cmNlcywgY3JhZnRSZXNvdXJjZSwgY2FsY0luY3JlYXNlLCB1cGRhdGVSZXNvdXJjZUluY3JlYXNlUmF0ZXMsIGNhbGNTZWNvbmRzUmVtYWluaW5nLCBpbmNyZWFzZU1heCwgaW5pdGlhbGl6ZVJlc291cmNlVGFncyB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCwgYnV5TWF4QnVpbGRpbmdzLCBidXlCdWlsZGluZyB9ID0gcmVxdWlyZSgnLi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyBoYXNQZXJrLCBzZWxlY3RBYmlsaXR5IH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbmNvbnN0IHsgdXBkYXRlU2lkZWJhciwgZ2V0TWF4LCBjbGVhclNpZGViYXIgfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcbmNvbnN0IHsgbWFrZVZpc2libGUgfSA9IHJlcXVpcmUoJy4vbWFrZVZpc2libGUnKTtcclxuY29uc3QgeyB1cGRhdGVCdXR0b25WaXNpYmlsaXR5IH0gPSByZXF1aXJlKCcuL3VwZGF0ZUJ1dHRvblZpc2liaWxpdHknKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vZ2V0Q3JhZnRlZFJlc291cmNlJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBjcmVhdGVGYWN0b3J5RGl2LCBidXlGYWN0b3J5LCBhdHRlbXB0TWFudWZhY3R1cmUsIHVwZ3JhZGVCdWxrIH0gPSByZXF1aXJlKCcuL2ZhY3RvcnknKTtcclxuLy8gQHRzLWlnbm9yZVxyXG5jb25zdCB7IGlzUG9uZGVyZWQsIGdlbmVyYXRlUG9uZGVyQnV0dG9ucyB9ID0gcmVxdWlyZShcIi4vcG9uZGVyXCIpO1xyXG5jb25zdCB7IGhhc1Rvb2wsIGFkZFRvb2wgfSA9IHJlcXVpcmUoJy4vdG9vbHMnKTtcclxuY29uc3QgeyBnZXRBdGVGaXNoLCBzZXRBdGVGaXNoIH0gPSByZXF1aXJlKCcuL2F0ZUZpc2gnKTtcclxuY29uc3QgeyBkcmF3QWxsQ29ubmVjdGlvbnMsIHVwZGF0ZVRvdGFsIH0gPSByZXF1aXJlKCcuL2pvYnMnKTtcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vY2FwaXRhbGl6ZUZpcnN0Jyk7XHJcbmNvbnN0IHsgcGFzc2VkU3RhZ2UgfSA9IHJlcXVpcmUoJy4vc3RhZ2VzJyk7XHJcbi8qIE1ZIENPREUgU1RBUlRTIEhFUkUgKi9cclxuXHJcblxyXG5cclxuLy8gSW5pdGlhbGl6ZSB2YWx1ZXNcclxuLy8gbGV0IHNraWxsZWQgPSBmYWxzZTtcclxuXHJcblxyXG5mdW5jdGlvbiBzZXRUb3RhbFRpbWUodGltZSkge1xyXG4gICAgdG90YWxfdGltZSA9IHRpbWU7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKiBHQVRIRVJJTkcgTUFURVJJQUxTKi9cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuY29uc3Qgc2lkZWJhclBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzb3VyY2VzXCIpO1xyXG5mdW5jdGlvbiBzdG9wQWxsR2F0aGVyaW5nKCkge1xyXG4gICAgZm9yIChsZXQga2V5IGluIHJlc291cmNlcykge1xyXG4gICAgICAgIHJlc291cmNlc1trZXldLmlzR2V0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhdGhlclwiICsgY2FwaXRhbGl6ZUZpcnN0KGtleSkpO1xyXG4gICAgICAgIGlmIChyQnV0dG9uKSByQnV0dG9uLnRleHRDb250ZW50ID0gcmVzb3VyY2VzW2tleV0uZGVmYXVsdFRleHQ7XHJcblxyXG4gICAgICAgIC8vIFNldCBzaWRlYmFyIHRvIG5vdCBib2xkXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNvbnN0IHNpZGViYXJUZXh0ID0gc2lkZWJhclBhcmVudC5xdWVyeVNlbGVjdG9yKCcjcmVzb3VyY2UtJyArIGtleSk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChzaWRlYmFyVGV4dCkgc2lkZWJhclRleHQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZW1vamlHYXRoZXJEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZW1vamlHYXRoZXJEaXNwbGF5Jyk7XHJcbmZ1bmN0aW9uIHRvZ2dsZVJlc291cmNlKHJlc291cmNlS2V5KSB7XHJcbiAgICBjb25zdCByZXNvdXJjZSA9IHJlc291cmNlc1tyZXNvdXJjZUtleV07XHJcblxyXG4gICAgLy8gZW1vamlEaXYudGV4dENvbnRlbnQgPSAn8JOGric7XHJcbiAgICBjb25zdCBzaWRlYmFyUGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyZXNvdXJjZXNcIik7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBzaWRlYmFyVGV4dCA9IHNpZGViYXJQYXJlbnQucXVlcnlTZWxlY3RvcignI3Jlc291cmNlLScgKyByZXNvdXJjZUtleSk7XHJcbiAgICBjb25zdCByZXNvdXJjZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYXRoZXInICsgcmVzb3VyY2VLZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyByZXNvdXJjZUtleS5zbGljZSgxKSk7XHJcblxyXG4gICAgaWYgKCFyZXNvdXJjZS5pc0dldHRpbmcpIHtcclxuICAgICAgICBzdG9wQWxsR2F0aGVyaW5nKCk7IC8vIFN0b3AgYWxsIGdhdGhlcmluZyBhY3Rpb25zXHJcbiAgICAgICAgcmVzb3VyY2UuaXNHZXR0aW5nID0gdHJ1ZTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcmVzb3VyY2VCdXR0b24udGV4dENvbnRlbnQgPSByZXNvdXJjZS5hY3RpdmVUZXh0O1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoc2lkZWJhclRleHQpIHNpZGViYXJUZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGVtb2ppR2F0aGVyRGl2LnRleHRDb250ZW50ID0gcmVzb3VyY2UuZW1vamk7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzb3VyY2UuZW1vamkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvdXJjZS5pc0dldHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcmVzb3VyY2VCdXR0b24udGV4dENvbnRlbnQgPSByZXNvdXJjZS5kZWZhdWx0VGV4dDtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKHNpZGViYXJUZXh0KSBzaWRlYmFyVGV4dC5zdHlsZS5mb250V2VpZ2h0ID0gJ25vcm1hbCc7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKiBCVVRUT05TIEdFTkVSQVRFICovXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJ1dHRvbnMoKSB7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJHZW5lcmF0aW5nIGJ1dHRvbnNcIik7XHJcbiAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgICAvLyBDcmVhdGUgdGhlIGNvbHVtbnNcclxuICAgIGNvbnN0IGNyZWF0ZUNvbHVtbnMgPSAocGFyZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29sMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGNvbnN0IGNvbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBjb25zdCBjb2wzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAgIGNvbDEuc3R5bGUud2lkdGggPSAnMzMuMzMlJztcclxuICAgICAgICBjb2wyLnN0eWxlLndpZHRoID0gJzMzLjMzJSc7XHJcbiAgICAgICAgY29sMy5zdHlsZS53aWR0aCA9ICczMy4zMyUnO1xyXG5cclxuICAgICAgICBjb2wxLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICBjb2wyLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICBjb2wzLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuXHJcbiAgICAgICAgY29sMS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgY29sMi5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgY29sMy5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcblxyXG4gICAgICAgIC8vIHBhcmVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXg7JyAgLy8gU2V0IHBhcmVudCB0byBiZSBhIGZsZXggY29udGFpbmVyXHJcblxyXG4gICAgICAgIHBhcmVudC5wcmVwZW5kKGNvbDMpO1xyXG4gICAgICAgIHBhcmVudC5wcmVwZW5kKGNvbDIpO1xyXG4gICAgICAgIHBhcmVudC5wcmVwZW5kKGNvbDEpO1xyXG5cclxuICAgICAgICByZXR1cm4gW2NvbDEsIGNvbDIsIGNvbDNdO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB0YWJzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYnMnKTtcclxuICAgIGNvbnN0IHByb2R1Y3Rpb25Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZHVjdGlvblRhYicpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgZXhwZXJpbWVudENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlcmltZW50VGFiJykucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1jb2x1bW5zJyk7XHJcbiAgICBjb25zdCBwb25kZXJDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9uZGVyVGFiJyk7XHJcbiAgICAvLyBjb25zdCBqb2JDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnam9ic1RhYicpO1xyXG4gICAgLy8gWW91IGNhbiBhZGQgbW9yZSBjb250YWluZXJzIGZvciBkaWZmZXJlbnQgdGFicyBhcyBuZWVkZWRcclxuXHJcbiAgICBjb25zdCBwcm9kdWN0aW9uQ29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMocHJvZHVjdGlvbkNvbnRhaW5lcik7XHJcbiAgICBjb25zdCBleHBlcmltZW50Q29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMoZXhwZXJpbWVudENvbnRhaW5lcik7XHJcbiAgICBjb25zdCBwb25kZXJDb2x1bW5zID0gY3JlYXRlQ29sdW1ucyhwb25kZXJDb250YWluZXIpO1xyXG4gICAgLy8gY29uc3Qgam9iQ29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMoam9iQ29udGFpbmVyKTtcclxuICAgIC8vIFNpbWlsYXJseSwgY3JlYXRlIGNvbHVtbnMgZm9yIG90aGVyIHRhYnMgYXMgbmVlZGVkXHJcblxyXG4gICAgbGV0IHByb2R1Y3Rpb25Db2x1bW5JbmRleCA9IDA7XHJcbiAgICBsZXQgZXhwZXJpbWVudENvbHVtbkluZGV4ID0gMDtcclxuICAgIGxldCBwb25kZXJDb2x1bW5JbmRleCA9IDA7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBsZXQgam9iQ29sdW1uSW5kZXggPSAwO1xyXG5cclxuICAgIC8vIEFkZCBjb3VudGVycyBmb3Igb3RoZXIgdGFicyBhcyBuZWVkZWRcclxuXHJcbiAgICBmb3IgKGxldCBrZXkgaW4gYnV0dG9ucykge1xyXG4gICAgICAgIGNvbnN0IGJ0biA9IGJ1dHRvbnNba2V5XTtcclxuICAgICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblxyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuaWQgPSBrZXk7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc05hbWUgPSBidG4uY2xhc3M7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC50ZXh0Q29udGVudCA9IGJ0bi50ZXh0O1xyXG5cclxuICAgICAgICAvLyBidXR0b25FbGVtZW50LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgICAgIGlmIChidG4udG9vbHRpcERlc2MpIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycsIGJ0bi50b29sdGlwRGVzYyk7XHJcbiAgICAgICAgaWYgKGJ0bi50b29sdGlwRWZmZWN0KSBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWVmZmVjdCcsIGJ0bi50b29sdGlwRWZmZWN0KTtcclxuICAgICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgndW5sb2NrJywgYnRuLnVubG9jayk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnRuKTtcclxuICAgICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YV9idWlsZGluZycsIGJ0bi5kYXRhX2J1aWxkaW5nKTtcclxuICAgICAgICAvLyBpZiB0aGlzIHJlc291cmNlIGlzbid0IHVubG9ja2VkLCBoaWRlIGl0XHJcbiAgICAgICAgLy8gaWYgKCFidG4uaXNWaXNpYmxlKSBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgYnV0dG9uIGNvcnJlc3BvbmRzIHRvIGEgY3JhZnRlZCByZXNvdXJjZSB1c2luZyB0aGUgSURcclxuICAgICAgICBjb25zdCBjcmFmdGVkUmVzb3VyY2UgPSBPYmplY3QudmFsdWVzKGNyYWZ0ZWRSZXNvdXJjZXMpLmZpbmQocmVzb3VyY2UgPT4gcmVzb3VyY2UuaWQgPT09IGtleSk7XHJcblxyXG4gICAgICAgIGlmIChjcmFmdGVkUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgYnRuLnRvb2x0aXBDb3N0ID0gZ2VuZXJhdGVUb29sdGlwQ29zdChjcmFmdGVkUmVzb3VyY2UuY29zdCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1jb3N0JywgYnRuLnRvb2x0aXBDb3N0KTtcclxuXHJcbiAgICAgICAgaWYgKGJ0bi5zaG93VGFiKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzaG93VGFiKGJ0bi5zaG93VGFiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3dpdGNoaW5nIHRvIHRhYjogXCIgKyBidG4uc2hvd1RhYik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBcHBlbmQgdG8gdGhlIGFwcHJvcHJpYXRlIGNvbHVtbiBiYXNlZCBvbiB0aGUgdGFiIHByb3BlcnR5XHJcbiAgICAgICAgaWYgKGJ0bi50YWIgPT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBwcm9kdWN0aW9uQ29sdW1uc1twcm9kdWN0aW9uQ29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICBwcm9kdWN0aW9uQ29sdW1uSW5kZXggPSAocHJvZHVjdGlvbkNvbHVtbkluZGV4ICsgMSkgJSAzO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGJ0bi50YWIgPT09ICdleHBlcmltZW50Jykge1xyXG4gICAgICAgICAgICBleHBlcmltZW50Q29sdW1uc1tleHBlcmltZW50Q29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICBleHBlcmltZW50Q29sdW1uSW5kZXggPSAoZXhwZXJpbWVudENvbHVtbkluZGV4ICsgMSkgJSAzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYnRuLnRhYiA9PT0gJ3RhYnMnKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgdGFic0NvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGJ0bi50YWIgPT09ICdwb25kZXInKSB7XHJcbiAgICAgICAgICAgIHBvbmRlckNvbHVtbnNbcG9uZGVyQ29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICBwb25kZXJDb2x1bW5JbmRleCA9IChwb25kZXJDb2x1bW5JbmRleCArIDEpICUgMztcclxuICAgICAgICB9IGVsc2UgaWYgKGJ0bi50YWIgPT09ICdqb2InKSB7XHJcbiAgICAgICAgICAgIC8vIGpvYkNvbHVtbnNbam9iQ29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICAvLyBqb2JDb2x1bW5JbmRleCA9IChqb2JDb2x1bW5JbmRleCArIDEpICUgMztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkIG1vcmUgY29uZGl0aW9ucyBmb3Igb3RoZXIgdGFicyBhcyBuZWVkZWRcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRvb2x0aXAgZm9yIGJ1aWxkaW5nc1xyXG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nID0gT2JqZWN0LmtleXMoYnVpbGRpbmdzKS5maW5kKGJ1aWxkaW5nID0+IGJ1aWxkaW5nID09PSBrZXkpO1xyXG4gICAgICAgIGlmIChidWlsZGluZykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidWlsZGluZywga2V5KTtcclxuICAgICAgICAgICAgLy8gYnRuLnRvb2x0aXBDb3N0ID0gZ2VuZXJhdGVCdWlsZGluZ1Rvb2x0aXBDb3N0KGJ1aWxkaW5nc1tidWlsZGluZ10uY29zdCk7XHJcbiAgICAgICAgICAgIHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGtleSwgYnVpbGRpbmdzLCBoYXNQZXJrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSGlkZSB0aGUgYnV0dG9ucyB3ZSBzaG91bGRuJ3Qgc2VlIHlldFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ0bik7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKCFidG4ucmVxdWlyZW1lbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uRWxlbWVudCwgYnRuLnJlcXVpcmVtZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybignRXJyb3Igd2l0aCByZXF1aXJlbWVudCB3aGlsZSBnZW5lcmF0aW5nIGJ1dHRvbnM6ICcsIGJ0biwgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHRvb2xzVG9TdGFnZXMgPSB7XHJcbiAgICAnU2hhcnBSb2Nrcyc6ICdjcmFmdFJvY2tzJyxcclxuICAgICdTcGVhcic6ICdmaXNoaW5nJyxcclxuICAgIFwiRmlzaGluZ1JvZFwiOiAnZmlzaGluZycsXHJcbiAgICAnQXhlJzogJ3dvb2QnLFxyXG4gICAgXCJQaWNrYXhlXCI6ICdvcmUnXHJcbn07XHJcblxyXG4vLyBVcGRhdGUgdmlzaWJpbGl0eSBvZiBhc3NldHNcclxuY29uc3QgdmlzaWJpbGl0eVJ1bGVzID0gW1xyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoXCJzdGlja3NcIiwgcmVzb3VyY2VzKSA+PSAxLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoXCJzdGlja1wiKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKCdzdGlja3MnLCByZXNvdXJjZXMpID49IDEwLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3ZpbmVzJylcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbCgndmluZXMnLCByZXNvdXJjZXMpID49IDEwLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3JvY2tzJylcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbChcInJvY2tzXCIsIHJlc291cmNlcykgPj0gMSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IHsgbWFrZVZpc2libGUoXCJ0YWItYnV0dG9uXCIpOyBtYWtlVmlzaWJsZSgnY3JhZnRSb2NrcycpOyB9XHJcbiAgICB9LFxyXG5cclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKFwiZmlzaFwiLCByZXNvdXJjZXMpID49IDEsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgnZmlzaGluZycpXHJcbiAgICB9LFxyXG5cclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGhhc1Rvb2woXCJBeGVcIiksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgnd29vZCcpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0Q3JhZnRlZFJlc291cmNlKCdyb3BlJykgPj0gMSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCdyb3BlJylcclxuICAgIH0sXHJcblxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoJ2Zpc2gnLCByZXNvdXJjZXMpID49IDUgJiYgIWdldEF0ZUZpc2goKSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWF0RmlzaCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlYXRGaXNoJykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRBdGVGaXNoKCksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB7IG1ha2VWaXNpYmxlKCdjbG9uZScpOyBtYWtlVmlzaWJsZSgncG9uZGVyLXRhYicpOyB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gaXNQb25kZXJlZCgncG9uZGVyRmluaXNoJyksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBuYXZpZ2F0ZVRvKCdzdGFnZTIuaHRtbCcpXHJcbiAgICB9XHJcbiAgICAvLyB7XHJcbiAgICAvLyAgICAgY29uZGl0aW9uOiAoKSA9PiBpc1BvbmRlcmVkKCdqb2JzLXRhYicpLFxyXG4gICAgLy8gICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ2pvYnMtdGFiJylcclxuICAgIC8vIH0sXHJcbiAgICAvLyB7XHJcbiAgICAvLyAgICAgY29uZGl0aW9uOiAoKSA9PiBpc1BvbmRlcmVkKCdza2lsbHNUYWJsZScpLFxyXG4gICAgLy8gICAgIGFjdGlvbjogKCkgPT4geyBtYWtlVmlzaWJsZShcInNraWxsZWRcIik7IHBvcHVsYXRlU2tpbGxzVGFibGUoKTsgfVxyXG4gICAgLy8gfVxyXG5dO1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ3VwZGF0aW5nIHZpc2libGUnKTtcclxuICAgIHZpc2liaWxpdHlSdWxlcy5mb3JFYWNoKHJ1bGUgPT4ge1xyXG4gICAgICAgIGlmIChydWxlLmNvbmRpdGlvbigpKSB7XHJcbiAgICAgICAgICAgIHJ1bGUuYWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZm9yIChsZXQgdG9vbCBpbiB0b29sc1RvU3RhZ2VzKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmICghaGFzVG9vbCh0b29sKSAmJiBnZXRDcmFmdGVkUmVzb3VyY2UodG9vbCkgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgYWRkVG9vbCh0b29sKTtcclxuICAgICAgICAgICAgbWFrZVZpc2libGUodG9vbHNUb1N0YWdlc1t0b29sXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHVwZGF0ZUJ1dHRvblZpc2liaWxpdHkoKTtcclxuICAgICAgICBpZiAoY3VycmVudEhvdmVyQnV0dG9uICE9PSBudWxsKSB1cGRhdGVUb29sdGlwKGN1cnJlbnRIb3ZlckJ1dHRvbik7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyBTd2l0Y2ggdGFic1xyXG5sZXQgdGFiQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiLWNvbnRlbnQgPiAuY29udGVudFwiKTsgLy8gRGlyZWN0IGNoaWxkcmVuIG9ubHlcclxuZnVuY3Rpb24gc2hvd1RhYih0YWJOYW1lKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInNob3cgdGFiOiBcIiArIHRhYk5hbWUpO1xyXG4gICAgLy8gR2V0IGFsbCBtYWluIGNvbnRhaW5lciBkaXZzIGFuZCBoaWRlIHRoZW1cclxuICAgIGxldCBwcmV2VGFiID0gJyc7XHJcbiAgICBmb3IgKGxldCBjb250ZW50IG9mIHRhYkNvbnRhaW5lcnMpIHtcclxuICAgICAgICBpZiAoY29udGVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIHByZXZUYWIgPSBjb250ZW50LmlkO1xyXG4gICAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBhbGwgdGFiIGJ1dHRvbnMgYW5kIHJlbW92ZSB0aGUgYWN0aXZlIGNsYXNzXHJcbiAgICBsZXQgdGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiLWJ1dHRvblwiKTtcclxuICAgIGZvciAobGV0IHRhYiBvZiB0YWJzKSB7XHJcbiAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2hvdyB0aGUgY2xpY2tlZCB0YWIncyBtYWluIGNvbnRhaW5lciBkaXYgYW5kIG1ha2UgdGhlIHRhYiBidXR0b24gYWN0aXZlXHJcbiAgICBsZXQgYWN0aXZlQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYk5hbWUpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgYWN0aXZlQ29udGVudC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgIC8vIEdldCB0aGUgY2xpY2tlZCB0YWIgYnV0dG9uIGFuZCBtYWtlIGl0IGFjdGl2ZVxyXG4gICAgY29uc3QgdGFiU3RyaW5nID0gYCMke3RhYk5hbWV9QnV0dG9uYDtcclxuICAgIGxldCBhY3RpdmVUYWJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhYlN0cmluZyk7XHJcblxyXG4gICAgaWYgKGFjdGl2ZVRhYkJ1dHRvbikgYWN0aXZlVGFiQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgaWYgKHRhYk5hbWUgPT09ICdqb2JzVGFiJylcclxuICAgICAgICBkcmF3QWxsQ29ubmVjdGlvbnMoKTtcclxuXHJcblxyXG4gICAgaWYgKHRhYk5hbWUgPT09ICdmYWN0b3J5VGFiJyAmJiBwcmV2VGFiICE9PSAnZmFjdG9yeVRhYicpIHtcclxuICAgICAgICBjbGVhclNpZGViYXIoKTtcclxuICAgICAgICBpbml0aWFsaXplUmVzb3VyY2VUYWdzKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcmV2VGFiID09PSAnZmFjdG9yeVRhYicpIHtcclxuICAgICAgICBjbGVhclNpZGViYXIoKTtcclxuICAgICAgICB1cGRhdGVTaWRlYmFyKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKiBIT1RLRVlTICovXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XHJcbiAgICAgICAgY2FzZSAnMSc6XHJcbiAgICAgICAgICAgIHNob3dUYWIoJ3Byb2R1Y3Rpb25UYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnMic6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgndGFiLWJ1dHRvbicpKSBzaG93VGFiKCdleHBlcmltZW50VGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vIEFkZCBjYXNlcyBmb3Igb3RoZXIgdGFicyBhcyBuZWVkZWRcclxuICAgICAgICBjYXNlICczJzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCdwb25kZXItdGFiJykpIHNob3dUYWIoJ3BvbmRlclRhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICc0JzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCdqb2JzLXRhYicpKSBzaG93VGFiKCdqb2JzVGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJzUnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ3NraWxsc1RhYmxlJykpIHNob3dUYWIoJ3NraWxsc1RhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICc2JzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCdwZXJrc1RhYicpKSBzaG93VGFiKCdwZXJrc1RhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICc3JzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCdmYWN0b3J5VGFiJykpIHNob3dUYWIoJ2ZhY3RvcnlUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbi8qIERBUksgTU9ERSAqL1xyXG5jb25zdCBkYXJrTW9kZVRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGFya01vZGVUb2dnbGVcIik7XHJcbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xyXG5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2RhcmstbW9kZScpO1xyXG4vLyBAdHMtaWdub3JlXHJcbmRhcmtNb2RlVG9nZ2xlLmNsYXNzTGlzdC50b2dnbGUoJ2RhcmsnKTtcclxubGV0IGlzRGFyayA9IHRydWU7XHJcblxyXG5cclxuLyogQ1VUU0NFTkVTICovXHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gZWF0RmlzaCgpIHtcclxuICAgIGlmICghZ2V0QXRlRmlzaCgpICYmIGdldE1hdGVyaWFsKCdmaXNoJywgcmVzb3VyY2VzKSA+PSAxKSB7XHJcbiAgICAgICAgLy8gZWF0IGEgZmlzaCBhbmQgYmxhY2tvdXRcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbCgnZmlzaCcsIC0xKTtcclxuICAgICAgICAvLyBDYWxsIHRoaXMgZnVuY3Rpb24gdG8gc3RhcnQgdGhlIHNlcXVlbmNlXHJcbiAgICAgICAgZmFkZVRvQmxhY2soKTtcclxuICAgICAgICAvLyBIaWRlIGZpc2ggYnV0dG9uXHJcbiAgICAgICAgc2V0QXRlRmlzaCh0cnVlKTtcclxuICAgICAgICBjb25zdCBmaXNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlYXRGaXNoXCIpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBmaXNoQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYW5nZU1lc3NhZ2UoXCJZb3UgYXJlIHdpdGggeW91cnNlbGYgaW4gYSBmb3Jlc3QuXCIsICd3aXRoIHlvdXJzZWxmJyk7XHJcbiAgICAgICAgICAgIGluY3JlYXNlTWF4KCdjbG9uZXMnLCAxKTtcclxuICAgICAgICAgICAgaW5jcmVhc2VNYXRlcmlhbCgnY2xvbmVzJywgMSk7XHJcbiAgICAgICAgfSwgMTAwMCk7IC8vIGRlbGF5IG9mIDFzXHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZmFkZVRvQmxhY2soKSB7XHJcbiAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKTtcclxuICAgIGNvbnN0IG92ZXJsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktdGV4dCcpO1xyXG4gICAgY29uc3Qgb3ZlcmxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5LWJ1dHRvbicpO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgb3ZlcmxheVRleHQuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgIH0sIDIwMDApO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBvdmVybGF5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgfSwgNTAwMCk7XHJcbn1cclxuXHJcbmNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpO1xyXG4vLyBAdHMtaWdub3JlXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gaGlkZU92ZXJsYXkoKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5hdmlnYXRlVG8odXJsKSB7XHJcbiAgICAvLyBUcmlnZ2VyIHRoZSBvdmVybGF5IHRvIGZhZGUgaW5cclxuICAgIHZhciBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2UtdHJhbnNpdGlvbi1vdmVybGF5Jyk7XHJcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2ZhZGUtaW4nKTtcclxuXHJcbiAgICAvLyBXYWl0IGZvciB0aGUgZmFkZSBpbiB0byBjb21wbGV0ZSBiZWZvcmUgY2hhbmdpbmcgdGhlIHBhZ2VcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gICAgfSwgMzAwKTsgLy8gVGhpcyBkdXJhdGlvbiBzaG91bGQgbWF0Y2ggdGhlIENTUyBvcGFjaXR5IHRyYW5zaXRpb25cclxufVxyXG5cclxuLy8gRXhhbXBsZSB1c2FnZVxyXG4vLyBuYXZpZ2F0ZVRvKCduZXh0LXBhZ2UuaHRtbCcpO1xyXG5cclxuXHJcblxyXG4vLyBNZXNzYWdlIFxyXG5jb25zdCBtZXNzYWdlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlJyk7XHJcbmZ1bmN0aW9uIGNoYW5nZU1lc3NhZ2UobmV3TWVzc2FnZSwgY2xvbmVXb3Jkcykge1xyXG4gICAgY29uc3QgbW9kaWZpZWRNZXNzYWdlID0gbmV3TWVzc2FnZS5yZXBsYWNlKGNsb25lV29yZHMsIGA8c3BhbiBpZD1cImFsb25lXCIgdGl0bGU9XCJZb3UgZmVlbCBwZWNraXNoIGZvciBzb21lIHNlYWZvb2RcIj4ke2Nsb25lV29yZHN9PC9zcGFuPmApO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgbWVzc2FnZUVsZW1lbnQuaW5uZXJIVE1MID0gbW9kaWZpZWRNZXNzYWdlO1xyXG59XHJcbmZ1bmN0aW9uIGdldE1lc3NhZ2UoKSB7XHJcbiAgICByZXR1cm4gbWVzc2FnZUVsZW1lbnQ7XHJcbn1cclxuXHJcbi8qIEdBTUUgTE9PUCAqL1xyXG5cclxuXHJcbmxldCBtaWxsaXNlY29uZHNfcGVyX2ZyYW1lID0gNTA7XHJcbmxldCBsYXN0X3RpbWUgPSBudWxsO1xyXG5sZXQgdG90YWxfdGltZSA9IDA7XHJcbmxldCBhY2N1bXVsYXRlZF9sYWcgPSAwO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGxvb3AoY3VycmVudF90aW1lKSB7XHJcbiAgICBpZiAobGFzdF90aW1lID09PSBudWxsKSBsYXN0X3RpbWUgPSBjdXJyZW50X3RpbWU7XHJcblxyXG4gICAgY29uc3QgZGVsdGFfdGltZSA9IGN1cnJlbnRfdGltZSAtIGxhc3RfdGltZTtcclxuXHJcbiAgICB0b3RhbF90aW1lICs9IGRlbHRhX3RpbWU7XHJcbiAgICBhY2N1bXVsYXRlZF9sYWcgKz0gZGVsdGFfdGltZTtcclxuXHJcbiAgICBsYXN0X3RpbWUgPSBjdXJyZW50X3RpbWU7XHJcblxyXG4gICAgLy8gQ2F0Y2ggdXAgYWxsIHRoZSBtaXNzZWQgdGlja3NcclxuICAgIGxldCBub3JtYWxSYXRlID0gbWlsbGlzZWNvbmRzX3Blcl9mcmFtZTtcclxuICAgIC8vIHNpbXVsYXRlIHdpdGggbGVzcyBmaWRlbGl0eSB0byBtYWtlIHVwIHRpbWVcclxuICAgIC8vIHdoaWxlIChhY2N1bXVsYXRlZF9sYWcgPj0gMTAwICogbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSkge1xyXG4gICAgLy8gICAgIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUgKj0gMTAwO1xyXG4gICAgLy8gfVxyXG4gICAgaWYgKGFjY3VtdWxhdGVkX2xhZyA+PSAxMCAqIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUpIHtcclxuICAgICAgICBtaWxsaXNlY29uZHNfcGVyX2ZyYW1lID0gYWNjdW11bGF0ZWRfbGFnIC8gMTA7XHJcbiAgICB9XHJcbiAgICB3aGlsZSAoYWNjdW11bGF0ZWRfbGFnID49IG1pbGxpc2Vjb25kc19wZXJfZnJhbWUpIHtcclxuXHJcbiAgICAgICAgYWNjdW11bGF0ZWRfbGFnIC09IG1pbGxpc2Vjb25kc19wZXJfZnJhbWU7XHJcbiAgICAgICAgdXBkYXRlKG1pbGxpc2Vjb25kc19wZXJfZnJhbWUsIHRvdGFsX3RpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUgPSBub3JtYWxSYXRlO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG59XHJcblxyXG5cclxubGV0IHRpbWVfc2luY2VfbGFzdF9zYXZlID0gMDtcclxubGV0IHRpbWVfc2luY2VfbWFudWZhdHVyZSA9IDA7XHJcbmZ1bmN0aW9uIHVwZGF0ZShkZWx0YV90aW1lLCB0b3RhbF90aW1lKSB7XHJcblxyXG4gICAgZm9yIChsZXQga2V5IGluIHJlc291cmNlcykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwidXBkYXRpbmcgXCIgKyBrZXkpO1xyXG5cclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKGtleSwgY2FsY0luY3JlYXNlKGtleSwgZGVsdGFfdGltZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcygpO1xyXG4gICAgcmVuZGVyKCk7XHJcblxyXG4gICAgLy8gU2F2ZSB0aGUgZ2FtZSBldmVyeSAxMCBzZWNvbmRzXHJcbiAgICB0aW1lX3NpbmNlX2xhc3Rfc2F2ZSArPSBkZWx0YV90aW1lO1xyXG4gICAgdGltZV9zaW5jZV9tYW51ZmF0dXJlICs9IGRlbHRhX3RpbWU7XHJcbiAgICB0b3RhbF90aW1lICs9IGRlbHRhX3RpbWU7XHJcbiAgICBpZiAodGltZV9zaW5jZV9sYXN0X3NhdmUgPj0gMTAwMDApIHtcclxuICAgICAgICBzYXZlR2FtZSgpO1xyXG4gICAgICAgIHRpbWVfc2luY2VfbGFzdF9zYXZlID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYW51ZmFjdHVyZSBldmVyeSBzZWNvbmRcclxuICAgIGlmIChwYXNzZWRTdGFnZSgnZmFjdG9yeVRhYicpICYmIHRpbWVfc2luY2VfbWFudWZhdHVyZSA+PSAxMDAwKSB7XHJcbiAgICAgICAgYXR0ZW1wdE1hbnVmYWN0dXJlKCk7XHJcbiAgICAgICAgdGltZV9zaW5jZV9tYW51ZmF0dXJlID0gMDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8vIHdpbmRvdy5zZXRJbnRlcnZhbChyZW5kZXIsIDEwMCkgLy8gVXBkYXRlIHZpc3VhbHMgMTAgdGltZXMgcGVyIHNlY29uZFxyXG4vLyB3aW5kb3cuc2V0SW50ZXJ2YWwodGljaywgMTAwMCk7IC8vIEV2ZXJ5IHRpY2sgbGFzdHMgZm9yIDEgc2Vjb25kXHJcbi8vIHdpbmRvdy5zZXRJbnRlcnZhbChzYXZlR2FtZSwgMTAwMDApOyAvLyBTYXZlIHRoZSBnYW1lIGV2ZXJ5IDEwIHNlY29uZHNcclxuXHJcblxyXG5cclxuLy8gY29uc3QgbXlSZXNvdXJjZXMgPSB7fTtcclxuXHJcbi8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkUmVzb3VyY2VCdG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VGb3JtXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbi8vIH0pO1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGFkZFJlc291cmNlKCkge1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgcmVzb3VyY2VOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZU5hbWVcIikudmFsdWU7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBhY3RpdmVUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZUFjdGl2ZVRleHRcIikudmFsdWU7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBkZWZhdWx0VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VEZWZhdWx0VGV4dFwiKS52YWx1ZTtcclxuXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBidG5UZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5UZXh0XCIpLnZhbHVlO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgYnRuVG9vbHRpcERlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blRvb2x0aXBEZXNjXCIpLnZhbHVlO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgYnRuVG9vbHRpcENvc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blRvb2x0aXBDb3N0XCIpLnZhbHVlO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHZhciBuZXdSZXNvdXJjZSA9IG15UmVzb3VyY2VzW3Jlc291cmNlTmFtZV0gPSB7XHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgaWQ6IFwiZ2F0aGVyXCIgKyByZXNvdXJjZU5hbWUsXHJcbiAgICAgICAgaXNHZXR0aW5nOiBmYWxzZSxcclxuICAgICAgICBhY3RpdmVUZXh0OiBhY3RpdmVUZXh0LFxyXG4gICAgICAgIGRlZmF1bHRUZXh0OiBkZWZhdWx0VGV4dCxcclxuICAgICAgICAvLyAuLi4gQWRkIG90aGVyIGF0dHJpYnV0ZXMgYXMgZmV0Y2hlZCBmcm9tIGZvcm0gLi4uXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgYnV0dG9uIG9iamVjdFxyXG4gICAgdmFyIG5ld0J1dHRvbiA9IGJ1dHRvbnNbXCJnYXRoZXJcIiArIHJlc291cmNlTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlc291cmNlTmFtZS5zbGljZSgxKV0gPSB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwICcsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogYnRuVGV4dCxcclxuICAgICAgICB0b29sdGlwRGVzYzogYnRuVG9vbHRpcERlc2MsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6IGJ0blRvb2x0aXBDb3N0LFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlIC8vIEJ5IGRlZmF1bHQsIG1ha2luZyB0aGlzIGFsd2F5cyB2aXNpYmxlLiBNb2RpZnkgYXMgbmVlZGVkLlxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhuZXdSZXNvdXJjZSk7XHJcbiAgICBjb25zb2xlLmxvZyhuZXdCdXR0b24pO1xyXG5cclxuICAgIC8vIEhpZGUgZm9ybSBvbmNlIHJlc291cmNlIGlzIGFkZGVkXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc291cmNlRm9ybVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgLy8gT3B0aW9uYWxseSwgeW91IGNhbiB1cGRhdGUgdGhlIFVJIHRvIHNob3cgdGhlIGFkZGVkIHJlc291cmNlXHJcbiAgICAvLyB1cGRhdGVVSShyZXNvdXJjZU5hbWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVVSShyZXNvdXJjZU5hbWUpIHtcclxuICAgIC8vIEhlcmUgeW91IGNhbiBjcmVhdGUgYSBuZXcgRE9NIGVsZW1lbnQgdG8gZGlzcGxheSB0aGUgYWRkZWQgcmVzb3VyY2VcclxuICAgIGNvbnN0IHJlc291cmNlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIHJlc291cmNlRGl2LmlubmVySFRNTCA9IGAke3Jlc291cmNlTmFtZX06ICR7cmVzb3VyY2VzW3Jlc291cmNlTmFtZV0udmFsdWV9YDtcclxuXHJcbiAgICAvLyBBcHBlbmQgdG8gc29tZSBjb250YWluZXJcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVzb3VyY2VEaXYpO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuY29uc3QgdG9vbHRpcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeW5hbWljLXRvb2x0aXAnKTtcclxuXHJcbmZ1bmN0aW9uIHNob3dUb29sdGlwKHRhcmdldCwgZGVzYywgZWZmZWN0LCBjb3N0KSB7XHJcbiAgICBsZXQgY29udGVudCA9ICcnO1xyXG5cclxuICAgIGlmIChkZXNjKSB7XHJcbiAgICAgICAgY29udGVudCArPSBgPHNwYW4gPiR7ZGVzY308L3NwYW4+PGhyPmA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVmZmVjdCkge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gYDxzcGFuIHN0eWxlPVwiY29sb3I6IzAwQUJFN1wiPiR7ZWZmZWN0fTwvc3Bhbj48aHI+YDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29zdCkge1xyXG4gICAgICAgIC8vIGNvbnRlbnQgKz0gYDxzcGFuIHN0eWxlPVwiY29sb3I6I0Y0RDAzRlwiPiR7Y29zdH08L3NwYW4+PGJyPmA7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHN0ciA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFttYXRlcmlhbCwgYW1vdW50XSBvZiBPYmplY3QuZW50cmllcyhjb3N0KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgbWF0ZXJpYWwgPSByZXE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNFbm91Z2ggPSBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSA+PSBhbW91bnQ7LyogWW91ciBsb2dpYyB0byBjaGVjayBpZiB0aGVyZSdzIGVub3VnaCBvZiB0aGUgbWF0ZXJpYWwgKi87XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JDbGFzcyA9IGhhc0Vub3VnaCA/ICdlbm91Z2gnIDogJ25vdC1lbm91Z2gnO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdldE1heChtYXRlcmlhbCkgPCBhbW91bnQpIGNvbG9yQ2xhc3MgPSAnZXhjZWVkcy1tYXgnO1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGA8c3BhbiBjbGFzcz1cInRvb2x0aXAtJHttYXRlcmlhbH0gJHtjb2xvckNsYXNzfVwiPiR7YW1vdW50LnRvRml4ZWQoMCl9ICR7bWF0ZXJpYWx9PC9zcGFuPmA7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kc1JlbWFpbmluZyA9IGNhbGNTZWNvbmRzUmVtYWluaW5nKG1hdGVyaWFsLCBhbW91bnQpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2Vjb25kc1JlbWFpbmluZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kc1JlbWFpbmluZyA+IDAgJiYgY29sb3JDbGFzcyAhPSAnZXhjZWVkcy1tYXgnKSB7IHN0ciArPSBgPHNwYW4gY2xhc3M9XCJ0aW1lLXJlbWFpbmluZ1wiPigkeyhzZWNvbmRzUmVtYWluaW5nKS50b0ZpeGVkKDApfSBzZWNvbmRzKTwvc3Bhbj5gOyB9XHJcbiAgICAgICAgICAgICAgICBzdHIgKz0gYDxicj5gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gc3RyO1xyXG5cclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29udGVudCArPSBjb3N0O1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ291bGRuJ3QgbWFrZSBub3JtYWwgY29zdCBmb3IgYnV0dG9uOiBcIiwgdGFyZ2V0LCBjb3N0LCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2codGFyZ2V0LCBjb250ZW50KTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRvb2x0aXAuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRvb2x0aXAuc3R5bGUubGVmdCA9ICh0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQgKyA1KSArICdweCc7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLnN0eWxlLnRvcCA9ICh0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gdG9vbHRpcC5vZmZzZXRIZWlnaHQgLyAyKSArICdweCc7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoaWRlVG9vbHRpcCgpIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVG9vbHRpcChidXR0b24pIHtcclxuICAgIGNvbnN0IGRlc2MgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycpIHx8IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBEZXNjJyk7XHJcbiAgICBjb25zdCBlZmZlY3QgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZWZmZWN0Jyk7XHJcbiAgICAvLyBjb25zdCBjb3N0ID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnKTtcclxuXHJcbiAgICBjb25zdCBjb25maWcgPSBnZXRSZXNvdXJjZUNvbmZpZ0J5SWQoYnV0dG9uLmlkKSB8fCBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkKGJ1dHRvbi5pZCkgfHwgYnVpbGRpbmdzW2J1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGFfYnVpbGRpbmcnKV0gfHwgcG9uZGVyc1tidXR0b24uZ2V0QXR0cmlidXRlKCd1bmxvY2snKV07XHJcbiAgICAvLyBjb25zb2xlLmxvZyhjb25maWcpO1xyXG4gICAgY29uc3QgY29zdCA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBDb3N0JykgLyp8fCBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcpICovIHx8IGNvbmZpZy5jb3N0O1xyXG4gICAgc2hvd1Rvb2x0aXAoYnV0dG9uLCBkZXNjLCBlZmZlY3QsIGNvc3QpO1xyXG59XHJcblxyXG5cclxuLy8gQWZ0ZXIgYWxsIGhhcyBiZWVuIGxvYWRlZFxyXG4vLyBAdHMtaWdub3JlXHJcbi8vIEB0cy1pZ25vcmVcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIChldmVudCkgPT4ge1xyXG4gICAgZ2VuZXJhdGVQb25kZXJCdXR0b25zKHBvbmRlcnMpO1xyXG4gICAgYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucygpO1xyXG4gICAgZ2VuZXJhdGVCdXR0b25zKCk7IC8vIENhbGwgdGhpcyBvbmNlIG9uIHBhZ2UgbG9hZCBvciBnYW1lIGluaXRpYWxpemF0aW9uXHJcblxyXG4gICAgbG9hZEdhbWUoKTtcclxuICAgIHVwZGF0ZVNpZGViYXIoKTtcclxuICAgIHNob3dUYWIoJ3Byb2R1Y3Rpb25UYWInKTtcclxuICAgIHJlcXVpcmUoJy4vdHJhZGUnKS5nZW5lcmF0ZVRyYWRlVGFibGUocmVzb3VyY2VzKTtcclxuICAgIC8vIGNyZWF0ZVJlc291cmNlVGFnKCdzdGlja3MnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSS2V5RnJvbUlEKGlkKSB7XHJcbiAgICAgICAgZm9yIChsZXQgciBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzb3VyY2VzW3JdLmlkLCBpZCk7XHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcl0uaWQgPT09IGlkKSByZXR1cm4gcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0Q1JLZXlGcm9tSUQoaWQpIHtcclxuICAgICAgICBmb3IgKGxldCByIGluIGNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzb3VyY2VzW3JdLmlkLCBpZCk7XHJcbiAgICAgICAgICAgIGlmIChjcmFmdGVkUmVzb3VyY2VzW3JdLmlkID09PSBpZCkgcmV0dXJuIHI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKFwiYnV0dG9uXCIpKSB7XHJcbiAgICAgICAgICAgIC8vIG9uZSBvZiBvdXIgYnV0dG9ucyB3YXMgY2xpY2tlZFxyXG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGlja2VkJywgYnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0b29sdGlwcyBcclxuICAgICAgICAgICAgLy8gaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3Rvb2x0aXAnKSkgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgICAgICAvLyB1cGRhdGVUb29sdGlwKGJ1dHRvbik7XHJcblxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGlmIChidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJykgJiYgYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YV9idWlsZGluZycpICE9PSAndW5kZWZpbmVkJyAmJiBidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXJjaGFzYWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICB2YXIgYnVpbGRpbmcgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnV5TWF4QnVpbGRpbmdzKGJ1aWxkaW5nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJ1eUJ1aWxkaW5nKGJ1aWxkaW5nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCd1bmxvY2snKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdW5sb2NrQXR0ciA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3VubG9jaycpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1bmxvY2tBdHRyKTtcclxuICAgICAgICAgICAgICAgIGlmIChwb25kZXJzW3VubG9ja0F0dHJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhblVubG9jayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gcG9uZGVyc1t1bmxvY2tBdHRyXS5jb3N0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSA8IHBvbmRlcnNbdW5sb2NrQXR0cl0uY29zdFttYXRlcmlhbF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2Fubm90IHVubG9jayBcIiArIHVubG9ja0F0dHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuVW5sb2NrID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhblVubG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBtYXRlcmlhbCBpbiBwb25kZXJzW3VubG9ja0F0dHJdLmNvc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY3JlYXNlTWF0ZXJpYWwobWF0ZXJpYWwsIC1wb25kZXJzW3VubG9ja0F0dHJdLmNvc3RbbWF0ZXJpYWxdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb25kZXJzW3VubG9ja0F0dHJdLmlzUG9uZGVyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlVmlzaWJsZSh1bmxvY2tBdHRyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIHJlc291cmNlS2V5ICsgXCJWYWx1ZVwiKS50ZXh0Q29udGVudCA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLnZhbHVlLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgdGhpcyBidXR0b24gZGlzYXBwZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVubG9ja2luZyBcIiArIHVubG9ja0F0dHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmlkLnNsaWNlKDAsIDYpID09PSBcImdhdGhlclwiKSB0b2dnbGVSZXNvdXJjZShnZXRSS2V5RnJvbUlEKGJ1dHRvbi5pZCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZC5zbGljZSgwLCA1KSA9PT0gJ2NyYWZ0JylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIGNyYWZ0QWxsUmVzb3VyY2VzKGdldENSS2V5RnJvbUlEKGJ1dHRvbi5pZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgY3JhZnRSZXNvdXJjZShnZXRDUktleUZyb21JRChidXR0b24uaWQpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdzYXZlQnV0dG9uJykgc2F2ZUdhbWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdlYXRGaXNoJykgZWF0RmlzaCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJ292ZXJsYXktYnV0dG9uJykgaGlkZU92ZXJsYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdkZWxldGVTYXZlQnV0dG9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzYXZlJyk7IGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkID09PSAnY2xlYXJKb2JBc3NpZ25tZW50cycpIGNsZWFySm9iQXNzaWdubWVudHMoKTtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJ2RhcmtNb2RlVG9nZ2xlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyay1tb2RlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGRhcmtNb2RlVG9nZ2xlLmNsYXNzTGlzdC50b2dnbGUoJ2RhcmsnKTtcclxuICAgICAgICAgICAgICAgICAgICBpc0RhcmsgPSAhaXNEYXJrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBkYXJrTW9kZVRvZ2dsZS50ZXh0Q29udGVudCA9IGlzRGFyayA/IFwiTGlnaHQgTW9kZVwiIDogXCJEYXJrIE1vZGVcIjtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkID09PSAnMm1haW4nKSBzaG93VGFiKCdtYWluVGFiJyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICcyZ3JhcGhzJykgc2hvd1RhYignZ3JhcGhzVGFiJyk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygndGllck9uZUJ1dHRvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGVyayA9IGJ1dHRvbi50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgIHNlbGVjdEFiaWxpdHkocGVyayk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKFwiI2Fsb25lXCIpKSB7XHJcbiAgICAgICAgICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwoJ2Nsb25lcycsIDEpO1xyXG4gICAgICAgICAgICAvLyBIYXJkY29kZWQgaW5zdGVhZCB0byBhdm9pZCBpbmNyZWFzZSBhZmZlY3RlZCBieSBwcm9kdWN0aXZpdHkgYm9udXNlc1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzWydjbG9uZXMnXS52YWx1ZSA8IHJlc291cmNlc1snY2xvbmVzJ10ubWF4KSByZXNvdXJjZXNbJ2Nsb25lcyddLnZhbHVlICs9IDE7XHJcblxyXG4gICAgICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG1ha2VGYWN0b3J5QnV0dG9ucygpIHtcclxuICAgICAgICBjb25zdCBmYWN0b3J5QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmYWN0b3J5QnV0dG9ucycpO1xyXG5cclxuICAgICAgICBjb25zdCBidXlGYWN0b3J5QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgYnV5RmFjdG9yeUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0b29sdGlwJyk7XHJcbiAgICAgICAgYnV5RmFjdG9yeUJ1dHRvbi5pZCA9ICdidXlGYWN0b3J5QnV0dG9uJztcclxuICAgICAgICBidXlGYWN0b3J5QnV0dG9uLnRleHRDb250ZW50ID0gJ0J1eSBOZXcgRmFjdG9yeSc7XHJcbiAgICAgICAgYnV5RmFjdG9yeUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgJ1RoZSBmYWN0b3J5IG11c3QgZ3JvdyEnKTtcclxuICAgICAgICBidXlGYWN0b3J5QnV0dG9uLnNldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnLCAnNTAgc2lsdmVyJyk7XHJcbiAgICAgICAgZmFjdG9yeUJ1dHRvbnMuYXBwZW5kQ2hpbGQoYnV5RmFjdG9yeUJ1dHRvbik7XHJcblxyXG4gICAgICAgIGJ1eUZhY3RvcnlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdidXlpbmcgZmFjdG9yeScpO1xyXG4gICAgICAgICAgICBidXlGYWN0b3J5KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVwZ3JhZGVCdWxrQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgdXBncmFkZUJ1bGtCdXR0b24uY2xhc3NMaXN0LmFkZCgndG9vbHRpcCcpO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLmlkID0gJ3VwZ3JhZGVCdWxrQnV0dG9uJztcclxuICAgICAgICB1cGdyYWRlQnVsa0J1dHRvbi50ZXh0Q29udGVudCA9ICdVcGdyYWRlIEJ1bGsnO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWRlc2MnLCAnQ3JhZnQgbW9yZSByZXNvdXJjZXMgcGVyIHNlY29uZCcpO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLnNldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnLCAnMiDihpIgNDogMzAgc2lsdmVyJyk7XHJcbiAgICAgICAgZmFjdG9yeUJ1dHRvbnMuYXBwZW5kQ2hpbGQodXBncmFkZUJ1bGtCdXR0b24pO1xyXG5cclxuICAgICAgICB1cGdyYWRlQnVsa0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndXBncmFkaW5nIGJ1bGsnKTtcclxuICAgICAgICAgICAgdXBncmFkZUJ1bGsoKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuICAgIG1ha2VGYWN0b3J5QnV0dG9ucygpO1xyXG4gICAgY3JlYXRlRmFjdG9yeURpdigpO1xyXG5cclxuXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcblxyXG4gICAgLy8gU2FtcGxlIHVzYWdlOlxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvb2x0aXAnKS5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uKTtcclxuICAgICAgICAvLyBFeHRyYWN0IHRoZSBkYXRhIGZyb20geW91ciBidWlsZGluZyBvciBhbnkgb3RoZXIgZGF0YSAtIHNvdXJjZVxyXG4gICAgICAgIC8vIGNvbnN0IGNvbnRlbnQgPSBcIllvdXIgdG9vbHRpcCBjb250ZW50IGhlcmVcIjtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgICAgICBjdXJyZW50SG92ZXJCdXR0b24gPSBidXR0b247XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBUT0RPOiBtb3ZlIHRoaXMgZXZlbnQgbGlzdGVuZXJcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignb25jbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHsgaGlkZVRvb2x0aXAoKTsgY3VycmVudEhvdmVyQnV0dG9uID0gbnVsbDsgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIGpvYnMgY291bnRlclxyXG4gICAgdXBkYXRlVG90YWwoKTtcclxuXHJcblxyXG59KTtcclxuXHJcbnZhciBjdXJyZW50SG92ZXJCdXR0b24gPSBudWxsO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblxyXG4gICAgdXBkYXRlU2lkZWJhcixcclxuICAgIHVwZGF0ZVVJLFxyXG4gICAgc2V0VG90YWxUaW1lLFxyXG4gICAgY2hhbmdlTWVzc2FnZSxcclxuXHJcbiAgICBnZXRNZXNzYWdlLFxyXG4gICAgdG90YWxfdGltZSxcclxuICAgIGN1cnJlbnRIb3ZlckJ1dHRvblxyXG5cclxufTtcclxuIiwiXHJcbmNvbnN0IHsgc2V0U3RhZ2UsIHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG5jb25zdCB7IHVwZGF0ZUJ1dHRvblZpc2liaWxpdHkgfSA9IHJlcXVpcmUoJy4vdXBkYXRlQnV0dG9uVmlzaWJpbGl0eScpO1xyXG5cclxuLyoqXHJcbiAqIE1ha2UgZXZlcnl0aGluZyB3aXRoIHRoZSBjbGFzcyBcInN0YWdlXCIgdmlzaWJsZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhZ2VcclxuICovXHJcbmZ1bmN0aW9uIG1ha2VWaXNpYmxlKHN0YWdlKSB7XHJcbiAgICBpZiAoIXBhc3NlZFN0YWdlKHN0YWdlKSkge1xyXG4gICAgICAgIHNldFN0YWdlKHN0YWdlKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHN0YWdlRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwicC5cIiArIHN0YWdlKTtcclxuICAgIHN0YWdlRWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpKTtcclxuICAgIC8vIFxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgc3RhZ2VFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4gZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJycpO1xyXG4gICAgdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSgpO1xyXG59XHJcbmV4cG9ydHMubWFrZVZpc2libGUgPSBtYWtlVmlzaWJsZTsiLCJjb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpO1xyXG5jb25zdCB7IHBlcmtzIH0gPSByZXF1aXJlKCcuL2pzb24vcGVya3MnKTtcclxubGV0IG15UGVya3MgPSBbXTtcclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IHBlcmtOYW1lIFxyXG4gKiBAcmV0dXJucyBib29sZWFuXHJcbiAqL1xyXG5mdW5jdGlvbiBoYXNQZXJrKHBlcmtOYW1lKSB7XHJcbiAgICByZXR1cm4gbXlQZXJrcy5pbmNsdWRlcyhwZXJrTmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEFsbFBlcmtzKCkge1xyXG4gICAgcmV0dXJuIG15UGVya3M7XHJcbn1cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGVya05hbWUgUGVyayB0byBhZGRcclxuICovXHJcbmZ1bmN0aW9uIGFkZFBlcmsocGVya05hbWUpIHtcclxuICAgIG15UGVya3MucHVzaChwZXJrTmFtZSk7XHJcblxyXG4gICAgLy8gRG8gYWxsIHRoZSBvbmUtdGltZSB1cGRhdGVzXHJcbiAgICBzd2l0Y2ggKHBlcmtOYW1lKSB7XHJcbiAgICAgICAgY2FzZSAnQXJjaGl0ZWN0JzpcclxuICAgICAgICAgICAgZm9yIChsZXQgYiBpbiBidWlsZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vYnVpbGRpbmdzJykucmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QoYiwgYnVpbGRpbmdzLCBoYXNQZXJrKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0aWVyTnVtIFxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UGVya0Zyb21UaWVyKHRpZXJOdW0pIHtcclxuICAgIGZvciAobGV0IHBlcmsgaW4gcGVya3NbJ3RpZXInICsgdGllck51bV0pIHtcclxuICAgICAgICBpZiAoaGFzUGVyayhwZXJrKSkgcmV0dXJuIHBlcms7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gcGVyayBmb3IgdGhpcyB0aWVyXHJcbiAgICByZXR1cm4gJyc7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzZWxlY3RBYmlsaXR5KGFiaWxpdHlOYW1lKSB7XHJcbiAgICBpZiAoaGFzUGVyayhhYmlsaXR5TmFtZSkpIHJldHVybjtcclxuXHJcbiAgICBsZXQgY29uZmlybVNlbGVjdGlvbiA9IHdpbmRvdy5jb25maXJtKFwiRG8geW91IHdhbnQgdG8gc2VsZWN0IFwiICsgYWJpbGl0eU5hbWUgKyBcIj8gVGhpcyBkZWNpc2lvbiBjYW5ub3QgYmUgZWFzaWx5IGNoYW5nZWQuXCIpO1xyXG5cclxuICAgIGlmICghY29uZmlybVNlbGVjdGlvbikgcmV0dXJuO1xyXG4gICAgYWRkUGVyayhhYmlsaXR5TmFtZSk7XHJcblxyXG4gICAgLy8gZm9yIChsZXQgaSA9IDE7IGkgPD0gMTsgKytpKVxyXG4gICAgcmVxdWlyZSgnLi9zZWxlY3RDb3JyZWN0UGVya0J1dHRvbicpLnNlbGVjdENvcnJlY3RQZXJrQnV0dG9uKGFiaWxpdHlOYW1lKTtcclxuXHJcbiAgICAvLyBteVBlcmtzLnB1c2goYWJpbGl0eU5hbWUpO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgaGFzUGVyayxcclxuICAgIGFkZFBlcmssXHJcbiAgICBzZWxlY3RBYmlsaXR5LFxyXG4gICAgZ2V0UGVya0Zyb21UaWVyLFxyXG4gICAgZ2V0QWxsUGVya3NcclxufTsiLCIvLyBERVBFTkRTIE9OOiBqc29uL2J1dHRvbnMuanNcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vY2FwaXRhbGl6ZUZpcnN0Jyk7XHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZSgnLi9qc29uL3BvbmRlcicpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcblxyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoJy4vanNvbi9idXR0b25zJyk7XHJcblxyXG5mdW5jdGlvbiBpc1BvbmRlcmVkKGlkKSB7XHJcbiAgICAvLyBDaGVjayBpZiB0aGUgaWQgZXhpc3RzIGluIHRoZSB1bmxvY2tzIG1hcFxyXG4gICAgLy8gSWYgdGhlIGlkIGRvZXNuJ3QgZXhpc3QgaW4gdGhlIG1hcCwgcmV0dXJuIGZhbHNlXHJcblxyXG4gICAgcmV0dXJuIHBvbmRlcnNbaWRdID8gcG9uZGVyc1tpZF0uaXNQb25kZXJlZCA6IGZhbHNlO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY2FuVW5sb2NrKHVubG9ja0lkKSB7XHJcbiAgICAvLyBHZXQgdGhlIGtleSBmcm9tIHRoaXMgaWRcclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYW4gdW5sb2NrPyAnLCB1bmxvY2tJZCk7XHJcbiAgICB2YXIgdW5sb2NrS2V5ID0gJyc7XHJcbiAgICBmb3IgKGxldCB1bmxvY2sgaW4gcG9uZGVycykge1xyXG4gICAgICAgIGlmIChwb25kZXJzW3VubG9ja10uaWQgPT09IHVubG9ja0lkKSB7XHJcbiAgICAgICAgICAgIHVubG9ja0tleSA9IHVubG9jaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHVubG9ja0tleSA9PT0gJycpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJpbnZhbGlkIHVubG9jayBpZDogXCIsIHVubG9ja0lkKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGVub3VnaCByZXNvdXJjZXNcclxuICAgIHZhciBjYW5CdXkgPSB0cnVlO1xyXG4gICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gcG9uZGVyc1t1bmxvY2tLZXldLmNvc3QpIHtcclxuICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPCBwb25kZXJzW3VubG9ja0tleV0uY29zdFttYXRlcmlhbF0pIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYW5ub3QgdW5sb2NrIFwiICsgdW5sb2NrSWQpO1xyXG4gICAgICAgICAgICBjYW5CdXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYW4gd2UgdW5sb2NrICcsIHVubG9ja0lkLCBjYW5CdXkpO1xyXG4gICAgcmV0dXJuIGNhbkJ1eTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUG9uZGVyQnV0dG9ucyhwb25kZXJPYmplY3RzKSB7XHJcbiAgICAvLyBjb25zdCBnZW5lcmF0ZWRCdXR0b25zID0ge307XHJcblxyXG4gICAgZm9yIChjb25zdCBbcG9uZGVyS2V5LCBwb25kZXJPYmpdIG9mIE9iamVjdC5lbnRyaWVzKHBvbmRlck9iamVjdHMpKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvbktleSA9IGBwb25kZXIke2NhcGl0YWxpemVGaXJzdChwb25kZXJLZXkpfWA7IC8vIGUuZy4gcG9uZGVyRmlzaGluZ1xyXG5cclxuICAgICAgICAvLyBsZXQgdG9vbHRpcENvc3QgPSBPYmplY3QuZW50cmllcyhwb25kZXJPYmouY29zdCkubWFwKChbbWF0ZXJpYWwsIGFtb3VudF0pID0+IGAke2Ftb3VudC50b0ZpeGVkKDApfSAke21hdGVyaWFsfWApLmpvaW4oJzxicj4nKTtcclxuICAgICAgICBsZXQgdG9vbHRpcENvc3QgPSByZXF1aXJlKCcuL3Jlc291cmNlcycpLmdlbmVyYXRlVG9vbHRpcENvc3QocG9uZGVyT2JqLmNvc3QpO1xyXG4gICAgICAgIGJ1dHRvbnNbYnV0dG9uS2V5XSA9IHtcclxuICAgICAgICAgICAgY2xhc3M6ICd0b29sdGlwIHVubG9jaycsXHJcbiAgICAgICAgICAgIHRleHQ6IHBvbmRlck9iai50ZXh0IHx8ICdQb25kZXIgYSBNeXN0ZXJ5PycsXHJcbiAgICAgICAgICAgIHRvb2x0aXBEZXNjOiBwb25kZXJPYmoudG9vbHRpcERlc2MgfHwgXCJXaG8ga25vd3Mgd2hhdCB5b3UnbGwgZGlzY292ZXJcIixcclxuICAgICAgICAgICAgdG9vbHRpcENvc3Q6IHRvb2x0aXBDb3N0LFxyXG4gICAgICAgICAgICB0YWI6ICdwb25kZXInLFxyXG4gICAgICAgICAgICB1bmxvY2s6IHBvbmRlcktleSxcclxuICAgICAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXF1aXJlKCcuL2hlbHBlcicpLmdldE1heCgncG9uZGVyJykgPj0gcG9uZGVyc1twb25kZXJLZXldLmNvc3RbJ3BvbmRlciddIC8gMjtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhpZGU6ICgpID0+IGlzUG9uZGVyZWQocG9uZGVyS2V5KVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbktleSwgYnV0dG9uc1tidXR0b25LZXldKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV0dXJuIGdlbmVyYXRlZEJ1dHRvbnM7XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGNhblVubG9jayxcclxuICAgIGlzUG9uZGVyZWQsXHJcbiAgICBnZW5lcmF0ZVBvbmRlckJ1dHRvbnNcclxufTsiLCJcclxuLy8gREVQRU5EUyBPTjogdG9vbHMuanMsIGpvYnMuanNcclxuY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoXCIuL2pzb24vcmVzb3VyY2VzXCIpO1xyXG5jb25zdCB7IGNyYWZ0ZWRSZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9jcmFmdGVkUmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgYnVpbGRpbmdzLCBnZXRCb29zdCB9ID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIik7XHJcbi8vIEB0cy1pZ25vcmVcclxuY29uc3QgeyBwb25kZXJzIH0gPSByZXF1aXJlKFwiLi9qc29uL3BvbmRlclwiKTtcclxuY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKFwiLi9qc29uL2J1dHRvbnNcIik7XHJcbmNvbnN0IHsgc2tpbGxzIH0gPSByZXF1aXJlKCcuL2pzb24vc2tpbGxzJyk7XHJcblxyXG5jb25zdCB7IGdldFdvcmtlcnMsIHVwZGF0ZVRvdGFsLCByZWFzc2lnbkpvYnNCYXNlZE9uUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pvYnMnKTtcclxuY29uc3QgeyBoYXNUb29sLCBnZXRUb29sVmFsdWVGb3JSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi90b29scycpO1xyXG5jb25zdCB7IHVwZGF0ZVNpZGViYXIsIHVwZGF0ZVNraWxscywgY2FsY0NyYWZ0Qm9udXMsIGdldE1heCB9ID0gcmVxdWlyZShcIi4vaGVscGVyXCIpO1xyXG5jb25zdCB7IGNhbkNyYWZ0IH0gPSByZXF1aXJlKCcuL2NhbkNyYWZ0Jyk7XHJcbmNvbnN0IHsgY2FwaXRhbGl6ZUZpcnN0IH0gPSByZXF1aXJlKCcuL2NhcGl0YWxpemVGaXJzdCcpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcblxyXG5jb25zdCB7IGhhc1BlcmsgfSA9IHJlcXVpcmUoJy4vcGVya3MnKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkIH0gPSByZXF1aXJlKCcuL3BvbmRlcicpO1xyXG5jb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi9nZXRDcmFmdGVkUmVzb3VyY2UnKTtcclxuLy8gY29uc29sZS5sb2coY2FwaXRhbGl6ZUZpcnN0KTtcclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IGpvYiBcclxuICogQHBhcmFtIHtzdHJpbmd9IHJlc291cmNlIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gaXNSZXNvdXJjZUFmZmVjdGVkQnlKb2Ioam9iLCByZXNvdXJjZSkge1xyXG4gICAgY29uc3Qgc2tpbGwgPSBza2lsbHNbam9iXTtcclxuICAgIGlmICghc2tpbGwpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICBpZiAoc2tpbGwuYWZmZWN0ZWRSZXNvdXJjZXMuaW5jbHVkZXMocmVzb3VyY2UpKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIHRvb2wgcmVxdWlyZW1lbnQgZm9yIHRoaXMgcmVzb3VyY2VcclxuICAgICAgICBpZiAoc2tpbGwubmVlZFRvb2xzICYmIEFycmF5LmlzQXJyYXkoc2tpbGwubmVlZFRvb2xzKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB0b29sT2JqIG9mIHNraWxsLm5lZWRUb29scykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdG9vbCBpbiB0b29sT2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2xPYmpbdG9vbF0uaW5jbHVkZXMocmVzb3VyY2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHBsYXllciBoYXMgdGhpcyB0b29sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBub3csIGp1c3QgcmV0dXJuaW5nIHRydWUgdG8gaW5kaWNhdGUgdGhlIHJlc291cmNlIGlzIGFmZmVjdGVkIGFuZCBhIHRvb2wgaXMgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJ1dCB5b3UgbWF5IHdhbnQgdG8gcmVwbGFjZSB0aGlzIHdpdGggYSBjaGVjayB0byBzZWUgaWYgdGhlIHBsYXllciBwb3NzZXNzZXMgdGhlIHJlcXVpcmVkIHRvb2xcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhc1Rvb2wodG9vbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFdlIG5lZWRlZCBhIHRvb2wgYnV0IG5vdCBmb3IgdGhpc1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgbm8gdG9vbCByZXF1aXJlbWVudCB3YXMgZm91bmQgZm9yIHRoZSByZXNvdXJjZSwgaXQncyBzdGlsbCBhZmZlY3RlZCBieSB0aGUgam9iXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIENsb25lcyB3b3JrIGF0IDEvNCB0aGUgc3BlZWQgYnkgZGVmYXVsdFxyXG52YXIgY2xvbmVNdWx0ID0gMC4yNTtcclxuLy8gY29uc29sZS5sb2coJ2luaXRpYWwnLCB3b3JrZXJzRGlzdHJpYnV0aW9uKTtcclxuZnVuY3Rpb24gY2FsY0luY3JlYXNlKHJlc291cmNlTmFtZSwgZGVsdGFfdGltZSkge1xyXG4gICAgdmFyIHRvdGFsID0gMDtcclxuXHJcbiAgICAvLyBjbG9uZXMgaW5jcmVhc2UgYnkgMSBwZXIgc2Vjb25kIGFzIGxvbmcgYXMgdGhlcmUncyBzcGFjZVxyXG4gICAgLy8gaWYgKHJlc291cmNlID09PSAnY2xvbmVzJyAmJiBwYXNzZWRTdGFnZSgnY2xvbmUnKSkge1xyXG4gICAgLy8gICAgIHRvdGFsID0gMTtcclxuICAgIC8vICAgICByZXR1cm4gdG90YWw7XHJcbiAgICAvLyB9XHJcbiAgICBpZiAoY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZU5hbWUpKSB7XHJcbiAgICAgICAgLy8gY2hlY2sgb3VyIGZhY3Rvcmllc1xyXG5cclxuICAgIH0gZWxzZSBpZiAoIXJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZU5hbWUpKSByZXR1cm4gdG90YWw7XHJcblxyXG4gICAgaWYgKHJlc291cmNlTmFtZSA9PT0gJ2Nsb25lcycgJiYgaXNQb25kZXJlZCgnYXV0b0Nsb25lJykpIHRvdGFsID0gMTtcclxuICAgIC8vIENoZWNrIHRvb2xzXHJcbiAgICB2YXIgY3VyclRvb2wgPSBnZXRUb29sVmFsdWVGb3JSZXNvdXJjZShyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSk7XHJcbiAgICAvLyBHYXRoZXJpbmcgcGVyc29uYWxseVxyXG4gICAgaWYgKHJlc291cmNlc1tyZXNvdXJjZU5hbWVdICYmIHJlc291cmNlc1tyZXNvdXJjZU5hbWVdLmlzR2V0dGluZykge1xyXG4gICAgICAgIHRvdGFsICs9IGN1cnJUb29sO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGpvYnNcclxuICAgIGxldCBsZWFkZXJNdWx0ID0gaGFzUGVyaygnTGVhZGVyJykgPyBjbG9uZU11bHQgKiAxLjUgOiBjbG9uZU11bHQ7XHJcbiAgICB0b3RhbCArPSBsZWFkZXJNdWx0ICogZ2V0V29ya2VycyhyZXNvdXJjZU5hbWUpIHx8IDA7XHJcblxyXG5cclxuICAgIC8vIEFwcGx5IHBlcmtzIHByb2R1Y3Rpb24gYm9vc3RcclxuICAgIGlmIChoYXNQZXJrKCdMdW1iZXJqYWNrJykgJiYgKHJlc291cmNlTmFtZSA9PSAnd29vZCcgfHwgcmVzb3VyY2VOYW1lID09ICdzdGlja3MnKSkgdG90YWwgKj0gMS4yNTtcclxuICAgIGlmIChoYXNQZXJrKCdNaW5lcicpICYmIChyZXNvdXJjZU5hbWUgPT0gJ3JvY2tzJyB8fCByZXNvdXJjZU5hbWUgPT0gJ29yZScpKSB0b3RhbCAqPSAxLjI1O1xyXG4gICAgaWYgKGhhc1BlcmsoJ0JvdGFuaXN0JykgJiYgKHJlc291cmNlTmFtZSA9PSAndmluZXMnIHx8IHJlc291cmNlTmFtZSA9PSAnaGVyYnMnIHx8IHJlc291cmNlTmFtZSA9PSAnd2hlYXQnKSkgdG90YWwgKj0gMS4yNTtcclxuXHJcbiAgICAvLyBBcHBseSBza2lsbHMgdG8gYWxsIGNsb25lc1xyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uYWZmZWN0ZWRSZXNvdXJjZXMuaW5jbHVkZXMocmVzb3VyY2VOYW1lKSkge1xyXG4gICAgICAgICAgICBsZXQgc2tpbGxSYXRpbyA9IDEuMDY7XHJcbiAgICAgICAgICAgIHZhciBtdWx0ID0gMSArIChNYXRoLnBvdyhza2lsbFJhdGlvLCBza2lsbHNbc2tpbGxdLmxldmVsKSAtIDEpIC8gMTAwO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIk11bHRpcGx5aW5nIGdhaW4gYnkgXCIgKyBtdWx0KTtcclxuICAgICAgICAgICAgdG90YWwgKj0gbXVsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEFsbCBidWlsZGluZ3MgYWZ0ZXIgbGV2ZWxcclxuICAgIGZvciAobGV0IGJ1aWxkaW5nIGluIGJ1aWxkaW5ncykge1xyXG4gICAgICAgIGNvbnN0IGJvb3N0RGF0YSA9IGdldEJvb3N0KGJ1aWxkaW5nLCByZXNvdXJjZU5hbWUpO1xyXG4gICAgICAgIGlmIChib29zdERhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGluY3JlYXNlID0gTWF0aC5wb3coYm9vc3REYXRhLCBidWlsZGluZ3NbYnVpbGRpbmddLmNvdW50KTtcclxuICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ2VmZmVjdGl2ZUJ1aWxkaW5ncycpKSBpbmNyZWFzZSAqPSAxLjAxO1xyXG4gICAgICAgICAgICB0b3RhbCAqPSBpbmNyZWFzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocmVzb3VyY2VOYW1lID09PSAncG9uZGVyJykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUE9OREVSSU5HIElOQzogXCIsdG90YWwpO1xyXG4gICAgICAgIGlmIChpc1BvbmRlcmVkKCdwb25kZXIxJykpIHRvdGFsICo9IDEuMDU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ2Zhc3RlclJlc291cmNlR2FpbicpKSB0b3RhbCAqPSAxLjA1O1xyXG5cclxuICAgIC8vIENvbnZlcnQgZnJvbSBzZWNvbmRzIHRvIG1pbGxpc2Vjb25kc1xyXG4gICAgdG90YWwgKj0gZGVsdGFfdGltZSAvIDEwMDA7XHJcbiAgICAvLyByb3VuZCB0b3RhbCB0byBuZWFyZXN0IHRob3VzYW5kdGhcclxuICAgIHRvdGFsID0gcGFyc2VGbG9hdCh0b3RhbC50b0ZpeGVkKDMpKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwidGltZSBmb3IgcmVzb3VyY2VzXCIsIGRlbHRhX3RpbWUsIHJlc291cmNlTmFtZSwgdG90YWwpO1xyXG4gICAgcmV0dXJuIHRvdGFsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjU2Vjb25kc1JlbWFpbmluZyhyZXNvdXJjZU5hbWUsIG5lZWRlZCkge1xyXG4gICAgaWYgKG5lZWRlZCA8PSByZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSkgcmV0dXJuIDA7XHJcblxyXG4gICAgLy8gSG93IG11Y2ggcGVyIHNlY29uZFxyXG4gICAgY29uc3QgaW5jcmVhc2UgPSBjYWxjSW5jcmVhc2UocmVzb3VyY2VOYW1lLCAxMDAwKTtcclxuICAgIGlmIChpbmNyZWFzZSA9PSAwKSByZXR1cm4gLTE7XHJcbiAgICAvLyBjb25zb2xlLmxvZygncGluZycpO1xyXG4gICAgLy8gRGlmZmVyZW5jZSBvdmVyIHRpbWVcclxuICAgIGNvbnN0IHRpbWVSZW1haW5pbmcgPSBNYXRoLmNlaWwobmVlZGVkIC0gcmVzb3VyY2VzW3Jlc291cmNlTmFtZV0udmFsdWUpIC8gaW5jcmVhc2U7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ2NhbGMgbWlsbGknLCByZXNvdXJjZU5hbWUsIG5lZWRlZCwgdGltZVJlbWFpbmluZyk7XHJcbiAgICAvLyBpZiAodGltZVJlbWFpbmluZyA9PSBJbmZpbml0eSB8fCB0aW1lUmVtYWluaW5nID09IC1JbmZpbml0eSkgcmV0dXJuIC0xO1xyXG4gICAgcmV0dXJuIHRpbWVSZW1haW5pbmc7XHJcbn1cclxuXHJcbi8vIENyZWF0ZSBhbGwgb3VyIHJlc291cmNlIHRhZ3MgaW4gdGhlIHNpZGViYXJcclxuY29uc3QgcmVzb3VyY2VzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc291cmNlcycpO1xyXG5mdW5jdGlvbiBjcmVhdGVSZXNvdXJjZVRhZyhyZXNvdXJjZU5hbWUsIGdyb3VwTmFtZSkge1xyXG4gICAgLy8gaWYgKCFyZXNvdXJjZXMuaGFzT3duUHJvcGVydHkocmVzb3VyY2VOYW1lKSkgdGhyb3cgXCJJbnZhbGlkIHJlc291cmNlOiBcIiArIHJlc291cmNlTmFtZTtcclxuICAgIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgcmVzb3VyY2UgdGFnIGZvciBcIiwgcmVzb3VyY2VOYW1lLCBncm91cE5hbWUpO1xyXG4gICAgbGV0IGdyb3VwQ29udGFpbmVyO1xyXG4gICAgaWYgKGdyb3VwTmFtZSkge1xyXG4gICAgICAgIGdyb3VwQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGdyb3VwLSR7Z3JvdXBOYW1lfWApO1xyXG4gICAgICAgIGlmICghZ3JvdXBDb250YWluZXIpIHtcclxuICAgICAgICAgICAgZ3JvdXBDb250YWluZXIgPSBjcmVhdGVSZXNvdXJjZUdyb3VwQ29udGFpbmVyKGdyb3VwTmFtZSk7XHJcbiAgICAgICAgICAgIHJlc291cmNlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChncm91cENvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ3JvdXBDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzb3VyY2VzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VEaXNwbGF5TmFtZSA9IGNhcGl0YWxpemVGaXJzdChyZXNvdXJjZU5hbWUpLnNwbGl0KCdfJykuam9pbignICcpO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgIHJlc291cmNlRWxlbWVudC5jbGFzc05hbWUgPSBgJHtyZXNvdXJjZU5hbWV9IHJlc291cmNlYDtcclxuICAgIHJlc291cmNlRWxlbWVudC5pZCA9IGByZXNvdXJjZS0ke3Jlc291cmNlTmFtZX1gO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlTmFtZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICByZXNvdXJjZU5hbWVTcGFuLmNsYXNzTmFtZSA9ICdyZXNvdXJjZU5hbWUnO1xyXG4gICAgcmVzb3VyY2VOYW1lU3Bhbi50ZXh0Q29udGVudCA9IGAke3Jlc291cmNlRGlzcGxheU5hbWV9OmA7XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VWYWx1ZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICByZXNvdXJjZVZhbHVlU3Bhbi5jbGFzc05hbWUgPSAncmVzb3VyY2VWYWx1ZSc7XHJcbiAgICByZXNvdXJjZVZhbHVlU3Bhbi5pZCA9IGAke3Jlc291cmNlTmFtZX1WYWx1ZWA7XHJcbiAgICBsZXQgbWF4ID0gZ2V0TWF4KHJlc291cmNlTmFtZSkgPT09IEluZmluaXR5ID8gJ+KInicgOiBnZXRNYXgocmVzb3VyY2VOYW1lKS50b0ZpeGVkKDIpO1xyXG5cclxuICAgIHJlc291cmNlVmFsdWVTcGFuLnRleHRDb250ZW50ID0gYCR7Z2V0TWF0ZXJpYWwocmVzb3VyY2VOYW1lKS50b0ZpeGVkKDIpfSAvICR7bWF4fWA7XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VSYXRlU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIHJlc291cmNlUmF0ZVNwYW4uY2xhc3NOYW1lID0gJ3Jlc291cmNlUmF0ZSc7XHJcbiAgICByZXNvdXJjZVJhdGVTcGFuLmlubmVySFRNTCA9IGAoK1xyXG4gICAgICAgICAgICA8c3BhbiBpZD1cIiR7cmVzb3VyY2VOYW1lfUluY3JlYXNlUmF0ZVwiPjA8L3NwYW4+L3MpYDtcclxuXHJcbiAgICByZXNvdXJjZUVsZW1lbnQuYXBwZW5kQ2hpbGQocmVzb3VyY2VOYW1lU3Bhbik7XHJcbiAgICByZXNvdXJjZUVsZW1lbnQuYXBwZW5kQ2hpbGQocmVzb3VyY2VWYWx1ZVNwYW4pO1xyXG4gICAgcmVzb3VyY2VFbGVtZW50LmFwcGVuZENoaWxkKHJlc291cmNlUmF0ZVNwYW4pO1xyXG5cclxuICAgIC8vIHJlc291cmNlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChyZXNvdXJjZUVsZW1lbnQpO1xyXG4gICAgZ3JvdXBDb250YWluZXIuYXBwZW5kQ2hpbGQocmVzb3VyY2VFbGVtZW50KTtcclxuXHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBvcmRlcmluZ1xyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIGNoYW5nZSB0aGUgb3JkZXIgb2YgYSByZXNvdXJjZVxyXG4gICAgZnVuY3Rpb24gY2hhbmdlUmVzb3VyY2VPcmRlcihyZXNvdXJjZUlkLCBuZXdPcmRlcikge1xyXG4gICAgICAgIGNvbnN0IHJlc291cmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocmVzb3VyY2VJZCk7XHJcbiAgICAgICAgaWYgKHJlc291cmNlKSB7XHJcbiAgICAgICAgICAgIHJlc291cmNlLnN0eWxlLm9yZGVyID0gbmV3T3JkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtY2xvbmVzXCIsIDEpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXN0aWNrc1wiLCAyKTsgLy8gTW92ZSBcIlN0aWNrc1wiIHRvIG9yZGVyIDJcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS12aW5lc1wiLCAzKTsgLy8gTW92ZSBcIlZpbmVzXCIgdG8gb3JkZXIgM1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXJvY2tzXCIsIDQpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLWZpc2hcIiwgNSk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtZnJlc2h3YXRlclwiLCA2KTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS13b29kXCIsIDcpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLW9yZVwiLCA4KTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1zYW5kXCIsIDkpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLWNsYXlcIiwgMTApO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXdoZWF0XCIsIDExKTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1oaWRlc1wiLCAxMik7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtZ2FtZVwiLCAxMyk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtaGVyYnNcIiwgMTQpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLWJlcnJpZXNcIiwgMTUpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXBvbmRlclwiLCA1MCk7XHJcblxyXG5cclxufVxyXG5cclxuXHJcbi8vIERlZmluZSBncm91cHMgZm9yIHlvdXIgcmVzb3VyY2VzXHJcbmNvbnN0IHJlc291cmNlR3JvdXBzID0ge1xyXG4gICAgYmFzaWNzOiBbJ2Nsb25lcycsICdzdGlja3MnLCAnYmVycmllcycsICdmaXNoJywgJ2dhbWUnLCAnd2hlYXQnLCAnZnJlc2h3YXRlciddLFxyXG4gICAgbWF0ZXJpYWxzOiBbJ3dvb2QnLCAnb3JlJywgJ3NhbmQnLCAnY2xheScsICd2aW5lcycsICdyb2NrcycsICdoaWRlcycsICdoZXJicyddLFxyXG4gICAgdG9vbHM6IFsnc2hhcnByb2NrcycsICdyb3BlJywgJ2hhbmRsZScsICdmaXNoaW5ncm9kJywgJ3BpY2theGUnLCAnYXhlJywgJ3NwZWFyJywgJ3N0YWZmJ10sXHJcbiAgICBhZHZhbmNlZDogWydnbGFzcycsICdwYXBlcicsICdjcmF0ZXMnLCAnbWVkaWNpbmUnLCAnbGVhdGhlciddLFxyXG4gICAgbWV0YWw6IFsnZ29sZCcsICdpcm9uJywgJ3NpbHZlcicsICdzdGVlbCddLFxyXG4gICAgY29uc3RydWN0aW9uOiBbJ2JyaWNrcycsICdiZWFtcycsICduYWlscycsICdzbGFicycsICdjb25jcmV0ZSddXHJcbiAgICAvLyAuLi4gQWRkIG90aGVyIGdyb3VwcyBhcyBuZWNlc3NhcnlcclxufTtcclxuXHJcblxyXG5mdW5jdGlvbiB0b2dnbGVHcm91cFZpc2liaWxpdHkoZ3JvdXBOYW1lKSB7XHJcbiAgICBjb25zdCBncm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBncm91cC0ke2dyb3VwTmFtZX1gKTtcclxuICAgIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0b2dnbGUtJHtncm91cE5hbWV9YCk7IC8vIEVuc3VyZSB5b3UgaGF2ZSB0aGlzIGJ1dHRvbiB3aXRoIHRoZSBpZCAndG9nZ2xlLWdyb3VwTmFtZSdcclxuXHJcbiAgICBBcnJheS5mcm9tKGdyb3VwLmNoaWxkcmVuKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09ICdQJykgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSBncm91cCBpcyBjdXJyZW50bHkgaGlkZGVuXHJcbiAgICBpZiAodG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYXJyb3ctZG93bicpKSB7XHJcbiAgICAgICAgdG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2Fycm93LWRvd24nKTtcclxuICAgICAgICB0b2dnbGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnYXJyb3ctcmlnaHQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2Fycm93LXJpZ2h0Jyk7XHJcbiAgICAgICAgdG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Fycm93LWRvd24nKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIGdyb3VwIGNvbnRhaW5lclxyXG5mdW5jdGlvbiBjcmVhdGVSZXNvdXJjZUdyb3VwQ29udGFpbmVyKGdyb3VwTmFtZSkge1xyXG4gICAgY29uc3QgZ3JvdXBDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGdyb3VwQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdyZXNvdXJjZUdyb3VwJztcclxuICAgIGdyb3VwQ29udGFpbmVyLmlkID0gYGdyb3VwLSR7Z3JvdXBOYW1lfWA7XHJcblxyXG4gICAgY29uc3QgdG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICB0b2dnbGVCdXR0b24udGV4dENvbnRlbnQgPSBncm91cE5hbWUudG9VcHBlckNhc2UoKTtcclxuICAgIHRvZ2dsZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdG9nZ2xlR3JvdXBWaXNpYmlsaXR5KGdyb3VwTmFtZSk7XHJcbiAgICB0b2dnbGVCdXR0b24uY2xhc3NOYW1lID0gJ3RvZ2dsZS1idXR0b24gYXJyb3ctZG93bic7XHJcbiAgICB0b2dnbGVCdXR0b24uaWQgPSBgdG9nZ2xlLSR7Z3JvdXBOYW1lfWA7XHJcblxyXG4gICAgZ3JvdXBDb250YWluZXIuYXBwZW5kQ2hpbGQodG9nZ2xlQnV0dG9uKTtcclxuICAgIHJldHVybiBncm91cENvbnRhaW5lcjtcclxufVxyXG5cclxuXHJcbi8vIEl0ZXJhdGVzIG92ZXIgZWFjaCBncm91cCBhbmQgcmVzb3VyY2UgdG8gY3JlYXRlIHRhZ3NcclxuZnVuY3Rpb24gaW5pdGlhbGl6ZVJlc291cmNlVGFncygpIHtcclxuICAgIGZvciAobGV0IGdyb3VwTmFtZSBpbiByZXNvdXJjZUdyb3Vwcykge1xyXG4gICAgICAgIGNvbnN0IHJlc291cmNlcyA9IHJlc291cmNlR3JvdXBzW2dyb3VwTmFtZV07XHJcbiAgICAgICAgcmVzb3VyY2VzLmZvckVhY2gocmVzb3VyY2VOYW1lID0+IHtcclxuICAgICAgICAgICAgdHJ5IHsgY3JlYXRlUmVzb3VyY2VUYWcocmVzb3VyY2VOYW1lLCBncm91cE5hbWUpOyB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikgeyBjb25zb2xlLmxvZyhlcnJvcik7IH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gQ2FsbCB0aGlzIGZ1bmN0aW9uIG9uY2UgdG8gc2V0IHVwIHlvdXIgcmVzb3VyY2UgdGFnc1xyXG4vLyBpbml0aWFsaXplUmVzb3VyY2VUYWdzKCk7XHJcblxyXG5cclxuZnVuY3Rpb24gdXBkYXRlRGlzcGxheVZhbHVlKG1hdGVyaWFsKSB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gcmVzb3VyY2VzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYCMke21hdGVyaWFsfVZhbHVlYCk7XHJcbiAgICBjb25zdCBjcmFmdGVkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgYnV0dG9uI2NyYWZ0JHtjYXBpdGFsaXplRmlyc3QobWF0ZXJpYWwpfWApO1xyXG4gICAgdHJ5IHsgaWYgKCFlbGVtZW50KSBjcmVhdGVSZXNvdXJjZVRhZyhtYXRlcmlhbCk7IH1cclxuICAgIGNhdGNoIChlcnJvcikgeyB9XHJcblxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKG1hdGVyaWFsLCBlbGVtZW50LCBjcmFmdGVkQnV0dG9uKTtcclxuICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IG1heCA9IGdldE1heChtYXRlcmlhbCkgPT09IEluZmluaXR5ID8gJ+KInicgOiBnZXRNYXgobWF0ZXJpYWwpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHtnZXRNYXRlcmlhbChtYXRlcmlhbCkudG9GaXhlZCgyKX0gLyAke21heH1gO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVsZW1lbnQsIG1hdGVyaWFsLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVzb3VyY2VzW21hdGVyaWFsXSkge1xyXG4gICAgICAgICAgICBjb25zdCBzaWRlYmFyVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzb3VyY2VzXCIpLnF1ZXJ5U2VsZWN0b3IoJyNyZXNvdXJjZS0nICsgbWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzW21hdGVyaWFsXS5pc0dldHRpbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGlmIChzaWRlYmFyVGV4dCkgc2lkZWJhclRleHQuc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlbGVjdCcpLmZvckVhY2gocyA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhzLCBtYXRlcmlhbCk7XHJcbiAgICAgICAgICAgIC8vICAgICBpZiAocy52YWx1ZSA9PT0gbWF0ZXJpYWwgJiYgc2lkZWJhclRleHQpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBzaWRlYmFyVGV4dC5zdHlsZS5jb2xvciA9ICd0aGlzdGxlJztcclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjcmFmdGVkQnV0dG9uKSB7XHJcbiAgICAgICAgY29uc3QgY291bnRTcGFuID0gY3JhZnRlZEJ1dHRvbi5xdWVyeVNlbGVjdG9yKGAjJHttYXRlcmlhbH1WYWx1ZWApO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjcmFmdGVkIGJ1dHRvbiB3YXMgZm91bmQnLCBjb3VudFNwYW4sIG1hdGVyaWFsLCBnZXRDcmFmdGVkUmVzb3VyY2UobWF0ZXJpYWwpKTtcclxuICAgICAgICBpZiAoY291bnRTcGFuKSBjb3VudFNwYW4udGV4dENvbnRlbnQgPSBnZXRDcmFmdGVkUmVzb3VyY2UobWF0ZXJpYWwpLnRvRml4ZWQoMCk7XHJcbiAgICAgICAgZWxzZSBjb25zb2xlLndhcm4oYFJlc291cmNlIGJ1dHRvbiBmb3VuZCBidXQgbm8gY291bnQgc3BhbiBmb3I6ICR7bWF0ZXJpYWx9YCk7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TWF4KG1hdGVyaWFsLCBudW0pIHtcclxuICAgIHJlc291cmNlc1ttYXRlcmlhbF0ubWF4ID0gbnVtO1xyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgdXBkYXRlVG90YWwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5jcmVhc2VNYXgobWF0ZXJpYWwsIG51bSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJpbmNyZWFzZSBtYXggXCIsIG1hdGVyaWFsLCBudW0pO1xyXG4gICAgcmVzb3VyY2VzW21hdGVyaWFsXS5tYXggKz0gbnVtO1xyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgdXBkYXRlVG90YWwoKTtcclxuXHJcbn1cclxuXHJcbi8vIEdlbmVyaWMgaW5jcmVhc2VcclxuZnVuY3Rpb24gaW5jcmVhc2VNYXRlcmlhbChtYXRlcmlhbCwgbnVtKSB7XHJcbiAgICAvLyBFbnN1cmUgd2UgYWN0dWFsbHkgbmVlZCB0byBkbyBhbnl0aGluZ1xyXG4gICAgaWYgKG51bSA9PSAwKSByZXR1cm47XHJcbiAgICBtYXRlcmlhbCA9IG1hdGVyaWFsLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnaW5jcmVhc2UgbWF0ZXJpYWwnLCBtYXRlcmlhbCwgbnVtKTtcclxuICAgIC8vIGlmIChNYXRoLmFicyhudW0pID4gNSkgY29uc29sZS5sb2coJ2NoYW5naW5nJywgbWF0ZXJpYWwsICdieScsIG51bSk7XHJcblxyXG4gICAgLy8gVGhpcyBjaGVjayBlbnN1cmVzIHRoYXQgdGhlIG1hdGVyaWFsIGtleSBleGlzdHMgaW4gdGhlIHJlc291cmNlcyBtYXAuXHJcbiAgICBpZiAocmVzb3VyY2VzLmhhc093blByb3BlcnR5KG1hdGVyaWFsKSkge1xyXG5cclxuICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwobWF0ZXJpYWwpIDwgZ2V0TWF4KG1hdGVyaWFsKSAmJiBudW0gPiAwKSB7IC8vIEFkZGluZyByZXNvdXJjZXNcclxuICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ2Zhc3RlclJlc291cmNlR2FpbicpKSBudW0gKj0gMS4wNTtcclxuICAgICAgICAgICAgcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSArPSBudW07XHJcbiAgICAgICAgICAgIHVwZGF0ZVNraWxscyhtYXRlcmlhbCwgbnVtKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG51bSA8IDApIHsgLy8gU3VidHJhY3RpbmcgcmVzb3VyY2VzXHJcbiAgICAgICAgICAgIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG4gICAgICAgIH0gZWxzZSB7IC8vIEFscmVhZHkgYXQgbWF4XHJcbiAgICAgICAgICAgIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgPSBnZXRNYXgobWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICBpZiAoaXNQb25kZXJlZCgnYXV0b2NyYWZ0JykgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdXRvQ3JhZnRDaGVja2JveFwiKS5jaGVja2VkICYmIGF1dG9DcmFmdFRhYmxlW21hdGVyaWFsXSkge1xyXG4gICAgICAgICAgICAgICAgY3JhZnRBbGxSZXNvdXJjZXMoYXV0b0NyYWZ0VGFibGVbbWF0ZXJpYWxdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheVZhbHVlKG1hdGVyaWFsKTtcclxuICAgICAgICByZWFzc2lnbkpvYnNCYXNlZE9uUmVzb3VyY2VzKCk7XHJcblxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShtYXRlcmlhbCkpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY3JhZnRpbmcgYSBtYXRlcmlhbCcsIG1hdGVyaWFsLCBudW0pO1xyXG4gICAgICAgIGNyYWZ0ZWRSZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlICs9IG51bTtcclxuICAgICAgICB1cGRhdGVEaXNwbGF5VmFsdWUobWF0ZXJpYWwpO1xyXG4gICAgICAgIHVwZGF0ZVNraWxscyhtYXRlcmlhbCwgbnVtKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHRocm93IFwiVHJpZWQgdG8gaW5jcmVhc2UgSW52YWxpZCBtYXRlcmlhbDogXCIgKyBtYXRlcmlhbDtcclxuICAgICAgICBjcmVhdGVSZXNvdXJjZVRhZyhtYXRlcmlhbCk7XHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChtYXRlcmlhbCwgbnVtKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjcmFmdGVkIG1hdGVyaWFscyBoYXZlIG5vIG1heCwgYSBsYSBLaXR0ZW5zIEdhbWVcclxuXHJcblxyXG5cclxuICAgIHVwZGF0ZVNpZGViYXIoKTtcclxuXHJcblxyXG5cclxuICAgIC8vIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG4gICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIG1hdGVyaWFsICsgXCJWYWx1ZVwiKS50ZXh0Q29udGVudCA9IHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWU7XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdXBkYXRlUmVzb3VyY2VJbmNyZWFzZVJhdGVzKCkge1xyXG4gICAgLy8gY29uc3QgcmVzb3VyY2VzID0gW1wiY2xvbmVzXCIsIFwic3RpY2tzXCIsIFwidmluZXNcIiwgXCJyb2Nrc1wiLCBcImZpc2hcIiwgXCJ3b29kXCIsIFwicG9uZGVyXCJdO1xyXG4gICAgZm9yIChsZXQgcmVzb3VyY2UgaW4gcmVzb3VyY2VzKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJpbmNyZWFzZSBvZiBcIiArIHJlc291cmNlKTtcclxuICAgICAgICBjb25zdCByYXRlID0gY2FsY0luY3JlYXNlKHJlc291cmNlLCAxMDAwKTtcclxuICAgICAgICB2YXIgcmF0ZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtyZXNvdXJjZX1JbmNyZWFzZVJhdGVgKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKHJhdGVFbGVtZW50KSByYXRlRWxlbWVudC50ZXh0Q29udGVudCA9IHJhdGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBcclxuICogQHJldHVybnMgQnV0dG9uXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVDcmFmdGVkUmVzb3VyY2VCdXR0b24oY29uZmlnKSB7XHJcbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBjb25maWcuY2xhc3MgKyAnIHRvb2x0aXAnO1xyXG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnaWQnLCBjb25maWcuaWQpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgYnV0dG9uLnJlcXVpcmVtZW50ID0gY29uZmlnLnJlcXVpcmVtZW50O1xyXG4gICAgY29uc3QgcmVzb3VyY2VOYW1lID0gT2JqZWN0LmtleXMoY3JhZnRlZFJlc291cmNlcykuZmluZChrZXkgPT4gY3JhZnRlZFJlc291cmNlc1trZXldID09PSBjb25maWcpO1xyXG4gICAgY29uc3QgY2xlYW5Db3VudCA9IHBhcnNlRmxvYXQoY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZU5hbWVdLnZhbHVlKS50b0ZpeGVkKDApO1xyXG4gICAgYnV0dG9uLmlubmVySFRNTCA9IGAke2NvbmZpZy50ZXh0IHx8IGNhcGl0YWxpemVGaXJzdChyZXNvdXJjZU5hbWUpfTogPHNwYW4gaWQ9XCIke3Jlc291cmNlTmFtZSArIFwiVmFsdWVcIn1cIj4ke2NsZWFuQ291bnR9PC9zcGFuPmA7XHJcbiAgICAvLyBidXR0b24udG9vbHRpcERlc2MgPSBjb25maWcudG9vbHRpcERlc2M7IFxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgYnV0dG9uLnRhYiA9ICdleHBlcmltZW50JztcclxuXHJcbiAgICByZXR1cm4gYnV0dG9uO1xyXG59XHJcblxyXG5cclxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NyYWZ0ZWRSZXNvdXJjZUJ1dHRvbnMnKTtcclxuZnVuY3Rpb24gYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucygpIHtcclxuXHJcbiAgICAvLyBGb3IgZWFjaCByZXNvdXJjZSwgY3JlYXRlIGEgYnV0dG9uIHVzaW5nIHRoZSBjYXB0dXJlZCBjb3VudHNcclxuICAgIGZvciAobGV0IG5hbWUgaW4gY3JhZnRlZFJlc291cmNlcykge1xyXG5cclxuICAgICAgICAvLyBjb25maWcuY291bnQgPSBjcmFmdGVkUmVzb3VyY2VzW25hbWVdLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbihjcmFmdGVkUmVzb3VyY2VzW25hbWVdKTtcclxuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycsIGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0udG9vbHRpcERlc2MgfHwgXCJcIik7XHJcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBnZW5lcmF0ZVRvb2x0aXBDb3N0KGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uY29zdCkgfHwgXCJcIik7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gICAgICAgIGJ1dHRvbnNbY3JhZnRlZFJlc291cmNlc1tuYW1lXS5pZF0gPSBjcmFmdGVkUmVzb3VyY2VzW25hbWVdO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGFwcGVuZENyYWZ0ZWRSZXNvdXJjZUJ1dHRvbihuYW1lKSB7XHJcblxyXG4gICAgY29uc3QgYnV0dG9uID0gY3JlYXRlQ3JhZnRlZFJlc291cmNlQnV0dG9uKGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0pO1xyXG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWRlc2MnLCBjcmFmdGVkUmVzb3VyY2VzW25hbWVdLnRvb2x0aXBEZXNjKTtcclxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1jb3N0JywgZ2VuZXJhdGVUb29sdGlwQ29zdChjcmFmdGVkUmVzb3VyY2VzW25hbWVdLmNvc3QpKTtcclxuXHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgIGJ1dHRvbnNbY3JhZnRlZFJlc291cmNlc1tuYW1lXS5pZF0gPSBjcmFmdGVkUmVzb3VyY2VzW25hbWVdO1xyXG5cclxufVxyXG5cclxuLy8gQ2FsbCB0aGUgZnVuY3Rpb24gdG8gcmVwbGFjZSA8cD4gZWxlbWVudHMgd2l0aCB0aGUgYnV0dG9uc1xyXG4vLyBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b24oJ3N0aWNrcycpO1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVUb29sdGlwQ29zdChyZXF1aXJlbWVudHMpIHtcclxuICAgIGlmIChyZXF1aXJlbWVudHMgPT09IG51bGwpIHJldHVybiAnJztcclxuICAgIHZhciBzdHIgPSAnJztcclxuICAgIGZvciAobGV0IG1hdGVyaWFsIGluIHJlcXVpcmVtZW50cykge1xyXG5cclxuICAgICAgICBjb25zdCBoYXNFbm91Z2ggPSBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSA+PSByZXF1aXJlbWVudHNbbWF0ZXJpYWxdOy8qIFlvdXIgbG9naWMgdG8gY2hlY2sgaWYgdGhlcmUncyBlbm91Z2ggb2YgdGhlIG1hdGVyaWFsICovO1xyXG4gICAgICAgIGNvbnN0IGNvbG9yQ2xhc3MgPSBoYXNFbm91Z2ggPyAnZW5vdWdoJyA6ICdub3QtZW5vdWdoJztcclxuICAgICAgICBzdHIgKz0gYDxzcGFuIGNsYXNzPVwidG9vbHRpcC0ke21hdGVyaWFsfSAke2NvbG9yQ2xhc3N9XCI+JHtyZXF1aXJlbWVudHNbbWF0ZXJpYWxdfSAke21hdGVyaWFsfTwvc3Bhbj48YnI+YDtcclxuXHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RyO1xyXG59XHJcblxyXG5cclxuXHJcbmNvbnN0IGVtb2ppRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbW9qaURpc3BsYXknKTtcclxuZnVuY3Rpb24gdXBkYXRlRW1vamlEaXNwbGF5KCkge1xyXG4gICAgbGV0IGVtb2ppU3RyID0gXCJcIjtcclxuXHJcbiAgICAvLyBMb29wIHRocm91Z2ggdGhlIGpvYkNvdW50cyBtYXAgdG8gZ2V0IGVhY2ggam9iIGFuZCBpdHMgY291bnRcclxuICAgIGZvciAobGV0IHJlc291cmNlIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIC8vIGxldCByZXNvdXJjZSA9IHJlc291cmNlc1tnZXRBZmZlY3RlZFJlc291cmNlcyhqb2IpWzBdXTtcclxuICAgICAgICBsZXQgY291bnQgPSBnZXRXb3JrZXJzKHJlc291cmNlKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZSwgY291bnQpO1xyXG4gICAgICAgIGlmIChjb3VudCA9PT0gdW5kZWZpbmVkIHx8IGNvdW50ID09IDApIGNvbnRpbnVlO1xyXG4gICAgICAgIGxldCBlbW9qaSA9IHJlc291cmNlc1tyZXNvdXJjZV0uZW1vamkgfHwgJ/CTgJ8nOyAgLy8gZ2V0IHRoZSBlbW9qaSBjb3JyZXNwb25kaW5nIHRvIHRoZSBqb2IgZnJvbSB0aGUgcmVzb3VyY2VzIG1hcFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGpvYiwgZW1vamkpO1xyXG4gICAgICAgIGlmIChlbW9qaSkge1xyXG4gICAgICAgICAgICBlbW9qaVN0ciArPSBlbW9qaS5yZXBlYXQoY291bnQpOyAgLy8gcmVwZWF0IHRoZSBlbW9qaSBiYXNlZCBvbiB0aGUgY291bnRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZW1vamlEaXNwbGF5LnRleHRDb250ZW50ID0gZW1vamlTdHI7ICAvLyB1cGRhdGUgdGhlIGVtb2ppRGlzcGxheSBkaXYgd2l0aCB0aGUgZ2VuZXJhdGVkIGVtb2ppIHN0cmluZ1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkanVzdEZvbnRTaXplKCkge1xyXG4gICAgICAgIGxldCBmb250U2l6ZSA9IDQ4OyAgLy8gU3RhcnRpbmcgZm9udCBzaXplXHJcblxyXG4gICAgICAgIGVtb2ppRGlzcGxheS5zdHlsZS5mb250U2l6ZSA9IGAke2ZvbnRTaXplfXB4YDtcclxuXHJcbiAgICAgICAgd2hpbGUgKChlbW9qaURpc3BsYXkub2Zmc2V0V2lkdGggPiA2MDApICYmIGZvbnRTaXplID4gMzApIHtcclxuICAgICAgICAgICAgLy8gMTAgaXMgYSBtaW5pbXVtIGZvbnQtc2l6ZSB0aHJlc2hvbGQgdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVtb2ppRGlzcGxheS5vZmZzZXRXaWR0aCwgZW1vamlEaXNwbGF5Lm9mZnNldEhlaWdodCk7XHJcbiAgICAgICAgICAgIGZvbnRTaXplIC09IDE7IC8vIGRlY3JlYXNlIHRoZSBmb250IHNpemVcclxuICAgICAgICAgICAgZW1vamlEaXNwbGF5LnN0eWxlLmZvbnRTaXplID0gYCR7Zm9udFNpemV9cHhgO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxsIHRoaXMgZnVuY3Rpb24gd2hlbmV2ZXIgdGhlIGNvbnRlbnQgb2YgI2Vtb2ppRGlzcGxheSBjaGFuZ2VzXHJcbiAgICBhZGp1c3RGb250U2l6ZSgpO1xyXG5cclxufVxyXG5cclxuLy8gQ2FsbCB1cGRhdGVFbW9qaURpc3BsYXkgZXZlcnkgdGltZSBqb2JDb3VudHMgaXMgdXBkYXRlZDpcclxuLy8gRm9yIGV4YW1wbGU6XHJcbi8vIGpvYkNvdW50cy5zZXQoJ2Zpc2hpbmcnLCA0KTtcclxudXBkYXRlRW1vamlEaXNwbGF5KCk7XHJcblxyXG5cclxuY29uc3QgYXV0b0NyYWZ0VGFibGUgPSB7XHJcbiAgICAnc3RpY2tzJzogJ2hhbmRsZScsXHJcbiAgICAnd29vZCc6ICdwYXBlcicsXHJcbiAgICAncm9ja3MnOiAnc2hhcnByb2NrcycsXHJcbiAgICAndmluZXMnOiAncm9wZScsXHJcbiAgICAnc2FuZCc6ICdnbGFzcycsXHJcbiAgICAnb3JlJzogJ2dvbGQnLFxyXG4gICAgJ2NsYXknOiAnYnJpY2tzJ1xyXG59O1xyXG5cclxuZnVuY3Rpb24gY3JhZnRBbGxSZXNvdXJjZXMocmVzb3VyY2VLZXkpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29zdCA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNvc3Q7XHJcbiAgICAgICAgbGV0IHN1ZmZpY2llbnRSZXNvdXJjZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBtYXQgaW4gY29zdCkge1xyXG4gICAgICAgICAgICAvLyBpZiAoZ2V0TWF0ZXJpYWwobWF0LCByZXNvdXJjZXMpIDwgY29zdFttYXRdKSB7XHJcbiAgICAgICAgICAgIHN1ZmZpY2llbnRSZXNvdXJjZXMucHVzaChnZXRNYXRlcmlhbChtYXQsIHJlc291cmNlcykgLyBjb3N0W21hdF0pO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtaW4gPSBNYXRoLmZsb29yKE1hdGgubWluKC4uLnN1ZmZpY2llbnRSZXNvdXJjZXMpKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXNvdXJjZUtleSwgbWluKTtcclxuICAgICAgICBjcmFmdFJlc291cmNlUXVhbnRpdHkocmVzb3VyY2VLZXksIG1pbik7XHJcblxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBjcmFmdGFsbCBmb3I6ICcsIHJlc291cmNlS2V5LCBlcnJvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyYWZ0UmVzb3VyY2VRdWFudGl0eShyZXNvdXJjZUtleSwgcXVhbnRpdHkpIHtcclxuICAgIGlmICghY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZUtleSkpIHRocm93IFwiSW52YWxpZCBjcmFmdCBmb3IgbWlzc2luZyByZXNvdXJjZTogXCIgKyByZXNvdXJjZUtleTtcclxuXHJcbiAgICBpZiAoIWNhbkNyYWZ0KHJlc291cmNlS2V5KSkgcmV0dXJuOyAvLyBUYWtlcyBjYXJlIG9mIHF1YW50aXR5IDwgMVxyXG4gICAgbGV0IGNvc3QgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jb3N0O1xyXG4gICAgLy8gbGV0IGNyYWZ0Qm9udXMgPSBjYWxjQ3JhZnRCb251cyhyZXNvdXJjZUtleSk7XHJcbiAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHF1YW50aXR5OyArK2kpIHtcclxuICAgIC8vICAgICBjcmFmdE9uZShyZXNvdXJjZUtleSwgY29zdCwgY3JhZnRCb251cyk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgZm9yIChsZXQgbWF0IGluIGNvc3QpIHtcclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKG1hdCwgLWNvc3RbbWF0XSAqIHF1YW50aXR5KTtcclxuICAgIH1cclxuICAgIGluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2VLZXksIHF1YW50aXR5KTtcclxuXHJcblxyXG4gICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jcmFmdGVkT25jZSkgY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY3JhZnRlZE9uY2UgPSB0cnVlO1xyXG5cclxuICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShyZXNvdXJjZUtleSk7XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY3JhZnRPbmUocmVzb3VyY2VLZXksIGNvc3QsIGNyYWZ0Qm9udXMpIHtcclxuICAgIGZvciAobGV0IG1hdCBpbiBjb3N0KSB7XHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChtYXQsIC1jb3N0W21hdF0pO1xyXG4gICAgfVxyXG4gICAgaW5jcmVhc2VNYXRlcmlhbChyZXNvdXJjZUtleSwgMSB8fCBjcmFmdEJvbnVzKTtcclxuXHJcbn1cclxuLy8gQ3JhZnQgZnVuY3Rpb25cclxuZnVuY3Rpb24gY3JhZnRSZXNvdXJjZShyZXNvdXJjZUtleSkge1xyXG4gICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlS2V5KSkgdGhyb3cgXCJJbnZhbGlkIGNyYWZ0IGZvciBtaXNzaW5nIHJlc291cmNlOiBcIiArIHJlc291cmNlS2V5O1xyXG5cclxuICAgIGlmICghY2FuQ3JhZnQocmVzb3VyY2VLZXkpKSByZXR1cm47XHJcblxyXG4gICAgbGV0IGNvc3QgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jb3N0O1xyXG4gICAgbGV0IGNyYWZ0Qm9udXMgPSBjYWxjQ3JhZnRCb251cyhyZXNvdXJjZUtleSk7XHJcblxyXG5cclxuICAgIGNyYWZ0T25lKHJlc291cmNlS2V5LCBjb3N0LCBjcmFmdEJvbnVzKTtcclxuXHJcbiAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgcmVzb3VyY2VLZXkgKyBcIlZhbHVlXCIpLnRleHRDb250ZW50ID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0udmFsdWUudG9GaXhlZCgyKTtcclxuICAgIGlmICghY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY3JhZnRlZE9uY2UpIGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNyYWZ0ZWRPbmNlID0gdHJ1ZTtcclxuICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShyZXNvdXJjZUtleSk7XHJcbn1cclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBnZXRNYXRlcmlhbCxcclxuICAgIGluY3JlYXNlTWF0ZXJpYWwsXHJcbiAgICBzZXRNYXgsXHJcbiAgICBpbmNyZWFzZU1heCxcclxuICAgIGNyYWZ0QWxsUmVzb3VyY2VzLFxyXG4gICAgY3JhZnRSZXNvdXJjZSxcclxuICAgIHVwZGF0ZUVtb2ppRGlzcGxheSxcclxuICAgIHVwZGF0ZURpc3BsYXlWYWx1ZSxcclxuICAgIGdlbmVyYXRlVG9vbHRpcENvc3QsXHJcbiAgICBjYWxjU2Vjb25kc1JlbWFpbmluZyxcclxuICAgIGNyZWF0ZVJlc291cmNlVGFnLFxyXG4gICAgYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucyxcclxuICAgIGNhbGNJbmNyZWFzZSxcclxuICAgIHVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcyxcclxuICAgIGluaXRpYWxpemVSZXNvdXJjZVRhZ3NcclxuXHJcbn07IiwiLy8gREVQRU5EUyBPTjogcmVzb3VyY2VzLmpzXHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCwgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QgfSA9IHJlcXVpcmUoJy4vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgdXBkYXRlRGlzcGxheVZhbHVlLCBjYWxjSW5jcmVhc2UsIHVwZGF0ZUVtb2ppRGlzcGxheSB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBhZGRUb29sLCBnZXRBbGxUb29scyB9ID0gcmVxdWlyZSgnLi90b29scycpO1xyXG5jb25zdCB7IGFsbFZpc2libGVCdXR0b25zLCB1cGRhdGVTaWRlYmFyLCBwb3B1bGF0ZVNraWxsc1RhYmxlLCBzZXRWaXNpYmxlQnV0dG9uIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IG1ha2VWaXNpYmxlIH0gPSByZXF1aXJlKCcuL21ha2VWaXNpYmxlJyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlIH0gPSByZXF1aXJlKCcuL2dldENyYWZ0ZWRSZXNvdXJjZScpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcblxyXG5jb25zdCB7IGdldEFsbFBlcmtzLCBhZGRQZXJrLCBoYXNQZXJrIH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBqb2JDb3VudHMsIHNldENvbm5lY3Rpb25zLCBnZXRDb25uZWN0aW9ucywgZGlzdHJpYnV0ZVdvcmtlcnMsIHVwZGF0ZURpc3BsYXkgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IHRvdGFsX3RpbWUgfSA9IHJlcXVpcmUoJy4vbWFpbicpO1xyXG5jb25zdCB7IHNldEF0ZUZpc2gsIGdldEF0ZUZpc2ggfSA9IHJlcXVpcmUoJy4vYXRlRmlzaCcpO1xyXG5cclxuXHJcbmNvbnN0IHsgY3JhZnRlZFJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuY29uc3QgeyBidWlsZGluZ3MgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpO1xyXG5jb25zdCB7IHBvbmRlcnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vcG9uZGVyXCIpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZShcIi4vanNvbi9za2lsbHNcIik7XHJcbmNvbnN0IHsgZ2V0QWxsU3RhZ2VzIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG5cclxuLy8gaW1wb3J0IGpvYkNvdW50cztcclxuLyogU0FWSU5HICovXHJcbi8vIHZhciBzYXZlID0ge1xyXG4vLyAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXHJcbi8vICAgICBjcmFmdGVkUmVzb3VyY2VzOiBjcmFmdGVkUmVzb3VyY2VzLFxyXG4vLyAgICAgc2tpbGxzOiBza2lsbHMsXHJcbi8vICAgICBwbGF5ZXJUb29sczogcGxheWVyVG9vbHNcclxuLy8gfVxyXG5cclxuZnVuY3Rpb24gc2F2ZUdhbWUoKSB7XHJcbiAgICBsZXQgc2F2ZSA9IHtcclxuICAgICAgICBza2lsbHM6IHt9LCAvLyBUaGlzIHdpbGwgaG9sZCB0aGUgZXhwZXJpZW5jZSBhbmQgbGV2ZWwgZm9yIGVhY2ggc2tpbGxcclxuICAgICAgICBjcmFmdGVkUmVzb3VyY2VzOiB7fSwgLy8gVGhpcyB3aWxsIGhvbGQgdGhlIHZhbHVlIGZvciBlYWNoIGNyYWZ0ZWQgaXRlbVxyXG4gICAgICAgIHJlc291cmNlczoge30sXHJcbiAgICAgICAgdG9vbHM6IFtdLFxyXG4gICAgICAgIHN0YWdlczogW10sXHJcbiAgICAgICAgdW5sb2Nrczoge30sXHJcbiAgICAgICAgam9iczoge30sXHJcbiAgICAgICAgYnVpbGRpbmdzOiB7fSxcclxuICAgICAgICB0aW1lOiB7fSxcclxuICAgICAgICBhbGxWaXNpYmxlQnV0dG9uczogW10sXHJcbiAgICAgICAgbWVzc2FnZTogW10sXHJcbiAgICAgICAgY29ubmVjdGlvbnM6IG5ldyBNYXAoKSxcclxuICAgICAgICBwZXJrczogW11cclxuICAgIH07XHJcblxyXG4gICAgLy8gRXh0cmFjdCBleHAgYW5kIGxldmVsIGZyb20gc2tpbGxzIGFuZCBzYXZlIHRvIHNhdmUuc2tpbGxzXHJcbiAgICBmb3IgKGxldCBza2lsbCBpbiBza2lsbHMpIHtcclxuICAgICAgICBzYXZlLnNraWxsc1tza2lsbF0gPSB7XHJcbiAgICAgICAgICAgIGV4cDogc2tpbGxzW3NraWxsXS5leHAsXHJcbiAgICAgICAgICAgIGxldmVsOiBza2lsbHNbc2tpbGxdLmxldmVsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFeHRyYWN0IHZhbHVlIGZyb20gY3JhZnRlZFJlc291cmNlcyBhbmQgc2F2ZSB0byBzYXZlLmNyYWZ0ZWRJdGVtc1xyXG4gICAgZm9yIChsZXQgaXRlbSBpbiBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgaWYgKCFzYXZlLmNyYWZ0ZWRSZXNvdXJjZXMuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgc2F2ZS5jcmFmdGVkUmVzb3VyY2VzW2l0ZW1dID0geyB2YWx1ZTogMCwgY3JhZnRlZE9uY2U6IGZhbHNlIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzYXZlLmNyYWZ0ZWRSZXNvdXJjZXNbaXRlbV0udmFsdWUgPSBnZXRDcmFmdGVkUmVzb3VyY2UoaXRlbSk7XHJcbiAgICAgICAgc2F2ZS5jcmFmdGVkUmVzb3VyY2VzW2l0ZW1dLmNyYWZ0ZWRPbmNlID0gY3JhZnRlZFJlc291cmNlc1tpdGVtXS5jcmFmdGVkT25jZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaXRlbSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgaXRlbSBleGlzdHMgaW4gdGhlIHNhdmUucmVzb3VyY2VzIG9iamVjdC4gSWYgbm90LCBpbml0aWFsaXplIGl0LlxyXG4gICAgICAgIGlmICghc2F2ZS5yZXNvdXJjZXMuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgc2F2ZS5yZXNvdXJjZXNbaXRlbV0gPSB7IHZhbHVlOiAwLCBtYXg6IDAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNhdmUucmVzb3VyY2VzW2l0ZW1dLnZhbHVlID0gZ2V0TWF0ZXJpYWwoaXRlbSwgcmVzb3VyY2VzKTtcclxuICAgICAgICBzYXZlLnJlc291cmNlc1tpdGVtXS5tYXggPSByZXNvdXJjZXNbaXRlbV0ubWF4O1xyXG4gICAgfVxyXG5cclxuICAgIHNhdmUudG9vbHMgPSBnZXRBbGxUb29scygpO1xyXG4gICAgc2F2ZS5zdGFnZXMgPSBnZXRBbGxTdGFnZXMoKTtcclxuICAgIHNhdmUuam9icyA9IGpvYkNvdW50cztcclxuICAgIHNhdmUucGVya3MgPSBnZXRBbGxQZXJrcygpO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHNhdmUuY29ubmVjdGlvbnMgPSBBcnJheS5mcm9tKGdldENvbm5lY3Rpb25zKCkuZW50cmllcygpKTtcclxuXHJcbiAgICBmb3IgKGxldCB1IGluIHBvbmRlcnMpIHtcclxuICAgICAgICBzYXZlLnVubG9ja3NbdV0gPSBpc1BvbmRlcmVkKHUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGIgaW4gYnVpbGRpbmdzKSB7XHJcbiAgICAgICAgc2F2ZS5idWlsZGluZ3NbYl0gPSBidWlsZGluZ3NbYl0uY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coYWxsVmlzaWJsZUJ1dHRvbnMudmFsdWVzKCkpO1xyXG4gICAgZm9yIChsZXQgYSBpbiBhbGxWaXNpYmxlQnV0dG9ucykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGEpO1xyXG4gICAgICAgIHNhdmUuYWxsVmlzaWJsZUJ1dHRvbnMucHVzaChhKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhzYXZlLmFsbFZpc2libGVCdXR0b25zKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHRyYWN0VGV4dEZyb21IVE1MKGh0bWxTdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZztcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dENvbnRlbnQgPSBkaXYudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgY29uc3Qgc3BhblRleHQgPSBkaXYucXVlcnlTZWxlY3Rvcignc3BhbicpLnRleHRDb250ZW50O1xyXG5cclxuICAgICAgICByZXR1cm4gW3RleHRDb250ZW50LCBzcGFuVGV4dF07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaHRtbFN0cmluZyA9IHJlcXVpcmUoJy4vbWFpbicpLmdldE1lc3NhZ2UoKS5pbm5lckhUTUw7XHJcblxyXG4gICAgc2F2ZS5tZXNzYWdlID0gZXh0cmFjdFRleHRGcm9tSFRNTChodG1sU3RyaW5nKTsgLy8gW21lc3NhZ2UsIHNwYW5dXHJcblxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKGNvbWJpbmVkVGV4dCk7IC8vIFwiWW91IGZpbmQgeW91cnNlbGYgYWxvbmUgaW4gYSBmb3Jlc3RcIlxyXG4gICAgLy8gY29uc29sZS5sb2coc3BhblRleHQpOyAvLyBcImFsb25lXCJcclxuXHJcblxyXG4gICAgc2F2ZS50aW1lWyd0b3RhbF90aW1lJ10gPSB0b3RhbF90aW1lO1xyXG4gICAgc2F2ZS50aW1lWyd0aW1lX29mX3NhdmUnXSA9IERhdGUubm93KCk7XHJcbiAgICAvLyBZb3UgY2FuIG5vdyB1c2UgdGhlIHNhdmUgb2JqZWN0IHRvIHN0b3JlIHRoZSBkYXRhIHNvbWV3aGVyZSBvciBkaXNwbGF5IGl0IHRvIHRoZSB1c2VyXHJcblxyXG4gICAgY29uc29sZS5sb2coc2F2ZSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShzYXZlKSk7XHJcblxyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzYXZlXCIsIEpTT04uc3RyaW5naWZ5KHNhdmUpKTtcclxuICAgIHJldHVybiBzYXZlO1xyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGxvYWRHYW1lKCkge1xyXG4gICAgY29uc29sZS5sb2coXCJMb2FkaW5nIEdhbWVcIik7XHJcbiAgICB2YXIgc2F2ZWdhbWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2F2ZVwiKSk7XHJcbiAgICBjb25zb2xlLmxvZyhzYXZlZ2FtZSk7XHJcbiAgICBpZiAoc2F2ZWdhbWUgPT09IG51bGwpIHtcclxuICAgICAgICAvLyBORVcgR0FNRVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUucmVzb3VyY2VzICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBzYXZlZ2FtZS5yZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgaWYgKGkudmFsdWVPZigpID09PSBcInVuZGVmaW5lZFwiIHx8IGkgPT09IG51bGwpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICByZXNvdXJjZXNbaV0udmFsdWUgPSBzYXZlZ2FtZS5yZXNvdXJjZXNbaV0udmFsdWU7XHJcbiAgICAgICAgICAgIHJlc291cmNlc1tpXS5tYXggPSBzYXZlZ2FtZS5yZXNvdXJjZXNbaV0ubWF4O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVwZGF0aW5nIHJlc291cmNlcyBmb3IgXCIgKyBpICsgXCIgdG8gXCIgKyBzYXZlZ2FtZS5yZXNvdXJjZXNbaV0udmFsdWUsIHNhdmVnYW1lLnJlc291cmNlc1tpXS5tYXgpO1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzW2ldLnZhbHVlICE9IDApIHVwZGF0ZURpc3BsYXlWYWx1ZShpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5za2lsbHMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBzYXZlZ2FtZS5za2lsbHMpIHtcclxuICAgICAgICAgICAgc2tpbGxzW2ldLmV4cCA9IHNhdmVnYW1lLnNraWxsc1tpXS5leHA7XHJcbiAgICAgICAgICAgIHNraWxsc1tpXS5sZXZlbCA9IHNhdmVnYW1lLnNraWxsc1tpXS5sZXZlbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5jcmFmdGVkUmVzb3VyY2VzICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IG9mIE9iamVjdC5rZXlzKHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXMpKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsb2FkaW5nIGNyYWZ0ZWQnLCBrZXksIHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXNba2V5XSwgY3JhZnRlZFJlc291cmNlc1trZXldKTtcclxuICAgICAgICAgICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzW2tleV0pIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBjcmFmdGVkUmVzb3VyY2VzW2tleV0udmFsdWUgPSBzYXZlZ2FtZS5jcmFmdGVkUmVzb3VyY2VzW2tleV0udmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4oY3JhZnRlZFJlc291cmNlc1trZXldLnZhbHVlKSkgY3JhZnRlZFJlc291cmNlc1trZXldLnZhbHVlID0gMDtcclxuICAgICAgICAgICAgY3JhZnRlZFJlc291cmNlc1trZXldLmNyYWZ0ZWRPbmNlID0gc2F2ZWdhbWUuY3JhZnRlZFJlc291cmNlc1trZXldLmNyYWZ0ZWRPbmNlO1xyXG4gICAgICAgICAgICB1cGRhdGVEaXNwbGF5VmFsdWUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS50b29scyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBwbGF5ZXJUb29scyA9IHNhdmVnYW1lLnRvb2xzO1xyXG4gICAgICAgIC8vIFVuaW9uIHRoZSB0b29sIGxpc3RzIHRvZ2V0aGVyXHJcbiAgICAgICAgbGV0IHVuaW9uID0gWy4uLm5ldyBTZXQoWy4uLmdldEFsbFRvb2xzKCksIC4uLnNhdmVnYW1lLnRvb2xzXSldO1xyXG4gICAgICAgIC8vIHBsYXllclRvb2xzID0gdW5pb247XHJcbiAgICAgICAgZm9yIChsZXQgdG9vbCBpbiB1bmlvbikge1xyXG4gICAgICAgICAgICBhZGRUb29sKHRvb2wpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZm9yIChsZXQgdCBpbiBwbGF5ZXJUb29scykge1xyXG4gICAgICAgIC8vICAgICB1cGRhdGVUb29sVUkocGxheWVyVG9vbHNbdF0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnN0YWdlcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGxldCBzIGluIHNhdmVnYW1lLnN0YWdlcykge1xyXG4gICAgICAgICAgICBtYWtlVmlzaWJsZShzYXZlZ2FtZS5zdGFnZXNbc10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuam9icyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBqb2JDb3VudHMgPSBzYXZlZ2FtZS5qb2JzO1xyXG4gICAgICAgIGZvciAobGV0IGogaW4gc2F2ZWdhbWUuam9icykge1xyXG4gICAgICAgICAgICBqb2JDb3VudHNbal0gPSBzYXZlZ2FtZS5qb2JzW2pdO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhqKTtcclxuICAgICAgICAgICAgdXBkYXRlRGlzcGxheShqKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnVubG9ja3MgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgZm9yIChsZXQgdSBpbiBzYXZlZ2FtZS51bmxvY2tzKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBwb25kZXJzW3VdLmlzUG9uZGVyZWQgPSBzYXZlZ2FtZS51bmxvY2tzW3VdO1xyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignT2xkIHNhdmUgZGF0YSBpbmNsdWRlcyBvYnNvbGV0ZSBwb25kZXInLCB1KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNQb25kZXJlZCgnc2tpbGxzVGFibGUnKSkge1xyXG4gICAgICAgIHBvcHVsYXRlU2tpbGxzVGFibGUoKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuYnVpbGRpbmdzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGZvciAobGV0IGIgaW4gc2F2ZWdhbWUuYnVpbGRpbmdzKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGIsIHNhdmVnYW1lLmJ1aWxkaW5nc1tiXSk7XHJcbiAgICAgICAgICAgIGJ1aWxkaW5nc1tiXS5jb3VudCA9IHNhdmVnYW1lLmJ1aWxkaW5nc1tiXTtcclxuICAgICAgICAgICAgLy8gVXBkYXRlIGJ1dHRvbiB0ZXh0XHJcbiAgICAgICAgICAgIHVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQoYiwgYnVpbGRpbmdzW2JdLmNvdW50KTtcclxuXHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY29zdHMgb2YgYWxsIHRoZSBidWlsZGluZ3NcclxuICAgICAgICAgICAgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QoYiwgYnVpbGRpbmdzLCBoYXNQZXJrKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbWF4IGFzIGluZmx1ZW5jZWQgYnkgdGhpcyBidWlsZGluZ1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBEb24ndCBvdmVyd3JpdGUgZXhpc3RpbmcgYnVpbGRpbmcgYm9vc3RzXHJcbiAgICAgICAgICAgIC8vIGlmIChidWlsZGluZ3NbYl0uZWZmZWN0cykge1xyXG4gICAgICAgICAgICAvLyAgICAgZm9yIChsZXQgbWF0IGluIGJ1aWxkaW5nc1tiXS5lZmZlY3RzKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgc2V0TWF4KG1hdCwgYnVpbGRpbmdzW2JdLmNvdW50ICogYnVpbGRpbmdzW2JdLmVmZmVjdHNbbWF0XSk7XHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHdlIGhhdmUgYSBjbG9uZSwgdGhlbiB3ZSBhdGUgZmlzaFxyXG4gICAgc2V0QXRlRmlzaChyZXNvdXJjZXMuY2xvbmVzLm1heCA+PSAxKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdhdGVmaXNoJywgYXRlRmlzaCk7XHJcbiAgICBpZiAoZ2V0QXRlRmlzaCgpKSB7XHJcbiAgICAgICAgY29uc3QgZmlzaEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWF0RmlzaFwiKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgZmlzaEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gICAgLy8gQ2hhbmdlIHRoZSBtZXNzYWdlIHRvIHRoZSBsYXRlc3Qgb25lXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLm1lc3NhZ2UgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgLy8gW2Z1bGwgbWVzc2FnZSwgc3Bhbl1cclxuICAgICAgICByZXF1aXJlKCcuL21haW4nKS5jaGFuZ2VNZXNzYWdlKHNhdmVnYW1lLm1lc3NhZ2VbMF0sIHNhdmVnYW1lLm1lc3NhZ2VbMV0pO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHJlc291cmNlcyBlYXJuZWQgd2hpbGUgYXdheVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS50aW1lICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJlcXVpcmUoJy4vbWFpbicpLnNldFRvdGFsVGltZShzYXZlZ2FtZS50aW1lW3RvdGFsX3RpbWVdKTtcclxuICAgICAgICBjb25zdCB0aW1lX2RpZmZlcmVuY2UgPSBEYXRlLm5vdygpIC0gc2F2ZWdhbWUudGltZVsndGltZV9vZl9zYXZlJ107XHJcbiAgICAgICAgZm9yIChsZXQgciBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5jID0gY2FsY0luY3JlYXNlKHIsIHRpbWVfZGlmZmVyZW5jZSk7XHJcbiAgICAgICAgICAgIHJlc291cmNlc1tyXS52YWx1ZSArPSBpbmM7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHIsIHRpbWVfZGlmZmVyZW5jZSwgaW5jKTtcclxuICAgICAgICAgICAgaWYgKHJlc291cmNlc1tyXS52YWx1ZSA+IHJlc291cmNlc1tyXS5tYXgpIHJlc291cmNlc1tyXS52YWx1ZSA9IHJlc291cmNlc1tyXS5tYXg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuYWxsVmlzaWJsZUJ1dHRvbnMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coc2F2ZWdhbWUuYWxsVmlzaWJsZUJ1dHRvbnMpO1xyXG4gICAgICAgIGZvciAobGV0IGEgaW4gc2F2ZWdhbWUuYWxsVmlzaWJsZUJ1dHRvbnMpIHtcclxuICAgICAgICAgICAgc2V0VmlzaWJsZUJ1dHRvbihhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuY29ubmVjdGlvbnMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgc2V0Q29ubmVjdGlvbnMobmV3IE1hcChzYXZlZ2FtZS5jb25uZWN0aW9ucykpO1xyXG5cclxuICAgICAgICBpZiAoZ2V0Q29ubmVjdGlvbnMoKS5zaXplID09PSAwKSBzZXRDb25uZWN0aW9ucyhuZXcgTWFwKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGdldENvbm5lY3Rpb25zKCkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmb3IgKGxldCBqb2IgaW4gam9iQ291bnRzKSB7XHJcbiAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMoam9iLCBqb2JDb3VudHNbam9iXSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRW1vamlEaXNwbGF5KCk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5wZXJrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBteVBlcmtzID0gc2F2ZWdhbWUucGVya3M7XHJcbiAgICAgICAgZm9yIChsZXQgcGVyayBpbiBzYXZlZ2FtZS5wZXJrcykge1xyXG4gICAgICAgICAgICBhZGRQZXJrKHBlcmspO1xyXG4gICAgICAgICAgICByZXF1aXJlKCcuL3NlbGVjdENvcnJlY3RQZXJrQnV0dG9uJykuc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24ocGVyayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbi8vIHNhdmUgdGhlIHRpbWUgd2hlbiB0aGUgcGxheWVyIGV4aXRzIHRoZSBicm93c2VyIHRhYlxyXG4vLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCAoKSA9PiBzYXZlR2FtZSgpKTtcclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzYXZlR2FtZSxcclxuICAgIGxvYWRHYW1lXHJcbn07IiwiLyoqXHJcbiAqIFNlbGVjdCB0aGUgcGVyayBidXR0b24gdGhhdCB3ZSd2ZSBjaG9zZW4gYW5kIGRpc2FibGUgdGhlIG90aGVyc1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gYWJpbGl0eU5hbWUgTmFtZSBvZiB0aGUgY2hvc2VuIHBlcmtcclxuICovXHJcbmZ1bmN0aW9uIHNlbGVjdENvcnJlY3RQZXJrQnV0dG9uKGFiaWxpdHlOYW1lKSB7XHJcbiAgICAvLyBEaXNhYmxlIGFsbCBidXR0b25zXHJcbiAgICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50aWVyT25lQnV0dG9uJyk7XHJcbiAgICBsZXQgc2VsZWN0ZWRCdXR0b247XHJcbiAgICB0cnkgeyBzZWxlY3RlZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2FiaWxpdHlOYW1lfVBlcmtgKTsgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IH1cclxuICAgIGlmIChzZWxlY3RlZEJ1dHRvbikge1xyXG4gICAgICAgIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEVuYWJsZSBhbmQgaGlnaGxpZ2h0IHRoZSBzZWxlY3RlZCBidXR0b25cclxuICAgICAgICBjb25zb2xlLmxvZyhzZWxlY3RlZEJ1dHRvbiwgYWJpbGl0eU5hbWUpO1xyXG4gICAgICAgIHNlbGVjdGVkQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgICBzZWxlY3RlZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ05vIGJ1dHRvbiBmb3VuZCB3aXRoIGFiaWxpdHkgbmFtZTogJyArIGFiaWxpdHlOYW1lKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnNlbGVjdENvcnJlY3RQZXJrQnV0dG9uID0gc2VsZWN0Q29ycmVjdFBlcmtCdXR0b247IiwibGV0IHN0YWdlcyA9IFtdO1xyXG5mdW5jdGlvbiBzZXRTdGFnZShzdGFnZSkge1xyXG4gICAgc3RhZ2VzLnB1c2goc3RhZ2UpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhZ2UgU3RhZ2UgdG8gY2hlY2tcclxuICogQHJldHVybnMgYm9vbGVhbiBpZiBzdGFnZSBpbiBzdGFnZXNcclxuICovXHJcbmZ1bmN0aW9uIHBhc3NlZFN0YWdlKHN0YWdlKSB7XHJcbiAgICByZXR1cm4gc3RhZ2VzLmluY2x1ZGVzKHN0YWdlKTtcclxufVxyXG5mdW5jdGlvbiBnZXRBbGxTdGFnZXMoKSB7XHJcbiAgICByZXR1cm4gc3RhZ2VzO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHNldFN0YWdlLFxyXG4gICAgcGFzc2VkU3RhZ2UsXHJcbiAgICBnZXRBbGxTdGFnZXNcclxufTsiLCIvKiBUT09MUyAqL1xyXG5cclxuXHJcbi8vIExpc3QgdG8gaG9sZCB0aGUgdG9vbHNcclxubGV0IHBsYXllclRvb2xzID0gWydCYXJlIEhhbmRzJ107XHJcblxyXG5cclxuLyoqXHJcbiAqIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIGEgdG9vbCBpcyBwcmVzZW50IGluIHRoZSBsaXN0IFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9vbCBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiBoYXNUb29sKHRvb2wpIHtcclxuICAgIHJldHVybiBwbGF5ZXJUb29scy5pbmNsdWRlcyh0b29sKTtcclxufVxyXG5cclxuLy8gRnVuY3Rpb24gdG8gYWRkIGEgdG9vbCBpZiBpdCdzIG5vdCBhbHJlYWR5IHByZXNlbnRcclxuZnVuY3Rpb24gYWRkVG9vbCh0b29sKSB7XHJcbiAgICAvLyBJZ25vcmUgdG9vbHMgdGhhdCBhcmUganVzdCBudW1iZXJzXHJcbiAgICBpZiAoIWlzTmFOKHRvb2wpICYmIC8vIHVzZSB0eXBlIGNvZXJjaW9uIHRvIHBhcnNlIHRoZSBfZW50aXJldHlfIG9mIHRoZSBzdHJpbmcgKGBwYXJzZUZsb2F0YCBhbG9uZSBkb2VzIG5vdCBkbyB0aGlzKS4uLlxyXG4gICAgICAgICFpc05hTihwYXJzZUZsb2F0KHRvb2wpKSkgLy8gLi4uYW5kIGVuc3VyZSBzdHJpbmdzIG9mIHdoaXRlc3BhY2UgZmFpbFxyXG4gICAge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghaGFzVG9vbCh0b29sKSkge1xyXG4gICAgICAgIHBsYXllclRvb2xzLnB1c2godG9vbCk7XHJcblxyXG4gICAgICAgIHVwZGF0ZVRvb2xVSSh0b29sKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QWxsVG9vbHMoKSB7XHJcbiAgICByZXR1cm4gcGxheWVyVG9vbHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVRvb2xVSSh0b29sKSB7XHJcbiAgICAvLyBVcGRhdGUgdGhlIFVJXHJcbiAgICB2YXIgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvb2xzLWxpc3RcIik7XHJcbiAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICBsaS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0b29sKSk7XHJcbiAgICBpZiAodWwpIHVsLmFwcGVuZENoaWxkKGxpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VG9vbFZhbHVlRm9yUmVzb3VyY2UocmVzb3VyY2UpIHtcclxuICAgIGlmICghcmVzb3VyY2UpIHJldHVybiAxO1xyXG4gICAgaWYgKCFyZXNvdXJjZS50b29scykgcmV0dXJuIDE7XHJcblxyXG4gICAgLy8gU29ydCB0aGUgdG9vbHMgaW4gZGVzY2VuZGluZyBvcmRlciBiYXNlZCBvbiB0aGVpciB2YWxcclxuICAgIGNvbnN0IHNvcnRlZFRvb2xzID0gcmVzb3VyY2UudG9vbHMuc29ydCgoYSwgYikgPT4gYi52YWwgLSBhLnZhbCk7XHJcblxyXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBzb3J0ZWQgdG9vbHNcclxuICAgIGZvciAobGV0IHRvb2wgb2Ygc29ydGVkVG9vbHMpIHtcclxuICAgICAgICBpZiAoaGFzVG9vbCh0b29sLnRvb2wpKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBwbGF5ZXIgaGFzIHRoZSB0b29sLCByZXR1cm4gaXRzIGFzc29jaWF0ZWQgdmFsdWVcclxuICAgICAgICAgICAgcmV0dXJuIHRvb2wudmFsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gSWYgbm9uZSBvZiB0aGUgdG9vbHMgYXJlIGZvdW5kLCByZXR1cm4gdGhlIGRlZmF1bHQgdmFsdWVcclxuICAgIHJldHVybiAxO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGhhc1Rvb2wsXHJcbiAgICBhZGRUb29sLFxyXG4gICAgZ2V0QWxsVG9vbHMsXHJcbiAgICBnZXRUb29sVmFsdWVGb3JSZXNvdXJjZVxyXG59OyIsImNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcblxyXG5jb25zdCByZXNvdXJjZUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzb3VyY2VMaXN0Jyk7XHJcbmNvbnN0IGdvbGRBbW91bnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb2xkQW1vdW50Jyk7XHJcbi8vIGxldCBnb2xkQW1vdW50ID0gMTAwMDsgLy8gU2FtcGxlIHN0YXJ0aW5nIGFtb3VudFxyXG4vLyBjb25zdCB0cmFkZUJvbnVzID0gMC45OyAvLyAxMCUgZGlzY291bnRcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVHJhZGVUYWJsZShyZXNvdXJjZXMpIHtcclxuICAgIGZvciAobGV0IHJlc291cmNlIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICAgICAgY29uc3QgcHJpY2UgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApICsgMTA7IC8vIFJhbmRvbSBwcmljZSBiZXR3ZWVuIDEwIGFuZCAxMTAgZm9yIHRoaXMgZXhhbXBsZS5cclxuXHJcbiAgICAgICAgcm93LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPHRkIGNsYXNzPVwidHJhZGV0ZFwiPiR7cmVzb3VyY2V9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzPVwidHJhZGV0ZFwiPiR7cHJpY2V9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzPVwidHJhZGV0ZFwiIHN0eWxlPVwiZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpyb3c7XCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV5QnRuXCIgZGF0YS1yZXNvdXJjZT1cIiR7cmVzb3VyY2V9XCIgZGF0YS1wcmljZT1cIiR7cHJpY2V9XCI+QnV5PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2VsbEJ0blwiIGRhdGEtcmVzb3VyY2U9XCIke3Jlc291cmNlfVwiIGRhdGEtcHJpY2U9XCIke3ByaWNlfVwiPlNlbGw8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICByZXNvdXJjZUxpc3QuYXBwZW5kQ2hpbGQocm93KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgYnV5IGFuZCBzZWxsIGJ1dHRvbnNcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXlCdG4nKS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yZXNvdXJjZScpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGNvbnN0IHByaWNlID0gcGFyc2VGbG9hdChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJpY2UnKSk7XHJcbiAgICAgICAgICAgIGJ1eVJlc291cmNlKHJlc291cmNlLCBwcmljZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxsQnRuJykuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVzb3VyY2UnKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb25zdCBwcmljZSA9IHBhcnNlRmxvYXQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXByaWNlJykpO1xyXG4gICAgICAgICAgICBzZWxsUmVzb3VyY2UocmVzb3VyY2UsIHByaWNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNpbWlsYXJseSwgeW91IGNhbiBhZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBzZWxsIGJ1dHRvbnMgaGVyZVxyXG59XHJcblxyXG5leHBvcnRzLmdlbmVyYXRlVHJhZGVUYWJsZSA9IGdlbmVyYXRlVHJhZGVUYWJsZTtcclxuXHJcbmV4cG9ydHMuYnV5UmVzb3VyY2UgPSBidXlSZXNvdXJjZTtcclxuZXhwb3J0cy5zZWxsUmVzb3VyY2UgPSBzZWxsUmVzb3VyY2U7XHJcblxyXG5mdW5jdGlvbiBidXlSZXNvdXJjZShyZXNvdXJjZSwgcHJpY2UpIHtcclxuXHJcbiAgICBpZiAoZ2V0TWF0ZXJpYWwoJ2dvbGQnLCByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJykucmVzb3VyY2VzKSA+PSBwcmljZSkge1xyXG4gICAgICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuaW5jcmVhc2VNYXRlcmlhbCgnZ29sZCcsIC1wcmljZSk7XHJcbiAgICAgICAgcmVxdWlyZSgnLi9yZXNvdXJjZXMnKS5pbmNyZWFzZU1hdGVyaWFsKHJlc291cmNlLCBwcmljZSk7XHJcbiAgICAgICAgZ29sZEFtb3VudEVsLnRleHRDb250ZW50ID0gZ2V0TWF0ZXJpYWwoJ2dvbGQnLCByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJykucmVzb3VyY2VzKTtcclxuICAgICAgICAvLyBhbGVydChgWW91IGJvdWdodCAke3Jlc291cmNlfSBmb3IgJHtwcmljZS50b0ZpeGVkKDIpfSBnb2xkIWApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBhbGVydChcIllvdSBkb24ndCBoYXZlIGVub3VnaCBnb2xkIVwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2VsbFJlc291cmNlKHJlc291cmNlLCBwcmljZSkge1xyXG4gICAgaWYgKGdldE1hdGVyaWFsKHJlc291cmNlLCByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJykucmVzb3VyY2VzKSA+PSAxKSB7XHJcblxyXG4gICAgICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuaW5jcmVhc2VNYXRlcmlhbCgnZ29sZCcsIHByaWNlKTtcclxuICAgICAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLmluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2UsIC0xKTtcclxuICAgICAgICBnb2xkQW1vdW50RWwudGV4dENvbnRlbnQgPSBnZXRNYXRlcmlhbCgnZ29sZCcsIHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKS5yZXNvdXJjZXMpO1xyXG4gICAgfVxyXG4gICAgLy8gYWxlcnQoYFlvdSBzb2xkICR7cmVzb3VyY2V9IGZvciAke3ByaWNlLnRvRml4ZWQoMil9IGdvbGQhYCk7XHJcbn0iLCJjb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoJy4vanNvbi9idXR0b25zJyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZCB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuY29uc3QgeyBnZXRCdWlsZGluZ0NvdW50IH0gPSByZXF1aXJlKCcuL2pzb24vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCwgY2FuVW5sb2NrIH0gPSByZXF1aXJlKCcuL3BvbmRlcicpO1xyXG5jb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZUtleUJ5Q29uZmlnIH0gPSByZXF1aXJlKFwiLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXNcIik7XHJcbmNvbnN0IHsgaXNCdXR0b25JZFZpc2libGUsIGNhbkJ1eUJ1aWxkaW5nLCBzZXRWaXNpYmxlQnV0dG9uIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IGNhbkNyYWZ0IH0gPSByZXF1aXJlKCcuL2NhbkNyYWZ0Jyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuLyoqXHJcbiAqIENoYW5nZXMgdGhlIHN0YXRlcyBvZiBidXR0b25zIGJldHdlZW4gJ2hpZGRlbicsICdwdXJjaGFzYWJsZScsIGFuZCAnYnV0dG9uLWRpc2FibGVkJ1xyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSgpIHtcclxuICAgIGNvbnN0IHNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKTsgLy8gQWRqdXN0IHRoZSBzZWxlY3RvciBhY2NvcmRpbmdseVxyXG5cclxuICAgIHNlbGVjdEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbmZpZyA9IGJ1dHRvbnNbYnV0dG9uLmlkXTsgLyogZ2V0IHRoZSBidXR0b24ncyBjb25maWd1cmF0aW9uIHVzaW5nIGl0cyBkYXRhIGF0dHJpYnV0ZSBvciBJRCwgZXRjLiAqLyAvKiBnZXQgdGhlIGJ1dHRvbidzIGNvbmZpZ3VyYXRpb24gdXNpbmcgaXRzIGRhdGEgYXR0cmlidXRlIG9yIElELCBldGMuICovLyogZ2V0IHRoZSBidXR0b24ncyBjb25maWd1cmF0aW9uIHVzaW5nIGl0cyBkYXRhIGF0dHJpYnV0ZSBvciBJRCwgZXRjLiAqLyAvKiBnZXQgdGhlIGJ1dHRvbidzIGNvbmZpZ3VyYXRpb24gdXNpbmcgaXRzIGRhdGEgYXR0cmlidXRlIG9yIElELCBldGMuICovO1xyXG4gICAgICAgIGlmICghYnV0dG9uQ29uZmlnKSByZXR1cm47XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcsIGJ1dHRvbkNvbmZpZy5yZXF1aXJlbWVudCk7XHJcbiAgICAgICAgLy8gUmVzZXQgYWxsIHN0YXRlcyBmaXJzdFxyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncHVyY2hhc2FibGUnLCAnYnV0dG9uLWRpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZSA9ICdoaWRkZW4nO1xyXG5cclxuICAgICAgICBpZiAoYnV0dG9uLmlkICYmIGlzQnV0dG9uSWRWaXNpYmxlKGJ1dHRvbi5pZCkpIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG4gICAgICAgIC8vIElmIHJlcXVpcmVtZW50IGlzIG1ldCwgaXQgc2hvdWxkIGJlIHZpc2libGVcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBsZXQgZ2V0TWF0ZXJpYWwgPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJykuZ2V0TWF0ZXJpYWw7XHJcbiAgICAgICAgICAgIGlmIChidXR0b25Db25maWcucmVxdWlyZW1lbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSAnYnV0dG9uLWRpc2FibGVkJztcclxuICAgICAgICAgICAgICAgIC8vIGFsd2F5cyBwdXJjaGFzYWJsZSBnYXRoZXIgYnV0dG9uc1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgJiYgIWJ1dHRvbkNvbmZpZy5kYXRhX2J1aWxkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLnRhYiA9PT0gJ3Byb2R1Y3Rpb24nKSBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcG9uZGVyIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZCAmJiBidXR0b24uaWQgPT09ICdnYXRoZXJQb25kZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHBvbmRlciB1bmxvY2tzXHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLnRhYiAmJiBidXR0b25Db25maWcudGFiID09PSAncG9uZGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbi5jbGFzc0xpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24uaWQgJiYgYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygndW5sb2NrJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhblVubG9jayhidXR0b24uaWQpKSBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGEgcG9uZGVyIGJ1dHRvbiBpcyB1bmxvY2tlZCwgaGlkZSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQb25kZXJlZChidXR0b24uZ2V0QXR0cmlidXRlKCd1bmxvY2snKSkpIHN0YXRlID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbiwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyB0YWIgYnV0dG9ucyBhbHdheXMgZWl0aGVyIGhpZGRlbiBvciBlbmFibGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLnRhYiAmJiBidXR0b25Db25maWcudGFiID09PSAndGFicycpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9ICd2aXNpYmxlJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ0Vycm9yIHdpdGggY2hlY2tpbmcgcmVxdWlyZW1lbnQgb2YgYnV0dG9uOiAnLCBidXR0b25Db25maWcsIGVycik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLmlkICYmIGJ1dHRvbkNvbmZpZy5pZC5zbGljZSgwLCA1KSA9PT0gJ2NyYWZ0Jykge1xyXG4gICAgICAgICAgICAvLyBuZXZlciBoaWRlIHRoaXMgYnV0dG9uIG9uY2UgaXRzIGJlZW4gdW5sb2NrZWRcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5jcmFmdGVkT25jZSkgc3RhdGUgPSAnYnV0dG9uLWRpc2FibGVkJztcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBJZiB3ZSBjYW4gYWZmb3JkIHRoaXMgY3JhZnQsIGl0IHNob3VsZCBiZSBwdXJjaGFzYWJsZVxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgdmFyIGNyYWZ0ZWQgPSBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkKGJ1dHRvbkNvbmZpZy5pZCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNyYWZ0ZWQpO1xyXG4gICAgICAgICAgICBpZiAoY3JhZnRlZC52YWx1ZSA+IDApIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWcoY3JhZnRlZCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGtleSk7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBpZiAoY2FuQ3JhZnQoa2V5KSkgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgd2UgY2FuIGFmZm9yZCB0aGlzIGJ1aWxkaW5nLCBpdCBzaG91bGQgYmUgcHVyY2hhc2FibGVcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b25Db25maWcpO1xyXG4gICAgICAgIGlmIChidXR0b25Db25maWcuZGF0YV9idWlsZGluZykge1xyXG4gICAgICAgICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IHB1cmNoYXNlZCBhIGJ1aWxkaW5nLCBpdCBzaG91bGQgYmUgdmlzaWJsZVxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgc3RhdGUgPSBnZXRCdWlsZGluZ0NvdW50KGJ1dHRvbkNvbmZpZy5kYXRhX2J1aWxkaW5nKSA/ICdidXR0b24tZGlzYWJsZWQnIDogc3RhdGU7XHJcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGJ1aWxkaW5nIGNvc3RcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnKTtcclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIHN0YXRlID0gY2FuQnV5QnVpbGRpbmcoYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcpID8gJ3B1cmNoYXNhYmxlJyA6IHN0YXRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgaGlkZGVuIGlzIG1ldCwgaXQgc2hvdWxkIGJlIGhpZGRlblxyXG4gICAgICAgIGlmIChidXR0b25Db25maWcuaGlkZSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9IGJ1dHRvbkNvbmZpZy5oaWRlKCkgPyAnaGlkZGVuJyA6IHN0YXRlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgY3VycmVudCBzdGF0ZVxyXG4gICAgICAgIGlmIChzdGF0ZSAhPT0gJycpIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKHN0YXRlKTtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHN0YXRlIGlzIG5vdC1wdXJjaGFzYWJsZSwgZGlzYWJsZSB0aGUgYnV0dG9uXHJcbiAgICAgICAgLy8gYnV0dG9uLmRpc2FibGVkID0gc3RhdGUgPT09ICdidXR0b24tZGlzYWJsZWQnO1xyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdG9vbHRpcCBmb3IgdGhpcyBidXR0b24gaWYgaXRzIGFjdGl2ZVxyXG4gICAgICAgIC8vIGlmIChidXR0b24gPT09IGN1cnJlbnRIb3ZlckJ1dHRvbikgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgIC8vIElmIHRoZSBzdGF0ZSBpcyBoaWRkZW4sIHNldCB0aGUgYnV0dG9uJ3MgZGlzcGxheSB0byBub25lXHJcbiAgICAgICAgaWYgKHN0YXRlID09PSAnaGlkZGVuJykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaGlkaW5nJyxidXR0b24pO1xyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxsIHZpc2libGUgJywgYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgc2V0VmlzaWJsZUJ1dHRvbihidXR0b24uaWQpO1xyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICcnOyAvLyBUaGlzIHdpbGwgcmV2ZXJ0IGl0IGJhY2sgdG8gaXRzIG9yaWdpbmFsIGRpc3BsYXkgc3RhdGUgb3IgZGVmYXVsdCAoZS5nLiwgJ2Jsb2NrJyBvciAnaW5saW5lLWJsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9iLWJ1dHRvbicpLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgICBjb25zdCBqb2IgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWpvYicpO1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncHVyY2hhc2FibGUnLCAnYnV0dG9uLWRpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgY29uc3QgcmVxUG9uZGVyID0gKHJlcXVpcmUoJy4vam9iUmVxdWlyZWRQb25kZXJzJykuam9iUmVxdWlyZWRQb25kZXJzKVtqb2JdO1xyXG4gICAgICAgIGlmIChyZXFQb25kZXIgPT09IG51bGwgfHwgcmVxUG9uZGVyID09PSB1bmRlZmluZWQpIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICBlbHNlIGlmIChpc1BvbmRlcmVkKHJlcVBvbmRlcikpIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICBlbHNlIGlmIChyZXFQb25kZXIgPT09ICdub3QtdW5sb2NrYWJsZScpIHN0YXRlID0gJ2hpZGRlbic7XHJcbiAgICAgICAgZWxzZSBzdGF0ZSA9ICdidXR0b24tZGlzYWJsZWQnO1xyXG5cclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coam9iLCBidXR0b24sIHJlcVBvbmRlciwgc3RhdGUpO1xyXG4gICAgICAgIC8vIGJ1dHRvbi5jbGFzc0xpc3QuXHJcbiAgICAgICAgaWYgKHN0YXRlID09PSAnaGlkZGVuJykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaGlkaW5nJyxidXR0b24pO1xyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxsIHZpc2libGUgJywgYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgc2V0VmlzaWJsZUJ1dHRvbihidXR0b24uaWQpO1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChzdGF0ZSk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnJzsgLy8gVGhpcyB3aWxsIHJldmVydCBpdCBiYWNrIHRvIGl0cyBvcmlnaW5hbCBkaXNwbGF5IHN0YXRlIG9yIGRlZmF1bHQgKGUuZy4sICdibG9jaycgb3IgJ2lubGluZS1ibG9jaycpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0cy51cGRhdGVCdXR0b25WaXNpYmlsaXR5ID0gdXBkYXRlQnV0dG9uVmlzaWJpbGl0eTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwOCk7XG4iXSwibmFtZXMiOlsiYXRlRmlzaCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXRBdGVGaXNoIiwiYm9vbCIsImdldEF0ZUZpc2giLCJidWlsZGluZ3MiLCJidXR0b25zIiwicmVzb3VyY2VzIiwiaW5jcmVhc2VNYXRlcmlhbCIsImluY3JlYXNlTWF4IiwiZ2VuZXJhdGVUb29sdGlwQ29zdCIsImNhbkJ1eUJ1aWxkaW5nIiwidXBkYXRlU2lkZWJhciIsInVwZGF0ZVRvdGFsIiwiaGFzUGVyayIsImNhcGl0YWxpemVGaXJzdCIsImdldE1hdGVyaWFsIiwicGFzc2VkU3RhZ2UiLCJyZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCIsImJ1aWxkaW5nS2V5IiwiYnVpbGRpbmciLCJjb3N0IiwicmF0aW8iLCJtYXRlcmlhbCIsIk1hdGgiLCJyb3VuZCIsImJhc2Vjb3N0IiwicG93IiwiY291bnQiLCJteUJ1dHRvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5ld1RleHQiLCJzZXRBdHRyaWJ1dGUiLCJlZmZlY3RTdHJpbmciLCJlZmZlY3RQYXJ0cyIsInJlc291cmNlIiwidmFsdWUiLCJPYmplY3QiLCJlbnRyaWVzIiwiZWZmZWN0cyIsInB1c2giLCJib29zdCIsInBlcmNlbnRhZ2VCb29zdCIsImpvaW4iLCJnZW5lcmF0ZUVmZmVjdFN0cmluZyIsImNyZWF0ZUJ1aWxkaW5nQnV0dG9uIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiY29zdHMiLCJtYXAiLCJhbW91bnQiLCJyZXF1aXJlbWVudEZ1bmN0aW9uIiwiY29zdENvbmRpdGlvbiIsImV2ZXJ5IiwiZmxvb3IiLCJjbG9uZUNvbmRpdGlvbiIsImNyZWF0ZVJlcXVpcmVtZW50RnVuY3Rpb24iLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwidG9vbHRpcERlc2MiLCJidXR0b24iLCJidXlCdWlsZGluZyIsImJ1aWxkaW5nTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50IiwiYnVpbGRpbmdDb3VudCIsImdldEVsZW1lbnRCeUlkIiwidGV4dENvbnRlbnQiLCJzcGxpdCIsImdlbmVyYXRlQnVpbGRpbmdUb29sdGlwQ29zdCIsInRvRml4ZWQiLCJidXlNYXhCdWlsZGluZ3MiLCJjcmFmdGVkUmVzb3VyY2VzIiwiY2FuQ3JhZnQiLCJyZXNvdXJjZUtleSIsInJlcXVpcmVtZW50cyIsIm1hdCIsImVyciIsIndhcm4iLCJzdHIiLCJjcmFmdFJlc291cmNlIiwic3dpdGNoZWRNYW51ZmFjdHVyZWRNYXAiLCJhbGxNYXRlcmlhbHMiLCJjcmVhdGVGYWN0b3J5RGl2IiwiZmFjdG9yaWVzQ29udGFpbmVyIiwiZmFjdG9yeURpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJsZWZ0VGV4dCIsInJpZ2h0U2VsZWN0Iiwia2V5cyIsImZvckVhY2giLCJvcHRpb24iLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZSIsImNvbG9yIiwiYXJyb3ciLCJpbm5lckhUTUwiLCJzZWxlY3RFbGVtZW50IiwidGV4dCIsImluaXRpYWxPcHRpb24iLCJkaXNhYmxlZCIsInNlbGVjdGVkIiwiYWRkSW5pdGlhbE9wdGlvbiIsInIiLCJtYW51ZmFjdHVyZUJ1bGsiLCJidWxrVXBncmFkZUNvc3QiLCJuZXdGYWN0b3J5U2lsdmVyQ29zdCIsImF0dGVtcHRNYW51ZmFjdHVyZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmYWN0b3J5IiwibGVmdFNlbGVjdCIsImdvYWxSZXNvdXJjZSIsIm51bSIsIm1pbiIsImkiLCJtYW51ZmFjdHVyZSIsImJ1eUZhY3RvcnkiLCJidXlGYWN0b3J5QnV0dG9uIiwidXBncmFkZUJ1bGsiLCJnZXRDcmFmdGVkUmVzb3VyY2UiLCJ0b0xvd2VyQ2FzZSIsImhhc093blByb3BlcnR5Iiwic2tpbGxzIiwiYWxsVmlzaWJsZUJ1dHRvbnMiLCJTZXQiLCJnZXRNYXgiLCJtYXgiLCJJbmZpbml0eSIsImFiYnJldmlhdGVOdW1iZXIiLCJmb3JtYXQiLCJ1bml0Iiwicm91bmRUb0RlY2ltYWxzIiwibnVtYmVyIiwiZGVjaW1hbHMiLCJmYWN0b3IiLCJ0b1N0cmluZyIsImxldmVsVXBNZXNzYWdlIiwiaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSIsInBvcHVsYXRlU2tpbGxzVGFibGUiLCJ0YWJsZSIsInNraWxsIiwiZXhwIiwibGV2ZWwiLCJkaXNwbGF5IiwicHJvZ3Jlc3NCYXIiLCJ3aWR0aCIsInRyIiwiaWQiLCJ0ZFByb2dyZXNzIiwicG9zaXRpb24iLCJoZWlnaHQiLCJza2lsbFRleHQiLCJsZWZ0IiwidG9wIiwidHJhbnNmb3JtIiwiQXJyYXkiLCJmcm9tIiwicmVzb3VyY2VOYW1lIiwicmVzb3VyY2VDb25maWciLCJwYXJlbnRFbGVtZW50Iiwic2hvdWxkSGlkZSIsImMiLCJjbGFzc0xpc3QiLCJpc1Zpc2libGUiLCJkaXNwbGF5RWxlbSIsInVwZGF0ZVNraWxscyIsImFicyIsImFmZmVjdGVkUmVzb3VyY2VzIiwiaW5jbHVkZXMiLCJyZW1vdmUiLCJzZXRUaW1lb3V0IiwiYWRkIiwiY2FsY0NyYWZ0Qm9udXMiLCJpc0J1dHRvbklkVmlzaWJsZSIsImhhcyIsInNldFZpc2libGVCdXR0b24iLCJjYW5CdXkiLCJjbGVhclNpZGViYXIiLCJpc1BvbmRlcmVkIiwiam9iQ291bnRzIiwiam9ic1RhYiIsImdldFRvdGFsSm9icyIsInRvdGFsIiwiaiIsImpvYkRpdiIsImRlY3JlbWVudERpdiIsImpvYk5hbWVTcGFuIiwiaW5jcmVtZW50RGl2IiwiYnRuIiwiam9iVHlwZSIsInRoaXMiLCJjbG9zZXN0IiwiZ2V0QXR0cmlidXRlIiwiZGlzdHJpYnV0ZVdvcmtlcnMiLCJ1cGRhdGVEaXNwbGF5Iiwid29ya2Vyc0Rpc3RyaWJ1dGlvbiIsIk1hcCIsInRvdGFsV29ya2VycyIsImZpbHRlciIsIm51bWJlck9mUmVzb3VyY2VzIiwibGVuZ3RoIiwicGVyUmVzb3VyY2UiLCJzZXQiLCJyZW1haW5pbmdXb3JrZXJzIiwiZ2V0IiwidGhpc0pvYkJ1dHRvbiIsImpvYkVsZW1lbnQiLCJjb25uZWN0aW9ucyIsImNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJkcmF3TGluZSIsInN0YXJ0RWxlbWVudCIsImVuZFgiLCJlbmRZIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInN0YXJ0WCIsInN0YXJ0WSIsInNjcm9sbFkiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJjb250ZXh0IiwiZnJvbVgiLCJmcm9tWSIsInRvWCIsInRvWSIsInJhZGl1cyIsImFuZ2xlIiwieCIsInkiLCJ4X2NlbnRlciIsInlfY2VudGVyIiwiYXRhbjIiLCJjb3MiLCJzaW4iLCJQSSIsImNsb3NlUGF0aCIsImZpbGwiLCJkcmF3QXJyb3doZWFkIiwic3dpdGNoSm9iIiwib2xkSm9iSWQiLCJuZXdKb2JJZCIsIndvcmtlcnMiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjbGVhckpvYkFzc2lnbm1lbnRzIiwiY2xlYXJSZWN0IiwicmVhc3NpZ25Kb2JzQmFzZWRPblJlc291cmNlcyIsInVuZGVmaW5lZCIsImRhdGFKb2IiLCJvbGRJZCIsInJlcGxhY2UiLCJuZXdJZCIsIm1heGVkT3V0IiwicmVzb3VyY2VBcnJheSIsImVycm9yIiwiZHJhd0FsbENvbm5lY3Rpb25zIiwib2xkQnV0dG9uIiwibmV3QnV0dG9uIiwibmV3WCIsIm5ld1kiLCJib3R0b20iLCJvZmZzZXRUb3AiLCJvZmZzZXRIZWlnaHQiLCJnZXRXb3JrZXJzIiwic2V0Q29ubmVjdGlvbnMiLCJuZXdDb25uZWN0aW9ucyIsImdldENvbm5lY3Rpb25zIiwicm9ja3MiLCJ3b29kIiwidmluZXMiLCJzdGlja3MiLCJnYW1lIiwiZmlzaCIsImdsYXNzIiwicG9uZGVyIiwiZ2V0QnVpbGRpbmdDb3VudCIsImdldEJvb3N0IiwiaGFzVG9vbCIsImNsYXNzIiwidGFiIiwidG9vbHRpcENvc3QiLCJyZXF1aXJlbWVudCIsImhpZGUiLCJzaG93VGFiIiwiY3JhZnRlZE9uY2UiLCJnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkIiwiZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWciLCJjb25maWciLCJrIiwicGVya3MiLCJwb25kZXJzIiwiZW1vamkiLCJpc1Jlc291cmNlIiwiZ2V0UmVzb3VyY2VDb25maWdCeUlkIiwiZ2F0aGVyaW5nIiwibWFzb25yeSIsIm5lZWRUb29scyIsImNhcnBlbnRyeSIsInRoaW5raW5nIiwic21pdGhpbmciLCJmYXJtaW5nIiwiY29tYmF0IiwiZmlzaGluZyIsImh1bnRpbmciLCJzYXZlR2FtZSIsImxvYWRHYW1lIiwiYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucyIsImNyYWZ0QWxsUmVzb3VyY2VzIiwiY2FsY0luY3JlYXNlIiwidXBkYXRlUmVzb3VyY2VJbmNyZWFzZVJhdGVzIiwiY2FsY1NlY29uZHNSZW1haW5pbmciLCJpbml0aWFsaXplUmVzb3VyY2VUYWdzIiwic2VsZWN0QWJpbGl0eSIsIm1ha2VWaXNpYmxlIiwidXBkYXRlQnV0dG9uVmlzaWJpbGl0eSIsImdlbmVyYXRlUG9uZGVyQnV0dG9ucyIsImFkZFRvb2wiLCJzaWRlYmFyUGFyZW50IiwiZW1vamlHYXRoZXJEaXYiLCJ0b29sc1RvU3RhZ2VzIiwidmlzaWJpbGl0eVJ1bGVzIiwiY29uZGl0aW9uIiwiYWN0aW9uIiwibG9jYXRpb24iLCJocmVmIiwidGFiQ29udGFpbmVycyIsInRhYk5hbWUiLCJwcmV2VGFiIiwiY29udGVudCIsImNvbnRhaW5zIiwidGFicyIsInRhYlN0cmluZyIsImFjdGl2ZVRhYkJ1dHRvbiIsImV2ZW50Iiwia2V5IiwiZGFya01vZGVUb2dnbGUiLCJib2R5IiwidG9nZ2xlIiwiaXNEYXJrIiwib3ZlcmxheSIsIm1lc3NhZ2VFbGVtZW50IiwiY2hhbmdlTWVzc2FnZSIsIm5ld01lc3NhZ2UiLCJjbG9uZVdvcmRzIiwibW9kaWZpZWRNZXNzYWdlIiwibWlsbGlzZWNvbmRzX3Blcl9mcmFtZSIsImxhc3RfdGltZSIsInRvdGFsX3RpbWUiLCJhY2N1bXVsYXRlZF9sYWciLCJsb29wIiwiY3VycmVudF90aW1lIiwiZGVsdGFfdGltZSIsIm5vcm1hbFJhdGUiLCJ1cGRhdGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lX3NpbmNlX2xhc3Rfc2F2ZSIsInRpbWVfc2luY2VfbWFudWZhdHVyZSIsInJ1bGUiLCJ0b29sIiwiY3VycmVudEhvdmVyQnV0dG9uIiwidXBkYXRlVG9vbHRpcCIsInJlbmRlciIsInRvb2x0aXAiLCJkZXNjIiwiZWZmZWN0IiwidGFyZ2V0IiwiY29sb3JDbGFzcyIsInNlY29uZHNSZW1haW5pbmciLCJyaWdodCIsInNob3dUb29sdGlwIiwiZ2V0Q1JLZXlGcm9tSUQiLCJ0cmFjZSIsImNyZWF0ZUNvbHVtbnMiLCJwYXJlbnQiLCJjb2wxIiwiY29sMiIsImNvbDMiLCJwcmVwZW5kIiwidGFic0NvbnRhaW5lciIsInByb2R1Y3Rpb25Db250YWluZXIiLCJleHBlcmltZW50Q29udGFpbmVyIiwicG9uZGVyQ29udGFpbmVyIiwicHJvZHVjdGlvbkNvbHVtbnMiLCJleHBlcmltZW50Q29sdW1ucyIsInBvbmRlckNvbHVtbnMiLCJwcm9kdWN0aW9uQ29sdW1uSW5kZXgiLCJleHBlcmltZW50Q29sdW1uSW5kZXgiLCJwb25kZXJDb2x1bW5JbmRleCIsImJ1dHRvbkVsZW1lbnQiLCJ0b29sdGlwRWZmZWN0IiwidW5sb2NrIiwiZGF0YV9idWlsZGluZyIsImNyYWZ0ZWRSZXNvdXJjZSIsInZhbHVlcyIsImZpbmQiLCJnZW5lcmF0ZUJ1dHRvbnMiLCJtYXRjaGVzIiwic2hpZnRLZXkiLCJ1bmxvY2tBdHRyIiwiY2FuVW5sb2NrIiwic2lkZWJhclRleHQiLCJyZXNvdXJjZUJ1dHRvbiIsImlzR2V0dGluZyIsImRlZmF1bHRUZXh0IiwiZm9udFdlaWdodCIsInJCdXR0b24iLCJzdG9wQWxsR2F0aGVyaW5nIiwiYWN0aXZlVGV4dCIsInRvZ2dsZVJlc291cmNlIiwiZ2V0UktleUZyb21JRCIsIm92ZXJsYXlUZXh0Iiwib3ZlcmxheUJ1dHRvbiIsIm9wYWNpdHkiLCJmYWRlVG9CbGFjayIsImxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJyZWxvYWQiLCJwZXJrIiwiZmFjdG9yeUJ1dHRvbnMiLCJ1cGdyYWRlQnVsa0J1dHRvbiIsIm1ha2VGYWN0b3J5QnV0dG9ucyIsImUiLCJ1cGRhdGVVSSIsInJlc291cmNlRGl2Iiwic2V0VG90YWxUaW1lIiwidGltZSIsImdldE1lc3NhZ2UiLCJzZXRTdGFnZSIsInN0YWdlIiwic3RhZ2VFbGVtZW50cyIsImVsZW1lbnQiLCJteVBlcmtzIiwicGVya05hbWUiLCJhZGRQZXJrIiwiYiIsImFiaWxpdHlOYW1lIiwiY29uZmlybSIsImdldFBlcmtGcm9tVGllciIsInRpZXJOdW0iLCJnZXRBbGxQZXJrcyIsInVubG9ja0lkIiwidW5sb2NrS2V5IiwicG9uZGVyT2JqZWN0cyIsInBvbmRlcktleSIsInBvbmRlck9iaiIsImJ1dHRvbktleSIsImdldFRvb2xWYWx1ZUZvclJlc291cmNlIiwiY3VyclRvb2wiLCJjbG9uZU11bHQiLCJza2lsbFJhdGlvIiwiYm9vc3REYXRhIiwiaW5jcmVhc2UiLCJwYXJzZUZsb2F0IiwicmVzb3VyY2VzQ29udGFpbmVyIiwiY3JlYXRlUmVzb3VyY2VUYWciLCJncm91cE5hbWUiLCJncm91cENvbnRhaW5lciIsInRvZ2dsZUJ1dHRvbiIsIm9uY2xpY2siLCJncm91cCIsImNoaWxkcmVuIiwidGFnTmFtZSIsInRvZ2dsZUdyb3VwVmlzaWJpbGl0eSIsImNyZWF0ZVJlc291cmNlR3JvdXBDb250YWluZXIiLCJyZXNvdXJjZURpc3BsYXlOYW1lIiwicmVzb3VyY2VFbGVtZW50IiwicmVzb3VyY2VOYW1lU3BhbiIsInJlc291cmNlVmFsdWVTcGFuIiwicmVzb3VyY2VSYXRlU3BhbiIsImNoYW5nZVJlc291cmNlT3JkZXIiLCJyZXNvdXJjZUlkIiwibmV3T3JkZXIiLCJvcmRlciIsInJlc291cmNlR3JvdXBzIiwiYmFzaWNzIiwibWF0ZXJpYWxzIiwidG9vbHMiLCJhZHZhbmNlZCIsIm1ldGFsIiwiY29uc3RydWN0aW9uIiwidXBkYXRlRGlzcGxheVZhbHVlIiwiY3JhZnRlZEJ1dHRvbiIsImNvdW50U3BhbiIsImNoZWNrZWQiLCJhdXRvQ3JhZnRUYWJsZSIsImNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbiIsImNsZWFuQ291bnQiLCJjb250YWluZXIiLCJlbW9qaURpc3BsYXkiLCJ1cGRhdGVFbW9qaURpc3BsYXkiLCJlbW9qaVN0ciIsInJlcGVhdCIsImZvbnRTaXplIiwib2Zmc2V0V2lkdGgiLCJhZGp1c3RGb250U2l6ZSIsInN1ZmZpY2llbnRSZXNvdXJjZXMiLCJxdWFudGl0eSIsImNyYWZ0UmVzb3VyY2VRdWFudGl0eSIsInNldE1heCIsImNyYWZ0Qm9udXMiLCJjcmFmdE9uZSIsIm5lZWRlZCIsImNlaWwiLCJuYW1lIiwicmF0ZSIsInJhdGVFbGVtZW50IiwiZ2V0QWxsVG9vbHMiLCJnZXRBbGxTdGFnZXMiLCJzYXZlIiwic3RhZ2VzIiwidW5sb2NrcyIsImpvYnMiLCJtZXNzYWdlIiwiaXRlbSIsInUiLCJhIiwiaHRtbFN0cmluZyIsImRpdiIsImV4dHJhY3RUZXh0RnJvbUhUTUwiLCJEYXRlIiwibm93Iiwic2V0SXRlbSIsInNhdmVnYW1lIiwiZ2V0SXRlbSIsInZhbHVlT2YiLCJOdW1iZXIiLCJpc05hTiIsInVuaW9uIiwicyIsImNsb25lcyIsInRpbWVfZGlmZmVyZW5jZSIsImluYyIsInNpemUiLCJqb2IiLCJzZWxlY3RDb3JyZWN0UGVya0J1dHRvbiIsInNlbGVjdGVkQnV0dG9uIiwicmVtb3ZlQXR0cmlidXRlIiwicGxheWVyVG9vbHMiLCJ1bCIsImxpIiwiY3JlYXRlVGV4dE5vZGUiLCJ1cGRhdGVUb29sVUkiLCJzb3J0ZWRUb29scyIsInNvcnQiLCJ2YWwiLCJyZXNvdXJjZUxpc3QiLCJnb2xkQW1vdW50RWwiLCJidXlSZXNvdXJjZSIsInByaWNlIiwic2VsbFJlc291cmNlIiwiZ2VuZXJhdGVUcmFkZVRhYmxlIiwicm93IiwicmFuZG9tIiwiYnV0dG9uQ29uZmlnIiwic3RhdGUiLCJjcmFmdGVkIiwicmVxUG9uZGVyIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJzb3VyY2VSb290IjoiIn0=