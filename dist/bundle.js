(()=>{var e={621:e=>{var t=!1;e.exports={ateFish:t,setAteFish:function(e){return t=e},getAteFish:function(){return t}}},151:(e,t,o)=>{const{buildings:s}=o(882),{buttons:n}=o(54),{resources:i}=o(587),{increaseMaterial:r,increaseMax:a}=o(594),{updateTotal:c}=o(150),{hasPerk:l}=o(134),{getMaterial:d}=o(924),{passedStage:u}=o(751),{recalcMaxClones:f}=o(995),{updateSidebar:p}=o(453),{updateBuildingButtonCount:g}=o(607),{recalculateBuildingCost:b}=o(22),{canBuyBuilding:h}=o(23);function m(e){console.log("Buying building "+e);const t=s[e];if(h(e)){for(const e in t.cost)r(e,-t.cost[e]);for(const[e,o]of Object.entries(t.effects))console.log("bought building effects",e,o),a(e,o);t.count++,p(),c(),g(e,t.count),b(e,s,l),f(),v()}}function y(e,t,o,s){const n=document.createElement("span");n.textContent=e,n.style.fontSize=`${s}px`,n.style.position="absolute",n.style.whiteSpace="nowrap",n.style.visibility="hidden",document.body.appendChild(n);let i=s;for(;n.offsetWidth<t&&n.offsetHeight<o&&(i++,n.style.fontSize=`${i}px`,!(i>=1e3)););return document.body.removeChild(n),i}function v(){const e=document.getElementById("buildingList");e.innerHTML="";let t=0;for(const[o,n]of Object.entries(s))for(let s=0;s<n.count;++s,++t){let s=(t%6+1).toString(),i=Math.floor(t/6+1).toString();const r=y(n.emoji||"?",36,48,36);e.innerHTML+=`<span class = 'tooltip' style='grid-column:${s}; grid-row:${i}; font-size:${r}px' tooltipDesc='${o}'>${n.emoji||"?"}</span>`}}e.exports={generateBuildingTooltipCost:function(e){return Object.entries(e).map((([e,t])=>`${t.toFixed(2)} ${e}`)).join("\n")},createBuildingButton:function(e,t){const o=t[e];o.cost=JSON.parse(JSON.stringify(o.basecost));const s=Object.entries(o.cost).map((([e,t])=>`${e}: ${t}`)).join(", "),n=function(e,t){return function(o){const s=Object.entries(e).every((([e,t])=>d(e,o)>=Math.floor(t/2))),n=!t.effects||!t.effects.clones||u("clones");return s&&n}}(o.cost,o);return{class:"tooltip "+e,tab:"production",text:`${e.charAt(0).toUpperCase()+e.slice(1)}`,tooltipDesc:t[e].tooltipDesc||"A mysterious building with untold benefits.",tooltipCost:s,requirement:()=>n(),data_building:e}},buyMaxBuildings:function(e){let t=0;for(;h(e);)m(e),++t;return t},buyBuilding:m,generateEffectString:function(e){let t=[];for(let[o,s]of Object.entries(e.effects))t.push(`+${s} max ${o}`);for(let[o,s]of Object.entries(e.boost)){let e=Math.round(100*(s-1));t.push(`+${e}% ${o} production`)}return t.join(", ")},updateBuildingList:v}},121:(e,t,o)=>{const{resources:s}=o(587),{craftedResources:n}=o(371),{buildings:i,getBoost:r}=o(882),{skills:a}=o(324),{getWorkers:c}=o(150),{hasPerk:l}=o(134),{isPondered:d}=o(369),{getFactoryProduction:u}=o(51),{hasPrestige:f,getLevelOfPrestige:p}=o(425);t.calcIncrease=function(e,t){var o=0;if(!s.hasOwnProperty(e)){if(!n.hasOwnProperty(e))return o;if((o=u(e))>0)return o}"clones"===e&&d("autoClone")&&(o=1),s[e]&&s[e].isGetting&&(o+=1),o+=(l("Leader")?.375:.25)*c(e)||0,!l("Lumberjack")||"wood"!=e&&"sticks"!=e||(o*=1.25),!l("Miner")||"rocks"!=e&&"ore"!=e||(o*=1.25),!l("Botanist")||"vines"!=e&&"herbs"!=e&&"wheat"!=e||(o*=1.25);for(let t in a)if(a[t].affectedResources.includes(e)){"gathering"===t&&f("gatheringBoost")&&(o*=1.1*p("gatheringBoost")),"masonry"===t&&f("masonryBoost")&&(o*=1.1*p("masonryBoost")),"carpentry"===t&&f("carpentryBoost")&&(o*=1.1*p("carpentryBoost")),"thinking"===t&&f("thinkingBoost")&&(o*=1.1*p("thinkingBoost")),"farming"===t&&f("farmingBoost")&&(o*=1.1*p("farmingBoost")),"fishing"===t&&f("fishingBoost")&&(o*=1.1*p("fishingBoost")),"hunting"===t&&f("huntingBoost")&&(o*=1.1*p("huntingBoost"));let e=1.06;o*=1+(Math.pow(e,a[t].level)-1)/100}for(let t in i){const s=r(t,e);if(s){var g=Math.pow(s,i[t].count);d("effectiveBuildings")&&(g*=1.01),o*=g}}return"ponder"===e&&(d("ponder1")&&(o*=1.05),d("ponder2")&&(o*=1.05),d("ponder3")&&(o*=1.05)),d("fasterResourceGain")&&(o*=1.05),f("cloneBoost")&&(o*=1.05*p("cloneBoost")),o*=t/1e3,parseFloat(o.toFixed(3))}},23:(e,t,o)=>{const{resources:s}=o(587),{getMaterial:n}=o(924);t.canBuyBuilding=function(e){let t=!0;const i=o(882).buildings[e];for(const e in i.cost)if(i.cost[e]>n(e,s)){t=!1;break}return t}},64:(e,t,o)=>{const{resources:s}=o(587),{craftedResources:n}=o(371),{getMaterial:i}=o(924);t.canCraft=function(e){let t=!0,o=n[e].cost;try{for(let e in o)if(i(e,s)<o[e]){t=!1;break}}catch(t){console.warn("Error in calculating requirements: ",e,o,t)}return t}},681:(e,t)=>{t.capitalizeFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},51:(e,t,o)=>{const{getCraftedResource:s}=o(590),{getMaterial:n}=o(924),{craftedResources:i,getCraftedResourceConfigById:r}=o(371),{resources:a}=o(587);var c={beams:["wood"],bricks:["clay"],concrete:["sand"],crates:["wood"],glass:["sand"],gold:["ore"],handle:["sticks"],iron:["ore"],leather:["hides"],medicine:["herbs"],nails:["iron"],paper:["wood"],sharprocks:["rocks"],silver:["ore"],slabs:["rocks"],spear:["staff","sharprocks","rope"],staff:["handle","rope"],steel:["iron"],sticks:["wood"],rope:["vines"],wood:["sticks"]},l=[];Object.keys(a).forEach((e=>l.push(e))),Object.keys(i).forEach((e=>l.push(e))),console.log("All materials: ",l);let d={},u={};function f(){Object.keys(i).forEach((e=>{d[e]=0,Array.from(i[e].cost).forEach((e=>{u[e.resource]||(u[e.resource]=0)}))}));const e=document.getElementById("factories"),t=document.createElement("div");t.className="factory";const s=document.createElement("span");s.classList.add("factoryCost");const n=document.createElement("select");Object.keys(c).forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,n.appendChild(t)})),n.setAttribute("data-produced","none"),n.addEventListener("change",(function(){const e=this.getAttribute("data-produced");"none"!==e&&(document.querySelector(`#resource-${e}`).style.color="");const t=n.value;(function(e,t,o){e&&"none"!==e&&(d[e]--,Array.from(i[e].cost).forEach((e=>{u[e.resource]-=e.amount}))),d[t]++,Array.from(i[t].cost).forEach((e=>{u[e.resource]+=e.amount}))})(e,t,this.dataset.factoryIndex),this.setAttribute("data-produced",t),document.querySelector(`#resource-${t}`).style.color="thistle",s.innerHTML="",s.innerHTML+=`${o(594).generateTooltipCost(i[n.value].cost)}`}));const r=document.createElement("span");return r.innerHTML="&#8594;",t.appendChild(s),t.appendChild(r),t.appendChild(n),function(e,t){const o=document.createElement("option");o.value="",o.textContent="Select a Resource",o.disabled=!0,o.selected=!0,e.appendChild(o)}(n),e.appendChild(t),t}let p=2,g=30;var b=50;e.exports={createFactoryDiv:f,attemptManufacture:function(){document.querySelectorAll(".factory").forEach((e=>{const t=e.querySelector("select:last-child").value,s=c[t];console.log("checking factory",t),s&&t&&function(e,t){let s=[];e.forEach((e=>s.push(n(e)/i[t].cost[e])));let r=Math.min(p,...s);console.log(r,p,...s),r*=1,o(594).craftResourceQuantity(t,r)}(s,t)}))},buyFactory:function(){const e=document.getElementById("buyFactoryButton");n("silver")<b?console.log("Not enough silver!"):(o(594).increaseMaterial("silver",-b),f(),b*=1.2,e.setAttribute("tooltipCost",`${b.toFixed(2)} silver`))},upgradeBulk:function(){p+=2,g+=10,document.getElementById("upgradeBulkButton").setAttribute("tooltipCost",`${p} â†’ ${p+2}: ${g.toFixed(0)} silver`)},allMaterials:l,getFactoryProduction:function(e){return d[e]*p},loadFactory:function(e){let t=f();t.querySelector("select").value=e,document.querySelector(`#resource-${e}`).style.color="thistle",t.querySelector(".factoryCost").innerHTML="",t.querySelector(".factoryCost").innerHTML+=`${o(594).generateTooltipCost(i[e].cost)}`},activeFactoriesProducing:d}},590:(e,t,o)=>{t.getCraftedResource=function(e,t){return e=e.toLowerCase(),t||(t=o(371).craftedResources),t.hasOwnProperty(e)&&t[e].value||0}},924:(e,t,o)=>{const{getCraftedResource:s}=o(590);t.getMaterial=function(e,t){return t||(t=o(587).resources),t.hasOwnProperty(e)?t[e].value:s(e,null)}},78:(e,t,o)=>{const{hasPrestige:s,getLevelOfPrestige:n}=o(425),{resources:i,isResource:r}=o(587),{skills:a}=o(324),{triggerFloatUpText:c}=o(727);let l=new Set(["gatherSticks"]);t.allVisibleButtons=l;let d=!1;function u(){const e=document.getElementById("skillsTable");if(d)for(let e in a){(a[e].exp>0||a[e].level>0)&&(document.querySelector("#tr-"+e).style.display="");let t=document.querySelector(`.progressBar[data-skill="${e}"]`);t&&(t.style.width=a[e].exp+"%",document.querySelector("#level-"+e).textContent="["+a[e].level+"]   "+e)}else{console.log("Generating table for the first time"),d=!0;for(let t in a){let o=document.createElement("tr");o.id="tr-"+t;let s=document.createElement("td");s.style.position="relative";let n=document.createElement("div");n.setAttribute("class","progressBar"),n.style.height="20px",n.setAttribute("data-skill",t);let i=document.createElement("span");i.textContent="["+a[t].level+"]   "+t,i.setAttribute("id","level-"+t),i.style.position="absolute",i.style.left="10px",i.style.top="50%",i.style.transform="translateY(-50%)",0==a[t].exp&&0==a[t].level&&(o.style.display="none"),s.appendChild(n),s.appendChild(i),o.appendChild(s),e.appendChild(o)}}}e.exports={getMax:function(e){if(r(e)){let t=i[e].max;return s("storageSpace")&&(t*=1.05*n("storageSpace")),t}return 1/0},updateSkills:function(e,t){t=Math.abs(t),o(369).isPondered("fasterSkills")&&(t*=1.05);for(let o in a)if(a[o].affectedResources.includes(e)){if(a[o].level>=100){a[o].level=100,a[o].exp=0;continue}if(a[o].exp+=t/Math.pow(1.4,a[o].level),a[o].exp>=100){a[o].level+=1,a[o].exp=0;let e=`Level up! ${o} â†’ ${a[o].level}`;const t=document.getElementById("prestige").getBoundingClientRect();c(t.x,t.y,e,"#F4D03F")}}o(751).passedStage("skillsTable")&&u()},populateSkillsTable:u,calcCraftBonus:function(e){let t=1;for(let o in a)if(a[o].affectedResources.includes(e)){let e=1.06;t*=1+(Math.pow(e,a[o].level)-1)/100}return t},isButtonIdVisible:function(e){return l.has(e)},setVisibleButton:function(e){l.add(e)},hasGeneratedSkillTable:d,clearSidebar:function(){document.querySelector("#resources").innerHTML=""}}},842:(e,t)=>{t.O={thinking:"thinking",fishing:"fishing",smithing:"not-unlockable",farming:"agriculture",combat:"combat",hunting:"hunting"}},150:(e,t,o)=>{const{skills:s}=o(324),{resources:n}=o(587),{getMaterial:i}=o(924),{isPondered:r}=o(369),{getMax:a}=o(78),{triggerFloatUpText:c}=o(727),l={};for(let e in s)l[e]=0;const d=document.getElementById("jobsTab");function u(){var e=0;for(let t in l)e+=l[t];return e}Object.keys(s).forEach((e=>{const t=document.createElement("div");t.classList.add("job-button"),t.setAttribute("data-job",e),t.id="job-button-"+e;const o=document.createElement("div");o.classList.add("btn-decrement"),o.textContent="-",t.appendChild(o);const s=document.createElement("span");s.classList.add("job-name"),s.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: 0`,t.appendChild(s);const n=document.createElement("div");n.classList.add("btn-increment"),n.textContent="+",t.appendChild(n),d.appendChild(t)})),document.querySelectorAll(".btn-increment").forEach((e=>{e.addEventListener("click",(function(e){const t=this.closest(".job-button").getAttribute("data-job");i("clones",n)>u()&&l[t]++,p(t,l[t]),g(t),b(),console.log(f);const o=e.clientX,s=e.clientY;c(o,s,"+1 worker","green")}))})),document.querySelectorAll(".btn-decrement").forEach((e=>{e.addEventListener("click",(function(e){const t=this.closest(".job-button").getAttribute("data-job");if(l[t]>0){l[t]--,p(t,l[t]),g(t),b();const o=e.clientX,s=e.clientY;c(o,s,"-1 worker","red")}}))}));let f=new Map;function p(e,t){if(!s[e])return null;let o=s[e].affectedResources;o=o.filter((e=>e in n));let i=o.length,r=Math.floor(t/i);for(let e of o)f.set(e,r);let a=t-r*i;for(let e of o)a>0&&(f.set(e,f.get(e)+1),a--)}function g(e){const t=document.querySelector(`.job-button[data-job="${e}"]`);t||console.warn("Couldn't find job button for job: ",e);const s=t.querySelector(".job-name");s&&(s.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: ${l[e]}`),o(594).updateEmojiDisplay()}function b(){document.querySelector("#jobs-total").textContent="Assigned Clones: "+u()+" / "+a("clones")}let h=new Map,m=document.getElementById("lineCanvas"),y=m.getContext("2d");function v(e,t,o){let s=e.getBoundingClientRect(),n=s.left+s.width/2,i=scrollY+s.top+s.height/2;y.beginPath(),y.moveTo(n,i),y.lineTo(t,o),y.stroke(),function(e,t,o,s,n,i){let r,a,c,l=s,d=n;e.beginPath(),r=Math.atan2(n-o,s-t),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.moveTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.lineTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.lineTo(a,c),e.closePath(),e.fill()}(y,n,i,t,o,10)}function k(e,t){let o=l[e];l[e]=0,l[t]+=o,g(e),g(t)}m.width=window.innerWidth,m.height=window.innerHeight,e.exports={clearJobAssignments:function(){y.clearRect(0,0,m.width,m.height),h=new Map},reassignJobsBasedOnResources:function(){try{const e=h.entries();if(void 0===e)throw"Entries is undefined";for(let[t,o]of e){let e=document.getElementById(t).getAttribute("data-job");const r=t.replace("job-button-",""),a=o.replace("job-button-","");let c=!0,d=s[e].affectedResources;if(!d)return;for(const e of d)if(void 0!==n[e]&&i(e)<n[e].max){c=!1;break}c&&l[e]>0&&(k(r,a),p(r,l[r]),p(a,l[a]))}}catch(e){console.warn("reassignJobs",e)}},switchJob:k,drawAllConnections:function(){y.clearRect(0,0,m.width,m.height);try{for(let[e,t]of h.entries()){let o=document.getElementById(e),s=document.getElementById(t),n=s.getBoundingClientRect(),i=n.left+n.width/2,r=0;r=n.bottom>o.getBoundingClientRect().bottom?s.offsetTop-10:s.offsetTop+s.offsetHeight+10,v(o,i,r)}}catch(e){console.warn("drawAllConnections",e)}},getWorkers:function(e){return f.get(e)},updateTotal:b,setConnections:function(e){h=e},getConnections:function(){return h},distributeWorkers:p,updateDisplay:g,jobCounts:l,resetAllJobs:function(){for(let e in s)l[e]=0,p(e,0),b(),g(e)}}},882:(e,t,o)=>{const{hasPerk:s}=o(134),{recalcMaxClones:n}=o(995),{recalculateBuildingCost:i}=o(22),{updateBuildingButtonCount:r}=o(607),a={shelter:{basecost:{sticks:30},effects:{clones:1},boost:{},count:0,ratio:1.3,tooltipDesc:"For when you need a home away from home.",emoji:"å…«"},hut:{basecost:{sticks:50,vines:30},effects:{clones:1},boost:{},count:0,ratio:1.2,tooltipDesc:"A cozy, idyllic chunk of wood.",emoji:"å†‚"},house:{basecost:{wood:50,rocks:20,fish:10},effects:{clones:2},boost:{},count:0,ratio:1.4,tooltipDesc:"Every clone's dream. Minus the white picket fence.",emoji:"ä»‹"},teepee:{basecost:{wood:10,hides:25,fish:15},effects:{clones:2},boost:{},count:0,ratio:1.5,tooltipDesc:"Wrap some hides around some wood and call it a home.",emoji:"ç©´"},shed:{basecost:{wood:40},effects:{wood:50,sticks:50,rocks:20},boost:{},count:0,ratio:1.1,tooltipDesc:"The ultimate storage solution for the pack rat in you.",emoji:"ä¸ª"},stockpile:{basecost:{rocks:30},effects:{wood:100},ratio:1.1,boost:{},count:0,tooltipDesc:"Chuck a bunch of logs in a pile, what could happen?",emoji:"å“"},drying_racks:{basecost:{sticks:30,fish:5},effects:{fish:20},boost:{},count:0,ratio:1.1,tooltipDesc:"Air drying: Nature's way of preserving food.",emoji:"å››"},workshop:{basecost:{wood:40,sticks:20,rocks:10},effects:{rocks:50,ore:50,sand:100,clay:50},boost:{},count:0,ratio:1.2,tooltipDesc:"DIY's dream destination.",emoji:"ð“Ž°"},barn:{basecost:{wood:30,wheat:5},effects:{wheat:100,berries:40,vines:40},boost:{},count:0,ratio:1.2,tooltipDesc:"Hay, what's in that building?",emoji:"ð“†"},herbalist_hut:{basecost:{sticks:50,vines:50,herbs:50},effects:{herbs:100,vines:100},boost:{herbs:1.2,vines:1.1},count:0,ratio:1.2,tooltipDesc:"A place for brewing and stewing.",emoji:"ð“ƒ"},bakery:{basecost:{wood:80,wheat:100,rocks:40},effects:{wheat:200},boost:{},count:0,ratio:1.25,tooltipDesc:"Freshly baked bread, hot and ready.",emoji:"ð“–"},animal_pen:{basecost:{sticks:50,game:20,fish:25},effects:{game:100,hides:30},boost:{},count:0,ratio:1.2,tooltipDesc:"A place to put those lesser than you.",emoji:"çš¿"},grove:{basecost:{wood:20,vines:20},effects:{},boost:{wood:1.05,sticks:1.1},count:0,ratio:1.2,tooltipDesc:"A nice grove of trees to find wood faster.",emoji:"ð“†­ð“†­"},fish_traps:{basecost:{rope:40},effects:{},boost:{fish:1.05},count:0,ratio:1.2,tooltipDesc:"Fishing made easy. No patience required.",emoji:"äº•"},mine:{basecost:{rocks:30,wood:30},effects:{},boost:{ore:1.05,rocks:1.05},count:0,ratio:1.2,tooltipDesc:"Dig deep and find your inner ore.",emoji:"ð“Š"},campfire:{basecost:{rocks:20,sticks:20},effects:{},boost:{all:1.05},count:0,ratio:1.5,tooltipDesc:"Where stories are told and marshmallows are toasted.",emoji:"ç«"},lumber_yard:{basecost:{wood:200,iron:1},effects:{},boost:{wood:1.2},count:0,ratio:1.3,tooltipDesc:"Wood you like some more wood?",emoji:"ð“Œ"},stone_quarry:{basecost:{rocks:50,wood:20,rope:30},effects:{},boost:{rocks:1.1},count:0,ratio:1.3,tooltipDesc:"Rock on with your bad self!",emoji:"ð“ŠŽ"},fishery:{basecost:{wood:40,rope:15},effects:{},boost:{fish:1.1},count:0,ratio:1.2,tooltipDesc:"Fish are friends. And food.",emoji:"ð“Œ¤"},vineyard:{basecost:{wood:20,vines:50},effects:{},boost:{vines:1.1},count:0,ratio:1.2,tooltipDesc:"For the finest vines. What else would it grow?",emoji:"ðŸœŒ"},forge:{basecost:{rocks:40,ore:20,wood:100},effects:{},boost:{ore:1.2},count:0,ratio:1.2,tooltipDesc:"Melt, mold, and make marvelous metals.",emoji:"ð“Š«"},water_pump:{basecost:{rocks:30,rope:1,wood:10},effects:{freshwater:30},boost:{freshwater:1.1},count:0,ratio:1.4,tooltipDesc:"Fresh water on demand!",emoji:"ð“‚"},tower:{basecost:{bricks:20,rocks:10,wood:30},effects:{},boost:{hides:1.05,game:1.1},count:0,ratio:1.3,tooltipDesc:"See things from afar.",emoji:"ð“Š¢"},tannery:{basecost:{wood:60,hides:40},effects:{hides:50},boost:{hides:1.1},count:0,ratio:1.3,tooltipDesc:"Treat hides to make quality leather.",emoji:"ð“ƒ”"},marketplace:{basecost:{wood:100,rocks:50,berries:40,gold:1},effects:{},boost:{berries:1.2,herbs:1.2,ore:1.1},count:0,ratio:1.25,tooltipDesc:"A bustling hub of trade and barter.",emoji:"â‚¿"},windmill:{basecost:{wood:100,rocks:60,wheat:50},effects:{},boost:{wheat:1.2},count:0,ratio:1.3,tooltipDesc:"Grind grains efficiently with wind power.",emoji:"Ò‰"},telescope:{basecost:{glass:1,wood:10,ponder:10},effects:{},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"Look, up in the sky! It's a star!",emoji:"ð“Œ©"},observatory:{basecost:{bricks:70,wood:30,glass:50,ponder:50},effects:{},boost:{ponder:1.2},count:0,ratio:1.3,tooltipDesc:"Stargazing has never been so... productive?",emoji:"â˜†"},library:{basecost:{wood:70,paper:25,glass:5,ponder:25},effects:{ponder:50},boost:{ponder:1.1},count:0,ratio:1.3,tooltipDesc:"Knowledge is power. And a fire hazard if not stored properly.",emoji:"ðŸ•®"},desk:{basecost:{wood:15,sticks:20,ponder:10},effects:{ponder:30},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"A writer's block is no match for armor-piercing pencils!",emoji:"ð“Š¬"}};e.exports={buildings:a,getBuildingCount:function(e){return a[e].count},getBoost:function(e,t){const o=a[e];if(o&&o.boost){if(o.boost[t])return o.boost[t];if(o.boost.all)return o.boost.all}return null},resetBuildings:function(){for(const[e,t]of Object.entries(a))t.count=0,r(e,0),i(e,a,s);n()}}},54:(e,t,o)=>{const{passedStage:s}=o(751),{getMaterial:n}=o(924),{hasTool:i}=o(609),{resources:r}=o(587),a={gatherSticks:{class:"tooltip startVisible",tab:"production",text:"ð“€ Gather Sticks",tooltipDesc:"Five, Six, Pick up sticks.",tooltipCost:"Free",requirement:()=>!0,hide:()=>!1},gatherVines:{class:"tooltip stick",tab:"production",text:"ð“¯ Gather Vines",tooltipDesc:"Some vines are rubbery, others are gummy.",tooltipCost:"Free",requirement:()=>n("sticks",r)>=10||s("vines"),hide:()=>!1},gatherRocks:{class:"tooltip stick",tab:"production",text:"ð“Š–ð“€© Gather Rocks",tooltipDesc:"Not a single window to throw them through.",tooltipCost:"Free",requirement:()=>n("vines",r)>=10||s("rocks"),hide:()=>!1},gatherFish:{class:"tooltip fishing",tab:"production",text:"ð“† ð“†Ÿ ð“†ž Go Fish",tooltipDesc:"Got any tuna?",tooltipCost:"Free",requirement:()=>i("Spear")||i("Fishing Rod")||s("fishing"),hide:()=>!1},gatherWood:{class:"woodToggle wood",tab:"production",text:"ð“Œ Chop Wood",tooltipDesc:"An axe hurts way less than using your hands.",tooltipCost:"",requirement:()=>i("Axe")||s("wood"),hide:()=>!1},gatherOre:{class:"tooltip ",tab:"production",text:"ð“‰¸ Mine Ore",tooltipDesc:"Diggy Diggy Hole",tooltipCost:"Free",requirement:()=>i("Pickaxe")||s("ore"),hide:()=>!1},productionTabButton:{class:"tab-button",text:"Production",showTab:"productionTab",tab:"tabs",requirement:()=>s("tab-button"),hide:()=>!1},experimentTabButton:{class:"tab-button",text:"Experiment",showTab:"experimentTab",tab:"tabs",requirement:()=>s("tab-button"),hide:()=>!1},ponderTabButton:{class:"tab-button",text:"Ponder",showTab:"ponderTab",tab:"tabs",requirement:()=>s("ponder-tab"),hide:()=>!1},jobsTabButton:{class:"tab-button",text:"Jobs",showTab:"jobsTab",tab:"tabs",requirement:()=>s("jobs-tab"),hide:()=>!1},skillsTabButton:{class:"tab-button",text:"Skills",showTab:"skillsTab",tab:"tabs",requirement:()=>s("skillsTable"),hide:()=>!1},perksTabButton:{class:"tab-button",text:"Perks",showTab:"perksTab",tab:"tabs",requirement:()=>s("perksTab"),hide:()=>!1},factoryTabButton:{class:"tab-button",text:"Factories",showTab:"factoryTab",tab:"tabs",requirement:()=>s("factoryTab"),hide:()=>!1},gatherPonder:{class:"tooltip",text:"Ponder",tooltipDesc:"Wrap your head around the great mysteries",tooltipCost:"Time",tab:"ponder",requirement:()=>s("ponder-tab"),hide:()=>!1}};e.exports={buttons:a}},371:(e,t,o)=>{const{getMaterial:s}=o(924),{getCraftedResource:n}=o(590),{resources:i}=o(587),{passedStage:r}=o(751),a={sharprocks:{text:"Sharp Rocks",id:"craftSharprocks",value:0,cost:{rocks:2},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"Craft a rock using nothing but rocks!",tooltipCost:"Rocks: 5",class:"craftRocks"},rope:{id:"craftRope",value:0,cost:{vines:3},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"The basis of attaching things to other things.",tooltipCost:"Vines: 3",class:"craftRocks"},handle:{id:"craftHandle",value:0,cost:{sticks:2},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"Shear off that bark to hold it better",tooltipCost:"Sharp Rocks: 1",class:"craftRocks"},staff:{id:"craftStaff",value:0,cost:{handle:2,rope:1},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"Stick some sheared sticks together",tooltipCost:"Handles: 2",class:"rope"},fishingrod:{id:"craftFishingrod",text:"Fishing Rod",value:0,cost:{staff:1,rope:2},craftedOnce:!1,requiredStage:"fishing",tooltipDesc:"A weapon feared by underwater life",tooltipCost:"",class:"fishing"},spear:{id:"craftSpear",value:0,cost:{staff:1,sharprocks:1,rope:1},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"A long and pointy stick",tooltipCost:"Staffs: 1",class:"rope"},axe:{id:"craftAxe",value:0,cost:{handle:1,rope:1,sharprocks:2},craftedOnce:!1,requiredStage:"spear",tooltipDesc:"Put a rock straight through that handle",tooltipCost:"Spears: 1",class:"spear"},pickaxe:{id:"craftPickaxe",value:0,cost:{handle:1,sharprocks:3,rope:1,rocks:10},craftedOnce:!1,requiredStage:"spear",tooltipDesc:"Sadly not made of diamonds",tooltipCost:"Axes: 1",class:"spear"},glass:{id:"craftGlass",value:0,cost:{sand:10},craftedOnce:!1,tooltipDesc:"You can see right through it!",requiredStage:"glassBlowing",class:"glassBlowing"},paper:{id:"craftPaper",value:0,cost:{wood:12},craftedOnce:!1,tooltipDesc:"Outsource your memory",requiredStage:"paper",class:"paper"},gold:{id:"craftGold",value:0,cost:{ore:100},craftedOnce:!1,requiredStage:"metalWorking",tooltipDesc:"There's some yellow bits in this ore",tooltipCost:"",class:"metalWorking"},iron:{id:"craftIron",value:0,cost:{ore:20},craftedOnce:!1,requiredStage:"metalWorking",tooltipDesc:"There's some sturdy-looking bits in this ore",tooltipCost:"",class:"metalWorking"},silver:{id:"craftSilver",value:0,cost:{ore:50},craftedOnce:!1,requiredStage:"metalWorking",tooltipDesc:"There's some shiny gray bits in this ore",tooltipCost:"",class:"metalWorking"},bricks:{id:"craftBricks",value:0,cost:{clay:15},craftedOnce:!1,requiredStage:"clay",tooltipDesc:"Leave some clay by the fire",tooltipCost:"",class:"clay"},steel:{value:0,cost:{iron:5}},beams:{value:0,cost:{wood:10}},crates:{value:0,cost:{wood:15}},nails:{value:0,cost:{iron:1}},slabs:{value:0,cost:{rocks:20}},medicine:{value:0,cost:{herbs:50}},leather:{value:0,cost:{hides:10}},concrete:{value:0,cost:{sand:32}},wood:{value:0,cost:{sticks:8}},sticks:{value:0,cost:{wood:.1}}};e.exports={craftedResources:a,getCraftedResourceConfigById:function(e){for(const[t,o]of Object.entries(a))if(o.id+"Button"===e||o.id===e)return o;return null},getCraftedResourceKeyByConfig:function(e){for(let t in a)if(a[t].id+"Button"===e.id)return t;return null},resetCraftedResources:function(){for(const[e,t]of Object.entries(a))t.value=0,t.craftedOnce=!1}}},55:e=>{e.exports={perks:{tier1:["Lumberjack","Miner","Botanist","Leader","Architect"],tier2:["Thinker","General","Merchant","Generalist","Specialist"]}}},397:e=>{let t={ponder1:{id:"ponderPonder1",isPondered:!1,cost:{ponder:10},text:"Think Harder",tooltipDesc:"5% boost to pondering",requirement:()=>!0},"jobs-tab":{id:"ponderJobs-tab",isPondered:!1,cost:{ponder:20},text:"Understand Cloning",tooltipDesc:"Why are there two of you?",requirement:()=>!0,tooltipCost:"Sanity (20 Ponder)"},skillsTable:{id:"ponderSkillsTable",isPondered:!1,cost:{ponder:50},tooltipDesc:"You're starting to learn things, right?",requirement:()=>!0,text:"Notice Improvement"},fishing:{id:"ponderFishing",isPondered:!1,cost:{ponder:50,fish:50},tooltipDesc:"What if... your clones could go fishing?",requirement:()=>!0,text:"Fishing Job"},fasterSkills:{id:"ponderFasterSkills",isPondered:!1,cost:{ponder:80},requirement:()=>!0,text:"Skills I",tooltipDesc:"Think Smarter. 5% bonus to skill exp"},thinking:{id:"ponderThinking",isPondered:!1,cost:{ponder:150},text:"Thinking Job",requirement:()=>!0,tooltipDesc:"Let your clones start thinking for themselves."},fasterResourceGain:{id:"ponderFasterResourceGain",isPondered:!1,cost:{ponder:120},requirement:()=>!0,text:"Productivity I",tooltipDesc:"Just work harder. 5% bonus to resource gain"},metalWorking:{id:"ponderMetalWorking",isPondered:!1,requirement:()=>!0,text:"Metal Working",tooltipDesc:"Start processing that ore",cost:{ponder:100,ore:50,rocks:50}},glassBlowing:{id:"ponderGlassBlowing",isPondered:!1,requirement:()=>!0,text:"Glass Blowing",tooltipDesc:"Huff and puff and make a cool vase",cost:{sand:20,ponder:80}},organization:{id:"ponderOrganization",isPondered:!1,requirement:()=>!0,text:"Organizized Storage",tooltipDesc:"Organize your storage by groups",cost:{ponder:200}},paper:{id:"ponderPaper",isPondered:!1,requirement:()=>!0,text:"Paper Processing",tooltipDesc:"Smash down some wood into paper",cost:{ponder:200,wood:100}},autoClone:{id:"ponderAutoClone",requirement:()=>!0,isPondered:!1,text:"Auto Clone",tooltipDesc:"Automatically produce clones",cost:{ponder:140,clones:20}},effectiveBuildings:{id:"ponderEffectiveBuildings",requirement:()=>!0,isPondered:!1,text:"Buildings I",tooltipDesc:"Increase building effects by 1%",cost:{ponder:180}},agriculture:{id:"ponderAgriculture",requirement:()=>!0,isPondered:!1,text:"Agriculture",tooltipDesc:"Find some seeds from all those plants",cost:{ponder:180}},combat:{id:"ponderCombat",requirement:()=>!0,isPondered:!1,text:"Combat",tooltipDesc:"Is there anyone to spar with besides you?",cost:{ponder:300,spear:100}},hunting:{id:"ponderHunting",requirement:()=>!0,isPondered:!1,text:"Hunting",tooltipDesc:"At least there are animals",cost:{ponder:200,fish:50}},perksTab:{id:"ponderPerksTab",requirement:()=>!0,isPondered:!1,text:"Perks",tooltipDesc:"Maybe you as the original should specialize",cost:{ponder:400}},factoryTab:{id:"ponderFactoryTab",requirement:()=>!0,isPondered:!1,text:"Factories",tooltipDesc:"Ascend to the next level of economy",cost:{ponder:500,gold:10,wood:1e3,wheat:1e3,rocks:1e3}},ponder2:{id:"ponderPonder2",requirement:()=>!0,isPondered:!1,text:"Think even harder",tooltipDesc:"5% boost to pondering",cost:{ponder:300}},ponder3:{id:"ponderPonder3",requirement:()=>!0,isPondered:!1,text:"Think hardest",tooltipDesc:"5% boost to pondering",cost:{ponder:600}},biggerShelter:{id:"ponderBiggerShelter",requirement:()=>!0,isPondered:!1,text:"Expand Shelter",tooltipDesc:"Shelters can house 1 more clone each",cost:{ponder:500,sticks:1e3}},biggerHut:{id:"ponderBiggerHut",requirement:()=>!0,isPondered:!1,text:"Expand Hut",tooltipDesc:"Huts can house 1 more clone each",cost:{ponder:750,sticks:1500,vines:1e3}},biggerHouse:{id:"ponderBiggerHouse",requirement:()=>!0,isPondered:!1,text:"Two-story houses",tooltipDesc:"Houses can house 2 more clones each",cost:{ponder:1e3,wood:2e3,rocks:2e3}},biggerTeepee:{id:"ponderBiggerTeepee",requirement:()=>!0,isPondered:!1,text:"Double diameter Teepees",tooltipDesc:"Teepees can house 4 more clones each",cost:{ponder:1250,wood:3e3,hides:1500}},evenBiggerShelter:{id:"ponderEvenBiggerShelter",requirement:()=>!0,isPondered:!1,text:"Expand Shelter Again",tooltipDesc:"Shelters can house 1 more clone each",cost:{ponder:1500,sticks:3e3,fish:1e3}}};e.exports={ponders:t,resetPonders:function(){for(const[e,o]of Object.entries(t))o.isPondered=!1}}},425:e=>{const t={maxClones:{text:"Cramped",tooltipDesc:"Max Clones (+1)",cost:2,level:0},cloneBoost:{text:"Handyman",tooltipDesc:"Clone Productivity (+5%)",cost:1,level:0},gatheringBoost:{text:"Picker",tooltipDesc:"Gathering Efficiency (+10%)",cost:1,level:0},masonryBoost:{text:"Rocker",tooltipDesc:"Masonry Efficiency (+10%)",cost:1,level:0},carpentryBoost:{text:"Chopped",tooltipDesc:"Carpentry Efficiency (+10%)",cost:1,level:0},thinkingBoost:{text:"Wizened",tooltipDesc:"Thinking Efficiency (+10%)",cost:1,level:0},farmingBoost:{text:"Pruned",tooltipDesc:"Farming Efficiency (+10%)",cost:1,level:0},fishingBoost:{text:"Hooked",tooltipDesc:"Fishing Efficiency (+10%)",cost:1,level:0},huntingBoost:{text:"Tracker",tooltipDesc:"Hunting Efficiency (+10%)",cost:1,level:0},cheaperBuildings:{text:"Rickety",tooltipDesc:"Building Cost (-5%)",cost:2,level:0},storageSpace:{text:"Stuffed",tooltipDesc:"Storage Space (+5%)",cost:2,level:0}};function o(e){return t[e].level}e.exports={prestige:t,hasPrestige:function(e){return o(e)>0},getLevelOfPrestige:o}},587:e=>{const t={clones:{id:"makeClone",value:0,isVisible:!1,max:0},sticks:{id:"gatherSticks",isGetting:!1,isVisible:!0,activeText:"ð“†±ð“€œ Gathering Sticks",defaultText:"ð“†± Gather Sticks",value:0,emoji:"ð“€",max:50},vines:{id:"gatherVines",isGetting:!1,isVisible:!1,activeText:"ð“¯ð“€ª Gathering Vines",defaultText:"ð“¯ Gather Vines",tools:[{tool:"Axe",val:1.5}],value:0,emoji:"ð“€ª",max:50},rocks:{id:"gatherRocks",isGetting:!1,isVisible:!1,activeText:"ð“Š–ð“€© Gathering Rocks",defaultText:"ð“Š– Gather Rocks",value:0,emoji:"ð“€©",max:30},fish:{id:"gatherFish",isGetting:!1,isVisible:!1,activeText:"ð“†ð“†Ÿð“†ž ð“ƒ Gone Fishing",defaultText:"ð“†ð“†Ÿð“†ž Go Fish",value:0,emoji:"ð“ƒ",tools:[{tool:"Spear",val:1},{tool:"Fishing Rod",val:2}],max:10},wood:{id:"gatherWood",isGetting:!1,isVisible:!1,activeText:"ð“€¨ Chopping Wood",defaultText:"ð“Œ Chop Wood",emoji:"ð“€¨",tools:[{tool:"Axe",val:1.5},{tool:"Chainsaw",val:3}],value:0,max:40},ponder:{id:"gatherPonder",isGetting:!1,isVisible:!1,activeText:"ð“€ Pondering",defaultText:"ð“€ Ponder",emoji:"ð“€",value:0,max:20},ore:{value:0,id:"gatherOre",isGetting:!1,isVisible:!1,activeText:"ð“‰¸ð“„ Mining Ore",defaultText:"ð“‰¸ Mine Ore",emoji:"ð“„",max:20},sand:{value:0,id:"gatherSand",isGetting:!1,isVisible:!1,activeText:"ð“€© Scooping Sand",defaultText:"ð“€© Scoop Sand",emoji:"ð“€©",max:20},wheat:{value:0,id:"gatherWheat",isGetting:!1,isVisible:!1,activeText:"ð“€© Harvesting Wheat",defaultText:"ð“€© Harvest Wheat",emoji:"ð“€",max:20},freshwater:{value:0,id:"gatherFreshwater",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"ð“€©",max:50},hides:{value:0,id:"gatherHides",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"ð“€Ž",max:50},clay:{value:0,id:"gatherClay",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"ð“€©",max:50},berries:{value:0,id:"gatherBerries",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"ð“€©",max:50},herbs:{value:0,id:"gatherHerbs",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"ð“€©",max:50},game:{value:0,id:"gatherGame",isGetting:!1,isVisible:!1,activeText:"ð“ƒšð“€Ž Hunting",defaultText:"ð“€Ž Hunt",emoji:"ð“€Ž",max:50},husks:{value:0,id:"gatherHusks",isGetting:!1,isVisible:!1,activeText:"",defaultText:"",emoji:"X",max:1e3}};e.exports={resources:t,isResource:function(e){return e in t},getResourceConfigById:function(e){for(let o in t)if(t[o].id===e)return t[o];return null},resetResources:function(){for(const[e,o]of Object.entries(t))o.value=0}}},324:e=>{e.exports={skills:{gathering:{exp:0,level:0,affectedResources:["sticks","vines","sand","herbs","berries"]},masonry:{exp:0,level:0,affectedResources:["rocks","ore","clay"],needTools:[{Pickaxe:["ore"]}]},carpentry:{exp:0,level:0,affectedResources:["wood","handle","staff","fishingrod"],needTools:[{Axe:["wood"]}]},thinking:{exp:0,level:0,affectedResources:["ponder"]},smithing:{exp:0,level:0,affectedResources:["axe","pickaxe","spear","glass","iron","silver","gold"]},farming:{exp:0,level:0,affectedResources:["wheat","freshwater"]},combat:{exp:0,level:0,affectedResources:[]},fishing:{exp:0,level:0,affectedResources:["fish","freshwater"]},hunting:{exp:0,level:0,affectedResources:["hides","game"]}}}},808:(e,t,o)=>{const{craftedResources:s,getCraftedResourceConfigById:n,resetCraftedResources:i}=o(371),{buildings:r,resetBuildings:a}=o(882),{ponders:c,resetPonders:l}=o(397),{buttons:d}=o(54),{resources:u,getResourceConfigById:f,resetResources:p}=o(587),{saveGame:g,loadGame:b}=o(502),{generateTooltipCost:h,appendCraftedResourceButtons:m,increaseMaterial:y,craftAllResources:v,craftResource:k,calcIncrease:x,updateResourceIncreaseRates:w,calcSecondsRemaining:C,increaseMax:B,updateDisplayValue:T}=o(594),{buyMaxBuildings:S,buyBuilding:E,createBuildingButton:A}=o(151),{hasPerk:j,selectAbility:M,resetPerks:D}=o(134),{getMax:q,clearSidebar:P}=o(78),{makeVisible:R}=o(123),{updateButtonVisibility:L}=o(667),{getCraftedResource:$}=o(590),{getMaterial:O}=o(924),{buyFactory:F,attemptManufacture:I,upgradeBulk:H}=o(51),{isPondered:G,generatePonderButtons:V}=o(369),{hasTool:W,addTool:N}=o(609),{getAteFish:z,setAteFish:_}=o(621),{drawAllConnections:J,updateTotal:U,clearJobAssignments:Y,resetAllJobs:K}=o(150),{capitalizeFirst:X}=o(681),{passedStage:Q,resetStages:Z}=o(751),{recalcMaxClones:ee}=o(995),{initializeResourceTags:te,updateSidebar:oe}=o(453),{prestige:se}=o(425),{recalculateBuildingCost:ne}=o(22),{triggerFloatUpText:ie}=o(727),re=document.querySelector("#resources"),ae=document.querySelector("#emojiGatherDisplay"),ce={SharpRocks:"craftRocks",Spear:"fishing",FishingRod:"fishing",Axe:"wood",Pickaxe:"ore"},le=[{condition:()=>O("sticks",u)>=1,action:()=>R("stick")},{condition:()=>O("sticks",u)>=10,action:()=>R("vines")},{condition:()=>O("vines",u)>=10,action:()=>R("rocks")},{condition:()=>O("rocks",u)>=1,action:()=>{R("tab-button"),R("craftRocks")}},{condition:()=>$("spear",s)>0,action:()=>R("spear")},{condition:()=>O("fish",u)>=1,action:()=>R("fishing")},{condition:()=>W("Axe"),action:()=>R("wood")},{condition:()=>$("rope")>=1,action:()=>R("rope")},{condition:()=>O("fish",u)>=5&&!z(),action:()=>{R("eatFish")}},{condition:()=>z(),action:()=>{R("clone"),R("ponder-tab")}},{condition:()=>G("ponderFinish"),action:()=>("stage2.html",document.getElementById("page-transition-overlay").classList.add("fade-in"),void setTimeout((function(){window.location.href="stage2.html"}),300))},{condition:()=>G("biggerShelter")||G("biggerHut")||G("biggerHouse")||G("biggerTeepee")||G("evenBiggerShelter"),action:()=>ee()},{condition:()=>O("clones")>=30,action:()=>R("prestige")},{condition:()=>O("clay")>0,action:()=>R("clay")},{condition:()=>document.getElementById("toggle-basics")&&G("organization"),action:()=>te(!0)}];let de=document.querySelectorAll(".tab-content > .content");function ue(e){console.log("show tab: "+e);let t="";for(let e of de)e.classList.contains("active")&&(t=e.id,e.style.opacity="0",setTimeout((()=>{e.classList.remove("active")}),100));let o=document.querySelectorAll(".tab-button");for(let e of o)e.classList.remove("active");let s=document.getElementById(e);setTimeout((()=>{s.classList.add("active")}),100),setTimeout((()=>{s.style.opacity="1"}),200);const n=`#${e}Button`;let i=document.querySelector(n);i&&i.classList.add("active"),"jobsTab"===e&&J(),console.log(t,">",e),oe()}document.addEventListener("keydown",(function(e){switch(e.key){case"1":ue("productionTab");break;case"2":Q("tab-button")&&ue("experimentTab");break;case"3":Q("ponder-tab")&&ue("ponderTab");break;case"4":Q("jobs-tab")&&ue("jobsTab");break;case"5":Q("skillsTable")&&ue("skillsTab");break;case"6":Q("perksTab")&&ue("perksTab");break;case"7":Q("factoryTab")&&ue("factoryTab")}}));const fe=document.body;fe.classList.toggle("dark-mode");let pe=!0;function ge(){const e=document.getElementById("overlay"),t=document.getElementById("overlay-text"),o=document.getElementById("overlay-button");e.style.display="flex",setTimeout((()=>{t.style.opacity="1"}),2e3),setTimeout((()=>{o.style.display="block",o.style.opacity="1"}),5e3)}const be=document.getElementById("message");function he(e,t){const o=e.replace(t,`<span class='tooltip' id="alone" tooltipDesc="You feel peckish for some seafood">${t}</span>`);be.innerHTML=o}let me=50,ye=null,ve=0,ke=0;function xe(e){null===ye&&(ye=e);const t=e-ye;ve+=t,ke+=t,ye=e;let o=me;for(ke>=10*me&&(me=ke/10);ke>=me;)ke-=me,Be(me);me=o,requestAnimationFrame(xe)}let we=0,Ce=0;function Be(e,t){for(const[t,o]of Object.entries(u))y(t,x(t,e));w(),function(){le.forEach((e=>{e.condition()&&e.action()}));for(let e in ce)!W(e)&&$(e)>0&&(N(e),R(ce[e]));try{L(),null!==Ae&&Ee(Ae)}catch(e){console.warn(e)}}(),we+=e,Ce+=e,we>=1e4&&(g(),we=0),Q("factoryTab")&&Ce>=1e3&&(I(),Ce=0)}const Te=document.getElementById("dynamic-tooltip");function Se(){Te.style.display="none"}function Ee(e){const t=e.getAttribute("data-tooltip-desc")||e.getAttribute("tooltipDesc"),o=e.getAttribute("data-tooltip-effect"),s=f(e.id)||n(e.id)||r[e.getAttribute("data_building")]||c[e.getAttribute("unlock")],i=s&&s.cost||e.getAttribute("tooltipCost")||e.getAttribute("data-tooltip-cost");!function(e,t,o,s){let n="";if(t&&(n+=`<span >${t}</span><hr>`),o&&(n+=`<span style="color:#00ABE7">${o}</span><hr>`),s)try{var i="";for(const[e,t]of Object.entries(s)){var r=O(e,u)>=t?"enough":"not-enough";q(e)<t&&(r="exceeds-max"),i+=`<span class="tooltip-${e} ${r}">${t.toFixed(0)} ${e}</span>`;let o=0;u[e]&&(o=C(e,t)),o>0&&"exceeds-max"!=r&&(i+=`<span class="time-remaining">(${o.toFixed(0)} seconds)</span>`),i+="<br>"}n+=i}catch(e){n+=s}Te.innerHTML=n,Te.style.left=e.getBoundingClientRect().right+5+"px",Te.style.top=e.getBoundingClientRect().top-Te.offsetHeight/2+"px",Te.style.display="block"}(e,t,o,i)}document.addEventListener("DOMContentLoaded",(e=>{function t(e){for(const[t,o]of Object.entries(s))if(console.log(t,o,e),o.id+"Button"===e)return t;return"error "+e}V(c),function(){console.log("Generating buttons"),console.trace();for(let e in r){const t=A(e,r);d[e]=t}const e=e=>{const t=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div");return t.style.width="33.33%",o.style.width="33.33%",s.style.width="33.33%",t.style.display="inline-block",o.style.display="inline-block",s.style.display="inline-block",t.classList.add("visible"),o.classList.add("visible"),s.classList.add("visible"),e.prepend(s),e.prepend(o),e.prepend(t),[t,o,s]},t=document.getElementById("tabs"),o=document.getElementById("productionTab"),n=document.getElementById("experimentTab").querySelector(".button-columns"),i=document.getElementById("ponderTab"),a=e(o),c=e(n),l=e(i);let u=0,f=0,p=0;for(let e in d){const o=d[e],n=document.createElement("button");n.id=e,n.className=o.class,n.textContent=o.text,o.tooltipDesc&&n.setAttribute("data-tooltip-desc",o.tooltipDesc),o.tooltipEffect&&n.setAttribute("data-tooltip-effect",o.tooltipEffect),n.setAttribute("unlock",o.unlock),n.setAttribute("data_building",o.data_building);const i=Object.values(s).find((t=>t.id===e));i&&(o.tooltipCost=h(i.cost)),n.setAttribute("data-tooltip-cost",o.tooltipCost),o.showTab&&n.addEventListener("click",(()=>{ue(o.showTab),console.log("Switching to tab: "+o.showTab)})),"production"===o.tab?(a[u].appendChild(n),u=(u+1)%3):"experiment"===o.tab?(c[f].appendChild(n),f=(f+1)%3):"tabs"===o.tab?t.appendChild(n):"ponder"===o.tab?(l[p].appendChild(n),p=(p+1)%3):o.tab,Object.keys(r).find((t=>t===e))&&ne(e,r,j);try{o.requirement()||(n.style.display="none")}catch(e){}}}(),te(),b(),P(),te(),m(),oe(),ue("productionTab"),o(864).generateTradeTable(u),document.addEventListener("click",(e=>{if(e.target.matches("button")){const n=e.target;if(n.getAttribute("data_building")&&"undefined"!==n.getAttribute("data_building")&&n.classList.contains("purchasable")){var o=n.getAttribute("data_building");const t=e.clientX,s=e.clientY;if(e.shiftKey){let e=S(o);ie(t,s,`+${e} ${X(o)}s`,"aqua")}else E(o),ie(t,s,`+1 ${X(o)}`,"aqua")}if(n.classList.contains("unlock")){const e=n.getAttribute("unlock");if(console.log(e),c[e]){var s=!0;for(let t in c[e].cost)if(O(t,u)<c[e].cost[t]){console.log("Cannot unlock "+e),s=!1;break}if(s){for(let t in c[e].cost)y(t,-c[e].cost[t]);c[e].isPondered=!0,R(e),n.display="none",console.log("Unlocking "+e)}}}if("undefined"!==n.id&&("gather"===n.id.slice(0,6)?function(e){const t=u[e],o=document.querySelector("#resources").querySelector("#resource-"+e),s=document.querySelector("#gather"+e.charAt(0).toUpperCase()+e.slice(1));ae.textContent="ð“€Ÿ",t.isGetting?(t.isGetting=!1,s.textContent=t.defaultText,o&&(o.style.fontWeight="normal")):(function(){for(const[e,t]of Object.entries(u)){t.isGetting=!1;const o=document.querySelector("#gather"+X(e));o&&(o.textContent=t.defaultText);const s=re.querySelector("#resource-"+e);s&&(s.style.fontWeight="normal")}}(),t.isGetting=!0,s.textContent=t.activeText,o&&(o.style.fontWeight="bold"),ae.textContent=t.emoji,console.log(t.emoji))}(function(e){for(const[t,o]of Object.entries(u))if(o.id===e)return t;return"error "+e}(n.id)):"craft"===n.id.slice(0,5)?e.shiftKey?v(t(n.id)):k(t(n.id)):"saveButton"===n.id?g():"eatFish"===n.id?!z()&&O("fish",u)>=1&&(y("fish",-1),ge(),_(!0),document.querySelector("#eatFish").style.display="none",setTimeout((()=>{he("You are with yourself in a forest.","with yourself"),B("clones",1),y("clones",1)}),1e3)):"overlay-button"===n.id?(document.getElementById("overlay-text").style.opacity="0",document.getElementById("overlay-button").style.opacity="0",document.getElementById("overlay").style.display="none",document.getElementById("isekaiButtons").innerHTML="",location.reload()):"deleteSaveButton"===n.id&&confirm("Are you sure you want to delete your save data? This will reset all your progress.")?(localStorage.removeItem("save"),location.reload()):"clearJobAssignments"===n.id?Y():"darkModeToggle"===n.id?(fe.classList.toggle("dark-mode"),darkModeToggle.classList.toggle("dark"),pe=!pe,darkModeToggle.textContent=pe?"Light Mode":"Dark Mode"):"2main"===n.id?ue("mainTab"):"2graphs"===n.id?ue("graphsTab"):"prestige"===n.id&&function(){const e=document.getElementById("overlay"),t=document.getElementById("overlay-text"),o=(document.getElementById("overlay-button"),document.getElementById("husksIsekaiValue"));let s;s=o||document.createElement("p"),s.id="husksIsekaiValue",y("husks",O("clones")),y("clones",-O("clones")),s.textContent="Husks: "+O("husks"),s.style.opacity="0",e.prepend(s),e.style.backgroundColor="MidnightBlue",t.textContent="You step through to another world.",ge(),p(),i(),l(),D(),a(),K(),Z(),setTimeout((function(){const e=document.getElementById("isekaiButtons");let t=1;Object.keys(se).forEach((o=>{const n=document.createElement("button");n.innerHTML=`<b>${se[o].text}</b><br>Level: ${se[o].level}<br>Cost: ${se[o].cost}`,n.setAttribute("tooltipCost",se[o].cost),n.setAttribute("tooltipDesc",se[o].tooltipDesc),n.classList.add("tooltip"),n.style.gridColumn=(t%4+1).toString(),n.style.gridRow=Math.floor(t/4+1).toString(),++t,n.addEventListener("click",(()=>{console.log(`Button ${o} was clicked`),O("husks")<se[o].cost||(se[o].level++,y("husks",-se[o].cost),se[o].cost=function(e){let t=e*(1+Math.sqrt(5))/2;return Math.round(t)}(se[o].cost),n.setAttribute("tooltipCost",se[o].cost),n.innerHTML=`<b>${se[o].text}</b><br>Level: ${se[o].level}<br>Cost: ${se[o].cost}`,s.textContent="Husks: "+O("husks"),Ee(n))})),n.addEventListener("contextmenu",(e=>{e.preventDefault(),console.log(`Button ${o} was right clicked`),se[o].level<=0||(se[o].level--,se[o].cost=function(e){let t=e/((1+Math.sqrt(5))/2);return Math.round(t)}(se[o].cost),n.setAttribute("tooltipCost",se[o].cost),y("husks",se[o].cost),n.innerHTML=`<b>${se[o].text}</b><br>Level: ${se[o].level}<br>Cost: ${se[o].cost}`,s.textContent="Husks: "+O("husks"),Ee(n))})),e.appendChild(n),n.addEventListener("mouseenter",(function(e){Ee(n),Ae=n})),n.addEventListener("mouseleave",(function(){Se(),Ae=null}))}))}),5e3),setTimeout((()=>{s.style.opacity="1"}),5e3)}()),n.classList.contains("tierOneButton")){let e=n.textContent;M(e)}}if(e.target.matches("#alone")){let t="+1 Clone";u.clones.value<u.clones.max?u.clones.value+=1:t="Max Clones";const o=e.clientX,s=e.clientY;ie(o,s,t,"+1 Clone"===t?"green":"red"),U()}})),function(){const e=document.querySelector("#factoryButtons"),t=document.createElement("button");t.classList.add("tooltip"),t.id="buyFactoryButton",t.textContent="Buy New Factory",t.setAttribute("data-tooltip-desc","The factory must grow!"),t.setAttribute("tooltipCost","50 silver"),e.appendChild(t),t.addEventListener("click",(()=>{console.log("buying factory"),F()}));const o=document.createElement("button");o.classList.add("tooltip"),o.id="upgradeBulkButton",o.textContent="Upgrade Bulk",o.setAttribute("data-tooltip-desc","Craft more resources per second"),o.setAttribute("tooltipCost","2 â†’ 4: 30 silver"),e.appendChild(o),o.addEventListener("click",(()=>{console.log("upgrading bulk"),H()}))}(),requestAnimationFrame(xe),document.querySelectorAll(".tooltip").forEach((e=>{e.addEventListener("mouseenter",(function(t){Ee(e),Ae=e})),e.addEventListener("onclick",(function(){Ee(e)})),e.addEventListener("mouseleave",(function(){Se(),Ae=null}))})),U()}));var Ae=null;e.exports={updateUI:function(e){const t=document.createElement("div");t.innerHTML=`${e}: ${u[e].value}`,document.body.appendChild(t)},setTotalTime:function(e){ve=e},changeMessage:he,getMessage:function(){return be},total_time:ve,currentHoverButton:Ae}},123:(e,t,o)=>{const{setStage:s,passedStage:n}=o(751),{updateButtonVisibility:i}=o(667);t.makeVisible=function(e){n(e)||s(e),document.querySelectorAll("."+e).forEach((e=>{e.classList.add("visible"),e.classList.remove("hidden"),e.style.display=""})),i()}},134:(e,t,o)=>{const{buildings:s}=o(882),{perks:n}=o(55);let i=[];function r(e){return i.includes(e)}function a(e){if(i.push(e),"Architect"===e)for(let e in s)o(22).recalculateBuildingCost(e,s,r)}e.exports={hasPerk:r,addPerk:a,selectAbility:function(e){r(e)||window.confirm("Do you want to select "+e+"? This decision cannot be easily changed.")&&(a(e),o(495).selectCorrectPerkButton(e))},getPerkFromTier:function(e){for(let t in n["tier"+e])if(r(t))return t;return""},getAllPerks:function(){return i},resetPerks:function(){i=[]}}},369:(e,t,o)=>{const{capitalizeFirst:s}=o(681),{ponders:n}=o(397),{getMaterial:i}=o(924),{resources:r}=o(587),{buttons:a}=o(54);function c(e){return!!n[e]&&n[e].isPondered}e.exports={canUnlock:function(e){var t="";for(let o in n)n[o].id===e&&(t=o);if(""===t)return console.warn("invalid unlock id: ",e),!1;var o=!0;for(let e in n[t].cost)if(i(e,r)<n[t].cost[e]){o=!1;break}return o},isPondered:c,generatePonderButtons:function(e){for(const[t,i]of Object.entries(e)){const e=`ponder${s(t)}`;let r=o(594).generateTooltipCost(i.cost);a[e]={class:"tooltip unlock",text:i.text||"Ponder a Mystery?",tooltipDesc:i.tooltipDesc||"Who knows what you'll discover",tooltipCost:r,tab:"ponder",unlock:t,requirement:()=>o(78).getMax("ponder")>=n[t].cost.ponder/2,hide:()=>c(t)}}}}},995:(e,t,o)=>{const{hasPrestige:s,getLevelOfPrestige:n}=o(425),{isPondered:i}=o(369),{setMax:r}=o(594),{passedStage:a}=o(751);t.recalcMaxClones=function(){let e=0;a("clone")&&(e+=1);const t=o(882).buildings;for(const[o,s]of Object.entries(t))s.effects&&s.effects.clones&&(e+=s.effects.clones*s.count);i("biggerShelter")&&(e+=1*t.shelter.count),i("biggerHut")&&(e+=1*t.hut.count),i("biggerHouse")&&(e+=2*t.house.count),i("biggerTeepee")&&(e+=4*t.teepee.count),i("evenBiggerShelter")&&(e+=1*t.shelter.count),s("maxClones")&&(e+=1*n("maxClones")),r("clones",e)}},22:(e,t,o)=>{const{hasPrestige:s}=o(425);t.recalculateBuildingCost=function(e,t,n){let i=t[e];if(i&&i.cost&&i.ratio)for(let e in i.cost)i.cost[e]=Math.round(i.basecost[e]*Math.pow(i.ratio,i.count)),n("Architect")&&(i.cost[e]*=.75),s("cheaperBuildings")&&(i.cost[e]*=.95);const r=document.querySelector("#"+e);var a=o(594).generateTooltipCost(i.cost);if(!r)throw"Button not found for "+e;{r.setAttribute("data-tooltip-cost",a);const e=o(151).generateEffectString(i);r.setAttribute("data-tooltip-effect",e)}}},594:(e,t,o)=>{const{resources:s}=o(587),{craftedResources:n}=o(371),{ponders:i}=o(397),{buttons:r}=o(54),{skills:a}=o(324),{getWorkers:c,updateTotal:l}=o(150),{hasTool:d}=o(609),{updateSkills:u,calcCraftBonus:f,getMax:p}=o(78),{canCraft:g}=o(64),{capitalizeFirst:b}=o(681),{getMaterial:h}=o(924),{isPondered:m}=o(369),{getCraftedResource:y}=o(590),{calcIncrease:v}=o(121),{updateSidebar:k}=o(453),{passedStage:x,getAllStages:w}=o(751),C=document.getElementById("resources");function B(e){const t=C.querySelector(`#${e}Value`),o=C.querySelector(`#${e}IncreaseRate`),n=document.querySelector(`button#craft${b(e)}`);if(t){try{let s=p(e)&&p(e)<1/0?p(e).toFixed(2):"âˆž";t.textContent=`${h(e).toFixed(2)} / ${s}`,o&&(o.textContent=v(e,1e3).toFixed(2))}catch(o){console.error(t,e,o)}if(s[e]&&s[e].isGetting){const t=document.querySelector("#resources").querySelector("#resource-"+e);t&&(t.style.fontWeight="bold")}}if(n){const t=n.querySelector(`#${e}Value`);t?t.textContent=y(e).toFixed(0):console.warn(`Resource button found but no count span for: ${e}`)}}function T(e,t){0!=t&&((e=e.toLowerCase())in s?(h(e)<p(e)&&t>0?(m("fasterResourceGain")&&(t*=1.05),s[e].value+=t,u(e,t)):t<0?s[e].value+=t:(s[e].value=p(e),m("autocraft")&&document.querySelector("#autoCraftCheckbox").checked&&D[e]&&q(D[e])),B(e)):e in n?(n[e].value+=t,B(e),u(e,t)):(s[e]&&(s[e].value+=t),n[e]&&(n[e].value+=t),k()),k())}function S(e){const t=document.createElement("button");t.className=e.class+" tooltip",t.setAttribute("id",e.id+"Button"),t.setAttribute("requirement",e.requiredStage);const o=Object.keys(n).find((t=>n[t]===e));return t.innerHTML=`${e.text||b(o)}`,t.tab="experiment",t}const E=document.querySelector("#craftedResourceButtons");function A(e){if(null===e)return"";var t="";for(let o in e)t+=`<span class="tooltip-${o} ${h(o,s)>=e[o]?"enough":"not-enough"}">${e[o]} ${o}</span><br>`;return t}const j=document.getElementById("emojiDisplay");function M(){let e="";for(let t in s){let o=c(t);if(void 0===o||0==o)continue;let n=s[t].emoji||"ð“€Ÿ";n&&(e+=n.repeat(o))}j.textContent=e,function(){let e=48;for(j.style.fontSize=`${e}px`;j.offsetWidth>600&&e>30;)e-=1,j.style.fontSize=`${e}px`}()}M();const D={sticks:"handle",wood:"paper",rocks:"sharprocks",vines:"rope",sand:"glass",ore:"gold",clay:"bricks"};function q(e){try{const t=n[e].cost;let o=[];for(let e in t)o.push(h(e,s)/t[e]);let i=Math.floor(Math.min(...o));console.log(e,i),P(e,i)}catch(t){console.log("Failed to craftall for: ",e,t)}}function P(e,t){if(!n.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;if(!g(e))return;let o=n[e].cost;for(let s=0;s<Math.floor(t);++s)console.log("crafting",t,e,o),R(e,o,f(e));n[e].craftedOnce||(n[e].craftedOnce=!0),B(e)}function R(e,t,o){for(const[e,o]of Object.entries(t))T(e,-o);T(e,o)}e.exports={increaseMaterial:T,setMax:function(e,t){s[e].max=t,k(),l()},increaseMax:function(e,t){s[e].max+=t,k(),l()},craftAllResources:q,craftResource:function(e){if(!n.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;g(e)&&(R(e,n[e].cost,f(e)),n[e].craftedOnce||(n[e].craftedOnce=!0),B(e))},updateEmojiDisplay:M,updateDisplayValue:B,generateTooltipCost:A,calcSecondsRemaining:function(e,t){if(t<=s[e])return 0;const o=v(e,1e3);return 0==o?-1:Math.ceil(t-s[e].value)/o},appendCraftedResourceButtons:function(){for(let e in n){const t=S(n[e]);t.setAttribute("data-tooltip-desc",n[e].tooltipDesc||""),t.setAttribute("data-tooltip-cost",A(n[e].cost)||""),E.appendChild(t),x(t.getAttribute("requirement"))?t.classList.remove("hidden"):t.classList.add("hidden"),r[n[e].id]=n[e]}},calcIncrease:v,updateResourceIncreaseRates:function(){for(let t in s){const o=v(t,1e3);var e=document.getElementById(`${t}IncreaseRate`);e&&(e.textContent=o)}},craftResourceQuantity:P}},502:(e,t,o)=>{const{updateDisplayValue:s,calcIncrease:n,updateEmojiDisplay:i}=o(594),{addTool:r,getAllTools:a}=o(609),{allVisibleButtons:c,populateSkillsTable:l,setVisibleButton:d}=o(78),{makeVisible:u}=o(123),{getCraftedResource:f}=o(590),{getMaterial:p}=o(924),{getAllPerks:g,addPerk:b,hasPerk:h}=o(134),{isPondered:m}=o(369),{jobCounts:y,setConnections:v,getConnections:k,distributeWorkers:x,updateDisplay:w}=o(150),{total_time:C}=o(808),{setAteFish:B,getAteFish:T}=o(621),{craftedResources:S}=o(371),{buildings:E}=o(882),{ponders:A}=o(397),{resources:j}=o(587),{skills:M}=o(324),{getAllStages:D}=o(751),{activeFactoriesProducing:q,loadFactory:P}=o(51),{recalcMaxClones:R}=o(995),{updateSidebar:L}=o(453),{prestige:$}=o(425),{recalculateBuildingCost:O}=o(22),{updateBuildingButtonCount:F}=o(607),{updateBuildingList:I}=o(151);e.exports={saveGame:function(){let e={skills:{},craftedResources:{},resources:{},tools:[],stages:[],unlocks:{},jobs:{},buildings:{},time:{},allVisibleButtons:[],message:[],connections:new Map,perks:[],factories:{},prestige:{}};for(let t in M)e.skills[t]={exp:M[t].exp,level:M[t].level};for(let t in S)e.craftedResources.hasOwnProperty(t)||(e.craftedResources[t]={value:0,craftedOnce:!1}),e.craftedResources[t].value=f(t),e.craftedResources[t].craftedOnce=S[t].craftedOnce;for(let t in j)e.resources.hasOwnProperty(t)||(e.resources[t]={value:0,max:0}),e.resources[t].value=p(t,j),e.resources[t].max=j[t].max;e.tools=a(),e.stages=D(),e.jobs=y,e.perks=g(),e.connections=Array.from(k().entries());for(let t in A)e.unlocks[t]=m(t);for(let t in E)e.buildings[t]=E[t].count;for(let t in c)e.allVisibleButtons.push(t);for(const[t,o]of Object.entries(q))e.factories[t]=o;const t=o(808).getMessage().innerHTML;e.message=function(e){const t=document.createElement("div");return t.innerHTML=e,[t.textContent,t.querySelector("span").textContent]}(t);for(const[t,o]of Object.entries($))e.prestige[t]={cost:o.cost,level:o.level};return e.time.total_time=C,e.time.time_of_save=Date.now(),console.log(e),localStorage.setItem("save",JSON.stringify(e)),e},loadGame:function(){console.log("Loading Game");var e=JSON.parse(localStorage.getItem("save"));if(console.log(e),null!==e){if(void 0!==e.resources)for(let t in e.resources)"undefined"!==t.valueOf()&&null!==t&&(j[t].value=e.resources[t].value,j[t].max=e.resources[t].max,console.log("Updating resources for "+t+" to "+e.resources[t].value,e.resources[t].max),0!=j[t].value&&s(t));if(void 0!==e.skills)for(let t in e.skills)M[t].exp=e.skills[t].exp,M[t].level=e.skills[t].level;if(void 0!==e.craftedResources)for(var t of Object.keys(e.craftedResources))S[t]&&(S[t].value=e.craftedResources[t].value,Number.isNaN(S[t].value)&&(S[t].value=0),S[t].craftedOnce=e.craftedResources[t].craftedOnce,s(t));if(void 0!==e.tools){let t=[...new Set([...a(),...e.tools])];for(let e in t)r(e)}if(void 0!==e.stages)for(let t in e.stages)u(e.stages[t]);if(void 0!==e.jobs)for(let t in e.jobs)y[t]=e.jobs[t],w(t);if(void 0!==e.unlocks)for(let t in e.unlocks)try{A[t].isPondered=e.unlocks[t]}catch(e){console.warn("Old save data includes obsolete ponder",t)}if(m("skillsTable")&&l(),void 0!==e.buildings){for(let t in e.buildings)try{E[t].count=e.buildings[t],E[t].count>0&&(F(t,E[t].count),O(t,E,h))}catch(e){console.warn("error with building",t)}L()}if(R(),I(),B(j.clones.max>=1),T()&&(document.querySelector("#eatFish").style.display="none"),void 0!==e.message&&o(808).changeMessage(e.message[0],e.message[1]),void 0!==e.time){o(808).setTotalTime(e.time[C]);const t=Date.now()-e.time.time_of_save;for(let e in j){const o=n(e,t);j[e].value+=o,j[e].value>j[e].max&&(j[e].value=j[e].max)}}if(void 0!==e.allVisibleButtons){console.log(e.allVisibleButtons);for(let t in e.allVisibleButtons)d(t)}void 0!==e.connections&&(v(new Map(e.connections)),0===k().size&&v(new Map),console.log(k()));for(let e in y)x(e,y[e]);if(i(),void 0!==e.perks)for(let t in e.perks)b(t),o(495).selectCorrectPerkButton(t);if(void 0!==e.factories)for(const[t,o]of Object.entries(e.factories))if(o>0)for(let e=0;e<o;++e)P(t);if(void 0!==e.prestige)for(const[t,o]of Object.entries(e.prestige))$[t].cost=o.cost,$[t].level=o.level}}}},495:(e,t)=>{t.selectCorrectPerkButton=function(e){let t,o=document.querySelectorAll(".tierOneButton");try{t=document.querySelector(`#${e}Perk`)}catch(e){}t?(o.forEach((e=>{e.setAttribute("disabled","true")})),console.log(t,e),t.removeAttribute("disabled"),t.classList.add("selected")):console.warn("No button found with ability name: "+e)}},453:(e,t,o)=>{const{capitalizeFirst:s}=o(681),{getMaterial:n}=o(924),{getMax:i}=o(78),{resources:r}=o(587),{isPondered:a}=o(369);function c(e){var t=!0;return n(e)>0&&(t=!1,r[e]&&(r[e].isVisible=!0)),r[e]&&r[e].isVisible&&(t=!1),t}function l(e){function t(e,t){return e<10?o(e,2)+t:e<100?o(e,1)+t:e<1e3?o(e,0)+t:Math.round(e)+t}function o(e,t){const o=Math.pow(10,t);return(Math.round(e*o)/o).toFixed(t)}return e<1e3?o(e,1):e<1e6?t(e/1e3,"K"):e<1e9?t(e/1e6,"M"):e<1e12?t(e/1e9,"B"):(e===1/0&&(e="âˆž"),e.toString())}const d=document.getElementById("resources");function u(e,t){let o;t?(o=document.getElementById(`group-${t}`),o||(o=function(e){const t=document.createElement("div");t.className="resourceGroup",t.id=`group-${e}`;const o=document.createElement("button");return o.textContent=e.toUpperCase(),o.onclick=()=>function(e){const t=document.getElementById(`group-${e}`),o=document.getElementById(`toggle-${e}`);Array.from(t.children).forEach((e=>{"P"===e.tagName&&e.classList.toggle("hidden")})),o.classList.contains("arrow-down")?(o.classList.remove("arrow-down"),o.classList.add("arrow-right")):(o.classList.remove("arrow-right"),o.classList.add("arrow-down"))}(e),o.className="toggle-button arrow-down",o.id=`toggle-${e}`,t.appendChild(o),t}(t),d.appendChild(o))):o=document.getElementById("resources");const r=s(e).split("_").join(" "),a=document.createElement("p");a.className="resource",a.id=`resource-${e}`;const c=document.createElement("span");c.className="resourceName",c.textContent=`${r}:`;const l=document.createElement("span");l.className="resourceValue",l.id=`${e}Value`;let u=i(e)&&i(e)<1/0?i(e).toFixed(2):"âˆž";l.textContent=`${n(e).toFixed(2)} / ${u}`;const f=document.createElement("span");function p(e,t){const o=document.getElementById(e);o&&(o.style.order=t)}return f.className="resourceRate",f.innerHTML=`(+\n            <span id="${e}IncreaseRate">0</span>/s)`,a.appendChild(c),a.appendChild(l),a.appendChild(f),o.appendChild(a),p("resource-clones",1),p("resource-sticks",2),p("resource-vines",3),p("resource-rocks",4),p("resource-fish",5),p("resource-freshwater",6),p("resource-wood",7),p("resource-ore",8),p("resource-sand",9),p("resource-clay",10),p("resource-wheat",11),p("resource-hides",12),p("resource-game",13),p("resource-herbs",14),p("resource-berries",15),p("resource-ponder",50),a}e.exports={updateSidebar:function(){const e=o(51).allMaterials;Array.from(e).forEach((e=>{r[e]&&o(594).updateDisplayValue(e)}));for(const[o,s]of Object.entries(e)){const e=document.getElementById("resource-"+s);if(!e)return void console.warn("no parent element found for",s);c(s)?e.style.display="none":e.style.display="";const o=document.getElementById(s+"Value");if(o){var t="#fff";const e=n(s),r=i(s);e===r?t="#fcc":e/r>.6&&(t="#eeb"),o.innerHTML=`<span style="color:${t}">${l(e)} / ${l(r)} </span>`}}},initializeResourceTags:function(e){a("organization")&&(e=!0),console.log("initialzing resource tags"),console.trace();const t={special:["clones","husks","ponder"],basics:["sticks","berries","fish","game","wheat","freshwater"],materials:["wood","sand","clay","vines","rocks","hides","herbs"],tools:["sharprocks","rope","handle","fishingrod","pickaxe","axe","spear","staff"],advanced:["glass","paper","crates","medicine","leather"],metal:["ore","gold","iron","silver","steel"],construction:["bricks","beams","nails","slabs","concrete"]};for(let[o,s]of Object.entries(t))s.forEach((t=>{console.log(t,o);let s=document.getElementById("resource-"+t);e||(o=null),s||(s=u(t,o)),console.log(s),c(t)&&(s.style.display="none"),console.log(c)}))}}},751:e=>{let t=[];e.exports={setStage:function(e){t.push(e)},passedStage:function(e){return Object.values(t).includes(e)},getAllStages:function(){return t},resetStages:function(){for(;t.length>0;)t.pop()}}},609:e=>{let t=["Bare Hands"];function o(e){return t.includes(e)}e.exports={hasTool:o,addTool:function(e){(isNaN(e)||isNaN(parseFloat(e)))&&(o(e)||(t.push(e),function(e){var t=document.getElementById("tools-list"),o=document.createElement("li");o.appendChild(document.createTextNode(e)),t&&t.appendChild(o)}(e)))},getAllTools:function(){return t},getToolValueForResource:function(e){if(!e)return 1;if(!e.tools)return 1;const t=e.tools.sort(((e,t)=>t.val-e.val));for(let e of t)if(o(e.tool))return e.val;return 1}}},864:(e,t,o)=>{const{getMaterial:s}=o(924),n=document.getElementById("resourceList"),i=document.getElementById("goldAmount");function r(e,t){s("gold",o(587).resources)>=t&&(o(594).increaseMaterial("gold",-t),o(594).increaseMaterial(e,t),i.textContent=s("gold",o(587).resources))}function a(e,t){s(e,o(587).resources)>=1&&(o(594).increaseMaterial("gold",t),o(594).increaseMaterial(e,-1),i.textContent=s("gold",o(587).resources))}t.generateTradeTable=function(e){for(let t in e){const e=document.createElement("tr"),o=Math.floor(100*Math.random())+10;e.innerHTML=`\n            <td class="tradetd">${t}</td>\n            <td class="tradetd">${o}</td>\n            <td class="tradetd" style="display:flex; flex-direction:row;">\n                <button class="buyBtn" data-resource="${t}" data-price="${o}">Buy</button>\n                <button class="sellBtn" data-resource="${t}" data-price="${o}">Sell</button>\n            </td>\n        `,n.appendChild(e)}document.querySelectorAll(".buyBtn").forEach((e=>{e.addEventListener("click",(e=>{r(e.target.getAttribute("data-resource"),parseFloat(e.target.getAttribute("data-price")))}))})),document.querySelectorAll(".sellBtn").forEach((e=>{e.addEventListener("click",(e=>{a(e.target.getAttribute("data-resource"),parseFloat(e.target.getAttribute("data-price")))}))}))},t.buyResource=r,t.sellResource=a},727:(e,t)=>{t.triggerFloatUpText=function(e,t,o,s){const n=document.createElement("div");n.textContent=o,n.style.left=`${e}px`,n.style.top=t-30+"px",n.style.color=s,n.classList.add("float-up-fade-out"),document.body.appendChild(n),n.addEventListener("animationend",(()=>{n.remove()}))}},607:(e,t,o)=>{const{capitalizeFirst:s}=o(681);t.updateBuildingButtonCount=function(e,t){document.getElementById(`${e}`).textContent=`${s(e).split("_").join(" ")} (${t})`}},667:(e,t,o)=>{const{buttons:s}=o(54),{getCraftedResourceConfigById:n}=o(371),{getBuildingCount:i}=o(882),{isPondered:r,canUnlock:a}=o(369),{getCraftedResourceKeyByConfig:c}=o(371),{isButtonIdVisible:l,setVisibleButton:d}=o(78),{canCraft:u}=o(64),{getMaterial:f}=o(924),{passedStage:p}=o(751),{canBuyBuilding:g}=o(23);t.updateButtonVisibility=function(){document.querySelectorAll("button").forEach((e=>{const t=s[e.id];if(t){e.classList.remove("hidden","purchasable","button-disabled");var o="hidden";e.id&&l(e.id)&&(o="button-disabled");try{t.requirement()&&(o="button-disabled",t.tab&&!t.data_building&&"production"===t.tab&&(o="purchasable"),e.id&&"gatherPonder"===e.id&&(o="purchasable"),t.tab&&"ponder"===t.tab&&e.id&&e.classList.contains("unlock")&&(a(e.id)&&(o="purchasable"),r(e.getAttribute("unlock"))&&(o="hidden")),t.tab&&"tabs"===t.tab&&(o="visible"))}catch(e){}if(t.id&&"craft"===t.id.slice(0,5)){t.craftedOnce&&(o="button-disabled");var f=n(t.id);f.value>0&&(o="button-disabled");const e=c(f);u(e)&&(o="purchasable")}t.data_building&&(o=i(t.data_building)?"button-disabled":o,o=g(t.data_building)?"purchasable":o),t.hide&&(o=t.hide()?"hidden":o),""!==o&&e.classList.add(o),"hidden"===o?e.style.display="none":(d(e.id),e.style.display="")}})),document.querySelectorAll(".job-button").forEach((e=>{const t=e.getAttribute("data-job");e.classList.remove("hidden","purchasable","button-disabled");var s;const n=o(842).O[t];"hidden"==(s=null==n||r(n)?"purchasable":"not-unlockable"===n?"hidden":"button-disabled")?e.style.display="none":(d(e.id),e.classList.add(s),e.style.display="")}))}}},t={};!function o(s){var n=t[s];if(void 0!==n)return n.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,o),i.exports}(808)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFpQixjQUFnQmtMLEdBSXJFRCxFQUFhN1MsT0FDYjhTLEVBQVFELEVBQWE3UyxPQUFTLFNBQVc4UyxHQVEvQixLQUFWQSxHQUFjL00sRUFBT2pSLFVBQVVDLElBQUkrZCxHQU96QixXQUFWQSxFQUVBL00sRUFBT3ZYLE1BQU11SixRQUFVLFFBR3ZCd0IsRUFBaUJ3TSxFQUFPNU4sSUFDeEI0TixFQUFPdlgsTUFBTXVKLFFBQVUsR0FuR0YsQ0FvR3pCLElBR0oxSixTQUFTb0ksaUJBQWlCLGVBQWV0QyxTQUFRNFIsSUFDN0MsTUFBTWlKLEVBQU1qSixFQUFPelEsYUFBYSxZQUNoQ3lRLEVBQU9qUixVQUFVK08sT0FBTyxTQUFVLGNBQWUsbUJBRWpELElBQUlpUCxFQUNKLE1BQU1FLEVBQWEsT0FBa0QsRUFBRWhFLEdBU3pELFdBUnFDOEQsRUFBL0NFLFNBQ0svZ0IsRUFBVytnQixHQUR1QyxjQUVwQyxtQkFBZEEsRUFBd0MsU0FDcEMsbUJBU1RqTixFQUFPdlgsTUFBTXVKLFFBQVUsUUFHdkJ3QixFQUFpQndNLEVBQU81TixJQUN4QjROLEVBQU9qUixVQUFVQyxJQUFJK2QsR0FFckIvTSxFQUFPdlgsTUFBTXVKLFFBQVUsR0FDM0IsR0FFUixDLEdDbkpJa2IsRUFBMkIsQ0FBQyxHQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCdFYsSUFBakJ1VixFQUNILE9BQU9BLEVBQWFwbkIsUUFHckIsSUFBSUQsRUFBU2tuQixFQUF5QkUsR0FBWSxDQUdqRG5uQixRQUFTLENBQUMsR0FPWCxPQUhBcW5CLEVBQW9CRixHQUFVcG5CLEVBQVFBLEVBQU9DLFFBQVNrbkIsR0FHL0NubkIsRUFBT0MsT0FDZixDQ25CMEJrbkIsQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2F0ZUZpc2guanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvYnVpbGRpbmdzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2NhbGNJbmNyZWFzZS5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9jYW5CdXlCdWlsZGluZy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9jYW5DcmFmdC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9jYXBpdGFsaXplRmlyc3QuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9nZXRDcmFmdGVkUmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvZ2V0TWF0ZXJpYWwuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvaGVscGVyLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pvYlJlcXVpcmVkUG9uZGVycy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qb2JzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vYnVpbGRpbmdzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vYnV0dG9ucy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9wZXJrcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL3BvbmRlci5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL3ByZXN0aWdlLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vcmVzb3VyY2VzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vc2tpbGxzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL21haW4uanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvbWFrZVZpc2libGUuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvcGVya3MuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvcG9uZGVyLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3JlY2FsY01heENsb25lcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9yZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvc2F2aW5nLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3NlbGVjdENvcnJlY3RQZXJrQnV0dG9uLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3NpZGViYXIuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvc3RhZ2VzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3Rvb2xzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3RyYWRlLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3RyaWdnZXJGbG9hdFVwVGV4dC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy91cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50LmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3VwZGF0ZUJ1dHRvblZpc2liaWxpdHkuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXRlRmlzaCA9IGZhbHNlO1xyXG5cclxuZnVuY3Rpb24gc2V0QXRlRmlzaChib29sKSB7XHJcbiAgICBhdGVGaXNoID0gYm9vbDtcclxuICAgIHJldHVybiBhdGVGaXNoO1xyXG59XHJcbmZ1bmN0aW9uIGdldEF0ZUZpc2goKSB7XHJcbiAgICByZXR1cm4gYXRlRmlzaDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBhdGVGaXNoLFxyXG4gICAgc2V0QXRlRmlzaCxcclxuICAgIGdldEF0ZUZpc2hcclxufTsiLCJjb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpO1xyXG5jb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoJy4vanNvbi9idXR0b25zJyk7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgaW5jcmVhc2VNYXRlcmlhbCwgaW5jcmVhc2VNYXgsIH0gPSByZXF1aXJlKCcuL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IHVwZGF0ZVRvdGFsIH0gPSByZXF1aXJlKCcuL2pvYnMnKTtcclxuY29uc3QgeyBoYXNQZXJrIH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZSgnLi9zdGFnZXMnKTtcclxuY29uc3QgeyByZWNhbGNNYXhDbG9uZXMgfSA9IHJlcXVpcmUoJy4vcmVjYWxjTWF4Q2xvbmVzJyk7XHJcbmNvbnN0IHsgdXBkYXRlU2lkZWJhciB9ID0gcmVxdWlyZSgnLi9zaWRlYmFyJyk7XHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCB9ID0gcmVxdWlyZSgnLi91cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50Jyk7XHJcbmNvbnN0IHsgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QgfSA9IHJlcXVpcmUoJy4vcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QnKTtcclxuY29uc3QgeyBjYW5CdXlCdWlsZGluZyB9ID0gcmVxdWlyZSgnLi9jYW5CdXlCdWlsZGluZycpO1xyXG5cclxuLyogQlVJTERJTkdTICovXHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IGJ1aWxkaW5nIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlRWZmZWN0U3RyaW5nKGJ1aWxkaW5nKSB7XHJcbiAgICBsZXQgZWZmZWN0UGFydHMgPSBbXTtcclxuXHJcbiAgICBmb3IgKGxldCBbcmVzb3VyY2UsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhidWlsZGluZy5lZmZlY3RzKSkge1xyXG4gICAgICAgIC8vIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlZmZlY3QpKSB7XHJcbiAgICAgICAgZWZmZWN0UGFydHMucHVzaChgKyR7dmFsdWV9IG1heCAke3Jlc291cmNlfWApO1xyXG4gICAgICAgIC8vIEFkZCBtb3JlIGNvbmRpdGlvbnMgaGVyZSBpZiB5b3UgaW50cm9kdWNlIG5ldyB0eXBlcyBvZiBlZmZlY3RzXHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IFtyZXNvdXJjZSwgYm9vc3RdIG9mIE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5nLmJvb3N0KSkge1xyXG4gICAgICAgIGxldCBwZXJjZW50YWdlQm9vc3QgPSBNYXRoLnJvdW5kKChib29zdCAtIDEpICogMTAwKTtcclxuICAgICAgICBlZmZlY3RQYXJ0cy5wdXNoKGArJHtwZXJjZW50YWdlQm9vc3R9JSAke3Jlc291cmNlfSBwcm9kdWN0aW9uYCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlZmZlY3RQYXJ0cy5qb2luKCcsICcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJ1aWxkaW5nVG9vbHRpcENvc3QoY29zdCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGNvc3QpLm1hcCgoW21hdGVyaWFsLCBhbW91bnRdKSA9PiBgJHthbW91bnQudG9GaXhlZCgyKX0gJHttYXRlcmlhbH1gKS5qb2luKCdcXG4nKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUJ1aWxkaW5nQnV0dG9uKGJ1aWxkaW5nS2V5LCBidWlsZGluZ3MpIHtcclxuICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nS2V5XTtcclxuXHJcbiAgICAvLyBidWlsZGluZy5jb3N0ID0gYnVpbGRpbmcuYmFzZWNvc3Q7XHJcbiAgICBidWlsZGluZy5jb3N0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShidWlsZGluZy5iYXNlY29zdCkpO1xyXG5cclxuICAgIGNvbnN0IGNvc3RzID0gT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuY29zdClcclxuICAgICAgICAubWFwKChbbWF0ZXJpYWwsIGFtb3VudF0pID0+IGAke21hdGVyaWFsfTogJHthbW91bnR9YClcclxuICAgICAgICAuam9pbignLCAnKTtcclxuXHJcbiAgICAvLyBjb25zdCBoYWxmQ29zdFJlcXVpcmVtZW50ID0gT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuY29zdClcclxuICAgIC8vICAgICAubWFwKChbbWF0ZXJpYWwsIGFtb3VudF0pID0+IGBnZXRNYXRlcmlhbCgnJHttYXRlcmlhbH0scmVzb3VyY2VzJykgPj0gJHtNYXRoLmZsb29yKGFtb3VudCAvIDIpfWApXHJcbiAgICAvLyAgICAgLmpvaW4oJyAmJiAnKTtcclxuXHJcbiAgICAvLyBsZXQgcmVxdWlyZW1lbnRTdHJpbmcgPSBgcmV0dXJuICR7aGFsZkNvc3RSZXF1aXJlbWVudH1gO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSBidWlsZGluZyBoYXMgYW4gZWZmZWN0IG9uIGNsb25lcyBtYXhcclxuICAgIC8vIGlmIChidWlsZGluZy5lZmZlY3RzICYmIGJ1aWxkaW5nLmVmZmVjdHNbJ2Nsb25lcyddKSB7XHJcbiAgICAvLyAgICAgcmVxdWlyZW1lbnRTdHJpbmcgKz0gYCAmJiBwYXNzZWRTdGFnZSgnY2xvbmVzJylgO1xyXG4gICAgLy8gfVxyXG4gICAgY29uc3QgcmVxdWlyZW1lbnRGdW5jdGlvbiA9IGNyZWF0ZVJlcXVpcmVtZW50RnVuY3Rpb24oYnVpbGRpbmcuY29zdCwgYnVpbGRpbmcpO1xyXG5cclxuICAgIGNvbnN0IGJ1dHRvbiA9IHtcclxuICAgICAgICAnY2xhc3MnOiAndG9vbHRpcCAnICsgYnVpbGRpbmdLZXksXHJcbiAgICAgICAgJ3RhYic6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICAndGV4dCc6IGAke2J1aWxkaW5nS2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgYnVpbGRpbmdLZXkuc2xpY2UoMSl9YCxcclxuICAgICAgICAndG9vbHRpcERlc2MnOiBidWlsZGluZ3NbYnVpbGRpbmdLZXldLnRvb2x0aXBEZXNjIHx8IFwiQSBteXN0ZXJpb3VzIGJ1aWxkaW5nIHdpdGggdW50b2xkIGJlbmVmaXRzLlwiLFxyXG4gICAgICAgICd0b29sdGlwQ29zdCc6IGNvc3RzLFxyXG4gICAgICAgICdyZXF1aXJlbWVudCc6ICgpID0+IHJlcXVpcmVtZW50RnVuY3Rpb24oKSxcclxuICAgICAgICAnZGF0YV9idWlsZGluZyc6IGJ1aWxkaW5nS2V5LFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gYnV0dG9uO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVSZXF1aXJlbWVudEZ1bmN0aW9uKGNvc3RzLCBidWlsZGluZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNvdXJjZXMpIHtcclxuICAgICAgICBjb25zdCBjb3N0Q29uZGl0aW9uID0gT2JqZWN0LmVudHJpZXMoY29zdHMpXHJcbiAgICAgICAgICAgIC5ldmVyeSgoW21hdGVyaWFsLCBhbW91bnRdKSA9PiBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSA+PSBNYXRoLmZsb29yKGFtb3VudCAvIDIpKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2xvbmVDb25kaXRpb24gPSAhYnVpbGRpbmcuZWZmZWN0cyB8fCAhYnVpbGRpbmcuZWZmZWN0c1snY2xvbmVzJ10gfHwgcGFzc2VkU3RhZ2UoJ2Nsb25lcycpO1xyXG5cclxuICAgICAgICByZXR1cm4gY29zdENvbmRpdGlvbiAmJiBjbG9uZUNvbmRpdGlvbjtcclxuICAgIH07XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyBjb25zb2xlLmxvZyhidXR0b25zKTtcclxuXHJcbmZ1bmN0aW9uIGdldEJ1aWxkaW5nQ29zdChidWlsZGluZ05hbWUpIHtcclxuICAgIHJldHVybiBidWlsZGluZ3NbYnVpbGRpbmdOYW1lXS5jb3N0O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkJ1eWluZyBidWlsZGluZyBcIiArIGJ1aWxkaW5nTmFtZSk7XHJcbiAgICBjb25zdCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ05hbWVdO1xyXG5cclxuXHJcblxyXG4gICAgaWYgKCFjYW5CdXlCdWlsZGluZyhidWlsZGluZ05hbWUpKSByZXR1cm47XHJcblxyXG4gICAgLy8gU3VidHJhY3QgdGhlIGNvc3RcclxuICAgIGZvciAoY29uc3QgcmVzb3VyY2UgaW4gYnVpbGRpbmcuY29zdCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUmVkdWNpbmcgXCIsIHJlc291cmNlLCBcImJ5XCIsIGJ1aWxkaW5nLmNvc3RbcmVzb3VyY2VdKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhpbmNyZWFzZU1hdGVyaWFsKTtcclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKHJlc291cmNlLCAtYnVpbGRpbmcuY29zdFtyZXNvdXJjZV0pO1xyXG4gICAgfVxyXG4gICAgLy8gQWRkIHRoZSBlZmZlY3RzXHJcbiAgICBmb3IgKGNvbnN0IFtyZXNvdXJjZSwgYW1vdW50XSBvZiBPYmplY3QuZW50cmllcyhidWlsZGluZy5lZmZlY3RzKSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdib3VnaHQgYnVpbGRpbmcgZWZmZWN0cycsIHJlc291cmNlLCBhbW91bnQpO1xyXG4gICAgICAgIGluY3JlYXNlTWF4KHJlc291cmNlLCBhbW91bnQpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBBY3R1YWxseSBidWlsZCB0aGUgYnVpbGRpbmdcclxuICAgIGJ1aWxkaW5nLmNvdW50Kys7XHJcblxyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG5cclxuICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICAvLyBVcGRhdGUgYnV0dG9uIHRleHRcclxuICAgIHVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQoYnVpbGRpbmdOYW1lLCBidWlsZGluZy5jb3VudCk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBjb3N0IG9mIHRoZSBidWlsZGluZ1xyXG4gICAgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QoYnVpbGRpbmdOYW1lLCBidWlsZGluZ3MsIGhhc1BlcmspO1xyXG5cclxuICAgIC8vIFVwZGF0ZSBtYXggY2xvbmVzIGFmdGVyIHVwZGF0aW5nIHRoZSBjb3VudFxyXG4gICAgcmVjYWxjTWF4Q2xvbmVzKCk7XHJcblxyXG4gICAgdXBkYXRlQnVpbGRpbmdMaXN0KCk7XHJcbn1cclxuZnVuY3Rpb24gZml0Q2hhclRvQ2VsbChjaGFyLCBjZWxsV2lkdGgsIGNlbGxIZWlnaHQsIGluaXRpYWxGb250U2l6ZSkge1xyXG4gICAgLy8gQ3JlYXRlIGEgdGVtcG9yYXJ5IHNwYW4gZWxlbWVudCB0byBtZWFzdXJlIHRoZSBjaGFyYWN0ZXJcclxuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICBzcGFuLnRleHRDb250ZW50ID0gY2hhcjtcclxuICAgIHNwYW4uc3R5bGUuZm9udFNpemUgPSBgJHtpbml0aWFsRm9udFNpemV9cHhgO1xyXG4gICAgc3Bhbi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7IC8vIHNvIGl0IGRvZXNuJ3QgYWZmZWN0IHRoZSBsYXlvdXRcclxuICAgIHNwYW4uc3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnOyAvLyB0byBwcmV2ZW50IGxpbmUgYnJlYWtzXHJcbiAgICBzcGFuLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsgLy8gdG8ga2VlcCBpdCBoaWRkZW5cclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3Bhbik7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHNwYW4gZml0cyB3aXRoaW4gdGhlIGRpbWVuc2lvbnMsIGFuZCBhZGp1c3QgZm9udCBzaXplIGlmIG5vdFxyXG4gICAgbGV0IGN1cnJlbnRGb250U2l6ZSA9IGluaXRpYWxGb250U2l6ZTtcclxuICAgIHdoaWxlIChzcGFuLm9mZnNldFdpZHRoIDwgY2VsbFdpZHRoICYmIHNwYW4ub2Zmc2V0SGVpZ2h0IDwgY2VsbEhlaWdodCkge1xyXG4gICAgICAgIGN1cnJlbnRGb250U2l6ZSsrO1xyXG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFNpemUgPSBgJHtjdXJyZW50Rm9udFNpemV9cHhgO1xyXG5cclxuICAgICAgICAvLyBPcHRpb25hbDogc3RvcCBpZiB0aGUgZm9udCBzaXplIGdldHMgdG9vIHNtYWxsXHJcbiAgICAgICAgaWYgKGN1cnJlbnRGb250U2l6ZSA+PSAxMDAwKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDbGVhbiB1cDogcmVtb3ZlIHRoZSB0ZW1wb3Jhcnkgc3BhbiBlbGVtZW50XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNwYW4pO1xyXG5cclxuICAgIHJldHVybiBjdXJyZW50Rm9udFNpemU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUJ1aWxkaW5nTGlzdCgpIHtcclxuICAgIGNvbnN0IGJ1aWxkaW5nTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWlsZGluZ0xpc3QnKTtcclxuICAgIGJ1aWxkaW5nTGlzdC5pbm5lckhUTUwgPSAnJztcclxuICAgIGxldCBpID0gMDtcclxuICAgIGNvbnN0IGdyaWRTaXplID0gNjtcclxuICAgIGNvbnN0IG1heENlbGxXaWR0aCA9IDM2O1xyXG4gICAgY29uc3QgbWF4Q2VsbEhlaWdodCA9IDQ4O1xyXG4gICAgY29uc3QgaW5pdGlhbEZvbnRTaXplID0gMzY7IC8vIHN0YXJ0aW5nIGZvbnQgc2l6ZVxyXG5cclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhidWlsZGluZ3MpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2YWwuY291bnQ7ICsraiwgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCBjb2wgPSAoaSAlIGdyaWRTaXplICsgMSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgbGV0IHJvdyA9IE1hdGguZmxvb3IoaSAvIGdyaWRTaXplICsgMSkudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYmVzdCBmb250IHNpemUgZm9yIHRoaXMgY2hhcmFjdGVyXHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnRTaXplID0gZml0Q2hhclRvQ2VsbCh2YWwuZW1vamkgfHwgJz8nLCBtYXhDZWxsV2lkdGgsIG1heENlbGxIZWlnaHQsIGluaXRpYWxGb250U2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdGhlIHNwYW4gd2l0aCB0aGUgY2FsY3VsYXRlZCBmb250IHNpemVcclxuICAgICAgICAgICAgYnVpbGRpbmdMaXN0LmlubmVySFRNTCArPSBgPHNwYW4gY2xhc3MgPSAndG9vbHRpcCcgc3R5bGU9J2dyaWQtY29sdW1uOiR7Y29sfTsgZ3JpZC1yb3c6JHtyb3d9OyBmb250LXNpemU6JHtmb250U2l6ZX1weCcgdG9vbHRpcERlc2M9JyR7a2V5fSc+JHt2YWwuZW1vamkgfHwgJz8nfTwvc3Bhbj5gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYnV5TWF4QnVpbGRpbmdzKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgd2hpbGUgKGNhbkJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkpIHtcclxuICAgICAgICBidXlCdWlsZGluZyhidWlsZGluZ05hbWUpO1xyXG4gICAgICAgICsraTtcclxuICAgIH1cclxuICAgIHJldHVybiBpO1xyXG59XHJcblxyXG4vLyBmdW5jdGlvbiBkb3VibGVTdG9yYWdlRWZmZWN0c0lmUGFzc2VkKCkge1xyXG4vLyAgICAgaWYgKHBhc3NlZFN0YWdlKFwiZG91YmxlU3RvcmFnZTFcIikpIHtcclxuLy8gICAgICAgICBmb3IgKGxldCBidWlsZGluZ0tleSBpbiBidWlsZGluZ3MpIHtcclxuLy8gICAgICAgICAgICAgbGV0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nS2V5XTtcclxuXHJcbi8vICAgICAgICAgICAgIGlmIChidWlsZGluZy5lZmZlY3RzKSB7XHJcbi8vICAgICAgICAgICAgICAgICBmb3IgKGxldCBtYXRlcmlhbCBpbiBidWlsZGluZy5lZmZlY3RzKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmcuZWZmZWN0c1ttYXRlcmlhbF0ubWF4ICo9IDI7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGdlbmVyYXRlQnVpbGRpbmdUb29sdGlwQ29zdCxcclxuICAgIGNyZWF0ZUJ1aWxkaW5nQnV0dG9uLFxyXG4gICAgYnV5TWF4QnVpbGRpbmdzLFxyXG4gICAgYnV5QnVpbGRpbmcsXHJcbiAgICBnZW5lcmF0ZUVmZmVjdFN0cmluZyxcclxuICAgIHVwZGF0ZUJ1aWxkaW5nTGlzdFxyXG59OyIsImNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL3Jlc291cmNlc1wiKTtcclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1aWxkaW5ncywgZ2V0Qm9vc3QgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpO1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZSgnLi9qc29uL3NraWxscycpO1xyXG5jb25zdCB7IGdldFdvcmtlcnMgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IGhhc1BlcmsgfSA9IHJlcXVpcmUoJy4vcGVya3MnKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkIH0gPSByZXF1aXJlKCcuL3BvbmRlcicpO1xyXG5jb25zdCB7IGdldEZhY3RvcnlQcm9kdWN0aW9uIH0gPSByZXF1aXJlKFwiLi9mYWN0b3J5XCIpO1xyXG5jb25zdCB7IGhhc1ByZXN0aWdlLCBnZXRMZXZlbE9mUHJlc3RpZ2UgfSA9IHJlcXVpcmUoXCIuL2pzb24vcHJlc3RpZ2VcIik7XHJcblxyXG4vLyBDbG9uZXMgd29yayBhdCAxLzQgdGhlIHNwZWVkIGJ5IGRlZmF1bHRcclxudmFyIGNsb25lTXVsdCA9IDAuMjU7XHJcbi8vIGNvbnNvbGUubG9nKCdpbml0aWFsJywgd29ya2Vyc0Rpc3RyaWJ1dGlvbik7XHJcbmZ1bmN0aW9uIGNhbGNJbmNyZWFzZShyZXNvdXJjZU5hbWUsIGRlbHRhX3RpbWUpIHtcclxuICAgIHZhciB0b3RhbCA9IDA7XHJcblxyXG4gICAgLy8gY2xvbmVzIGluY3JlYXNlIGJ5IDEgcGVyIHNlY29uZCBhcyBsb25nIGFzIHRoZXJlJ3Mgc3BhY2VcclxuICAgIC8vIGlmIChyZXNvdXJjZSA9PT0gJ2Nsb25lcycgJiYgcGFzc2VkU3RhZ2UoJ2Nsb25lJykpIHtcclxuICAgIC8vICAgICB0b3RhbCA9IDE7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRvdGFsO1xyXG4gICAgLy8gfVxyXG4gICAgaWYgKCFyZXNvdXJjZXMuaGFzT3duUHJvcGVydHkocmVzb3VyY2VOYW1lKSkge1xyXG4gICAgICAgIGlmIChjcmFmdGVkUmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlTmFtZSkpIHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgb3VyIGZhY3Rvcmllc1xyXG4gICAgICAgICAgICB0b3RhbCA9IGdldEZhY3RvcnlQcm9kdWN0aW9uKHJlc291cmNlTmFtZSk7XHJcbiAgICAgICAgICAgIGlmICh0b3RhbCA+IDApIHJldHVybiB0b3RhbDsgLy8gRG9uJ3QgYXBwbHkgc2tpbGxzIHRvIGZhY3Rvcmllc1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiB0b3RhbDsgLy8gaWYgbm90IGEgcmVzb3VyY2Ugb3IgYSBjcmFmdGVkIHJlc291cmNlLCByZXR1cm4gMFxyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZXNvdXJjZU5hbWUgPT09ICdjbG9uZXMnICYmIGlzUG9uZGVyZWQoJ2F1dG9DbG9uZScpKSB0b3RhbCA9IDE7XHJcblxyXG4gICAgLy8gR2F0aGVyaW5nIHBlcnNvbmFsbHlcclxuICAgIGlmIChyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSAmJiByZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS5pc0dldHRpbmcpIHtcclxuICAgICAgICB0b3RhbCArPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGpvYnNcclxuICAgIGxldCBsZWFkZXJNdWx0ID0gaGFzUGVyaygnTGVhZGVyJykgPyBjbG9uZU11bHQgKiAxLjUgOiBjbG9uZU11bHQ7XHJcbiAgICB0b3RhbCArPSBsZWFkZXJNdWx0ICogZ2V0V29ya2VycyhyZXNvdXJjZU5hbWUpIHx8IDA7XHJcblxyXG5cclxuICAgIC8vIEFwcGx5IHBlcmtzIHByb2R1Y3Rpb24gYm9vc3RcclxuICAgIGlmIChoYXNQZXJrKCdMdW1iZXJqYWNrJykgJiYgKHJlc291cmNlTmFtZSA9PSAnd29vZCcgfHwgcmVzb3VyY2VOYW1lID09ICdzdGlja3MnKSkgdG90YWwgKj0gMS4yNTtcclxuICAgIGlmIChoYXNQZXJrKCdNaW5lcicpICYmIChyZXNvdXJjZU5hbWUgPT0gJ3JvY2tzJyB8fCByZXNvdXJjZU5hbWUgPT0gJ29yZScpKSB0b3RhbCAqPSAxLjI1O1xyXG4gICAgaWYgKGhhc1BlcmsoJ0JvdGFuaXN0JykgJiYgKHJlc291cmNlTmFtZSA9PSAndmluZXMnIHx8IHJlc291cmNlTmFtZSA9PSAnaGVyYnMnIHx8IHJlc291cmNlTmFtZSA9PSAnd2hlYXQnKSkgdG90YWwgKj0gMS4yNTtcclxuXHJcbiAgICAvLyBBcHBseSBwcmVzdGlnZSBzcGVjaWZpYyBib29zdHNcclxuICAgIC8vIEFwcGx5IHNraWxscyB0byBhbGwgY2xvbmVzXHJcbiAgICBmb3IgKGxldCBza2lsbCBpbiBza2lsbHMpIHtcclxuICAgICAgICBpZiAoc2tpbGxzW3NraWxsXS5hZmZlY3RlZFJlc291cmNlcy5pbmNsdWRlcyhyZXNvdXJjZU5hbWUpKSB7XHJcbiAgICAgICAgICAgIGlmIChza2lsbCA9PT0gJ2dhdGhlcmluZycgJiYgaGFzUHJlc3RpZ2UoJ2dhdGhlcmluZ0Jvb3N0JykpIHRvdGFsICo9IDEuMSAqIGdldExldmVsT2ZQcmVzdGlnZSgnZ2F0aGVyaW5nQm9vc3QnKTtcclxuICAgICAgICAgICAgaWYgKHNraWxsID09PSAnbWFzb25yeScgJiYgaGFzUHJlc3RpZ2UoJ21hc29ucnlCb29zdCcpKSB0b3RhbCAqPSAxLjEgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ21hc29ucnlCb29zdCcpO1xyXG4gICAgICAgICAgICBpZiAoc2tpbGwgPT09ICdjYXJwZW50cnknICYmIGhhc1ByZXN0aWdlKCdjYXJwZW50cnlCb29zdCcpKSB0b3RhbCAqPSAxLjEgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ2NhcnBlbnRyeUJvb3N0Jyk7XHJcbiAgICAgICAgICAgIGlmIChza2lsbCA9PT0gJ3RoaW5raW5nJyAmJiBoYXNQcmVzdGlnZSgndGhpbmtpbmdCb29zdCcpKSB0b3RhbCAqPSAxLjEgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ3RoaW5raW5nQm9vc3QnKTtcclxuICAgICAgICAgICAgaWYgKHNraWxsID09PSAnZmFybWluZycgJiYgaGFzUHJlc3RpZ2UoJ2Zhcm1pbmdCb29zdCcpKSB0b3RhbCAqPSAxLjEgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ2Zhcm1pbmdCb29zdCcpO1xyXG4gICAgICAgICAgICBpZiAoc2tpbGwgPT09ICdmaXNoaW5nJyAmJiBoYXNQcmVzdGlnZSgnZmlzaGluZ0Jvb3N0JykpIHRvdGFsICo9IDEuMSAqIGdldExldmVsT2ZQcmVzdGlnZSgnZmlzaGluZ0Jvb3N0Jyk7XHJcbiAgICAgICAgICAgIGlmIChza2lsbCA9PT0gJ2h1bnRpbmcnICYmIGhhc1ByZXN0aWdlKCdodW50aW5nQm9vc3QnKSkgdG90YWwgKj0gMS4xICogZ2V0TGV2ZWxPZlByZXN0aWdlKCdodW50aW5nQm9vc3QnKTtcclxuICAgICAgICAgICAgbGV0IHNraWxsUmF0aW8gPSAxLjA2O1xyXG4gICAgICAgICAgICB2YXIgbXVsdCA9IDEgKyAoTWF0aC5wb3coc2tpbGxSYXRpbywgc2tpbGxzW3NraWxsXS5sZXZlbCkgLSAxKSAvIDEwMDtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJNdWx0aXBseWluZyBnYWluIGJ5IFwiICsgbXVsdCk7XHJcbiAgICAgICAgICAgIHRvdGFsICo9IG11bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBBbGwgYnVpbGRpbmdzIGFmdGVyIGxldmVsXHJcbiAgICBmb3IgKGxldCBidWlsZGluZyBpbiBidWlsZGluZ3MpIHtcclxuICAgICAgICBjb25zdCBib29zdERhdGEgPSBnZXRCb29zdChidWlsZGluZywgcmVzb3VyY2VOYW1lKTtcclxuICAgICAgICBpZiAoYm9vc3REYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmNyZWFzZSA9IE1hdGgucG93KGJvb3N0RGF0YSwgYnVpbGRpbmdzW2J1aWxkaW5nXS5jb3VudCk7XHJcbiAgICAgICAgICAgIGlmIChpc1BvbmRlcmVkKCdlZmZlY3RpdmVCdWlsZGluZ3MnKSkgaW5jcmVhc2UgKj0gMS4wMTtcclxuICAgICAgICAgICAgdG90YWwgKj0gaW5jcmVhc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlc291cmNlTmFtZSA9PT0gJ3BvbmRlcicpIHtcclxuICAgICAgICBpZiAoaXNQb25kZXJlZCgncG9uZGVyMScpKSB0b3RhbCAqPSAxLjA1O1xyXG4gICAgICAgIGlmIChpc1BvbmRlcmVkKCdwb25kZXIyJykpIHRvdGFsICo9IDEuMDU7XHJcbiAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ3BvbmRlcjMnKSkgdG90YWwgKj0gMS4wNTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNQb25kZXJlZCgnZmFzdGVyUmVzb3VyY2VHYWluJykpIHRvdGFsICo9IDEuMDU7XHJcbiAgICBpZiAoaGFzUHJlc3RpZ2UoJ2Nsb25lQm9vc3QnKSkgdG90YWwgKj0gMS4wNSAqIGdldExldmVsT2ZQcmVzdGlnZSgnY2xvbmVCb29zdCcpO1xyXG5cclxuICAgIC8vIENvbnZlcnQgZnJvbSBzZWNvbmRzIHRvIG1pbGxpc2Vjb25kc1xyXG4gICAgdG90YWwgKj0gZGVsdGFfdGltZSAvIDEwMDA7XHJcbiAgICAvLyByb3VuZCB0b3RhbCB0byBuZWFyZXN0IHRob3VzYW5kdGhcclxuICAgIHRvdGFsID0gcGFyc2VGbG9hdCh0b3RhbC50b0ZpeGVkKDMpKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwidGltZSBmb3IgcmVzb3VyY2VzXCIsIGRlbHRhX3RpbWUsIHJlc291cmNlTmFtZSwgdG90YWwpO1xyXG4gICAgcmV0dXJuIHRvdGFsO1xyXG59XHJcbmV4cG9ydHMuY2FsY0luY3JlYXNlID0gY2FsY0luY3JlYXNlOyIsImNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVpbGRpbmdOYW1lXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBjYW5CdXlCdWlsZGluZyhidWlsZGluZ05hbWUpIHtcclxuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgZW5vdWdoIHJlc291cmNlc1xyXG4gICAgbGV0IGNhbkJ1eSA9IHRydWU7XHJcbiAgICBjb25zdCBidWlsZGluZ3MgPSByZXF1aXJlKCcuL2pzb24vYnVpbGRpbmdzJykuYnVpbGRpbmdzO1xyXG4gICAgY29uc3QgYnVpbGRpbmcgPSBidWlsZGluZ3NbYnVpbGRpbmdOYW1lXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHJlc291cmNlIGluIGJ1aWxkaW5nLmNvc3QpIHtcclxuICAgICAgICBpZiAoYnVpbGRpbmcuY29zdFtyZXNvdXJjZV0gPiBnZXRNYXRlcmlhbChyZXNvdXJjZSwgcmVzb3VyY2VzKSkge1xyXG4gICAgICAgICAgICBjYW5CdXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYW4gd2UgYnV5ICcsYnVpbGRpbmdOYW1lLGNhbkJ1eSk7XHJcbiAgICByZXR1cm4gY2FuQnV5O1xyXG59XHJcbmV4cG9ydHMuY2FuQnV5QnVpbGRpbmcgPSBjYW5CdXlCdWlsZGluZzsiLCJjb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGNyYWZ0ZWRSZXNvdXJjZXMgfSA9IHJlcXVpcmUoXCIuL2pzb24vY3JhZnRlZFJlc291cmNlc1wiKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5cclxuZnVuY3Rpb24gY2FuQ3JhZnQocmVzb3VyY2VLZXkpIHtcclxuICAgIGxldCBjYW5DcmFmdCA9IHRydWU7XHJcbiAgICBsZXQgcmVxdWlyZW1lbnRzID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY29zdDtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBhbGwgcmVxdWlyZW1lbnRzIGFyZSBtZXRcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZm9yIChsZXQgbWF0IGluIHJlcXVpcmVtZW50cykge1xyXG4gICAgICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwobWF0LCByZXNvdXJjZXMpIDwgcmVxdWlyZW1lbnRzW21hdF0pIHtcclxuICAgICAgICAgICAgICAgIGNhbkNyYWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgaW4gY2FsY3VsYXRpbmcgcmVxdWlyZW1lbnRzOiAnLCByZXNvdXJjZUtleSwgcmVxdWlyZW1lbnRzLCBlcnIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjYW5DcmFmdDtcclxufVxyXG5leHBvcnRzLmNhbkNyYWZ0ID0gY2FuQ3JhZnQ7IiwiLyoqXHJcbiAqIENhcGl0YWxpemVzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYSBzdHJpbmdcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBzdHJpbmdFeGFtcGxlXHJcbiAqIEByZXR1cm5zIFN0cmluZ0V4YW1wbGVcclxuICovXHJcbmZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdChzdHIpIHtcclxuICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XHJcbn1cclxuZXhwb3J0cy5jYXBpdGFsaXplRmlyc3QgPSBjYXBpdGFsaXplRmlyc3Q7IiwiY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vZ2V0Q3JhZnRlZFJlc291cmNlJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzLCBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG4vLyBBc3N1bWluZyB0aGVzZSBhcmUgZGVmaW5lZCBnbG9iYWxseVxyXG4vLyB2YXIgbWFudWZhY3R1cmVkTWFwID0ge1xyXG4vLyAgICAgY2xheTogWydicmlja3MnXSxcclxuLy8gICAgIGhlcmJzOiBbJ21lZGljaW5lJ10sXHJcbi8vICAgICBoaWRlczogWydsZWF0aGVyJ10sXHJcbi8vICAgICBpcm9uOiBbJ3N0ZWVsJywgJ25haWxzJ10sXHJcbi8vICAgICBvcmU6IFsnaXJvbicsICdzaWx2ZXInLCAnZ29sZCddLFxyXG4vLyAgICAgc2FuZDogWydnbGFzcycsICdjb25jcmV0ZSddLFxyXG4vLyAgICAgcm9ja3M6IFsnc2xhYnMnXSxcclxuLy8gICAgIHZpbmVzOiBbJ3JvcGUnXSxcclxuLy8gICAgIHdvb2Q6IFsncGFwZXInLCAnYmVhbXMnLCAnY3JhdGVzJ10sXHJcbi8vIH07XHJcblxyXG52YXIgc3dpdGNoZWRNYW51ZmFjdHVyZWRNYXAgPSB7XHJcbiAgICAnYmVhbXMnOiBbJ3dvb2QnXSxcclxuICAgICdicmlja3MnOiBbJ2NsYXknXSxcclxuICAgICdjb25jcmV0ZSc6IFsnc2FuZCddLFxyXG4gICAgJ2NyYXRlcyc6IFsnd29vZCddLFxyXG4gICAgJ2dsYXNzJzogWydzYW5kJ10sXHJcbiAgICAnZ29sZCc6IFsnb3JlJ10sXHJcbiAgICAnaGFuZGxlJzogWydzdGlja3MnXSxcclxuICAgICdpcm9uJzogWydvcmUnXSxcclxuICAgICdsZWF0aGVyJzogWydoaWRlcyddLFxyXG4gICAgJ21lZGljaW5lJzogWydoZXJicyddLFxyXG4gICAgJ25haWxzJzogWydpcm9uJ10sXHJcbiAgICAncGFwZXInOiBbJ3dvb2QnXSxcclxuICAgICdzaGFycHJvY2tzJzogWydyb2NrcyddLFxyXG4gICAgJ3NpbHZlcic6IFsnb3JlJ10sXHJcbiAgICAnc2xhYnMnOiBbJ3JvY2tzJ10sXHJcbiAgICAnc3BlYXInOiBbJ3N0YWZmJywgJ3NoYXJwcm9ja3MnLCAncm9wZSddLFxyXG4gICAgJ3N0YWZmJzogWydoYW5kbGUnLCAncm9wZSddLFxyXG4gICAgJ3N0ZWVsJzogWydpcm9uJ10sXHJcbiAgICAnc3RpY2tzJzogWyd3b29kJ10sXHJcbiAgICAncm9wZSc6IFsndmluZXMnXSxcclxuICAgICd3b29kJzogWydzdGlja3MnXSxcclxufTtcclxuXHJcblxyXG52YXIgYWxsTWF0ZXJpYWxzID0gW107XHJcbk9iamVjdC5rZXlzKHJlc291cmNlcykuZm9yRWFjaChyID0+IGFsbE1hdGVyaWFscy5wdXNoKHIpKTtcclxuT2JqZWN0LmtleXMoY3JhZnRlZFJlc291cmNlcykuZm9yRWFjaChyID0+IGFsbE1hdGVyaWFscy5wdXNoKHIpKTtcclxuY29uc29sZS5sb2coXCJBbGwgbWF0ZXJpYWxzOiBcIiwgYWxsTWF0ZXJpYWxzKTtcclxuXHJcbmxldCBhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmcgPSB7fTtcclxubGV0IGFjdGl2ZUZhY3Rvcmllc0NvbnN1bWluZyA9IHt9O1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBpc1Byb2R1Y2luZyhyZXNvdXJjZSkge1xyXG4gICAgcmV0dXJuIHJlc291cmNlIGluIGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZztcclxufVxyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBpc0NvbnN1bWluZyhyZXNvdXJjZSkge1xyXG4gICAgcmV0dXJuIHJlc291cmNlIGluIGFjdGl2ZUZhY3Rvcmllc0NvbnN1bWluZztcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gZ2V0RmFjdG9yeUNvbnN1bXB0aW9uKHJlc291cmNlKSB7XHJcbi8vICAgICByZXR1cm4gYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nW3Jlc291cmNlXSAqIDtcclxuLy8gfVxyXG5cclxuZnVuY3Rpb24gZ2V0RmFjdG9yeVByb2R1Y3Rpb24ocmVzb3VyY2UpIHtcclxuICAgIHJldHVybiBhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmdbcmVzb3VyY2VdICogbWFudWZhY3R1cmVCdWxrO1xyXG59XHJcblxyXG5cclxuLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHJlc291cmNlIHByb2R1Y3Rpb24gYW5kIGNvbnN1bXB0aW9uXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gdXBkYXRlRmFjdG9yeVJlc291cmNlVHJhY2tpbmcob2xkUHJvZHVjZWQsIG5ld1Byb2R1Y2VkLCBmYWN0b3J5SW5kZXgpIHtcclxuICAgIC8vIElmIHRoaXMgZmFjdG9yeSB3YXMgcHJldmlvdXNseSBwcm9kdWNpbmcgc29tZXRoaW5nLCByZWR1Y2UgdGhlIGNvdW50XHJcbiAgICBpZiAob2xkUHJvZHVjZWQgJiYgb2xkUHJvZHVjZWQgIT09ICdub25lJykge1xyXG4gICAgICAgIGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZ1tvbGRQcm9kdWNlZF0tLTtcclxuICAgICAgICBBcnJheS5mcm9tKGNyYWZ0ZWRSZXNvdXJjZXNbb2xkUHJvZHVjZWRdLmNvc3QpLmZvckVhY2goKGNvc3QpID0+IHtcclxuICAgICAgICAgICAgYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nW2Nvc3QucmVzb3VyY2VdIC09IGNvc3QuYW1vdW50O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgcHJvZHVjdGlvbiBjb3VudCBmb3IgdGhlIG5ldyByZXNvdXJjZVxyXG4gICAgYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nW25ld1Byb2R1Y2VkXSsrO1xyXG4gICAgQXJyYXkuZnJvbShjcmFmdGVkUmVzb3VyY2VzW25ld1Byb2R1Y2VkXS5jb3N0KS5mb3JFYWNoKChjb3N0KSA9PiB7XHJcbiAgICAgICAgYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nW2Nvc3QucmVzb3VyY2VdICs9IGNvc3QuYW1vdW50O1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIENhbGwgdGhpcyB3aGVuZXZlciBhIGZhY3RvcnkncyBzZXR0aW5ncyBjaGFuZ2VcclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBvbkZhY3RvcnlNb2RpZmllZChmYWN0b3J5SW5kZXgsIG5ld1Byb2R1Y2VkKSB7XHJcbiAgICBjb25zdCByaWdodFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNmYWN0b3J5LSR7ZmFjdG9yeUluZGV4fSAucmlnaHRTZWxlY3RgKTtcclxuICAgIHVwZGF0ZUZhY3RvcnlSZXNvdXJjZVRyYWNraW5nKHJpZ2h0U2VsZWN0LmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9kdWNlZCcpLCBuZXdQcm9kdWNlZCwgZmFjdG9yeUluZGV4KTtcclxuICAgIHJpZ2h0U2VsZWN0LnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9kdWNlZCcsIG5ld1Byb2R1Y2VkKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVGYWN0b3J5RGl2KCkge1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgcmVzb3VyY2UgdHJhY2tpbmcgb2JqZWN0c1xyXG4gICAgT2JqZWN0LmtleXMoY3JhZnRlZFJlc291cmNlcykuZm9yRWFjaCgocmVzb3VyY2UpID0+IHtcclxuICAgICAgICBhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmdbcmVzb3VyY2VdID0gMDtcclxuICAgICAgICBBcnJheS5mcm9tKGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VdLmNvc3QpLmZvckVhY2goKGNvc3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFhY3RpdmVGYWN0b3JpZXNDb25zdW1pbmdbY29zdC5yZXNvdXJjZV0pIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUZhY3Rvcmllc0NvbnN1bWluZ1tjb3N0LnJlc291cmNlXSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBjb25zdCBmYWN0b3JpZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmFjdG9yaWVzJyk7XHJcbiAgICBjb25zdCBmYWN0b3J5RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBmYWN0b3J5RGl2LmNsYXNzTmFtZSA9ICdmYWN0b3J5JztcclxuXHJcbiAgICBjb25zdCBsZWZ0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIGxlZnRUZXh0LmNsYXNzTGlzdC5hZGQoJ2ZhY3RvcnlDb3N0Jyk7XHJcbiAgICBjb25zdCByaWdodFNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG5cclxuICAgIC8vIFBvcHVsYXRlIHRoZSByaWdodCBkcm9wZG93blxyXG4gICAgT2JqZWN0LmtleXMoc3dpdGNoZWRNYW51ZmFjdHVyZWRNYXApLmZvckVhY2gocmVzb3VyY2UgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBvcHRpb24udmFsdWUgPSByZXNvdXJjZTtcclxuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSByZXNvdXJjZTtcclxuICAgICAgICByaWdodFNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG5cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICByaWdodFNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZHVjZWQnLCAnbm9uZScpO1xyXG5cclxuXHJcbiAgICByaWdodFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHByb2R1Y2VkIHJlc291cmNlIGZvciB0aGlzIGZhY3RvcnlcclxuICAgICAgICBjb25zdCBjdXJyZW50UHJvZHVjZWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9kdWNlZCcpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoY3VycmVudFByb2R1Y2VkICE9PSAnbm9uZScpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNyZXNvdXJjZS0ke2N1cnJlbnRQcm9kdWNlZH1gKS5zdHlsZS5jb2xvciA9ICcnO1xyXG5cclxuICAgICAgICBjb25zdCBuZXdQcm9kdWNlZCA9IHJpZ2h0U2VsZWN0LnZhbHVlO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgcmVzb3VyY2UgdHJhY2tpbmdcclxuICAgICAgICB1cGRhdGVGYWN0b3J5UmVzb3VyY2VUcmFja2luZyhjdXJyZW50UHJvZHVjZWQsIG5ld1Byb2R1Y2VkLCB0aGlzLmRhdGFzZXQuZmFjdG9yeUluZGV4KTtcclxuXHJcbiAgICAgICAgLy8gTm93IHVwZGF0ZSB0aGUgZGF0YXNldCBmb3IgdGhlIG5leHQgY2hhbmdlIGV2ZW50XHJcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZHVjZWQnLCBuZXdQcm9kdWNlZCk7XHJcblxyXG5cclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3Jlc291cmNlLSR7bmV3UHJvZHVjZWR9YCkuc3R5bGUuY29sb3IgPSAndGhpc3RsZSc7XHJcbiAgICAgICAgbGVmdFRleHQuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgbGVmdFRleHQuaW5uZXJIVE1MICs9IGAke3JlcXVpcmUoJy4vcmVzb3VyY2VzJykuZ2VuZXJhdGVUb29sdGlwQ29zdChjcmFmdGVkUmVzb3VyY2VzW3JpZ2h0U2VsZWN0LnZhbHVlXS5jb3N0KX1gO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEFkZCB0aGUgaW5pdGlhbCBvcHRpb24gZm9yIGxlZnQgc2VsZWN0XHJcbiAgICBmdW5jdGlvbiBhZGRJbml0aWFsT3B0aW9uKHNlbGVjdEVsZW1lbnQsIHRleHQpIHtcclxuICAgICAgICBjb25zdCBpbml0aWFsT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgaW5pdGlhbE9wdGlvbi52YWx1ZSA9ICcnO1xyXG4gICAgICAgIGluaXRpYWxPcHRpb24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgICAgIGluaXRpYWxPcHRpb24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGluaXRpYWxPcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHNlbGVjdEVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5pdGlhbE9wdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYXJyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICBhcnJvdy5pbm5lckhUTUwgPSAnJiM4NTk0Oyc7IC8vIFJpZ2h0IGFycm93IEhUTUwgZW50aXR5XHJcblxyXG4gICAgZmFjdG9yeURpdi5hcHBlbmRDaGlsZChsZWZ0VGV4dCk7XHJcbiAgICBmYWN0b3J5RGl2LmFwcGVuZENoaWxkKGFycm93KTtcclxuICAgIGZhY3RvcnlEaXYuYXBwZW5kQ2hpbGQocmlnaHRTZWxlY3QpO1xyXG5cclxuICAgIGFkZEluaXRpYWxPcHRpb24ocmlnaHRTZWxlY3QsICdTZWxlY3QgYSBSZXNvdXJjZScpO1xyXG5cclxuICAgIGZhY3Rvcmllc0NvbnRhaW5lci5hcHBlbmRDaGlsZChmYWN0b3J5RGl2KTtcclxuXHJcbiAgICByZXR1cm4gZmFjdG9yeURpdjtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvYWRGYWN0b3J5KGNyYWZ0aW5nKSB7XHJcbiAgICBsZXQgZGl2ID0gY3JlYXRlRmFjdG9yeURpdigpO1xyXG4gICAgZGl2LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpLnZhbHVlID0gY3JhZnRpbmc7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcmVzb3VyY2UtJHtjcmFmdGluZ31gKS5zdHlsZS5jb2xvciA9ICd0aGlzdGxlJztcclxuICAgIGRpdi5xdWVyeVNlbGVjdG9yKCcuZmFjdG9yeUNvc3QnKS5pbm5lckhUTUwgPSAnJztcclxuICAgIGRpdi5xdWVyeVNlbGVjdG9yKCcuZmFjdG9yeUNvc3QnKS5pbm5lckhUTUwgKz0gYCR7cmVxdWlyZSgnLi9yZXNvdXJjZXMnKS5nZW5lcmF0ZVRvb2x0aXBDb3N0KGNyYWZ0ZWRSZXNvdXJjZXNbY3JhZnRpbmddLmNvc3QpfWA7XHJcblxyXG59XHJcblxyXG5cclxubGV0IG1hbnVmYWN0dXJlQnVsayA9IDI7XHJcbmxldCBidWxrVXBncmFkZUNvc3QgPSAzMDtcclxubGV0IG1hbnVmYWN0dXJlQm9udXMgPSAxO1xyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nW119IHJlc291cmNlcyBBbGwgcmVzb3VyY2VzIHJlcXVpcmVkIGZvciB0aGUgY3JhZnRcclxuICogQHBhcmFtIHtzdHJpbmd9IGdvYWxSZXNvdXJjZSBXaGF0IHdlJ2xsIGJlIGNyYWZ0aW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBtYW51ZmFjdHVyZShyZXNvdXJjZXMsIGdvYWxSZXNvdXJjZSkge1xyXG4gICAgLy8gQ2FsY3VsYXRlIGhvdyBtYW55IHdlIGNhbiBhZmZvcmRcclxuICAgIGxldCBhcnIgPSBbXTtcclxuICAgIHJlc291cmNlcy5mb3JFYWNoKHJlc291cmNlID0+IGFyci5wdXNoKGdldE1hdGVyaWFsKHJlc291cmNlKSAvIGNyYWZ0ZWRSZXNvdXJjZXNbZ29hbFJlc291cmNlXS5jb3N0W3Jlc291cmNlXSkpO1xyXG4gICAgbGV0IG51bSA9IE1hdGgubWluKG1hbnVmYWN0dXJlQnVsaywgLi4uYXJyKTtcclxuICAgIGNvbnNvbGUubG9nKG51bSwgbWFudWZhY3R1cmVCdWxrLCAuLi5hcnIpO1xyXG4gICAgbnVtICo9IG1hbnVmYWN0dXJlQm9udXM7XHJcbiAgICAvLyBUaGUgZmFjdG9yaWVzIGdldCB0byBiZSBoYWxmIHByaWNlIG9mIG5vcm1hbCBjcmFmdGluZyBiYyBlZmZpY2llbmN5XHJcbiAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLmNyYWZ0UmVzb3VyY2VRdWFudGl0eShnb2FsUmVzb3VyY2UsIG51bSk7XHJcbiAgICAvLyBpbmNyZWFzZU1hdGVyaWFsKGdvYWxSZXNvdXJjZSwgbnVtKTtcclxuICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2UsIC1jcmFmdGVkUmVzb3VyY2VzW2dvYWxSZXNvdXJjZV0uY29zdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZ3JhZGVCdWxrKCkge1xyXG4gICAgbWFudWZhY3R1cmVCdWxrICs9IDI7XHJcbiAgICBidWxrVXBncmFkZUNvc3QgKz0gMTA7XHJcblxyXG4gICAgY29uc3QgdXBCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBncmFkZUJ1bGtCdXR0b24nKTtcclxuICAgIHVwQnV0dG9uLnNldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnLCBgJHttYW51ZmFjdHVyZUJ1bGt9IOKGkiAke21hbnVmYWN0dXJlQnVsayArIDJ9OiAke2J1bGtVcGdyYWRlQ29zdC50b0ZpeGVkKDApfSBzaWx2ZXJgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYXR0ZW1wdE1hbnVmYWN0dXJlKCkge1xyXG4gICAgY29uc3QgZmFjdG9yaWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZhY3RvcnknKTtcclxuICAgIGZhY3Rvcmllcy5mb3JFYWNoKGZhY3RvcnkgPT4ge1xyXG5cclxuICAgICAgICAvLyBjb25zdCBsZWZ0U2VsZWN0ID0gZmFjdG9yeS5xdWVyeVNlbGVjdG9yKCdzcGFuOmZpcnN0LWNoaWxkJyk7XHJcbiAgICAgICAgY29uc3QgcmlnaHRTZWxlY3QgPSBmYWN0b3J5LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdDpsYXN0LWNoaWxkJyk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNvbnN0IGdvYWxSZXNvdXJjZSA9IHJpZ2h0U2VsZWN0LnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IHJlc291cmNlcyA9IHN3aXRjaGVkTWFudWZhY3R1cmVkTWFwW2dvYWxSZXNvdXJjZV07XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjaGVja2luZyBmYWN0b3J5XCIsIGdvYWxSZXNvdXJjZSk7XHJcbiAgICAgICAgaWYgKHJlc291cmNlcyAmJiBnb2FsUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgbWFudWZhY3R1cmUocmVzb3VyY2VzLCBnb2FsUmVzb3VyY2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gQ2FsbCB0aGlzIGZ1bmN0aW9uIHdoZW5ldmVyIHlvdSB3YW50IHRvIHN0YXJ0IHRoZSBtYW51ZmFjdHVyaW5nIHByb2Nlc3NcclxuLy8gZm9yIGV4YW1wbGUsIGFmdGVyIGNyZWF0aW5nIHRoZSBmYWN0b3J5IGRpdnMgaW5pdGlhbGx5IG9yIGFmdGVyIGFkZGluZyBhIG5ldyBvbmVcclxuLy8gc3RhcnRNYW51ZmFjdHVyaW5nUHJvY2VzcygpO1xyXG4vLyBmdW5jdGlvbiBkZXRlcm1pbmVOZXdGYWN0b3J5Q29zdCgpIHtcclxuLy8gICAgIHZhciBjb3N0ID0gNTA7XHJcbi8vICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nKSkge1xyXG4vLyAgICAgICAgIGlmICh2YWwgPiAwKVxyXG4vLyAgICAgICAgICAgICBjb3N0ICo9IE1hdGgucG93KDEuMiwgdmFsKTtcclxuLy8gICAgIH1cclxuLy8gICAgIHJldHVybiBjb3N0O1xyXG4vLyB9XHJcbi8vIHZhciBuZXdGYWN0b3J5U2lsdmVyQ29zdCA9IGRldGVybWluZU5ld0ZhY3RvcnlDb3N0KCk7XHJcbnZhciBuZXdGYWN0b3J5U2lsdmVyQ29zdCA9IDUwO1xyXG5mdW5jdGlvbiBidXlGYWN0b3J5KCkge1xyXG4gICAgY29uc3QgYnV5RmFjdG9yeUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlGYWN0b3J5QnV0dG9uJyk7XHJcbiAgICBpZiAoZ2V0TWF0ZXJpYWwoJ3NpbHZlcicpIDwgbmV3RmFjdG9yeVNpbHZlckNvc3QpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnTm90IGVub3VnaCBzaWx2ZXIhJyk7IHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBIYXMgZW5vdWdoIHNpbHZlciB0byBhZmZvcmQgZmFjdG9yeVxyXG4gICAgcmVxdWlyZSgnLi9yZXNvdXJjZXMnKS5pbmNyZWFzZU1hdGVyaWFsKCdzaWx2ZXInLCAtbmV3RmFjdG9yeVNpbHZlckNvc3QpO1xyXG4gICAgY3JlYXRlRmFjdG9yeURpdigpO1xyXG5cclxuICAgIG5ld0ZhY3RvcnlTaWx2ZXJDb3N0ICo9IDEuMjtcclxuICAgIGJ1eUZhY3RvcnlCdXR0b24uc2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcsIGAke25ld0ZhY3RvcnlTaWx2ZXJDb3N0LnRvRml4ZWQoMil9IHNpbHZlcmApO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGNyZWF0ZUZhY3RvcnlEaXYsXHJcbiAgICBhdHRlbXB0TWFudWZhY3R1cmUsXHJcbiAgICBidXlGYWN0b3J5LFxyXG4gICAgdXBncmFkZUJ1bGssXHJcbiAgICBhbGxNYXRlcmlhbHMsXHJcbiAgICBnZXRGYWN0b3J5UHJvZHVjdGlvbixcclxuICAgIGxvYWRGYWN0b3J5LFxyXG4gICAgYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nXHJcbn07XHJcbiIsIi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF0ZXJpYWxcclxuICogQHJldHVybnNcclxuICovXHJcbmZ1bmN0aW9uIGdldENyYWZ0ZWRSZXNvdXJjZShtYXRlcmlhbCwgY3JhZnRlZFJlc291cmNlcykge1xyXG5cclxuICAgIG1hdGVyaWFsID0gbWF0ZXJpYWwudG9Mb3dlckNhc2UoKTtcclxuICAgIGlmICghY3JhZnRlZFJlc291cmNlcykge1xyXG4gICAgICAgIGNyYWZ0ZWRSZXNvdXJjZXMgPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpLmNyYWZ0ZWRSZXNvdXJjZXM7XHJcbiAgICAgICAgLy8gY29uc29sZS53YXJuKCdNaXNzaW5nIGNyYWZ0ZWRSZXNvdXJjZXMgZGVmaW5pdGlvbiwgbG9hZGluZyBkZWZhdWx0JywgY3JhZnRlZFJlc291cmNlcyk7XHJcbiAgICB9XHJcbiAgICBpZiAoY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShtYXRlcmlhbCkpIHtcclxuICAgICAgICByZXR1cm4gY3JhZnRlZFJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgfHwgMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gY29uc29sZS53YXJuKFwiSW52YWxpZCBjcmFmdGVkIHJlc291cmNlOlwiICsgbWF0ZXJpYWwpOyAvLyBGb3IgZGVidWdnaW5nXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5nZXRDcmFmdGVkUmVzb3VyY2UgPSBnZXRDcmFmdGVkUmVzb3VyY2U7XHJcbiIsImNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlIH0gPSByZXF1aXJlKCcuL2dldENyYWZ0ZWRSZXNvdXJjZScpO1xyXG4vLyBjb25zdCB7IGNyYWZ0ZWRSZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9jcmFmdGVkUmVzb3VyY2VzJyk7XHJcblxyXG4vLyBHZXQgZnVuY3Rpb24gZm9yIG1hdGVyaWFsc1xyXG4vKipcclxuICogR2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gbWF0ZXJpYWxcclxuICogQHBhcmFtIHtzdHJpbmd9IG1hdGVyaWFsXHJcbiAqIEByZXR1cm5zIFZhbHVlIG9mIG1hdGVyaWFsXHJcbiovXHJcbmZ1bmN0aW9uIGdldE1hdGVyaWFsKG1hdGVyaWFsLCByZXNvdXJjZXMpIHtcclxuICAgIGlmICghcmVzb3VyY2VzKSByZXNvdXJjZXMgPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJykucmVzb3VyY2VzO1xyXG4gICAgaWYgKHJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShtYXRlcmlhbCkpIHtcclxuICAgICAgICByZXR1cm4gcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5lcnJvcihcIkludmFsaWQgbWF0ZXJpYWw6XCIsIG1hdGVyaWFsKTsgIC8vIEZvciBkZWJ1Z2dpbmdcclxuICAgICAgICByZXR1cm4gZ2V0Q3JhZnRlZFJlc291cmNlKG1hdGVyaWFsLCBudWxsKTtcclxuXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5nZXRNYXRlcmlhbCA9IGdldE1hdGVyaWFsOyIsImNvbnN0IHsgaGFzUHJlc3RpZ2UsIGdldExldmVsT2ZQcmVzdGlnZSB9ID0gcmVxdWlyZSgnLi9qc29uL3ByZXN0aWdlJyk7XHJcbmNvbnN0IHsgcmVzb3VyY2VzLCBpc1Jlc291cmNlIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgc2tpbGxzIH0gPSByZXF1aXJlKCcuL2pzb24vc2tpbGxzJyk7XHJcbmNvbnN0IHsgdHJpZ2dlckZsb2F0VXBUZXh0IH0gPSByZXF1aXJlKCcuL3RyaWdnZXJGbG9hdFVwVGV4dCcpO1xyXG5cclxuXHJcblxyXG5cclxubGV0IGFsbFZpc2libGVCdXR0b25zID0gbmV3IFNldChbJ2dhdGhlclN0aWNrcyddKTtcclxuZXhwb3J0cy5hbGxWaXNpYmxlQnV0dG9ucyA9IGFsbFZpc2libGVCdXR0b25zO1xyXG5cclxuXHJcbi8vIENhbGN1bGF0ZSB0aGUgZmluYWwgbnVtYmVyIG9mIGNyYWZ0ZWQgZ29vZHMgZnJvbSBib251c2VzXHJcbmZ1bmN0aW9uIGNhbGNDcmFmdEJvbnVzKHJlc291cmNlS2V5KSB7XHJcbiAgICBsZXQgdG90YWwgPSAxO1xyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uYWZmZWN0ZWRSZXNvdXJjZXMuaW5jbHVkZXMocmVzb3VyY2VLZXkpKSB7XHJcbiAgICAgICAgICAgIGxldCBza2lsbFJhdGlvID0gMS4wNjtcclxuICAgICAgICAgICAgdmFyIG11bHQgPSAxICsgKE1hdGgucG93KHNraWxsUmF0aW8sIHNraWxsc1tza2lsbF0ubGV2ZWwpIC0gMSkgLyAxMDA7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTXVsdGlwbHlpbmcgZ2FpbiBieSBcIiArIG11bHQpO1xyXG4gICAgICAgICAgICB0b3RhbCAqPSBtdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdG90YWw7XHJcbn1cclxuXHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGdldEFmZmVjdGVkUmVzb3VyY2VzKHNraWxsKSB7XHJcbiAgICBpZiAoc2tpbGxzW3NraWxsXSkge1xyXG4gICAgICAgIHJldHVybiBza2lsbHNbc2tpbGxdLmFmZmVjdGVkUmVzb3VyY2VzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7ICAvLyBvciBhbiBlbXB0eSBhcnJheSBbXSwgYmFzZWQgb24geW91ciBwcmVmZXJlbmNlXHJcbn1cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF0ZXJpYWwgXHJcbiAqIEByZXR1cm5zIE1heCBvZiBtYXRlcmlhbCBvciBJbmZpbml0eVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TWF4KG1hdGVyaWFsKSB7XHJcbiAgICBpZiAoaXNSZXNvdXJjZShtYXRlcmlhbCkpIHtcclxuICAgICAgICBsZXQgbWF4ID0gcmVzb3VyY2VzW21hdGVyaWFsXS5tYXg7XHJcbiAgICAgICAgaWYgKGhhc1ByZXN0aWdlKCdzdG9yYWdlU3BhY2UnKSkgbWF4ICo9IDEuMDUgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ3N0b3JhZ2VTcGFjZScpO1xyXG4gICAgICAgIHJldHVybiBtYXg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBJbmZpbml0eTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJTaWRlYmFyKCkge1xyXG4gICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzb3VyY2VzXCIpO1xyXG4gICAgc2lkZWJhci5pbm5lckhUTUwgPSAnJztcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVNraWxscyhyZXNvdXJjZSwgbnVtKSB7XHJcbiAgICBudW0gPSBNYXRoLmFicyhudW0pO1xyXG4gICAgaWYgKHJlcXVpcmUoJy4vcG9uZGVyJykuaXNQb25kZXJlZCgnZmFzdGVyU2tpbGxzJykpIG51bSAqPSAxLjA1O1xyXG4gICAgLy8gXHJcbiAgICBmb3IgKGxldCBza2lsbCBpbiBza2lsbHMpIHtcclxuICAgICAgICAvLyBcclxuICAgICAgICBpZiAoc2tpbGxzW3NraWxsXS5hZmZlY3RlZFJlc291cmNlcy5pbmNsdWRlcyhyZXNvdXJjZSkpIHtcclxuICAgICAgICAgICAgLy8gbWF4IGxldmVsIDEwMFxyXG4gICAgICAgICAgICBpZiAoc2tpbGxzW3NraWxsXS5sZXZlbCA+PSAxMDApIHtcclxuICAgICAgICAgICAgICAgIHNraWxsc1tza2lsbF0ubGV2ZWwgPSAxMDA7XHJcbiAgICAgICAgICAgICAgICBza2lsbHNbc2tpbGxdLmV4cCA9IDA7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgc2tpbGxzW3NraWxsXS5leHAgKz0gbnVtIC8gTWF0aC5wb3coMS40LCBza2lsbHNbc2tpbGxdLmxldmVsKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJVcGRhdGluZyBza2lsbDpcIiArIHNraWxsICsgXCIgdG8gXCIgKyBza2lsbHNbc2tpbGxdLmV4cClcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoc2tpbGxzW3NraWxsXS5leHAgPj0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIHNraWxsc1tza2lsbF0ubGV2ZWwgKz0gMTtcclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgc2tpbGxzW3NraWxsXS5leHAgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJMZXZlbCBVcCEgXCIgKyBza2lsbCArIHNraWxsc1tza2lsbF0ubGV2ZWwpO1xyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICBsZXQgbGV2ZWx1cCA9IGBMZXZlbCB1cCEgJHtza2lsbH0g4oaSICR7c2tpbGxzW3NraWxsXS5sZXZlbH1gO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVzdGlnZScpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckZsb2F0VXBUZXh0KHJlY3QueCwgcmVjdC55LCBsZXZlbHVwLCAnI0Y0RDAzRicpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGxldmVsVXBNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSB0aGUgbWVzc2FnZSBhZnRlciAzIHNlY29uZHNcclxuICAgICAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gbGV2ZWxVcE1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgLy8gbGV2ZWxVcE1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAvLyB9LCAzMDAwKTsgLy8gMzAwMCBtaWxsaXNlY29uZHMgKDMgc2Vjb25kcylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyZXF1aXJlKCcuL3N0YWdlcycpLnBhc3NlZFN0YWdlKCdza2lsbHNUYWJsZScpKSB7XHJcbiAgICAgICAgcG9wdWxhdGVTa2lsbHNUYWJsZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSA9IGZhbHNlO1xyXG5cclxuZnVuY3Rpb24gcG9wdWxhdGVTa2lsbHNUYWJsZSgpIHtcclxuICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NraWxsc1RhYmxlJyk7XHJcblxyXG4gICAgLy8gSWYgdGhlIHRhYmxlIGlzIGVtcHR5LCBjcmVhdGUgdGhlIHJvd3MgYW5kIHByb2dyZXNzIGJhcnNcclxuICAgIGlmICghaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiR2VuZXJhdGluZyB0YWJsZSBmb3IgdGhlIGZpcnN0IHRpbWVcIik7XHJcbiAgICAgICAgaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSA9IHRydWU7XHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgICAgIGxldCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICAgICAgICAgIHRyLmlkID0gJ3RyLScgKyBza2lsbDtcclxuICAgICAgICAgICAgbGV0IHRkUHJvZ3Jlc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgICAgICAgICB0ZFByb2dyZXNzLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuXHJcbiAgICAgICAgICAgIGxldCBwcm9ncmVzc0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBwcm9ncmVzc0Jhci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3Byb2dyZXNzQmFyJyk7XHJcbiAgICAgICAgICAgIC8vIGlmIChpc0RhcmspIHtcclxuICAgICAgICAgICAgLy8gICAgIHByb2dyZXNzQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMjI4QjIyJztcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAvLyBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICAgIHByb2dyZXNzQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjNTBDODc4JztcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBwcm9ncmVzc0Jhci5zdHlsZS5oZWlnaHQgPSAnMjBweCc7XHJcbiAgICAgICAgICAgIHByb2dyZXNzQmFyLnNldEF0dHJpYnV0ZSgnZGF0YS1za2lsbCcsIHNraWxsKTsgLy8gQXNzaWduIGEgZGF0YSBhdHRyaWJ1dGUgZm9yIGlkZW50aWZpY2F0aW9uXHJcblxyXG4gICAgICAgICAgICBsZXQgc2tpbGxUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIHNraWxsVGV4dC50ZXh0Q29udGVudCA9ICdbJyArIHNraWxsc1tza2lsbF0ubGV2ZWwgKyAnXSAgICcgKyBza2lsbDtcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnNldEF0dHJpYnV0ZSgnaWQnLCAnbGV2ZWwtJyArIHNraWxsKTtcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnN0eWxlLmxlZnQgPSAnMTBweCc7XHJcbiAgICAgICAgICAgIHNraWxsVGV4dC5zdHlsZS50b3AgPSAnNTAlJztcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC01MCUpJztcclxuXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBpZiAoc2tpbGxzW3NraWxsXS5leHAgPT0gMCAmJiBza2lsbHNbc2tpbGxdLmxldmVsID09IDApIHtcclxuICAgICAgICAgICAgICAgIHRyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGRQcm9ncmVzcy5hcHBlbmRDaGlsZChwcm9ncmVzc0Jhcik7XHJcbiAgICAgICAgICAgIHRkUHJvZ3Jlc3MuYXBwZW5kQ2hpbGQoc2tpbGxUZXh0KTtcclxuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRQcm9ncmVzcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodHIpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gRGlzcGxheSBldmVyeXRoaW5nIHdlIGNhblxyXG4gICAgICAgIGZvciAobGV0IHNraWxsIGluIHNraWxscykge1xyXG5cclxuICAgICAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uZXhwID4gMCB8fCBza2lsbHNbc2tpbGxdLmxldmVsID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdHItJyArIHNraWxsKS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHByb2dyZXNzQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnByb2dyZXNzQmFyW2RhdGEtc2tpbGw9XCIke3NraWxsfVwiXWApO1xyXG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3NCYXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBza2lsbHNbc2tpbGxdLmV4cCArICclJztcclxuICAgICAgICAgICAgICAgIGxldCBza2lsbE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xldmVsLVwiICsgc2tpbGwpO1xyXG4gICAgICAgICAgICAgICAgc2tpbGxOYW1lLnRleHRDb250ZW50ID0gJ1snICsgc2tpbGxzW3NraWxsXS5sZXZlbCArICddICAgJyArIHNraWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gaXNCdXR0b25JZFZpc2libGUoaWQpIHtcclxuICAgIHJldHVybiBhbGxWaXNpYmxlQnV0dG9ucy5oYXMoaWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRWaXNpYmxlQnV0dG9uKGlkKSB7XHJcbiAgICBhbGxWaXNpYmxlQnV0dG9ucy5hZGQoaWQpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGdldE1heCxcclxuICAgIHVwZGF0ZVNraWxscyxcclxuICAgIHBvcHVsYXRlU2tpbGxzVGFibGUsXHJcbiAgICBjYWxjQ3JhZnRCb251cyxcclxuICAgIGlzQnV0dG9uSWRWaXNpYmxlLFxyXG4gICAgc2V0VmlzaWJsZUJ1dHRvbixcclxuICAgIGhhc0dlbmVyYXRlZFNraWxsVGFibGUsXHJcbiAgICBjbGVhclNpZGViYXIsXHJcbn07XHJcblxyXG4iLCIvKipcclxuICogQSBtYXAgb2YgYWxsIGpvYnMgdGhhdCByZXF1aXJlIGEgcG9uZGVyIHRvIGJlIHVubG9ja2VkXHJcbiAqXHJcbiAqIEpvYjogUmVxdWlyZWRQb25kZXJcclxuICovXHJcbmNvbnN0IGpvYlJlcXVpcmVkUG9uZGVycyA9IHtcclxuICAgICd0aGlua2luZyc6ICd0aGlua2luZycsXHJcbiAgICAnZmlzaGluZyc6ICdmaXNoaW5nJyxcclxuICAgICdzbWl0aGluZyc6ICdub3QtdW5sb2NrYWJsZScsXHJcbiAgICAnZmFybWluZyc6ICdhZ3JpY3VsdHVyZScsXHJcbiAgICAnY29tYmF0JzogJ2NvbWJhdCcsXHJcbiAgICAnaHVudGluZyc6ICdodW50aW5nJ1xyXG59O1xyXG5leHBvcnRzLmpvYlJlcXVpcmVkUG9uZGVycyA9IGpvYlJlcXVpcmVkUG9uZGVycztcclxuIiwiLy8gQHRzLW5vY2hlY2tcclxuLy8gREVQRU5EUyBPTjogc2tpbGxzLmpzLCBwb25kZXIuanNcclxuY29uc3QgeyBza2lsbHMgfSA9IHJlcXVpcmUoJy4vanNvbi9za2lsbHMnKTtcclxuY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuXHJcblxyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZShcIi4vcG9uZGVyXCIpO1xyXG5jb25zdCB7IGdldE1heCB9ID0gcmVxdWlyZSgnLi9oZWxwZXInKTtcclxuY29uc3QgeyB0cmlnZ2VyRmxvYXRVcFRleHQgfSA9IHJlcXVpcmUoJy4vdHJpZ2dlckZsb2F0VXBUZXh0Jyk7XHJcblxyXG4vKiBKT0JTIEZVTkNUSU9OQUxJVFkgKi9cclxuXHJcblxyXG5jb25zdCBqb2JDb3VudHMgPSB7fTtcclxuZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICBqb2JDb3VudHNbc2tpbGxdID0gMDtcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBqb2JzVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYnNUYWInKTtcclxuXHJcbk9iamVjdC5rZXlzKHNraWxscykuZm9yRWFjaChza2lsbCA9PiB7XHJcbiAgICBjb25zdCBqb2JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGpvYkRpdi5jbGFzc0xpc3QuYWRkKCdqb2ItYnV0dG9uJyk7XHJcbiAgICBqb2JEaXYuc2V0QXR0cmlidXRlKCdkYXRhLWpvYicsIHNraWxsKTtcclxuICAgIGpvYkRpdi5pZCA9ICdqb2ItYnV0dG9uLScgKyBza2lsbDtcclxuXHJcbiAgICBjb25zdCBkZWNyZW1lbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRlY3JlbWVudERpdi5jbGFzc0xpc3QuYWRkKCdidG4tZGVjcmVtZW50Jyk7XHJcbiAgICBkZWNyZW1lbnREaXYudGV4dENvbnRlbnQgPSAnLSc7XHJcbiAgICBqb2JEaXYuYXBwZW5kQ2hpbGQoZGVjcmVtZW50RGl2KTtcclxuXHJcbiAgICBjb25zdCBqb2JOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIGpvYk5hbWVTcGFuLmNsYXNzTGlzdC5hZGQoJ2pvYi1uYW1lJyk7XHJcbiAgICBqb2JOYW1lU3Bhbi50ZXh0Q29udGVudCA9IGAke3NraWxsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc2tpbGwuc2xpY2UoMSl9OiAwYDtcclxuICAgIGpvYkRpdi5hcHBlbmRDaGlsZChqb2JOYW1lU3Bhbik7XHJcblxyXG4gICAgY29uc3QgaW5jcmVtZW50RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBpbmNyZW1lbnREaXYuY2xhc3NMaXN0LmFkZCgnYnRuLWluY3JlbWVudCcpO1xyXG4gICAgaW5jcmVtZW50RGl2LnRleHRDb250ZW50ID0gJysnO1xyXG4gICAgam9iRGl2LmFwcGVuZENoaWxkKGluY3JlbWVudERpdik7XHJcblxyXG4gICAgam9ic1RhYi5hcHBlbmRDaGlsZChqb2JEaXYpO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idG4taW5jcmVtZW50JykuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3Qgam9iVHlwZSA9IHRoaXMuY2xvc2VzdCgnLmpvYi1idXR0b24nKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJyk7XHJcbiAgICAgICAgaWYgKGdldE1hdGVyaWFsKCdjbG9uZXMnLCByZXNvdXJjZXMpID4gZ2V0VG90YWxKb2JzKCkpIHtcclxuICAgICAgICAgICAgam9iQ291bnRzW2pvYlR5cGVdKys7XHJcbiAgICAgICAgICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwoJ2Nsb25lcycsIC0xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMoam9iVHlwZSwgam9iQ291bnRzW2pvYlR5cGVdKTtcclxuICAgICAgICB1cGRhdGVEaXNwbGF5KGpvYlR5cGUpO1xyXG4gICAgICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2cod29ya2Vyc0Rpc3RyaWJ1dGlvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IHggPSBldmVudC5jbGllbnRYOyAvLyBYIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrXHJcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudFk7IC8vIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2tcclxuICAgICAgICB0cmlnZ2VyRmxvYXRVcFRleHQoeCwgeSwgJysxIHdvcmtlcicsICdncmVlbicpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ0bi1kZWNyZW1lbnQnKS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBqb2JUeXBlID0gdGhpcy5jbG9zZXN0KCcuam9iLWJ1dHRvbicpLmdldEF0dHJpYnV0ZSgnZGF0YS1qb2InKTtcclxuICAgICAgICBpZiAoam9iQ291bnRzW2pvYlR5cGVdID4gMCkge1xyXG4gICAgICAgICAgICBqb2JDb3VudHNbam9iVHlwZV0tLTtcclxuICAgICAgICAgICAgLy8gaW5jcmVhc2VNYXRlcmlhbCgnY2xvbmVzJywgMSk7XHJcbiAgICAgICAgICAgIGRpc3RyaWJ1dGVXb3JrZXJzKGpvYlR5cGUsIGpvYkNvdW50c1tqb2JUeXBlXSk7XHJcbiAgICAgICAgICAgIHVwZGF0ZURpc3BsYXkoam9iVHlwZSk7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvdGFsKCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WDsgLy8gWCBjb29yZGluYXRlIG9mIHRoZSBjbGlja1xyXG4gICAgICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WTsgLy8gWSBjb29yZGluYXRlIG9mIHRoZSBjbGlja1xyXG4gICAgICAgICAgICB0cmlnZ2VyRmxvYXRVcFRleHQoeCwgeSwgJy0xIHdvcmtlcicsICdyZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0VG90YWxKb2JzKCkge1xyXG4gICAgdmFyIHRvdGFsID0gMDtcclxuICAgIGZvciAobGV0IGogaW4gam9iQ291bnRzKSB7XHJcbiAgICAgICAgdG90YWwgKz0gam9iQ291bnRzW2pdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvdGFsO1xyXG59XHJcblxyXG4vLyBHbG9iYWwgZm9yIHdoaWNoIHJlc291cmNlIGVhY2ggY2xvbmUgZ2F0aGVyc1xyXG5sZXQgd29ya2Vyc0Rpc3RyaWJ1dGlvbiA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gZGlzdHJpYnV0ZVdvcmtlcnMoc2tpbGwsIHRvdGFsV29ya2Vycykge1xyXG4gICAgaWYgKCFza2lsbHNbc2tpbGxdKSByZXR1cm4gbnVsbDsgIC8vIFJldHVybiBudWxsIGlmIHRoZSBza2lsbCBkb2Vzbid0IGV4aXN0XHJcblxyXG4gICAgbGV0IGFmZmVjdGVkUmVzb3VyY2VzID0gc2tpbGxzW3NraWxsXS5hZmZlY3RlZFJlc291cmNlcztcclxuXHJcbiAgICAvLyBGaWx0ZXIgYWZmZWN0ZWRSZXNvdXJjZXMgdG8gb25seSBjb250YWluIGtleXMgdGhhdCBhcmUgcHJlc2VudCBpbiB0aGUgcmVzb3VyY2VzIG1hcFxyXG4gICAgYWZmZWN0ZWRSZXNvdXJjZXMgPSBhZmZlY3RlZFJlc291cmNlcy5maWx0ZXIocmVzb3VyY2UgPT4gcmVzb3VyY2UgaW4gcmVzb3VyY2VzKTtcclxuXHJcbiAgICAvLyBsZXQgYTtcclxuICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgYWZmZWN0ZWRSZXNvdXJjZXMubGVuZ3RoOyBhID0gYWZmZWN0ZWRSZXNvdXJjZXNbaV0pIHtcclxuXHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coYSk7XHJcbiAgICAvLyAgICAgaWYgKCFyZXNvdXJjZXNbYV0pIHtcclxuXHJcbiAgICAvLyAgICAgICAgIGNvbnN0IGluZGV4ID0gYWZmZWN0ZWRSZXNvdXJjZXMuaW5kZXhPZihhKTtcclxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coYSwgaW5kZXgpO1xyXG4gICAgLy8gICAgICAgICBsZXQgeCA9IGFmZmVjdGVkUmVzb3VyY2VzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgKytpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKGFmZmVjdGVkUmVzb3VyY2VzKTtcclxuICAgIGxldCBudW1iZXJPZlJlc291cmNlcyA9IGFmZmVjdGVkUmVzb3VyY2VzLmxlbmd0aDtcclxuXHJcbiAgICAvLyBJbml0aWFsIGV2ZW4gZGlzdHJpYnV0aW9uXHJcbiAgICBsZXQgcGVyUmVzb3VyY2UgPSBNYXRoLmZsb29yKHRvdGFsV29ya2VycyAvIG51bWJlck9mUmVzb3VyY2VzKTtcclxuXHJcbiAgICAvLyBFdmVubHkgZGlzdHJpYnV0ZSB3b3JrZXJzIGFtb25nIHRoZSBhZmZlY3RlZCByZXNvdXJjZXNcclxuICAgIGZvciAobGV0IHJlc291cmNlIG9mIGFmZmVjdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgd29ya2Vyc0Rpc3RyaWJ1dGlvbi5zZXQocmVzb3VyY2UsIHBlclJlc291cmNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEaXN0cmlidXRlIGFueSByZW1haW5pbmcgd29ya2VycyBkdWUgdG8gcm91bmRpbmdcclxuICAgIGxldCByZW1haW5pbmdXb3JrZXJzID0gdG90YWxXb3JrZXJzIC0gKHBlclJlc291cmNlICogbnVtYmVyT2ZSZXNvdXJjZXMpO1xyXG4gICAgZm9yIChsZXQgcmVzb3VyY2Ugb2YgYWZmZWN0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICBpZiAocmVtYWluaW5nV29ya2VycyA+IDApIHtcclxuICAgICAgICAgICAgd29ya2Vyc0Rpc3RyaWJ1dGlvbi5zZXQocmVzb3VyY2UsIHdvcmtlcnNEaXN0cmlidXRpb24uZ2V0KHJlc291cmNlKSArIDEpO1xyXG4gICAgICAgICAgICByZW1haW5pbmdXb3JrZXJzLS07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKHdvcmtlcnNEaXN0cmlidXRpb24pO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0V29ya2VycyhyZXNvdXJjZU5hbWUpIHtcclxuICAgIHJldHVybiB3b3JrZXJzRGlzdHJpYnV0aW9uLmdldChyZXNvdXJjZU5hbWUpO1xyXG59XHJcblxyXG4vLyBjb25zdCBhbGxKb2JCdXR0b25icyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qb2ItYnV0dG9uJyk7XHJcbmZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoam9iVHlwZSkge1xyXG4gICAgY29uc3QgdGhpc0pvYkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qb2ItYnV0dG9uW2RhdGEtam9iPVwiJHtqb2JUeXBlfVwiXWApO1xyXG4gICAgaWYgKCF0aGlzSm9iQnV0dG9uKSBjb25zb2xlLndhcm4oXCJDb3VsZG4ndCBmaW5kIGpvYiBidXR0b24gZm9yIGpvYjogXCIsIGpvYlR5cGUpO1xyXG4gICAgY29uc3Qgam9iRWxlbWVudCA9IHRoaXNKb2JCdXR0b24ucXVlcnlTZWxlY3RvcihgLmpvYi1uYW1lYCk7XHJcbiAgICBpZiAoam9iRWxlbWVudCkgam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGAke2pvYlR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBqb2JUeXBlLnNsaWNlKDEpfTogJHtqb2JDb3VudHNbam9iVHlwZV19YDtcclxuXHJcbiAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLnVwZGF0ZUVtb2ppRGlzcGxheSgpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSB0b3RhbCBhc3NpZ25lZCBjbG9uZXMgY291bnRlclxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlVG90YWwoKSB7XHJcbiAgICBjb25zdCB0b3RhbEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjam9icy10b3RhbCcpO1xyXG4gICAgdG90YWxFbGVtZW50LnRleHRDb250ZW50ID0gXCJBc3NpZ25lZCBDbG9uZXM6IFwiICsgZ2V0VG90YWxKb2JzKCkgKyBcIiAvIFwiICsgZ2V0TWF4KCdjbG9uZXMnKTtcclxufVxyXG5cclxuXHJcbmxldCBzdGFydEJ1dHRvbiA9IG51bGw7XHJcbmxldCBjb25uZWN0aW9ucyA9IG5ldyBNYXAoKTsgIC8vIE1hcCB0byBzdG9yZSBjb25uZWN0aW9uc1xyXG5sZXQgbWFuYWdlbWVudCA9IHsgJ2Nvbm5lY3Rpb25zJzogY29ubmVjdGlvbnMsICdtaW5zJzoge30sICdtYXhlcyc6IHt9LCAndHJpZ2dlcnMnOiB7fSB9O1xyXG5sZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbmVDYW52YXMnKTtcclxuXHJcbmZ1bmN0aW9uIHNldENvbm5lY3Rpb25zKG5ld0Nvbm5lY3Rpb25zKSB7XHJcbiAgICBjb25uZWN0aW9ucyA9IG5ld0Nvbm5lY3Rpb25zO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb25uZWN0aW9ucygpIHtcclxuICAgIHJldHVybiBjb25uZWN0aW9ucztcclxufVxyXG5cclxuLy8gaWYgKGNhbnZhcykge1xyXG4vLyBAdHMtaWdub3JlXHJcbmxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuLy8gQHRzLWlnbm9yZVxyXG5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuLy8gQHRzLWlnbm9yZVxyXG5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4vLyB9XHJcblxyXG4vLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9iLWJ1dHRvbicpO1xyXG5cclxuLy8gICAgIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4vLyAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbi8vICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuYnRuLWRlY3JlbWVudCcpIHx8IGUudGFyZ2V0LmNsb3Nlc3QoJy5idG4taW5jcmVtZW50JykpIHJldHVybjtcclxuXHJcbi8vICAgICAgICAgICAgIGlmICghaXNQb25kZXJlZCgnbWFuYWdlbWVudCcpKSByZXR1cm47XHJcblxyXG4vLyAgICAgICAgICAgICBsZXQgam9iQnV0dG9uID0gZS50YXJnZXQuY2xvc2VzdCgnLmpvYi1idXR0b24nKTtcclxuXHJcbi8vICAgICAgICAgICAgIGlmIChqb2JCdXR0b24pIHtcclxuLy8gICAgICAgICAgICAgICAgIGlmICghc3RhcnRCdXR0b24pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdGFydEJ1dHRvbiA9IGpvYkJ1dHRvbjtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdGFydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQnKTtcclxuLy8gICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRCdXR0b24uaWQgJiYgam9iQnV0dG9uLmlkKSB7IC8vIEVuc3VyZSBib3RoIElEcyBhcmUgYXZhaWxhYmxlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuc2V0KHN0YXJ0QnV0dG9uLmlkLCBqb2JCdXR0b24uaWQpO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IGFsbCBjb25uZWN0aW9uc1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGRyYXdBbGxDb25uZWN0aW9ucygpO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgICAgICAvLyBSZXNldFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uID0gbnVsbDtcclxuLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTWlzc2luZyBJRCBmb3Igb25lIG9mIHRoZSBidXR0b25zOicsIHN0YXJ0QnV0dG9uLCBqb2JCdXR0b24pO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2xpY2tlZCBlbGVtZW50IGlzIG5vdCBpbnNpZGUgYSBqb2IgYnV0dG9uOicsIGUudGFyZ2V0KTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0pO1xyXG5cclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChlKSB7XHJcbi8vICAgICAgICAgaWYgKHN0YXJ0QnV0dG9uKSB7XHJcbi8vICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIERyYXcgZXhpc3RpbmcgY29ubmVjdGlvbnNcclxuLy8gICAgICAgICAgICAgZHJhd0FsbENvbm5lY3Rpb25zKCk7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBEcmF3IHRoZSBsaW5lIGZyb20gc3RhcnRCdXR0b24gdG8gY3VycmVudCBtb3VzZSBwb3NpdGlvblxyXG4vLyAgICAgICAgICAgICBkcmF3TGluZShzdGFydEJ1dHRvbiwgZS5jbGllbnRYLCBlLmNsaWVudFkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG4vLyB9KTtcclxuXHJcbmZ1bmN0aW9uIGRyYXdBbGxDb25uZWN0aW9ucygpIHtcclxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgIHRyeSB7XHJcblxyXG5cclxuICAgICAgICBmb3IgKGxldCBbb2xkSWQsIG5ld0lkXSBvZiBjb25uZWN0aW9ucy5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgbGV0IG9sZEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9sZElkKTtcclxuICAgICAgICAgICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5ld0lkKTtcclxuICAgICAgICAgICAgbGV0IHJlY3QgPSBuZXdCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIGxldCBuZXdYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIGxldCBuZXdZID0gMDtcclxuICAgICAgICAgICAgaWYgKHJlY3QuYm90dG9tID4gb2xkQnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSkgbmV3WSA9IG5ld0J1dHRvbi5vZmZzZXRUb3AgLSAxMDtcclxuICAgICAgICAgICAgZWxzZSBuZXdZID0gbmV3QnV0dG9uLm9mZnNldFRvcCArIG5ld0J1dHRvbi5vZmZzZXRIZWlnaHQgKyAxMDtcclxuICAgICAgICAgICAgZHJhd0xpbmUob2xkQnV0dG9uLCBuZXdYLCBuZXdZKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgY29uc29sZS53YXJuKCdkcmF3QWxsQ29ubmVjdGlvbnMnLCBlcnJvcik7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0Fycm93aGVhZChjb250ZXh0LCBmcm9tWCwgZnJvbVksIHRvWCwgdG9ZLCByYWRpdXMpIHtcclxuICAgIGxldCB4X2NlbnRlciA9IHRvWDtcclxuICAgIGxldCB5X2NlbnRlciA9IHRvWTtcclxuXHJcbiAgICBsZXQgYW5nbGU7XHJcbiAgICBsZXQgeDtcclxuICAgIGxldCB5O1xyXG5cclxuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgYW5nbGUgPSBNYXRoLmF0YW4yKHRvWSAtIGZyb21ZLCB0b1ggLSBmcm9tWCk7XHJcbiAgICB4ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpICsgeF9jZW50ZXI7XHJcbiAgICB5ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpICsgeV9jZW50ZXI7XHJcblxyXG4gICAgY29udGV4dC5tb3ZlVG8oeCwgeSk7XHJcblxyXG4gICAgYW5nbGUgKz0gKDEgLyAzKSAqICgyICogTWF0aC5QSSk7XHJcbiAgICB4ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpICsgeF9jZW50ZXI7XHJcbiAgICB5ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpICsgeV9jZW50ZXI7XHJcblxyXG4gICAgY29udGV4dC5saW5lVG8oeCwgeSk7XHJcblxyXG4gICAgYW5nbGUgKz0gKDEgLyAzKSAqICgyICogTWF0aC5QSSk7XHJcbiAgICB4ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpICsgeF9jZW50ZXI7XHJcbiAgICB5ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpICsgeV9jZW50ZXI7XHJcblxyXG4gICAgY29udGV4dC5saW5lVG8oeCwgeSk7XHJcblxyXG4gICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuXHJcbiAgICBjb250ZXh0LmZpbGwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0xpbmUoc3RhcnRFbGVtZW50LCBlbmRYLCBlbmRZKSB7XHJcbiAgICBsZXQgcmVjdCA9IHN0YXJ0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIC8vIGxldCBvZmZzZXQgPSBNYXRoLnJhbmRvbSgpICogMTAwICsgMTAwXHJcbiAgICBsZXQgc3RhcnRYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7IC8vIC0gb2Zmc2V0O1xyXG4gICAgLy8gZW5kWCAtPSBvZmZzZXQ7XHJcbiAgICBsZXQgc3RhcnRZID0gc2Nyb2xsWSArIHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xyXG5cclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xyXG4gICAgY3R4LmxpbmVUbyhlbmRYLCBlbmRZKTtcclxuICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAvLyBEcmF3IGFycm93IGF0IHRoZSBlbmQgb2YgdGhlIGxpbmVcclxuICAgIGRyYXdBcnJvd2hlYWQoY3R4LCBzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSwgMTApOyAgLy8gYWRqdXN0IHRoZSBsYXN0IHBhcmFtZXRlciBmb3IgYXJyb3cgc2l6ZVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhckpvYkFzc2lnbm1lbnRzKCkge1xyXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgY29ubmVjdGlvbnMgPSBuZXcgTWFwKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMoKSB7XHJcbiAgICAvLyBGb3IgZWFjaCBjb25uZWN0aW9uXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBjb25uZWN0aW9ucy5lbnRyaWVzKCk7XHJcbiAgICAgICAgaWYgKGVudHJpZXMgPT09IHVuZGVmaW5lZCkgdGhyb3cgJ0VudHJpZXMgaXMgdW5kZWZpbmVkJztcclxuXHJcbiAgICAgICAgZm9yIChsZXQgW29sZEpvYklkLCBuZXdKb2JJZF0gb2YgZW50cmllcykge1xyXG4gICAgICAgICAgICBsZXQgb2xkSm9iQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2xkSm9iSWQpO1xyXG4gICAgICAgICAgICBsZXQgZGF0YUpvYiA9IG9sZEpvYkJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBvbGRJZCA9IG9sZEpvYklkLnJlcGxhY2UoJ2pvYi1idXR0b24tJywgJycpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdJZCA9IG5ld0pvYklkLnJlcGxhY2UoJ2pvYi1idXR0b24tJywgJycpO1xyXG4gICAgICAgICAgICBsZXQgbWF4ZWRPdXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgbGV0IHJlc291cmNlQXJyYXkgPSBza2lsbHNbZGF0YUpvYl0uYWZmZWN0ZWRSZXNvdXJjZXM7XHJcbiAgICAgICAgICAgIGlmICghcmVzb3VyY2VBcnJheSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZUFycmF5KTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIHJlc291cmNlQXJyYXkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcl0gIT09IHVuZGVmaW5lZCAmJiBnZXRNYXRlcmlhbChyKSA8IHJlc291cmNlc1tyXS5tYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyLCBnZXRNYXRlcmlhbChyKSwgcmVzb3VyY2VzW3JdLm1heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ZWRPdXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG1heGVkT3V0ICYmIGpvYkNvdW50c1tkYXRhSm9iXSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaEpvYihvbGRJZCwgbmV3SWQpO1xyXG4gICAgICAgICAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMob2xkSWQsIGpvYkNvdW50c1tvbGRJZF0pO1xyXG4gICAgICAgICAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMobmV3SWQsIGpvYkNvdW50c1tuZXdJZF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAocmVzb3VyY2VzW2FmZmVjdGVkUmVzb3VyY2VdLmN1cnJlbnRWYWx1ZSA+PSByZXNvdXJjZXNbYWZmZWN0ZWRSZXNvdXJjZV0ubWF4VmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gICAgIHN3aXRjaEpvYihvbGRKb2JJZCwgbmV3Sm9iSWQpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgY29uc29sZS53YXJuKCdyZWFzc2lnbkpvYnMnLCBlcnJvcik7IH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN3aXRjaEpvYihvbGRKb2JJZCwgbmV3Sm9iSWQpIHtcclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gc3dpdGNoZXMgd29ya2VycyBmcm9tIG9sZEpvYiB0byBuZXdKb2IuXHJcbiAgICAvLyBEZXBlbmRpbmcgb24geW91ciBhcHBsaWNhdGlvbiBzdHJ1Y3R1cmUsIHlvdSBjYW4gaW1wbGVtZW50IHRoaXMgZnVuY3Rpb24gYWNjb3JkaW5nbHkuXHJcbiAgICAvLyBGb3IgZXhhbXBsZSwgcmVkdWNlIHRoZSBjb3VudCBvZiB3b3JrZXJzIGluIG9sZEpvYiBhbmQgaW5jcmVhc2UgaW4gbmV3Sm9iLlxyXG4gICAgLy8gY29uc29sZS5sb2coYFN3aXRjaGluZyB3b3JrZXJzIGZyb20gJHtvbGRKb2JJZH0gdG8gJHtuZXdKb2JJZH1gKTtcclxuXHJcbiAgICBsZXQgd29ya2VycyA9IGpvYkNvdW50c1tvbGRKb2JJZF07XHJcbiAgICBqb2JDb3VudHNbb2xkSm9iSWRdID0gMDtcclxuICAgIGpvYkNvdW50c1tuZXdKb2JJZF0gKz0gd29ya2VycztcclxuICAgIHVwZGF0ZURpc3BsYXkob2xkSm9iSWQpO1xyXG4gICAgdXBkYXRlRGlzcGxheShuZXdKb2JJZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0QWxsSm9icygpIHtcclxuICAgIC8vIGpvYkNvdW50cyA9IHt9O1xyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgam9iQ291bnRzW3NraWxsXSA9IDA7XHJcbiAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMoc2tpbGwsIDApO1xyXG4gICAgICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheShza2lsbCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY2xlYXJKb2JBc3NpZ25tZW50cyxcclxuICAgIHJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMsXHJcbiAgICBzd2l0Y2hKb2IsXHJcbiAgICBkcmF3QWxsQ29ubmVjdGlvbnMsXHJcbiAgICBnZXRXb3JrZXJzLFxyXG4gICAgdXBkYXRlVG90YWwsXHJcbiAgICBzZXRDb25uZWN0aW9ucyxcclxuICAgIGdldENvbm5lY3Rpb25zLFxyXG4gICAgZGlzdHJpYnV0ZVdvcmtlcnMsXHJcbiAgICB1cGRhdGVEaXNwbGF5LFxyXG4gICAgam9iQ291bnRzLFxyXG4gICAgcmVzZXRBbGxKb2JzXHJcbn07IiwiY29uc3QgeyBoYXNQZXJrIH0gPSByZXF1aXJlKFwiLi4vcGVya3NcIik7XHJcbmNvbnN0IHsgcmVjYWxjTWF4Q2xvbmVzIH0gPSByZXF1aXJlKFwiLi4vcmVjYWxjTWF4Q2xvbmVzXCIpO1xyXG5jb25zdCB7IHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0IH0gPSByZXF1aXJlKFwiLi4vcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3RcIik7XHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCB9ID0gcmVxdWlyZShcIi4uL3VwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnRcIik7XHJcblxyXG5jb25zdCBidWlsZGluZ3MgPSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIT1VTSU5HXHJcbiAgICAgKi9cclxuICAgIFwic2hlbHRlclwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwic3RpY2tzXCI6IDMwIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJjbG9uZXNcIjogMSB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZvciB3aGVuIHlvdSBuZWVkIGEgaG9tZSBhd2F5IGZyb20gaG9tZS5cIixcclxuICAgICAgICBlbW9qaTogJ+WFqydcclxuICAgIH0sXHJcbiAgICAnaHV0Jzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7ICdzdGlja3MnOiA1MCwgJ3ZpbmVzJzogMzAgfSxcclxuICAgICAgICAnZWZmZWN0cyc6IHsgJ2Nsb25lcyc6IDEgfSxcclxuICAgICAgICBib29zdDoge30sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0EgY296eSwgaWR5bGxpYyBjaHVuayBvZiB3b29kLicsXHJcbiAgICAgICAgZW1vamk6ICflhoInXHJcbiAgICB9LFxyXG4gICAgXCJob3VzZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwid29vZFwiOiA1MCwgXCJyb2Nrc1wiOiAyMCwgJ2Zpc2gnOiAxMCB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwiY2xvbmVzXCI6IDIgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuNCxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJFdmVyeSBjbG9uZSdzIGRyZWFtLiBNaW51cyB0aGUgd2hpdGUgcGlja2V0IGZlbmNlLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn5LuLJ1xyXG4gICAgfSxcclxuICAgICd0ZWVwZWUnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgJ3dvb2QnOiAxMCwgJ2hpZGVzJzogMjUsICdmaXNoJzogMTUgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICdjbG9uZXMnOiAyIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV3JhcCBzb21lIGhpZGVzIGFyb3VuZCBzb21lIHdvb2QgYW5kIGNhbGwgaXQgYSBob21lLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn56m0J1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNUT1JBR0VcclxuICAgICAqL1xyXG4gICAgXCJzaGVkXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHsgXCJ3b29kXCI6IDQwIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJ3b29kXCI6IDUwLCBcInN0aWNrc1wiOiA1MCwgXCJyb2Nrc1wiOiAyMCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4xLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlRoZSB1bHRpbWF0ZSBzdG9yYWdlIHNvbHV0aW9uIGZvciB0aGUgcGFjayByYXQgaW4geW91LlwiLFxyXG4gICAgICAgIGVtb2ppOiAn5LiqJ1xyXG4gICAgfSxcclxuICAgICdzdG9ja3BpbGUnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgcm9ja3M6IDMwIH0sXHJcbiAgICAgICAgZWZmZWN0czogeyB3b29kOiAxMDAgfSxcclxuICAgICAgICByYXRpbzogMS4xLFxyXG4gICAgICAgIGJvb3N0OiB7fSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJDaHVjayBhIGJ1bmNoIG9mIGxvZ3MgaW4gYSBwaWxlLCB3aGF0IGNvdWxkIGhhcHBlbj9cIixcclxuICAgICAgICBlbW9qaTogJ+WTgSdcclxuICAgIH0sXHJcbiAgICBcImRyeWluZ19yYWNrc1wiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwic3RpY2tzXCI6IDMwLCBcImZpc2hcIjogNSB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwiZmlzaFwiOiAyMCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4xLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkFpciBkcnlpbmc6IE5hdHVyZSdzIHdheSBvZiBwcmVzZXJ2aW5nIGZvb2QuXCIsXHJcbiAgICAgICAgZW1vamk6ICflm5snXHJcbiAgICB9LFxyXG4gICAgXCJ3b3Jrc2hvcFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwid29vZFwiOiA0MCwgXCJzdGlja3NcIjogMjAsIFwicm9ja3NcIjogMTAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyAncm9ja3MnOiA1MCwgJ29yZSc6IDUwLCAnc2FuZCc6IDEwMCwgJ2NsYXknOiA1MCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkRJWSdzIGRyZWFtIGRlc3RpbmF0aW9uLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOOsCdcclxuICAgIH0sXHJcbiAgICAnYmFybic6IHtcclxuICAgICAgICAnYmFzZWNvc3QnOiB7ICd3b29kJzogMzAsICd3aGVhdCc6IDUgfSxcclxuICAgICAgICAnZWZmZWN0cyc6IHsgJ3doZWF0JzogMTAwLCAnYmVycmllcyc6IDQwLCAndmluZXMnOiA0MCB9LFxyXG4gICAgICAgICdib29zdCc6IHt9LFxyXG4gICAgICAgICdjb3VudCc6IDAsXHJcbiAgICAgICAgJ3JhdGlvJzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkhheSwgd2hhdCdzIGluIHRoYXQgYnVpbGRpbmc/XCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4+GJ1xyXG4gICAgfSxcclxuICAgICdoZXJiYWxpc3RfaHV0Jzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7ICdzdGlja3MnOiA1MCwgJ3ZpbmVzJzogNTAsICdoZXJicyc6IDUwIH0sXHJcbiAgICAgICAgZWZmZWN0czogeyAnaGVyYnMnOiAxMDAsICd2aW5lcyc6IDEwMCB9LFxyXG4gICAgICAgIGJvb3N0OiB7ICdoZXJicyc6IDEuMiwgdmluZXM6IDEuMSB9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQSBwbGFjZSBmb3IgYnJld2luZyBhbmQgc3Rld2luZy5cIixcclxuICAgICAgICBlbW9qaTogJ/CTj4MnXHJcbiAgICB9LFxyXG4gICAgXCJiYWtlcnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogODAsXHJcbiAgICAgICAgICAgIFwid2hlYXRcIjogMTAwLFxyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDQwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyAnd2hlYXQnOiAyMDAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMjUsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkZyZXNobHkgYmFrZWQgYnJlYWQsIGhvdCBhbmQgcmVhZHkuXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4+WJ1xyXG5cclxuICAgIH0sXHJcbiAgICBcImFuaW1hbF9wZW5cIjoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7XHJcbiAgICAgICAgICAgIHN0aWNrczogNTAsXHJcbiAgICAgICAgICAgIGdhbWU6IDIwLFxyXG4gICAgICAgICAgICBmaXNoOiAyNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWZmZWN0czogeyAnZ2FtZSc6IDEwMCwgJ2hpZGVzJzogMzAgfSxcclxuICAgICAgICBib29zdDoge30sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIHBsYWNlIHRvIHB1dCB0aG9zZSBsZXNzZXIgdGhhbiB5b3UuXCIsXHJcbiAgICAgICAgZW1vamk6ICfnmr8nXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBST0RVQ1RJT04gQk9PU1RcclxuICAgICAqL1xyXG4gICAgXCJncm92ZVwiOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgJ3dvb2QnOiAyMCwgJ3ZpbmVzJzogMjAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7fSxcclxuICAgICAgICBib29zdDogeyAnd29vZCc6IDEuMDUsICdzdGlja3MnOiAxLjEgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkEgbmljZSBncm92ZSBvZiB0cmVlcyB0byBmaW5kIHdvb2QgZmFzdGVyLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOGrfCThq0nXHJcbiAgICB9LFxyXG4gICAgXCJmaXNoX3RyYXBzXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb3BlXCI6IDQwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiZmlzaFwiOiAxLjA1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRmlzaGluZyBtYWRlIGVhc3kuIE5vIHBhdGllbmNlIHJlcXVpcmVkLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn5LqVJ1xyXG4gICAgfSxcclxuICAgIFwibWluZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogMzAsXHJcbiAgICAgICAgICAgIFwid29vZFwiOiAzMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcIm9yZVwiOiAxLjA1LCAncm9ja3MnOiAxLjA1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRGlnIGRlZXAgYW5kIGZpbmQgeW91ciBpbm5lciBvcmUuXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4qNJ1xyXG4gICAgfSxcclxuICAgIFwiY2FtcGZpcmVcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDIwLFxyXG4gICAgICAgICAgICBcInN0aWNrc1wiOiAyMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjogeyAnYWxsJzogMS4wNSB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuNSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJXaGVyZSBzdG9yaWVzIGFyZSB0b2xkIGFuZCBtYXJzaG1hbGxvd3MgYXJlIHRvYXN0ZWQuXCIsXHJcbiAgICAgICAgZW1vamk6ICfngasnXHJcbiAgICB9LFxyXG4gICAgXCJsdW1iZXJfeWFyZFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAyMDAsXHJcbiAgICAgICAgICAgIFwiaXJvblwiOiAxXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxLjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJXb29kIHlvdSBsaWtlIHNvbWUgbW9yZSB3b29kP1wiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOMjydcclxuICAgIH0sXHJcbiAgICBcInN0b25lX3F1YXJyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNTAsXHJcbiAgICAgICAgICAgIFwid29vZFwiOiAyMCxcclxuICAgICAgICAgICAgXCJyb3BlXCI6IDMwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiUm9jayBvbiB3aXRoIHlvdXIgYmFkIHNlbGYhXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4qOJ1xyXG4gICAgfSxcclxuICAgIFwiZmlzaGVyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiA0MCxcclxuICAgICAgICAgICAgXCJyb3BlXCI6IDE1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiZmlzaFwiOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGaXNoIGFyZSBmcmllbmRzLiBBbmQgZm9vZC5cIixcclxuICAgICAgICBlbW9qaTogJ/CTjKQnXHJcbiAgICB9LFxyXG4gICAgXCJ2aW5leWFyZFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAyMCxcclxuICAgICAgICAgICAgXCJ2aW5lc1wiOiA1MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcInZpbmVzXCI6IDEuMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZvciB0aGUgZmluZXN0IHZpbmVzLiBXaGF0IGVsc2Ugd291bGQgaXQgZ3Jvdz9cIixcclxuICAgICAgICBlbW9qaTogJ/CfnIwnXHJcbiAgICB9LFxyXG4gICAgXCJmb3JnZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNDAsXHJcbiAgICAgICAgICAgIFwib3JlXCI6IDIwLFxyXG4gICAgICAgICAgICBcIndvb2RcIjogMTAwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwib3JlXCI6IDEuMlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIk1lbHQsIG1vbGQsIGFuZCBtYWtlIG1hcnZlbG91cyBtZXRhbHMuXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4qrJ1xyXG4gICAgfSxcclxuICAgICd3YXRlcl9wdW1wJzoge1xyXG4gICAgICAgICdiYXNlY29zdCc6IHtcclxuICAgICAgICAgICAgJ3JvY2tzJzogMzAsXHJcbiAgICAgICAgICAgICdyb3BlJzogMSxcclxuICAgICAgICAgICAgJ3dvb2QnOiAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2VmZmVjdHMnOiB7ICdmcmVzaHdhdGVyJzogMzAgfSxcclxuICAgICAgICAnYm9vc3QnOiB7XHJcbiAgICAgICAgICAgICdmcmVzaHdhdGVyJzogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnY291bnQnOiAwLFxyXG4gICAgICAgICdyYXRpbyc6IDEuNCxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGcmVzaCB3YXRlciBvbiBkZW1hbmQhXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4+CJ1xyXG4gICAgfSxcclxuICAgICd0b3dlcic6IHtcclxuICAgICAgICAnYmFzZWNvc3QnOiB7XHJcbiAgICAgICAgICAgICdicmlja3MnOiAyMCxcclxuICAgICAgICAgICAgJ3JvY2tzJzogMTAsXHJcbiAgICAgICAgICAgICd3b29kJzogMzBcclxuICAgICAgICB9LFxyXG4gICAgICAgICdlZmZlY3RzJzoge30sXHJcbiAgICAgICAgJ2Jvb3N0JzogeyAnaGlkZXMnOiAxLjA1LCAnZ2FtZSc6IDEuMSB9LFxyXG4gICAgICAgICdjb3VudCc6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJTZWUgdGhpbmdzIGZyb20gYWZhci5cIixcclxuICAgICAgICBlbW9qaTogJ/CTiqInXHJcbiAgICB9LFxyXG4gICAgXCJ0YW5uZXJ5XCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDYwLFxyXG4gICAgICAgICAgICBcImhpZGVzXCI6IDQwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyAnaGlkZXMnOiA1MCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcImhpZGVzXCI6IDEuMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIFwidG9vbHRpcERlc2NcIjogXCJUcmVhdCBoaWRlcyB0byBtYWtlIHF1YWxpdHkgbGVhdGhlci5cIixcclxuICAgICAgICBlbW9qaTogJ/CTg5QnXHJcbiAgICB9LFxyXG4gICAgXCJtYXJrZXRwbGFjZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxMDAsXHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNTAsXHJcbiAgICAgICAgICAgIFwiYmVycmllc1wiOiA0MCxcclxuICAgICAgICAgICAgXCJnb2xkXCI6IDFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJiZXJyaWVzXCI6IDEuMixcclxuICAgICAgICAgICAgXCJoZXJic1wiOiAxLjIsXHJcbiAgICAgICAgICAgICdvcmUnOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMjUsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkEgYnVzdGxpbmcgaHViIG9mIHRyYWRlIGFuZCBiYXJ0ZXIuXCIsXHJcbiAgICAgICAgZW1vamk6ICfigr8nXHJcbiAgICB9LFxyXG4gICAgXCJ3aW5kbWlsbFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxMDAsXHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNjAsXHJcbiAgICAgICAgICAgIFwid2hlYXRcIjogNTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3aGVhdFwiOiAxLjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICBcInRvb2x0aXBEZXNjXCI6IFwiR3JpbmQgZ3JhaW5zIGVmZmljaWVudGx5IHdpdGggd2luZCBwb3dlci5cIixcclxuICAgICAgICBlbW9qaTogJ9KJJ1xyXG4gICAgfSxcclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUE9OREVSXHJcbiAgICAgKi9cclxuICAgICd0ZWxlc2NvcGUnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHtcclxuICAgICAgICAgICAgZ2xhc3M6IDEsXHJcbiAgICAgICAgICAgIHdvb2Q6IDEwLFxyXG4gICAgICAgICAgICBwb25kZXI6IDEwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7fSxcclxuICAgICAgICBib29zdDogeyBwb25kZXI6IDEuMDUgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkxvb2ssIHVwIGluIHRoZSBza3khIEl0J3MgYSBzdGFyIVwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOMqSdcclxuICAgIH0sXHJcbiAgICBcIm9ic2VydmF0b3J5XCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJicmlja3NcIjogNzAsXHJcbiAgICAgICAgICAgIFwid29vZFwiOiAzMCxcclxuICAgICAgICAgICAgXCJnbGFzc1wiOiA1MCxcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogNTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogMS4yXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiU3RhcmdhemluZyBoYXMgbmV2ZXIgYmVlbiBzby4uLiBwcm9kdWN0aXZlP1wiLFxyXG4gICAgICAgIGVtb2ppOiAn4piGJ1xyXG4gICAgfSxcclxuICAgIFwibGlicmFyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiA3MCxcclxuICAgICAgICAgICAgXCJwYXBlclwiOiAyNSxcclxuICAgICAgICAgICAgXCJnbGFzc1wiOiA1LFxyXG4gICAgICAgICAgICBcInBvbmRlclwiOiAyNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJwb25kZXJcIjogNTAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiS25vd2xlZGdlIGlzIHBvd2VyLiBBbmQgYSBmaXJlIGhhemFyZCBpZiBub3Qgc3RvcmVkIHByb3Blcmx5LlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8J+VridcclxuICAgIH0sXHJcbiAgICBcImRlc2tcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMTUsXHJcbiAgICAgICAgICAgIFwic3RpY2tzXCI6IDIwLFxyXG4gICAgICAgICAgICBcInBvbmRlclwiOiAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJwb25kZXJcIjogMzAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHsgXCJwb25kZXJcIjogMS4wNSB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIHdyaXRlcidzIGJsb2NrIGlzIG5vIG1hdGNoIGZvciBhcm1vci1waWVyY2luZyBwZW5jaWxzIVwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOKrCdcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldEJ1aWxkaW5nQ291bnQoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICByZXR1cm4gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV0uY291bnQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IGJ1aWxkaW5nTmFtZSBcclxuICogQHBhcmFtIHtzdHJpbmd9IHJlc291cmNlIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmZ1bmN0aW9uIGdldEJvb3N0KGJ1aWxkaW5nTmFtZSwgcmVzb3VyY2UpIHtcclxuICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV07XHJcblxyXG4gICAgaWYgKGJ1aWxkaW5nICYmIGJ1aWxkaW5nLmJvb3N0KSB7XHJcbiAgICAgICAgaWYgKGJ1aWxkaW5nLmJvb3N0W3Jlc291cmNlXSkgcmV0dXJuIGJ1aWxkaW5nLmJvb3N0W3Jlc291cmNlXTtcclxuICAgICAgICBpZiAoYnVpbGRpbmcuYm9vc3RbJ2FsbCddKSByZXR1cm4gYnVpbGRpbmcuYm9vc3RbJ2FsbCddO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0QnVpbGRpbmdzKCkge1xyXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5ncykpIHtcclxuICAgICAgICB2YWxbJ2NvdW50J10gPSAwO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBidXR0b24gdGV4dFxyXG4gICAgICAgIHVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQoa2V5LCAwKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjb3N0IG9mIHRoZSBidWlsZGluZ1xyXG4gICAgICAgIHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGtleSwgYnVpbGRpbmdzLCBoYXNQZXJrKTtcclxuXHJcbiAgICB9XHJcbiAgICAvLyBVcGRhdGUgbWF4IGNsb25lcyBhZnRlciB1cGRhdGluZyB0aGUgY291bnRcclxuICAgIHJlY2FsY01heENsb25lcygpO1xyXG59XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBidWlsZGluZ3MsXHJcbiAgICBnZXRCdWlsZGluZ0NvdW50LFxyXG4gICAgZ2V0Qm9vc3QsXHJcbiAgICByZXNldEJ1aWxkaW5nc1xyXG59OyIsImNvbnN0IHsgcGFzc2VkU3RhZ2UgfSA9IHJlcXVpcmUoJy4uL3N0YWdlcycpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuLi9nZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IGhhc1Rvb2wgfSA9IHJlcXVpcmUoJy4uL3Rvb2xzJyk7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL3Jlc291cmNlcycpO1xyXG5cclxuLyogQlVUVE9OUyAqL1xyXG5jb25zdCBidXR0b25zID0ge1xyXG5cclxuICAgIC8qIFBST0RVQ1RJT04gVEFCICovXHJcbiAgICAnZ2F0aGVyU3RpY2tzJzoge1xyXG4gICAgICAgIGNsYXNzOiAndG9vbHRpcCBzdGFydFZpc2libGUnLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6ICfwk4CdIEdhdGhlciBTdGlja3MnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnRml2ZSwgU2l4LCBQaWNrIHVwIHN0aWNrcy4nLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnRnJlZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2UgLy8gVGhpcyBidXR0b24gaXMgYWx3YXlzIHZpc2libGVcclxuICAgIH0sXHJcbiAgICAnZ2F0aGVyVmluZXMnOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwIHN0aWNrJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiAn8JONryBHYXRoZXIgVmluZXMnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnU29tZSB2aW5lcyBhcmUgcnViYmVyeSwgb3RoZXJzIGFyZSBndW1teS4nLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnRnJlZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGdldE1hdGVyaWFsKCdzdGlja3MnLCByZXNvdXJjZXMpID49IDEwIHx8IHBhc3NlZFN0YWdlKCd2aW5lcycpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlclJvY2tzJzoge1xyXG4gICAgICAgIGNsYXNzOiAndG9vbHRpcCBzdGljaycsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogJ/CTipbwk4CpIEdhdGhlciBSb2NrcycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdOb3QgYSBzaW5nbGUgd2luZG93IHRvIHRocm93IHRoZW0gdGhyb3VnaC4nLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnRnJlZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGdldE1hdGVyaWFsKCd2aW5lcycsIHJlc291cmNlcykgPj0gMTAgfHwgcGFzc2VkU3RhZ2UoJ3JvY2tzJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnZ2F0aGVyRmlzaCc6IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgZmlzaGluZycsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogJ/CThp0g8JOGnyDwk4aeIEdvIEZpc2gnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnR290IGFueSB0dW5hPycsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdGcmVlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gaGFzVG9vbCgnU3BlYXInKSB8fCBoYXNUb29sKFwiRmlzaGluZyBSb2RcIikgfHwgcGFzc2VkU3RhZ2UoJ2Zpc2hpbmcnKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdnYXRoZXJXb29kJzoge1xyXG4gICAgICAgIGNsYXNzOiAnd29vZFRvZ2dsZSB3b29kJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiAn8JOMjyBDaG9wIFdvb2QnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQW4gYXhlIGh1cnRzIHdheSBsZXNzIHRoYW4gdXNpbmcgeW91ciBoYW5kcy4nLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gaGFzVG9vbCgnQXhlJykgfHwgcGFzc2VkU3RhZ2UoJ3dvb2QnKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdnYXRoZXJPcmUnOiB7XHJcbiAgICAgICAgXCJjbGFzc1wiOiBcInRvb2x0aXAgXCIsXHJcbiAgICAgICAgXCJ0YWJcIjogXCJwcm9kdWN0aW9uXCIsXHJcbiAgICAgICAgXCJ0ZXh0XCI6IFwi8JOJuCBNaW5lIE9yZVwiLFxyXG4gICAgICAgIFwidG9vbHRpcERlc2NcIjogXCJEaWdneSBEaWdneSBIb2xlXCIsXHJcbiAgICAgICAgXCJ0b29sdGlwQ29zdFwiOiBcIkZyZWVcIixcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gaGFzVG9vbCgnUGlja2F4ZScpIHx8IHBhc3NlZFN0YWdlKCdvcmUnKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuXHJcblxyXG5cclxuICAgIC8qIFRBQlMgKi9cclxuICAgICdwcm9kdWN0aW9uVGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogJ1Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHNob3dUYWI6ICdwcm9kdWN0aW9uVGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3RhYi1idXR0b24nKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdleHBlcmltZW50VGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogJ0V4cGVyaW1lbnQnLFxyXG4gICAgICAgIHNob3dUYWI6ICdleHBlcmltZW50VGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3RhYi1idXR0b24nKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdwb25kZXJUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnUG9uZGVyJyxcclxuICAgICAgICBzaG93VGFiOiAncG9uZGVyVGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3BvbmRlci10YWInKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdqb2JzVGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogJ0pvYnMnLFxyXG4gICAgICAgIHNob3dUYWI6ICdqb2JzVGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ2pvYnMtdGFiJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnc2tpbGxzVGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogJ1NraWxscycsXHJcbiAgICAgICAgc2hvd1RhYjogJ3NraWxsc1RhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdza2lsbHNUYWJsZScpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ3BlcmtzVGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogJ1BlcmtzJyxcclxuICAgICAgICBzaG93VGFiOiAncGVya3NUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgncGVya3NUYWInKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdmYWN0b3J5VGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogJ0ZhY3RvcmllcycsXHJcbiAgICAgICAgc2hvd1RhYjogJ2ZhY3RvcnlUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgnZmFjdG9yeVRhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG5cclxuICAgIC8qIFBPTkRFUiBUQUIgKi9cclxuICAgICdnYXRoZXJQb25kZXInOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwJyxcclxuICAgICAgICB0ZXh0OiAnUG9uZGVyJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1dyYXAgeW91ciBoZWFkIGFyb3VuZCB0aGUgZ3JlYXQgbXlzdGVyaWVzJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1RpbWUnLFxyXG4gICAgICAgIHRhYjogJ3BvbmRlcicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdwb25kZXItdGFiJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGJ1dHRvbnM6IGJ1dHRvbnNcclxufTsiLCIvKiBDUkFGVElORyBSRVNPVVJDRVMgKi9cclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4uL2dldENyYWZ0ZWRSZXNvdXJjZScpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZSgnLi4vc3RhZ2VzJyk7XHJcblxyXG5cclxuY29uc3QgY3JhZnRlZFJlc291cmNlcyA9IHtcclxuICAgICdzaGFycHJvY2tzJzoge1xyXG4gICAgICAgIHRleHQ6ICdTaGFycCBSb2NrcycsXHJcbiAgICAgICAgaWQ6ICdjcmFmdFNoYXJwcm9ja3MnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3JvY2tzJzogMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcInJvY2tzXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdDcmFmdCBhIHJvY2sgdXNpbmcgbm90aGluZyBidXQgcm9ja3MhJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1JvY2tzOiA1JyxcclxuICAgICAgICBjbGFzczogJ2NyYWZ0Um9ja3MnXHJcbiAgICAgICAgLy8gdG9vbDogJ0JhcmUgSGFuZHMnXHJcbiAgICB9LFxyXG4gICAgJ3JvcGUnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFJvcGUnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3ZpbmVzJzogMyB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcInJvY2tzXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdUaGUgYmFzaXMgb2YgYXR0YWNoaW5nIHRoaW5ncyB0byBvdGhlciB0aGluZ3MuJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1ZpbmVzOiAzJyxcclxuICAgICAgICBjbGFzczogJ2NyYWZ0Um9ja3MnXHJcbiAgICAgICAgLy8gdG9vbDogJ0JhcmUgSGFuZHMnXHJcbiAgICB9LFxyXG4gICAgJ2hhbmRsZSc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0SGFuZGxlJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdzdGlja3MnOiAyIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwicm9ja3NcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1NoZWFyIG9mZiB0aGF0IGJhcmsgdG8gaG9sZCBpdCBiZXR0ZXInLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnU2hhcnAgUm9ja3M6IDEnLFxyXG4gICAgICAgIGNsYXNzOiAnY3JhZnRSb2NrcydcclxuICAgICAgICAvLyB0b29sOiAnU2hhcnAgUm9jaydcclxuICAgIH0sXHJcbiAgICAnc3RhZmYnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFN0YWZmJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdoYW5kbGUnOiAyLCAncm9wZSc6IDEgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJyb2Nrc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnU3RpY2sgc29tZSBzaGVhcmVkIHN0aWNrcyB0b2dldGhlcicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdIYW5kbGVzOiAyJyxcclxuICAgICAgICBjbGFzczogJ3JvcGUnXHJcbiAgICAgICAgLy8gdG9vbDogJ0JhcmUgSGFuZHMnXHJcbiAgICB9LFxyXG4gICAgJ2Zpc2hpbmdyb2QnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEZpc2hpbmdyb2QnLFxyXG4gICAgICAgIHRleHQ6ICdGaXNoaW5nIFJvZCcsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnc3RhZmYnOiAxLCAncm9wZSc6IDIgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJmaXNoaW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdBIHdlYXBvbiBmZWFyZWQgYnkgdW5kZXJ3YXRlciBsaWZlJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdmaXNoaW5nJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdzcGVhcic6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0U3BlYXInLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHtcclxuICAgICAgICAgICAgJ3N0YWZmJzogMSxcclxuICAgICAgICAgICAgJ3NoYXJwcm9ja3MnOiAxLFxyXG4gICAgICAgICAgICAncm9wZSc6IDEsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJyb2Nrc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQSBsb25nIGFuZCBwb2ludHkgc3RpY2snLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnU3RhZmZzOiAxJyxcclxuICAgICAgICBjbGFzczogJ3JvcGUnXHJcbiAgICAgICAgLy8gdG9vbDogJ0JhcmUgSGFuZHMnXHJcbiAgICB9LFxyXG4gICAgJ2F4ZSc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0QXhlJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdoYW5kbGUnOiAxLCAncm9wZSc6IDEsICdzaGFycHJvY2tzJzogMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcInNwZWFyXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdQdXQgYSByb2NrIHN0cmFpZ2h0IHRocm91Z2ggdGhhdCBoYW5kbGUnLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnU3BlYXJzOiAxJyxcclxuICAgICAgICBjbGFzczogJ3NwZWFyJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdwaWNrYXhlJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRQaWNrYXhlJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7XHJcbiAgICAgICAgICAgICdoYW5kbGUnOiAxLFxyXG4gICAgICAgICAgICAnc2hhcnByb2Nrcyc6IDMsXHJcbiAgICAgICAgICAgICdyb3BlJzogMSxcclxuICAgICAgICAgICAgJ3JvY2tzJzogMTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcInNwZWFyXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdTYWRseSBub3QgbWFkZSBvZiBkaWFtb25kcycsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdBeGVzOiAxJyxcclxuICAgICAgICBjbGFzczogJ3NwZWFyJ1xyXG4gICAgfSxcclxuXHJcbiAgICAnZ2xhc3MnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEdsYXNzJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdzYW5kJzogMTAgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdZb3UgY2FuIHNlZSByaWdodCB0aHJvdWdoIGl0IScsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJnbGFzc0Jsb3dpbmdcIixcclxuICAgICAgICBjbGFzczogJ2dsYXNzQmxvd2luZydcclxuICAgIH0sXHJcbiAgICAncGFwZXInOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFBhcGVyJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICd3b29kJzogMTIgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdPdXRzb3VyY2UgeW91ciBtZW1vcnknLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwicGFwZXJcIixcclxuICAgICAgICBjbGFzczogJ3BhcGVyJ1xyXG4gICAgfSxcclxuICAgICdnb2xkJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRHb2xkJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdvcmUnOiAxMDAgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJtZXRhbFdvcmtpbmdcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGVyZSdzIHNvbWUgeWVsbG93IGJpdHMgaW4gdGhpcyBvcmVcIixcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdtZXRhbFdvcmtpbmcnXHJcbiAgICB9LFxyXG4gICAgJ2lyb24nOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdElyb24nLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ29yZSc6IDIwIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwibWV0YWxXb3JraW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhlcmUncyBzb21lIHN0dXJkeS1sb29raW5nIGJpdHMgaW4gdGhpcyBvcmVcIixcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdtZXRhbFdvcmtpbmcnXHJcbiAgICB9LFxyXG4gICAgJ3NpbHZlcic6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0U2lsdmVyJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdvcmUnOiA1MCB9LFxyXG5cclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJtZXRhbFdvcmtpbmdcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGVyZSdzIHNvbWUgc2hpbnkgZ3JheSBiaXRzIGluIHRoaXMgb3JlXCIsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIGNsYXNzOiAnbWV0YWxXb3JraW5nJ1xyXG4gICAgfSxcclxuICAgICdicmlja3MnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEJyaWNrcycsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnY2xheSc6IDE1IH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwiY2xheVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkxlYXZlIHNvbWUgY2xheSBieSB0aGUgZmlyZVwiLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnJyxcclxuICAgICAgICBjbGFzczogJ2NsYXknXHJcbiAgICB9LFxyXG4gICAgJ3N0ZWVsJzogeyB2YWx1ZTogMCwgY29zdDogeyAnaXJvbic6IDUgfSB9LFxyXG4gICAgJ2JlYW1zJzogeyB2YWx1ZTogMCwgY29zdDogeyAnd29vZCc6IDEwIH0gfSxcclxuICAgICdjcmF0ZXMnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICd3b29kJzogMTUgfSB9LFxyXG4gICAgJ25haWxzJzogeyB2YWx1ZTogMCwgY29zdDogeyAnaXJvbic6IDEgfSB9LFxyXG4gICAgJ3NsYWJzJzogeyB2YWx1ZTogMCwgY29zdDogeyAncm9ja3MnOiAyMCB9IH0sXHJcbiAgICAnbWVkaWNpbmUnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICdoZXJicyc6IDUwIH0gfSxcclxuICAgICdsZWF0aGVyJzogeyB2YWx1ZTogMCwgY29zdDogeyAnaGlkZXMnOiAxMCB9IH0sXHJcbiAgICAnY29uY3JldGUnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICdzYW5kJzogMzIgfSB9LFxyXG4gICAgJ3dvb2QnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICdzdGlja3MnOiA4IH0gfSxcclxuICAgICdzdGlja3MnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICd3b29kJzogLjEgfSB9LFxyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZChpZCkge1xyXG4gICAgZm9yIChjb25zdCBbYywgdmFsXSBvZiBPYmplY3QuZW50cmllcyhjcmFmdGVkUmVzb3VyY2VzKSkge1xyXG4gICAgICAgIGlmICh2YWwuaWQgKyBcIkJ1dHRvblwiID09PSBpZCB8fCB2YWwuaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENyYWZ0ZWRSZXNvdXJjZUtleUJ5Q29uZmlnKGNvbmZpZykge1xyXG4gICAgZm9yIChsZXQgayBpbiBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coayk7XHJcbiAgICAgICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZXNba10uaWQgKyAnQnV0dG9uJyA9PT0gY29uZmlnLmlkKSByZXR1cm4gaztcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldENyYWZ0ZWRSZXNvdXJjZXMoKSB7XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoY3JhZnRlZFJlc291cmNlcykpIHtcclxuICAgICAgICB2YWwudmFsdWUgPSAwO1xyXG4gICAgICAgIHZhbC5jcmFmdGVkT25jZSA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGNyYWZ0ZWRSZXNvdXJjZXMsXHJcbiAgICBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkLFxyXG4gICAgZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWcsXHJcbiAgICByZXNldENyYWZ0ZWRSZXNvdXJjZXNcclxufTsiLCJcclxuXHJcbi8qKlxyXG4gKiBUaWVyIDEgKDQwMCBwb25kZXIpOlxyXG4gKiBcclxuICogTHVtYmVyamFja1xyXG4gKiAgKzI1JSB3b29kIHByb2R1Y3Rpb25cclxuICogICsyNSUgc3RpY2tzIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIE1pbmVyXHJcbiAqICArMjUlIHN0b25lICYgb3JlIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIEJvdGFuaXN0XHJcbiAqICArMjUlIHZpbmVzICYgaGVyYnMgJiB3aGVhdCBwcm9kdWN0aW9uXHJcbiAqIFxyXG4gKiBMZWFkZXJcclxuICogIDUwJSBjbG9uZSBlZmZlY3RpdmVuZXNzXHJcbiAqIFxyXG4gKiBBcmNoaXRlY3RcclxuICogIC0yNSUgYnVpbGRpbmcgY29zdFxyXG4gKiBcclxuICogXHJcbiAqIFRpZXIgMiAoMTUwMCBwb25kZXIpOlxyXG4gKiBcclxuICogVGhpbmtlclxyXG4gKiAgKzUwJSBwb25kZXIgcHJvZHVjdGlvbiBhbmQgc3RvcmFnZVxyXG4gKiAgLTI1JSBwb25kZXIgY29zdFxyXG4gKiBcclxuICogR2VuZXJhbFxyXG4gKiAgKzUwJSBjb21iYXQgc3RyZW5ndGhcclxuICogICsyNSUgY2xvbmUgZWZmZWN0aXZlbmVzc1xyXG4gKiBcclxuICogTWVyY2hhbnRcclxuICogIC0yNSUgdHJhZGUgcHJpY2VcclxuICogICsyNSUgY2hhbmNlIG9mIHJhcmUgdHJhZGVcclxuICogXHJcbiAqIEdlbmVyYWxpc3RcclxuICogICsxMCUgZ2xvYmFsIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIFNwZWNpYWxpc3RcclxuICogICsxMDAlIHNraWxsIGdhaW5cclxuICogICsxMCUgc2tpbGwgYm9udXMgdG8gcmVzb3VyY2VzXHJcbiAqIFxyXG4gKiBcclxuICogXHJcbiAqIFxyXG4gKi9cclxuY29uc3QgcGVya3MgPSB7XHJcbiAgICAndGllcjEnOiBbJ0x1bWJlcmphY2snLCAnTWluZXInLCAnQm90YW5pc3QnLCAnTGVhZGVyJywgJ0FyY2hpdGVjdCddLFxyXG4gICAgJ3RpZXIyJzogWydUaGlua2VyJywgJ0dlbmVyYWwnLCAnTWVyY2hhbnQnLCAnR2VuZXJhbGlzdCcsICdTcGVjaWFsaXN0J10sXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHBlcmtzOiBwZXJrc1xyXG59OyIsImxldCBwb25kZXJzID0ge1xyXG4gICAgJ3BvbmRlcjEnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJQb25kZXIxJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxMCB9LFxyXG4gICAgICAgIHRleHQ6IFwiVGhpbmsgSGFyZGVyXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiNSUgYm9vc3QgdG8gcG9uZGVyaW5nXCIsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcblxyXG4gICAgfSxcclxuICAgICdqb2JzLXRhYic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckpvYnMtdGFiJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAyMCB9LFxyXG4gICAgICAgIHRleHQ6IFwiVW5kZXJzdGFuZCBDbG9uaW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdXaHkgYXJlIHRoZXJlIHR3byBvZiB5b3U/JyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1Nhbml0eSAoMjAgUG9uZGVyKScsXHJcblxyXG4gICAgfSxcclxuICAgICdza2lsbHNUYWJsZSc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlclNraWxsc1RhYmxlJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA1MCB9LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIllvdSdyZSBzdGFydGluZyB0byBsZWFybiB0aGluZ3MsIHJpZ2h0P1wiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiTm90aWNlIEltcHJvdmVtZW50XCJcclxuICAgIH0sXHJcbiAgICAnZmlzaGluZyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckZpc2hpbmcnLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDUwLCAnZmlzaCc6IDUwIH0sXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV2hhdCBpZi4uLiB5b3VyIGNsb25lcyBjb3VsZCBnbyBmaXNoaW5nP1wiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiRmlzaGluZyBKb2JcIlxyXG4gICAgfSxcclxuICAgIC8vICdtaWNyb21hbmFnZW1lbnQnOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJNaWNyb21hbmFnZW1lbnQnLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDIwMCwgJ2Nsb25lcyc6IDUgfSxcclxuICAgIC8vICAgICB0ZXh0OiBcIk1pY3JvbWFuYWdlbWVudFwiLFxyXG4gICAgLy8gICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgLy8gICAgIHRvb2x0aXBEZXNjOiBcIllvdSBtYW5hZ2VkIHRvIG1ha2UgY2xvbmVzIG1hbmFnZSBlYWNoIG90aGVyLlwiXHJcbiAgICAvLyB9LFxyXG4gICAgJ2Zhc3RlclNraWxscyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckZhc3RlclNraWxscycsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogODAgfSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIlNraWxscyBJXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhpbmsgU21hcnRlci4gNSUgYm9udXMgdG8gc2tpbGwgZXhwXCJcclxuICAgIH0sXHJcbiAgICAndGhpbmtpbmcnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJUaGlua2luZycsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTUwIH0sXHJcbiAgICAgICAgdGV4dDogXCJUaGlua2luZyBKb2JcIixcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJMZXQgeW91ciBjbG9uZXMgc3RhcnQgdGhpbmtpbmcgZm9yIHRoZW1zZWx2ZXMuXCJcclxuXHJcbiAgICB9LFxyXG4gICAgJ2Zhc3RlclJlc291cmNlR2Fpbic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckZhc3RlclJlc291cmNlR2FpbicsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTIwIH0sXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdGV4dDogXCJQcm9kdWN0aXZpdHkgSVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkp1c3Qgd29yayBoYXJkZXIuIDUlIGJvbnVzIHRvIHJlc291cmNlIGdhaW5cIlxyXG4gICAgfSxcclxuICAgICdtZXRhbFdvcmtpbmcnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJNZXRhbFdvcmtpbmcnLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiTWV0YWwgV29ya2luZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlN0YXJ0IHByb2Nlc3NpbmcgdGhhdCBvcmVcIixcclxuICAgICAgICAvLyBjb3N0OiBbeyBtYXRlcmlhbDogJ3BvbmRlcicsIGFtb3VudDogMTAwIH0sIHsgbWF0ZXJpYWw6ICdvcmUnLCBhbW91bnQ6IDUwIH0sIHsgbWF0ZXJpYWw6ICdyb2NrcycsIGFtb3VudDogNTAgfV1cclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxMDAsICdvcmUnOiA1MCwgJ3JvY2tzJzogNTAgfSxcclxuICAgIH0sXHJcbiAgICAnZ2xhc3NCbG93aW5nJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyR2xhc3NCbG93aW5nJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiAnR2xhc3MgQmxvd2luZycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdIdWZmIGFuZCBwdWZmIGFuZCBtYWtlIGEgY29vbCB2YXNlJyxcclxuICAgICAgICBjb3N0OiB7ICdzYW5kJzogMjAsICdwb25kZXInOiA4MCB9XHJcbiAgICB9LFxyXG4gICAgJ29yZ2FuaXphdGlvbic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlck9yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdGV4dDogJ09yZ2FuaXppemVkIFN0b3JhZ2UnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnT3JnYW5pemUgeW91ciBzdG9yYWdlIGJ5IGdyb3VwcycsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMjAwIH1cclxuICAgIH0sXHJcbiAgICAncGFwZXInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJQYXBlcicsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdGV4dDogJ1BhcGVyIFByb2Nlc3NpbmcnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnU21hc2ggZG93biBzb21lIHdvb2QgaW50byBwYXBlcicsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMjAwLCAnd29vZCc6IDEwMCB9XHJcbiAgICB9LFxyXG4gICAgJ2F1dG9DbG9uZSc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckF1dG9DbG9uZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJBdXRvIENsb25lXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQXV0b21hdGljYWxseSBwcm9kdWNlIGNsb25lc1wiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDE0MCwgJ2Nsb25lcyc6IDIwIH0sXHJcbiAgICB9LFxyXG5cclxuICAgICdlZmZlY3RpdmVCdWlsZGluZ3MnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJFZmZlY3RpdmVCdWlsZGluZ3MnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiQnVpbGRpbmdzIElcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJJbmNyZWFzZSBidWlsZGluZyBlZmZlY3RzIGJ5IDElXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTgwIH0sXHJcbiAgICB9LFxyXG4gICAgJ2FncmljdWx0dXJlJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQWdyaWN1bHR1cmUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiQWdyaWN1bHR1cmVcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGaW5kIHNvbWUgc2VlZHMgZnJvbSBhbGwgdGhvc2UgcGxhbnRzXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTgwIH1cclxuICAgIH0sXHJcbiAgICAnY29tYmF0Jzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQ29tYmF0JyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkNvbWJhdFwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIklzIHRoZXJlIGFueW9uZSB0byBzcGFyIHdpdGggYmVzaWRlcyB5b3U/XCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMzAwLCAnc3BlYXInOiAxMDAgfVxyXG4gICAgfSxcclxuICAgICdodW50aW5nJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVySHVudGluZycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJIdW50aW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQXQgbGVhc3QgdGhlcmUgYXJlIGFuaW1hbHNcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAyMDAsICdmaXNoJzogNTAgfVxyXG4gICAgfSxcclxuICAgICdwZXJrc1RhYic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlclBlcmtzVGFiJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiAnUGVya3MnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnTWF5YmUgeW91IGFzIHRoZSBvcmlnaW5hbCBzaG91bGQgc3BlY2lhbGl6ZScsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNDAwIH1cclxuICAgIH0sXHJcbiAgICAvLyAnYXV0b2NyYWZ0Jzoge1xyXG4gICAgLy8gICAgIGlkOiBcInBvbmRlckF1dG9jcmFmdFwiLFxyXG4gICAgLy8gICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIHRleHQ6IFwiQXV0byBDcmFmdFwiLFxyXG4gICAgLy8gICAgIHRvb2x0aXBEZXNjOiBcIkF1dG9tYXRpY2FsbHkgY3JhZnQgcmVzb3VyY2VzIHdoZW4gdGhleSByZWFjaCB0aGUgc3RvcmFnZSBsaW1pdFwiLFxyXG4gICAgLy8gICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDQwMCwgJ3dvb2QnOiAxMDAwLCAncm9ja3MnOiA1MDAsICd3aGVhdCc6IDEwMDAgfVxyXG4gICAgLy8gfSxcclxuICAgICdmYWN0b3J5VGFiJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyRmFjdG9yeVRhYicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJGYWN0b3JpZXNcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBc2NlbmQgdG8gdGhlIG5leHQgbGV2ZWwgb2YgZWNvbm9teVwiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDUwMCwgJ2dvbGQnOiAxMCwgJ3dvb2QnOiAxMDAwLCAnd2hlYXQnOiAxMDAwLCAncm9ja3MnOiAxMDAwIH1cclxuICAgIH0sXHJcbiAgICAncG9uZGVyMic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlclBvbmRlcjInLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiVGhpbmsgZXZlbiBoYXJkZXJcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCI1JSBib29zdCB0byBwb25kZXJpbmdcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAzMDAgfVxyXG4gICAgfSxcclxuICAgICdwb25kZXIzJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyUG9uZGVyMycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJUaGluayBoYXJkZXN0XCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiNSUgYm9vc3QgdG8gcG9uZGVyaW5nXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNjAwIH1cclxuICAgIH0sXHJcbiAgICAnYmlnZ2VyU2hlbHRlcic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckJpZ2dlclNoZWx0ZXInLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiRXhwYW5kIFNoZWx0ZXJcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJTaGVsdGVycyBjYW4gaG91c2UgMSBtb3JlIGNsb25lIGVhY2hcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA1MDAsICdzdGlja3MnOiAxMDAwIH1cclxuICAgIH0sXHJcbiAgICAnYmlnZ2VySHV0Jzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQmlnZ2VySHV0JyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkV4cGFuZCBIdXRcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJIdXRzIGNhbiBob3VzZSAxIG1vcmUgY2xvbmUgZWFjaFwiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDc1MCwgJ3N0aWNrcyc6IDE1MDAsICd2aW5lcyc6IDEwMDAgfVxyXG4gICAgfSxcclxuICAgICdiaWdnZXJIb3VzZSc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckJpZ2dlckhvdXNlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIlR3by1zdG9yeSBob3VzZXNcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJIb3VzZXMgY2FuIGhvdXNlIDIgbW9yZSBjbG9uZXMgZWFjaFwiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDEwMDAsICd3b29kJzogMjAwMCwgJ3JvY2tzJzogMjAwMCB9XHJcbiAgICB9LFxyXG4gICAgJ2JpZ2dlclRlZXBlZSc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckJpZ2dlclRlZXBlZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJEb3VibGUgZGlhbWV0ZXIgVGVlcGVlc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlRlZXBlZXMgY2FuIGhvdXNlIDQgbW9yZSBjbG9uZXMgZWFjaFwiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDEyNTAsICd3b29kJzogMzAwMCwgJ2hpZGVzJzogMTUwMCB9XHJcbiAgICB9LFxyXG4gICAgJ2V2ZW5CaWdnZXJTaGVsdGVyJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyRXZlbkJpZ2dlclNoZWx0ZXInLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiRXhwYW5kIFNoZWx0ZXIgQWdhaW5cIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJTaGVsdGVycyBjYW4gaG91c2UgMSBtb3JlIGNsb25lIGVhY2hcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxNTAwLCAnc3RpY2tzJzogMzAwMCwgJ2Zpc2gnOiAxMDAwIH1cclxuICAgIH0sXHJcbn07XHJcblxyXG5mdW5jdGlvbiByZXNldFBvbmRlcnMoKSB7XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMocG9uZGVycykpIHtcclxuICAgICAgICB2YWwuaXNQb25kZXJlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHBvbmRlcnM6IHBvbmRlcnMsXHJcbiAgICByZXNldFBvbmRlcnNcclxufTsiLCJjb25zdCBwcmVzdGlnZSA9IHtcclxuICAgICdtYXhDbG9uZXMnOiB7XHJcbiAgICAgICAgdGV4dDogJ0NyYW1wZWQnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnTWF4IENsb25lcyAoKzEpJyxcclxuICAgICAgICBjb3N0OiAyLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ2Nsb25lQm9vc3QnOiB7XHJcbiAgICAgICAgdGV4dDogJ0hhbmR5bWFuJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0Nsb25lIFByb2R1Y3Rpdml0eSAoKzUlKScsXHJcbiAgICAgICAgY29zdDogMSxcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfSxcclxuICAgICdnYXRoZXJpbmdCb29zdCc6IHtcclxuICAgICAgICB0ZXh0OiAnUGlja2VyJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0dhdGhlcmluZyBFZmZpY2llbmN5ICgrMTAlKScsXHJcbiAgICAgICAgY29zdDogMSxcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfSxcclxuICAgICdtYXNvbnJ5Qm9vc3QnOiB7XHJcbiAgICAgICAgdGV4dDogJ1JvY2tlcicsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdNYXNvbnJ5IEVmZmljaWVuY3kgKCsxMCUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ2NhcnBlbnRyeUJvb3N0Jzoge1xyXG4gICAgICAgIHRleHQ6ICdDaG9wcGVkJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0NhcnBlbnRyeSBFZmZpY2llbmN5ICgrMTAlKScsXHJcbiAgICAgICAgY29zdDogMSxcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfSxcclxuICAgICd0aGlua2luZ0Jvb3N0Jzoge1xyXG4gICAgICAgIHRleHQ6ICdXaXplbmVkJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1RoaW5raW5nIEVmZmljaWVuY3kgKCsxMCUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ2Zhcm1pbmdCb29zdCc6IHtcclxuICAgICAgICB0ZXh0OiAnUHJ1bmVkJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0Zhcm1pbmcgRWZmaWNpZW5jeSAoKzEwJSknLFxyXG4gICAgICAgIGNvc3Q6IDEsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAnZmlzaGluZ0Jvb3N0Jzoge1xyXG4gICAgICAgIHRleHQ6ICdIb29rZWQnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnRmlzaGluZyBFZmZpY2llbmN5ICgrMTAlKScsXHJcbiAgICAgICAgY29zdDogMSxcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfSxcclxuICAgICdodW50aW5nQm9vc3QnOiB7XHJcbiAgICAgICAgdGV4dDogJ1RyYWNrZXInLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnSHVudGluZyBFZmZpY2llbmN5ICgrMTAlKScsXHJcbiAgICAgICAgY29zdDogMSxcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfSxcclxuICAgICdjaGVhcGVyQnVpbGRpbmdzJzoge1xyXG4gICAgICAgIHRleHQ6ICdSaWNrZXR5JyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0J1aWxkaW5nIENvc3QgKC01JSknLFxyXG4gICAgICAgIGNvc3Q6IDIsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAnc3RvcmFnZVNwYWNlJzoge1xyXG4gICAgICAgIHRleHQ6ICdTdHVmZmVkJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1N0b3JhZ2UgU3BhY2UgKCs1JSknLFxyXG4gICAgICAgIGNvc3Q6IDIsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGhhc1ByZXN0aWdlKHByZXMpIHtcclxuICAgIHJldHVybiBnZXRMZXZlbE9mUHJlc3RpZ2UocHJlcykgPiAwO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMZXZlbE9mUHJlc3RpZ2UocHJlcykge1xyXG4gICAgcmV0dXJuIHByZXN0aWdlW3ByZXNdLmxldmVsO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgcHJlc3RpZ2UsXHJcbiAgICBoYXNQcmVzdGlnZSxcclxuICAgIGdldExldmVsT2ZQcmVzdGlnZVxyXG59OyIsIi8vIFN0YXRlIG9mIGVhY2ggcmVzb3VyY2VcclxuXHJcbi8vIFRPRE86IEFERCBSRVFVSVJFTUVOVFMgRk9SIEVBQ0ggVE8gTUFLRSBUSEVNIFZJU0lCTEVcclxuLy8gb3IganVzdCBkaXNwbGF5IHRoZW0gd2hlbiB5b3UgZ2V0IHlvdXIgZmlyc3Qgb25lP1xyXG5jb25zdCByZXNvdXJjZXMgPSB7XHJcbiAgICBcImNsb25lc1wiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcIm1ha2VDbG9uZVwiLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBtYXg6IDBcclxuICAgIH0sXHJcblxyXG4gICAgXCJzdGlja3NcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJTdGlja3NcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiB0cnVlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCThrHwk4CcIEdhdGhlcmluZyBTdGlja3NcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOGsSBHYXRoZXIgU3RpY2tzXCIsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAnScsXHJcbiAgICAgICAgbWF4OiA1MFxyXG4gICAgfSxcclxuICAgIFwidmluZXNcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJWaW5lc1wiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTja/wk4CqIEdhdGhlcmluZyBWaW5lc1wiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk42vIEdhdGhlciBWaW5lc1wiLFxyXG4gICAgICAgIFwidG9vbHNcIjogW3sgXCJ0b29sXCI6IFwiQXhlXCIsIFwidmFsXCI6IDEuNSB9XSxcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgZW1vamk6ICfwk4CqJyxcclxuICAgICAgICBtYXg6IDUwXHJcbiAgICB9LFxyXG4gICAgXCJyb2Nrc1wiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlclJvY2tzXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOKlvCTgKkgR2F0aGVyaW5nIFJvY2tzXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTipYgR2F0aGVyIFJvY2tzXCIsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgbWF4OiAzMFxyXG4gICAgfSxcclxuICAgIFwiZmlzaFwiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlckZpc2hcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4ad8JOGn/CThp4g8JOBgyBHb25lIEZpc2hpbmdcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOGnfCThp/wk4aeIEdvIEZpc2hcIixcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgZW1vamk6ICfwk4GDJyxcclxuICAgICAgICBcInRvb2xzXCI6IFt7IFwidG9vbFwiOiBcIlNwZWFyXCIsIFwidmFsXCI6IDEgfSwgeyBcInRvb2xcIjogXCJGaXNoaW5nIFJvZFwiLCBcInZhbFwiOiAyIH1dLFxyXG4gICAgICAgIG1heDogMTBcclxuICAgIH0sXHJcbiAgICBcIndvb2RcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJXb29kXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOAqCBDaG9wcGluZyBXb29kXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTjI8gQ2hvcCBXb29kXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4CoJyxcclxuICAgICAgICBcInRvb2xzXCI6IFt7IFwidG9vbFwiOiBcIkF4ZVwiLCBcInZhbFwiOiAxLjUgfSwgeyBcInRvb2xcIjogXCJDaGFpbnNhd1wiLCBcInZhbFwiOiAzIH1dLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBtYXg6IDQwXHJcbiAgICB9LFxyXG4gICAgXCJwb25kZXJcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJQb25kZXJcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4CBIFBvbmRlcmluZ1wiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4CBIFBvbmRlclwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAgScsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIG1heDogMjBcclxuICAgIH0sXHJcbiAgICBcIm9yZVwiOiB7XHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJPcmVcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4m48JOBhCBNaW5pbmcgT3JlXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTibggTWluZSBPcmVcIixcclxuICAgICAgICBlbW9qaTogJ/CTgYQnLFxyXG4gICAgICAgIG1heDogMjBcclxuICAgIH0sXHJcbiAgICBcInNhbmRcIjoge1xyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyU2FuZFwiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTgKkgU2Nvb3BpbmcgU2FuZFwiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4CpIFNjb29wIFNhbmRcIixcclxuICAgICAgICBlbW9qaTogJ/CTgKknLFxyXG4gICAgICAgIG1heDogMjBcclxuICAgIH0sXHJcbiAgICBcIndoZWF0XCI6IHtcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlcldoZWF0XCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOAqSBIYXJ2ZXN0aW5nIFdoZWF0XCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTgKkgSGFydmVzdCBXaGVhdFwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAnScsXHJcbiAgICAgICAgbWF4OiAyMFxyXG4gICAgfSxcclxuICAgICdmcmVzaHdhdGVyJzoge1xyXG4gICAgICAgICd2YWx1ZSc6IDAsXHJcbiAgICAgICAgJ2lkJzogJ2dhdGhlckZyZXNod2F0ZXInLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICAnbWF4JzogNTBcclxuICAgIH0sXHJcbiAgICAnaGlkZXMnOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVySGlkZXMnLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgZW1vamk6ICfwk4COJyxcclxuICAgICAgICAnbWF4JzogNTBcclxuXHJcbiAgICB9LFxyXG4gICAgJ2NsYXknOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVyQ2xheScsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgJ2RlZmF1bHRUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICBlbW9qaTogJ/CTgKknLFxyXG4gICAgICAgICdtYXgnOiA1MFxyXG4gICAgfSxcclxuICAgICdiZXJyaWVzJzoge1xyXG5cclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJCZXJyaWVzJyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcbiAgICB9LFxyXG4gICAgJ2hlcmJzJzoge1xyXG4gICAgICAgICd2YWx1ZSc6IDAsXHJcbiAgICAgICAgJ2lkJzogJ2dhdGhlckhlcmJzJyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcbiAgICB9LFxyXG4gICAgJ2dhbWUnOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVyR2FtZScsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICfwk4Oa8JOAjiBIdW50aW5nJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAn8JOAjiBIdW50JyxcclxuICAgICAgICBlbW9qaTogJ/CTgI4nLFxyXG4gICAgICAgICdtYXgnOiA1MFxyXG4gICAgfSxcclxuICAgICdodXNrcyc6IHtcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBpZDogJ2dhdGhlckh1c2tzJyxcclxuICAgICAgICBpc0dldHRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGlzVmlzaWJsZTogZmFsc2UsXHJcbiAgICAgICAgYWN0aXZlVGV4dDogJycsXHJcbiAgICAgICAgZGVmYXVsdFRleHQ6IFwiXCIsXHJcbiAgICAgICAgZW1vamk6ICdYJyxcclxuICAgICAgICAnbWF4JzogMTAwMFxyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBpc1Jlc291cmNlKHJlc291cmNlKSB7XHJcbiAgICAvLyByZXR1cm4gcmVzb3VyY2VzW3Jlc291cmNlXSAhPT0gbnVsbDtcclxuICAgIHJldHVybiByZXNvdXJjZSBpbiByZXNvdXJjZXM7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0UmVzb3VyY2VDb25maWdCeUlkKGlkKSB7XHJcbiAgICBmb3IgKGxldCByIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIGlmIChyZXNvdXJjZXNbcl0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZXNbcl07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0UmVzb3VyY2VzKCkge1xyXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHJlc291cmNlcykpIHtcclxuICAgICAgICB2YWwudmFsdWUgPSAwO1xyXG4gICAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXHJcbiAgICBpc1Jlc291cmNlLFxyXG4gICAgZ2V0UmVzb3VyY2VDb25maWdCeUlkLFxyXG4gICAgcmVzZXRSZXNvdXJjZXNcclxufTsiLCJjb25zdCBza2lsbHMgPSB7XHJcbiAgICBnYXRoZXJpbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnc3RpY2tzJywgJ3ZpbmVzJywgJ3NhbmQnLCAnaGVyYnMnLCAnYmVycmllcyddXHJcbiAgICB9LFxyXG4gICAgbWFzb25yeToge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWydyb2NrcycsICdvcmUnLCAnY2xheSddLFxyXG4gICAgICAgIG5lZWRUb29sczogW3sgJ1BpY2theGUnOiBbJ29yZSddIH1dXHJcbiAgICB9LFxyXG4gICAgY2FycGVudHJ5OiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ3dvb2QnLCAnaGFuZGxlJywgJ3N0YWZmJywgJ2Zpc2hpbmdyb2QnXSxcclxuICAgICAgICBuZWVkVG9vbHM6IFt7ICdBeGUnOiBbJ3dvb2QnXSB9XVxyXG4gICAgfSxcclxuICAgIHRoaW5raW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ3BvbmRlciddXHJcbiAgICB9LFxyXG4gICAgc21pdGhpbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnYXhlJywgJ3BpY2theGUnLCAnc3BlYXInLCAnZ2xhc3MnLCAnaXJvbicsICdzaWx2ZXInLCAnZ29sZCddXHJcbiAgICB9LFxyXG4gICAgZmFybWluZzoge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWyd3aGVhdCcsICdmcmVzaHdhdGVyJ11cclxuICAgIH0sXHJcbiAgICBjb21iYXQ6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFtdXHJcbiAgICB9LFxyXG4gICAgZmlzaGluZzoge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWydmaXNoJywgJ2ZyZXNod2F0ZXInXVxyXG4gICAgfSxcclxuICAgIGh1bnRpbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnaGlkZXMnLCAnZ2FtZSddXHJcbiAgICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHNraWxsczogc2tpbGxzXHJcbn07IiwiY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzLCBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkLCByZXNldENyYWZ0ZWRSZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9jcmFmdGVkUmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgYnVpbGRpbmdzLCByZXNldEJ1aWxkaW5ncyB9ID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIik7XHJcbmNvbnN0IHsgcG9uZGVycywgcmVzZXRQb25kZXJzIH0gPSByZXF1aXJlKFwiLi9qc29uL3BvbmRlclwiKTtcclxuY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKFwiLi9qc29uL2J1dHRvbnNcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzLCBnZXRSZXNvdXJjZUNvbmZpZ0J5SWQsIHJlc2V0UmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcblxyXG5jb25zdCB7IHNhdmVHYW1lLCBsb2FkR2FtZSB9ID0gcmVxdWlyZShcIi4vc2F2aW5nXCIpO1xyXG5jb25zdCB7IGdlbmVyYXRlVG9vbHRpcENvc3QsIGFwcGVuZENyYWZ0ZWRSZXNvdXJjZUJ1dHRvbnMsIGluY3JlYXNlTWF0ZXJpYWwsIGNyYWZ0QWxsUmVzb3VyY2VzLCBjcmFmdFJlc291cmNlLCBjYWxjSW5jcmVhc2UsIHVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcywgY2FsY1NlY29uZHNSZW1haW5pbmcsIGluY3JlYXNlTWF4LCB1cGRhdGVEaXNwbGF5VmFsdWUgfSA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgYnV5TWF4QnVpbGRpbmdzLCBidXlCdWlsZGluZywgY3JlYXRlQnVpbGRpbmdCdXR0b24gfSA9IHJlcXVpcmUoJy4vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgaGFzUGVyaywgc2VsZWN0QWJpbGl0eSwgcmVzZXRQZXJrcyB9ID0gcmVxdWlyZSgnLi9wZXJrcycpO1xyXG5jb25zdCB7IGdldE1heCwgY2xlYXJTaWRlYmFyIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IG1ha2VWaXNpYmxlIH0gPSByZXF1aXJlKCcuL21ha2VWaXNpYmxlJyk7XHJcbmNvbnN0IHsgdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSB9ID0gcmVxdWlyZSgnLi91cGRhdGVCdXR0b25WaXNpYmlsaXR5Jyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlIH0gPSByZXF1aXJlKCcuL2dldENyYWZ0ZWRSZXNvdXJjZScpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgYnV5RmFjdG9yeSwgYXR0ZW1wdE1hbnVmYWN0dXJlLCB1cGdyYWRlQnVsayB9ID0gcmVxdWlyZSgnLi9mYWN0b3J5Jyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCwgZ2VuZXJhdGVQb25kZXJCdXR0b25zIH0gPSByZXF1aXJlKFwiLi9wb25kZXJcIik7XHJcbmNvbnN0IHsgaGFzVG9vbCwgYWRkVG9vbCB9ID0gcmVxdWlyZSgnLi90b29scycpO1xyXG5jb25zdCB7IGdldEF0ZUZpc2gsIHNldEF0ZUZpc2ggfSA9IHJlcXVpcmUoJy4vYXRlRmlzaCcpO1xyXG5jb25zdCB7IGRyYXdBbGxDb25uZWN0aW9ucywgdXBkYXRlVG90YWwsIGNsZWFySm9iQXNzaWdubWVudHMsIHJlc2V0QWxsSm9icyB9ID0gcmVxdWlyZSgnLi9qb2JzJyk7XHJcbmNvbnN0IHsgY2FwaXRhbGl6ZUZpcnN0IH0gPSByZXF1aXJlKCcuL2NhcGl0YWxpemVGaXJzdCcpO1xyXG5jb25zdCB7IHBhc3NlZFN0YWdlLCByZXNldFN0YWdlcyB9ID0gcmVxdWlyZSgnLi9zdGFnZXMnKTtcclxuY29uc3QgeyByZWNhbGNNYXhDbG9uZXMgfSA9IHJlcXVpcmUoJy4vcmVjYWxjTWF4Q2xvbmVzJyk7XHJcbmNvbnN0IHsgaW5pdGlhbGl6ZVJlc291cmNlVGFncywgdXBkYXRlU2lkZWJhciB9ID0gcmVxdWlyZSgnLi9zaWRlYmFyJyk7XHJcbmNvbnN0IHsgcHJlc3RpZ2UgfSA9IHJlcXVpcmUoJy4vanNvbi9wcmVzdGlnZScpO1xyXG5jb25zdCB7IHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0IH0gPSByZXF1aXJlKCcuL3JlY2FsY3VsYXRlQnVpbGRpbmdDb3N0Jyk7XHJcbmNvbnN0IHsgdHJpZ2dlckZsb2F0VXBUZXh0IH0gPSByZXF1aXJlKCcuL3RyaWdnZXJGbG9hdFVwVGV4dCcpO1xyXG5cclxuXHJcblxyXG4vLyBJbml0aWFsaXplIHZhbHVlc1xyXG4vLyBsZXQgc2tpbGxlZCA9IGZhbHNlO1xyXG5cclxuXHJcbmZ1bmN0aW9uIHNldFRvdGFsVGltZSh0aW1lKSB7XHJcbiAgICB0b3RhbF90aW1lID0gdGltZTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8qIEdBVEhFUklORyBNQVRFUklBTFMqL1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBzaWRlYmFyUGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyZXNvdXJjZXNcIik7XHJcbmZ1bmN0aW9uIHN0b3BBbGxHYXRoZXJpbmcoKSB7XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMocmVzb3VyY2VzKSkge1xyXG4gICAgICAgIHZhbC5pc0dldHRpbmcgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCByQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYXRoZXJcIiArIGNhcGl0YWxpemVGaXJzdChrZXkpKTtcclxuICAgICAgICBpZiAockJ1dHRvbikgckJ1dHRvbi50ZXh0Q29udGVudCA9IHZhbC5kZWZhdWx0VGV4dDtcclxuXHJcbiAgICAgICAgLy8gU2V0IHNpZGViYXIgdG8gbm90IGJvbGRcclxuICAgICAgICBjb25zdCBzaWRlYmFyVGV4dCA9IHNpZGViYXJQYXJlbnQucXVlcnlTZWxlY3RvcignI3Jlc291cmNlLScgKyBrZXkpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoc2lkZWJhclRleHQpIHNpZGViYXJUZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAnbm9ybWFsJztcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGVtb2ppR2F0aGVyRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vtb2ppR2F0aGVyRGlzcGxheScpO1xyXG5mdW5jdGlvbiB0b2dnbGVSZXNvdXJjZShyZXNvdXJjZUtleSkge1xyXG4gICAgY29uc3QgcmVzb3VyY2UgPSByZXNvdXJjZXNbcmVzb3VyY2VLZXldO1xyXG5cclxuICAgIC8vIGVtb2ppRGl2LnRleHRDb250ZW50ID0gJ/CThq4nO1xyXG4gICAgY29uc3Qgc2lkZWJhclBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzb3VyY2VzXCIpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3Qgc2lkZWJhclRleHQgPSBzaWRlYmFyUGFyZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXNvdXJjZS0nICsgcmVzb3VyY2VLZXkpO1xyXG4gICAgY29uc3QgcmVzb3VyY2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2F0aGVyJyArIHJlc291cmNlS2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVzb3VyY2VLZXkuc2xpY2UoMSkpO1xyXG4gICAgZW1vamlHYXRoZXJEaXYudGV4dENvbnRlbnQgPSAn8JOAnyc7IC8vIERlZmF1bHQgZW1vamkg8JOAn1xyXG4gICAgaWYgKCFyZXNvdXJjZS5pc0dldHRpbmcpIHtcclxuICAgICAgICBzdG9wQWxsR2F0aGVyaW5nKCk7IC8vIFN0b3AgYWxsIGdhdGhlcmluZyBhY3Rpb25zXHJcbiAgICAgICAgcmVzb3VyY2UuaXNHZXR0aW5nID0gdHJ1ZTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcmVzb3VyY2VCdXR0b24udGV4dENvbnRlbnQgPSByZXNvdXJjZS5hY3RpdmVUZXh0O1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoc2lkZWJhclRleHQpIHNpZGViYXJUZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGVtb2ppR2F0aGVyRGl2LnRleHRDb250ZW50ID0gcmVzb3VyY2UuZW1vamk7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzb3VyY2UuZW1vamkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvdXJjZS5pc0dldHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcmVzb3VyY2VCdXR0b24udGV4dENvbnRlbnQgPSByZXNvdXJjZS5kZWZhdWx0VGV4dDtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKHNpZGViYXJUZXh0KSBzaWRlYmFyVGV4dC5zdHlsZS5mb250V2VpZ2h0ID0gJ25vcm1hbCc7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKiBCVVRUT05TIEdFTkVSQVRFICovXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJ1dHRvbnMoKSB7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJHZW5lcmF0aW5nIGJ1dHRvbnNcIik7XHJcbiAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgICAvLyBDcmVhdGUgdGhlIGNvbHVtbnNcclxuXHJcblxyXG4gICAgZm9yIChsZXQgYnVpbGRpbmdLZXkgaW4gYnVpbGRpbmdzKSB7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gY3JlYXRlQnVpbGRpbmdCdXR0b24oYnVpbGRpbmdLZXksIGJ1aWxkaW5ncyk7XHJcbiAgICAgICAgYnV0dG9uc1tidWlsZGluZ0tleV0gPSBidXR0b247XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJNYWRlIGJ1dHRvbiBmb3IgXCIgKyBidWlsZGluZ0tleSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY3JlYXRlQ29sdW1ucyA9IChwYXJlbnQpID0+IHtcclxuICAgICAgICBjb25zdCBjb2wxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY29uc3QgY29sMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGNvbnN0IGNvbDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgY29sMS5zdHlsZS53aWR0aCA9ICczMy4zMyUnO1xyXG4gICAgICAgIGNvbDIuc3R5bGUud2lkdGggPSAnMzMuMzMlJztcclxuICAgICAgICBjb2wzLnN0eWxlLndpZHRoID0gJzMzLjMzJSc7XHJcblxyXG4gICAgICAgIGNvbDEuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgICAgIGNvbDIuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgICAgIGNvbDMuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG5cclxuICAgICAgICBjb2wxLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgICAgICBjb2wyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgICAgICBjb2wzLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuXHJcbiAgICAgICAgLy8gcGFyZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleDsnICAvLyBTZXQgcGFyZW50IHRvIGJlIGEgZmxleCBjb250YWluZXJcclxuXHJcbiAgICAgICAgcGFyZW50LnByZXBlbmQoY29sMyk7XHJcbiAgICAgICAgcGFyZW50LnByZXBlbmQoY29sMik7XHJcbiAgICAgICAgcGFyZW50LnByZXBlbmQoY29sMSk7XHJcblxyXG4gICAgICAgIHJldHVybiBbY29sMSwgY29sMiwgY29sM107XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHRhYnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFicycpO1xyXG4gICAgY29uc3QgcHJvZHVjdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9kdWN0aW9uVGFiJyk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBleHBlcmltZW50Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4cGVyaW1lbnRUYWInKS5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLWNvbHVtbnMnKTtcclxuICAgIGNvbnN0IHBvbmRlckNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb25kZXJUYWInKTtcclxuICAgIC8vIGNvbnN0IGpvYkNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2JzVGFiJyk7XHJcbiAgICAvLyBZb3UgY2FuIGFkZCBtb3JlIGNvbnRhaW5lcnMgZm9yIGRpZmZlcmVudCB0YWJzIGFzIG5lZWRlZFxyXG5cclxuICAgIGNvbnN0IHByb2R1Y3Rpb25Db2x1bW5zID0gY3JlYXRlQ29sdW1ucyhwcm9kdWN0aW9uQ29udGFpbmVyKTtcclxuICAgIGNvbnN0IGV4cGVyaW1lbnRDb2x1bW5zID0gY3JlYXRlQ29sdW1ucyhleHBlcmltZW50Q29udGFpbmVyKTtcclxuICAgIGNvbnN0IHBvbmRlckNvbHVtbnMgPSBjcmVhdGVDb2x1bW5zKHBvbmRlckNvbnRhaW5lcik7XHJcbiAgICAvLyBjb25zdCBqb2JDb2x1bW5zID0gY3JlYXRlQ29sdW1ucyhqb2JDb250YWluZXIpO1xyXG4gICAgLy8gU2ltaWxhcmx5LCBjcmVhdGUgY29sdW1ucyBmb3Igb3RoZXIgdGFicyBhcyBuZWVkZWRcclxuXHJcbiAgICBsZXQgcHJvZHVjdGlvbkNvbHVtbkluZGV4ID0gMDtcclxuICAgIGxldCBleHBlcmltZW50Q29sdW1uSW5kZXggPSAwO1xyXG4gICAgbGV0IHBvbmRlckNvbHVtbkluZGV4ID0gMDtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGxldCBqb2JDb2x1bW5JbmRleCA9IDA7XHJcblxyXG4gICAgLy8gQWRkIGNvdW50ZXJzIGZvciBvdGhlciB0YWJzIGFzIG5lZWRlZFxyXG5cclxuICAgIGZvciAobGV0IGtleSBpbiBidXR0b25zKSB7XHJcbiAgICAgICAgY29uc3QgYnRuID0gYnV0dG9uc1trZXldO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5pZCA9IGtleTtcclxuICAgICAgICBidXR0b25FbGVtZW50LmNsYXNzTmFtZSA9IGJ0bi5jbGFzcztcclxuICAgICAgICBidXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gYnRuLnRleHQ7XHJcblxyXG4gICAgICAgIC8vIGJ1dHRvbkVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICAgICAgaWYgKGJ0bi50b29sdGlwRGVzYykgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgYnRuLnRvb2x0aXBEZXNjKTtcclxuICAgICAgICBpZiAoYnRuLnRvb2x0aXBFZmZlY3QpIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZWZmZWN0JywgYnRuLnRvb2x0aXBFZmZlY3QpO1xyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCd1bmxvY2snLCBidG4udW5sb2NrKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhidG4pO1xyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJywgYnRuLmRhdGFfYnVpbGRpbmcpO1xyXG4gICAgICAgIC8vIGlmIHRoaXMgcmVzb3VyY2UgaXNuJ3QgdW5sb2NrZWQsIGhpZGUgaXRcclxuICAgICAgICAvLyBpZiAoIWJ0bi5pc1Zpc2libGUpIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBidXR0b24gY29ycmVzcG9uZHMgdG8gYSBjcmFmdGVkIHJlc291cmNlIHVzaW5nIHRoZSBJRFxyXG4gICAgICAgIGNvbnN0IGNyYWZ0ZWRSZXNvdXJjZSA9IE9iamVjdC52YWx1ZXMoY3JhZnRlZFJlc291cmNlcykuZmluZChyZXNvdXJjZSA9PiByZXNvdXJjZS5pZCA9PT0ga2V5KTtcclxuXHJcbiAgICAgICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICBidG4udG9vbHRpcENvc3QgPSBnZW5lcmF0ZVRvb2x0aXBDb3N0KGNyYWZ0ZWRSZXNvdXJjZS5jb3N0KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBidG4udG9vbHRpcENvc3QpO1xyXG5cclxuICAgICAgICBpZiAoYnRuLnNob3dUYWIpIHtcclxuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHNob3dUYWIoYnRuLnNob3dUYWIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTd2l0Y2hpbmcgdG8gdGFiOiBcIiArIGJ0bi5zaG93VGFiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFwcGVuZCB0byB0aGUgYXBwcm9wcmlhdGUgY29sdW1uIGJhc2VkIG9uIHRoZSB0YWIgcHJvcGVydHlcclxuICAgICAgICBpZiAoYnRuLnRhYiA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHByb2R1Y3Rpb25Db2x1bW5zW3Byb2R1Y3Rpb25Db2x1bW5JbmRleF0uYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgICAgICAgIHByb2R1Y3Rpb25Db2x1bW5JbmRleCA9IChwcm9kdWN0aW9uQ29sdW1uSW5kZXggKyAxKSAlIDM7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoYnRuLnRhYiA9PT0gJ2V4cGVyaW1lbnQnKSB7XHJcbiAgICAgICAgICAgIGV4cGVyaW1lbnRDb2x1bW5zW2V4cGVyaW1lbnRDb2x1bW5JbmRleF0uYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgICAgICAgIGV4cGVyaW1lbnRDb2x1bW5JbmRleCA9IChleHBlcmltZW50Q29sdW1uSW5kZXggKyAxKSAlIDM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChidG4udGFiID09PSAndGFicycpIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICB0YWJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYnRuLnRhYiA9PT0gJ3BvbmRlcicpIHtcclxuICAgICAgICAgICAgcG9uZGVyQ29sdW1uc1twb25kZXJDb2x1bW5JbmRleF0uYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgICAgICAgIHBvbmRlckNvbHVtbkluZGV4ID0gKHBvbmRlckNvbHVtbkluZGV4ICsgMSkgJSAzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYnRuLnRhYiA9PT0gJ2pvYicpIHtcclxuICAgICAgICAgICAgLy8gam9iQ29sdW1uc1tqb2JDb2x1bW5JbmRleF0uYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgICAgICAgIC8vIGpvYkNvbHVtbkluZGV4ID0gKGpvYkNvbHVtbkluZGV4ICsgMSkgJSAzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgbW9yZSBjb25kaXRpb25zIGZvciBvdGhlciB0YWJzIGFzIG5lZWRlZFxyXG5cclxuICAgICAgICAvLyBVcGRhdGUgdG9vbHRpcCBmb3IgYnVpbGRpbmdzXHJcbiAgICAgICAgY29uc3QgYnVpbGRpbmcgPSBPYmplY3Qua2V5cyhidWlsZGluZ3MpLmZpbmQoYnVpbGRpbmcgPT4gYnVpbGRpbmcgPT09IGtleSk7XHJcbiAgICAgICAgaWYgKGJ1aWxkaW5nKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1aWxkaW5nLCBrZXkpO1xyXG4gICAgICAgICAgICAvLyBidG4udG9vbHRpcENvc3QgPSBnZW5lcmF0ZUJ1aWxkaW5nVG9vbHRpcENvc3QoYnVpbGRpbmdzW2J1aWxkaW5nXS5jb3N0KTtcclxuICAgICAgICAgICAgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3Qoa2V5LCBidWlsZGluZ3MsIGhhc1BlcmspO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBIaWRlIHRoZSBidXR0b25zIHdlIHNob3VsZG4ndCBzZWUgeWV0XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnRuKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoIWJ0bi5yZXF1aXJlbWVudCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b25FbGVtZW50LCBidG4ucmVxdWlyZW1lbnQoKSk7XHJcbiAgICAgICAgICAgICAgICBidXR0b25FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKCdFcnJvciB3aXRoIHJlcXVpcmVtZW50IHdoaWxlIGdlbmVyYXRpbmcgYnV0dG9uczogJywgYnRuLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgdG9vbHNUb1N0YWdlcyA9IHtcclxuICAgICdTaGFycFJvY2tzJzogJ2NyYWZ0Um9ja3MnLFxyXG4gICAgJ1NwZWFyJzogJ2Zpc2hpbmcnLFxyXG4gICAgXCJGaXNoaW5nUm9kXCI6ICdmaXNoaW5nJyxcclxuICAgICdBeGUnOiAnd29vZCcsXHJcbiAgICBcIlBpY2theGVcIjogJ29yZSdcclxufTtcclxuXHJcbi8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIGFzc2V0c1xyXG5jb25zdCB2aXNpYmlsaXR5UnVsZXMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbChcInN0aWNrc1wiLCByZXNvdXJjZXMpID49IDEsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZShcInN0aWNrXCIpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoJ3N0aWNrcycsIHJlc291cmNlcykgPj0gMTAsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgndmluZXMnKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKCd2aW5lcycsIHJlc291cmNlcykgPj0gMTAsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgncm9ja3MnKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKFwicm9ja3NcIiwgcmVzb3VyY2VzKSA+PSAxLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4geyBtYWtlVmlzaWJsZShcInRhYi1idXR0b25cIik7IG1ha2VWaXNpYmxlKCdjcmFmdFJvY2tzJyk7IH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRDcmFmdGVkUmVzb3VyY2UoJ3NwZWFyJywgY3JhZnRlZFJlc291cmNlcykgPiAwLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3NwZWFyJylcclxuICAgIH0sXHJcblxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoXCJmaXNoXCIsIHJlc291cmNlcykgPj0gMSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCdmaXNoaW5nJylcclxuICAgIH0sXHJcblxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gaGFzVG9vbChcIkF4ZVwiKSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCd3b29kJylcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRDcmFmdGVkUmVzb3VyY2UoJ3JvcGUnKSA+PSAxLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3JvcGUnKVxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbCgnZmlzaCcsIHJlc291cmNlcykgPj0gNSAmJiAhZ2V0QXRlRmlzaCgpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4ge1xyXG4gICAgICAgICAgICBtYWtlVmlzaWJsZSgnZWF0RmlzaCcpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlYXRGaXNoJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgIC8vIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VhdEZpc2gnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldEF0ZUZpc2goKSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IHsgbWFrZVZpc2libGUoJ2Nsb25lJyk7IG1ha2VWaXNpYmxlKCdwb25kZXItdGFiJyk7IH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBpc1BvbmRlcmVkKCdwb25kZXJGaW5pc2gnKSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG5hdmlnYXRlVG8oJ3N0YWdlMi5odG1sJylcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBpc1BvbmRlcmVkKCdiaWdnZXJTaGVsdGVyJykgfHwgaXNQb25kZXJlZCgnYmlnZ2VySHV0JykgfHwgaXNQb25kZXJlZCgnYmlnZ2VySG91c2UnKSB8fCBpc1BvbmRlcmVkKCdiaWdnZXJUZWVwZWUnKSB8fCBpc1BvbmRlcmVkKCdldmVuQmlnZ2VyU2hlbHRlcicpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gcmVjYWxjTWF4Q2xvbmVzKClcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbCgnY2xvbmVzJykgPj0gMzAsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgncHJlc3RpZ2UnKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKCdjbGF5JykgPiAwLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ2NsYXknKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtYmFzaWNzJykgJiYgaXNQb25kZXJlZCgnb3JnYW5pemF0aW9uJyksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBpbml0aWFsaXplUmVzb3VyY2VUYWdzKHRydWUpXHJcbiAgICB9XHJcbl07XHJcblxyXG5mdW5jdGlvbiByZW5kZXIoKSB7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ3VwZGF0aW5nIHZpc2libGUnKTtcclxuICAgIHZpc2liaWxpdHlSdWxlcy5mb3JFYWNoKHJ1bGUgPT4ge1xyXG4gICAgICAgIGlmIChydWxlLmNvbmRpdGlvbigpKSB7XHJcbiAgICAgICAgICAgIHJ1bGUuYWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZm9yIChsZXQgdG9vbCBpbiB0b29sc1RvU3RhZ2VzKSB7XHJcbiAgICAgICAgaWYgKCFoYXNUb29sKHRvb2wpICYmIGdldENyYWZ0ZWRSZXNvdXJjZSh0b29sKSA+IDApIHtcclxuICAgICAgICAgICAgYWRkVG9vbCh0b29sKTtcclxuICAgICAgICAgICAgbWFrZVZpc2libGUodG9vbHNUb1N0YWdlc1t0b29sXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSgpO1xyXG4gICAgICAgIGlmIChjdXJyZW50SG92ZXJCdXR0b24gIT09IG51bGwpIHVwZGF0ZVRvb2x0aXAoY3VycmVudEhvdmVyQnV0dG9uKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIFN3aXRjaCB0YWJzXHJcbmxldCB0YWJDb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YWItY29udGVudCA+IC5jb250ZW50XCIpOyAvLyBEaXJlY3QgY2hpbGRyZW4gb25seVxyXG5mdW5jdGlvbiBzaG93VGFiKHRhYk5hbWUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwic2hvdyB0YWI6IFwiICsgdGFiTmFtZSk7XHJcbiAgICAvLyBHZXQgYWxsIG1haW4gY29udGFpbmVyIGRpdnMgYW5kIGhpZGUgdGhlbVxyXG4gICAgbGV0IHByZXZUYWIgPSAnJztcclxuICAgIGZvciAobGV0IGNvbnRlbnQgb2YgdGFiQ29udGFpbmVycykge1xyXG4gICAgICAgIGlmIChjb250ZW50LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgcHJldlRhYiA9IGNvbnRlbnQuaWQ7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29udGVudC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpOyB9LCAxMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgYWxsIHRhYiBidXR0b25zIGFuZCByZW1vdmUgdGhlIGFjdGl2ZSBjbGFzc1xyXG4gICAgbGV0IHRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYi1idXR0b25cIik7XHJcbiAgICBmb3IgKGxldCB0YWIgb2YgdGFicykge1xyXG4gICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNob3cgdGhlIGNsaWNrZWQgdGFiJ3MgbWFpbiBjb250YWluZXIgZGl2IGFuZCBtYWtlIHRoZSB0YWIgYnV0dG9uIGFjdGl2ZVxyXG4gICAgbGV0IGFjdGl2ZUNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWJOYW1lKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuXHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7IGFjdGl2ZUNvbnRlbnQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTsgfSwgMTAwKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGFjdGl2ZUNvbnRlbnQuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgIH0sIDIwMCk7XHJcblxyXG5cclxuICAgIC8vIEdldCB0aGUgY2xpY2tlZCB0YWIgYnV0dG9uIGFuZCBtYWtlIGl0IGFjdGl2ZVxyXG4gICAgY29uc3QgdGFiU3RyaW5nID0gYCMke3RhYk5hbWV9QnV0dG9uYDtcclxuICAgIGxldCBhY3RpdmVUYWJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhYlN0cmluZyk7XHJcblxyXG4gICAgaWYgKGFjdGl2ZVRhYkJ1dHRvbikgYWN0aXZlVGFiQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgaWYgKHRhYk5hbWUgPT09ICdqb2JzVGFiJylcclxuICAgICAgICBkcmF3QWxsQ29ubmVjdGlvbnMoKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhwcmV2VGFiLCAnPicsIHRhYk5hbWUpO1xyXG4gICAgLy8gaWYgKHRhYk5hbWUgPT09ICdmYWN0b3J5VGFiJykge1xyXG4gICAgLy8gICAgIGlmIChwcmV2VGFiICE9ICdmYWN0b3J5VGFiJykge1xyXG5cclxuICAgIC8vICAgICAgICAgY2xlYXJTaWRlYmFyKCk7XHJcbiAgICAvLyAgICAgICAgIGluaXRpYWxpemVSZXNvdXJjZVRhZ3MoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcbiAgICAvLyBlbHNlIGlmIChwcmV2VGFiID09PSAnZmFjdG9yeVRhYicpIHtcclxuICAgIC8vICAgICBjbGVhclNpZGViYXIoKTtcclxuICAgIC8vICAgICB1cGRhdGVTaWRlYmFyKCk7XHJcbiAgICAvLyB9XHJcbiAgICAvLyBjbGVhclNpZGViYXIoKTtcclxuICAgIHVwZGF0ZVNpZGViYXIoKTtcclxufVxyXG5cclxuXHJcbi8qIEhPVEtFWVMgKi9cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcclxuICAgICAgICBjYXNlICcxJzpcclxuICAgICAgICAgICAgc2hvd1RhYigncHJvZHVjdGlvblRhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICcyJzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCd0YWItYnV0dG9uJykpIHNob3dUYWIoJ2V4cGVyaW1lbnRUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gQWRkIGNhc2VzIGZvciBvdGhlciB0YWJzIGFzIG5lZWRlZFxyXG4gICAgICAgIGNhc2UgJzMnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ3BvbmRlci10YWInKSkgc2hvd1RhYigncG9uZGVyVGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJzQnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ2pvYnMtdGFiJykpIHNob3dUYWIoJ2pvYnNUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnNSc6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgnc2tpbGxzVGFibGUnKSkgc2hvd1RhYignc2tpbGxzVGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJzYnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ3BlcmtzVGFiJykpIHNob3dUYWIoJ3BlcmtzVGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJzcnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ2ZhY3RvcnlUYWInKSkgc2hvd1RhYignZmFjdG9yeVRhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuLyogREFSSyBNT0RFICovXHJcbi8vIGNvbnN0IGRhcmtNb2RlVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXJrTW9kZVRvZ2dsZVwiKTtcclxuY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XHJcbmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyay1tb2RlJyk7XHJcbi8vIEB0cy1pZ25vcmVcclxuLy8gZGFya01vZGVUb2dnbGUuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyaycpO1xyXG5sZXQgaXNEYXJrID0gdHJ1ZTtcclxuXHJcblxyXG4vKiBDVVRTQ0VORVMgKi9cclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBlYXRGaXNoKCkge1xyXG4gICAgaWYgKCFnZXRBdGVGaXNoKCkgJiYgZ2V0TWF0ZXJpYWwoJ2Zpc2gnLCByZXNvdXJjZXMpID49IDEpIHtcclxuICAgICAgICAvLyBlYXQgYSBmaXNoIGFuZCBibGFja291dFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKCdmaXNoJywgLTEpO1xyXG4gICAgICAgIC8vIENhbGwgdGhpcyBmdW5jdGlvbiB0byBzdGFydCB0aGUgc2VxdWVuY2VcclxuICAgICAgICBmYWRlVG9CbGFjaygpO1xyXG4gICAgICAgIC8vIEhpZGUgZmlzaCBidXR0b25cclxuICAgICAgICBzZXRBdGVGaXNoKHRydWUpO1xyXG4gICAgICAgIGNvbnN0IGZpc2hCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VhdEZpc2hcIik7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGZpc2hCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY2hhbmdlTWVzc2FnZShcIllvdSBhcmUgd2l0aCB5b3Vyc2VsZiBpbiBhIGZvcmVzdC5cIiwgJ3dpdGggeW91cnNlbGYnKTtcclxuICAgICAgICAgICAgaW5jcmVhc2VNYXgoJ2Nsb25lcycsIDEpO1xyXG4gICAgICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKCdjbG9uZXMnLCAxKTtcclxuICAgICAgICB9LCAxMDAwKTsgLy8gZGVsYXkgb2YgMXNcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBmYWRlVG9CbGFjaygpIHtcclxuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpO1xyXG4gICAgY29uc3Qgb3ZlcmxheVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS10ZXh0Jyk7XHJcbiAgICBjb25zdCBvdmVybGF5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktYnV0dG9uJyk7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBvdmVybGF5VGV4dC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgfSwgMjAwMCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG92ZXJsYXlCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgb3ZlcmxheUJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgfSwgNTAwMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVPdmVybGF5KCkge1xyXG4gICAgY29uc3Qgb3ZlcmxheVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS10ZXh0Jyk7XHJcbiAgICBvdmVybGF5VGV4dC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG5cclxuICAgIGNvbnN0IG92ZXJsYXlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS1idXR0b24nKTtcclxuICAgIG92ZXJsYXlCdXR0b24uc3R5bGUub3BhY2l0eSA9ICcwJztcclxuXHJcbiAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKTtcclxuICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICBjb25zdCBpc2VrYWlCdXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lzZWthaUJ1dHRvbnMnKTtcclxuICAgIC8vIGlzZWthaUJ1dHRvbnMuY2hpbGROb2Rlcy5mb3JFYWNoKGNoaWxkID0+IGlzZWthaUJ1dHRvbnMucmVtb3ZlQ2hpbGQoY2hpbGQpKTtcclxuICAgIGlzZWthaUJ1dHRvbnMuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbmF2aWdhdGVUbyh1cmwpIHtcclxuICAgIC8vIFRyaWdnZXIgdGhlIG92ZXJsYXkgdG8gZmFkZSBpblxyXG4gICAgdmFyIG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS10cmFuc2l0aW9uLW92ZXJsYXknKTtcclxuICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnZmFkZS1pbicpO1xyXG5cclxuICAgIC8vIFdhaXQgZm9yIHRoZSBmYWRlIGluIHRvIGNvbXBsZXRlIGJlZm9yZSBjaGFuZ2luZyB0aGUgcGFnZVxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgICB9LCAzMDApOyAvLyBUaGlzIGR1cmF0aW9uIHNob3VsZCBtYXRjaCB0aGUgQ1NTIG9wYWNpdHkgdHJhbnNpdGlvblxyXG59XHJcblxyXG4vLyBFeGFtcGxlIHVzYWdlXHJcbi8vIG5hdmlnYXRlVG8oJ25leHQtcGFnZS5odG1sJyk7XHJcblxyXG5cclxuXHJcbi8vIE1lc3NhZ2UgXHJcbmNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UnKTtcclxuZnVuY3Rpb24gY2hhbmdlTWVzc2FnZShuZXdNZXNzYWdlLCBjbG9uZVdvcmRzKSB7XHJcbiAgICBjb25zdCBtb2RpZmllZE1lc3NhZ2UgPSBuZXdNZXNzYWdlLnJlcGxhY2UoY2xvbmVXb3JkcywgYDxzcGFuIGNsYXNzPSd0b29sdGlwJyBpZD1cImFsb25lXCIgdG9vbHRpcERlc2M9XCJZb3UgZmVlbCBwZWNraXNoIGZvciBzb21lIHNlYWZvb2RcIj4ke2Nsb25lV29yZHN9PC9zcGFuPmApO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgbWVzc2FnZUVsZW1lbnQuaW5uZXJIVE1MID0gbW9kaWZpZWRNZXNzYWdlO1xyXG59XHJcbmZ1bmN0aW9uIGdldE1lc3NhZ2UoKSB7XHJcbiAgICByZXR1cm4gbWVzc2FnZUVsZW1lbnQ7XHJcbn1cclxuXHJcbi8qIEdBTUUgTE9PUCAqL1xyXG5cclxuXHJcbmxldCBtaWxsaXNlY29uZHNfcGVyX2ZyYW1lID0gNTA7XHJcbmxldCBsYXN0X3RpbWUgPSBudWxsO1xyXG5sZXQgdG90YWxfdGltZSA9IDA7XHJcbmxldCBhY2N1bXVsYXRlZF9sYWcgPSAwO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGxvb3AoY3VycmVudF90aW1lKSB7XHJcbiAgICBpZiAobGFzdF90aW1lID09PSBudWxsKSBsYXN0X3RpbWUgPSBjdXJyZW50X3RpbWU7XHJcblxyXG4gICAgY29uc3QgZGVsdGFfdGltZSA9IGN1cnJlbnRfdGltZSAtIGxhc3RfdGltZTtcclxuXHJcbiAgICB0b3RhbF90aW1lICs9IGRlbHRhX3RpbWU7XHJcbiAgICBhY2N1bXVsYXRlZF9sYWcgKz0gZGVsdGFfdGltZTtcclxuXHJcbiAgICBsYXN0X3RpbWUgPSBjdXJyZW50X3RpbWU7XHJcblxyXG4gICAgLy8gQ2F0Y2ggdXAgYWxsIHRoZSBtaXNzZWQgdGlja3NcclxuICAgIGxldCBub3JtYWxSYXRlID0gbWlsbGlzZWNvbmRzX3Blcl9mcmFtZTtcclxuICAgIC8vIHNpbXVsYXRlIHdpdGggbGVzcyBmaWRlbGl0eSB0byBtYWtlIHVwIHRpbWVcclxuICAgIC8vIHdoaWxlIChhY2N1bXVsYXRlZF9sYWcgPj0gMTAwICogbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSkge1xyXG4gICAgLy8gICAgIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUgKj0gMTAwO1xyXG4gICAgLy8gfVxyXG4gICAgaWYgKGFjY3VtdWxhdGVkX2xhZyA+PSAxMCAqIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUpIHtcclxuICAgICAgICBtaWxsaXNlY29uZHNfcGVyX2ZyYW1lID0gYWNjdW11bGF0ZWRfbGFnIC8gMTA7XHJcbiAgICB9XHJcbiAgICB3aGlsZSAoYWNjdW11bGF0ZWRfbGFnID49IG1pbGxpc2Vjb25kc19wZXJfZnJhbWUpIHtcclxuXHJcbiAgICAgICAgYWNjdW11bGF0ZWRfbGFnIC09IG1pbGxpc2Vjb25kc19wZXJfZnJhbWU7XHJcbiAgICAgICAgdXBkYXRlKG1pbGxpc2Vjb25kc19wZXJfZnJhbWUsIHRvdGFsX3RpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUgPSBub3JtYWxSYXRlO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG59XHJcblxyXG5cclxubGV0IHRpbWVfc2luY2VfbGFzdF9zYXZlID0gMDtcclxubGV0IHRpbWVfc2luY2VfbWFudWZhdHVyZSA9IDA7XHJcbmZ1bmN0aW9uIHVwZGF0ZShkZWx0YV90aW1lLCB0b3RhbF90aW1lKSB7XHJcblxyXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHJlc291cmNlcykpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInVwZGF0aW5nIFwiICsga2V5KTtcclxuXHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChrZXksIGNhbGNJbmNyZWFzZShrZXksIGRlbHRhX3RpbWUpKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVSZXNvdXJjZUluY3JlYXNlUmF0ZXMoKTtcclxuICAgIHJlbmRlcigpO1xyXG5cclxuICAgIC8vIFNhdmUgdGhlIGdhbWUgZXZlcnkgMTAgc2Vjb25kc1xyXG4gICAgdGltZV9zaW5jZV9sYXN0X3NhdmUgKz0gZGVsdGFfdGltZTtcclxuICAgIHRpbWVfc2luY2VfbWFudWZhdHVyZSArPSBkZWx0YV90aW1lO1xyXG4gICAgdG90YWxfdGltZSArPSBkZWx0YV90aW1lO1xyXG4gICAgaWYgKHRpbWVfc2luY2VfbGFzdF9zYXZlID49IDEwMDAwKSB7XHJcbiAgICAgICAgc2F2ZUdhbWUoKTtcclxuICAgICAgICB0aW1lX3NpbmNlX2xhc3Rfc2F2ZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFudWZhY3R1cmUgZXZlcnkgc2Vjb25kXHJcbiAgICBpZiAocGFzc2VkU3RhZ2UoJ2ZhY3RvcnlUYWInKSAmJiB0aW1lX3NpbmNlX21hbnVmYXR1cmUgPj0gMTAwMCkge1xyXG4gICAgICAgIGF0dGVtcHRNYW51ZmFjdHVyZSgpO1xyXG4gICAgICAgIHRpbWVfc2luY2VfbWFudWZhdHVyZSA9IDA7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyB3aW5kb3cuc2V0SW50ZXJ2YWwocmVuZGVyLCAxMDApIC8vIFVwZGF0ZSB2aXN1YWxzIDEwIHRpbWVzIHBlciBzZWNvbmRcclxuLy8gd2luZG93LnNldEludGVydmFsKHRpY2ssIDEwMDApOyAvLyBFdmVyeSB0aWNrIGxhc3RzIGZvciAxIHNlY29uZFxyXG4vLyB3aW5kb3cuc2V0SW50ZXJ2YWwoc2F2ZUdhbWUsIDEwMDAwKTsgLy8gU2F2ZSB0aGUgZ2FtZSBldmVyeSAxMCBzZWNvbmRzXHJcblxyXG5cclxuXHJcbi8vIGNvbnN0IG15UmVzb3VyY2VzID0ge307XHJcblxyXG4vLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZFJlc291cmNlQnRuXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc291cmNlRm9ybVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4vLyB9KTtcclxuXHJcbmZ1bmN0aW9uIGFkZFJlc291cmNlKCkge1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgcmVzb3VyY2VOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZU5hbWVcIikudmFsdWU7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBhY3RpdmVUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZUFjdGl2ZVRleHRcIikudmFsdWU7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBkZWZhdWx0VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VEZWZhdWx0VGV4dFwiKS52YWx1ZTtcclxuXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBidG5UZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5UZXh0XCIpLnZhbHVlO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgYnRuVG9vbHRpcERlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blRvb2x0aXBEZXNjXCIpLnZhbHVlO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgYnRuVG9vbHRpcENvc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blRvb2x0aXBDb3N0XCIpLnZhbHVlO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHZhciBuZXdSZXNvdXJjZSA9IG15UmVzb3VyY2VzW3Jlc291cmNlTmFtZV0gPSB7XHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgaWQ6IFwiZ2F0aGVyXCIgKyByZXNvdXJjZU5hbWUsXHJcbiAgICAgICAgaXNHZXR0aW5nOiBmYWxzZSxcclxuICAgICAgICBhY3RpdmVUZXh0OiBhY3RpdmVUZXh0LFxyXG4gICAgICAgIGRlZmF1bHRUZXh0OiBkZWZhdWx0VGV4dCxcclxuICAgICAgICAvLyAuLi4gQWRkIG90aGVyIGF0dHJpYnV0ZXMgYXMgZmV0Y2hlZCBmcm9tIGZvcm0gLi4uXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgYnV0dG9uIG9iamVjdFxyXG4gICAgdmFyIG5ld0J1dHRvbiA9IGJ1dHRvbnNbXCJnYXRoZXJcIiArIHJlc291cmNlTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlc291cmNlTmFtZS5zbGljZSgxKV0gPSB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwICcsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogYnRuVGV4dCxcclxuICAgICAgICB0b29sdGlwRGVzYzogYnRuVG9vbHRpcERlc2MsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6IGJ0blRvb2x0aXBDb3N0LFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlIC8vIEJ5IGRlZmF1bHQsIG1ha2luZyB0aGlzIGFsd2F5cyB2aXNpYmxlLiBNb2RpZnkgYXMgbmVlZGVkLlxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhuZXdSZXNvdXJjZSk7XHJcbiAgICBjb25zb2xlLmxvZyhuZXdCdXR0b24pO1xyXG5cclxuICAgIC8vIEhpZGUgZm9ybSBvbmNlIHJlc291cmNlIGlzIGFkZGVkXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc291cmNlRm9ybVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgLy8gT3B0aW9uYWxseSwgeW91IGNhbiB1cGRhdGUgdGhlIFVJIHRvIHNob3cgdGhlIGFkZGVkIHJlc291cmNlXHJcbiAgICAvLyB1cGRhdGVVSShyZXNvdXJjZU5hbWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVVSShyZXNvdXJjZU5hbWUpIHtcclxuICAgIC8vIEhlcmUgeW91IGNhbiBjcmVhdGUgYSBuZXcgRE9NIGVsZW1lbnQgdG8gZGlzcGxheSB0aGUgYWRkZWQgcmVzb3VyY2VcclxuICAgIGNvbnN0IHJlc291cmNlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIHJlc291cmNlRGl2LmlubmVySFRNTCA9IGAke3Jlc291cmNlTmFtZX06ICR7cmVzb3VyY2VzW3Jlc291cmNlTmFtZV0udmFsdWV9YDtcclxuXHJcbiAgICAvLyBBcHBlbmQgdG8gc29tZSBjb250YWluZXJcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVzb3VyY2VEaXYpO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuY29uc3QgdG9vbHRpcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeW5hbWljLXRvb2x0aXAnKTtcclxuXHJcbmZ1bmN0aW9uIHNob3dUb29sdGlwKHRhcmdldCwgZGVzYywgZWZmZWN0LCBjb3N0KSB7XHJcbiAgICBsZXQgY29udGVudCA9ICcnO1xyXG5cclxuICAgIGlmIChkZXNjKSB7XHJcbiAgICAgICAgY29udGVudCArPSBgPHNwYW4gPiR7ZGVzY308L3NwYW4+PGhyPmA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVmZmVjdCkge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gYDxzcGFuIHN0eWxlPVwiY29sb3I6IzAwQUJFN1wiPiR7ZWZmZWN0fTwvc3Bhbj48aHI+YDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29zdCkge1xyXG4gICAgICAgIC8vIGNvbnRlbnQgKz0gYDxzcGFuIHN0eWxlPVwiY29sb3I6I0Y0RDAzRlwiPiR7Y29zdH08L3NwYW4+PGJyPmA7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHN0ciA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFttYXRlcmlhbCwgYW1vdW50XSBvZiBPYmplY3QuZW50cmllcyhjb3N0KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgbWF0ZXJpYWwgPSByZXE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNFbm91Z2ggPSBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSA+PSBhbW91bnQ7LyogWW91ciBsb2dpYyB0byBjaGVjayBpZiB0aGVyZSdzIGVub3VnaCBvZiB0aGUgbWF0ZXJpYWwgKi87XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JDbGFzcyA9IGhhc0Vub3VnaCA/ICdlbm91Z2gnIDogJ25vdC1lbm91Z2gnO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdldE1heChtYXRlcmlhbCkgPCBhbW91bnQpIGNvbG9yQ2xhc3MgPSAnZXhjZWVkcy1tYXgnO1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGA8c3BhbiBjbGFzcz1cInRvb2x0aXAtJHttYXRlcmlhbH0gJHtjb2xvckNsYXNzfVwiPiR7YW1vdW50LnRvRml4ZWQoMCl9ICR7bWF0ZXJpYWx9PC9zcGFuPmA7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZHNSZW1haW5pbmcgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1ttYXRlcmlhbF0pIHNlY29uZHNSZW1haW5pbmcgPSBjYWxjU2Vjb25kc1JlbWFpbmluZyhtYXRlcmlhbCwgYW1vdW50KTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNlY29uZHNSZW1haW5pbmcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZHNSZW1haW5pbmcgPiAwICYmIGNvbG9yQ2xhc3MgIT0gJ2V4Y2VlZHMtbWF4JykgeyBzdHIgKz0gYDxzcGFuIGNsYXNzPVwidGltZS1yZW1haW5pbmdcIj4oJHsoc2Vjb25kc1JlbWFpbmluZykudG9GaXhlZCgwKX0gc2Vjb25kcyk8L3NwYW4+YDsgfVxyXG4gICAgICAgICAgICAgICAgc3RyICs9IGA8YnI+YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250ZW50ICs9IHN0cjtcclxuXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gY29zdDtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihcIkNvdWxkbid0IG1ha2Ugbm9ybWFsIGNvc3QgZm9yIGJ1dHRvbjogXCIsIHRhcmdldCwgY29zdCwgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKHRhcmdldCwgY29udGVudCk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSAodGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0ICsgNSkgKyAncHgnO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdG9vbHRpcC5zdHlsZS50b3AgPSAodGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIHRvb2x0aXAub2Zmc2V0SGVpZ2h0IC8gMikgKyAncHgnO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxufVxyXG5cclxuZnVuY3Rpb24gaGlkZVRvb2x0aXAoKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKSB7XHJcbiAgICBjb25zdCBkZXNjID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWRlc2MnKSB8fCBidXR0b24uZ2V0QXR0cmlidXRlKCd0b29sdGlwRGVzYycpO1xyXG4gICAgY29uc3QgZWZmZWN0ID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWVmZmVjdCcpO1xyXG4gICAgLy8gY29uc3QgY29zdCA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1jb3N0Jyk7XHJcblxyXG4gICAgY29uc3QgY29uZmlnID0gZ2V0UmVzb3VyY2VDb25maWdCeUlkKGJ1dHRvbi5pZCkgfHwgZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZChidXR0b24uaWQpIHx8IGJ1aWxkaW5nc1tidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJyldIHx8IHBvbmRlcnNbYnV0dG9uLmdldEF0dHJpYnV0ZSgndW5sb2NrJyldO1xyXG4gICAgLy8gY29uc29sZS5sb2coY29uZmlnKTtcclxuICAgIGNvbnN0IGNvc3QgPSAoY29uZmlnICYmIGNvbmZpZy5jb3N0KSB8fCBidXR0b24uZ2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcpIHx8IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1jb3N0Jyk7XHJcbiAgICBzaG93VG9vbHRpcChidXR0b24sIGRlc2MsIGVmZmVjdCwgY29zdCk7XHJcbn1cclxuXHJcblxyXG4vLyBBZnRlciBhbGwgaGFzIGJlZW4gbG9hZGVkXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoZXZlbnQpID0+IHtcclxuICAgIGdlbmVyYXRlUG9uZGVyQnV0dG9ucyhwb25kZXJzKTtcclxuICAgIC8vIGFwcGVuZENyYWZ0ZWRSZXNvdXJjZUJ1dHRvbnMoKTtcclxuICAgIGdlbmVyYXRlQnV0dG9ucygpOyAvLyBDYWxsIHRoaXMgb25jZSBvbiBwYWdlIGxvYWQgb3IgZ2FtZSBpbml0aWFsaXphdGlvblxyXG5cclxuICAgIGluaXRpYWxpemVSZXNvdXJjZVRhZ3MoKTtcclxuICAgIGxvYWRHYW1lKCk7XHJcblxyXG4gICAgY2xlYXJTaWRlYmFyKCk7XHJcbiAgICBpbml0aWFsaXplUmVzb3VyY2VUYWdzKCk7IC8vIGNoZWNrIGlmIHdlIG5lZWQgZ3JvdXBzXHJcblxyXG4gICAgYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucygpO1xyXG5cclxuICAgIHVwZGF0ZVNpZGViYXIoKTtcclxuICAgIC8vIGZvciAoY29uc3QgW3Jlc291cmNlTmFtZSwgdl0gb2YgT2JqZWN0LmVudHJpZXMocmVzb3VyY2VzKSlcclxuICAgIC8vICAgICB1cGRhdGVEaXNwbGF5VmFsdWUocmVzb3VyY2VOYW1lKTtcclxuICAgIHNob3dUYWIoJ3Byb2R1Y3Rpb25UYWInKTtcclxuICAgIHJlcXVpcmUoJy4vdHJhZGUnKS5nZW5lcmF0ZVRyYWRlVGFibGUocmVzb3VyY2VzKTtcclxuXHJcbiAgICAvLyBjb25zdCBncm91cENoZWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyb3VwQ2hlY2snKTtcclxuICAgIC8vIGdyb3VwQ2hlY2suYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgLy8gICAgIC8vIFRvZ2dsZSB2aXNpYmlsaXR5IG9mIGdyb3Vwc1xyXG4gICAgLy8gICAgIGluaXRpYWxpemVSZXNvdXJjZVRhZ3MoZ3JvdXBDaGVjay5jaGVja2VkKTtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZygnZ3JvdXBzPyAnLCBncm91cENoZWNrLmNoZWNrZWQpO1xyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UktleUZyb21JRChpZCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgW3IsIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMocmVzb3VyY2VzKSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZXNbcl0uaWQsIGlkKTtcclxuICAgICAgICAgICAgaWYgKHZhbC5pZCA9PT0gaWQpIHJldHVybiByO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJ2Vycm9yICcgKyBpZDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldENSS2V5RnJvbUlEKGlkKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBbciwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhjcmFmdGVkUmVzb3VyY2VzKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyLCB2YWwsIGlkKTtcclxuICAgICAgICAgICAgaWYgKHZhbC5pZCArIFwiQnV0dG9uXCIgPT09IGlkKSByZXR1cm4gcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICdlcnJvciAnICsgaWQ7XHJcbiAgICB9XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQubWF0Y2hlcyhcImJ1dHRvblwiKSkge1xyXG4gICAgICAgICAgICAvLyBvbmUgb2Ygb3VyIGJ1dHRvbnMgd2FzIGNsaWNrZWRcclxuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2xpY2tlZCcsIGJ1dHRvbik7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgdG9vbHRpcHMgXHJcbiAgICAgICAgICAgIC8vIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCd0b29sdGlwJykpIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuICAgICAgICAgICAgLy8gdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG5cclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBpZiAoYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YV9idWlsZGluZycpICYmIGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGFfYnVpbGRpbmcnKSAhPT0gJ3VuZGVmaW5lZCcgJiYgYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygncHVyY2hhc2FibGUnKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgdmFyIGJ1aWxkaW5nID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YV9idWlsZGluZycpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFg7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WTtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IGJ1eU1heEJ1aWxkaW5ncyhidWlsZGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckZsb2F0VXBUZXh0KHgsIHksIGArJHtjb3VudH0gJHtjYXBpdGFsaXplRmlyc3QoYnVpbGRpbmcpfXNgLCAnYXF1YScpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBidXlCdWlsZGluZyhidWlsZGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckZsb2F0VXBUZXh0KHgsIHksIGArMSAke2NhcGl0YWxpemVGaXJzdChidWlsZGluZyl9YCwgJ2FxdWEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygndW5sb2NrJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVubG9ja0F0dHIgPSBidXR0b24uZ2V0QXR0cmlidXRlKCd1bmxvY2snKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codW5sb2NrQXR0cik7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9uZGVyc1t1bmxvY2tBdHRyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW5VbmxvY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IG1hdGVyaWFsIGluIHBvbmRlcnNbdW5sb2NrQXR0cl0uY29zdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPCBwb25kZXJzW3VubG9ja0F0dHJdLmNvc3RbbWF0ZXJpYWxdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNhbm5vdCB1bmxvY2sgXCIgKyB1bmxvY2tBdHRyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhblVubG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5VbmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gcG9uZGVyc1t1bmxvY2tBdHRyXS5jb3N0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKG1hdGVyaWFsLCAtcG9uZGVyc1t1bmxvY2tBdHRyXS5jb3N0W21hdGVyaWFsXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9uZGVyc1t1bmxvY2tBdHRyXS5pc1BvbmRlcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVZpc2libGUodW5sb2NrQXR0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyByZXNvdXJjZUtleSArIFwiVmFsdWVcIikudGV4dENvbnRlbnQgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS52YWx1ZS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHRoaXMgYnV0dG9uIGRpc2FwcGVhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJVbmxvY2tpbmcgXCIgKyB1bmxvY2tBdHRyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGlmIChidXR0b24uaWQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZC5zbGljZSgwLCA2KSA9PT0gXCJnYXRoZXJcIikgdG9nZ2xlUmVzb3VyY2UoZ2V0UktleUZyb21JRChidXR0b24uaWQpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQuc2xpY2UoMCwgNSkgPT09ICdjcmFmdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSkgY3JhZnRBbGxSZXNvdXJjZXMoZ2V0Q1JLZXlGcm9tSUQoYnV0dG9uLmlkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgY3JhZnRSZXNvdXJjZShnZXRDUktleUZyb21JRChidXR0b24uaWQpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdzYXZlQnV0dG9uJykgc2F2ZUdhbWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdlYXRGaXNoJykgZWF0RmlzaCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJ292ZXJsYXktYnV0dG9uJykgaGlkZU92ZXJsYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdkZWxldGVTYXZlQnV0dG9uJyAmJiBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB5b3VyIHNhdmUgZGF0YT8gVGhpcyB3aWxsIHJlc2V0IGFsbCB5b3VyIHByb2dyZXNzLlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzYXZlJyk7IGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkID09PSAnY2xlYXJKb2JBc3NpZ25tZW50cycpIGNsZWFySm9iQXNzaWdubWVudHMoKTtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJ2RhcmtNb2RlVG9nZ2xlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyay1tb2RlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGRhcmtNb2RlVG9nZ2xlLmNsYXNzTGlzdC50b2dnbGUoJ2RhcmsnKTtcclxuICAgICAgICAgICAgICAgICAgICBpc0RhcmsgPSAhaXNEYXJrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBkYXJrTW9kZVRvZ2dsZS50ZXh0Q29udGVudCA9IGlzRGFyayA/IFwiTGlnaHQgTW9kZVwiIDogXCJEYXJrIE1vZGVcIjtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkID09PSAnMm1haW4nKSBzaG93VGFiKCdtYWluVGFiJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICcyZ3JhcGhzJykgc2hvd1RhYignZ3JhcGhzVGFiJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdwcmVzdGlnZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc2VrYWkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygndGllck9uZUJ1dHRvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBsZXQgcGVyayA9IGJ1dHRvbi50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgIHNlbGVjdEFiaWxpdHkocGVyayk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKFwiI2Fsb25lXCIpKSB7XHJcbiAgICAgICAgICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwoJ2Nsb25lcycsIDEpO1xyXG4gICAgICAgICAgICBsZXQgdGV4dCA9ICcrMSBDbG9uZSc7XHJcbiAgICAgICAgICAgIC8vIEhhcmRjb2RlZCBpbnN0ZWFkIHRvIGF2b2lkIGluY3JlYXNlIGFmZmVjdGVkIGJ5IHByb2R1Y3Rpdml0eSBib251c2VzXHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbJ2Nsb25lcyddLnZhbHVlIDwgcmVzb3VyY2VzWydjbG9uZXMnXS5tYXgpIHsgcmVzb3VyY2VzWydjbG9uZXMnXS52YWx1ZSArPSAxOyB9XHJcbiAgICAgICAgICAgIGVsc2UgdGV4dCA9ICdNYXggQ2xvbmVzJztcclxuICAgICAgICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFg7IC8vIFggY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2tcclxuICAgICAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudFk7IC8vIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2tcclxuICAgICAgICAgICAgY29uc3QgY29sb3IgPSB0ZXh0ID09PSAnKzEgQ2xvbmUnID8gJ2dyZWVuJyA6ICdyZWQnO1xyXG4gICAgICAgICAgICB0cmlnZ2VyRmxvYXRVcFRleHQoeCwgeSwgdGV4dCwgY29sb3IpO1xyXG4gICAgICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG1ha2VGYWN0b3J5QnV0dG9ucygpIHtcclxuICAgICAgICBjb25zdCBmYWN0b3J5QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmYWN0b3J5QnV0dG9ucycpO1xyXG5cclxuICAgICAgICBjb25zdCBidXlGYWN0b3J5QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgYnV5RmFjdG9yeUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0b29sdGlwJyk7XHJcbiAgICAgICAgYnV5RmFjdG9yeUJ1dHRvbi5pZCA9ICdidXlGYWN0b3J5QnV0dG9uJztcclxuICAgICAgICBidXlGYWN0b3J5QnV0dG9uLnRleHRDb250ZW50ID0gJ0J1eSBOZXcgRmFjdG9yeSc7XHJcbiAgICAgICAgYnV5RmFjdG9yeUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgJ1RoZSBmYWN0b3J5IG11c3QgZ3JvdyEnKTtcclxuICAgICAgICBidXlGYWN0b3J5QnV0dG9uLnNldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnLCAnNTAgc2lsdmVyJyk7XHJcbiAgICAgICAgZmFjdG9yeUJ1dHRvbnMuYXBwZW5kQ2hpbGQoYnV5RmFjdG9yeUJ1dHRvbik7XHJcblxyXG4gICAgICAgIGJ1eUZhY3RvcnlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdidXlpbmcgZmFjdG9yeScpO1xyXG4gICAgICAgICAgICBidXlGYWN0b3J5KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVwZ3JhZGVCdWxrQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgdXBncmFkZUJ1bGtCdXR0b24uY2xhc3NMaXN0LmFkZCgndG9vbHRpcCcpO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLmlkID0gJ3VwZ3JhZGVCdWxrQnV0dG9uJztcclxuICAgICAgICB1cGdyYWRlQnVsa0J1dHRvbi50ZXh0Q29udGVudCA9ICdVcGdyYWRlIEJ1bGsnO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWRlc2MnLCAnQ3JhZnQgbW9yZSByZXNvdXJjZXMgcGVyIHNlY29uZCcpO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLnNldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnLCAnMiDihpIgNDogMzAgc2lsdmVyJyk7XHJcbiAgICAgICAgZmFjdG9yeUJ1dHRvbnMuYXBwZW5kQ2hpbGQodXBncmFkZUJ1bGtCdXR0b24pO1xyXG5cclxuICAgICAgICB1cGdyYWRlQnVsa0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndXBncmFkaW5nIGJ1bGsnKTtcclxuICAgICAgICAgICAgdXBncmFkZUJ1bGsoKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuICAgIG1ha2VGYWN0b3J5QnV0dG9ucygpO1xyXG4gICAgLy8gY3JlYXRlRmFjdG9yeURpdigpO1xyXG5cclxuXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcblxyXG4gICAgLy8gU2FtcGxlIHVzYWdlOlxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvb2x0aXAnKS5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uKTtcclxuICAgICAgICAvLyBFeHRyYWN0IHRoZSBkYXRhIGZyb20geW91ciBidWlsZGluZyBvciBhbnkgb3RoZXIgZGF0YSAtIHNvdXJjZVxyXG4gICAgICAgIC8vIGNvbnN0IGNvbnRlbnQgPSBcIllvdXIgdG9vbHRpcCBjb250ZW50IGhlcmVcIjtcclxuXHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB1cGRhdGVUb29sdGlwKGJ1dHRvbik7XHJcbiAgICAgICAgICAgIGN1cnJlbnRIb3ZlckJ1dHRvbiA9IGJ1dHRvbjtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIFRPRE86IG1vdmUgdGhpcyBldmVudCBsaXN0ZW5lclxyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdvbmNsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1cGRhdGVUb29sdGlwKGJ1dHRvbik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkgeyBoaWRlVG9vbHRpcCgpOyBjdXJyZW50SG92ZXJCdXR0b24gPSBudWxsOyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgam9icyBjb3VudGVyXHJcbiAgICB1cGRhdGVUb3RhbCgpO1xyXG5cclxuXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gbmV4dEZpYm9uYWNjaShuKSB7XHJcbiAgICBsZXQgYSA9IG4gKiAoMSArIE1hdGguc3FydCg1KSkgLyAyLjA7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChhKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcHJldkZpYm9uYWNjaShuKSB7XHJcbiAgICBsZXQgYSA9IG4gLyAoKDEgKyBNYXRoLnNxcnQoNSkpIC8gMi4wKTtcclxuICAgIHJldHVybiBNYXRoLnJvdW5kKGEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc2VrYWkoKSB7XHJcbiAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKTtcclxuICAgIGNvbnN0IG92ZXJsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktdGV4dCcpO1xyXG4gICAgY29uc3Qgb3ZlcmxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5LWJ1dHRvbicpO1xyXG5cclxuICAgIC8vIENvbnZlcnQgY2xvbmVzIHRvIGh1c2tzXHJcbiAgICBjb25zdCBvbGRIdXNrVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHVza3NJc2VrYWlWYWx1ZScpO1xyXG4gICAgbGV0IGh1c2tWYWx1ZTtcclxuICAgIGlmIChvbGRIdXNrVmFsdWUpIGh1c2tWYWx1ZSA9IG9sZEh1c2tWYWx1ZTtcclxuICAgIGVsc2UgaHVza1ZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgaHVza1ZhbHVlLmlkID0gJ2h1c2tzSXNla2FpVmFsdWUnO1xyXG4gICAgaW5jcmVhc2VNYXRlcmlhbCgnaHVza3MnLCBnZXRNYXRlcmlhbCgnY2xvbmVzJykpO1xyXG4gICAgaW5jcmVhc2VNYXRlcmlhbCgnY2xvbmVzJywgLWdldE1hdGVyaWFsKCdjbG9uZXMnKSk7XHJcbiAgICBodXNrVmFsdWUudGV4dENvbnRlbnQgPSAnSHVza3M6ICcgKyBnZXRNYXRlcmlhbCgnaHVza3MnKTtcclxuICAgIGh1c2tWYWx1ZS5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgb3ZlcmxheS5wcmVwZW5kKGh1c2tWYWx1ZSk7XHJcbiAgICAvLyBPdmVybGF5XHJcbiAgICBvdmVybGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdNaWRuaWdodEJsdWUnO1xyXG4gICAgb3ZlcmxheVRleHQudGV4dENvbnRlbnQgPSAnWW91IHN0ZXAgdGhyb3VnaCB0byBhbm90aGVyIHdvcmxkLic7XHJcblxyXG4gICAgZmFkZVRvQmxhY2soKTtcclxuXHJcbiAgICAvLyBSZXNldCBhbGwgcmVzb3VyY2VzXHJcbiAgICByZXNldFJlc291cmNlcygpO1xyXG4gICAgcmVzZXRDcmFmdGVkUmVzb3VyY2VzKCk7XHJcbiAgICByZXNldFBvbmRlcnMoKTtcclxuICAgIHJlc2V0UGVya3MoKTtcclxuICAgIHJlc2V0QnVpbGRpbmdzKCk7XHJcbiAgICByZXNldEFsbEpvYnMoKTtcclxuICAgIHJlc2V0U3RhZ2VzKCk7XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVByZXN0aWdlQnV0dG9ucygpIHtcclxuXHJcbiAgICAgICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lzZWthaUJ1dHRvbnMnKTtcclxuICAgICAgICBsZXQgaSA9IDE7XHJcbiAgICAgICAgT2JqZWN0LmtleXMocHJlc3RpZ2UpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgPGI+JHtwcmVzdGlnZVtrZXldLnRleHR9PC9iPjxicj5MZXZlbDogJHtwcmVzdGlnZVtrZXldLmxldmVsfTxicj5Db3N0OiAke3ByZXN0aWdlW2tleV0uY29zdH1gO1xyXG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcsIHByZXN0aWdlW2tleV0uY29zdCk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBEZXNjJywgcHJlc3RpZ2Vba2V5XS50b29sdGlwRGVzYyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0b29sdGlwJyk7IC8vIEFkZCBhIGNsYXNzIGZvciBzdHlsaW5nIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZ3JpZENvbHVtbiA9IChpICUgNCArIDEpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5ncmlkUm93ID0gTWF0aC5mbG9vcihpIC8gNCArIDEpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgLy8gT3B0aW9uYWw6IEFkZCBhbiBldmVudCBsaXN0ZW5lciBpZiB5b3Ugd2FudCB0byBoYW5kbGUgY2xpY2tzXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFlvdSBjYW4gaW1wbGVtZW50IHdoYXQgaGFwcGVucyB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEJ1dHRvbiAke2tleX0gd2FzIGNsaWNrZWRgKTtcclxuICAgICAgICAgICAgICAgIGlmIChnZXRNYXRlcmlhbCgnaHVza3MnKSA8IHByZXN0aWdlW2tleV0uY29zdCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgcHJlc3RpZ2Vba2V5XS5sZXZlbCsrO1xyXG4gICAgICAgICAgICAgICAgaW5jcmVhc2VNYXRlcmlhbCgnaHVza3MnLCAtcHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlW2tleV0uY29zdCA9IG5leHRGaWJvbmFjY2kocHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBDb3N0JywgcHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYDxiPiR7cHJlc3RpZ2Vba2V5XS50ZXh0fTwvYj48YnI+TGV2ZWw6ICR7cHJlc3RpZ2Vba2V5XS5sZXZlbH08YnI+Q29zdDogJHtwcmVzdGlnZVtrZXldLmNvc3R9YDtcclxuICAgICAgICAgICAgICAgIGh1c2tWYWx1ZS50ZXh0Q29udGVudCA9ICdIdXNrczogJyArIGdldE1hdGVyaWFsKCdodXNrcycpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gUmlnaHQtY2xpY2sgdG8gZGVjcmVhc2UgbGV2ZWxcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIC8vIFlvdSBjYW4gaW1wbGVtZW50IHdoYXQgaGFwcGVucyB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEJ1dHRvbiAke2tleX0gd2FzIHJpZ2h0IGNsaWNrZWRgKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcmVzdGlnZVtrZXldLmxldmVsIDw9IDApIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlW2tleV0ubGV2ZWwtLTtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlW2tleV0uY29zdCA9IHByZXZGaWJvbmFjY2kocHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBDb3N0JywgcHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuICAgICAgICAgICAgICAgIGluY3JlYXNlTWF0ZXJpYWwoJ2h1c2tzJywgcHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYDxiPiR7cHJlc3RpZ2Vba2V5XS50ZXh0fTwvYj48YnI+TGV2ZWw6ICR7cHJlc3RpZ2Vba2V5XS5sZXZlbH08YnI+Q29zdDogJHtwcmVzdGlnZVtrZXldLmNvc3R9YDtcclxuICAgICAgICAgICAgICAgIGh1c2tWYWx1ZS50ZXh0Q29udGVudCA9ICdIdXNrczogJyArIGdldE1hdGVyaWFsKCdodXNrcycpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbik7XHJcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGRhdGEgZnJvbSB5b3VyIGJ1aWxkaW5nIG9yIGFueSBvdGhlciBkYXRhIC0gc291cmNlXHJcbiAgICAgICAgICAgIC8vIGNvbnN0IGNvbnRlbnQgPSBcIllvdXIgdG9vbHRpcCBjb250ZW50IGhlcmVcIjtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRIb3ZlckJ1dHRvbiA9IGJ1dHRvbjtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkgeyBoaWRlVG9vbHRpcCgpOyBjdXJyZW50SG92ZXJCdXR0b24gPSBudWxsOyB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsbCB0aGUgZnVuY3Rpb24gdG8gY3JlYXRlIGJ1dHRvbnNcclxuICAgIHNldFRpbWVvdXQoY3JlYXRlUHJlc3RpZ2VCdXR0b25zLCA1MDAwKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4geyBodXNrVmFsdWUuc3R5bGUub3BhY2l0eSA9ICcxJzsgfSwgNTAwMCk7XHJcblxyXG59XHJcblxyXG52YXIgY3VycmVudEhvdmVyQnV0dG9uID0gbnVsbDtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cclxuICAgIHVwZGF0ZVVJLFxyXG4gICAgc2V0VG90YWxUaW1lLFxyXG4gICAgY2hhbmdlTWVzc2FnZSxcclxuXHJcbiAgICBnZXRNZXNzYWdlLFxyXG4gICAgdG90YWxfdGltZSxcclxuICAgIGN1cnJlbnRIb3ZlckJ1dHRvblxyXG5cclxufTtcclxuIiwiXHJcbmNvbnN0IHsgc2V0U3RhZ2UsIHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG5jb25zdCB7IHVwZGF0ZUJ1dHRvblZpc2liaWxpdHkgfSA9IHJlcXVpcmUoJy4vdXBkYXRlQnV0dG9uVmlzaWJpbGl0eScpO1xyXG5cclxuLyoqXHJcbiAqIE1ha2UgZXZlcnl0aGluZyB3aXRoIHRoZSBjbGFzcyBcInN0YWdlXCIgdmlzaWJsZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhZ2VcclxuICovXHJcbmZ1bmN0aW9uIG1ha2VWaXNpYmxlKHN0YWdlKSB7XHJcbiAgICBpZiAoIXBhc3NlZFN0YWdlKHN0YWdlKSkge1xyXG4gICAgICAgIHNldFN0YWdlKHN0YWdlKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHN0YWdlRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgc3RhZ2UpO1xyXG4gICAgc3RhZ2VFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgfSk7XHJcbiAgICB1cGRhdGVCdXR0b25WaXNpYmlsaXR5KCk7XHJcbn1cclxuZXhwb3J0cy5tYWtlVmlzaWJsZSA9IG1ha2VWaXNpYmxlOyIsImNvbnN0IHsgYnVpbGRpbmdzIH0gPSByZXF1aXJlKCcuL2pzb24vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgcGVya3MgfSA9IHJlcXVpcmUoJy4vanNvbi9wZXJrcycpO1xyXG5sZXQgbXlQZXJrcyA9IFtdO1xyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGVya05hbWUgXHJcbiAqIEByZXR1cm5zIGJvb2xlYW5cclxuICovXHJcbmZ1bmN0aW9uIGhhc1BlcmsocGVya05hbWUpIHtcclxuICAgIHJldHVybiBteVBlcmtzLmluY2x1ZGVzKHBlcmtOYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QWxsUGVya3MoKSB7XHJcbiAgICByZXR1cm4gbXlQZXJrcztcclxufVxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwZXJrTmFtZSBQZXJrIHRvIGFkZFxyXG4gKi9cclxuZnVuY3Rpb24gYWRkUGVyayhwZXJrTmFtZSkge1xyXG4gICAgbXlQZXJrcy5wdXNoKHBlcmtOYW1lKTtcclxuXHJcbiAgICAvLyBEbyBhbGwgdGhlIG9uZS10aW1lIHVwZGF0ZXNcclxuICAgIHN3aXRjaCAocGVya05hbWUpIHtcclxuICAgICAgICBjYXNlICdBcmNoaXRlY3QnOlxyXG4gICAgICAgICAgICBmb3IgKGxldCBiIGluIGJ1aWxkaW5ncykge1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCcpLnJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGIsIGJ1aWxkaW5ncywgaGFzUGVyayk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdGllck51bSBcclxuICovXHJcbmZ1bmN0aW9uIGdldFBlcmtGcm9tVGllcih0aWVyTnVtKSB7XHJcbiAgICBmb3IgKGxldCBwZXJrIGluIHBlcmtzWyd0aWVyJyArIHRpZXJOdW1dKSB7XHJcbiAgICAgICAgaWYgKGhhc1BlcmsocGVyaykpIHJldHVybiBwZXJrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5vIHBlcmsgZm9yIHRoaXMgdGllclxyXG4gICAgcmV0dXJuICcnO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc2VsZWN0QWJpbGl0eShhYmlsaXR5TmFtZSkge1xyXG4gICAgaWYgKGhhc1BlcmsoYWJpbGl0eU5hbWUpKSByZXR1cm47XHJcblxyXG4gICAgbGV0IGNvbmZpcm1TZWxlY3Rpb24gPSB3aW5kb3cuY29uZmlybShcIkRvIHlvdSB3YW50IHRvIHNlbGVjdCBcIiArIGFiaWxpdHlOYW1lICsgXCI/IFRoaXMgZGVjaXNpb24gY2Fubm90IGJlIGVhc2lseSBjaGFuZ2VkLlwiKTtcclxuXHJcbiAgICBpZiAoIWNvbmZpcm1TZWxlY3Rpb24pIHJldHVybjtcclxuICAgIGFkZFBlcmsoYWJpbGl0eU5hbWUpO1xyXG5cclxuICAgIC8vIGZvciAobGV0IGkgPSAxOyBpIDw9IDE7ICsraSlcclxuICAgIHJlcXVpcmUoJy4vc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24nKS5zZWxlY3RDb3JyZWN0UGVya0J1dHRvbihhYmlsaXR5TmFtZSk7XHJcblxyXG4gICAgLy8gbXlQZXJrcy5wdXNoKGFiaWxpdHlOYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXRQZXJrcygpIHtcclxuICAgIG15UGVya3MgPSBbXTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBoYXNQZXJrLFxyXG4gICAgYWRkUGVyayxcclxuICAgIHNlbGVjdEFiaWxpdHksXHJcbiAgICBnZXRQZXJrRnJvbVRpZXIsXHJcbiAgICBnZXRBbGxQZXJrcyxcclxuICAgIHJlc2V0UGVya3NcclxufTsiLCIvLyBERVBFTkRTIE9OOiBqc29uL2J1dHRvbnMuanNcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vY2FwaXRhbGl6ZUZpcnN0Jyk7XHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZSgnLi9qc29uL3BvbmRlcicpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcblxyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoJy4vanNvbi9idXR0b25zJyk7XHJcblxyXG5mdW5jdGlvbiBpc1BvbmRlcmVkKGlkKSB7XHJcbiAgICAvLyBDaGVjayBpZiB0aGUgaWQgZXhpc3RzIGluIHRoZSB1bmxvY2tzIG1hcFxyXG4gICAgLy8gSWYgdGhlIGlkIGRvZXNuJ3QgZXhpc3QgaW4gdGhlIG1hcCwgcmV0dXJuIGZhbHNlXHJcblxyXG4gICAgcmV0dXJuIHBvbmRlcnNbaWRdID8gcG9uZGVyc1tpZF0uaXNQb25kZXJlZCA6IGZhbHNlO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY2FuVW5sb2NrKHVubG9ja0lkKSB7XHJcbiAgICAvLyBHZXQgdGhlIGtleSBmcm9tIHRoaXMgaWRcclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYW4gdW5sb2NrPyAnLCB1bmxvY2tJZCk7XHJcbiAgICB2YXIgdW5sb2NrS2V5ID0gJyc7XHJcbiAgICBmb3IgKGxldCB1bmxvY2sgaW4gcG9uZGVycykge1xyXG4gICAgICAgIGlmIChwb25kZXJzW3VubG9ja10uaWQgPT09IHVubG9ja0lkKSB7XHJcbiAgICAgICAgICAgIHVubG9ja0tleSA9IHVubG9jaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHVubG9ja0tleSA9PT0gJycpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJpbnZhbGlkIHVubG9jayBpZDogXCIsIHVubG9ja0lkKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGVub3VnaCByZXNvdXJjZXNcclxuICAgIHZhciBjYW5CdXkgPSB0cnVlO1xyXG4gICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gcG9uZGVyc1t1bmxvY2tLZXldLmNvc3QpIHtcclxuICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPCBwb25kZXJzW3VubG9ja0tleV0uY29zdFttYXRlcmlhbF0pIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYW5ub3QgdW5sb2NrIFwiICsgdW5sb2NrSWQpO1xyXG4gICAgICAgICAgICBjYW5CdXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYW4gd2UgdW5sb2NrICcsIHVubG9ja0lkLCBjYW5CdXkpO1xyXG4gICAgcmV0dXJuIGNhbkJ1eTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUG9uZGVyQnV0dG9ucyhwb25kZXJPYmplY3RzKSB7XHJcbiAgICAvLyBjb25zdCBnZW5lcmF0ZWRCdXR0b25zID0ge307XHJcblxyXG4gICAgZm9yIChjb25zdCBbcG9uZGVyS2V5LCBwb25kZXJPYmpdIG9mIE9iamVjdC5lbnRyaWVzKHBvbmRlck9iamVjdHMpKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvbktleSA9IGBwb25kZXIke2NhcGl0YWxpemVGaXJzdChwb25kZXJLZXkpfWA7IC8vIGUuZy4gcG9uZGVyRmlzaGluZ1xyXG5cclxuICAgICAgICAvLyBsZXQgdG9vbHRpcENvc3QgPSBPYmplY3QuZW50cmllcyhwb25kZXJPYmouY29zdCkubWFwKChbbWF0ZXJpYWwsIGFtb3VudF0pID0+IGAke2Ftb3VudC50b0ZpeGVkKDApfSAke21hdGVyaWFsfWApLmpvaW4oJzxicj4nKTtcclxuICAgICAgICBsZXQgdG9vbHRpcENvc3QgPSByZXF1aXJlKCcuL3Jlc291cmNlcycpLmdlbmVyYXRlVG9vbHRpcENvc3QocG9uZGVyT2JqLmNvc3QpO1xyXG4gICAgICAgIGJ1dHRvbnNbYnV0dG9uS2V5XSA9IHtcclxuICAgICAgICAgICAgY2xhc3M6ICd0b29sdGlwIHVubG9jaycsXHJcbiAgICAgICAgICAgIHRleHQ6IHBvbmRlck9iai50ZXh0IHx8ICdQb25kZXIgYSBNeXN0ZXJ5PycsXHJcbiAgICAgICAgICAgIHRvb2x0aXBEZXNjOiBwb25kZXJPYmoudG9vbHRpcERlc2MgfHwgXCJXaG8ga25vd3Mgd2hhdCB5b3UnbGwgZGlzY292ZXJcIixcclxuICAgICAgICAgICAgdG9vbHRpcENvc3Q6IHRvb2x0aXBDb3N0LFxyXG4gICAgICAgICAgICB0YWI6ICdwb25kZXInLFxyXG4gICAgICAgICAgICB1bmxvY2s6IHBvbmRlcktleSxcclxuICAgICAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXF1aXJlKCcuL2hlbHBlcicpLmdldE1heCgncG9uZGVyJykgPj0gcG9uZGVyc1twb25kZXJLZXldLmNvc3RbJ3BvbmRlciddIC8gMjtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhpZGU6ICgpID0+IGlzUG9uZGVyZWQocG9uZGVyS2V5KVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbktleSwgYnV0dG9uc1tidXR0b25LZXldKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV0dXJuIGdlbmVyYXRlZEJ1dHRvbnM7XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGNhblVubG9jayxcclxuICAgIGlzUG9uZGVyZWQsXHJcbiAgICBnZW5lcmF0ZVBvbmRlckJ1dHRvbnNcclxufTsiLCJcclxuY29uc3QgeyBoYXNQcmVzdGlnZSwgZ2V0TGV2ZWxPZlByZXN0aWdlIH0gPSByZXF1aXJlKFwiLi9qc29uL3ByZXN0aWdlXCIpO1xyXG5jb25zdCB7IGlzUG9uZGVyZWQgfSA9IHJlcXVpcmUoXCIuL3BvbmRlclwiKTtcclxuY29uc3QgeyBzZXRNYXggfSA9IHJlcXVpcmUoXCIuL3Jlc291cmNlc1wiKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZShcIi4vc3RhZ2VzXCIpO1xyXG5cclxuZnVuY3Rpb24gcmVjYWxjTWF4Q2xvbmVzKCkge1xyXG4gICAgbGV0IG1heENsb25lcyA9IDA7XHJcbiAgICBpZiAocGFzc2VkU3RhZ2UoJ2Nsb25lJykpIG1heENsb25lcyArPSAxO1xyXG5cclxuICAgIGNvbnN0IGJ1aWxkaW5ncyA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpLmJ1aWxkaW5ncztcclxuICAgIC8vIGNvbnNvbGUubG9nKHBhc3NlZFN0YWdlKCdjbG9uZScpLCBtYXhDbG9uZXMpO1xyXG4gICAgZm9yIChjb25zdCBba2V5LCBidWlsZGluZ10gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmdzKSkge1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhrZXksIGJ1aWxkaW5nLCBidWlsZGluZy5lZmZlY3RzKTtcclxuICAgICAgICBpZiAoYnVpbGRpbmcuZWZmZWN0cyAmJiBidWlsZGluZy5lZmZlY3RzWydjbG9uZXMnXSlcclxuICAgICAgICAgICAgbWF4Q2xvbmVzICs9IGJ1aWxkaW5nLmVmZmVjdHNbJ2Nsb25lcyddICogYnVpbGRpbmcuY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUG9uZGVyIGJvbnVzZXNcclxuICAgIGlmIChpc1BvbmRlcmVkKCdiaWdnZXJTaGVsdGVyJykpIG1heENsb25lcyArPSAxICogYnVpbGRpbmdzWydzaGVsdGVyJ10uY291bnQ7XHJcbiAgICBpZiAoaXNQb25kZXJlZCgnYmlnZ2VySHV0JykpIG1heENsb25lcyArPSAxICogYnVpbGRpbmdzWydodXQnXS5jb3VudDtcclxuICAgIGlmIChpc1BvbmRlcmVkKCdiaWdnZXJIb3VzZScpKSBtYXhDbG9uZXMgKz0gMiAqIGJ1aWxkaW5nc1snaG91c2UnXS5jb3VudDtcclxuICAgIGlmIChpc1BvbmRlcmVkKCdiaWdnZXJUZWVwZWUnKSkgbWF4Q2xvbmVzICs9IDQgKiBidWlsZGluZ3NbJ3RlZXBlZSddLmNvdW50O1xyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ2V2ZW5CaWdnZXJTaGVsdGVyJykpIG1heENsb25lcyArPSAxICogYnVpbGRpbmdzWydzaGVsdGVyJ10uY291bnQ7XHJcblxyXG4gICAgaWYgKGhhc1ByZXN0aWdlKCdtYXhDbG9uZXMnKSkgbWF4Q2xvbmVzICs9IDEgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ21heENsb25lcycpO1xyXG4gICAgLy8gY29uc29sZS5sb2cobWF4Q2xvbmVzKTtcclxuICAgIC8vIHJldHVybiBtYXhDbG9uZXM7XHJcbiAgICBzZXRNYXgoJ2Nsb25lcycsIG1heENsb25lcyk7XHJcbn1cclxuXHJcbmV4cG9ydHMucmVjYWxjTWF4Q2xvbmVzID0gcmVjYWxjTWF4Q2xvbmVzOyIsImNvbnN0IHsgaGFzUHJlc3RpZ2UgfSA9IHJlcXVpcmUoJy4vanNvbi9wcmVzdGlnZScpO1xyXG5cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBidWlsZGluZ0tleSBUaGUgYnVpbGRpbmcgd2UgcmVjYWxjdWxhdGUgdGhlIGNvc3Qgb2ZcclxuICogQHBhcmFtIHtPYmplY3R9IGJ1aWxkaW5ncyBCdWlsZGluZ3Mgb2JqZWN0XHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhc1BlcmsgSGFzUGVyayBmdW5jdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QoYnVpbGRpbmdLZXksIGJ1aWxkaW5ncywgaGFzUGVyaykge1xyXG4gICAgbGV0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nS2V5XTtcclxuICAgIGlmIChidWlsZGluZyAmJiBidWlsZGluZy5jb3N0ICYmIGJ1aWxkaW5nLnJhdGlvKSB7XHJcbiAgICAgICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gYnVpbGRpbmcuY29zdCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidWlsZGluZy5iYXNlY29zdFttYXRlcmlhbF0sIGJ1aWxkaW5nLnJhdGlvLCBidWlsZGluZy5jb3VudCk7XHJcbiAgICAgICAgICAgIGJ1aWxkaW5nLmNvc3RbbWF0ZXJpYWxdID0gTWF0aC5yb3VuZChidWlsZGluZy5iYXNlY29zdFttYXRlcmlhbF0gKiBNYXRoLnBvdyhidWlsZGluZy5yYXRpbywgYnVpbGRpbmcuY291bnQpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChoYXNQZXJrKCdBcmNoaXRlY3QnKSkgYnVpbGRpbmcuY29zdFttYXRlcmlhbF0gKj0gMC43NTsgLy8gMjUlIHJlZHVjdGlvbiBmb3IgYXJjaGl0ZWN0c1xyXG4gICAgICAgICAgICBpZiAoaGFzUHJlc3RpZ2UoJ2NoZWFwZXJCdWlsZGluZ3MnKSkgYnVpbGRpbmcuY29zdFttYXRlcmlhbF0gKj0gMC45NTsgLy8gNSUgcmVkdWN0aW9uXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSB0b29sdGlwIGNvc3RcclxuICAgIGNvbnN0IG15QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBidWlsZGluZ0tleSk7XHJcbiAgICB2YXIgbmV3VGV4dCA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuZ2VuZXJhdGVUb29sdGlwQ29zdChidWlsZGluZy5jb3N0KTtcclxuICAgIGlmIChteUJ1dHRvbikge1xyXG4gICAgICAgIG15QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBuZXdUZXh0KTtcclxuICAgICAgICBjb25zdCBlZmZlY3RTdHJpbmcgPSByZXF1aXJlKCcuL2J1aWxkaW5ncycpLmdlbmVyYXRlRWZmZWN0U3RyaW5nKGJ1aWxkaW5nKTtcclxuICAgICAgICBteUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1lZmZlY3QnLCBlZmZlY3RTdHJpbmcpO1xyXG5cclxuICAgIH1cclxuICAgIGVsc2UgeyB0aHJvdyBcIkJ1dHRvbiBub3QgZm91bmQgZm9yIFwiICsgYnVpbGRpbmdLZXk7IH1cclxuXHJcbn1cclxuZXhwb3J0cy5yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCA9IHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0OyIsIlxyXG4vLyBERVBFTkRTIE9OOiB0b29scy5qcywgam9icy5qc1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZShcIi4vanNvbi9yZXNvdXJjZXNcIik7XHJcbmNvbnN0IHsgY3JhZnRlZFJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuLy8gQHRzLWlnbm9yZVxyXG5jb25zdCB7IHBvbmRlcnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vcG9uZGVyXCIpO1xyXG5jb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnV0dG9uc1wiKTtcclxuY29uc3QgeyBza2lsbHMgfSA9IHJlcXVpcmUoJy4vanNvbi9za2lsbHMnKTtcclxuXHJcbmNvbnN0IHsgZ2V0V29ya2VycywgdXBkYXRlVG90YWwgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IGhhc1Rvb2wsIH0gPSByZXF1aXJlKCcuL3Rvb2xzJyk7XHJcbmNvbnN0IHsgdXBkYXRlU2tpbGxzLCBjYWxjQ3JhZnRCb251cywgZ2V0TWF4IH0gPSByZXF1aXJlKFwiLi9oZWxwZXJcIik7XHJcbmNvbnN0IHsgY2FuQ3JhZnQgfSA9IHJlcXVpcmUoJy4vY2FuQ3JhZnQnKTtcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vY2FwaXRhbGl6ZUZpcnN0Jyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vZ2V0Q3JhZnRlZFJlc291cmNlJyk7XHJcbmNvbnN0IHsgY2FsY0luY3JlYXNlIH0gPSByZXF1aXJlKFwiLi9jYWxjSW5jcmVhc2VcIik7XHJcbmNvbnN0IHsgdXBkYXRlU2lkZWJhciB9ID0gcmVxdWlyZShcIi4vc2lkZWJhclwiKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSwgZ2V0QWxsU3RhZ2VzIH0gPSByZXF1aXJlKFwiLi9zdGFnZXNcIik7IC8vIFVzZWQgZm9yIGV2YWwgZnVuY3Rpb25zXHJcbi8vIGNvbnNvbGUubG9nKGNhcGl0YWxpemVGaXJzdCk7XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBqb2IgXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvdXJjZSBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGlzUmVzb3VyY2VBZmZlY3RlZEJ5Sm9iKGpvYiwgcmVzb3VyY2UpIHtcclxuICAgIGNvbnN0IHNraWxsID0gc2tpbGxzW2pvYl07XHJcbiAgICBpZiAoIXNraWxsKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKHNraWxsLmFmZmVjdGVkUmVzb3VyY2VzLmluY2x1ZGVzKHJlc291cmNlKSkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYSB0b29sIHJlcXVpcmVtZW50IGZvciB0aGlzIHJlc291cmNlXHJcbiAgICAgICAgaWYgKHNraWxsLm5lZWRUb29scyAmJiBBcnJheS5pc0FycmF5KHNraWxsLm5lZWRUb29scykpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgdG9vbE9iaiBvZiBza2lsbC5uZWVkVG9vbHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHRvb2wgaW4gdG9vbE9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sT2JqW3Rvb2xdLmluY2x1ZGVzKHJlc291cmNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwbGF5ZXIgaGFzIHRoaXMgdG9vbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3Igbm93LCBqdXN0IHJldHVybmluZyB0cnVlIHRvIGluZGljYXRlIHRoZSByZXNvdXJjZSBpcyBhZmZlY3RlZCBhbmQgYSB0b29sIGlzIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCdXQgeW91IG1heSB3YW50IHRvIHJlcGxhY2UgdGhpcyB3aXRoIGEgY2hlY2sgdG8gc2VlIGlmIHRoZSBwbGF5ZXIgcG9zc2Vzc2VzIHRoZSByZXF1aXJlZCB0b29sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNUb29sKHRvb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBXZSBuZWVkZWQgYSB0b29sIGJ1dCBub3QgZm9yIHRoaXNcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIG5vIHRvb2wgcmVxdWlyZW1lbnQgd2FzIGZvdW5kIGZvciB0aGUgcmVzb3VyY2UsIGl0J3Mgc3RpbGwgYWZmZWN0ZWQgYnkgdGhlIGpvYlxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBjYWxjU2Vjb25kc1JlbWFpbmluZyhyZXNvdXJjZU5hbWUsIG5lZWRlZCkge1xyXG4gICAgaWYgKG5lZWRlZCA8PSByZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSkgcmV0dXJuIDA7XHJcblxyXG4gICAgLy8gSG93IG11Y2ggcGVyIHNlY29uZFxyXG4gICAgY29uc3QgaW5jcmVhc2UgPSBjYWxjSW5jcmVhc2UocmVzb3VyY2VOYW1lLCAxMDAwKTtcclxuICAgIGlmIChpbmNyZWFzZSA9PSAwKSByZXR1cm4gLTE7XHJcbiAgICAvLyBjb25zb2xlLmxvZygncGluZycpO1xyXG4gICAgLy8gRGlmZmVyZW5jZSBvdmVyIHRpbWVcclxuICAgIGNvbnN0IHRpbWVSZW1haW5pbmcgPSBNYXRoLmNlaWwobmVlZGVkIC0gcmVzb3VyY2VzW3Jlc291cmNlTmFtZV0udmFsdWUpIC8gaW5jcmVhc2U7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ2NhbGMgbWlsbGknLCByZXNvdXJjZU5hbWUsIG5lZWRlZCwgdGltZVJlbWFpbmluZyk7XHJcbiAgICAvLyBpZiAodGltZVJlbWFpbmluZyA9PSBJbmZpbml0eSB8fCB0aW1lUmVtYWluaW5nID09IC1JbmZpbml0eSkgcmV0dXJuIC0xO1xyXG4gICAgcmV0dXJuIHRpbWVSZW1haW5pbmc7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gQ2FsbCB0aGlzIGZ1bmN0aW9uIG9uY2UgdG8gc2V0IHVwIHlvdXIgcmVzb3VyY2UgdGFnc1xyXG4vLyBpbml0aWFsaXplUmVzb3VyY2VUYWdzKCk7XHJcbmNvbnN0IHJlc291cmNlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZXMnKTtcclxuXHJcblxyXG5mdW5jdGlvbiB1cGRhdGVEaXNwbGF5VmFsdWUobWF0ZXJpYWwpIHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSByZXNvdXJjZXNDb250YWluZXIucXVlcnlTZWxlY3RvcihgIyR7bWF0ZXJpYWx9VmFsdWVgKTtcclxuICAgIGNvbnN0IGVsZW1lbnRJbmNyZWFzZSA9IHJlc291cmNlc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGAjJHttYXRlcmlhbH1JbmNyZWFzZVJhdGVgKTtcclxuICAgIGNvbnN0IGNyYWZ0ZWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBidXR0b24jY3JhZnQke2NhcGl0YWxpemVGaXJzdChtYXRlcmlhbCl9YCk7XHJcbiAgICAvLyB0cnkgeyBpZiAoIWVsZW1lbnQpIGNyZWF0ZVJlc291cmNlVGFnKG1hdGVyaWFsKTsgfVxyXG4gICAgLy8gY2F0Y2ggKGVycm9yKSB7IH1cclxuXHJcblxyXG4gICAgLy8gY29uc29sZS5sb2cobWF0ZXJpYWwsIGVsZW1lbnQsIGNyYWZ0ZWRCdXR0b24pO1xyXG4gICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgbWF4ID0gKGdldE1heChtYXRlcmlhbCkgJiYgZ2V0TWF4KG1hdGVyaWFsKSA8IEluZmluaXR5KSA/IGdldE1heChtYXRlcmlhbCkudG9GaXhlZCgyKSA6ICfiiJ4nO1xyXG4gICAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gYCR7Z2V0TWF0ZXJpYWwobWF0ZXJpYWwpLnRvRml4ZWQoMil9IC8gJHttYXh9YDtcclxuXHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50SW5jcmVhc2UpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRJbmNyZWFzZS50ZXh0Q29udGVudCA9IGNhbGNJbmNyZWFzZShtYXRlcmlhbCwgMTAwMCkudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZWxlbWVudCwgbWF0ZXJpYWwsIGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZXNvdXJjZXNbbWF0ZXJpYWxdKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbbWF0ZXJpYWxdLmlzR2V0dGluZykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2lkZWJhclRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jlc291cmNlc1wiKS5xdWVyeVNlbGVjdG9yKCcjcmVzb3VyY2UtJyArIG1hdGVyaWFsKTtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGlmIChzaWRlYmFyVGV4dCkgc2lkZWJhclRleHQuc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGNyYWZ0ZWRCdXR0b24pIHtcclxuICAgICAgICBjb25zdCBjb3VudFNwYW4gPSBjcmFmdGVkQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoYCMke21hdGVyaWFsfVZhbHVlYCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NyYWZ0ZWQgYnV0dG9uIHdhcyBmb3VuZCcsIGNvdW50U3BhbiwgbWF0ZXJpYWwsIGdldENyYWZ0ZWRSZXNvdXJjZShtYXRlcmlhbCkpO1xyXG4gICAgICAgIGlmIChjb3VudFNwYW4pIGNvdW50U3Bhbi50ZXh0Q29udGVudCA9IGdldENyYWZ0ZWRSZXNvdXJjZShtYXRlcmlhbCkudG9GaXhlZCgwKTtcclxuICAgICAgICBlbHNlIGNvbnNvbGUud2FybihgUmVzb3VyY2UgYnV0dG9uIGZvdW5kIGJ1dCBubyBjb3VudCBzcGFuIGZvcjogJHttYXRlcmlhbH1gKTtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRNYXgobWF0ZXJpYWwsIG51bSkge1xyXG4gICAgcmVzb3VyY2VzW21hdGVyaWFsXS5tYXggPSBudW07XHJcbiAgICB1cGRhdGVTaWRlYmFyKCk7XHJcbiAgICB1cGRhdGVUb3RhbCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbmNyZWFzZU1heChtYXRlcmlhbCwgbnVtKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcImluY3JlYXNlIG1heCBcIiwgbWF0ZXJpYWwsIG51bSk7XHJcbiAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLm1heCArPSBudW07XHJcbiAgICB1cGRhdGVTaWRlYmFyKCk7XHJcbiAgICB1cGRhdGVUb3RhbCgpO1xyXG5cclxufVxyXG5cclxuLy8gR2VuZXJpYyBpbmNyZWFzZVxyXG5mdW5jdGlvbiBpbmNyZWFzZU1hdGVyaWFsKG1hdGVyaWFsLCBudW0pIHtcclxuICAgIC8vIEVuc3VyZSB3ZSBhY3R1YWxseSBuZWVkIHRvIGRvIGFueXRoaW5nXHJcbiAgICBpZiAobnVtID09IDApIHJldHVybjtcclxuICAgIG1hdGVyaWFsID0gbWF0ZXJpYWwudG9Mb3dlckNhc2UoKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdpbmNyZWFzZSBtYXRlcmlhbCcsIG1hdGVyaWFsLCBudW0pO1xyXG4gICAgLy8gaWYgKE1hdGguYWJzKG51bSkgPiA1KSBjb25zb2xlLmxvZygnY2hhbmdpbmcnLCBtYXRlcmlhbCwgJ2J5JywgbnVtKTtcclxuXHJcbiAgICAvLyBUaGlzIGNoZWNrIGVuc3VyZXMgdGhhdCB0aGUgbWF0ZXJpYWwga2V5IGV4aXN0cyBpbiB0aGUgcmVzb3VyY2VzIG1hcC5cclxuICAgIGlmIChtYXRlcmlhbCBpbiByZXNvdXJjZXMpIHtcclxuXHJcbiAgICAgICAgaWYgKGdldE1hdGVyaWFsKG1hdGVyaWFsKSA8IGdldE1heChtYXRlcmlhbCkgJiYgbnVtID4gMCkgeyAvLyBBZGRpbmcgcmVzb3VyY2VzXHJcbiAgICAgICAgICAgIGlmIChpc1BvbmRlcmVkKCdmYXN0ZXJSZXNvdXJjZUdhaW4nKSkgbnVtICo9IDEuMDU7XHJcbiAgICAgICAgICAgIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG4gICAgICAgICAgICB1cGRhdGVTa2lsbHMobWF0ZXJpYWwsIG51bSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChudW0gPCAwKSB7IC8vIFN1YnRyYWN0aW5nIHJlc291cmNlc1xyXG4gICAgICAgICAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlICs9IG51bTtcclxuICAgICAgICB9IGVsc2UgeyAvLyBBbHJlYWR5IGF0IG1heFxyXG4gICAgICAgICAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlID0gZ2V0TWF4KG1hdGVyaWFsKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBpZiAoaXNQb25kZXJlZCgnYXV0b2NyYWZ0JykgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdXRvQ3JhZnRDaGVja2JveFwiKS5jaGVja2VkICYmIGF1dG9DcmFmdFRhYmxlW21hdGVyaWFsXSkge1xyXG4gICAgICAgICAgICAgICAgY3JhZnRBbGxSZXNvdXJjZXMoYXV0b0NyYWZ0VGFibGVbbWF0ZXJpYWxdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheVZhbHVlKG1hdGVyaWFsKTtcclxuICAgICAgICAvLyByZWFzc2lnbkpvYnNCYXNlZE9uUmVzb3VyY2VzKCk7XHJcblxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobWF0ZXJpYWwgaW4gY3JhZnRlZFJlc291cmNlcykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjcmFmdGluZyBhIG1hdGVyaWFsJywgbWF0ZXJpYWwsIG51bSk7XHJcbiAgICAgICAgY3JhZnRlZFJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG4gICAgICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShtYXRlcmlhbCk7XHJcbiAgICAgICAgdXBkYXRlU2tpbGxzKG1hdGVyaWFsLCBudW0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBuZXcgbWF0ZXJpYWxcclxuICAgICAgICBpZiAocmVzb3VyY2VzW21hdGVyaWFsXSkgcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSArPSBudW07XHJcbiAgICAgICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZXNbbWF0ZXJpYWxdKSBjcmFmdGVkUmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSArPSBudW07XHJcblxyXG4gICAgICAgIHVwZGF0ZVNpZGViYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjcmFmdGVkIG1hdGVyaWFscyBoYXZlIG5vIG1heCwgYSBsYSBLaXR0ZW5zIEdhbWVcclxuXHJcblxyXG5cclxuICAgIHVwZGF0ZVNpZGViYXIoKTtcclxuXHJcblxyXG5cclxuICAgIC8vIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG4gICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIG1hdGVyaWFsICsgXCJWYWx1ZVwiKS50ZXh0Q29udGVudCA9IHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWU7XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdXBkYXRlUmVzb3VyY2VJbmNyZWFzZVJhdGVzKCkge1xyXG4gICAgLy8gY29uc3QgcmVzb3VyY2VzID0gW1wiY2xvbmVzXCIsIFwic3RpY2tzXCIsIFwidmluZXNcIiwgXCJyb2Nrc1wiLCBcImZpc2hcIiwgXCJ3b29kXCIsIFwicG9uZGVyXCJdO1xyXG4gICAgZm9yIChsZXQgcmVzb3VyY2UgaW4gcmVzb3VyY2VzKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJpbmNyZWFzZSBvZiBcIiArIHJlc291cmNlKTtcclxuICAgICAgICBjb25zdCByYXRlID0gY2FsY0luY3JlYXNlKHJlc291cmNlLCAxMDAwKTtcclxuICAgICAgICB2YXIgcmF0ZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtyZXNvdXJjZX1JbmNyZWFzZVJhdGVgKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKHJhdGVFbGVtZW50KSByYXRlRWxlbWVudC50ZXh0Q29udGVudCA9IHJhdGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBcclxuICogQHJldHVybnMgQnV0dG9uXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVDcmFmdGVkUmVzb3VyY2VCdXR0b24oY29uZmlnKSB7XHJcbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBjb25maWcuY2xhc3MgKyAnIHRvb2x0aXAnO1xyXG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnaWQnLCBjb25maWcuaWQgKyAnQnV0dG9uJyk7XHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdyZXF1aXJlbWVudCcsIGNvbmZpZy5yZXF1aXJlZFN0YWdlKTtcclxuICAgIGNvbnN0IHJlc291cmNlTmFtZSA9IE9iamVjdC5rZXlzKGNyYWZ0ZWRSZXNvdXJjZXMpLmZpbmQoa2V5ID0+IGNyYWZ0ZWRSZXNvdXJjZXNba2V5XSA9PT0gY29uZmlnKTtcclxuICAgIC8vIGNvbnN0IGNsZWFuQ291bnQgPSBwYXJzZUZsb2F0KGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS52YWx1ZSkudG9GaXhlZCgwKTtcclxuICAgIC8vIGJ1dHRvbi5pbm5lckhUTUwgPSBgJHtjb25maWcudGV4dCB8fCBjYXBpdGFsaXplRmlyc3QocmVzb3VyY2VOYW1lKX06IDxzcGFuIGlkPVwiJHtyZXNvdXJjZU5hbWUgKyBcIlZhbHVlXCJ9XCI+JHtjbGVhbkNvdW50fTwvc3Bhbj5gO1xyXG4gICAgYnV0dG9uLmlubmVySFRNTCA9IGAke2NvbmZpZy50ZXh0IHx8IGNhcGl0YWxpemVGaXJzdChyZXNvdXJjZU5hbWUpfWA7XHJcbiAgICAvLyBidXR0b24udG9vbHRpcERlc2MgPSBjb25maWcudG9vbHRpcERlc2M7IFxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgYnV0dG9uLnRhYiA9ICdleHBlcmltZW50JztcclxuXHJcbiAgICByZXR1cm4gYnV0dG9uO1xyXG59XHJcblxyXG5cclxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NyYWZ0ZWRSZXNvdXJjZUJ1dHRvbnMnKTtcclxuZnVuY3Rpb24gYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucygpIHtcclxuXHJcbiAgICAvLyBGb3IgZWFjaCByZXNvdXJjZSwgY3JlYXRlIGEgYnV0dG9uIHVzaW5nIHRoZSBjYXB0dXJlZCBjb3VudHNcclxuICAgIGZvciAobGV0IG5hbWUgaW4gY3JhZnRlZFJlc291cmNlcykge1xyXG5cclxuICAgICAgICAvLyBjb25maWcuY291bnQgPSBjcmFmdGVkUmVzb3VyY2VzW25hbWVdLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbihjcmFmdGVkUmVzb3VyY2VzW25hbWVdKTtcclxuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycsIGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0udG9vbHRpcERlc2MgfHwgXCJcIik7XHJcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBnZW5lcmF0ZVRvb2x0aXBDb3N0KGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uY29zdCkgfHwgXCJcIik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rvb2x0aXAgY29zdCcsIGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1jb3N0JykpO1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gICAgICAgIGNvbnN0IHJlcVJlc3VsdCA9IHBhc3NlZFN0YWdlKGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3JlcXVpcmVtZW50JykpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcVJlc3VsdCwgYnV0dG9uLmdldEF0dHJpYnV0ZSgncmVxdWlyZW1lbnQnKSwgT2JqZWN0LnZhbHVlcyhnZXRBbGxTdGFnZXMoKSkpO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBGaWd1cmUgb3V0IHdoYXQgdGhlIGJ1ZyBpcyBoZXJlXHJcbiAgICAgICAgaWYgKHJlcVJlc3VsdCkgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIGVsc2UgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cclxuXHJcbiAgICAgICAgYnV0dG9uc1tjcmFmdGVkUmVzb3VyY2VzW25hbWVdLmlkXSA9IGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV07XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9uKG5hbWUpIHtcclxuXHJcbiAgICBjb25zdCBidXR0b24gPSBjcmVhdGVDcmFmdGVkUmVzb3VyY2VCdXR0b24oY3JhZnRlZFJlc291cmNlc1tuYW1lXSk7XHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycsIGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0udG9vbHRpcERlc2MpO1xyXG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBnZW5lcmF0ZVRvb2x0aXBDb3N0KGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uY29zdCkpO1xyXG5cclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gICAgYnV0dG9uc1tjcmFmdGVkUmVzb3VyY2VzW25hbWVdLmlkXSA9IGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV07XHJcblxyXG59XHJcblxyXG4vLyBDYWxsIHRoZSBmdW5jdGlvbiB0byByZXBsYWNlIDxwPiBlbGVtZW50cyB3aXRoIHRoZSBidXR0b25zXHJcbi8vIGFwcGVuZENyYWZ0ZWRSZXNvdXJjZUJ1dHRvbignc3RpY2tzJyk7XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVRvb2x0aXBDb3N0KHJlcXVpcmVtZW50cykge1xyXG4gICAgaWYgKHJlcXVpcmVtZW50cyA9PT0gbnVsbCkgcmV0dXJuICcnO1xyXG4gICAgdmFyIHN0ciA9ICcnO1xyXG4gICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gcmVxdWlyZW1lbnRzKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhc0Vub3VnaCA9IGdldE1hdGVyaWFsKG1hdGVyaWFsLCByZXNvdXJjZXMpID49IHJlcXVpcmVtZW50c1ttYXRlcmlhbF07LyogWW91ciBsb2dpYyB0byBjaGVjayBpZiB0aGVyZSdzIGVub3VnaCBvZiB0aGUgbWF0ZXJpYWwgKi87XHJcbiAgICAgICAgY29uc3QgY29sb3JDbGFzcyA9IGhhc0Vub3VnaCA/ICdlbm91Z2gnIDogJ25vdC1lbm91Z2gnO1xyXG4gICAgICAgIHN0ciArPSBgPHNwYW4gY2xhc3M9XCJ0b29sdGlwLSR7bWF0ZXJpYWx9ICR7Y29sb3JDbGFzc31cIj4ke3JlcXVpcmVtZW50c1ttYXRlcmlhbF19ICR7bWF0ZXJpYWx9PC9zcGFuPjxicj5gO1xyXG5cclxuICAgIH1cclxuICAgIHJldHVybiBzdHI7XHJcbn1cclxuXHJcblxyXG5cclxuY29uc3QgZW1vamlEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vtb2ppRGlzcGxheScpO1xyXG5mdW5jdGlvbiB1cGRhdGVFbW9qaURpc3BsYXkoKSB7XHJcbiAgICBsZXQgZW1vamlTdHIgPSBcIlwiO1xyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgam9iQ291bnRzIG1hcCB0byBnZXQgZWFjaCBqb2IgYW5kIGl0cyBjb3VudFxyXG4gICAgZm9yIChsZXQgcmVzb3VyY2UgaW4gcmVzb3VyY2VzKSB7XHJcbiAgICAgICAgLy8gbGV0IHJlc291cmNlID0gcmVzb3VyY2VzW2dldEFmZmVjdGVkUmVzb3VyY2VzKGpvYilbMF1dO1xyXG4gICAgICAgIGxldCBjb3VudCA9IGdldFdvcmtlcnMocmVzb3VyY2UpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc291cmNlLCBjb3VudCk7XHJcbiAgICAgICAgaWYgKGNvdW50ID09PSB1bmRlZmluZWQgfHwgY291bnQgPT0gMCkgY29udGludWU7XHJcbiAgICAgICAgbGV0IGVtb2ppID0gcmVzb3VyY2VzW3Jlc291cmNlXS5lbW9qaSB8fCAn8JOAnyc7ICAvLyBnZXQgdGhlIGVtb2ppIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGpvYiBmcm9tIHRoZSByZXNvdXJjZXMgbWFwXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coam9iLCBlbW9qaSk7XHJcbiAgICAgICAgaWYgKGVtb2ppKSB7XHJcbiAgICAgICAgICAgIGVtb2ppU3RyICs9IGVtb2ppLnJlcGVhdChjb3VudCk7ICAvLyByZXBlYXQgdGhlIGVtb2ppIGJhc2VkIG9uIHRoZSBjb3VudFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbW9qaURpc3BsYXkudGV4dENvbnRlbnQgPSBlbW9qaVN0cjsgIC8vIHVwZGF0ZSB0aGUgZW1vamlEaXNwbGF5IGRpdiB3aXRoIHRoZSBnZW5lcmF0ZWQgZW1vamkgc3RyaW5nXHJcblxyXG4gICAgZnVuY3Rpb24gYWRqdXN0Rm9udFNpemUoKSB7XHJcbiAgICAgICAgbGV0IGZvbnRTaXplID0gNDg7ICAvLyBTdGFydGluZyBmb250IHNpemVcclxuXHJcbiAgICAgICAgZW1vamlEaXNwbGF5LnN0eWxlLmZvbnRTaXplID0gYCR7Zm9udFNpemV9cHhgO1xyXG5cclxuICAgICAgICB3aGlsZSAoKGVtb2ppRGlzcGxheS5vZmZzZXRXaWR0aCA+IDYwMCkgJiYgZm9udFNpemUgPiAzMCkge1xyXG4gICAgICAgICAgICAvLyAxMCBpcyBhIG1pbmltdW0gZm9udC1zaXplIHRocmVzaG9sZCB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3BcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZW1vamlEaXNwbGF5Lm9mZnNldFdpZHRoLCBlbW9qaURpc3BsYXkub2Zmc2V0SGVpZ2h0KTtcclxuICAgICAgICAgICAgZm9udFNpemUgLT0gMTsgLy8gZGVjcmVhc2UgdGhlIGZvbnQgc2l6ZVxyXG4gICAgICAgICAgICBlbW9qaURpc3BsYXkuc3R5bGUuZm9udFNpemUgPSBgJHtmb250U2l6ZX1weGA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGwgdGhpcyBmdW5jdGlvbiB3aGVuZXZlciB0aGUgY29udGVudCBvZiAjZW1vamlEaXNwbGF5IGNoYW5nZXNcclxuICAgIGFkanVzdEZvbnRTaXplKCk7XHJcblxyXG59XHJcblxyXG4vLyBDYWxsIHVwZGF0ZUVtb2ppRGlzcGxheSBldmVyeSB0aW1lIGpvYkNvdW50cyBpcyB1cGRhdGVkOlxyXG4vLyBGb3IgZXhhbXBsZTpcclxuLy8gam9iQ291bnRzLnNldCgnZmlzaGluZycsIDQpO1xyXG51cGRhdGVFbW9qaURpc3BsYXkoKTtcclxuXHJcblxyXG5jb25zdCBhdXRvQ3JhZnRUYWJsZSA9IHtcclxuICAgICdzdGlja3MnOiAnaGFuZGxlJyxcclxuICAgICd3b29kJzogJ3BhcGVyJyxcclxuICAgICdyb2Nrcyc6ICdzaGFycHJvY2tzJyxcclxuICAgICd2aW5lcyc6ICdyb3BlJyxcclxuICAgICdzYW5kJzogJ2dsYXNzJyxcclxuICAgICdvcmUnOiAnZ29sZCcsXHJcbiAgICAnY2xheSc6ICdicmlja3MnXHJcbn07XHJcblxyXG5mdW5jdGlvbiBjcmFmdEFsbFJlc291cmNlcyhyZXNvdXJjZUtleSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb3N0ID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY29zdDtcclxuICAgICAgICBsZXQgc3VmZmljaWVudFJlc291cmNlcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IG1hdCBpbiBjb3N0KSB7XHJcbiAgICAgICAgICAgIC8vIGlmIChnZXRNYXRlcmlhbChtYXQsIHJlc291cmNlcykgPCBjb3N0W21hdF0pIHtcclxuICAgICAgICAgICAgc3VmZmljaWVudFJlc291cmNlcy5wdXNoKGdldE1hdGVyaWFsKG1hdCwgcmVzb3VyY2VzKSAvIGNvc3RbbWF0XSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1pbiA9IE1hdGguZmxvb3IoTWF0aC5taW4oLi4uc3VmZmljaWVudFJlc291cmNlcykpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc291cmNlS2V5LCBtaW4pO1xyXG4gICAgICAgIGNyYWZ0UmVzb3VyY2VRdWFudGl0eShyZXNvdXJjZUtleSwgbWluKTtcclxuXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGNyYWZ0YWxsIGZvcjogJywgcmVzb3VyY2VLZXksIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JhZnRSZXNvdXJjZVF1YW50aXR5KHJlc291cmNlS2V5LCBxdWFudGl0eSkge1xyXG4gICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlS2V5KSkgdGhyb3cgXCJJbnZhbGlkIGNyYWZ0IGZvciBtaXNzaW5nIHJlc291cmNlOiBcIiArIHJlc291cmNlS2V5O1xyXG5cclxuICAgIGlmICghY2FuQ3JhZnQocmVzb3VyY2VLZXkpKSByZXR1cm47IC8vIFRha2VzIGNhcmUgb2YgcXVhbnRpdHkgPCAxXHJcbiAgICBsZXQgY29zdCA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNvc3Q7XHJcbiAgICAvLyBsZXQgY3JhZnRCb251cyA9IGNhbGNDcmFmdEJvbnVzKHJlc291cmNlS2V5KTtcclxuICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgcXVhbnRpdHk7ICsraSkge1xyXG4gICAgLy8gICAgIGNyYWZ0T25lKHJlc291cmNlS2V5LCBjb3N0LCBjcmFmdEJvbnVzKTtcclxuICAgIC8vIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5mbG9vcihxdWFudGl0eSk7ICsraSkgeyAvLyBPbmx5IGNyYWZ0IHdob2xlIG51bWJlciwgc28gMS40IG9ubHkgcnVucyBvbmNlXHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NyYWZ0aW5nJywgcXVhbnRpdHksIHJlc291cmNlS2V5LCBjb3N0KTtcclxuICAgICAgICBjcmFmdE9uZShyZXNvdXJjZUtleSwgY29zdCwgY2FsY0NyYWZ0Qm9udXMocmVzb3VyY2VLZXkpKTtcclxuICAgIH1cclxuICAgIC8vIGZvciAobGV0IG1hdCBpbiBjb3N0KSB7XHJcbiAgICAvLyAgICAgaW5jcmVhc2VNYXRlcmlhbChtYXQsIC1jb3N0W21hdF0gKiBxdWFudGl0eSk7XHJcbiAgICAvLyB9XHJcbiAgICAvLyBpbmNyZWFzZU1hdGVyaWFsKHJlc291cmNlS2V5LCBxdWFudGl0eSk7XHJcblxyXG4gICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jcmFmdGVkT25jZSkgY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY3JhZnRlZE9uY2UgPSB0cnVlO1xyXG5cclxuICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShyZXNvdXJjZUtleSk7XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY3JhZnRPbmUocmVzb3VyY2VLZXksIGNvc3QsIGNyYWZ0Qm9udXMpIHtcclxuICAgIGZvciAoY29uc3QgW21hdCwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhjb3N0KSkge1xyXG4gICAgICAgIGluY3JlYXNlTWF0ZXJpYWwobWF0LCAtdmFsKTtcclxuICAgIH1cclxuICAgIGluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2VLZXksIGNyYWZ0Qm9udXMpO1xyXG5cclxufVxyXG4vLyBDcmFmdCBmdW5jdGlvblxyXG5mdW5jdGlvbiBjcmFmdFJlc291cmNlKHJlc291cmNlS2V5KSB7XHJcbiAgICBpZiAoIWNyYWZ0ZWRSZXNvdXJjZXMuaGFzT3duUHJvcGVydHkocmVzb3VyY2VLZXkpKSB0aHJvdyBcIkludmFsaWQgY3JhZnQgZm9yIG1pc3NpbmcgcmVzb3VyY2U6IFwiICsgcmVzb3VyY2VLZXk7XHJcblxyXG4gICAgaWYgKCFjYW5DcmFmdChyZXNvdXJjZUtleSkpIHJldHVybjtcclxuXHJcbiAgICBsZXQgY29zdCA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNvc3Q7XHJcbiAgICBsZXQgY3JhZnRCb251cyA9IGNhbGNDcmFmdEJvbnVzKHJlc291cmNlS2V5KTtcclxuXHJcblxyXG4gICAgY3JhZnRPbmUocmVzb3VyY2VLZXksIGNvc3QsIGNyYWZ0Qm9udXMpO1xyXG5cclxuICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyByZXNvdXJjZUtleSArIFwiVmFsdWVcIikudGV4dENvbnRlbnQgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS52YWx1ZS50b0ZpeGVkKDIpO1xyXG4gICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jcmFmdGVkT25jZSkgY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY3JhZnRlZE9uY2UgPSB0cnVlO1xyXG4gICAgdXBkYXRlRGlzcGxheVZhbHVlKHJlc291cmNlS2V5KTtcclxufVxyXG5cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGluY3JlYXNlTWF0ZXJpYWwsXHJcbiAgICBzZXRNYXgsXHJcbiAgICBpbmNyZWFzZU1heCxcclxuICAgIGNyYWZ0QWxsUmVzb3VyY2VzLFxyXG4gICAgY3JhZnRSZXNvdXJjZSxcclxuICAgIHVwZGF0ZUVtb2ppRGlzcGxheSxcclxuICAgIHVwZGF0ZURpc3BsYXlWYWx1ZSxcclxuICAgIGdlbmVyYXRlVG9vbHRpcENvc3QsXHJcbiAgICBjYWxjU2Vjb25kc1JlbWFpbmluZyxcclxuICAgIGFwcGVuZENyYWZ0ZWRSZXNvdXJjZUJ1dHRvbnMsXHJcbiAgICBjYWxjSW5jcmVhc2UsXHJcbiAgICB1cGRhdGVSZXNvdXJjZUluY3JlYXNlUmF0ZXMsXHJcbiAgICBjcmFmdFJlc291cmNlUXVhbnRpdHlcclxuXHJcbn07IiwiLy8gREVQRU5EUyBPTjogcmVzb3VyY2VzLmpzXHJcbmNvbnN0IHsgdXBkYXRlRGlzcGxheVZhbHVlLCBjYWxjSW5jcmVhc2UsIHVwZGF0ZUVtb2ppRGlzcGxheSB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBhZGRUb29sLCBnZXRBbGxUb29scyB9ID0gcmVxdWlyZSgnLi90b29scycpO1xyXG5jb25zdCB7IGFsbFZpc2libGVCdXR0b25zLCBwb3B1bGF0ZVNraWxsc1RhYmxlLCBzZXRWaXNpYmxlQnV0dG9uIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IG1ha2VWaXNpYmxlIH0gPSByZXF1aXJlKCcuL21ha2VWaXNpYmxlJyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlIH0gPSByZXF1aXJlKCcuL2dldENyYWZ0ZWRSZXNvdXJjZScpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcblxyXG5jb25zdCB7IGdldEFsbFBlcmtzLCBhZGRQZXJrLCBoYXNQZXJrIH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBqb2JDb3VudHMsIHNldENvbm5lY3Rpb25zLCBnZXRDb25uZWN0aW9ucywgZGlzdHJpYnV0ZVdvcmtlcnMsIHVwZGF0ZURpc3BsYXkgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IHRvdGFsX3RpbWUgfSA9IHJlcXVpcmUoJy4vbWFpbicpO1xyXG5jb25zdCB7IHNldEF0ZUZpc2gsIGdldEF0ZUZpc2ggfSA9IHJlcXVpcmUoJy4vYXRlRmlzaCcpO1xyXG5cclxuXHJcbmNvbnN0IHsgY3JhZnRlZFJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuY29uc3QgeyBidWlsZGluZ3MgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpO1xyXG5jb25zdCB7IHBvbmRlcnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vcG9uZGVyXCIpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZShcIi4vanNvbi9za2lsbHNcIik7XHJcbmNvbnN0IHsgZ2V0QWxsU3RhZ2VzIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG5jb25zdCB7IGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZywgbG9hZEZhY3RvcnkgfSA9IHJlcXVpcmUoJy4vZmFjdG9yeScpO1xyXG5jb25zdCB7IHJlY2FsY01heENsb25lcyB9ID0gcmVxdWlyZSgnLi9yZWNhbGNNYXhDbG9uZXMnKTtcclxuY29uc3QgeyB1cGRhdGVTaWRlYmFyIH0gPSByZXF1aXJlKCcuL3NpZGViYXInKTtcclxuY29uc3QgeyBwcmVzdGlnZSB9ID0gcmVxdWlyZSgnLi9qc29uL3ByZXN0aWdlJyk7XHJcbmNvbnN0IHsgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QgfSA9IHJlcXVpcmUoJy4vcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QnKTtcclxuY29uc3QgeyB1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50IH0gPSByZXF1aXJlKCcuL3VwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQnKTtcclxuY29uc3QgeyB1cGRhdGVCdWlsZGluZ0xpc3QgfSA9IHJlcXVpcmUoJy4vYnVpbGRpbmdzJyk7XHJcblxyXG4vLyBpbXBvcnQgam9iQ291bnRzO1xyXG4vKiBTQVZJTkcgKi9cclxuLy8gdmFyIHNhdmUgPSB7XHJcbi8vICAgICByZXNvdXJjZXM6IHJlc291cmNlcyxcclxuLy8gICAgIGNyYWZ0ZWRSZXNvdXJjZXM6IGNyYWZ0ZWRSZXNvdXJjZXMsXHJcbi8vICAgICBza2lsbHM6IHNraWxscyxcclxuLy8gICAgIHBsYXllclRvb2xzOiBwbGF5ZXJUb29sc1xyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiBzYXZlR2FtZSgpIHtcclxuICAgIGxldCBzYXZlID0ge1xyXG4gICAgICAgIHNraWxsczoge30sIC8vIFRoaXMgd2lsbCBob2xkIHRoZSBleHBlcmllbmNlIGFuZCBsZXZlbCBmb3IgZWFjaCBza2lsbFxyXG4gICAgICAgIGNyYWZ0ZWRSZXNvdXJjZXM6IHt9LCAvLyBUaGlzIHdpbGwgaG9sZCB0aGUgdmFsdWUgZm9yIGVhY2ggY3JhZnRlZCBpdGVtXHJcbiAgICAgICAgcmVzb3VyY2VzOiB7fSxcclxuICAgICAgICB0b29sczogW10sXHJcbiAgICAgICAgc3RhZ2VzOiBbXSxcclxuICAgICAgICB1bmxvY2tzOiB7fSxcclxuICAgICAgICBqb2JzOiB7fSxcclxuICAgICAgICBidWlsZGluZ3M6IHt9LFxyXG4gICAgICAgIHRpbWU6IHt9LFxyXG4gICAgICAgIGFsbFZpc2libGVCdXR0b25zOiBbXSxcclxuICAgICAgICBtZXNzYWdlOiBbXSxcclxuICAgICAgICBjb25uZWN0aW9uczogbmV3IE1hcCgpLFxyXG4gICAgICAgIHBlcmtzOiBbXSxcclxuICAgICAgICBmYWN0b3JpZXM6IHt9LFxyXG4gICAgICAgIHByZXN0aWdlOiB7fVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBFeHRyYWN0IGV4cCBhbmQgbGV2ZWwgZnJvbSBza2lsbHMgYW5kIHNhdmUgdG8gc2F2ZS5za2lsbHNcclxuICAgIGZvciAobGV0IHNraWxsIGluIHNraWxscykge1xyXG4gICAgICAgIHNhdmUuc2tpbGxzW3NraWxsXSA9IHtcclxuICAgICAgICAgICAgZXhwOiBza2lsbHNbc2tpbGxdLmV4cCxcclxuICAgICAgICAgICAgbGV2ZWw6IHNraWxsc1tza2lsbF0ubGV2ZWxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEV4dHJhY3QgdmFsdWUgZnJvbSBjcmFmdGVkUmVzb3VyY2VzIGFuZCBzYXZlIHRvIHNhdmUuY3JhZnRlZEl0ZW1zXHJcbiAgICBmb3IgKGxldCBpdGVtIGluIGNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICBpZiAoIXNhdmUuY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICBzYXZlLmNyYWZ0ZWRSZXNvdXJjZXNbaXRlbV0gPSB7IHZhbHVlOiAwLCBjcmFmdGVkT25jZTogZmFsc2UgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNhdmUuY3JhZnRlZFJlc291cmNlc1tpdGVtXS52YWx1ZSA9IGdldENyYWZ0ZWRSZXNvdXJjZShpdGVtKTtcclxuICAgICAgICBzYXZlLmNyYWZ0ZWRSZXNvdXJjZXNbaXRlbV0uY3JhZnRlZE9uY2UgPSBjcmFmdGVkUmVzb3VyY2VzW2l0ZW1dLmNyYWZ0ZWRPbmNlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpdGVtIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBpdGVtIGV4aXN0cyBpbiB0aGUgc2F2ZS5yZXNvdXJjZXMgb2JqZWN0LiBJZiBub3QsIGluaXRpYWxpemUgaXQuXHJcbiAgICAgICAgaWYgKCFzYXZlLnJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICBzYXZlLnJlc291cmNlc1tpdGVtXSA9IHsgdmFsdWU6IDAsIG1heDogMCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2F2ZS5yZXNvdXJjZXNbaXRlbV0udmFsdWUgPSBnZXRNYXRlcmlhbChpdGVtLCByZXNvdXJjZXMpO1xyXG4gICAgICAgIHNhdmUucmVzb3VyY2VzW2l0ZW1dLm1heCA9IHJlc291cmNlc1tpdGVtXS5tYXg7XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZS50b29scyA9IGdldEFsbFRvb2xzKCk7XHJcbiAgICBzYXZlLnN0YWdlcyA9IGdldEFsbFN0YWdlcygpO1xyXG4gICAgc2F2ZS5qb2JzID0gam9iQ291bnRzO1xyXG4gICAgc2F2ZS5wZXJrcyA9IGdldEFsbFBlcmtzKCk7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgc2F2ZS5jb25uZWN0aW9ucyA9IEFycmF5LmZyb20oZ2V0Q29ubmVjdGlvbnMoKS5lbnRyaWVzKCkpO1xyXG5cclxuICAgIGZvciAobGV0IHUgaW4gcG9uZGVycykge1xyXG4gICAgICAgIHNhdmUudW5sb2Nrc1t1XSA9IGlzUG9uZGVyZWQodSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgYiBpbiBidWlsZGluZ3MpIHtcclxuICAgICAgICBzYXZlLmJ1aWxkaW5nc1tiXSA9IGJ1aWxkaW5nc1tiXS5jb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhhbGxWaXNpYmxlQnV0dG9ucy52YWx1ZXMoKSk7XHJcbiAgICBmb3IgKGxldCBhIGluIGFsbFZpc2libGVCdXR0b25zKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYSk7XHJcbiAgICAgICAgc2F2ZS5hbGxWaXNpYmxlQnV0dG9ucy5wdXNoKGEpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHNhdmUuYWxsVmlzaWJsZUJ1dHRvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV4dHJhY3RUZXh0RnJvbUhUTUwoaHRtbFN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sU3RyaW5nO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0Q29udGVudCA9IGRpdi50ZXh0Q29udGVudDtcclxuICAgICAgICBjb25zdCBzcGFuVGV4dCA9IGRpdi5xdWVyeVNlbGVjdG9yKCdzcGFuJykudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgICAgIHJldHVybiBbdGV4dENvbnRlbnQsIHNwYW5UZXh0XTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nKSkge1xyXG4gICAgICAgIHNhdmUuZmFjdG9yaWVzW2tleV0gPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaHRtbFN0cmluZyA9IHJlcXVpcmUoJy4vbWFpbicpLmdldE1lc3NhZ2UoKS5pbm5lckhUTUw7XHJcblxyXG4gICAgc2F2ZS5tZXNzYWdlID0gZXh0cmFjdFRleHRGcm9tSFRNTChodG1sU3RyaW5nKTsgLy8gW21lc3NhZ2UsIHNwYW5dXHJcblxyXG5cclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhwcmVzdGlnZSkpIHtcclxuICAgICAgICBzYXZlLnByZXN0aWdlW2tleV0gPSB7IGNvc3Q6IHZhbC5jb3N0LCBsZXZlbDogdmFsLmxldmVsIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coY29tYmluZWRUZXh0KTsgLy8gXCJZb3UgZmluZCB5b3Vyc2VsZiBhbG9uZSBpbiBhIGZvcmVzdFwiXHJcbiAgICAvLyBjb25zb2xlLmxvZyhzcGFuVGV4dCk7IC8vIFwiYWxvbmVcIlxyXG5cclxuXHJcbiAgICBzYXZlLnRpbWVbJ3RvdGFsX3RpbWUnXSA9IHRvdGFsX3RpbWU7XHJcbiAgICBzYXZlLnRpbWVbJ3RpbWVfb2Zfc2F2ZSddID0gRGF0ZS5ub3coKTtcclxuICAgIC8vIFlvdSBjYW4gbm93IHVzZSB0aGUgc2F2ZSBvYmplY3QgdG8gc3RvcmUgdGhlIGRhdGEgc29tZXdoZXJlIG9yIGRpc3BsYXkgaXQgdG8gdGhlIHVzZXJcclxuXHJcbiAgICBjb25zb2xlLmxvZyhzYXZlKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHNhdmUpKTtcclxuXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNhdmVcIiwgSlNPTi5zdHJpbmdpZnkoc2F2ZSkpO1xyXG4gICAgcmV0dXJuIHNhdmU7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gbG9hZEdhbWUoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgR2FtZVwiKTtcclxuICAgIHZhciBzYXZlZ2FtZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzYXZlXCIpKTtcclxuICAgIGNvbnNvbGUubG9nKHNhdmVnYW1lKTtcclxuICAgIGlmIChzYXZlZ2FtZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIC8vIE5FVyBHQU1FXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5yZXNvdXJjZXMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHNhdmVnYW1lLnJlc291cmNlcykge1xyXG4gICAgICAgICAgICBpZiAoaS52YWx1ZU9mKCkgPT09IFwidW5kZWZpbmVkXCIgfHwgaSA9PT0gbnVsbCkgY29udGludWU7XHJcbiAgICAgICAgICAgIHJlc291cmNlc1tpXS52YWx1ZSA9IHNhdmVnYW1lLnJlc291cmNlc1tpXS52YWx1ZTtcclxuICAgICAgICAgICAgcmVzb3VyY2VzW2ldLm1heCA9IHNhdmVnYW1lLnJlc291cmNlc1tpXS5tYXg7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgcmVzb3VyY2VzIGZvciBcIiArIGkgKyBcIiB0byBcIiArIHNhdmVnYW1lLnJlc291cmNlc1tpXS52YWx1ZSwgc2F2ZWdhbWUucmVzb3VyY2VzW2ldLm1heCk7XHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbaV0udmFsdWUgIT0gMCkgdXBkYXRlRGlzcGxheVZhbHVlKGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnNraWxscyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHNhdmVnYW1lLnNraWxscykge1xyXG4gICAgICAgICAgICBza2lsbHNbaV0uZXhwID0gc2F2ZWdhbWUuc2tpbGxzW2ldLmV4cDtcclxuICAgICAgICAgICAgc2tpbGxzW2ldLmxldmVsID0gc2F2ZWdhbWUuc2tpbGxzW2ldLmxldmVsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgb2YgT2JqZWN0LmtleXMoc2F2ZWdhbWUuY3JhZnRlZFJlc291cmNlcykpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xvYWRpbmcgY3JhZnRlZCcsIGtleSwgc2F2ZWdhbWUuY3JhZnRlZFJlc291cmNlc1trZXldLCBjcmFmdGVkUmVzb3VyY2VzW2tleV0pO1xyXG4gICAgICAgICAgICBpZiAoIWNyYWZ0ZWRSZXNvdXJjZXNba2V5XSkgY29udGludWU7XHJcbiAgICAgICAgICAgIGNyYWZ0ZWRSZXNvdXJjZXNba2V5XS52YWx1ZSA9IHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXNba2V5XS52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihjcmFmdGVkUmVzb3VyY2VzW2tleV0udmFsdWUpKSBjcmFmdGVkUmVzb3VyY2VzW2tleV0udmFsdWUgPSAwO1xyXG4gICAgICAgICAgICBjcmFmdGVkUmVzb3VyY2VzW2tleV0uY3JhZnRlZE9uY2UgPSBzYXZlZ2FtZS5jcmFmdGVkUmVzb3VyY2VzW2tleV0uY3JhZnRlZE9uY2U7XHJcbiAgICAgICAgICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnRvb2xzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIHBsYXllclRvb2xzID0gc2F2ZWdhbWUudG9vbHM7XHJcbiAgICAgICAgLy8gVW5pb24gdGhlIHRvb2wgbGlzdHMgdG9nZXRoZXJcclxuICAgICAgICBsZXQgdW5pb24gPSBbLi4ubmV3IFNldChbLi4uZ2V0QWxsVG9vbHMoKSwgLi4uc2F2ZWdhbWUudG9vbHNdKV07XHJcbiAgICAgICAgLy8gcGxheWVyVG9vbHMgPSB1bmlvbjtcclxuICAgICAgICBmb3IgKGxldCB0b29sIGluIHVuaW9uKSB7XHJcbiAgICAgICAgICAgIGFkZFRvb2wodG9vbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBmb3IgKGxldCB0IGluIHBsYXllclRvb2xzKSB7XHJcbiAgICAgICAgLy8gICAgIHVwZGF0ZVRvb2xVSShwbGF5ZXJUb29sc1t0XSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuc3RhZ2VzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGZvciAobGV0IHMgaW4gc2F2ZWdhbWUuc3RhZ2VzKSB7XHJcbiAgICAgICAgICAgIG1ha2VWaXNpYmxlKHNhdmVnYW1lLnN0YWdlc1tzXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5qb2JzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIGpvYkNvdW50cyA9IHNhdmVnYW1lLmpvYnM7XHJcbiAgICAgICAgZm9yIChsZXQgaiBpbiBzYXZlZ2FtZS5qb2JzKSB7XHJcbiAgICAgICAgICAgIGpvYkNvdW50c1tqXSA9IHNhdmVnYW1lLmpvYnNbal07XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGopO1xyXG4gICAgICAgICAgICB1cGRhdGVEaXNwbGF5KGopO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUudW5sb2NrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGxldCB1IGluIHNhdmVnYW1lLnVubG9ja3MpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHBvbmRlcnNbdV0uaXNQb25kZXJlZCA9IHNhdmVnYW1lLnVubG9ja3NbdV07XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdPbGQgc2F2ZSBkYXRhIGluY2x1ZGVzIG9ic29sZXRlIHBvbmRlcicsIHUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1BvbmRlcmVkKCdza2lsbHNUYWJsZScpKSB7XHJcbiAgICAgICAgcG9wdWxhdGVTa2lsbHNUYWJsZSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5idWlsZGluZ3MgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgZm9yIChsZXQgYiBpbiBzYXZlZ2FtZS5idWlsZGluZ3MpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYiwgc2F2ZWdhbWUuYnVpbGRpbmdzW2JdKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGJ1aWxkaW5nc1tiXS5jb3VudCA9IHNhdmVnYW1lLmJ1aWxkaW5nc1tiXTtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBidXR0b24gdGV4dFxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1aWxkaW5nc1tiXS5jb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50KGIsIGJ1aWxkaW5nc1tiXS5jb3VudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY29zdHMgb2YgYWxsIHRoZSBidWlsZGluZ3NcclxuICAgICAgICAgICAgICAgICAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChiLCBidWlsZGluZ3MsIGhhc1BlcmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBtYXggYXMgaW5mbHVlbmNlZCBieSB0aGlzIGJ1aWxkaW5nXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBEb24ndCBvdmVyd3JpdGUgZXhpc3RpbmcgYnVpbGRpbmcgYm9vc3RzXHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoYnVpbGRpbmdzW2JdLmVmZmVjdHMpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBmb3IgKGxldCBtYXQgaW4gYnVpbGRpbmdzW2JdLmVmZmVjdHMpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2V0TWF4KG1hdCwgYnVpbGRpbmdzW2JdLmNvdW50ICogYnVpbGRpbmdzW2JdLmVmZmVjdHNbbWF0XSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdlcnJvciB3aXRoIGJ1aWxkaW5nJywgYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFmdGVyIHBvbmRlcnMgYW5kIGJ1aWxkaW5ncyB3ZSBjYW4gcmVjYWxjdWxhdGUgbWF4IGNsb25lc1xyXG4gICAgcmVjYWxjTWF4Q2xvbmVzKCk7XHJcbiAgICB1cGRhdGVCdWlsZGluZ0xpc3QoKTtcclxuXHJcblxyXG4gICAgLy8gSWYgd2UgaGF2ZSBhIGNsb25lLCB0aGVuIHdlIGF0ZSBmaXNoXHJcbiAgICBzZXRBdGVGaXNoKHJlc291cmNlcy5jbG9uZXMubWF4ID49IDEpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2F0ZWZpc2gnLCBhdGVGaXNoKTtcclxuICAgIGlmIChnZXRBdGVGaXNoKCkpIHtcclxuICAgICAgICBjb25zdCBmaXNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlYXRGaXNoXCIpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBmaXNoQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgICAvLyBDaGFuZ2UgdGhlIG1lc3NhZ2UgdG8gdGhlIGxhdGVzdCBvbmVcclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUubWVzc2FnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBbZnVsbCBtZXNzYWdlLCBzcGFuXVxyXG4gICAgICAgIHJlcXVpcmUoJy4vbWFpbicpLmNoYW5nZU1lc3NhZ2Uoc2F2ZWdhbWUubWVzc2FnZVswXSwgc2F2ZWdhbWUubWVzc2FnZVsxXSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgcmVzb3VyY2VzIGVhcm5lZCB3aGlsZSBhd2F5XHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnRpbWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmVxdWlyZSgnLi9tYWluJykuc2V0VG90YWxUaW1lKHNhdmVnYW1lLnRpbWVbdG90YWxfdGltZV0pO1xyXG4gICAgICAgIGNvbnN0IHRpbWVfZGlmZmVyZW5jZSA9IERhdGUubm93KCkgLSBzYXZlZ2FtZS50aW1lWyd0aW1lX29mX3NhdmUnXTtcclxuICAgICAgICBmb3IgKGxldCByIGluIHJlc291cmNlcykge1xyXG4gICAgICAgICAgICBjb25zdCBpbmMgPSBjYWxjSW5jcmVhc2UociwgdGltZV9kaWZmZXJlbmNlKTtcclxuICAgICAgICAgICAgcmVzb3VyY2VzW3JdLnZhbHVlICs9IGluYztcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cociwgdGltZV9kaWZmZXJlbmNlLCBpbmMpO1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzW3JdLnZhbHVlID4gcmVzb3VyY2VzW3JdLm1heCkgcmVzb3VyY2VzW3JdLnZhbHVlID0gcmVzb3VyY2VzW3JdLm1heDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5hbGxWaXNpYmxlQnV0dG9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhzYXZlZ2FtZS5hbGxWaXNpYmxlQnV0dG9ucyk7XHJcbiAgICAgICAgZm9yIChsZXQgYSBpbiBzYXZlZ2FtZS5hbGxWaXNpYmxlQnV0dG9ucykge1xyXG4gICAgICAgICAgICBzZXRWaXNpYmxlQnV0dG9uKGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5jb25uZWN0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBzZXRDb25uZWN0aW9ucyhuZXcgTWFwKHNhdmVnYW1lLmNvbm5lY3Rpb25zKSk7XHJcblxyXG4gICAgICAgIGlmIChnZXRDb25uZWN0aW9ucygpLnNpemUgPT09IDApIHNldENvbm5lY3Rpb25zKG5ldyBNYXAoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZ2V0Q29ubmVjdGlvbnMoKSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZvciAobGV0IGpvYiBpbiBqb2JDb3VudHMpIHtcclxuICAgICAgICBkaXN0cmlidXRlV29ya2Vycyhqb2IsIGpvYkNvdW50c1tqb2JdKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVFbW9qaURpc3BsYXkoKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnBlcmtzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIG15UGVya3MgPSBzYXZlZ2FtZS5wZXJrcztcclxuICAgICAgICBmb3IgKGxldCBwZXJrIGluIHNhdmVnYW1lLnBlcmtzKSB7XHJcbiAgICAgICAgICAgIGFkZFBlcmsocGVyayk7XHJcbiAgICAgICAgICAgIHJlcXVpcmUoJy4vc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24nKS5zZWxlY3RDb3JyZWN0UGVya0J1dHRvbihwZXJrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5mYWN0b3JpZXMgIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhzYXZlZ2FtZS5mYWN0b3JpZXMpKVxyXG4gICAgICAgICAgICBpZiAodmFsID4gMClcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsOyArK2kpXHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZEZhY3Rvcnkoa2V5KTtcclxuXHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5wcmVzdGlnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoc2F2ZWdhbWUucHJlc3RpZ2UpKSB7XHJcblxyXG4gICAgICAgICAgICBwcmVzdGlnZVtrZXldLmNvc3QgPSB2YWxbJ2Nvc3QnXTtcclxuICAgICAgICAgICAgcHJlc3RpZ2Vba2V5XS5sZXZlbCA9IHZhbFsnbGV2ZWwnXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuLy8gc2F2ZSB0aGUgdGltZSB3aGVuIHRoZSBwbGF5ZXIgZXhpdHMgdGhlIGJyb3dzZXIgdGFiXHJcbi8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsICgpID0+IHNhdmVHYW1lKCkpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHNhdmVHYW1lLFxyXG4gICAgbG9hZEdhbWVcclxufTsiLCIvKipcclxuICogU2VsZWN0IHRoZSBwZXJrIGJ1dHRvbiB0aGF0IHdlJ3ZlIGNob3NlbiBhbmQgZGlzYWJsZSB0aGUgb3RoZXJzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBhYmlsaXR5TmFtZSBOYW1lIG9mIHRoZSBjaG9zZW4gcGVya1xyXG4gKi9cclxuZnVuY3Rpb24gc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24oYWJpbGl0eU5hbWUpIHtcclxuICAgIC8vIERpc2FibGUgYWxsIGJ1dHRvbnNcclxuICAgIGxldCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRpZXJPbmVCdXR0b24nKTtcclxuICAgIGxldCBzZWxlY3RlZEJ1dHRvbjtcclxuICAgIHRyeSB7IHNlbGVjdGVkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7YWJpbGl0eU5hbWV9UGVya2ApOyB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgfVxyXG4gICAgaWYgKHNlbGVjdGVkQnV0dG9uKSB7XHJcbiAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRW5hYmxlIGFuZCBoaWdobGlnaHQgdGhlIHNlbGVjdGVkIGJ1dHRvblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkQnV0dG9uLCBhYmlsaXR5TmFtZSk7XHJcbiAgICAgICAgc2VsZWN0ZWRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIHNlbGVjdGVkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignTm8gYnV0dG9uIGZvdW5kIHdpdGggYWJpbGl0eSBuYW1lOiAnICsgYWJpbGl0eU5hbWUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24gPSBzZWxlY3RDb3JyZWN0UGVya0J1dHRvbjsiLCJjb25zdCB7IGNhcGl0YWxpemVGaXJzdCB9ID0gcmVxdWlyZSgnLi9jYXBpdGFsaXplRmlyc3QnKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IGdldE1heCB9ID0gcmVxdWlyZSgnLi9oZWxwZXInKTtcclxuY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkIH0gPSByZXF1aXJlKCcuL3BvbmRlcicpO1xyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlR3JvdXBWaXNpYmlsaXR5KGdyb3VwTmFtZSkge1xyXG4gICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZ3JvdXAtJHtncm91cE5hbWV9YCk7XHJcbiAgICBjb25zdCB0b2dnbGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdG9nZ2xlLSR7Z3JvdXBOYW1lfWApOyAvLyBFbnN1cmUgeW91IGhhdmUgdGhpcyBidXR0b24gd2l0aCB0aGUgaWQgJ3RvZ2dsZS1ncm91cE5hbWUnXHJcblxyXG4gICAgQXJyYXkuZnJvbShncm91cC5jaGlsZHJlbikuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnUCcpIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgZ3JvdXAgaXMgY3VycmVudGx5IGhpZGRlblxyXG4gICAgaWYgKHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2Fycm93LWRvd24nKSkge1xyXG4gICAgICAgIHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhcnJvdy1kb3duJyk7XHJcbiAgICAgICAgdG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Fycm93LXJpZ2h0Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhcnJvdy1yaWdodCcpO1xyXG4gICAgICAgIHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhcnJvdy1kb3duJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyBGdW5jdGlvbiB0byBjcmVhdGUgYSBncm91cCBjb250YWluZXJcclxuZnVuY3Rpb24gY3JlYXRlUmVzb3VyY2VHcm91cENvbnRhaW5lcihncm91cE5hbWUpIHtcclxuICAgIGNvbnN0IGdyb3VwQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBncm91cENvbnRhaW5lci5jbGFzc05hbWUgPSAncmVzb3VyY2VHcm91cCc7XHJcbiAgICBncm91cENvbnRhaW5lci5pZCA9IGBncm91cC0ke2dyb3VwTmFtZX1gO1xyXG5cclxuICAgIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgdG9nZ2xlQnV0dG9uLnRleHRDb250ZW50ID0gZ3JvdXBOYW1lLnRvVXBwZXJDYXNlKCk7XHJcbiAgICB0b2dnbGVCdXR0b24ub25jbGljayA9ICgpID0+IHRvZ2dsZUdyb3VwVmlzaWJpbGl0eShncm91cE5hbWUpO1xyXG4gICAgdG9nZ2xlQnV0dG9uLmNsYXNzTmFtZSA9ICd0b2dnbGUtYnV0dG9uIGFycm93LWRvd24nO1xyXG4gICAgdG9nZ2xlQnV0dG9uLmlkID0gYHRvZ2dsZS0ke2dyb3VwTmFtZX1gO1xyXG5cclxuICAgIGdyb3VwQ29udGFpbmVyLmFwcGVuZENoaWxkKHRvZ2dsZUJ1dHRvbik7XHJcbiAgICByZXR1cm4gZ3JvdXBDb250YWluZXI7XHJcbn1cclxuXHJcblxyXG5cclxuLy8gSXRlcmF0ZXMgb3ZlciBlYWNoIGdyb3VwIGFuZCByZXNvdXJjZSB0byBjcmVhdGUgdGFnc1xyXG5mdW5jdGlvbiBpbml0aWFsaXplUmVzb3VyY2VUYWdzKHdpdGhHcm91cHMpIHtcclxuICAgIGlmIChpc1BvbmRlcmVkKCdvcmdhbml6YXRpb24nKSkgd2l0aEdyb3VwcyA9IHRydWU7XHJcbiAgICBjb25zb2xlLmxvZyhcImluaXRpYWx6aW5nIHJlc291cmNlIHRhZ3NcIik7XHJcbiAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgICAvLyBEZWZpbmUgZ3JvdXBzIGZvciB5b3VyIHJlc291cmNlc1xyXG4gICAgY29uc3QgcmVzb3VyY2VHcm91cHMgPSB7XHJcbiAgICAgICAgJ3NwZWNpYWwnOiBbJ2Nsb25lcycsICdodXNrcycsICdwb25kZXInXSxcclxuICAgICAgICBiYXNpY3M6IFsnc3RpY2tzJywgJ2JlcnJpZXMnLCAnZmlzaCcsICdnYW1lJywgJ3doZWF0JywgJ2ZyZXNod2F0ZXInXSxcclxuICAgICAgICBtYXRlcmlhbHM6IFsnd29vZCcsICdzYW5kJywgJ2NsYXknLCAndmluZXMnLCAncm9ja3MnLCAnaGlkZXMnLCAnaGVyYnMnXSxcclxuICAgICAgICB0b29sczogWydzaGFycHJvY2tzJywgJ3JvcGUnLCAnaGFuZGxlJywgJ2Zpc2hpbmdyb2QnLCAncGlja2F4ZScsICdheGUnLCAnc3BlYXInLCAnc3RhZmYnXSxcclxuICAgICAgICBhZHZhbmNlZDogWydnbGFzcycsICdwYXBlcicsICdjcmF0ZXMnLCAnbWVkaWNpbmUnLCAnbGVhdGhlciddLFxyXG4gICAgICAgIG1ldGFsOiBbJ29yZScsICdnb2xkJywgJ2lyb24nLCAnc2lsdmVyJywgJ3N0ZWVsJ10sXHJcbiAgICAgICAgY29uc3RydWN0aW9uOiBbJ2JyaWNrcycsICdiZWFtcycsICduYWlscycsICdzbGFicycsICdjb25jcmV0ZSddLFxyXG4gICAgICAgIC8vIC4uLiBBZGQgb3RoZXIgZ3JvdXBzIGFzIG5lY2Vzc2FyeVxyXG4gICAgfTtcclxuICAgIGZvciAobGV0IFtncm91cE5hbWUsIGdyb3VwT2ZSZXNvdXJjZXNdIG9mIE9iamVjdC5lbnRyaWVzKHJlc291cmNlR3JvdXBzKSkge1xyXG5cclxuICAgICAgICBncm91cE9mUmVzb3VyY2VzLmZvckVhY2gocmVzb3VyY2VOYW1lID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzb3VyY2VOYW1lLCBncm91cE5hbWUpO1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZS0nICsgcmVzb3VyY2VOYW1lKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghd2l0aEdyb3VwcykgZ3JvdXBOYW1lID0gbnVsbDsgLy8gU2V0IGdyb3VwIHRvIHJlc291cmNlc1xyXG5cclxuICAgICAgICAgICAgaWYgKCFwYXJlbnRFbGVtZW50KSBwYXJlbnRFbGVtZW50ID0gY3JlYXRlUmVzb3VyY2VUYWcocmVzb3VyY2VOYW1lLCBncm91cE5hbWUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwYXJlbnRFbGVtZW50KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBlbGVtZW50IGlmIHdlIHNob3VsZCwgb3RoZXJ3aXNlIGNyZWF0ZSBhIHJlc291cmNlIHRhZ1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkSGlkZShyZXNvdXJjZU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coc2hvdWxkSGlkZSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaG91bGRIaWRlKHJlc291cmNlTmFtZSkge1xyXG5cclxuICAgIHZhciBzaG91bGRIaWRlID0gdHJ1ZTtcclxuICAgIC8vIGZvciAobGV0IGMgaW4gcGFyZW50RWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZygnaGFzIHBhc3NlZCcsIHJlc291cmNlTmFtZSwgcGFzc2VkU3RhZ2UoYykpO1xyXG4gICAgLy8gICAgIGlmIChyZXF1aXJlKCcuL3N0YWdlcycpLnBhc3NlZFN0YWdlKGMpKSB7IHNob3VsZEhpZGUgPSBmYWxzZTsgY29uc29sZS5sb2coJ2RvbnQgaGlkZScsIHJlc291cmNlTmFtZSwgYyk7IH1cclxuICAgIC8vIH1cclxuXHJcbiAgICBpZiAoZ2V0TWF0ZXJpYWwocmVzb3VyY2VOYW1lKSA+IDApIHtcclxuICAgICAgICBzaG91bGRIaWRlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHJlc291cmNlc1tyZXNvdXJjZU5hbWVdKSByZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS5pc1Zpc2libGUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlc291cmNlc1tyZXNvdXJjZU5hbWVdICYmIHJlc291cmNlc1tyZXNvdXJjZU5hbWVdLmlzVmlzaWJsZSkgeyBzaG91bGRIaWRlID0gZmFsc2U7IH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnc2hvdWxkIGhpZGU/JywgcmVzb3VyY2VOYW1lLCBzaG91bGRIaWRlKTtcclxuICAgIHJldHVybiBzaG91bGRIaWRlO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gYWJicmV2aWF0ZU51bWJlcihudW0pIHtcclxuICAgIGZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSwgdW5pdCkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDEwKSByZXR1cm4gcm91bmRUb0RlY2ltYWxzKHZhbHVlLCAyKSArIHVuaXQ7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgMTAwKSByZXR1cm4gcm91bmRUb0RlY2ltYWxzKHZhbHVlLCAxKSArIHVuaXQ7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgMTAwMCkgcmV0dXJuIHJvdW5kVG9EZWNpbWFscyh2YWx1ZSwgMCkgKyB1bml0O1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlKSArIHVuaXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcm91bmRUb0RlY2ltYWxzKG51bWJlciwgZGVjaW1hbHMpIHtcclxuICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLnBvdygxMCwgZGVjaW1hbHMpO1xyXG4gICAgICAgIHJldHVybiAoTWF0aC5yb3VuZChudW1iZXIgKiBmYWN0b3IpIC8gZmFjdG9yKS50b0ZpeGVkKGRlY2ltYWxzKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobnVtIDwgMWUzKSByZXR1cm4gcm91bmRUb0RlY2ltYWxzKG51bSwgMSk7IC8vIElmIGxlc3MgdGhhbiAxLDAwMFxyXG4gICAgaWYgKG51bSA8IDFlNikgcmV0dXJuIGZvcm1hdChudW0gLyAxZTMsICdLJyk7IC8vIFRob3VzYW5kc1xyXG4gICAgaWYgKG51bSA8IDFlOSkgcmV0dXJuIGZvcm1hdChudW0gLyAxZTYsICdNJyk7IC8vIE1pbGxpb25zXHJcbiAgICBpZiAobnVtIDwgMWUxMikgcmV0dXJuIGZvcm1hdChudW0gLyAxZTksICdCJyk7IC8vIEJpbGxpb25zXHJcbiAgICAvLyBBZGQgbW9yZSBjYXNlcyBmb3IgbGFyZ2VyIG51bWJlcnMgaWYgbmVlZGVkXHJcblxyXG4gICAgaWYgKG51bSA9PT0gSW5maW5pdHkpIG51bSA9ICfiiJ4nO1xyXG4gICAgcmV0dXJuIG51bS50b1N0cmluZygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVTaWRlYmFyKCkge1xyXG4gICAgY29uc3QgYWxsTWF0ZXJpYWxzID0gcmVxdWlyZSgnLi9mYWN0b3J5JykuYWxsTWF0ZXJpYWxzO1xyXG4gICAgQXJyYXkuZnJvbShhbGxNYXRlcmlhbHMpLmZvckVhY2gociA9PiB7IGlmIChyZXNvdXJjZXNbcl0pIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykudXBkYXRlRGlzcGxheVZhbHVlKHIpOyB9KTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtpbmRleCwgcmVzb3VyY2VOYW1lXSBvZiBPYmplY3QuZW50cmllcyhhbGxNYXRlcmlhbHMpKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzb3VyY2UtJyArIHJlc291cmNlTmFtZSk7XHJcbiAgICAgICAgaWYgKCFwYXJlbnRFbGVtZW50KSB7IGNvbnNvbGUud2Fybignbm8gcGFyZW50IGVsZW1lbnQgZm91bmQgZm9yJywgcmVzb3VyY2VOYW1lKTsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgIGlmIChzaG91bGRIaWRlKHJlc291cmNlTmFtZSkpIHtcclxuICAgICAgICAgICAgcGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkaXNwbGF5RWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJlc291cmNlTmFtZSArICdWYWx1ZScpO1xyXG4gICAgICAgIGlmIChkaXNwbGF5RWxlbSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhYmJyZXZpYXRlTnVtYmVyKHJlc291cmNlRGF0YSkpO1xyXG4gICAgICAgICAgICB2YXIgY29sb3IgPSAnI2ZmZic7XHJcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IGdldE1hdGVyaWFsKHJlc291cmNlTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1heCA9IGdldE1heChyZXNvdXJjZU5hbWUpO1xyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgaWYgKGFtb3VudCA9PT0gbWF4KSBjb2xvciA9ICcjZmNjJztcclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGFtb3VudCAvIG1heCA+IC42KSBjb2xvciA9ICcjZWViJztcclxuXHJcbiAgICAgICAgICAgIGRpc3BsYXlFbGVtLmlubmVySFRNTCA9IGA8c3BhbiBzdHlsZT1cImNvbG9yOiR7Y29sb3J9XCI+JHthYmJyZXZpYXRlTnVtYmVyKGFtb3VudCl9IC8gJHthYmJyZXZpYXRlTnVtYmVyKG1heCl9IDwvc3Bhbj5gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4vLyBDcmVhdGUgYWxsIG91ciByZXNvdXJjZSB0YWdzIGluIHRoZSBzaWRlYmFyXHJcbmNvbnN0IHJlc291cmNlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZXMnKTtcclxuZnVuY3Rpb24gY3JlYXRlUmVzb3VyY2VUYWcocmVzb3VyY2VOYW1lLCBncm91cE5hbWUpIHtcclxuICAgIC8vIGlmICghcmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlTmFtZSkpIHRocm93IFwiSW52YWxpZCByZXNvdXJjZTogXCIgKyByZXNvdXJjZU5hbWU7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIHJlc291cmNlIHRhZyBmb3IgXCIsIHJlc291cmNlTmFtZSwgZ3JvdXBOYW1lKTtcclxuICAgIGxldCBncm91cENvbnRhaW5lcjtcclxuICAgIGlmIChncm91cE5hbWUpIHtcclxuICAgICAgICBncm91cENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBncm91cC0ke2dyb3VwTmFtZX1gKTtcclxuICAgICAgICBpZiAoIWdyb3VwQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIGdyb3VwQ29udGFpbmVyID0gY3JlYXRlUmVzb3VyY2VHcm91cENvbnRhaW5lcihncm91cE5hbWUpO1xyXG4gICAgICAgICAgICByZXNvdXJjZXNDb250YWluZXIuYXBwZW5kQ2hpbGQoZ3JvdXBDb250YWluZXIpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYXBwZW5kaW5nJywgZ3JvdXBDb250YWluZXIsIHJlc291cmNlc0NvbnRhaW5lciwgcmVzb3VyY2VzQ29udGFpbmVyLmNoaWxkRWxlbWVudENvdW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBncm91cENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZXMnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhncm91cENvbnRhaW5lcik7XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VEaXNwbGF5TmFtZSA9IGNhcGl0YWxpemVGaXJzdChyZXNvdXJjZU5hbWUpLnNwbGl0KCdfJykuam9pbignICcpO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgIHJlc291cmNlRWxlbWVudC5jbGFzc05hbWUgPSBgcmVzb3VyY2VgO1xyXG4gICAgcmVzb3VyY2VFbGVtZW50LmlkID0gYHJlc291cmNlLSR7cmVzb3VyY2VOYW1lfWA7XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIHJlc291cmNlTmFtZVNwYW4uY2xhc3NOYW1lID0gJ3Jlc291cmNlTmFtZSc7XHJcbiAgICByZXNvdXJjZU5hbWVTcGFuLnRleHRDb250ZW50ID0gYCR7cmVzb3VyY2VEaXNwbGF5TmFtZX06YDtcclxuXHJcbiAgICBjb25zdCByZXNvdXJjZVZhbHVlU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIHJlc291cmNlVmFsdWVTcGFuLmNsYXNzTmFtZSA9ICdyZXNvdXJjZVZhbHVlJztcclxuICAgIHJlc291cmNlVmFsdWVTcGFuLmlkID0gYCR7cmVzb3VyY2VOYW1lfVZhbHVlYDtcclxuICAgIGxldCBtYXggPSAoZ2V0TWF4KHJlc291cmNlTmFtZSkgJiYgZ2V0TWF4KHJlc291cmNlTmFtZSkgPCBJbmZpbml0eSkgPyBnZXRNYXgocmVzb3VyY2VOYW1lKS50b0ZpeGVkKDIpIDogJ+KInic7XHJcblxyXG4gICAgcmVzb3VyY2VWYWx1ZVNwYW4udGV4dENvbnRlbnQgPSBgJHtnZXRNYXRlcmlhbChyZXNvdXJjZU5hbWUpLnRvRml4ZWQoMil9IC8gJHttYXh9YDtcclxuXHJcbiAgICBjb25zdCByZXNvdXJjZVJhdGVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgcmVzb3VyY2VSYXRlU3Bhbi5jbGFzc05hbWUgPSAncmVzb3VyY2VSYXRlJztcclxuICAgIHJlc291cmNlUmF0ZVNwYW4uaW5uZXJIVE1MID0gYCgrXHJcbiAgICAgICAgICAgIDxzcGFuIGlkPVwiJHtyZXNvdXJjZU5hbWV9SW5jcmVhc2VSYXRlXCI+MDwvc3Bhbj4vcylgO1xyXG5cclxuICAgIHJlc291cmNlRWxlbWVudC5hcHBlbmRDaGlsZChyZXNvdXJjZU5hbWVTcGFuKTtcclxuICAgIHJlc291cmNlRWxlbWVudC5hcHBlbmRDaGlsZChyZXNvdXJjZVZhbHVlU3Bhbik7XHJcbiAgICByZXNvdXJjZUVsZW1lbnQuYXBwZW5kQ2hpbGQocmVzb3VyY2VSYXRlU3Bhbik7XHJcblxyXG4gICAgZ3JvdXBDb250YWluZXIuYXBwZW5kQ2hpbGQocmVzb3VyY2VFbGVtZW50KTtcclxuXHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBvcmRlcmluZ1xyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIGNoYW5nZSB0aGUgb3JkZXIgb2YgYSByZXNvdXJjZVxyXG4gICAgZnVuY3Rpb24gY2hhbmdlUmVzb3VyY2VPcmRlcihyZXNvdXJjZUlkLCBuZXdPcmRlcikge1xyXG4gICAgICAgIGNvbnN0IHJlc291cmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocmVzb3VyY2VJZCk7XHJcbiAgICAgICAgaWYgKHJlc291cmNlKSB7XHJcbiAgICAgICAgICAgIHJlc291cmNlLnN0eWxlLm9yZGVyID0gbmV3T3JkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtY2xvbmVzXCIsIDEpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXN0aWNrc1wiLCAyKTsgLy8gTW92ZSBcIlN0aWNrc1wiIHRvIG9yZGVyIDJcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS12aW5lc1wiLCAzKTsgLy8gTW92ZSBcIlZpbmVzXCIgdG8gb3JkZXIgM1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXJvY2tzXCIsIDQpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLWZpc2hcIiwgNSk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtZnJlc2h3YXRlclwiLCA2KTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS13b29kXCIsIDcpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLW9yZVwiLCA4KTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1zYW5kXCIsIDkpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLWNsYXlcIiwgMTApO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXdoZWF0XCIsIDExKTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1oaWRlc1wiLCAxMik7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtZ2FtZVwiLCAxMyk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtaGVyYnNcIiwgMTQpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLWJlcnJpZXNcIiwgMTUpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXBvbmRlclwiLCA1MCk7XHJcblxyXG4gICAgcmV0dXJuIHJlc291cmNlRWxlbWVudDtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgdXBkYXRlU2lkZWJhcixcclxuICAgIGluaXRpYWxpemVSZXNvdXJjZVRhZ3MsXHJcbn07IiwibGV0IHN0YWdlcyA9IFtdO1xyXG5mdW5jdGlvbiBzZXRTdGFnZShzdGFnZSkge1xyXG4gICAgc3RhZ2VzLnB1c2goc3RhZ2UpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhZ2UgU3RhZ2UgdG8gY2hlY2tcclxuICogQHJldHVybnMgYm9vbGVhbiBpZiBzdGFnZSBpbiBzdGFnZXNcclxuICovXHJcbmZ1bmN0aW9uIHBhc3NlZFN0YWdlKHN0YWdlKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhzdGFnZXMpLmluY2x1ZGVzKHN0YWdlKTtcclxufVxyXG5mdW5jdGlvbiBnZXRBbGxTdGFnZXMoKSB7XHJcbiAgICByZXR1cm4gc3RhZ2VzO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldFN0YWdlcygpIHtcclxuICAgIHdoaWxlIChzdGFnZXMubGVuZ3RoID4gMClcclxuICAgICAgICBzdGFnZXMucG9wKCk7XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzZXRTdGFnZSxcclxuICAgIHBhc3NlZFN0YWdlLFxyXG4gICAgZ2V0QWxsU3RhZ2VzLFxyXG4gICAgcmVzZXRTdGFnZXNcclxufTsiLCIvKiBUT09MUyAqL1xyXG5cclxuXHJcbi8vIExpc3QgdG8gaG9sZCB0aGUgdG9vbHNcclxubGV0IHBsYXllclRvb2xzID0gWydCYXJlIEhhbmRzJ107XHJcblxyXG5cclxuLyoqXHJcbiAqIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIGEgdG9vbCBpcyBwcmVzZW50IGluIHRoZSBsaXN0IFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9vbCBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiBoYXNUb29sKHRvb2wpIHtcclxuICAgIHJldHVybiBwbGF5ZXJUb29scy5pbmNsdWRlcyh0b29sKTtcclxufVxyXG5cclxuLy8gRnVuY3Rpb24gdG8gYWRkIGEgdG9vbCBpZiBpdCdzIG5vdCBhbHJlYWR5IHByZXNlbnRcclxuZnVuY3Rpb24gYWRkVG9vbCh0b29sKSB7XHJcbiAgICAvLyBJZ25vcmUgdG9vbHMgdGhhdCBhcmUganVzdCBudW1iZXJzXHJcbiAgICBpZiAoIWlzTmFOKHRvb2wpICYmIC8vIHVzZSB0eXBlIGNvZXJjaW9uIHRvIHBhcnNlIHRoZSBfZW50aXJldHlfIG9mIHRoZSBzdHJpbmcgKGBwYXJzZUZsb2F0YCBhbG9uZSBkb2VzIG5vdCBkbyB0aGlzKS4uLlxyXG4gICAgICAgICFpc05hTihwYXJzZUZsb2F0KHRvb2wpKSkgLy8gLi4uYW5kIGVuc3VyZSBzdHJpbmdzIG9mIHdoaXRlc3BhY2UgZmFpbFxyXG4gICAge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghaGFzVG9vbCh0b29sKSkge1xyXG4gICAgICAgIHBsYXllclRvb2xzLnB1c2godG9vbCk7XHJcblxyXG4gICAgICAgIHVwZGF0ZVRvb2xVSSh0b29sKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QWxsVG9vbHMoKSB7XHJcbiAgICByZXR1cm4gcGxheWVyVG9vbHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVRvb2xVSSh0b29sKSB7XHJcbiAgICAvLyBVcGRhdGUgdGhlIFVJXHJcbiAgICB2YXIgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvb2xzLWxpc3RcIik7XHJcbiAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICBsaS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0b29sKSk7XHJcbiAgICBpZiAodWwpIHVsLmFwcGVuZENoaWxkKGxpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VG9vbFZhbHVlRm9yUmVzb3VyY2UocmVzb3VyY2UpIHtcclxuICAgIGlmICghcmVzb3VyY2UpIHJldHVybiAxO1xyXG4gICAgaWYgKCFyZXNvdXJjZS50b29scykgcmV0dXJuIDE7XHJcblxyXG4gICAgLy8gU29ydCB0aGUgdG9vbHMgaW4gZGVzY2VuZGluZyBvcmRlciBiYXNlZCBvbiB0aGVpciB2YWxcclxuICAgIGNvbnN0IHNvcnRlZFRvb2xzID0gcmVzb3VyY2UudG9vbHMuc29ydCgoYSwgYikgPT4gYi52YWwgLSBhLnZhbCk7XHJcblxyXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBzb3J0ZWQgdG9vbHNcclxuICAgIGZvciAobGV0IHRvb2wgb2Ygc29ydGVkVG9vbHMpIHtcclxuICAgICAgICBpZiAoaGFzVG9vbCh0b29sLnRvb2wpKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBwbGF5ZXIgaGFzIHRoZSB0b29sLCByZXR1cm4gaXRzIGFzc29jaWF0ZWQgdmFsdWVcclxuICAgICAgICAgICAgcmV0dXJuIHRvb2wudmFsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gSWYgbm9uZSBvZiB0aGUgdG9vbHMgYXJlIGZvdW5kLCByZXR1cm4gdGhlIGRlZmF1bHQgdmFsdWVcclxuICAgIHJldHVybiAxO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGhhc1Rvb2wsXHJcbiAgICBhZGRUb29sLFxyXG4gICAgZ2V0QWxsVG9vbHMsXHJcbiAgICBnZXRUb29sVmFsdWVGb3JSZXNvdXJjZVxyXG59OyIsImNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcblxyXG5jb25zdCByZXNvdXJjZUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzb3VyY2VMaXN0Jyk7XHJcbmNvbnN0IGdvbGRBbW91bnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb2xkQW1vdW50Jyk7XHJcbi8vIGxldCBnb2xkQW1vdW50ID0gMTAwMDsgLy8gU2FtcGxlIHN0YXJ0aW5nIGFtb3VudFxyXG4vLyBjb25zdCB0cmFkZUJvbnVzID0gMC45OyAvLyAxMCUgZGlzY291bnRcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVHJhZGVUYWJsZShyZXNvdXJjZXMpIHtcclxuICAgIGZvciAobGV0IHJlc291cmNlIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICAgICAgY29uc3QgcHJpY2UgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApICsgMTA7IC8vIFJhbmRvbSBwcmljZSBiZXR3ZWVuIDEwIGFuZCAxMTAgZm9yIHRoaXMgZXhhbXBsZS5cclxuXHJcbiAgICAgICAgcm93LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPHRkIGNsYXNzPVwidHJhZGV0ZFwiPiR7cmVzb3VyY2V9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzPVwidHJhZGV0ZFwiPiR7cHJpY2V9PC90ZD5cclxuICAgICAgICAgICAgPHRkIGNsYXNzPVwidHJhZGV0ZFwiIHN0eWxlPVwiZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpyb3c7XCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV5QnRuXCIgZGF0YS1yZXNvdXJjZT1cIiR7cmVzb3VyY2V9XCIgZGF0YS1wcmljZT1cIiR7cHJpY2V9XCI+QnV5PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2VsbEJ0blwiIGRhdGEtcmVzb3VyY2U9XCIke3Jlc291cmNlfVwiIGRhdGEtcHJpY2U9XCIke3ByaWNlfVwiPlNlbGw8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICByZXNvdXJjZUxpc3QuYXBwZW5kQ2hpbGQocm93KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgYnV5IGFuZCBzZWxsIGJ1dHRvbnNcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXlCdG4nKS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yZXNvdXJjZScpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGNvbnN0IHByaWNlID0gcGFyc2VGbG9hdChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJpY2UnKSk7XHJcbiAgICAgICAgICAgIGJ1eVJlc291cmNlKHJlc291cmNlLCBwcmljZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxsQnRuJykuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVzb3VyY2UnKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb25zdCBwcmljZSA9IHBhcnNlRmxvYXQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXByaWNlJykpO1xyXG4gICAgICAgICAgICBzZWxsUmVzb3VyY2UocmVzb3VyY2UsIHByaWNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNpbWlsYXJseSwgeW91IGNhbiBhZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBzZWxsIGJ1dHRvbnMgaGVyZVxyXG59XHJcblxyXG5leHBvcnRzLmdlbmVyYXRlVHJhZGVUYWJsZSA9IGdlbmVyYXRlVHJhZGVUYWJsZTtcclxuXHJcbmV4cG9ydHMuYnV5UmVzb3VyY2UgPSBidXlSZXNvdXJjZTtcclxuZXhwb3J0cy5zZWxsUmVzb3VyY2UgPSBzZWxsUmVzb3VyY2U7XHJcblxyXG5mdW5jdGlvbiBidXlSZXNvdXJjZShyZXNvdXJjZSwgcHJpY2UpIHtcclxuXHJcbiAgICBpZiAoZ2V0TWF0ZXJpYWwoJ2dvbGQnLCByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJykucmVzb3VyY2VzKSA+PSBwcmljZSkge1xyXG4gICAgICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuaW5jcmVhc2VNYXRlcmlhbCgnZ29sZCcsIC1wcmljZSk7XHJcbiAgICAgICAgcmVxdWlyZSgnLi9yZXNvdXJjZXMnKS5pbmNyZWFzZU1hdGVyaWFsKHJlc291cmNlLCBwcmljZSk7XHJcbiAgICAgICAgZ29sZEFtb3VudEVsLnRleHRDb250ZW50ID0gZ2V0TWF0ZXJpYWwoJ2dvbGQnLCByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJykucmVzb3VyY2VzKTtcclxuICAgICAgICAvLyBhbGVydChgWW91IGJvdWdodCAke3Jlc291cmNlfSBmb3IgJHtwcmljZS50b0ZpeGVkKDIpfSBnb2xkIWApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBhbGVydChcIllvdSBkb24ndCBoYXZlIGVub3VnaCBnb2xkIVwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2VsbFJlc291cmNlKHJlc291cmNlLCBwcmljZSkge1xyXG4gICAgaWYgKGdldE1hdGVyaWFsKHJlc291cmNlLCByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJykucmVzb3VyY2VzKSA+PSAxKSB7XHJcblxyXG4gICAgICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuaW5jcmVhc2VNYXRlcmlhbCgnZ29sZCcsIHByaWNlKTtcclxuICAgICAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLmluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2UsIC0xKTtcclxuICAgICAgICBnb2xkQW1vdW50RWwudGV4dENvbnRlbnQgPSBnZXRNYXRlcmlhbCgnZ29sZCcsIHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKS5yZXNvdXJjZXMpO1xyXG4gICAgfVxyXG4gICAgLy8gYWxlcnQoYFlvdSBzb2xkICR7cmVzb3VyY2V9IGZvciAke3ByaWNlLnRvRml4ZWQoMil9IGdvbGQhYCk7XHJcbn0iLCJmdW5jdGlvbiB0cmlnZ2VyRmxvYXRVcFRleHQoeCwgeSwgdGV4dCwgY29sb3IpIHtcclxuICAgIGNvbnN0IGZsb2F0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgZmxvYXRUZXh0LnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIGZsb2F0VGV4dC5zdHlsZS5sZWZ0ID0gYCR7eH1weGA7XHJcbiAgICBmbG9hdFRleHQuc3R5bGUudG9wID0gYCR7eSAtIDMwfXB4YDtcclxuICAgIGZsb2F0VGV4dC5zdHlsZS5jb2xvciA9IGNvbG9yO1xyXG4gICAgZmxvYXRUZXh0LmNsYXNzTGlzdC5hZGQoJ2Zsb2F0LXVwLWZhZGUtb3V0Jyk7XHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmbG9hdFRleHQpO1xyXG5cclxuICAgIC8vIFJlbW92ZSB0aGUgZWxlbWVudCBmcm9tIHRoZSBET00gYWZ0ZXIgdGhlIGFuaW1hdGlvbiBjb21wbGV0ZXNcclxuICAgIGZsb2F0VGV4dC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgZmxvYXRUZXh0LnJlbW92ZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0cy50cmlnZ2VyRmxvYXRVcFRleHQgPSB0cmlnZ2VyRmxvYXRVcFRleHQ7XHJcbiIsImNvbnN0IHsgY2FwaXRhbGl6ZUZpcnN0IH0gPSByZXF1aXJlKCcuL2NhcGl0YWxpemVGaXJzdCcpO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudChidWlsZGluZ05hbWUsIGJ1aWxkaW5nQ291bnQpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2J1aWxkaW5nTmFtZX1gKS50ZXh0Q29udGVudCA9IGAke2NhcGl0YWxpemVGaXJzdChidWlsZGluZ05hbWUpLnNwbGl0KCdfJykuam9pbignICcpfSAoJHtidWlsZGluZ0NvdW50fSlgO1xyXG5cclxufVxyXG5leHBvcnRzLnVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQgPSB1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50OyIsImNvbnN0IHsgYnV0dG9ucyB9ID0gcmVxdWlyZSgnLi9qc29uL2J1dHRvbnMnKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IGdldEJ1aWxkaW5nQ291bnQgfSA9IHJlcXVpcmUoJy4vanNvbi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkLCBjYW5VbmxvY2sgfSA9IHJlcXVpcmUoJy4vcG9uZGVyJyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWcgfSA9IHJlcXVpcmUoXCIuL2pzb24vY3JhZnRlZFJlc291cmNlc1wiKTtcclxuY29uc3QgeyBpc0J1dHRvbklkVmlzaWJsZSwgc2V0VmlzaWJsZUJ1dHRvbiB9ID0gcmVxdWlyZSgnLi9oZWxwZXInKTtcclxuY29uc3QgeyBjYW5DcmFmdCB9ID0gcmVxdWlyZSgnLi9jYW5DcmFmdCcpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgcGFzc2VkU3RhZ2UgfSA9IHJlcXVpcmUoJy4vc3RhZ2VzJyk7XHJcbmNvbnN0IHsgY2FuQnV5QnVpbGRpbmcgfSA9IHJlcXVpcmUoJy4vY2FuQnV5QnVpbGRpbmcnKTtcclxuLyoqXHJcbiAqIENoYW5nZXMgdGhlIHN0YXRlcyBvZiBidXR0b25zIGJldHdlZW4gJ2hpZGRlbicsICdwdXJjaGFzYWJsZScsIGFuZCAnYnV0dG9uLWRpc2FibGVkJ1xyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSgpIHtcclxuICAgIGNvbnN0IHNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKTsgLy8gQWRqdXN0IHRoZSBzZWxlY3RvciBhY2NvcmRpbmdseVxyXG5cclxuICAgIHNlbGVjdEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbmZpZyA9IGJ1dHRvbnNbYnV0dG9uLmlkXTsgLyogZ2V0IHRoZSBidXR0b24ncyBjb25maWd1cmF0aW9uIHVzaW5nIGl0cyBkYXRhIGF0dHJpYnV0ZSBvciBJRCwgZXRjLiAqLyAvKiBnZXQgdGhlIGJ1dHRvbidzIGNvbmZpZ3VyYXRpb24gdXNpbmcgaXRzIGRhdGEgYXR0cmlidXRlIG9yIElELCBldGMuICovLyogZ2V0IHRoZSBidXR0b24ncyBjb25maWd1cmF0aW9uIHVzaW5nIGl0cyBkYXRhIGF0dHJpYnV0ZSBvciBJRCwgZXRjLiAqLyAvKiBnZXQgdGhlIGJ1dHRvbidzIGNvbmZpZ3VyYXRpb24gdXNpbmcgaXRzIGRhdGEgYXR0cmlidXRlIG9yIElELCBldGMuICovO1xyXG4gICAgICAgIGlmICghYnV0dG9uQ29uZmlnKSByZXR1cm47XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcsIGJ1dHRvbkNvbmZpZy5yZXF1aXJlbWVudCk7XHJcbiAgICAgICAgLy8gUmVzZXQgYWxsIHN0YXRlcyBmaXJzdFxyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncHVyY2hhc2FibGUnLCAnYnV0dG9uLWRpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZSA9ICdoaWRkZW4nO1xyXG5cclxuICAgICAgICBpZiAoYnV0dG9uLmlkICYmIGlzQnV0dG9uSWRWaXNpYmxlKGJ1dHRvbi5pZCkpIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG4gICAgICAgIC8vIElmIHJlcXVpcmVtZW50IGlzIG1ldCwgaXQgc2hvdWxkIGJlIHZpc2libGVcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBsZXQgZ2V0TWF0ZXJpYWwgPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJykuZ2V0TWF0ZXJpYWw7XHJcbiAgICAgICAgICAgIGlmIChidXR0b25Db25maWcucmVxdWlyZW1lbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSAnYnV0dG9uLWRpc2FibGVkJztcclxuICAgICAgICAgICAgICAgIC8vIGFsd2F5cyBwdXJjaGFzYWJsZSBnYXRoZXIgYnV0dG9uc1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgJiYgIWJ1dHRvbkNvbmZpZy5kYXRhX2J1aWxkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLnRhYiA9PT0gJ3Byb2R1Y3Rpb24nKSBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcG9uZGVyIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZCAmJiBidXR0b24uaWQgPT09ICdnYXRoZXJQb25kZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHBvbmRlciB1bmxvY2tzXHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLnRhYiAmJiBidXR0b25Db25maWcudGFiID09PSAncG9uZGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbi5jbGFzc0xpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24uaWQgJiYgYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygndW5sb2NrJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhblVubG9jayhidXR0b24uaWQpKSBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGEgcG9uZGVyIGJ1dHRvbiBpcyB1bmxvY2tlZCwgaGlkZSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQb25kZXJlZChidXR0b24uZ2V0QXR0cmlidXRlKCd1bmxvY2snKSkpIHN0YXRlID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbiwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyB0YWIgYnV0dG9ucyBhbHdheXMgZWl0aGVyIGhpZGRlbiBvciBlbmFibGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLnRhYiAmJiBidXR0b25Db25maWcudGFiID09PSAndGFicycpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9ICd2aXNpYmxlJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ0Vycm9yIHdpdGggY2hlY2tpbmcgcmVxdWlyZW1lbnQgb2YgYnV0dG9uOiAnLCBidXR0b25Db25maWcsIGVycik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLmlkICYmIGJ1dHRvbkNvbmZpZy5pZC5zbGljZSgwLCA1KSA9PT0gJ2NyYWZ0Jykge1xyXG4gICAgICAgICAgICAvLyBuZXZlciBoaWRlIHRoaXMgYnV0dG9uIG9uY2UgaXRzIGJlZW4gdW5sb2NrZWRcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5jcmFmdGVkT25jZSkgc3RhdGUgPSAnYnV0dG9uLWRpc2FibGVkJztcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBJZiB3ZSBjYW4gYWZmb3JkIHRoaXMgY3JhZnQsIGl0IHNob3VsZCBiZSBwdXJjaGFzYWJsZVxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgdmFyIGNyYWZ0ZWQgPSBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkKGJ1dHRvbkNvbmZpZy5pZCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNyYWZ0ZWQpO1xyXG4gICAgICAgICAgICBpZiAoY3JhZnRlZC52YWx1ZSA+IDApIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWcoY3JhZnRlZCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGtleSk7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBpZiAoY2FuQ3JhZnQoa2V5KSkgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgd2UgY2FuIGFmZm9yZCB0aGlzIGJ1aWxkaW5nLCBpdCBzaG91bGQgYmUgcHVyY2hhc2FibGVcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b25Db25maWcpO1xyXG4gICAgICAgIGlmIChidXR0b25Db25maWcuZGF0YV9idWlsZGluZykge1xyXG4gICAgICAgICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IHB1cmNoYXNlZCBhIGJ1aWxkaW5nLCBpdCBzaG91bGQgYmUgdmlzaWJsZVxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgc3RhdGUgPSBnZXRCdWlsZGluZ0NvdW50KGJ1dHRvbkNvbmZpZy5kYXRhX2J1aWxkaW5nKSA/ICdidXR0b24tZGlzYWJsZWQnIDogc3RhdGU7XHJcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGJ1aWxkaW5nIGNvc3RcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnKTtcclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIHN0YXRlID0gY2FuQnV5QnVpbGRpbmcoYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcpID8gJ3B1cmNoYXNhYmxlJyA6IHN0YXRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgaGlkZGVuIGlzIG1ldCwgaXQgc2hvdWxkIGJlIGhpZGRlblxyXG4gICAgICAgIGlmIChidXR0b25Db25maWcuaGlkZSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9IGJ1dHRvbkNvbmZpZy5oaWRlKCkgPyAnaGlkZGVuJyA6IHN0YXRlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgY3VycmVudCBzdGF0ZVxyXG4gICAgICAgIGlmIChzdGF0ZSAhPT0gJycpIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKHN0YXRlKTtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHN0YXRlIGlzIG5vdC1wdXJjaGFzYWJsZSwgZGlzYWJsZSB0aGUgYnV0dG9uXHJcbiAgICAgICAgLy8gYnV0dG9uLmRpc2FibGVkID0gc3RhdGUgPT09ICdidXR0b24tZGlzYWJsZWQnO1xyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdG9vbHRpcCBmb3IgdGhpcyBidXR0b24gaWYgaXRzIGFjdGl2ZVxyXG4gICAgICAgIC8vIGlmIChidXR0b24gPT09IGN1cnJlbnRIb3ZlckJ1dHRvbikgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgIC8vIElmIHRoZSBzdGF0ZSBpcyBoaWRkZW4sIHNldCB0aGUgYnV0dG9uJ3MgZGlzcGxheSB0byBub25lXHJcbiAgICAgICAgaWYgKHN0YXRlID09PSAnaGlkZGVuJykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaGlkaW5nJywgYnV0dG9uKTtcclxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsbCB2aXNpYmxlICcsIGJ1dHRvbi5pZCk7XHJcbiAgICAgICAgICAgIHNldFZpc2libGVCdXR0b24oYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnJzsgLy8gVGhpcyB3aWxsIHJldmVydCBpdCBiYWNrIHRvIGl0cyBvcmlnaW5hbCBkaXNwbGF5IHN0YXRlIG9yIGRlZmF1bHQgKGUuZy4sICdibG9jaycgb3IgJ2lubGluZS1ibG9jaycpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpvYi1idXR0b24nKS5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICAgICAgY29uc3Qgam9iID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS1qb2InKTtcclxuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJywgJ3B1cmNoYXNhYmxlJywgJ2J1dHRvbi1kaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICB2YXIgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgIGNvbnN0IHJlcVBvbmRlciA9IChyZXF1aXJlKCcuL2pvYlJlcXVpcmVkUG9uZGVycycpLmpvYlJlcXVpcmVkUG9uZGVycylbam9iXTtcclxuICAgICAgICBpZiAocmVxUG9uZGVyID09PSBudWxsIHx8IHJlcVBvbmRlciA9PT0gdW5kZWZpbmVkKSBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgZWxzZSBpZiAoaXNQb25kZXJlZChyZXFQb25kZXIpKSBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgZWxzZSBpZiAocmVxUG9uZGVyID09PSAnbm90LXVubG9ja2FibGUnKSBzdGF0ZSA9ICdoaWRkZW4nO1xyXG4gICAgICAgIGVsc2Ugc3RhdGUgPSAnYnV0dG9uLWRpc2FibGVkJztcclxuXHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGpvYiwgYnV0dG9uLCByZXFQb25kZXIsIHN0YXRlKTtcclxuICAgICAgICAvLyBidXR0b24uY2xhc3NMaXN0LlxyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gJ2hpZGRlbicpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2hpZGluZycsIGJ1dHRvbik7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGwgdmlzaWJsZSAnLCBidXR0b24uaWQpO1xyXG4gICAgICAgICAgICBzZXRWaXNpYmxlQnV0dG9uKGJ1dHRvbi5pZCk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKHN0YXRlKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICcnOyAvLyBUaGlzIHdpbGwgcmV2ZXJ0IGl0IGJhY2sgdG8gaXRzIG9yaWdpbmFsIGRpc3BsYXkgc3RhdGUgb3IgZGVmYXVsdCAoZS5nLiwgJ2Jsb2NrJyBvciAnaW5saW5lLWJsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnRzLnVwZGF0ZUJ1dHRvblZpc2liaWxpdHkgPSB1cGRhdGVCdXR0b25WaXNpYmlsaXR5OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODA4KTtcbiJdLCJuYW1lcyI6WyJhdGVGaXNoIiwibW9kdWxlIiwiZXhwb3J0cyIsInNldEF0ZUZpc2giLCJib29sIiwiZ2V0QXRlRmlzaCIsImJ1aWxkaW5ncyIsImJ1dHRvbnMiLCJyZXNvdXJjZXMiLCJpbmNyZWFzZU1hdGVyaWFsIiwiaW5jcmVhc2VNYXgiLCJ1cGRhdGVUb3RhbCIsImhhc1BlcmsiLCJnZXRNYXRlcmlhbCIsInBhc3NlZFN0YWdlIiwicmVjYWxjTWF4Q2xvbmVzIiwidXBkYXRlU2lkZWJhciIsInVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQiLCJyZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCIsImNhbkJ1eUJ1aWxkaW5nIiwiYnV5QnVpbGRpbmciLCJidWlsZGluZ05hbWUiLCJjb25zb2xlIiwibG9nIiwiYnVpbGRpbmciLCJyZXNvdXJjZSIsImNvc3QiLCJhbW91bnQiLCJPYmplY3QiLCJlbnRyaWVzIiwiZWZmZWN0cyIsImNvdW50IiwidXBkYXRlQnVpbGRpbmdMaXN0IiwiZml0Q2hhclRvQ2VsbCIsImNoYXIiLCJjZWxsV2lkdGgiLCJjZWxsSGVpZ2h0IiwiaW5pdGlhbEZvbnRTaXplIiwic3BhbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInRleHRDb250ZW50Iiwic3R5bGUiLCJmb250U2l6ZSIsInBvc2l0aW9uIiwid2hpdGVTcGFjZSIsInZpc2liaWxpdHkiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjdXJyZW50Rm9udFNpemUiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsInJlbW92ZUNoaWxkIiwiYnVpbGRpbmdMaXN0IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJpIiwia2V5IiwidmFsIiwiaiIsImNvbCIsInRvU3RyaW5nIiwicm93IiwiTWF0aCIsImZsb29yIiwiZW1vamkiLCJnZW5lcmF0ZUJ1aWxkaW5nVG9vbHRpcENvc3QiLCJtYXAiLCJtYXRlcmlhbCIsInRvRml4ZWQiLCJqb2luIiwiY3JlYXRlQnVpbGRpbmdCdXR0b24iLCJidWlsZGluZ0tleSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImJhc2Vjb3N0IiwiY29zdHMiLCJyZXF1aXJlbWVudEZ1bmN0aW9uIiwiY29zdENvbmRpdGlvbiIsImV2ZXJ5IiwiY2xvbmVDb25kaXRpb24iLCJjcmVhdGVSZXF1aXJlbWVudEZ1bmN0aW9uIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsInRvb2x0aXBEZXNjIiwiYnV5TWF4QnVpbGRpbmdzIiwiZ2VuZXJhdGVFZmZlY3RTdHJpbmciLCJlZmZlY3RQYXJ0cyIsInZhbHVlIiwicHVzaCIsImJvb3N0IiwicGVyY2VudGFnZUJvb3N0Iiwicm91bmQiLCJjcmFmdGVkUmVzb3VyY2VzIiwiZ2V0Qm9vc3QiLCJza2lsbHMiLCJnZXRXb3JrZXJzIiwiaXNQb25kZXJlZCIsImdldEZhY3RvcnlQcm9kdWN0aW9uIiwiaGFzUHJlc3RpZ2UiLCJnZXRMZXZlbE9mUHJlc3RpZ2UiLCJjYWxjSW5jcmVhc2UiLCJyZXNvdXJjZU5hbWUiLCJkZWx0YV90aW1lIiwidG90YWwiLCJoYXNPd25Qcm9wZXJ0eSIsImlzR2V0dGluZyIsImNsb25lTXVsdCIsInNraWxsIiwiYWZmZWN0ZWRSZXNvdXJjZXMiLCJpbmNsdWRlcyIsInNraWxsUmF0aW8iLCJwb3ciLCJsZXZlbCIsImJvb3N0RGF0YSIsImluY3JlYXNlIiwicGFyc2VGbG9hdCIsImNhbkJ1eSIsImNhbkNyYWZ0IiwicmVzb3VyY2VLZXkiLCJyZXF1aXJlbWVudHMiLCJtYXQiLCJlcnIiLCJ3YXJuIiwiY2FwaXRhbGl6ZUZpcnN0Iiwic3RyIiwiZ2V0Q3JhZnRlZFJlc291cmNlIiwiZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZCIsInN3aXRjaGVkTWFudWZhY3R1cmVkTWFwIiwiYWxsTWF0ZXJpYWxzIiwia2V5cyIsImZvckVhY2giLCJyIiwiYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nIiwiYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nIiwiY3JlYXRlRmFjdG9yeURpdiIsIkFycmF5IiwiZnJvbSIsImZhY3Rvcmllc0NvbnRhaW5lciIsImZhY3RvcnlEaXYiLCJjbGFzc05hbWUiLCJsZWZ0VGV4dCIsImNsYXNzTGlzdCIsImFkZCIsInJpZ2h0U2VsZWN0Iiwib3B0aW9uIiwic2V0QXR0cmlidXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImN1cnJlbnRQcm9kdWNlZCIsInRoaXMiLCJnZXRBdHRyaWJ1dGUiLCJxdWVyeVNlbGVjdG9yIiwiY29sb3IiLCJuZXdQcm9kdWNlZCIsIm9sZFByb2R1Y2VkIiwiZmFjdG9yeUluZGV4IiwidXBkYXRlRmFjdG9yeVJlc291cmNlVHJhY2tpbmciLCJkYXRhc2V0IiwiYXJyb3ciLCJzZWxlY3RFbGVtZW50IiwidGV4dCIsImluaXRpYWxPcHRpb24iLCJkaXNhYmxlZCIsInNlbGVjdGVkIiwiYWRkSW5pdGlhbE9wdGlvbiIsIm1hbnVmYWN0dXJlQnVsayIsImJ1bGtVcGdyYWRlQ29zdCIsIm5ld0ZhY3RvcnlTaWx2ZXJDb3N0IiwiYXR0ZW1wdE1hbnVmYWN0dXJlIiwicXVlcnlTZWxlY3RvckFsbCIsImZhY3RvcnkiLCJnb2FsUmVzb3VyY2UiLCJhcnIiLCJudW0iLCJtaW4iLCJtYW51ZmFjdHVyZSIsImJ1eUZhY3RvcnkiLCJidXlGYWN0b3J5QnV0dG9uIiwidXBncmFkZUJ1bGsiLCJsb2FkRmFjdG9yeSIsImNyYWZ0aW5nIiwiZGl2IiwidG9Mb3dlckNhc2UiLCJpc1Jlc291cmNlIiwidHJpZ2dlckZsb2F0VXBUZXh0IiwiYWxsVmlzaWJsZUJ1dHRvbnMiLCJTZXQiLCJoYXNHZW5lcmF0ZWRTa2lsbFRhYmxlIiwicG9wdWxhdGVTa2lsbHNUYWJsZSIsInRhYmxlIiwiZXhwIiwiZGlzcGxheSIsInByb2dyZXNzQmFyIiwid2lkdGgiLCJ0ciIsImlkIiwidGRQcm9ncmVzcyIsImhlaWdodCIsInNraWxsVGV4dCIsImxlZnQiLCJ0b3AiLCJ0cmFuc2Zvcm0iLCJnZXRNYXgiLCJtYXgiLCJJbmZpbml0eSIsInVwZGF0ZVNraWxscyIsImFicyIsImxldmVsdXAiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieCIsInkiLCJjYWxjQ3JhZnRCb251cyIsImlzQnV0dG9uSWRWaXNpYmxlIiwiaGFzIiwic2V0VmlzaWJsZUJ1dHRvbiIsImNsZWFyU2lkZWJhciIsImpvYkNvdW50cyIsImpvYnNUYWIiLCJnZXRUb3RhbEpvYnMiLCJqb2JEaXYiLCJkZWNyZW1lbnREaXYiLCJqb2JOYW1lU3BhbiIsImluY3JlbWVudERpdiIsImJ0biIsImV2ZW50Iiwiam9iVHlwZSIsImNsb3Nlc3QiLCJkaXN0cmlidXRlV29ya2VycyIsInVwZGF0ZURpc3BsYXkiLCJ3b3JrZXJzRGlzdHJpYnV0aW9uIiwiY2xpZW50WCIsImNsaWVudFkiLCJNYXAiLCJ0b3RhbFdvcmtlcnMiLCJmaWx0ZXIiLCJudW1iZXJPZlJlc291cmNlcyIsImxlbmd0aCIsInBlclJlc291cmNlIiwic2V0IiwicmVtYWluaW5nV29ya2VycyIsImdldCIsInRoaXNKb2JCdXR0b24iLCJqb2JFbGVtZW50IiwiY29ubmVjdGlvbnMiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0xpbmUiLCJzdGFydEVsZW1lbnQiLCJlbmRYIiwiZW5kWSIsInN0YXJ0WCIsInN0YXJ0WSIsInNjcm9sbFkiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJjb250ZXh0IiwiZnJvbVgiLCJmcm9tWSIsInRvWCIsInRvWSIsInJhZGl1cyIsImFuZ2xlIiwieF9jZW50ZXIiLCJ5X2NlbnRlciIsImF0YW4yIiwiY29zIiwic2luIiwiUEkiLCJjbG9zZVBhdGgiLCJmaWxsIiwiZHJhd0Fycm93aGVhZCIsInN3aXRjaEpvYiIsIm9sZEpvYklkIiwibmV3Sm9iSWQiLCJ3b3JrZXJzIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2xlYXJKb2JBc3NpZ25tZW50cyIsImNsZWFyUmVjdCIsInJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMiLCJ1bmRlZmluZWQiLCJkYXRhSm9iIiwib2xkSWQiLCJyZXBsYWNlIiwibmV3SWQiLCJtYXhlZE91dCIsInJlc291cmNlQXJyYXkiLCJlcnJvciIsImRyYXdBbGxDb25uZWN0aW9ucyIsIm9sZEJ1dHRvbiIsIm5ld0J1dHRvbiIsIm5ld1giLCJuZXdZIiwiYm90dG9tIiwib2Zmc2V0VG9wIiwic2V0Q29ubmVjdGlvbnMiLCJuZXdDb25uZWN0aW9ucyIsImdldENvbm5lY3Rpb25zIiwicmVzZXRBbGxKb2JzIiwicmF0aW8iLCJyb2NrcyIsIndvb2QiLCJ2aW5lcyIsInN0aWNrcyIsImdhbWUiLCJmaXNoIiwiZ2xhc3MiLCJwb25kZXIiLCJnZXRCdWlsZGluZ0NvdW50IiwicmVzZXRCdWlsZGluZ3MiLCJoYXNUb29sIiwiY2xhc3MiLCJ0YWIiLCJ0b29sdGlwQ29zdCIsInJlcXVpcmVtZW50IiwiaGlkZSIsInNob3dUYWIiLCJjcmFmdGVkT25jZSIsInJlcXVpcmVkU3RhZ2UiLCJjIiwiZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWciLCJjb25maWciLCJrIiwicmVzZXRDcmFmdGVkUmVzb3VyY2VzIiwicGVya3MiLCJwb25kZXJzIiwicmVzZXRQb25kZXJzIiwicHJlc3RpZ2UiLCJwcmVzIiwiaXNWaXNpYmxlIiwiYWN0aXZlVGV4dCIsImRlZmF1bHRUZXh0IiwiZ2V0UmVzb3VyY2VDb25maWdCeUlkIiwicmVzZXRSZXNvdXJjZXMiLCJnYXRoZXJpbmciLCJtYXNvbnJ5IiwibmVlZFRvb2xzIiwiY2FycGVudHJ5IiwidGhpbmtpbmciLCJzbWl0aGluZyIsImZhcm1pbmciLCJjb21iYXQiLCJmaXNoaW5nIiwiaHVudGluZyIsInNhdmVHYW1lIiwibG9hZEdhbWUiLCJnZW5lcmF0ZVRvb2x0aXBDb3N0IiwiYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucyIsImNyYWZ0QWxsUmVzb3VyY2VzIiwiY3JhZnRSZXNvdXJjZSIsInVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcyIsImNhbGNTZWNvbmRzUmVtYWluaW5nIiwidXBkYXRlRGlzcGxheVZhbHVlIiwic2VsZWN0QWJpbGl0eSIsInJlc2V0UGVya3MiLCJtYWtlVmlzaWJsZSIsInVwZGF0ZUJ1dHRvblZpc2liaWxpdHkiLCJnZW5lcmF0ZVBvbmRlckJ1dHRvbnMiLCJhZGRUb29sIiwicmVzZXRTdGFnZXMiLCJpbml0aWFsaXplUmVzb3VyY2VUYWdzIiwic2lkZWJhclBhcmVudCIsImVtb2ppR2F0aGVyRGl2IiwidG9vbHNUb1N0YWdlcyIsInZpc2liaWxpdHlSdWxlcyIsImNvbmRpdGlvbiIsImFjdGlvbiIsInNldFRpbWVvdXQiLCJsb2NhdGlvbiIsImhyZWYiLCJ0YWJDb250YWluZXJzIiwidGFiTmFtZSIsInByZXZUYWIiLCJjb250ZW50IiwiY29udGFpbnMiLCJvcGFjaXR5IiwicmVtb3ZlIiwidGFicyIsImFjdGl2ZUNvbnRlbnQiLCJ0YWJTdHJpbmciLCJhY3RpdmVUYWJCdXR0b24iLCJ0b2dnbGUiLCJpc0RhcmsiLCJmYWRlVG9CbGFjayIsIm92ZXJsYXkiLCJvdmVybGF5VGV4dCIsIm92ZXJsYXlCdXR0b24iLCJtZXNzYWdlRWxlbWVudCIsImNoYW5nZU1lc3NhZ2UiLCJuZXdNZXNzYWdlIiwiY2xvbmVXb3JkcyIsIm1vZGlmaWVkTWVzc2FnZSIsIm1pbGxpc2Vjb25kc19wZXJfZnJhbWUiLCJsYXN0X3RpbWUiLCJ0b3RhbF90aW1lIiwiYWNjdW11bGF0ZWRfbGFnIiwibG9vcCIsImN1cnJlbnRfdGltZSIsIm5vcm1hbFJhdGUiLCJ1cGRhdGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lX3NpbmNlX2xhc3Rfc2F2ZSIsInRpbWVfc2luY2VfbWFudWZhdHVyZSIsInJ1bGUiLCJ0b29sIiwiY3VycmVudEhvdmVyQnV0dG9uIiwidXBkYXRlVG9vbHRpcCIsInJlbmRlciIsInRvb2x0aXAiLCJoaWRlVG9vbHRpcCIsImJ1dHRvbiIsImRlc2MiLCJlZmZlY3QiLCJ0YXJnZXQiLCJjb2xvckNsYXNzIiwic2Vjb25kc1JlbWFpbmluZyIsInJpZ2h0Iiwic2hvd1Rvb2x0aXAiLCJnZXRDUktleUZyb21JRCIsInRyYWNlIiwiY3JlYXRlQ29sdW1ucyIsInBhcmVudCIsImNvbDEiLCJjb2wyIiwiY29sMyIsInByZXBlbmQiLCJ0YWJzQ29udGFpbmVyIiwicHJvZHVjdGlvbkNvbnRhaW5lciIsImV4cGVyaW1lbnRDb250YWluZXIiLCJwb25kZXJDb250YWluZXIiLCJwcm9kdWN0aW9uQ29sdW1ucyIsImV4cGVyaW1lbnRDb2x1bW5zIiwicG9uZGVyQ29sdW1ucyIsInByb2R1Y3Rpb25Db2x1bW5JbmRleCIsImV4cGVyaW1lbnRDb2x1bW5JbmRleCIsInBvbmRlckNvbHVtbkluZGV4IiwiYnV0dG9uRWxlbWVudCIsInRvb2x0aXBFZmZlY3QiLCJ1bmxvY2siLCJkYXRhX2J1aWxkaW5nIiwiY3JhZnRlZFJlc291cmNlIiwidmFsdWVzIiwiZmluZCIsImdlbmVyYXRlQnV0dG9ucyIsIm1hdGNoZXMiLCJzaGlmdEtleSIsInVubG9ja0F0dHIiLCJjYW5VbmxvY2siLCJzaWRlYmFyVGV4dCIsInJlc291cmNlQnV0dG9uIiwiZm9udFdlaWdodCIsInJCdXR0b24iLCJzdG9wQWxsR2F0aGVyaW5nIiwidG9nZ2xlUmVzb3VyY2UiLCJnZXRSS2V5RnJvbUlEIiwicmVsb2FkIiwiY29uZmlybSIsImxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJkYXJrTW9kZVRvZ2dsZSIsIm9sZEh1c2tWYWx1ZSIsImh1c2tWYWx1ZSIsImJhY2tncm91bmRDb2xvciIsImJ1dHRvbkNvbnRhaW5lciIsImdyaWRDb2x1bW4iLCJncmlkUm93IiwibiIsImEiLCJzcXJ0IiwibmV4dEZpYm9uYWNjaSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInByZXZGaWJvbmFjY2kiLCJpc2VrYWkiLCJwZXJrIiwiZmFjdG9yeUJ1dHRvbnMiLCJ1cGdyYWRlQnVsa0J1dHRvbiIsIm1ha2VGYWN0b3J5QnV0dG9ucyIsInVwZGF0ZVVJIiwicmVzb3VyY2VEaXYiLCJzZXRUb3RhbFRpbWUiLCJ0aW1lIiwiZ2V0TWVzc2FnZSIsInNldFN0YWdlIiwic3RhZ2UiLCJlbGVtZW50IiwibXlQZXJrcyIsInBlcmtOYW1lIiwiYWRkUGVyayIsImIiLCJhYmlsaXR5TmFtZSIsImdldFBlcmtGcm9tVGllciIsInRpZXJOdW0iLCJnZXRBbGxQZXJrcyIsInVubG9ja0lkIiwidW5sb2NrS2V5IiwicG9uZGVyT2JqZWN0cyIsInBvbmRlcktleSIsInBvbmRlck9iaiIsImJ1dHRvbktleSIsInNldE1heCIsIm1heENsb25lcyIsIm15QnV0dG9uIiwibmV3VGV4dCIsImVmZmVjdFN0cmluZyIsImdldEFsbFN0YWdlcyIsInJlc291cmNlc0NvbnRhaW5lciIsImVsZW1lbnRJbmNyZWFzZSIsImNyYWZ0ZWRCdXR0b24iLCJjb3VudFNwYW4iLCJjaGVja2VkIiwiYXV0b0NyYWZ0VGFibGUiLCJjcmVhdGVDcmFmdGVkUmVzb3VyY2VCdXR0b24iLCJjb250YWluZXIiLCJlbW9qaURpc3BsYXkiLCJ1cGRhdGVFbW9qaURpc3BsYXkiLCJlbW9qaVN0ciIsInJlcGVhdCIsImFkanVzdEZvbnRTaXplIiwic3VmZmljaWVudFJlc291cmNlcyIsImNyYWZ0UmVzb3VyY2VRdWFudGl0eSIsInF1YW50aXR5IiwiY3JhZnRPbmUiLCJjcmFmdEJvbnVzIiwibmVlZGVkIiwiY2VpbCIsIm5hbWUiLCJyYXRlIiwicmF0ZUVsZW1lbnQiLCJnZXRBbGxUb29scyIsInNhdmUiLCJ0b29scyIsInN0YWdlcyIsInVubG9ja3MiLCJqb2JzIiwibWVzc2FnZSIsImZhY3RvcmllcyIsIml0ZW0iLCJ1IiwiaHRtbFN0cmluZyIsImV4dHJhY3RUZXh0RnJvbUhUTUwiLCJEYXRlIiwibm93Iiwic2V0SXRlbSIsInNhdmVnYW1lIiwiZ2V0SXRlbSIsInZhbHVlT2YiLCJOdW1iZXIiLCJpc05hTiIsInVuaW9uIiwicyIsImNsb25lcyIsInRpbWVfZGlmZmVyZW5jZSIsImluYyIsInNpemUiLCJqb2IiLCJzZWxlY3RDb3JyZWN0UGVya0J1dHRvbiIsInNlbGVjdGVkQnV0dG9uIiwicmVtb3ZlQXR0cmlidXRlIiwic2hvdWxkSGlkZSIsImFiYnJldmlhdGVOdW1iZXIiLCJmb3JtYXQiLCJ1bml0Iiwicm91bmRUb0RlY2ltYWxzIiwibnVtYmVyIiwiZGVjaW1hbHMiLCJmYWN0b3IiLCJjcmVhdGVSZXNvdXJjZVRhZyIsImdyb3VwTmFtZSIsImdyb3VwQ29udGFpbmVyIiwidG9nZ2xlQnV0dG9uIiwib25jbGljayIsImdyb3VwIiwiY2hpbGRyZW4iLCJ0YWdOYW1lIiwidG9nZ2xlR3JvdXBWaXNpYmlsaXR5IiwiY3JlYXRlUmVzb3VyY2VHcm91cENvbnRhaW5lciIsInJlc291cmNlRGlzcGxheU5hbWUiLCJzcGxpdCIsInJlc291cmNlRWxlbWVudCIsInJlc291cmNlTmFtZVNwYW4iLCJyZXNvdXJjZVZhbHVlU3BhbiIsInJlc291cmNlUmF0ZVNwYW4iLCJjaGFuZ2VSZXNvdXJjZU9yZGVyIiwicmVzb3VyY2VJZCIsIm5ld09yZGVyIiwib3JkZXIiLCJpbmRleCIsInBhcmVudEVsZW1lbnQiLCJkaXNwbGF5RWxlbSIsIndpdGhHcm91cHMiLCJyZXNvdXJjZUdyb3VwcyIsImJhc2ljcyIsIm1hdGVyaWFscyIsImFkdmFuY2VkIiwibWV0YWwiLCJjb25zdHJ1Y3Rpb24iLCJncm91cE9mUmVzb3VyY2VzIiwicG9wIiwicGxheWVyVG9vbHMiLCJ1bCIsImxpIiwiY3JlYXRlVGV4dE5vZGUiLCJ1cGRhdGVUb29sVUkiLCJnZXRUb29sVmFsdWVGb3JSZXNvdXJjZSIsInNvcnRlZFRvb2xzIiwic29ydCIsInJlc291cmNlTGlzdCIsImdvbGRBbW91bnRFbCIsImJ1eVJlc291cmNlIiwicHJpY2UiLCJzZWxsUmVzb3VyY2UiLCJnZW5lcmF0ZVRyYWRlVGFibGUiLCJyYW5kb20iLCJmbG9hdFRleHQiLCJidWlsZGluZ0NvdW50IiwiYnV0dG9uQ29uZmlnIiwic3RhdGUiLCJjcmFmdGVkIiwicmVxUG9uZGVyIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJzb3VyY2VSb290IjoiIn0=