(()=>{var e={621:e=>{var t=!1;e.exports={ateFish:t,setAteFish:function(e){return t=e},getAteFish:function(){return t}}},151:(e,t,o)=>{const{buildings:s,isPopBuilding:n}=o(882),{buttons:i}=o(54),{resources:r}=o(587),{increaseMaterial:a,increaseMax:c}=o(594),{updateTotal:l}=o(150),{hasPerk:d}=o(134),{getMaterial:u}=o(924),{passedStage:f}=o(751),{recalcMaxClones:p}=o(995),{updateSidebar:g}=o(453),{updateBuildingButtonCount:h}=o(607),{recalculateBuildingCost:b}=o(22),{canBuyBuilding:m}=o(23),{isPondered:y}=o(369),{updateBuildingList:v}=o(831);function k(e){console.log("Buying building "+e);const t=s[e];if(m(e)){t.count++;for(const e in t.cost)a(e,-t.cost[e]);for(const[e,o]of Object.entries(t.effects))console.log("bought building effects",e,o),c(e,o),"clones"===e&&(p(),l());h(e,t.count),b(e,s,d),v()}}e.exports={generateBuildingTooltipCost:function(e){return Object.entries(e).map((([e,t])=>`${t.toFixed(2)} ${e}`)).join("\n")},createBuildingButton:function(e,t){const o=t[e];o.cost=JSON.parse(JSON.stringify(o.basecost));const s=Object.entries(o.cost).map((([e,t])=>`${e}: ${t}`)).join(", "),n=function(e,t){return function(){const t=Object.entries(e).every((([e,t])=>u(e)>=Math.floor(t/2)));return f("clones")&&t}}(o.cost);return{class:"tooltip "+e,tab:"production",text:`${e.charAt(0).toUpperCase()+e.slice(1)}`,tooltipDesc:t[e].tooltipDesc||"A mysterious building with untold benefits.",tooltipCost:s,requirement:()=>n(),data_building:e}},buyMaxBuildings:function(e){let t=0;for(s[e];m(e);)k(e),++t;return t},buyBuilding:k,generateEffectString:function(e){let t=[];for(let[o,s]of Object.entries(e.effects))t.push(`+${s} max ${o}`);for(let[o,s]of Object.entries(e.boost)){let e=Math.round(100*(s-1));y("effectiveBuildings")&&(e*=1.01),t.push(`+${e}% ${o} production`)}return t.join(", ")},updateBuildingList:v}},121:(e,t,o)=>{const{resources:s}=o(587),{craftedResources:n}=o(371),{skills:i}=o(324),{getWorkers:r}=o(150),{hasPerk:a}=o(134),{isPondered:c}=o(369),{getFactoryProduction:l}=o(51),{hasPrestige:d,getLevelOfPrestige:u}=o(425),{getMaterial:f}=o(924),{hasTool:p}=o(609);t.calcIncrease=function(e,t){var p=0;const g=o(882).buildings;if(!s.hasOwnProperty(e)){if(!n.hasOwnProperty(e))return p;if((p=l(e))>0)return p}"clones"===e&&c("autoClone")&&(p=1),s[e]&&s[e].isGetting&&(p+=1),p+=(a("Leader")?.375:.25)*r(e)||0,!a("Lumberjack")||"wood"!=e&&"sticks"!=e||(p*=1.75),!a("Miner")||"rocks"!=e&&"ore"!=e||(p*=1.75),!a("Botanist")||"vines"!=e&&"herbs"!=e&&"wheat"!=e||(p*=1.75);for(let t in i)if(i[t].affectedResources.includes(e)){"gathering"===t&&d("gatheringBoost")&&(p*=1.1*u("gatheringBoost")),"masonry"===t&&d("masonryBoost")&&(p*=1.1*u("masonryBoost")),"carpentry"===t&&d("carpentryBoost")&&(p*=1.1*u("carpentryBoost")),"thinking"===t&&d("thinkingBoost")&&(p*=1.1*u("thinkingBoost")),"farming"===t&&d("farmingBoost")&&(p*=1.1*u("farmingBoost")),"fishing"===t&&d("fishingBoost")&&(p*=1.1*u("fishingBoost")),"hunting"===t&&d("huntingBoost")&&(p*=1.1*u("huntingBoost"));let e=1.06;p*=1+(Math.pow(e,i[t].level)-1)/100}for(const t of Object.keys(g)){const s=o(882).getBoost(t,e);if(s){var h=Math.pow(s,g[t].count);c("effectiveBuildings")&&(h*=1.01),p*=h}}return"ponder"===e&&(c("ponder1")&&(p*=1.05),c("ponder2")&&(p*=1.05),c("ponder3")&&(p*=1.05)),c("fasterResourceGain")&&(p*=1.05),d("cloneBoost")&&(p*=1.05*u("cloneBoost")),"wood"===e&&f("axe")>10&&(p*=1+Math.log(f("axe")/10)),"ore"===e&&f("pickaxe")>10&&(p*=1+Math.log(f("pickaxe")/10)),"fish"===e&&f("fishingrod")>10&&(p*=1+Math.log(f("fishingrod")/10)),"game"===e&&f("spear")>10&&(p*=1+Math.log(f("spear")/10)),"ponder"===e&&f("paper")>10&&(p*=1+Math.log(f("paper")/10)),"sticks"===e&&f("staff")>10&&(p*=1+Math.log(f("staff")/10)),f("husks")>10&&(p*=1+Math.log(f("husks")/10)),p*=t/1e3,parseFloat(p.toFixed(3))}},23:(e,t,o)=>{const{resources:s}=o(587),{getMaterial:n}=o(924),{passedStage:i}=o(751);t.canBuyBuilding=function(e){let t=!0;const r=o(882).buildings[e];for(const e in r.cost)if(r.cost[e]>n(e,s)){t=!1;break}return r.effects&&r.effects.clones&&!i("clone")&&(t=!1),t}},64:(e,t,o)=>{const{resources:s}=o(587),{craftedResources:n}=o(371),{getMaterial:i}=o(924);t.canCraft=function(e){let t=!0,o=n[e].cost;try{for(let e in o)if(i(e,s)<o[e]){t=!1;break}}catch(t){console.warn("Error in calculating requirements: ",e,o,t)}return t}},681:(e,t)=>{t.capitalizeFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},51:(e,t,o)=>{const{getMaterial:s}=o(924),{craftedResources:n}=o(371),{resources:i}=o(587);var r={beams:["wood"],bricks:["clay"],concrete:["sand"],crates:["wood"],glass:["sand"],gold:["ore"],handle:["sticks"],iron:["ore"],leather:["hides"],medicine:["herbs"],nails:["iron"],paper:["wood"],sharprocks:["rocks"],silver:["ore"],slabs:["rocks"],spear:["staff","sharprocks","rope"],staff:["handle","rope"],steel:["iron"],sticks:["wood"],rope:["vines"],wood:["sticks"]},a=[];Object.keys(i).forEach((e=>a.push(e))),Object.keys(n).forEach((e=>a.push(e))),console.log("All materials: ",a);let c={},l={};function d(){Object.keys(n).forEach((e=>{c[e]=0,Array.from(n[e].cost).forEach((e=>{l[e.resource]||(l[e.resource]=0)}))}));const e=document.getElementById("factories"),t=document.createElement("div");t.className="factory";const s=document.createElement("span");s.classList.add("factoryCost");const i=document.createElement("select");Object.keys(r).forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,i.appendChild(t)})),i.setAttribute("data-produced","none"),i.addEventListener("change",(function(){const e=this.getAttribute("data-produced");"none"!==e&&(document.querySelector(`#resource-${e}`).style.color="");const t=i.value;(function(e,t,o){e&&"none"!==e&&(c[e]--,Array.from(n[e].cost).forEach((e=>{l[e.resource]-=e.amount}))),c[t]++,Array.from(n[t].cost).forEach((e=>{l[e.resource]+=e.amount}))})(e,t,this.dataset.factoryIndex),this.setAttribute("data-produced",t),document.querySelector(`#resource-${t}`).style.color="thistle",s.innerHTML="",s.innerHTML+=`${o(594).generateTooltipCost(n[i.value].cost)}`}));const a=document.createElement("span");return a.innerHTML="&#8594;",t.appendChild(s),t.appendChild(a),t.appendChild(i),function(e,t){const o=document.createElement("option");o.value="",o.textContent="Select a Resource",o.disabled=!0,o.selected=!0,e.appendChild(o)}(i),e.appendChild(t),t}let u=2,f=30;var p=50;e.exports={createFactoryDiv:d,attemptManufacture:function(){document.querySelectorAll(".factory").forEach((e=>{const t=e.querySelector("select:last-child").value,i=r[t];console.log("checking factory",t),i&&t&&function(e,t){let i=[];e.forEach((e=>i.push(s(e)/n[t].cost[e])));let r=Math.min(u,...i);console.log(r,u,...i),r*=1,o(594).craftResourceQuantity(t,r)}(i,t)}))},buyFactory:function(){const e=document.getElementById("buyFactoryButton");s("silver")<p?console.log("Not enough silver!"):(o(594).increaseMaterial("silver",-p),d(),p*=1.2,e.setAttribute("tooltipCost",`${p.toFixed(2)} silver`))},upgradeBulk:function(){u+=2,f+=10,document.getElementById("upgradeBulkButton").setAttribute("tooltipCost",`${u} â†’ ${u+2}: ${f.toFixed(0)} silver`)},allMaterials:a,getFactoryProduction:function(e){return c[e]*u},loadFactory:function(e){let t=d();t.querySelector("select").value=e,document.querySelector(`#resource-${e}`).style.color="thistle",t.querySelector(".factoryCost").innerHTML="",t.querySelector(".factoryCost").innerHTML+=`${o(594).generateTooltipCost(n[e].cost)}`},activeFactoriesProducing:c}},531:(e,t)=>{t.fitCharToCell=function(e,t,o,s){const n=document.createElement("span");n.textContent=e,n.style.fontSize=`${s}px`,n.style.position="absolute",n.style.whiteSpace="nowrap",n.style.visibility="hidden",document.body.appendChild(n);let i=s;for(;n.offsetWidth<t&&n.offsetHeight<o&&(i++,n.style.fontSize=`${i}px`,!(i>=1e3)););return document.body.removeChild(n),i}},590:(e,t,o)=>{t.getCraftedResource=function(e,t){return e=e.toLowerCase(),t||(t=o(371).craftedResources),t.hasOwnProperty(e)&&t[e].value||0}},924:(e,t,o)=>{const{getCraftedResource:s}=o(590);t.getMaterial=function(e,t){return t||(t=o(587).resources),t.hasOwnProperty(e)?t[e].value:s(e,null)}},78:(e,t,o)=>{const{hasPrestige:s,getLevelOfPrestige:n}=o(425),{resources:i,isResource:r}=o(587),{skills:a}=o(324),{triggerFloatUpText:c}=o(727);let l=new Set(["gatherSticks"]);t.allVisibleButtons=l;let d=!1;function u(){const e=document.getElementById("skillsTable");if(d)for(let e in a){(a[e].exp>0||a[e].level>0)&&(document.querySelector("#tr-"+e).style.display="");let t=document.querySelector(`.progressBar[data-skill="${e}"]`);t&&(t.style.width=a[e].exp+"%",document.querySelector("#level-"+e).textContent="[level "+a[e].level+"]   "+e)}else{console.log("Generating table for the first time"),d=!0;for(let t in a){let o=document.createElement("tr");o.id="tr-"+t;let s=document.createElement("td");s.style.position="relative";let n=document.createElement("div");n.setAttribute("class","progressBar"),n.style.height="20px",n.setAttribute("data-skill",t);let i=document.createElement("span");i.textContent="[level "+a[t].level+"]   "+t,i.setAttribute("id","level-"+t),i.style.position="absolute",i.style.left="10px",i.style.top="50%",i.style.transform="translateY(-50%)",0==a[t].exp&&0==a[t].level&&(o.style.display="none"),s.appendChild(n),s.appendChild(i),o.appendChild(s),e.appendChild(o)}}}e.exports={getMax:function(e){if(r(e)){let t=i[e].max;return s("storageSpace")&&(t*=1.05*n("storageSpace")),t}return 1/0},updateSkills:function(e,t){t=Math.abs(t),o(369).isPondered("fasterSkills")&&(t*=1.05);for(let o in a)if(a[o].affectedResources.includes(e)){if(a[o].level>=100){a[o].level=100,a[o].exp=0;continue}if(a[o].exp+=t/Math.pow(1.4,a[o].level),a[o].exp>=100){a[o].level+=1,a[o].exp=0;let e=`Level up! ${o} â†’ ${a[o].level}`;const t=document.getElementById("prestige").getBoundingClientRect();c(t.x,t.y,e,"#F4D03F")}}o(751).passedStage("skillsTable")&&u()},populateSkillsTable:u,calcCraftBonus:function(e){let t=1;for(let o in a)if(a[o].affectedResources.includes(e)){let e=1.06;t*=1+(Math.pow(e,a[o].level)-1)/100}return t},isButtonIdVisible:function(e){return l.has(e)},setVisibleButton:function(e){l.add(e)},hasGeneratedSkillTable:d,clearSidebar:function(){document.querySelector("#resources").innerHTML=""}}},842:(e,t)=>{t.O={thinking:"thinking",fishing:"fishing",smithing:"not-unlockable",farming:"agriculture",combat:"combat",hunting:"hunting"}},150:(e,t,o)=>{const{skills:s}=o(324),{resources:n}=o(587),{getMaterial:i}=o(924),{isPondered:r}=o(369),{getMax:a}=o(78),{triggerFloatUpText:c}=o(727),l={};for(let e in s)l[e]=0;const d=document.getElementById("jobsTab");function u(){var e=0;for(let t in l)e+=l[t];return e}Object.keys(s).forEach((e=>{const t=document.createElement("div");t.classList.add("job-button"),t.setAttribute("data-job",e),t.id="job-button-"+e;const o=document.createElement("div");o.classList.add("btn-decrement"),o.textContent="-",t.appendChild(o);const s=document.createElement("span");s.classList.add("job-name"),s.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: 0`,t.appendChild(s);const n=document.createElement("div");n.classList.add("btn-increment"),n.textContent="+",t.appendChild(n),d.appendChild(t)})),document.querySelectorAll(".btn-increment").forEach((e=>{e.addEventListener("click",(function(e){const t=this.closest(".job-button").getAttribute("data-job");if(i("clones",n)>u()){const o=e.pageX,s=e.pageY;if(e.shiftKey){let e=i("clones",n)-u();l[t]+=e,c(o,s,`+${e} workers`,"green")}else l[t]++,c(o,s,"+1 worker","green");p(t,l[t]),h(t),b()}}))})),document.querySelectorAll(".btn-decrement").forEach((e=>{e.addEventListener("click",(function(e){const t=this.closest(".job-button").getAttribute("data-job");if(e.shiftKey){let o=l[t];l[t]=0,p(t,l[t]),h(t),b();const s=e.pageX,n=e.pageY;o>0&&c(s,n,`-${o} workers`,"red")}else if(l[t]>0){l[t]--,p(t,l[t]),h(t),b();const o=e.pageX,s=e.pageY;c(o,s,"-1 worker","red")}}))}));let f=new Map;function p(e,t){if(!s[e])return null;let o=s[e].affectedResources;o=o.filter((e=>e in n));let i=o.length,r=Math.floor(t/i);for(let t of o)f.set(t,r),r>0&&g(e,t);let a=t-r*i;for(let t of o)a>0&&(f.set(t,f.get(t)+1),a--,g(e,t))}function g(e,t){const o=Array.from(document.querySelectorAll(".job-button")).find((t=>t.getAttribute("data-job")===e));if(!o||"none"===o.style.display)return;const s=document.getElementById(`resource-${t}`);if(!s||"none"===s.style.display)return;const n=o.getBoundingClientRect(),i=s.getBoundingClientRect(),r=document.createElement("div");r.style.position="absolute",r.style.width="10px",r.style.height="10px",r.style.borderRadius="50%",r.style.backgroundColor="white",r.style.opacity=".8",r.style.left=`${n.left+window.scrollX}px`,r.style.top=`${n.top+window.scrollY}px`,document.body.appendChild(r),r.animate([{transform:`translate(${i.left-n.left}px, ${i.top-n.top}px)`}],{duration:1e3,easing:"cubic-bezier(.23,-0.34,0,1.06)"}).onfinish=()=>{r.style.display="none"}}function h(e){const t=document.querySelector(`.job-button[data-job="${e}"]`);t||console.warn("Couldn't find job button for job: ",e);const s=t.querySelector(".job-name");s&&(s.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: ${l[e]}`),o(594).updateEmojiDisplay()}function b(){document.querySelector("#jobs-total").textContent="Assigned Clones: "+u()+" / "+a("clones")}let m=new Map,y=document.getElementById("lineCanvas"),v=y.getContext("2d");function k(e,t,o){let s=e.getBoundingClientRect(),n=s.left+s.width/2,i=scrollY+s.top+s.height/2;v.beginPath(),v.moveTo(n,i),v.lineTo(t,o),v.stroke(),function(e,t,o,s,n,i){let r,a,c,l=s,d=n;e.beginPath(),r=Math.atan2(n-o,s-t),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.moveTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.lineTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.lineTo(a,c),e.closePath(),e.fill()}(v,n,i,t,o,10)}function x(e,t){let o=l[e];l[e]=0,l[t]+=o,h(e),h(t)}y.width=window.innerWidth,y.height=window.innerHeight,e.exports={clearJobAssignments:function(){v.clearRect(0,0,y.width,y.height),m=new Map},reassignJobsBasedOnResources:function(){try{const e=m.entries();if(void 0===e)throw"Entries is undefined";for(let[t,o]of e){let e=document.getElementById(t).getAttribute("data-job");const r=t.replace("job-button-",""),a=o.replace("job-button-","");let c=!0,d=s[e].affectedResources;if(!d)return;for(const e of d)if(void 0!==n[e]&&i(e)<n[e].max){c=!1;break}c&&l[e]>0&&(x(r,a),p(r,l[r]),p(a,l[a]))}}catch(e){console.warn("reassignJobs",e)}},switchJob:x,drawAllConnections:function(){v.clearRect(0,0,y.width,y.height);try{for(let[e,t]of m.entries()){let o=document.getElementById(e),s=document.getElementById(t),n=s.getBoundingClientRect(),i=n.left+n.width/2,r=0;r=n.bottom>o.getBoundingClientRect().bottom?s.offsetTop-10:s.offsetTop+s.offsetHeight+10,k(o,i,r)}}catch(e){console.warn("drawAllConnections",e)}},getWorkers:function(e){return f.get(e)},updateTotal:b,setConnections:function(e){m=e},getConnections:function(){return m},distributeWorkers:p,updateDisplay:h,jobCounts:l,resetAllJobs:function(){for(let e in s)l[e]=0,p(e,0),b(),h(e)}}},882:(e,t,o)=>{const{hasPerk:s}=o(134),{recalcMaxClones:n}=o(995),{recalculateBuildingCost:i}=o(22),{updateBuildingButtonCount:r}=o(607),a={shelter:{basecost:{sticks:30},effects:{clones:1},boost:{},count:0,ratio:1.3,tooltipDesc:"For when you need a home away from home.",emoji:"å…«"},hut:{basecost:{sticks:50,vines:30},effects:{clones:1},boost:{},count:0,ratio:1.2,tooltipDesc:"A cozy, idyllic chunk of wood.",emoji:"å†‚"},house:{basecost:{wood:50,rocks:20,fish:10},effects:{clones:2},boost:{},count:0,ratio:1.4,tooltipDesc:"Every clone's dream. Minus the white picket fence.",emoji:"ä»‹"},teepee:{basecost:{wood:10,hides:25,fish:15},effects:{clones:2},boost:{},count:0,ratio:1.5,tooltipDesc:"Wrap some hides around some wood and call it a home.",emoji:"ç©´"},shed:{basecost:{wood:40},effects:{wood:50,sticks:50,rocks:20},boost:{},count:0,ratio:1.1,tooltipDesc:"The ultimate storage solution for the pack rat in you.",emoji:"ä¸ª"},stockpile:{basecost:{rocks:30},effects:{wood:100},ratio:1.1,boost:{},count:0,tooltipDesc:"Chuck a bunch of logs in a pile, what could happen?",emoji:"å“"},drying_racks:{basecost:{sticks:30,fish:5},effects:{fish:20},boost:{},count:0,ratio:1.1,tooltipDesc:"Air drying: Nature's way of preserving food.",emoji:"å››"},workshop:{basecost:{wood:40,sticks:20,rocks:10},effects:{rocks:50,ore:50,sand:100,clay:50},boost:{},count:0,ratio:1.2,tooltipDesc:"DIY's dream destination.",emoji:"ð“Ž°"},barn:{basecost:{wood:30,wheat:5},effects:{wheat:100,berries:40,vines:40},boost:{},count:0,ratio:1.2,tooltipDesc:"Hay, what's in that building?",emoji:"ð“†"},herbalist_hut:{basecost:{sticks:50,vines:50,herbs:50},effects:{herbs:100,vines:100},boost:{herbs:1.2,vines:1.1},count:0,ratio:1.2,tooltipDesc:"A place for brewing and stewing.",emoji:"ð“ƒ"},bakery:{basecost:{wood:80,wheat:100,rocks:40},effects:{wheat:200},boost:{},count:0,ratio:1.25,tooltipDesc:"Freshly baked bread, hot and ready.",emoji:"ð“–"},animal_pen:{basecost:{sticks:50,game:20,fish:25},effects:{game:100,hides:30},boost:{},count:0,ratio:1.2,tooltipDesc:"A place to put those lesser than you.",emoji:"çš¿"},grove:{basecost:{wood:20,vines:20},effects:{},boost:{wood:1.05,sticks:1.1},count:0,ratio:1.2,tooltipDesc:"A nice grove of trees to find wood faster.",emoji:"ð“†­ð“†­"},fish_traps:{basecost:{rope:40},effects:{},boost:{fish:1.05},count:0,ratio:1.2,tooltipDesc:"Fishing made easy. No patience required.",emoji:"äº•"},mine:{basecost:{rocks:30,wood:30},effects:{},boost:{ore:1.05,rocks:1.05},count:0,ratio:1.2,tooltipDesc:"Dig deep and find your inner ore.",emoji:"ð“Š"},campfire:{basecost:{rocks:20,sticks:20},effects:{},boost:{all:1.05},count:0,ratio:1.5,tooltipDesc:"Where stories are told and marshmallows are toasted.",emoji:"ç«"},lumber_yard:{basecost:{wood:200,iron:1},effects:{},boost:{wood:1.2},count:0,ratio:1.3,tooltipDesc:"Wood you like some more wood?",emoji:"ð“Œ"},stone_quarry:{basecost:{rocks:50,wood:20,rope:30},effects:{},boost:{rocks:1.1},count:0,ratio:1.3,tooltipDesc:"Rock on with your bad self!",emoji:"ð“ŠŽ"},fishery:{basecost:{wood:40,rope:15},effects:{},boost:{fish:1.1},count:0,ratio:1.2,tooltipDesc:"Fish are friends. And food.",emoji:"ð“Œ¤"},vineyard:{basecost:{wood:20,vines:50},effects:{},boost:{vines:1.1},count:0,ratio:1.2,tooltipDesc:"For the finest vines. What else would it grow?",emoji:"ðŸœŒ"},forge:{basecost:{rocks:40,ore:20,wood:100},effects:{},boost:{ore:1.2},count:0,ratio:1.2,tooltipDesc:"Melt, mold, and make marvelous metals.",emoji:"ð“Š«"},water_pump:{basecost:{rocks:30,rope:1,wood:10,wheat:2},effects:{freshwater:30},boost:{freshwater:1.1},count:0,ratio:1.4,tooltipDesc:"Fresh water on demand!",emoji:"ð“‚"},tower:{basecost:{bricks:20,rocks:10,wood:30},effects:{},boost:{hides:1.05,game:1.1},count:0,ratio:1.3,tooltipDesc:"See things from afar.",emoji:"ð“Š¢"},tannery:{basecost:{wood:60,hides:40},effects:{hides:50},boost:{hides:1.1},count:0,ratio:1.3,tooltipDesc:"Treat hides to make quality leather.",emoji:"ð“ƒ”"},marketplace:{basecost:{wood:100,rocks:50,berries:40,gold:1},effects:{},boost:{berries:1.2,herbs:1.2,ore:1.1},count:0,ratio:1.25,tooltipDesc:"A bustling hub of trade and barter.",emoji:"â‚¿"},windmill:{basecost:{wood:100,rocks:60,wheat:50},effects:{},boost:{wheat:1.2},count:0,ratio:1.3,tooltipDesc:"Grind grains efficiently with wind power.",emoji:"Ò‰"},telescope:{basecost:{glass:1,wood:10,ponder:10},effects:{},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"Look, up in the sky! It's a star!",emoji:"ð“Œ©"},observatory:{basecost:{bricks:70,wood:30,glass:50,ponder:50},effects:{},boost:{ponder:1.2},count:0,ratio:1.3,tooltipDesc:"Stargazing has never been so... productive?",emoji:"â˜†"},library:{basecost:{wood:70,paper:25,glass:5,ponder:25},effects:{ponder:50},boost:{ponder:1.1},count:0,ratio:1.3,tooltipDesc:"Knowledge is power. And a fire hazard if not stored properly.",emoji:"ðŸ•®"},desk:{basecost:{wood:15,sticks:20,ponder:10},effects:{ponder:30},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"A writer's block is no match for armor-piercing pencils!",emoji:"ð“Š¬"}};e.exports={buildings:a,getBuildingCount:function(e){return a[e].count},getBoost:function(e,t){const o=a[e];if(o&&o.boost){if(o.boost[t])return o.boost[t];if(o.boost.all)return o.boost.all}return null},resetBuildings:function(){for(const[e,t]of Object.entries(a))t.count=0,r(e,0),i(e,a,s);n()},isPopBuilding:function(e){switch(e){case"shelter":case"hut":case"house":case"teepee":return!0;default:return!1}}}},54:(e,t,o)=>{const{passedStage:s}=o(751),{getMaterial:n}=o(924),{hasTool:i}=o(609),{resources:r}=o(587),a={gatherSticks:{class:"tooltip startVisible",tab:"production",text:"ð“€ Gather Sticks",tooltipDesc:"Five, Six, Pick up sticks.",tooltipCost:"Free",requirement:()=>!0,hide:()=>!1},gatherVines:{class:"tooltip stick",tab:"production",text:"ð“¯ Gather Vines",tooltipDesc:"Some vines are rubbery, others are gummy.",tooltipCost:"Free",requirement:()=>n("sticks",r)>=10||s("vines"),hide:()=>!1},gatherRocks:{class:"tooltip stick",tab:"production",text:"ð“Š–ð“€© Gather Rocks",tooltipDesc:"Not a single window to throw them through.",tooltipCost:"Free",requirement:()=>n("vines",r)>=10||s("rocks"),hide:()=>!1},gatherFish:{class:"tooltip fishing",tab:"production",text:"ð“† ð“†Ÿ ð“†ž Go Fish",tooltipDesc:"Got any tuna?",tooltipCost:"Free",requirement:()=>i("Spear")||i("Fishing Rod")||s("fishing"),hide:()=>!1},gatherWood:{class:"woodToggle wood",tab:"production",text:"ð“Œ Chop Wood",tooltipDesc:"An axe hurts way less than using your hands.",tooltipCost:"",requirement:()=>i("Axe")||s("wood"),hide:()=>!1},gatherOre:{class:"tooltip ",tab:"production",text:"ð“‰¸ Mine Ore",tooltipDesc:"Diggy Diggy Hole",tooltipCost:"Free",requirement:()=>i("Pickaxe")||s("ore"),hide:()=>!1},productionTabButton:{class:"tab-button",text:"Production",showTab:"productionTab",tab:"tabs",requirement:()=>s("tab-button"),hide:()=>!1},experimentTabButton:{class:"tab-button",text:"Experiment",showTab:"experimentTab",tab:"tabs",requirement:()=>s("tab-button"),hide:()=>!1},ponderTabButton:{class:"tab-button",text:"Ponder",showTab:"ponderTab",tab:"tabs",requirement:()=>s("ponder-tab"),hide:()=>!1},jobsTabButton:{class:"tab-button",text:"Jobs",showTab:"jobsTab",tab:"tabs",requirement:()=>s("jobs-tab"),hide:()=>!1},skillsTabButton:{class:"tab-button",text:"Skills",showTab:"skillsTab",tab:"tabs",requirement:()=>s("skillsTable"),hide:()=>!1},perksTabButton:{class:"tab-button",text:"Perks",showTab:"perksTab",tab:"tabs",requirement:()=>s("perksTab"),hide:()=>!1},factoryTabButton:{class:"tab-button",text:"Factories",showTab:"factoryTab",tab:"tabs",requirement:()=>s("factoryTab"),hide:()=>!1},gatherPonder:{class:"tooltip",text:"Ponder",tooltipDesc:"Wrap your head around the great mysteries",tooltipCost:"Time",tab:"ponder",requirement:()=>s("ponder-tab"),hide:()=>!1}};e.exports={buttons:a}},371:(e,t,o)=>{const{getMaterial:s}=o(924),{getCraftedResource:n}=o(590),{resources:i}=o(587),{passedStage:r}=o(751),a={sharprocks:{text:"Sharp Rocks",id:"craftSharprocksButton",value:0,cost:{rocks:2},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"Craft a rock using nothing but rocks!",tooltipCost:"Rocks: 5",class:"craftRocks"},rope:{id:"craftRopeButton",value:0,cost:{vines:3},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"The basis of attaching things to other things.",tooltipCost:"Vines: 3",class:"craftRocks"},handle:{id:"craftHandleButton",value:0,cost:{sticks:2},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"Shear off that bark to hold it better",tooltipCost:"Sharp Rocks: 1",class:"craftRocks"},staff:{id:"craftStaffButton",value:0,cost:{handle:2,rope:1},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"Stick some sheared sticks together",tooltipCost:"Handles: 2",class:"rope"},fishingrod:{id:"craftFishingrodButton",text:"Fishing Rod",value:0,cost:{staff:1,rope:2},craftedOnce:!1,requiredStage:"fishing",tooltipDesc:"A weapon feared by underwater life",tooltipCost:"",class:"fishing"},spear:{id:"craftSpearButton",value:0,cost:{staff:1,sharprocks:1,rope:1},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"A long and pointy stick",tooltipCost:"Staffs: 1",class:"rope"},axe:{id:"craftAxeButton",value:0,cost:{handle:1,rope:1,sharprocks:2},craftedOnce:!1,requiredStage:"spear",tooltipDesc:"Put a rock straight through that handle",tooltipCost:"Spears: 1",class:"spear"},pickaxe:{id:"craftPickaxeButton",value:0,cost:{handle:1,sharprocks:3,rope:1,rocks:10},craftedOnce:!1,requiredStage:"spear",tooltipDesc:"Sadly not made of diamonds",tooltipCost:"Axes: 1",class:"spear"},glass:{id:"craftGlassButton",value:0,cost:{sand:10},craftedOnce:!1,tooltipDesc:"You can see right through it!",requiredStage:"glassBlowing",class:"glassBlowing"},paper:{id:"craftPaperButton",value:0,cost:{wood:12},craftedOnce:!1,tooltipDesc:"Outsource your memory",requiredStage:"paper",class:"paper"},gold:{id:"craftGoldButton",value:0,cost:{ore:100},craftedOnce:!1,requiredStage:"metalWorking",tooltipDesc:"There's some yellow bits in this ore",tooltipCost:"",class:"metalWorking"},iron:{id:"craftIronButton",value:0,cost:{ore:20},craftedOnce:!1,requiredStage:"metalWorking",tooltipDesc:"There's some sturdy-looking bits in this ore",tooltipCost:"",class:"metalWorking"},silver:{id:"craftSilverButton",value:0,cost:{ore:50},craftedOnce:!1,requiredStage:"metalWorking",tooltipDesc:"There's some shiny gray bits in this ore",tooltipCost:"",class:"metalWorking"},bricks:{id:"craftBricksButton",value:0,cost:{clay:15},craftedOnce:!1,requiredStage:"clay",tooltipDesc:"Leave some clay by the fire",tooltipCost:"",class:"clay"},steel:{value:0,cost:{iron:5}},beams:{value:0,cost:{wood:10}},crates:{value:0,cost:{wood:15}},nails:{value:0,cost:{iron:1}},slabs:{value:0,cost:{rocks:20}},medicine:{value:0,cost:{herbs:50}},leather:{value:0,cost:{hides:10}},concrete:{value:0,cost:{sand:32}},wood:{value:0,cost:{sticks:8}},sticks:{value:0,cost:{wood:.1}}};e.exports={craftedResources:a,getCraftedResourceConfigById:function(e){for(const[t,o]of Object.entries(a))if(o.id===e||o.id===e)return o;return null},getCraftedResourceKeyByConfig:function(e){for(let t in a)if(a[t].id===e.id)return t;return null},resetCraftedResources:function(){for(const[e,t]of Object.entries(a))t.value=0,t.craftedOnce=!1}}},55:e=>{e.exports={perks:{tier1:["Lumberjack","Miner","Botanist","Leader","Architect"],tier2:["Thinker","General","Merchant","Generalist","Specialist"]}}},397:e=>{let t={ponder1:{id:"ponderPonder1",isPondered:!1,cost:{ponder:10},text:"Think Harder",tooltipDesc:"5% boost to pondering",requirement:()=>!0},"jobs-tab":{id:"ponderJobs-tab",isPondered:!1,cost:{ponder:20},text:"Understand Cloning",tooltipDesc:"Why are there two of you?",requirement:()=>!0,tooltipCost:"Sanity (20 Ponder)"},skillsTable:{id:"ponderSkillsTable",isPondered:!1,cost:{ponder:50},tooltipDesc:"You're starting to learn things, right?",requirement:()=>!0,text:"Notice Improvement"},fishing:{id:"ponderFishing",isPondered:!1,cost:{ponder:50,fish:50},tooltipDesc:"What if... your clones could go fishing?",requirement:()=>!0,text:"Fishing Job"},fasterSkills:{id:"ponderFasterSkills",isPondered:!1,cost:{ponder:80},requirement:()=>!0,text:"Skills I",tooltipDesc:"Think Smarter. 5% bonus to skill exp"},thinking:{id:"ponderThinking",isPondered:!1,cost:{ponder:150},text:"Thinking Job",requirement:()=>!0,tooltipDesc:"Let your clones start thinking for themselves."},fasterResourceGain:{id:"ponderFasterResourceGain",isPondered:!1,cost:{ponder:120},requirement:()=>!0,text:"Productivity I",tooltipDesc:"Just work harder. 5% bonus to resource gain"},metalWorking:{id:"ponderMetalWorking",isPondered:!1,requirement:()=>!0,text:"Metal Working",tooltipDesc:"Start processing that ore",cost:{ponder:100,ore:50,rocks:50}},glassBlowing:{id:"ponderGlassBlowing",isPondered:!1,requirement:()=>!0,text:"Glass Blowing",tooltipDesc:"Huff and puff and make a cool vase",cost:{sand:20,ponder:80}},organization:{id:"ponderOrganization",isPondered:!1,requirement:()=>!0,text:"Organized Storage",tooltipDesc:"Organize your storage by groups",cost:{ponder:200}},paper:{id:"ponderPaper",isPondered:!1,requirement:()=>!0,text:"Paper Processing",tooltipDesc:"Smash down some wood into paper",cost:{ponder:200,wood:100}},autoClone:{id:"ponderAutoClone",requirement:()=>!0,isPondered:!1,text:"Auto Clone",tooltipDesc:"Automatically produce clones",cost:{ponder:140,clones:20}},effectiveBuildings:{id:"ponderEffectiveBuildings",requirement:()=>!0,isPondered:!1,text:"Buildings I",tooltipDesc:"Increase building effects by 1%",cost:{ponder:180}},agriculture:{id:"ponderAgriculture",requirement:()=>!0,isPondered:!1,text:"Agriculture",tooltipDesc:"Find some seeds from all those plants",cost:{ponder:180}},combat:{id:"ponderCombat",requirement:()=>!0,isPondered:!1,text:"Combat",tooltipDesc:"Is there anyone to spar with besides you?",cost:{ponder:300,spear:100}},hunting:{id:"ponderHunting",requirement:()=>!0,isPondered:!1,text:"Hunting",tooltipDesc:"At least there are animals",cost:{ponder:200,fish:50}},perksTab:{id:"ponderPerksTab",requirement:()=>!0,isPondered:!1,text:"Perks",tooltipDesc:"Maybe you as the original should specialize",cost:{ponder:400}},factoryTab:{id:"ponderFactoryTab",requirement:()=>!0,isPondered:!1,text:"Factories",tooltipDesc:"Ascend to the next level of economy",cost:{ponder:500,gold:10,wood:1e3,wheat:1e3,rocks:1e3}},ponder2:{id:"ponderPonder2",requirement:()=>!0,isPondered:!1,text:"Think even harder",tooltipDesc:"5% boost to pondering",cost:{ponder:300}},ponder3:{id:"ponderPonder3",requirement:()=>!0,isPondered:!1,text:"Think hardest",tooltipDesc:"5% boost to pondering",cost:{ponder:600}},biggerShelter:{id:"ponderBiggerShelter",requirement:()=>!0,isPondered:!1,text:"Expand Shelter",tooltipDesc:"Shelters can house 1 more clone each",cost:{ponder:500,sticks:1e3}},biggerHut:{id:"ponderBiggerHut",requirement:()=>!0,isPondered:!1,text:"Expand Hut",tooltipDesc:"Huts can house 1 more clone each",cost:{ponder:750,sticks:1500,vines:1e3}},biggerHouse:{id:"ponderBiggerHouse",requirement:()=>!0,isPondered:!1,text:"Two-story houses",tooltipDesc:"Houses can house 2 more clones each",cost:{ponder:1e3,wood:2e3,rocks:2e3}},biggerTeepee:{id:"ponderBiggerTeepee",requirement:()=>!0,isPondered:!1,text:"Double diameter Teepees",tooltipDesc:"Teepees can house 4 more clones each",cost:{ponder:1250,wood:3e3,hides:1500}},evenBiggerShelter:{id:"ponderEvenBiggerShelter",requirement:()=>!0,isPondered:!1,text:"Expand Shelter Again",tooltipDesc:"Shelters can house 1 more clone each",cost:{ponder:1500,sticks:3e3,fish:1e3}}};e.exports={ponders:t,resetPonders:function(){for(const[e,o]of Object.entries(t))o.isPondered=!1}}},425:e=>{const t={maxClones:{text:"Cramped",tooltipDesc:"Max Clones (+1)",cost:2,level:0},cloneBoost:{text:"Handyman",tooltipDesc:"Clone Productivity (+5%)",cost:1,level:0},gatheringBoost:{text:"Picker",tooltipDesc:"Gathering Efficiency (+10%)",cost:1,level:0},masonryBoost:{text:"Rocker",tooltipDesc:"Masonry Efficiency (+10%)",cost:1,level:0},carpentryBoost:{text:"Chopped",tooltipDesc:"Carpentry Efficiency (+10%)",cost:1,level:0},thinkingBoost:{text:"Wizened",tooltipDesc:"Thinking Efficiency (+10%)",cost:1,level:0},farmingBoost:{text:"Pruned",tooltipDesc:"Farming Efficiency (+10%)",cost:1,level:0},fishingBoost:{text:"Hooked",tooltipDesc:"Fishing Efficiency (+10%)",cost:1,level:0},huntingBoost:{text:"Tracker",tooltipDesc:"Hunting Efficiency (+10%)",cost:1,level:0},cheaperBuildings:{text:"Rickety",tooltipDesc:"Building Cost (-5%)",cost:2,level:0},storageSpace:{text:"Stuffed",tooltipDesc:"Storage Space (+5%)",cost:2,level:0}};function o(e){return t[e].level}e.exports={prestige:t,hasPrestige:function(e){return o(e)>0},getLevelOfPrestige:o}},587:e=>{const t={clones:{id:"makeClone",value:0,isVisible:!1,max:0},sticks:{id:"gatherSticks",isGetting:!1,isVisible:!0,activeText:"ð“†±ð“€œ Gathering Sticks",defaultText:"ð“†± Gather Sticks",value:0,emoji:"ð“€",max:50},vines:{id:"gatherVines",isGetting:!1,isVisible:!1,activeText:"ð“¯ð“€ª Gathering Vines",defaultText:"ð“¯ Gather Vines",tools:[{tool:"Axe",val:1.5}],value:0,emoji:"ð“€ª",max:50},rocks:{id:"gatherRocks",isGetting:!1,isVisible:!1,activeText:"ð“Š–ð“€© Gathering Rocks",defaultText:"ð“Š– Gather Rocks",value:0,emoji:"ð“€©",max:30},fish:{id:"gatherFish",isGetting:!1,isVisible:!1,activeText:"ð“†ð“†Ÿð“†ž ð“ƒ Gone Fishing",defaultText:"ð“†ð“†Ÿð“†ž Go Fish",value:0,emoji:"ð“ƒ",tools:[{tool:"Spear",val:1},{tool:"Fishing Rod",val:2}],max:10},wood:{id:"gatherWood",isGetting:!1,isVisible:!1,activeText:"ð“€¨ Chopping Wood",defaultText:"ð“Œ Chop Wood",emoji:"ð“€¨",tools:[{tool:"Axe",val:1.5},{tool:"Chainsaw",val:3}],value:0,max:40},ponder:{id:"gatherPonder",isGetting:!1,isVisible:!1,activeText:"ð“€ Pondering",defaultText:"ð“€ Ponder",emoji:"ð“€",value:0,max:20},ore:{value:0,id:"gatherOre",isGetting:!1,isVisible:!1,activeText:"ð“‰¸ð“„ Mining Ore",defaultText:"ð“‰¸ Mine Ore",emoji:"ð“„",max:20},sand:{value:0,id:"gatherSand",isGetting:!1,isVisible:!1,activeText:"ð“€© Scooping Sand",defaultText:"ð“€© Scoop Sand",emoji:"ð“€©",max:20},wheat:{value:0,id:"gatherWheat",isGetting:!1,isVisible:!1,activeText:"ð“€© Harvesting Wheat",defaultText:"ð“€© Harvest Wheat",emoji:"ð“€",max:20},freshwater:{value:0,id:"gatherFreshwater",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"ð“€©",max:50},hides:{value:0,id:"gatherHides",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"ð“€Ž",max:50},clay:{value:0,id:"gatherClay",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"ð“€©",max:50},berries:{value:0,id:"gatherBerries",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"ð“€©",max:50},herbs:{value:0,id:"gatherHerbs",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"ð“€©",max:50},game:{value:0,id:"gatherGame",isGetting:!1,isVisible:!1,activeText:"ð“ƒšð“€Ž Hunting",defaultText:"ð“€Ž Hunt",emoji:"ð“€Ž",max:50},husks:{value:0,id:"gatherHusks",isGetting:!1,isVisible:!1,activeText:"",defaultText:"",emoji:"X",max:1e3}};e.exports={resources:t,isResource:function(e){return e in t},getResourceConfigById:function(e){for(let o in t)if(t[o].id===e)return t[o];return null},resetResources:function(){for(const[e,o]of Object.entries(t))o.value=0}}},324:e=>{e.exports={skills:{gathering:{exp:0,level:0,affectedResources:["sticks","vines","sand","herbs","berries"]},masonry:{exp:0,level:0,affectedResources:["rocks","ore","clay"],needTools:[{Pickaxe:["ore"]}]},carpentry:{exp:0,level:0,affectedResources:["wood","handle","staff","fishingrod"],needTools:[{Axe:["wood"]}]},thinking:{exp:0,level:0,affectedResources:["ponder"]},farming:{exp:0,level:0,affectedResources:["wheat","freshwater"]},combat:{exp:0,level:0,affectedResources:[]},fishing:{exp:0,level:0,affectedResources:["fish"]},hunting:{exp:0,level:0,affectedResources:["hides","game"]}}}},808:(e,t,o)=>{const{craftedResources:s,resetCraftedResources:n}=o(371),{buildings:i,resetBuildings:r}=o(882),{ponders:a,resetPonders:c}=o(397),{buttons:l}=o(54),{resources:d,resetResources:u}=o(587),{saveGame:f,loadGame:p}=o(502),{generateTooltipCost:g,appendCraftedResourceButtons:h,increaseMaterial:b,craftAllResources:m,craftResource:y,calcIncrease:v,updateResourceIncreaseRates:k,increaseMax:x}=o(594),{buyMaxBuildings:w,buyBuilding:B,createBuildingButton:C}=o(151),{hasPerk:T,selectAbility:S,resetPerks:E}=o(134),{clearSidebar:M}=o(78),{makeVisible:A}=o(123),{updateButtonVisibility:j}=o(667),{getCraftedResource:q}=o(590),{getMaterial:D}=o(924),{buyFactory:P,attemptManufacture:L,upgradeBulk:R}=o(51),{isPondered:$,generatePonderButtons:O}=o(369),{hasTool:F,addTool:I}=o(609),{getAteFish:H,setAteFish:G}=o(621),{drawAllConnections:V,updateTotal:W,clearJobAssignments:N,resetAllJobs:_}=o(150),{capitalizeFirst:z}=o(681),{passedStage:J,resetStages:U}=o(751),{recalcMaxClones:Y}=o(995),{initializeResourceTags:K,updateSidebar:X,updateDisplayValue:Q}=o(453),{prestige:Z}=o(425),{recalculateBuildingCost:ee}=o(22),{triggerFloatUpText:te}=o(727),{updateBounceAnimation:oe}=o(994),{updateTooltip:se,hideTooltip:ne}=o(208),{canCraft:ie}=o(64),re=document.querySelector("#resources"),ae=document.querySelector("#emojiGatherDisplay"),ce={SharpRocks:"craftRocks",Spear:"fishing",FishingRod:"fishing",Axe:"wood",Pickaxe:"ore"},le=[{condition:()=>D("sticks",d)>=1,action:()=>A("stick")},{condition:()=>D("sticks",d)>=10,action:()=>A("vines")},{condition:()=>D("vines",d)>=10,action:()=>A("rocks")},{condition:()=>D("rocks",d)>=1,action:()=>{A("tab-button"),A("craftRocks")}},{condition:()=>q("spear",s)>0,action:()=>A("spear")},{condition:()=>D("fish",d)>=1,action:()=>A("fishing")},{condition:()=>F("Axe"),action:()=>A("wood")},{condition:()=>q("rope")>=1,action:()=>A("rope")},{condition:()=>D("fish",d)>=5&&!H(),action:()=>{A("eatFish")}},{condition:()=>H(),action:()=>{A("clone"),A("ponder-tab")}},{condition:()=>$("ponderFinish"),action:()=>("stage2.html",document.getElementById("page-transition-overlay").classList.add("fade-in"),void setTimeout((function(){window.location.href="stage2.html"}),300))},{condition:()=>$("biggerShelter")||$("biggerHut")||$("biggerHouse")||$("biggerTeepee")||$("evenBiggerShelter"),action:()=>Y()},{condition:()=>D("clones")>=40,action:()=>A("prestige")},{condition:()=>D("clay")>0,action:()=>A("clay")},{condition:()=>!document.getElementById("toggle-basics")&&$("organization"),action:()=>K(!0)}];let de=document.querySelectorAll(".tab-content > .content");function ue(e){console.log("show tab: "+e);let t="";for(let e of de)e.classList.contains("active")&&(t=e.id,e.style.opacity="0",setTimeout((()=>{e.classList.remove("active")}),100));let o=document.querySelectorAll(".tab-button");for(let e of o)e.classList.remove("active");let s=document.getElementById(e);setTimeout((()=>{s.classList.add("active")}),100),setTimeout((()=>{s.style.opacity="1"}),200);const n=`#${e}Button`;let i=document.querySelector(n);i&&i.classList.add("active"),"jobsTab"===e&&V(),console.log(t,">",e),X()}document.addEventListener("keydown",(function(e){switch(e.key){case"1":ue("productionTab");break;case"2":J("tab-button")&&ue("experimentTab");break;case"3":J("ponder-tab")&&ue("ponderTab");break;case"4":J("jobs-tab")&&ue("jobsTab");break;case"5":J("skillsTable")&&ue("skillsTab");break;case"6":J("perksTab")&&ue("perksTab");break;case"7":J("factoryTab")&&ue("factoryTab")}}));const fe=document.body;fe.classList.toggle("dark-mode");let pe=!0;function ge(){const e=document.getElementById("overlay"),t=document.getElementById("overlay-text"),o=document.getElementById("overlay-button");e.style.display="flex",setTimeout((()=>{t.style.opacity="1"}),2e3),setTimeout((()=>{o.style.display="block",o.style.opacity="1"}),5e3)}const he=document.getElementById("message");function be(e,t){const o=e.replace(t,`<span class='tooltip' id="alone" tooltipDesc="You feel peckish for some seafood">${t}</span>`);he.innerHTML=o}let me=50,ye=null,ve=0,ke=0;function xe(e){null===ye&&(ye=e);const t=e-ye;ve+=t,ke+=t,ye=e;let o=me;for(ke>=10*me&&(me=ke/10);ke>=me;)ke-=me,Ce(me);me=o,requestAnimationFrame(xe)}let we=0,Be=0;function Ce(e,t){for(const[t,o]of Object.entries(d))b(t,v(t,e));k(),function(){le.forEach((e=>{e.condition()&&e.action()}));for(let e in ce)!F(e)&&q(e)>0&&(I(e),A(ce[e]));try{j(),null!==Se&&se(Se)}catch(e){console.warn(e)}}(),we+=e,Be+=e,we>=1e4&&(f(),we=0),J("factoryTab")&&Be>=1e3&&(L(),Be=0)}window.onbeforeunload=function(){Te||f()};let Te=!1;document.addEventListener("DOMContentLoaded",(e=>{window.increaseMaterial=b,O(a),function(){console.log("Generating buttons"),console.trace();for(let e in i){const t=C(e,i);l[e]=t}const e=e=>{const t=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div");return t.style.width="33.33%",o.style.width="33.33%",s.style.width="33.33%",t.style.display="inline-block",o.style.display="inline-block",s.style.display="inline-block",t.classList.add("visible"),o.classList.add("visible"),s.classList.add("visible"),e.prepend(s),e.prepend(o),e.prepend(t),[t,o,s]},t=document.getElementById("tabs"),o=document.getElementById("productionTab"),n=document.getElementById("experimentTab").querySelector(".button-columns"),r=document.getElementById("ponderTab"),a=e(n),c=e(r);let d=1,u=0,f=0;for(let e in l){const n=l[e],r=document.createElement("button");r.id=e,r.className=n.class,r.textContent=n.text.split("_").join(" "),n.tooltipDesc&&r.setAttribute("data-tooltip-desc",n.tooltipDesc),n.tooltipEffect&&r.setAttribute("data-tooltip-effect",n.tooltipEffect),r.setAttribute("unlock",n.unlock),r.setAttribute("data_building",n.data_building);const p=Object.values(s).find((t=>t.id===e));p&&(n.tooltipCost=g(p.cost)),r.setAttribute("data-tooltip-cost",n.tooltipCost),n.showTab&&r.addEventListener("click",(()=>{ue(n.showTab),console.log("Switching to tab: "+n.showTab)})),"production"===n.tab?(r.style.gridColumn=d.toString(),d=(d+1)%3,o.appendChild(r)):"experiment"===n.tab?(a[u].appendChild(r),u=(u+1)%3):"tabs"===n.tab?t.appendChild(r):"ponder"===n.tab?(c[f].appendChild(r),f=(f+1)%3):n.tab,Object.keys(i).find((t=>t===e))&&ee(e,i,T);try{n.requirement()||(r.style.display="none")}catch(e){}}}(),K(),p(),M(),K($("organization")),h(),X(),ue("productionTab"),o(864).generateTradeTable(d),document.addEventListener("click",(e=>{if(e.target.matches("button")){const i=e.target;if(i.getAttribute("data_building")&&"undefined"!==i.getAttribute("data_building")&&i.classList.contains("purchasable")){var t=i.getAttribute("data_building");const o=e.pageX,s=e.pageY;if(e.shiftKey){let e=w(t);te(o,s,`+${e} ${z(t).split("_").join(" ")}s`,"aqua")}else B(t),te(o,s,`+1 ${z(t)}`,"aqua")}else if(i.classList.contains("unlock")){const e=i.getAttribute("unlock");if(console.log(e),a[e]){var o=!0;for(let t in a[e].cost)if(D(t,d)<a[e].cost[t]){o=!1;break}if(o){for(let t in a[e].cost)b(t,-a[e].cost[t]);a[e].isPondered=!0,A(e),i.display="none","organization"===e&&location.reload()}}}else if("undefined"!==i.id)if("gather"===i.id.slice(0,6))!function(e){const t=d[e],o=document.querySelector("#resources").querySelector("#resource-"+e),s=document.querySelector("#gather"+e.charAt(0).toUpperCase()+e.slice(1));ae.textContent="ð“€Ÿ",t.isGetting?(t.isGetting=!1,s.classList.remove("gathering"),s.textContent=t.defaultText,o&&(o.style.fontWeight="normal")):(function(){for(const[e,t]of Object.entries(d)){t.isGetting=!1;const o=document.querySelector("#gather"+z(e));o&&(o.textContent=t.defaultText,o.classList.remove("gathering"));const s=re.querySelector("#resource-"+e);s&&(s.style.fontWeight="normal")}}(),t.isGetting=!0,s.textContent=t.activeText,o&&(o.style.fontWeight="bold"),ae.textContent=t.emoji,console.log(t.emoji),s.classList.add("gathering"))}(function(e){for(const[t,o]of Object.entries(d))if(o.id===e)return t;return"error "+e}(i.id));else if("craft"===i.id.slice(0,5)){let t=function(e){for(const[t,o]of Object.entries(s))if(console.log(t,o,e),o.id===e)return t;return"error "+e}(i.id);console.log("clicked cr: ",t),ie(t)&&te(e.pageX,e.pageY,`+${t}`,"aqua"),e.shiftKey?m(t):y(t)}else"saveButton"===i.id?f():"eatFish"===i.id?!H()&&D("fish",d)>=1&&(b("fish",-1),ge(),G(!0),document.querySelector("#eatFish").style.display="none",setTimeout((()=>{be("You are with yourself in a forest.","with yourself"),x("clones",1),b("clones",1)}),1e3)):"overlay-button"===i.id?(document.getElementById("overlay-text").style.opacity="0",document.getElementById("overlay-button").style.opacity="0",document.getElementById("overlay").style.display="none",document.getElementById("isekaiButtons").innerHTML="",location.reload()):"deleteSaveButton"===i.id&&confirm("Are you sure you want to delete your save data? This will reset all your progress.")?(localStorage.removeItem("save"),Te=!0,location.reload()):"clearJobAssignments"===i.id?N():"darkModeToggle"===i.id?(fe.classList.toggle("dark-mode"),darkModeToggle.classList.toggle("dark"),pe=!pe,darkModeToggle.textContent=pe?"Light Mode":"Dark Mode"):"2main"===i.id?ue("mainTab"):"2graphs"===i.id?ue("graphsTab"):"prestige"===i.id&&function(){const e=document.getElementById("overlay"),t=document.getElementById("overlay-text"),o=document.getElementById("overlay-button"),s=document.getElementById("overlay-back-button");o.addEventListener("click",(()=>{const t=D("clones");u(),n(),c(),E(),r(),_(),U(),b("husks",t),e.style.display="none",K(!1)})),s.addEventListener("click",(()=>{e.style.display="none"}));const i=document.getElementById("husksIsekaiValue");let a;a=i||document.createElement("p"),a.id="husksIsekaiValue",a.innerHTML=`Husks:  ${D("husks")} <br> You will get ${D("clones")} Husks post-isekai.`,a.style.opacity="0",e.prepend(a),e.style.backgroundColor="MidnightBlue",t.textContent="You step through to another world.",ge(),setTimeout((()=>{s.style.opacity="1"}),5e3),setTimeout((function(){const e=document.getElementById("isekaiButtons");let t=1;Object.keys(Z).forEach((o=>{const s=document.createElement("button");s.innerHTML=`<b>${Z[o].text}</b><br>Level: ${Z[o].level}<br>Cost: ${Z[o].cost}`,s.setAttribute("tooltipCost",Z[o].cost),s.setAttribute("tooltipDesc",Z[o].tooltipDesc),s.classList.add("tooltip"),s.style.gridColumn=(t%4+1).toString(),s.style.gridRow=Math.floor(t/4+1).toString(),++t,s.addEventListener("click",(()=>{console.log(`Button ${o} was clicked`),D("husks")<Z[o].cost||(Z[o].level++,b("husks",-Z[o].cost),Z[o].cost=function(e){let t=e*(1+Math.sqrt(5))/2;return Math.round(t)}(Z[o].cost),s.setAttribute("tooltipCost",Z[o].cost),s.innerHTML=`<b>${Z[o].text}</b><br>Level: ${Z[o].level}<br>Cost: ${Z[o].cost}`,a.textContent="Husks: "+D("husks"),se(s))})),s.addEventListener("contextmenu",(e=>{e.preventDefault(),console.log(`Button ${o} was right clicked`),Z[o].level<=0||(Z[o].level--,Z[o].cost=function(e){let t=e/((1+Math.sqrt(5))/2);return Math.round(t)}(Z[o].cost),s.setAttribute("tooltipCost",Z[o].cost),b("husks",Z[o].cost),s.innerHTML=`<b>${Z[o].text}</b><br>Level: ${Z[o].level}<br>Cost: ${Z[o].cost}`,a.textContent="Husks: "+D("husks"),se(s))})),e.appendChild(s),s.addEventListener("mouseenter",(function(e){se(s),Se=s})),s.addEventListener("mouseleave",(function(){ne(),Se=null}))}))}),5e3),setTimeout((()=>{a.style.opacity="1"}),5e3)}();if(i.classList.contains("tierOneButton")){let e=i.textContent;S(e)}}if(e.target.matches("#alone")){let t="+1 Clone";d.clones.value<d.clones.max?d.clones.value+=1:t="Max Clones";const o=e.pageX,s=e.pageY;te(o,s,t,"+1 Clone"===t?"green":"red"),W(),Q("clones")}})),function(){const e=document.querySelector("#factoryButtons"),t=document.createElement("button");t.classList.add("tooltip"),t.id="buyFactoryButton",t.textContent="Buy New Factory",t.setAttribute("data-tooltip-desc","The factory must grow!"),t.setAttribute("tooltipCost","50 silver"),e.appendChild(t),t.addEventListener("click",(()=>{console.log("buying factory"),P()}));const o=document.createElement("button");o.classList.add("tooltip"),o.id="upgradeBulkButton",o.textContent="Upgrade Bulk",o.setAttribute("data-tooltip-desc","Craft more resources per second"),o.setAttribute("tooltipCost","2 â†’ 4: 30 silver"),e.appendChild(o),o.addEventListener("click",(()=>{console.log("upgrading bulk"),R()}))}(),requestAnimationFrame(xe),document.querySelectorAll(".tooltip").forEach((e=>{e.addEventListener("mouseenter",(function(t){se(e),Se=e})),e.addEventListener("onclick",(function(){se(e)})),e.addEventListener("mouseleave",(function(){ne(),Se=null}))})),W(),oe()}));var Se=null;e.exports={updateUI:function(e){const t=document.createElement("div");t.innerHTML=`${e}: ${d[e].value}`,document.body.appendChild(t)},setTotalTime:function(e){ve=e},changeMessage:be,getMessage:function(){return he},total_time:ve,currentHoverButton:Se}},123:(e,t,o)=>{const{setStage:s,passedStage:n}=o(751),{updateButtonVisibility:i}=o(667);t.makeVisible=function(e){n(e)||s(e),document.querySelectorAll("."+e).forEach((e=>{e.classList.add("visible"),e.classList.remove("hidden"),e.style.display=""})),i()}},134:(e,t,o)=>{const{buildings:s}=o(882),{perks:n}=o(55);let i=[];function r(e){return i.includes(e)}function a(e){if(i.push(e),"Architect"===e)for(let e in s)o(22).recalculateBuildingCost(e,s,r)}e.exports={hasPerk:r,addPerk:a,selectAbility:function(e){r(e)||window.confirm("Do you want to select "+e+"? This decision cannot be easily changed.")&&(a(e),o(495).selectCorrectPerkButton(e))},getPerkFromTier:function(e){for(let t in n["tier"+e])if(r(t))return t;return""},getAllPerks:function(){return i},resetPerks:function(){i=[]}}},369:(e,t,o)=>{const{capitalizeFirst:s}=o(681),{ponders:n}=o(397),{getMaterial:i}=o(924),{resources:r}=o(587),{buttons:a}=o(54);function c(e){return!!n[e]&&n[e].isPondered}e.exports={canUnlock:function(e){var t="";for(let o in n)n[o].id===e&&(t=o);if(""===t)return console.warn("invalid unlock id: ",e),!1;var o=!0;for(let e in n[t].cost)if(i(e,r)<n[t].cost[e]){o=!1;break}return o},isPondered:c,generatePonderButtons:function(e){for(const[t,i]of Object.entries(e)){const e=`ponder${s(t)}`;let r=o(594).generateTooltipCost(i.cost);a[e]={class:"tooltip unlock",text:i.text||"Ponder a Mystery?",tooltipDesc:i.tooltipDesc||"Who knows what you'll discover",tooltipCost:r,tab:"ponder",unlock:t,requirement:()=>o(78).getMax("ponder")>=n[t].cost.ponder/2,hide:()=>c(t)}}}}},995:(e,t,o)=>{const{hasPrestige:s,getLevelOfPrestige:n}=o(425),{isPondered:i}=o(369),{setMax:r}=o(594),{passedStage:a}=o(751),{updateBounceAnimation:c}=o(994);t.recalcMaxClones=function(){let e=0;a("clone")&&(e+=1);const t=o(882).buildings;for(const[o,s]of Object.entries(t))s.effects&&s.effects.clones&&(e+=s.effects.clones*s.count);i("biggerShelter")&&(e+=1*t.shelter.count),i("biggerHut")&&(e+=1*t.hut.count),i("biggerHouse")&&(e+=2*t.house.count),i("biggerTeepee")&&(e+=4*t.teepee.count),i("evenBiggerShelter")&&(e+=1*t.shelter.count),s("maxClones")&&(e+=1*n("maxClones")),r("clones",e),c()}},22:(e,t,o)=>{const{hasPrestige:s,getLevelOfPrestige:n}=o(425);t.recalculateBuildingCost=function(e,t,i){let r=t[e];if(r&&r.cost&&r.ratio)for(let e in r.cost)r.cost[e]=Math.round(r.basecost[e]*Math.pow(r.ratio,r.count)),i("Architect")&&(r.cost[e]*=.75),s("cheaperBuildings")&&(r.cost[e]*=Math.pow(.95,n("cheaperBuildings")));const a=document.querySelector("#"+e);var c=o(594).generateTooltipCost(r.cost);if(!a)throw"Button not found for "+e;{a.setAttribute("data-tooltip-cost",c);const e=o(151).generateEffectString(r);a.setAttribute("data-tooltip-effect",e)}}},594:(e,t,o)=>{const{resources:s}=o(587),{craftedResources:n}=o(371),{ponders:i}=o(397),{buttons:r}=o(54),{skills:a}=o(324),{getWorkers:c,updateTotal:l}=o(150),{hasTool:d}=o(609),{updateSkills:u,calcCraftBonus:f,getMax:p}=o(78),{canCraft:g}=o(64),{capitalizeFirst:h}=o(681),{getMaterial:b}=o(924),{isPondered:m}=o(369),{getCraftedResource:y}=o(590),{calcIncrease:v}=o(121),{updateSidebar:k}=o(453),{passedStage:x,getAllStages:w}=o(751),{updateDisplayValue:B}=o(453),C=document.getElementById("resources");function T(e,t){0!=t&&((e=e.toLowerCase())in s?(b(e)<p(e)&&t>0?(m("fasterResourceGain")&&(t*=1.05),s[e].value+=t,u(e,t)):t<0?s[e].value+=t:(s[e].value=p(e),m("autocraft")&&document.querySelector("#autoCraftCheckbox").checked&&q[e]&&D(q[e])),B(e)):e in n?(n[e].value+=t,B(e),u(e,t)):(s[e]&&(s[e].value+=t),n[e]&&(n[e].value+=t),k()))}function S(e){const t=document.createElement("button");t.className=e.class+" tooltip",t.setAttribute("id",e.id),t.setAttribute("requirement",e.requiredStage);const o=Object.keys(n).find((t=>n[t]===e));return t.innerHTML=`${e.text||h(o)}`,t.tab="experiment",t}t.resourcesContainer=C;const E=document.querySelector("#craftedResourceButtons");function M(e){if(null===e)return"";var t="";for(let o in e)t+=`<span class="tooltip-${o} ${b(o,s)>=e[o]?"enough":"not-enough"}">${e[o]} ${o}</span><br>`;return t}const A=document.getElementById("emojiDisplay");function j(){let e="";for(let t in s){let o=c(t);if(void 0===o||0==o)continue;let n=s[t].emoji||"ð“€Ÿ";n&&(e+=n.repeat(o))}A.textContent=e,function(){let e=48;for(A.style.fontSize=`${e}px`;A.offsetWidth>600&&e>30;)e-=1,A.style.fontSize=`${e}px`}()}j();const q={sticks:"handle",wood:"paper",rocks:"sharprocks",vines:"rope",sand:"glass",ore:"gold",clay:"bricks"};function D(e){try{const t=n[e].cost;let o=[];for(let e in t)o.push(b(e,s)/t[e]);let i=Math.floor(Math.min(...o));console.log(e,i),P(e,i)}catch(t){console.log("Failed to craftall for: ",e,t)}}function P(e,t){if(!n.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;if(!g(e))return;let o=n[e].cost;for(let s=0;s<Math.floor(t);++s)console.log("crafting",t,e,o),L(e,o,f(e));n[e].craftedOnce||(n[e].craftedOnce=!0),B(e)}function L(e,t,o){for(const[e,o]of Object.entries(t))T(e,-o);T(e,o)}e.exports={increaseMaterial:T,setMax:function(e,t){s[e].max=t,k(),l()},increaseMax:function(e,t){s[e].max+=t,k(),l()},craftAllResources:D,craftResource:function(e){if(!n.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;g(e)&&(L(e,n[e].cost,f(e)),n[e].craftedOnce||(n[e].craftedOnce=!0),B(e))},updateEmojiDisplay:j,generateTooltipCost:M,calcSecondsRemaining:function(e,t){if(t<=s[e])return 0;const o=v(e,1e3);return 0==o?-1:Math.ceil(t-s[e].value)/o},appendCraftedResourceButtons:function(){for(let e in n){const t=S(n[e]);t.setAttribute("data-tooltip-desc",n[e].tooltipDesc||""),t.setAttribute("data-tooltip-cost",M(n[e].cost)||""),E.appendChild(t),x(t.getAttribute("requirement"))?t.classList.remove("hidden"):t.classList.add("hidden"),r[n[e].id]=n[e]}},calcIncrease:v,updateResourceIncreaseRates:function(){for(let t in s){const o=v(t,1e3);var e=document.getElementById(`${t}IncreaseRate`);e&&(e.textContent=o)}},craftResourceQuantity:P}},502:(e,t,o)=>{const{calcIncrease:s,updateEmojiDisplay:n}=o(594),{addTool:i,getAllTools:r}=o(609),{allVisibleButtons:a,populateSkillsTable:c,setVisibleButton:l}=o(78),{makeVisible:d}=o(123),{getCraftedResource:u}=o(590),{getMaterial:f}=o(924),{getAllPerks:p,addPerk:g,hasPerk:h,selectAbility:b}=o(134),{isPondered:m}=o(369),{jobCounts:y,setConnections:v,getConnections:k,distributeWorkers:x,updateDisplay:w}=o(150),{total_time:B}=o(808),{setAteFish:C,getAteFish:T}=o(621),{craftedResources:S}=o(371),{buildings:E}=o(882),{ponders:M}=o(397),{resources:A}=o(587),{skills:j}=o(324),{getAllStages:q}=o(751),{activeFactoriesProducing:D,loadFactory:P}=o(51),{recalcMaxClones:L}=o(995),{updateSidebar:R}=o(453),{prestige:$}=o(425),{recalculateBuildingCost:O}=o(22),{updateBuildingButtonCount:F}=o(607),{updateBuildingList:I}=o(151);e.exports={saveGame:function(){let e={skills:{},craftedResources:{},resources:{},tools:[],stages:[],unlocks:{},jobs:{},buildings:{},time:{},allVisibleButtons:[],message:[],connections:new Map,perks:[],factories:{},prestige:{}};for(let t in j)e.skills[t]={exp:j[t].exp,level:j[t].level};for(let t in S)e.craftedResources.hasOwnProperty(t)||(e.craftedResources[t]={value:0,craftedOnce:!1}),e.craftedResources[t].value=u(t),e.craftedResources[t].craftedOnce=S[t].craftedOnce;for(let t in A)e.resources.hasOwnProperty(t)||(e.resources[t]={value:0,max:0}),e.resources[t].value=f(t,A),e.resources[t].max=A[t].max;e.tools=r(),e.stages=q(),e.jobs=y,e.perks=p(),e.connections=Array.from(k().entries());for(let t in M)e.unlocks[t]=m(t);for(let t in E)e.buildings[t]=E[t].count;for(let t in a)e.allVisibleButtons.push(t);for(const[t,o]of Object.entries(D))e.factories[t]=o;const t=o(808).getMessage().innerHTML;e.message=function(e){const t=document.createElement("div");return t.innerHTML=e,[t.textContent,t.querySelector("span").textContent]}(t);for(const[t,o]of Object.entries($))e.prestige[t]={cost:o.cost,level:o.level};return e.time.total_time=B,e.time.time_of_save=Date.now(),console.log(e),localStorage.setItem("save",JSON.stringify(e)),e},loadGame:function(){console.log("Loading Game");var e=JSON.parse(localStorage.getItem("save"));if(console.log(e),null!==e){if(void 0!==e.resources)for(let t in e.resources)"undefined"!==t.valueOf()&&null!==t&&(A[t].value=e.resources[t].value,A[t].max=e.resources[t].max,console.log("Updating resources for "+t+" to "+e.resources[t].value,e.resources[t].max),0!=A[t].value&&o(453).updateDisplayValue(t));if(void 0!==e.skills)for(let t in e.skills)j[t].exp=e.skills[t].exp,j[t].level=e.skills[t].level;if(void 0!==e.craftedResources)for(var t of Object.keys(e.craftedResources))S[t]&&(S[t].value=e.craftedResources[t].value,Number.isNaN(S[t].value)&&(S[t].value=0),S[t].craftedOnce=e.craftedResources[t].craftedOnce,o(453).updateDisplayValue(t));if(void 0!==e.tools){let t=[...new Set([...r(),...e.tools])];for(let e in t)i(e)}if(void 0!==e.stages)for(let t in e.stages)d(e.stages[t]);if(void 0!==e.jobs)for(let t in e.jobs)y[t]=e.jobs[t],w(t);if(void 0!==e.unlocks)for(let t in e.unlocks)try{M[t].isPondered=e.unlocks[t]}catch(e){console.warn("Old save data includes obsolete ponder",t)}if(m("skillsTable")&&c(),void 0!==e.buildings){for(let t in e.buildings)try{E[t].count=e.buildings[t],E[t].count>0&&(F(t,E[t].count),O(t,E,h))}catch(e){console.warn("error with building",t)}R()}if(L(),I(),C(A.clones.max>=1),T()&&(document.querySelector("#eatFish").style.display="none"),void 0!==e.message&&o(808).changeMessage(e.message[0],e.message[1]),void 0!==e.time){o(808).setTotalTime(e.time[B]);const t=Date.now()-e.time.time_of_save;for(let e in A){const o=s(e,t);A[e].value+=o,A[e].value>A[e].max&&(A[e].value=A[e].max)}}if(void 0!==e.allVisibleButtons){console.log(e.allVisibleButtons);for(let t in e.allVisibleButtons)l(t)}void 0!==e.connections&&(v(new Map(e.connections)),0===k().size&&v(new Map),console.log(k()));for(let e in y)x(e,y[e]);if(n(),void 0!==e.perks)for(let[t,s]of Object.entries(e.perks))g(s),o(495).selectCorrectPerkButton(s);if(void 0!==e.factories)for(const[t,o]of Object.entries(e.factories))if(o>0)for(let e=0;e<o;++e)P(t);if(void 0!==e.prestige)for(const[t,o]of Object.entries(e.prestige))$[t].cost=o.cost,$[t].level=o.level}}}},495:(e,t)=>{t.selectCorrectPerkButton=function(e){let t,o=document.querySelectorAll(".tierOneButton");try{t=document.querySelector(`#${e}Perk`)}catch(e){}t?(o.forEach((e=>{e.setAttribute("disabled","true")})),console.log(t,e),t.removeAttribute("disabled"),t.classList.add("selected")):console.warn("No button found with ability name: "+e)}},453:(e,t,o)=>{const{calcIncrease:s}=o(121),{capitalizeFirst:n}=o(681),{getMaterial:i}=o(924),{getMax:r}=o(78),{resources:a}=o(587),{isPondered:c}=o(369);function l(e){var t=!0;return i(e)>0&&(t=!1,a[e]&&(a[e].isVisible=!0)),a[e]&&a[e].isVisible&&(t=!1),t}function d(e){function t(e,t){return e<10?o(e,2)+t:e<100?o(e,1)+t:e<1e3?o(e,0)+t:Math.round(e)+t}function o(e,t){const o=Math.pow(10,t);return(Math.round(e*o)/o).toFixed(t)}return e<1e3?o(e,1):e<1e6?t(e/1e3,"K"):e<1e9?t(e/1e6,"M"):e<1e12?t(e/1e9,"B"):(e===1/0&&(e="âˆž"),e.toString())}const u=document.getElementById("resources");function f(e,t){let o;t?(o=document.getElementById(`group-${t}`),o||(o=function(e){const t=document.createElement("div");t.className="resourceGroup",t.id=`group-${e}`;const o=document.createElement("button");return o.textContent=e.toUpperCase(),o.onclick=()=>function(e){const t=document.getElementById(`group-${e}`),o=document.getElementById(`toggle-${e}`);Array.from(t.children).forEach((e=>{"P"===e.tagName&&e.classList.toggle("hidden")})),o.classList.contains("arrow-down")?(o.classList.remove("arrow-down"),o.classList.add("arrow-right")):(o.classList.remove("arrow-right"),o.classList.add("arrow-down"))}(e),o.className="toggle-button arrow-down",o.id=`toggle-${e}`,t.appendChild(o),t}(t),u.appendChild(o))):o=document.getElementById("resources");const s=n(e).split("_").join(" "),a=document.createElement("p");a.className="resource",a.id=`resource-${e}`;const c=document.createElement("span");c.className="resourceName",c.textContent=`${s}:`;const l=document.createElement("span");l.className="resourceValue",l.id=`${e}Value`;let d=r(e)&&r(e)<1/0?r(e).toFixed(2):"âˆž";l.textContent=`${i(e).toFixed(2)} / ${d}`;const f=document.createElement("span");function p(e,t){const o=document.getElementById(e);o&&(o.style.order=t)}return f.className="resourceRate",f.innerHTML=`(+\n            <span id="${e}IncreaseRate">0</span>/s)`,a.appendChild(c),a.appendChild(l),a.appendChild(f),o.appendChild(a),p("resource-clones",1),p("resource-sticks",2),p("resource-vines",3),p("resource-rocks",4),p("resource-fish",5),p("resource-freshwater",6),p("resource-wood",7),p("resource-ore",8),p("resource-sand",9),p("resource-clay",10),p("resource-wheat",11),p("resource-hides",12),p("resource-game",13),p("resource-herbs",14),p("resource-berries",15),p("resource-ponder",50),a}function p(e){const t=u.querySelector(`#${e}Value`),o=u.querySelector(`#${e}IncreaseRate`);if(t){try{let n=r(e)&&r(e)<1/0?r(e).toFixed(1):"âˆž";t.textContent=`${i(e).toFixed(1)} / ${n}`,o&&(o.textContent=s(e,1e3).toFixed(1)),console.log(e,l(e),i(e)),l(e)?t.parentElement.style.display="none":t.parentElement.style.display=""}catch(o){console.error(t,e,o)}if(a[e]&&a[e].isGetting){const t=document.querySelector("#resources").querySelector("#resource-"+e);t&&(t.style.fontWeight="bold")}}}e.exports={updateSidebar:function(){const e=o(51).allMaterials;Array.from(e).forEach((e=>{a[e]&&p(e)}));for(const[o,s]of Object.entries(e)){if(a[s])continue;const e=document.getElementById("resource-"+s);if(!e)return void console.warn("no parent element found for",s);l(s)?e.style.display="none":e.style.display="";const o=document.getElementById(s+"Value");if(o){var t="#fff";const e=i(s),n=r(s);e===n?t="#fcc":e/n>.6&&(t="#eeb"),o.innerHTML=`<span style="color:${t}">${d(e)} / ${d(n)} </span>`}}},initializeResourceTags:function(e){console.log("initialzing resource tags"),console.trace();const t={special:["clones","husks","ponder"],basics:["sticks","berries","fish","game","wheat","freshwater"],materials:["wood","sand","clay","vines","rocks","hides","herbs"],tools:["sharprocks","rope","handle","fishingrod","pickaxe","axe","spear","staff"],advanced:["glass","paper","crates","medicine","leather"],metal:["ore","gold","iron","silver","steel"],construction:["bricks","beams","nails","slabs","concrete"]};for(let[o,s]of Object.entries(t))s.forEach((t=>{console.log(t,o);let s=document.getElementById("resource-"+t);e||(o=null),s||(s=f(t,o)),console.log(s),console.log(t,l(t),i(t)),l(t)?s.style.display="none":s.style.display=""}))},updateDisplayValue:p}},751:e=>{let t=[];e.exports={setStage:function(e){t.push(e)},passedStage:function(e){return Object.values(t).includes(e)},getAllStages:function(){return t},resetStages:function(){for(;t.length>0;)t.pop()}}},609:e=>{let t=["Bare Hands"];function o(e){return t.includes(e)}e.exports={hasTool:o,addTool:function(e){(isNaN(e)||isNaN(parseFloat(e)))&&(o(e)||(t.push(e),function(e){var t=document.getElementById("tools-list"),o=document.createElement("li");o.appendChild(document.createTextNode(e)),t&&t.appendChild(o)}(e)))},getAllTools:function(){return t},getToolValueForResource:function(e){if(!e)return 1;if(!e.tools)return 1;const t=e.tools.sort(((e,t)=>t.val-e.val));for(let e of t)if(o(e.tool))return e.val;return 1}}},864:(e,t,o)=>{const{getMaterial:s}=o(924),n=document.getElementById("resourceList"),i=document.getElementById("goldAmount");function r(e,t){s("gold",o(587).resources)>=t&&(o(594).increaseMaterial("gold",-t),o(594).increaseMaterial(e,t),i.textContent=s("gold",o(587).resources))}function a(e,t){s(e,o(587).resources)>=1&&(o(594).increaseMaterial("gold",t),o(594).increaseMaterial(e,-1),i.textContent=s("gold",o(587).resources))}t.generateTradeTable=function(e){for(let t in e){const e=document.createElement("tr"),o=Math.floor(100*Math.random())+10;e.innerHTML=`\n            <td class="tradetd">${t}</td>\n            <td class="tradetd">${o}</td>\n            <td class="tradetd" style="display:flex; flex-direction:row;">\n                <button class="buyBtn" data-resource="${t}" data-price="${o}">Buy</button>\n                <button class="sellBtn" data-resource="${t}" data-price="${o}">Sell</button>\n            </td>\n        `,n.appendChild(e)}document.querySelectorAll(".buyBtn").forEach((e=>{e.addEventListener("click",(e=>{r(e.target.getAttribute("data-resource"),parseFloat(e.target.getAttribute("data-price")))}))})),document.querySelectorAll(".sellBtn").forEach((e=>{e.addEventListener("click",(e=>{a(e.target.getAttribute("data-resource"),parseFloat(e.target.getAttribute("data-price")))}))}))},t.buyResource=r,t.sellResource=a},727:(e,t)=>{t.triggerFloatUpText=function(e,t,o,s){const n=document.createElement("div");n.textContent=o,n.style.left=`${e}px`,n.style.top=t-30+"px",n.style.color=s,n.classList.add("float-up-fade-out"),document.body.appendChild(n),n.addEventListener("animationend",(()=>{n.remove()}))}},994:(e,t,o)=>{const{getMaterial:s}=o(924),{getMax:n}=o(78);t.updateBounceAnimation=function e(){const t=document.getElementById("alone");s("clones")<n("clones")?(t.classList.add("bouncing"),setTimeout((()=>{t.classList.remove("bouncing"),t.offsetHeight,e()}),11e3)):t.classList.remove("bouncing")}},607:(e,t,o)=>{const{capitalizeFirst:s}=o(681);t.updateBuildingButtonCount=function(e,t){document.getElementById(`${e}`).textContent=`${s(e).split("_").join(" ")} (${t})`}},831:(e,t,o)=>{const{buildings:s}=o(882),{updateTooltip:n,hideTooltip:i}=o(208),{fitCharToCell:r}=o(531);t.updateBuildingList=function(){const e=document.getElementById("buildingList");e.innerHTML="";let t=0;for(const[o,n]of Object.entries(s))for(let s=0;s<n.count;++s,++t){let s=(t%6+1).toString(),i=Math.floor(t/6+1).toString();e.innerHTML+=`<span class = 'tooltip' style='grid-column:${s}; grid-row:${i}; font-size:36px' tooltipDesc='${o}'>${n.emoji||"?"}</span>`}e.querySelectorAll("span.tooltip").forEach((e=>{e.addEventListener("mouseenter",(()=>{n(e)})),e.addEventListener("mouseleave",(()=>{i()}))}))}},667:(e,t,o)=>{const{buttons:s}=o(54),{getCraftedResourceConfigById:n}=o(371),{getBuildingCount:i}=o(882),{isPondered:r,canUnlock:a}=o(369),{getCraftedResourceKeyByConfig:c}=o(371),{isButtonIdVisible:l,setVisibleButton:d}=o(78),{canCraft:u}=o(64),{canBuyBuilding:f}=o(23),{passedStage:p}=o(751);t.updateButtonVisibility=function(){document.querySelectorAll("button").forEach((e=>{const t=s[e.id];if(t){e.classList.remove("hidden","purchasable","button-disabled");var o="hidden";e.id&&l(e.id)&&(o="button-disabled");try{t.requirement&&t.requirement()&&(o="button-disabled",t.tab&&!t.data_building&&"production"===t.tab&&(o="purchasable"),e.id&&"gatherPonder"===e.id&&(o="purchasable"),t.tab&&"ponder"===t.tab&&e.id&&e.classList.contains("unlock")&&(a(e.id)&&(o="purchasable"),r(e.getAttribute("unlock"))&&(o="hidden")),t.tab&&"tabs"===t.tab&&(o="visible"))}catch(e){}if(t.id&&"craft"===t.id.slice(0,5)){t.craftedOnce&&(o="button-disabled");var g=n(t.id);g.value>0&&(o="button-disabled");const e=c(g);u(e)&&(o=!t.requiredStage||t.requiredStage&&p(t.requiredStage)?"purchasable":"hidden")}t.data_building&&(o=i(t.data_building)?"button-disabled":o,o=f(t.data_building)?"purchasable":o),t.hide&&(o=t.hide()?"hidden":o),""!==o&&e.classList.add(o),"hidden"===o?e.style.display="none":(d(e.id),e.style.display="")}})),document.querySelectorAll(".job-button").forEach((e=>{const t=e.getAttribute("data-job");e.classList.remove("hidden","purchasable","button-disabled");var s;const n=o(842).O[t];"hidden"==(s=null==n||r(n)?"purchasable":"not-unlockable"===n?"hidden":"button-disabled")?e.style.display="none":(d(e.id),e.classList.add(s),e.style.display="")}))}},208:(e,t,o)=>{const{getCraftedResourceConfigById:s}=o(371),{buildings:n}=o(882),{ponders:i}=o(397),{resources:r,getResourceConfigById:a}=o(587),{calcSecondsRemaining:c}=o(594),{getMax:l}=o(78),{getMaterial:d}=o(924),u=document.getElementById("dynamic-tooltip");t.hideTooltip=function(){u.style.display="none"},t.updateTooltip=function(e){const t=e.getAttribute("data-tooltip-desc")||e.getAttribute("tooltipDesc"),o=e.getAttribute("data-tooltip-effect"),f=a(e.id)||s(e.id)||n[e.getAttribute("data_building")]||i[e.getAttribute("unlock")],p=f&&f.cost||e.getAttribute("tooltipCost")||e.getAttribute("data-tooltip-cost");!function(e,t,o,s){let n="";if(t&&(n+=`<span >${t}</span><hr>`),o&&(n+=`<span style="color:#4cf">${o}</span><hr>`),s)try{var i="";for(const[e,t]of Object.entries(s)){var a=d(e,r)>=t?"enough":"not-enough";l(e)<t&&(a="exceeds-max"),i+=`<span class="tooltip-${e} ${a}">${t.toFixed(0)} ${e}</span>`;let o=0;r[e]&&(o=c(e,t)),o>0&&"exceeds-max"!=a&&(i+=`<span class="time-remaining">(${o.toFixed(0)} seconds)</span>`),i+="<br>"}n+=i}catch(e){n+=s}u.innerHTML=n,u.style.left=e.getBoundingClientRect().right+5+"px",u.style.top=e.getBoundingClientRect().top-u.offsetHeight/2+"px",u.style.display="block"}(e,t,o,p)}}},t={};!function o(s){var n=t[s];if(void 0!==n)return n.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,o),i.exports}(808)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0EwUyxHQUFXMVMsQ0FHZixDQUFFLE1BQU8rTSxHQUNMMkYsR0FBVzlXLENBRWYsQ0FJSmdtQixFQUFReGYsVUFBWXNRLEVBRXBCa1AsRUFBUS9mLE1BQU1pRSxLQUFRMFEsRUFBT2hRLHdCQUF3QnliLE1BQVEsRUFBSyxLQUVsRUwsRUFBUS9mLE1BQU1rRSxJQUFPeVEsRUFBT2hRLHdCQUF3QlQsSUFBTTZiLEVBQVFsZCxhQUFlLEVBQUssS0FFdEZrZCxFQUFRL2YsTUFBTXlELFFBQVUsT0FDNUIsQ0FlSTRjLENBQVlwTixFQUFRK00sRUFBTUMsRUFBUWxtQixFQUN0QyxDLEdDckVJdW1CLEVBQTJCLENBQUMsR0FHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQjdWLElBQWpCOFYsRUFDSCxPQUFPQSxFQUFhdG9CLFFBR3JCLElBQUlELEVBQVNvb0IsRUFBeUJFLEdBQVksQ0FHakRyb0IsUUFBUyxDQUFDLEdBT1gsT0FIQXVvQixFQUFvQkYsR0FBVXRvQixFQUFRQSxFQUFPQyxRQUFTb29CLEdBRy9Dcm9CLEVBQU9DLE9BQ2YsQ0NuQjBCb29CLENBQW9CLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9hdGVGaXNoLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2J1aWxkaW5ncy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9jYWxjSW5jcmVhc2UuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvY2FuQnV5QnVpbGRpbmcuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvY2FuQ3JhZnQuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvY2FwaXRhbGl6ZUZpcnN0LmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2ZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvZml0Q2hhclRvQ2VsbC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9nZXRDcmFmdGVkUmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvZ2V0TWF0ZXJpYWwuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvaGVscGVyLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pvYlJlcXVpcmVkUG9uZGVycy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qb2JzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vYnVpbGRpbmdzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vYnV0dG9ucy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9wZXJrcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL3BvbmRlci5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL3ByZXN0aWdlLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vcmVzb3VyY2VzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vc2tpbGxzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL21haW4uanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvbWFrZVZpc2libGUuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvcGVya3MuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvcG9uZGVyLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3JlY2FsY01heENsb25lcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9yZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvc2F2aW5nLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3NlbGVjdENvcnJlY3RQZXJrQnV0dG9uLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3NpZGViYXIuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvc3RhZ2VzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3Rvb2xzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3RyYWRlLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3RyaWdnZXJGbG9hdFVwVGV4dC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy91cGRhdGVCb3VuY2VBbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy91cGRhdGVCdWlsZGluZ0xpc3QuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvdXBkYXRlQnV0dG9uVmlzaWJpbGl0eS5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy91cGRhdGVUb29sdGlwLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGF0ZUZpc2ggPSBmYWxzZTtcclxuXHJcbmZ1bmN0aW9uIHNldEF0ZUZpc2goYm9vbCkge1xyXG4gICAgYXRlRmlzaCA9IGJvb2w7XHJcbiAgICByZXR1cm4gYXRlRmlzaDtcclxufVxyXG5mdW5jdGlvbiBnZXRBdGVGaXNoKCkge1xyXG4gICAgcmV0dXJuIGF0ZUZpc2g7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgYXRlRmlzaCxcclxuICAgIHNldEF0ZUZpc2gsXHJcbiAgICBnZXRBdGVGaXNoXHJcbn07IiwiY29uc3QgeyBidWlsZGluZ3MsIGlzUG9wQnVpbGRpbmcgfSA9IHJlcXVpcmUoJy4vanNvbi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKCcuL2pzb24vYnV0dG9ucycpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGluY3JlYXNlTWF0ZXJpYWwsIGluY3JlYXNlTWF4LCB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyB1cGRhdGVUb3RhbCB9ID0gcmVxdWlyZSgnLi9qb2JzJyk7XHJcbmNvbnN0IHsgaGFzUGVyayB9ID0gcmVxdWlyZSgnLi9wZXJrcycpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgcGFzc2VkU3RhZ2UgfSA9IHJlcXVpcmUoJy4vc3RhZ2VzJyk7XHJcbmNvbnN0IHsgcmVjYWxjTWF4Q2xvbmVzIH0gPSByZXF1aXJlKCcuL3JlY2FsY01heENsb25lcycpO1xyXG5jb25zdCB7IHVwZGF0ZVNpZGViYXIgfSA9IHJlcXVpcmUoJy4vc2lkZWJhcicpO1xyXG5jb25zdCB7IHVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQgfSA9IHJlcXVpcmUoJy4vdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCcpO1xyXG5jb25zdCB7IHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0IH0gPSByZXF1aXJlKCcuL3JlY2FsY3VsYXRlQnVpbGRpbmdDb3N0Jyk7XHJcbmNvbnN0IHsgY2FuQnV5QnVpbGRpbmcgfSA9IHJlcXVpcmUoJy4vY2FuQnV5QnVpbGRpbmcnKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkIH0gPSByZXF1aXJlKCcuL3BvbmRlcicpO1xyXG5jb25zdCB7IHVwZGF0ZUJ1aWxkaW5nTGlzdCB9ID0gcmVxdWlyZSgnLi91cGRhdGVCdWlsZGluZ0xpc3QnKTtcclxuXHJcbi8qIEJVSUxESU5HUyAqL1xyXG5cclxuXHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBidWlsZGluZyBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUVmZmVjdFN0cmluZyhidWlsZGluZykge1xyXG4gICAgbGV0IGVmZmVjdFBhcnRzID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgW3Jlc291cmNlLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuZWZmZWN0cykpIHtcclxuICAgICAgICAvLyBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZWZmZWN0KSkge1xyXG4gICAgICAgIGVmZmVjdFBhcnRzLnB1c2goYCske3ZhbHVlfSBtYXggJHtyZXNvdXJjZX1gKTtcclxuICAgICAgICAvLyBBZGQgbW9yZSBjb25kaXRpb25zIGhlcmUgaWYgeW91IGludHJvZHVjZSBuZXcgdHlwZXMgb2YgZWZmZWN0c1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBbcmVzb3VyY2UsIGJvb3N0XSBvZiBPYmplY3QuZW50cmllcyhidWlsZGluZy5ib29zdCkpIHtcclxuICAgICAgICBsZXQgcGVyY2VudGFnZUJvb3N0ID0gTWF0aC5yb3VuZCgoYm9vc3QgLSAxKSAqIDEwMCk7XHJcbiAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ2VmZmVjdGl2ZUJ1aWxkaW5ncycpKSBwZXJjZW50YWdlQm9vc3QgKj0gMS4wMTtcclxuICAgICAgICBlZmZlY3RQYXJ0cy5wdXNoKGArJHtwZXJjZW50YWdlQm9vc3R9JSAke3Jlc291cmNlfSBwcm9kdWN0aW9uYCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlZmZlY3RQYXJ0cy5qb2luKCcsICcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJ1aWxkaW5nVG9vbHRpcENvc3QoY29zdCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGNvc3QpLm1hcCgoW21hdGVyaWFsLCBhbW91bnRdKSA9PiBgJHthbW91bnQudG9GaXhlZCgyKX0gJHttYXRlcmlhbH1gKS5qb2luKCdcXG4nKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUJ1aWxkaW5nQnV0dG9uKGJ1aWxkaW5nS2V5LCBidWlsZGluZ3MpIHtcclxuICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nS2V5XTtcclxuXHJcbiAgICAvLyBidWlsZGluZy5jb3N0ID0gYnVpbGRpbmcuYmFzZWNvc3Q7XHJcbiAgICBidWlsZGluZy5jb3N0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShidWlsZGluZy5iYXNlY29zdCkpO1xyXG5cclxuICAgIGNvbnN0IGNvc3RzID0gT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuY29zdClcclxuICAgICAgICAubWFwKChbbWF0ZXJpYWwsIGFtb3VudF0pID0+IGAke21hdGVyaWFsfTogJHthbW91bnR9YClcclxuICAgICAgICAuam9pbignLCAnKTtcclxuXHJcbiAgICAvLyBjb25zdCBoYWxmQ29zdFJlcXVpcmVtZW50ID0gT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuY29zdClcclxuICAgIC8vICAgICAubWFwKChbbWF0ZXJpYWwsIGFtb3VudF0pID0+IGBnZXRNYXRlcmlhbCgnJHttYXRlcmlhbH0scmVzb3VyY2VzJykgPj0gJHtNYXRoLmZsb29yKGFtb3VudCAvIDIpfWApXHJcbiAgICAvLyAgICAgLmpvaW4oJyAmJiAnKTtcclxuXHJcbiAgICAvLyBsZXQgcmVxdWlyZW1lbnRTdHJpbmcgPSBgcmV0dXJuICR7aGFsZkNvc3RSZXF1aXJlbWVudH1gO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSBidWlsZGluZyBoYXMgYW4gZWZmZWN0IG9uIGNsb25lcyBtYXhcclxuICAgIC8vIGlmIChidWlsZGluZy5lZmZlY3RzICYmIGJ1aWxkaW5nLmVmZmVjdHNbJ2Nsb25lcyddKSB7XHJcbiAgICAvLyAgICAgcmVxdWlyZW1lbnRTdHJpbmcgKz0gYCAmJiBwYXNzZWRTdGFnZSgnY2xvbmVzJylgO1xyXG4gICAgLy8gfVxyXG4gICAgY29uc3QgcmVxdWlyZW1lbnRGdW5jdGlvbiA9IGNyZWF0ZVJlcXVpcmVtZW50RnVuY3Rpb24oYnVpbGRpbmcuY29zdCwgYnVpbGRpbmdLZXkpO1xyXG5cclxuICAgIGNvbnN0IGJ1dHRvbiA9IHtcclxuICAgICAgICAnY2xhc3MnOiAndG9vbHRpcCAnICsgYnVpbGRpbmdLZXksXHJcbiAgICAgICAgJ3RhYic6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICAndGV4dCc6IGAke2J1aWxkaW5nS2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgYnVpbGRpbmdLZXkuc2xpY2UoMSl9YCxcclxuICAgICAgICAndG9vbHRpcERlc2MnOiBidWlsZGluZ3NbYnVpbGRpbmdLZXldLnRvb2x0aXBEZXNjIHx8IFwiQSBteXN0ZXJpb3VzIGJ1aWxkaW5nIHdpdGggdW50b2xkIGJlbmVmaXRzLlwiLFxyXG4gICAgICAgICd0b29sdGlwQ29zdCc6IGNvc3RzLFxyXG4gICAgICAgICdyZXF1aXJlbWVudCc6ICgpID0+IHJlcXVpcmVtZW50RnVuY3Rpb24oKSxcclxuICAgICAgICAnZGF0YV9idWlsZGluZyc6IGJ1aWxkaW5nS2V5LFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gYnV0dG9uO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVSZXF1aXJlbWVudEZ1bmN0aW9uKGNvc3RzLCBidWlsZGluZ0tleSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBjb3N0Q29uZGl0aW9uID0gT2JqZWN0LmVudHJpZXMoY29zdHMpXHJcbiAgICAgICAgICAgIC5ldmVyeSgoW21hdGVyaWFsLCBhbW91bnRdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNFbm91Z2hSZXNvdXJjZSA9IGdldE1hdGVyaWFsKG1hdGVyaWFsKSA+PSBNYXRoLmZsb29yKGFtb3VudCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYENoZWNraW5nICR7bWF0ZXJpYWx9OiBOZWVkICR7TWF0aC5mbG9vcihhbW91bnQgLyAyKX0sIEhhdmUgJHtnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKX0sIFJlc3VsdDogJHtoYXNFbm91Z2hSZXNvdXJjZX1gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNFbm91Z2hSZXNvdXJjZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYFBhc3NlZFN0YWdlIGZvciAke2J1aWxkaW5nS2V5fTogJHtwYXNzZWRTdGFnZSgnY2xvbmVzJyl9YCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYENvc3QgY29uZGl0aW9uIGZvciAke2J1aWxkaW5nS2V5fTogJHtjb3N0Q29uZGl0aW9ufWApO1xyXG5cclxuICAgICAgICByZXR1cm4gcGFzc2VkU3RhZ2UoJ2Nsb25lcycpICYmIGNvc3RDb25kaXRpb247XHJcbiAgICB9O1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gY29uc29sZS5sb2coYnV0dG9ucyk7XHJcblxyXG5mdW5jdGlvbiBnZXRCdWlsZGluZ0Nvc3QoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICByZXR1cm4gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV0uY29zdDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgY29uc29sZS5sb2coXCJCdXlpbmcgYnVpbGRpbmcgXCIgKyBidWlsZGluZ05hbWUpO1xyXG4gICAgY29uc3QgYnVpbGRpbmcgPSBidWlsZGluZ3NbYnVpbGRpbmdOYW1lXTtcclxuXHJcblxyXG5cclxuICAgIGlmICghY2FuQnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKSkgcmV0dXJuO1xyXG4gICAgLy8gQWN0dWFsbHkgYnVpbGQgdGhlIGJ1aWxkaW5nXHJcbiAgICBidWlsZGluZy5jb3VudCsrO1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IHRoZSBjb3N0XHJcbiAgICBmb3IgKGNvbnN0IHJlc291cmNlIGluIGJ1aWxkaW5nLmNvc3QpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlJlZHVjaW5nIFwiLCByZXNvdXJjZSwgXCJieVwiLCBidWlsZGluZy5jb3N0W3Jlc291cmNlXSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coaW5jcmVhc2VNYXRlcmlhbCk7XHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChyZXNvdXJjZSwgLWJ1aWxkaW5nLmNvc3RbcmVzb3VyY2VdKTtcclxuICAgIH1cclxuICAgIC8vIEFkZCB0aGUgZWZmZWN0c1xyXG4gICAgZm9yIChjb25zdCBbcmVzb3VyY2UsIGFtb3VudF0gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuZWZmZWN0cykpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnYm91Z2h0IGJ1aWxkaW5nIGVmZmVjdHMnLCByZXNvdXJjZSwgYW1vdW50KTtcclxuICAgICAgICBpbmNyZWFzZU1heChyZXNvdXJjZSwgYW1vdW50KTtcclxuICAgICAgICAvLyBVcGRhdGUgbWF4IGNsb25lcyBhZnRlciB1cGRhdGluZyB0aGUgY291bnRcclxuICAgICAgICBpZiAocmVzb3VyY2UgPT09ICdjbG9uZXMnKSB7XHJcbiAgICAgICAgICAgIHJlY2FsY01heENsb25lcygpO1xyXG4gICAgICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gVXBkYXRlIGJ1dHRvbiB0ZXh0XHJcbiAgICB1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50KGJ1aWxkaW5nTmFtZSwgYnVpbGRpbmcuY291bnQpO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgY29zdCBvZiB0aGUgYnVpbGRpbmdcclxuICAgIHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGJ1aWxkaW5nTmFtZSwgYnVpbGRpbmdzLCBoYXNQZXJrKTtcclxuXHJcblxyXG4gICAgdXBkYXRlQnVpbGRpbmdMaXN0KCk7XHJcbn1cclxuZnVuY3Rpb24gYnV5TWF4QnVpbGRpbmdzKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgbGV0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV07XHJcbiAgICAvLyBUT0RPIHVwZGF0ZSB3aXRoIGNvb2wgZm9ybXVsYVxyXG4gICAgLy8gTWF0aC5mbG9vcihNYXRoLmxvZygoY3VycmVuY3kgKiAoYnVpbGRpbmcucmF0aW8gLSAxKSkgLyAoYnVpbGRpbmcuYmFzZWNvc3QgKiBNYXRoLnBvdyhidWlsZGluZy5yYXRpbywgYnVpbGRpbmcuY291bnQpKSkgLyBNYXRoLmxvZyhidWlsZGluZy5yYXRpbykpO1xyXG4gICAgd2hpbGUgKGNhbkJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkpIHtcclxuICAgICAgICBidXlCdWlsZGluZyhidWlsZGluZ05hbWUpO1xyXG4gICAgICAgICsraTtcclxuICAgIH1cclxuICAgIHJldHVybiBpO1xyXG59XHJcblxyXG4vLyBmdW5jdGlvbiBkb3VibGVTdG9yYWdlRWZmZWN0c0lmUGFzc2VkKCkge1xyXG4vLyAgICAgaWYgKHBhc3NlZFN0YWdlKFwiZG91YmxlU3RvcmFnZTFcIikpIHtcclxuLy8gICAgICAgICBmb3IgKGxldCBidWlsZGluZ0tleSBpbiBidWlsZGluZ3MpIHtcclxuLy8gICAgICAgICAgICAgbGV0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nS2V5XTtcclxuXHJcbi8vICAgICAgICAgICAgIGlmIChidWlsZGluZy5lZmZlY3RzKSB7XHJcbi8vICAgICAgICAgICAgICAgICBmb3IgKGxldCBtYXRlcmlhbCBpbiBidWlsZGluZy5lZmZlY3RzKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmcuZWZmZWN0c1ttYXRlcmlhbF0ubWF4ICo9IDI7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGdlbmVyYXRlQnVpbGRpbmdUb29sdGlwQ29zdCxcclxuICAgIGNyZWF0ZUJ1aWxkaW5nQnV0dG9uLFxyXG4gICAgYnV5TWF4QnVpbGRpbmdzLFxyXG4gICAgYnV5QnVpbGRpbmcsXHJcbiAgICBnZW5lcmF0ZUVmZmVjdFN0cmluZyxcclxuICAgIHVwZGF0ZUJ1aWxkaW5nTGlzdFxyXG59OyIsImNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL3Jlc291cmNlc1wiKTtcclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5cclxuY29uc3QgeyBza2lsbHMgfSA9IHJlcXVpcmUoJy4vanNvbi9za2lsbHMnKTtcclxuY29uc3QgeyBnZXRXb3JrZXJzIH0gPSByZXF1aXJlKCcuL2pvYnMnKTtcclxuY29uc3QgeyBoYXNQZXJrIH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBnZXRGYWN0b3J5UHJvZHVjdGlvbiB9ID0gcmVxdWlyZShcIi4vZmFjdG9yeVwiKTtcclxuY29uc3QgeyBoYXNQcmVzdGlnZSwgZ2V0TGV2ZWxPZlByZXN0aWdlIH0gPSByZXF1aXJlKFwiLi9qc29uL3ByZXN0aWdlXCIpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKFwiLi9nZXRNYXRlcmlhbFwiKTtcclxuY29uc3QgeyBoYXNUb29sIH0gPSByZXF1aXJlKFwiLi90b29sc1wiKTtcclxuXHJcbi8vIENsb25lcyB3b3JrIGF0IDEvNCB0aGUgc3BlZWQgYnkgZGVmYXVsdFxyXG52YXIgY2xvbmVNdWx0ID0gMC4yNTtcclxuLy8gY29uc29sZS5sb2coJ2luaXRpYWwnLCB3b3JrZXJzRGlzdHJpYnV0aW9uKTtcclxuZnVuY3Rpb24gY2FsY0luY3JlYXNlKHJlc291cmNlTmFtZSwgZGVsdGFfdGltZSkge1xyXG4gICAgdmFyIHRvdGFsID0gMDtcclxuICAgIGNvbnN0IGJ1aWxkaW5ncyA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpLmJ1aWxkaW5ncztcclxuICAgIC8vIGNsb25lcyBpbmNyZWFzZSBieSAxIHBlciBzZWNvbmQgYXMgbG9uZyBhcyB0aGVyZSdzIHNwYWNlXHJcbiAgICAvLyBpZiAocmVzb3VyY2UgPT09ICdjbG9uZXMnICYmIHBhc3NlZFN0YWdlKCdjbG9uZScpKSB7XHJcbiAgICAvLyAgICAgdG90YWwgPSAxO1xyXG4gICAgLy8gICAgIHJldHVybiB0b3RhbDtcclxuICAgIC8vIH1cclxuICAgIGlmICghcmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlTmFtZSkpIHtcclxuICAgICAgICBpZiAoY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZU5hbWUpKSB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIG91ciBmYWN0b3JpZXNcclxuICAgICAgICAgICAgdG90YWwgPSBnZXRGYWN0b3J5UHJvZHVjdGlvbihyZXNvdXJjZU5hbWUpO1xyXG4gICAgICAgICAgICBpZiAodG90YWwgPiAwKSByZXR1cm4gdG90YWw7IC8vIERvbid0IGFwcGx5IHNraWxscyB0byBmYWN0b3JpZXNcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSByZXR1cm4gdG90YWw7IC8vIGlmIG5vdCBhIHJlc291cmNlIG9yIGEgY3JhZnRlZCByZXNvdXJjZSwgcmV0dXJuIDBcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmVzb3VyY2VOYW1lID09PSAnY2xvbmVzJyAmJiBpc1BvbmRlcmVkKCdhdXRvQ2xvbmUnKSkgdG90YWwgPSAxO1xyXG5cclxuICAgIC8vIEdhdGhlcmluZyBwZXJzb25hbGx5XHJcbiAgICBpZiAocmVzb3VyY2VzW3Jlc291cmNlTmFtZV0gJiYgcmVzb3VyY2VzW3Jlc291cmNlTmFtZV0uaXNHZXR0aW5nKSB7XHJcbiAgICAgICAgdG90YWwgKz0gMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBqb2JzXHJcbiAgICBsZXQgbGVhZGVyTXVsdCA9IGhhc1BlcmsoJ0xlYWRlcicpID8gY2xvbmVNdWx0ICogMS41IDogY2xvbmVNdWx0O1xyXG4gICAgdG90YWwgKz0gbGVhZGVyTXVsdCAqIGdldFdvcmtlcnMocmVzb3VyY2VOYW1lKSB8fCAwO1xyXG5cclxuXHJcbiAgICAvLyBBcHBseSBwZXJrcyBwcm9kdWN0aW9uIGJvb3N0XHJcbiAgICBpZiAoaGFzUGVyaygnTHVtYmVyamFjaycpICYmIChyZXNvdXJjZU5hbWUgPT0gJ3dvb2QnIHx8IHJlc291cmNlTmFtZSA9PSAnc3RpY2tzJykpIHRvdGFsICo9IDEuNzU7XHJcbiAgICBpZiAoaGFzUGVyaygnTWluZXInKSAmJiAocmVzb3VyY2VOYW1lID09ICdyb2NrcycgfHwgcmVzb3VyY2VOYW1lID09ICdvcmUnKSkgdG90YWwgKj0gMS43NTtcclxuICAgIGlmIChoYXNQZXJrKCdCb3RhbmlzdCcpICYmIChyZXNvdXJjZU5hbWUgPT0gJ3ZpbmVzJyB8fCByZXNvdXJjZU5hbWUgPT0gJ2hlcmJzJyB8fCByZXNvdXJjZU5hbWUgPT0gJ3doZWF0JykpIHRvdGFsICo9IDEuNzU7XHJcblxyXG4gICAgLy8gQXBwbHkgcHJlc3RpZ2Ugc3BlY2lmaWMgYm9vc3RzXHJcbiAgICAvLyBBcHBseSBza2lsbHMgdG8gYWxsIGNsb25lc1xyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uYWZmZWN0ZWRSZXNvdXJjZXMuaW5jbHVkZXMocmVzb3VyY2VOYW1lKSkge1xyXG4gICAgICAgICAgICBpZiAoc2tpbGwgPT09ICdnYXRoZXJpbmcnICYmIGhhc1ByZXN0aWdlKCdnYXRoZXJpbmdCb29zdCcpKSB0b3RhbCAqPSAxLjEgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ2dhdGhlcmluZ0Jvb3N0Jyk7XHJcbiAgICAgICAgICAgIGlmIChza2lsbCA9PT0gJ21hc29ucnknICYmIGhhc1ByZXN0aWdlKCdtYXNvbnJ5Qm9vc3QnKSkgdG90YWwgKj0gMS4xICogZ2V0TGV2ZWxPZlByZXN0aWdlKCdtYXNvbnJ5Qm9vc3QnKTtcclxuICAgICAgICAgICAgaWYgKHNraWxsID09PSAnY2FycGVudHJ5JyAmJiBoYXNQcmVzdGlnZSgnY2FycGVudHJ5Qm9vc3QnKSkgdG90YWwgKj0gMS4xICogZ2V0TGV2ZWxPZlByZXN0aWdlKCdjYXJwZW50cnlCb29zdCcpO1xyXG4gICAgICAgICAgICBpZiAoc2tpbGwgPT09ICd0aGlua2luZycgJiYgaGFzUHJlc3RpZ2UoJ3RoaW5raW5nQm9vc3QnKSkgdG90YWwgKj0gMS4xICogZ2V0TGV2ZWxPZlByZXN0aWdlKCd0aGlua2luZ0Jvb3N0Jyk7XHJcbiAgICAgICAgICAgIGlmIChza2lsbCA9PT0gJ2Zhcm1pbmcnICYmIGhhc1ByZXN0aWdlKCdmYXJtaW5nQm9vc3QnKSkgdG90YWwgKj0gMS4xICogZ2V0TGV2ZWxPZlByZXN0aWdlKCdmYXJtaW5nQm9vc3QnKTtcclxuICAgICAgICAgICAgaWYgKHNraWxsID09PSAnZmlzaGluZycgJiYgaGFzUHJlc3RpZ2UoJ2Zpc2hpbmdCb29zdCcpKSB0b3RhbCAqPSAxLjEgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ2Zpc2hpbmdCb29zdCcpO1xyXG4gICAgICAgICAgICBpZiAoc2tpbGwgPT09ICdodW50aW5nJyAmJiBoYXNQcmVzdGlnZSgnaHVudGluZ0Jvb3N0JykpIHRvdGFsICo9IDEuMSAqIGdldExldmVsT2ZQcmVzdGlnZSgnaHVudGluZ0Jvb3N0Jyk7XHJcbiAgICAgICAgICAgIGxldCBza2lsbFJhdGlvID0gMS4wNjtcclxuICAgICAgICAgICAgdmFyIG11bHQgPSAxICsgKE1hdGgucG93KHNraWxsUmF0aW8sIHNraWxsc1tza2lsbF0ubGV2ZWwpIC0gMSkgLyAxMDA7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTXVsdGlwbHlpbmcgZ2FpbiBieSBcIiArIG11bHQpO1xyXG4gICAgICAgICAgICB0b3RhbCAqPSBtdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhnZXRCb29zdCgnY2FtcGZpJykpXHJcbiAgICAvLyBBbGwgYnVpbGRpbmdzIGFmdGVyIGxldmVsXHJcbiAgICBmb3IgKGNvbnN0IGJ1aWxkaW5nIG9mIE9iamVjdC5rZXlzKGJ1aWxkaW5ncykpIHtcclxuICAgICAgICBjb25zdCBib29zdERhdGEgPSByZXF1aXJlKFwiLi9qc29uL2J1aWxkaW5nc1wiKS5nZXRCb29zdChidWlsZGluZywgcmVzb3VyY2VOYW1lKTtcclxuICAgICAgICBpZiAoYm9vc3REYXRhKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5jcmVhc2UgPSBNYXRoLnBvdyhib29zdERhdGEsIGJ1aWxkaW5nc1tidWlsZGluZ10uY291bnQpO1xyXG4gICAgICAgICAgICBpZiAoaXNQb25kZXJlZCgnZWZmZWN0aXZlQnVpbGRpbmdzJykpIGluY3JlYXNlICo9IDEuMDE7XHJcbiAgICAgICAgICAgIHRvdGFsICo9IGluY3JlYXNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyZXNvdXJjZU5hbWUgPT09ICdwb25kZXInKSB7XHJcbiAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ3BvbmRlcjEnKSkgdG90YWwgKj0gMS4wNTtcclxuICAgICAgICBpZiAoaXNQb25kZXJlZCgncG9uZGVyMicpKSB0b3RhbCAqPSAxLjA1O1xyXG4gICAgICAgIGlmIChpc1BvbmRlcmVkKCdwb25kZXIzJykpIHRvdGFsICo9IDEuMDU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ2Zhc3RlclJlc291cmNlR2FpbicpKSB0b3RhbCAqPSAxLjA1O1xyXG4gICAgaWYgKGhhc1ByZXN0aWdlKCdjbG9uZUJvb3N0JykpIHRvdGFsICo9IDEuMDUgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ2Nsb25lQm9vc3QnKTtcclxuXHJcbiAgICAvLyBDaGVjayB0b29sc1xyXG4gICAgaWYgKHJlc291cmNlTmFtZSA9PT0gJ3dvb2QnICYmIGdldE1hdGVyaWFsKCdheGUnKSA+IDEwKSB0b3RhbCAqPSAxICsgTWF0aC5sb2coZ2V0TWF0ZXJpYWwoJ2F4ZScpIC8gMTApO1xyXG4gICAgaWYgKHJlc291cmNlTmFtZSA9PT0gJ29yZScgJiYgZ2V0TWF0ZXJpYWwoJ3BpY2theGUnKSA+IDEwKSB0b3RhbCAqPSAxICsgTWF0aC5sb2coZ2V0TWF0ZXJpYWwoJ3BpY2theGUnKSAvIDEwKTtcclxuICAgIGlmIChyZXNvdXJjZU5hbWUgPT09ICdmaXNoJyAmJiBnZXRNYXRlcmlhbCgnZmlzaGluZ3JvZCcpID4gMTApIHRvdGFsICo9IDEgKyBNYXRoLmxvZyhnZXRNYXRlcmlhbCgnZmlzaGluZ3JvZCcpIC8gMTApO1xyXG4gICAgaWYgKHJlc291cmNlTmFtZSA9PT0gJ2dhbWUnICYmIGdldE1hdGVyaWFsKCdzcGVhcicpID4gMTApIHRvdGFsICo9IDEgKyBNYXRoLmxvZyhnZXRNYXRlcmlhbCgnc3BlYXInKSAvIDEwKTtcclxuICAgIGlmIChyZXNvdXJjZU5hbWUgPT09ICdwb25kZXInICYmIGdldE1hdGVyaWFsKCdwYXBlcicpID4gMTApIHRvdGFsICo9IDEgKyBNYXRoLmxvZyhnZXRNYXRlcmlhbCgncGFwZXInKSAvIDEwKTtcclxuICAgIGlmIChyZXNvdXJjZU5hbWUgPT09ICdzdGlja3MnICYmIGdldE1hdGVyaWFsKCdzdGFmZicpID4gMTApIHRvdGFsICo9IDEgKyBNYXRoLmxvZyhnZXRNYXRlcmlhbCgnc3RhZmYnKSAvIDEwKTtcclxuXHJcbiAgICAvLyBOZWVkIGF0IGxlYXN0IDEwIGh1c2tzIHRvIGJvb3N0IG1hdGhlbWF0aWNhbGx5IChsbigxKSA9IDApXHJcbiAgICBpZiAoZ2V0TWF0ZXJpYWwoJ2h1c2tzJykgPiAxMCkgdG90YWwgKj0gMSArIE1hdGgubG9nKGdldE1hdGVyaWFsKCdodXNrcycpIC8gMTApO1xyXG4gICAgLy8gQ29udmVydCBmcm9tIHNlY29uZHMgdG8gbWlsbGlzZWNvbmRzXHJcbiAgICB0b3RhbCAqPSBkZWx0YV90aW1lIC8gMTAwMDtcclxuICAgIC8vIHJvdW5kIHRvdGFsIHRvIG5lYXJlc3QgdGhvdXNhbmR0aFxyXG4gICAgdG90YWwgPSBwYXJzZUZsb2F0KHRvdGFsLnRvRml4ZWQoMykpO1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJ0aW1lIGZvciByZXNvdXJjZXNcIiwgZGVsdGFfdGltZSwgcmVzb3VyY2VOYW1lLCB0b3RhbCk7XHJcbiAgICByZXR1cm4gdG90YWw7XHJcbn1cclxuZXhwb3J0cy5jYWxjSW5jcmVhc2UgPSBjYWxjSW5jcmVhc2U7IiwiY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG5cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBidWlsZGluZ05hbWVcclxuICogQHJldHVybnNcclxuICovXHJcbmZ1bmN0aW9uIGNhbkJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBlbm91Z2ggcmVzb3VyY2VzXHJcbiAgICBsZXQgY2FuQnV5ID0gdHJ1ZTtcclxuICAgIGNvbnN0IGJ1aWxkaW5ncyA9IHJlcXVpcmUoJy4vanNvbi9idWlsZGluZ3MnKS5idWlsZGluZ3M7XHJcbiAgICBjb25zdCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ05hbWVdO1xyXG5cclxuICAgIGZvciAoY29uc3QgcmVzb3VyY2UgaW4gYnVpbGRpbmcuY29zdCkge1xyXG4gICAgICAgIGlmIChidWlsZGluZy5jb3N0W3Jlc291cmNlXSA+IGdldE1hdGVyaWFsKHJlc291cmNlLCByZXNvdXJjZXMpKSB7XHJcbiAgICAgICAgICAgIGNhbkJ1eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FuJ3QgYnV5IGNsb25pbmcgYnVpbGRpbmdzIGJlZm9yZSBjbG9uZXMgdW5sb2NrZWRcclxuICAgIGlmIChidWlsZGluZy5lZmZlY3RzICYmIGJ1aWxkaW5nLmVmZmVjdHNbJ2Nsb25lcyddICYmICFwYXNzZWRTdGFnZSgnY2xvbmUnKSkgY2FuQnV5ID0gZmFsc2U7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ2NhbiB3ZSBidXkgJyxidWlsZGluZ05hbWUsY2FuQnV5KTtcclxuICAgIHJldHVybiBjYW5CdXk7XHJcbn1cclxuZXhwb3J0cy5jYW5CdXlCdWlsZGluZyA9IGNhbkJ1eUJ1aWxkaW5nOyIsImNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgY3JhZnRlZFJlc291cmNlcyB9ID0gcmVxdWlyZShcIi4vanNvbi9jcmFmdGVkUmVzb3VyY2VzXCIpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcblxyXG5mdW5jdGlvbiBjYW5DcmFmdChyZXNvdXJjZUtleSkge1xyXG4gICAgbGV0IGNhbkNyYWZ0ID0gdHJ1ZTtcclxuICAgIGxldCByZXF1aXJlbWVudHMgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jb3N0O1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGFsbCByZXF1aXJlbWVudHMgYXJlIG1ldFxyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZUtleSwgcmVxdWlyZW1lbnRzKTtcclxuICAgICAgICBmb3IgKGxldCBtYXQgaW4gcmVxdWlyZW1lbnRzKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwobWF0LCByZXNvdXJjZXMpIDwgcmVxdWlyZW1lbnRzW21hdF0pIHtcclxuICAgICAgICAgICAgICAgIGNhbkNyYWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgaW4gY2FsY3VsYXRpbmcgcmVxdWlyZW1lbnRzOiAnLCByZXNvdXJjZUtleSwgcmVxdWlyZW1lbnRzLCBlcnIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjYW5DcmFmdDtcclxufVxyXG5leHBvcnRzLmNhbkNyYWZ0ID0gY2FuQ3JhZnQ7IiwiLyoqXHJcbiAqIENhcGl0YWxpemVzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYSBzdHJpbmdcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBzdHJpbmdFeGFtcGxlXHJcbiAqIEByZXR1cm5zIFN0cmluZ0V4YW1wbGVcclxuICovXHJcbmZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdChzdHIpIHtcclxuICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XHJcbn1cclxuZXhwb3J0cy5jYXBpdGFsaXplRmlyc3QgPSBjYXBpdGFsaXplRmlyc3Q7IiwiY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IGNyYWZ0ZWRSZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9jcmFmdGVkUmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbi8vIEFzc3VtaW5nIHRoZXNlIGFyZSBkZWZpbmVkIGdsb2JhbGx5XHJcbi8vIHZhciBtYW51ZmFjdHVyZWRNYXAgPSB7XHJcbi8vICAgICBjbGF5OiBbJ2JyaWNrcyddLFxyXG4vLyAgICAgaGVyYnM6IFsnbWVkaWNpbmUnXSxcclxuLy8gICAgIGhpZGVzOiBbJ2xlYXRoZXInXSxcclxuLy8gICAgIGlyb246IFsnc3RlZWwnLCAnbmFpbHMnXSxcclxuLy8gICAgIG9yZTogWydpcm9uJywgJ3NpbHZlcicsICdnb2xkJ10sXHJcbi8vICAgICBzYW5kOiBbJ2dsYXNzJywgJ2NvbmNyZXRlJ10sXHJcbi8vICAgICByb2NrczogWydzbGFicyddLFxyXG4vLyAgICAgdmluZXM6IFsncm9wZSddLFxyXG4vLyAgICAgd29vZDogWydwYXBlcicsICdiZWFtcycsICdjcmF0ZXMnXSxcclxuLy8gfTtcclxuXHJcbnZhciBzd2l0Y2hlZE1hbnVmYWN0dXJlZE1hcCA9IHtcclxuICAgICdiZWFtcyc6IFsnd29vZCddLFxyXG4gICAgJ2JyaWNrcyc6IFsnY2xheSddLFxyXG4gICAgJ2NvbmNyZXRlJzogWydzYW5kJ10sXHJcbiAgICAnY3JhdGVzJzogWyd3b29kJ10sXHJcbiAgICAnZ2xhc3MnOiBbJ3NhbmQnXSxcclxuICAgICdnb2xkJzogWydvcmUnXSxcclxuICAgICdoYW5kbGUnOiBbJ3N0aWNrcyddLFxyXG4gICAgJ2lyb24nOiBbJ29yZSddLFxyXG4gICAgJ2xlYXRoZXInOiBbJ2hpZGVzJ10sXHJcbiAgICAnbWVkaWNpbmUnOiBbJ2hlcmJzJ10sXHJcbiAgICAnbmFpbHMnOiBbJ2lyb24nXSxcclxuICAgICdwYXBlcic6IFsnd29vZCddLFxyXG4gICAgJ3NoYXJwcm9ja3MnOiBbJ3JvY2tzJ10sXHJcbiAgICAnc2lsdmVyJzogWydvcmUnXSxcclxuICAgICdzbGFicyc6IFsncm9ja3MnXSxcclxuICAgICdzcGVhcic6IFsnc3RhZmYnLCAnc2hhcnByb2NrcycsICdyb3BlJ10sXHJcbiAgICAnc3RhZmYnOiBbJ2hhbmRsZScsICdyb3BlJ10sXHJcbiAgICAnc3RlZWwnOiBbJ2lyb24nXSxcclxuICAgICdzdGlja3MnOiBbJ3dvb2QnXSxcclxuICAgICdyb3BlJzogWyd2aW5lcyddLFxyXG4gICAgJ3dvb2QnOiBbJ3N0aWNrcyddLFxyXG59O1xyXG5cclxuXHJcbnZhciBhbGxNYXRlcmlhbHMgPSBbXTtcclxuT2JqZWN0LmtleXMocmVzb3VyY2VzKS5mb3JFYWNoKHIgPT4gYWxsTWF0ZXJpYWxzLnB1c2gocikpO1xyXG5PYmplY3Qua2V5cyhjcmFmdGVkUmVzb3VyY2VzKS5mb3JFYWNoKHIgPT4gYWxsTWF0ZXJpYWxzLnB1c2gocikpO1xyXG5jb25zb2xlLmxvZyhcIkFsbCBtYXRlcmlhbHM6IFwiLCBhbGxNYXRlcmlhbHMpO1xyXG5cclxubGV0IGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZyA9IHt9O1xyXG5sZXQgYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nID0ge307XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGlzUHJvZHVjaW5nKHJlc291cmNlKSB7XHJcbiAgICByZXR1cm4gcmVzb3VyY2UgaW4gYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nO1xyXG59XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGlzQ29uc3VtaW5nKHJlc291cmNlKSB7XHJcbiAgICByZXR1cm4gcmVzb3VyY2UgaW4gYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nO1xyXG59XHJcblxyXG4vLyBmdW5jdGlvbiBnZXRGYWN0b3J5Q29uc3VtcHRpb24ocmVzb3VyY2UpIHtcclxuLy8gICAgIHJldHVybiBhY3RpdmVGYWN0b3JpZXNDb25zdW1pbmdbcmVzb3VyY2VdICogO1xyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiBnZXRGYWN0b3J5UHJvZHVjdGlvbihyZXNvdXJjZSkge1xyXG4gICAgcmV0dXJuIGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZ1tyZXNvdXJjZV0gKiBtYW51ZmFjdHVyZUJ1bGs7XHJcbn1cclxuXHJcblxyXG4vLyBGdW5jdGlvbiB0byB1cGRhdGUgcmVzb3VyY2UgcHJvZHVjdGlvbiBhbmQgY29uc3VtcHRpb25cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiB1cGRhdGVGYWN0b3J5UmVzb3VyY2VUcmFja2luZyhvbGRQcm9kdWNlZCwgbmV3UHJvZHVjZWQsIGZhY3RvcnlJbmRleCkge1xyXG4gICAgLy8gSWYgdGhpcyBmYWN0b3J5IHdhcyBwcmV2aW91c2x5IHByb2R1Y2luZyBzb21ldGhpbmcsIHJlZHVjZSB0aGUgY291bnRcclxuICAgIGlmIChvbGRQcm9kdWNlZCAmJiBvbGRQcm9kdWNlZCAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nW29sZFByb2R1Y2VkXS0tO1xyXG4gICAgICAgIEFycmF5LmZyb20oY3JhZnRlZFJlc291cmNlc1tvbGRQcm9kdWNlZF0uY29zdCkuZm9yRWFjaCgoY29zdCkgPT4ge1xyXG4gICAgICAgICAgICBhY3RpdmVGYWN0b3JpZXNDb25zdW1pbmdbY29zdC5yZXNvdXJjZV0gLT0gY29zdC5hbW91bnQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBwcm9kdWN0aW9uIGNvdW50IGZvciB0aGUgbmV3IHJlc291cmNlXHJcbiAgICBhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmdbbmV3UHJvZHVjZWRdKys7XHJcbiAgICBBcnJheS5mcm9tKGNyYWZ0ZWRSZXNvdXJjZXNbbmV3UHJvZHVjZWRdLmNvc3QpLmZvckVhY2goKGNvc3QpID0+IHtcclxuICAgICAgICBhY3RpdmVGYWN0b3JpZXNDb25zdW1pbmdbY29zdC5yZXNvdXJjZV0gKz0gY29zdC5hbW91bnQ7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gQ2FsbCB0aGlzIHdoZW5ldmVyIGEgZmFjdG9yeSdzIHNldHRpbmdzIGNoYW5nZVxyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIG9uRmFjdG9yeU1vZGlmaWVkKGZhY3RvcnlJbmRleCwgbmV3UHJvZHVjZWQpIHtcclxuICAgIGNvbnN0IHJpZ2h0U2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2ZhY3RvcnktJHtmYWN0b3J5SW5kZXh9IC5yaWdodFNlbGVjdGApO1xyXG4gICAgdXBkYXRlRmFjdG9yeVJlc291cmNlVHJhY2tpbmcocmlnaHRTZWxlY3QuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2R1Y2VkJyksIG5ld1Byb2R1Y2VkLCBmYWN0b3J5SW5kZXgpO1xyXG4gICAgcmlnaHRTZWxlY3Quc2V0QXR0cmlidXRlKCdkYXRhLXByb2R1Y2VkJywgbmV3UHJvZHVjZWQpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUZhY3RvcnlEaXYoKSB7XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSByZXNvdXJjZSB0cmFja2luZyBvYmplY3RzXHJcbiAgICBPYmplY3Qua2V5cyhjcmFmdGVkUmVzb3VyY2VzKS5mb3JFYWNoKChyZXNvdXJjZSkgPT4ge1xyXG4gICAgICAgIGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZ1tyZXNvdXJjZV0gPSAwO1xyXG4gICAgICAgIEFycmF5LmZyb20oY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZV0uY29zdCkuZm9yRWFjaCgoY29zdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWFjdGl2ZUZhY3Rvcmllc0NvbnN1bWluZ1tjb3N0LnJlc291cmNlXSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nW2Nvc3QucmVzb3VyY2VdID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGNvbnN0IGZhY3Rvcmllc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYWN0b3JpZXMnKTtcclxuICAgIGNvbnN0IGZhY3RvcnlEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGZhY3RvcnlEaXYuY2xhc3NOYW1lID0gJ2ZhY3RvcnknO1xyXG5cclxuICAgIGNvbnN0IGxlZnRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgbGVmdFRleHQuY2xhc3NMaXN0LmFkZCgnZmFjdG9yeUNvc3QnKTtcclxuICAgIGNvbnN0IHJpZ2h0U2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XHJcblxyXG4gICAgLy8gUG9wdWxhdGUgdGhlIHJpZ2h0IGRyb3Bkb3duXHJcbiAgICBPYmplY3Qua2V5cyhzd2l0Y2hlZE1hbnVmYWN0dXJlZE1hcCkuZm9yRWFjaChyZXNvdXJjZSA9PiB7XHJcblxyXG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IHJlc291cmNlO1xyXG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IHJlc291cmNlO1xyXG4gICAgICAgIHJpZ2h0U2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIHJpZ2h0U2VsZWN0LnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9kdWNlZCcsICdub25lJyk7XHJcblxyXG5cclxuICAgIHJpZ2h0U2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgcHJvZHVjZWQgcmVzb3VyY2UgZm9yIHRoaXMgZmFjdG9yeVxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcm9kdWNlZCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2R1Y2VkJyk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChjdXJyZW50UHJvZHVjZWQgIT09ICdub25lJykgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3Jlc291cmNlLSR7Y3VycmVudFByb2R1Y2VkfWApLnN0eWxlLmNvbG9yID0gJyc7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld1Byb2R1Y2VkID0gcmlnaHRTZWxlY3QudmFsdWU7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSByZXNvdXJjZSB0cmFja2luZ1xyXG4gICAgICAgIHVwZGF0ZUZhY3RvcnlSZXNvdXJjZVRyYWNraW5nKGN1cnJlbnRQcm9kdWNlZCwgbmV3UHJvZHVjZWQsIHRoaXMuZGF0YXNldC5mYWN0b3J5SW5kZXgpO1xyXG5cclxuICAgICAgICAvLyBOb3cgdXBkYXRlIHRoZSBkYXRhc2V0IGZvciB0aGUgbmV4dCBjaGFuZ2UgZXZlbnRcclxuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9kdWNlZCcsIG5ld1Byb2R1Y2VkKTtcclxuXHJcblxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcmVzb3VyY2UtJHtuZXdQcm9kdWNlZH1gKS5zdHlsZS5jb2xvciA9ICd0aGlzdGxlJztcclxuICAgICAgICBsZWZ0VGV4dC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBsZWZ0VGV4dC5pbm5lckhUTUwgKz0gYCR7cmVxdWlyZSgnLi9yZXNvdXJjZXMnKS5nZW5lcmF0ZVRvb2x0aXBDb3N0KGNyYWZ0ZWRSZXNvdXJjZXNbcmlnaHRTZWxlY3QudmFsdWVdLmNvc3QpfWA7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQWRkIHRoZSBpbml0aWFsIG9wdGlvbiBmb3IgbGVmdCBzZWxlY3RcclxuICAgIGZ1bmN0aW9uIGFkZEluaXRpYWxPcHRpb24oc2VsZWN0RWxlbWVudCwgdGV4dCkge1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBpbml0aWFsT3B0aW9uLnZhbHVlID0gJyc7XHJcbiAgICAgICAgaW5pdGlhbE9wdGlvbi50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICAgICAgaW5pdGlhbE9wdGlvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgaW5pdGlhbE9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgc2VsZWN0RWxlbWVudC5hcHBlbmRDaGlsZChpbml0aWFsT3B0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIGFycm93LmlubmVySFRNTCA9ICcmIzg1OTQ7JzsgLy8gUmlnaHQgYXJyb3cgSFRNTCBlbnRpdHlcclxuXHJcbiAgICBmYWN0b3J5RGl2LmFwcGVuZENoaWxkKGxlZnRUZXh0KTtcclxuICAgIGZhY3RvcnlEaXYuYXBwZW5kQ2hpbGQoYXJyb3cpO1xyXG4gICAgZmFjdG9yeURpdi5hcHBlbmRDaGlsZChyaWdodFNlbGVjdCk7XHJcblxyXG4gICAgYWRkSW5pdGlhbE9wdGlvbihyaWdodFNlbGVjdCwgJ1NlbGVjdCBhIFJlc291cmNlJyk7XHJcblxyXG4gICAgZmFjdG9yaWVzQ29udGFpbmVyLmFwcGVuZENoaWxkKGZhY3RvcnlEaXYpO1xyXG5cclxuICAgIHJldHVybiBmYWN0b3J5RGl2O1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gbG9hZEZhY3RvcnkoY3JhZnRpbmcpIHtcclxuICAgIGxldCBkaXYgPSBjcmVhdGVGYWN0b3J5RGl2KCk7XHJcbiAgICBkaXYucXVlcnlTZWxlY3Rvcignc2VsZWN0JykudmFsdWUgPSBjcmFmdGluZztcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNyZXNvdXJjZS0ke2NyYWZ0aW5nfWApLnN0eWxlLmNvbG9yID0gJ3RoaXN0bGUnO1xyXG4gICAgZGl2LnF1ZXJ5U2VsZWN0b3IoJy5mYWN0b3J5Q29zdCcpLmlubmVySFRNTCA9ICcnO1xyXG4gICAgZGl2LnF1ZXJ5U2VsZWN0b3IoJy5mYWN0b3J5Q29zdCcpLmlubmVySFRNTCArPSBgJHtyZXF1aXJlKCcuL3Jlc291cmNlcycpLmdlbmVyYXRlVG9vbHRpcENvc3QoY3JhZnRlZFJlc291cmNlc1tjcmFmdGluZ10uY29zdCl9YDtcclxuXHJcbn1cclxuXHJcblxyXG5sZXQgbWFudWZhY3R1cmVCdWxrID0gMjtcclxubGV0IGJ1bGtVcGdyYWRlQ29zdCA9IDMwO1xyXG5sZXQgbWFudWZhY3R1cmVCb251cyA9IDE7XHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmdbXX0gcmVzb3VyY2VzIEFsbCByZXNvdXJjZXMgcmVxdWlyZWQgZm9yIHRoZSBjcmFmdFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZ29hbFJlc291cmNlIFdoYXQgd2UnbGwgYmUgY3JhZnRpbmdcclxuICovXHJcbmZ1bmN0aW9uIG1hbnVmYWN0dXJlKHJlc291cmNlcywgZ29hbFJlc291cmNlKSB7XHJcbiAgICAvLyBDYWxjdWxhdGUgaG93IG1hbnkgd2UgY2FuIGFmZm9yZFxyXG4gICAgbGV0IGFyciA9IFtdO1xyXG4gICAgcmVzb3VyY2VzLmZvckVhY2gocmVzb3VyY2UgPT4gYXJyLnB1c2goZ2V0TWF0ZXJpYWwocmVzb3VyY2UpIC8gY3JhZnRlZFJlc291cmNlc1tnb2FsUmVzb3VyY2VdLmNvc3RbcmVzb3VyY2VdKSk7XHJcbiAgICBsZXQgbnVtID0gTWF0aC5taW4obWFudWZhY3R1cmVCdWxrLCAuLi5hcnIpO1xyXG4gICAgY29uc29sZS5sb2cobnVtLCBtYW51ZmFjdHVyZUJ1bGssIC4uLmFycik7XHJcbiAgICBudW0gKj0gbWFudWZhY3R1cmVCb251cztcclxuICAgIC8vIFRoZSBmYWN0b3JpZXMgZ2V0IHRvIGJlIGhhbGYgcHJpY2Ugb2Ygbm9ybWFsIGNyYWZ0aW5nIGJjIGVmZmljaWVuY3lcclxuICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuY3JhZnRSZXNvdXJjZVF1YW50aXR5KGdvYWxSZXNvdXJjZSwgbnVtKTtcclxuICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwoZ29hbFJlc291cmNlLCBudW0pO1xyXG4gICAgLy8gaW5jcmVhc2VNYXRlcmlhbChyZXNvdXJjZSwgLWNyYWZ0ZWRSZXNvdXJjZXNbZ29hbFJlc291cmNlXS5jb3N0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBncmFkZUJ1bGsoKSB7XHJcbiAgICBtYW51ZmFjdHVyZUJ1bGsgKz0gMjtcclxuICAgIGJ1bGtVcGdyYWRlQ29zdCArPSAxMDtcclxuXHJcbiAgICBjb25zdCB1cEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGdyYWRlQnVsa0J1dHRvbicpO1xyXG4gICAgdXBCdXR0b24uc2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcsIGAke21hbnVmYWN0dXJlQnVsa30g4oaSICR7bWFudWZhY3R1cmVCdWxrICsgMn06ICR7YnVsa1VwZ3JhZGVDb3N0LnRvRml4ZWQoMCl9IHNpbHZlcmApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhdHRlbXB0TWFudWZhY3R1cmUoKSB7XHJcbiAgICBjb25zdCBmYWN0b3JpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmFjdG9yeScpO1xyXG4gICAgZmFjdG9yaWVzLmZvckVhY2goZmFjdG9yeSA9PiB7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IGxlZnRTZWxlY3QgPSBmYWN0b3J5LnF1ZXJ5U2VsZWN0b3IoJ3NwYW46Zmlyc3QtY2hpbGQnKTtcclxuICAgICAgICBjb25zdCByaWdodFNlbGVjdCA9IGZhY3RvcnkucXVlcnlTZWxlY3Rvcignc2VsZWN0Omxhc3QtY2hpbGQnKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgY29uc3QgZ29hbFJlc291cmNlID0gcmlnaHRTZWxlY3QudmFsdWU7XHJcbiAgICAgICAgY29uc3QgcmVzb3VyY2VzID0gc3dpdGNoZWRNYW51ZmFjdHVyZWRNYXBbZ29hbFJlc291cmNlXTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNoZWNraW5nIGZhY3RvcnlcIiwgZ29hbFJlc291cmNlKTtcclxuICAgICAgICBpZiAocmVzb3VyY2VzICYmIGdvYWxSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICBtYW51ZmFjdHVyZShyZXNvdXJjZXMsIGdvYWxSZXNvdXJjZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBDYWxsIHRoaXMgZnVuY3Rpb24gd2hlbmV2ZXIgeW91IHdhbnQgdG8gc3RhcnQgdGhlIG1hbnVmYWN0dXJpbmcgcHJvY2Vzc1xyXG4vLyBmb3IgZXhhbXBsZSwgYWZ0ZXIgY3JlYXRpbmcgdGhlIGZhY3RvcnkgZGl2cyBpbml0aWFsbHkgb3IgYWZ0ZXIgYWRkaW5nIGEgbmV3IG9uZVxyXG4vLyBzdGFydE1hbnVmYWN0dXJpbmdQcm9jZXNzKCk7XHJcbi8vIGZ1bmN0aW9uIGRldGVybWluZU5ld0ZhY3RvcnlDb3N0KCkge1xyXG4vLyAgICAgdmFyIGNvc3QgPSA1MDtcclxuLy8gICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmcpKSB7XHJcbi8vICAgICAgICAgaWYgKHZhbCA+IDApXHJcbi8vICAgICAgICAgICAgIGNvc3QgKj0gTWF0aC5wb3coMS4yLCB2YWwpO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgcmV0dXJuIGNvc3Q7XHJcbi8vIH1cclxuLy8gdmFyIG5ld0ZhY3RvcnlTaWx2ZXJDb3N0ID0gZGV0ZXJtaW5lTmV3RmFjdG9yeUNvc3QoKTtcclxudmFyIG5ld0ZhY3RvcnlTaWx2ZXJDb3N0ID0gNTA7XHJcbmZ1bmN0aW9uIGJ1eUZhY3RvcnkoKSB7XHJcbiAgICBjb25zdCBidXlGYWN0b3J5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eUZhY3RvcnlCdXR0b24nKTtcclxuICAgIGlmIChnZXRNYXRlcmlhbCgnc2lsdmVyJykgPCBuZXdGYWN0b3J5U2lsdmVyQ29zdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdOb3QgZW5vdWdoIHNpbHZlciEnKTsgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhcyBlbm91Z2ggc2lsdmVyIHRvIGFmZm9yZCBmYWN0b3J5XHJcbiAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLmluY3JlYXNlTWF0ZXJpYWwoJ3NpbHZlcicsIC1uZXdGYWN0b3J5U2lsdmVyQ29zdCk7XHJcbiAgICBjcmVhdGVGYWN0b3J5RGl2KCk7XHJcblxyXG4gICAgbmV3RmFjdG9yeVNpbHZlckNvc3QgKj0gMS4yO1xyXG4gICAgYnV5RmFjdG9yeUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBDb3N0JywgYCR7bmV3RmFjdG9yeVNpbHZlckNvc3QudG9GaXhlZCgyKX0gc2lsdmVyYCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY3JlYXRlRmFjdG9yeURpdixcclxuICAgIGF0dGVtcHRNYW51ZmFjdHVyZSxcclxuICAgIGJ1eUZhY3RvcnksXHJcbiAgICB1cGdyYWRlQnVsayxcclxuICAgIGFsbE1hdGVyaWFscyxcclxuICAgIGdldEZhY3RvcnlQcm9kdWN0aW9uLFxyXG4gICAgbG9hZEZhY3RvcnksXHJcbiAgICBhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmdcclxufTtcclxuIiwiZnVuY3Rpb24gZml0Q2hhclRvQ2VsbChjaGFyLCBjZWxsV2lkdGgsIGNlbGxIZWlnaHQsIGluaXRpYWxGb250U2l6ZSkge1xyXG4gICAgLy8gQ3JlYXRlIGEgdGVtcG9yYXJ5IHNwYW4gZWxlbWVudCB0byBtZWFzdXJlIHRoZSBjaGFyYWN0ZXJcclxuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICBzcGFuLnRleHRDb250ZW50ID0gY2hhcjtcclxuICAgIHNwYW4uc3R5bGUuZm9udFNpemUgPSBgJHtpbml0aWFsRm9udFNpemV9cHhgO1xyXG4gICAgc3Bhbi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7IC8vIHNvIGl0IGRvZXNuJ3QgYWZmZWN0IHRoZSBsYXlvdXRcclxuICAgIHNwYW4uc3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnOyAvLyB0byBwcmV2ZW50IGxpbmUgYnJlYWtzXHJcbiAgICBzcGFuLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsgLy8gdG8ga2VlcCBpdCBoaWRkZW5cclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3Bhbik7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHNwYW4gZml0cyB3aXRoaW4gdGhlIGRpbWVuc2lvbnMsIGFuZCBhZGp1c3QgZm9udCBzaXplIGlmIG5vdFxyXG4gICAgbGV0IGN1cnJlbnRGb250U2l6ZSA9IGluaXRpYWxGb250U2l6ZTtcclxuICAgIHdoaWxlIChzcGFuLm9mZnNldFdpZHRoIDwgY2VsbFdpZHRoICYmIHNwYW4ub2Zmc2V0SGVpZ2h0IDwgY2VsbEhlaWdodCkge1xyXG4gICAgICAgIGN1cnJlbnRGb250U2l6ZSsrO1xyXG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFNpemUgPSBgJHtjdXJyZW50Rm9udFNpemV9cHhgO1xyXG5cclxuICAgICAgICAvLyBPcHRpb25hbDogc3RvcCBpZiB0aGUgZm9udCBzaXplIGdldHMgdG9vIHNtYWxsXHJcbiAgICAgICAgaWYgKGN1cnJlbnRGb250U2l6ZSA+PSAxMDAwKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDbGVhbiB1cDogcmVtb3ZlIHRoZSB0ZW1wb3Jhcnkgc3BhbiBlbGVtZW50XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNwYW4pO1xyXG5cclxuICAgIHJldHVybiBjdXJyZW50Rm9udFNpemU7XHJcbn1cclxuZXhwb3J0cy5maXRDaGFyVG9DZWxsID0gZml0Q2hhclRvQ2VsbDtcclxuIiwiLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXRlcmlhbFxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Q3JhZnRlZFJlc291cmNlKG1hdGVyaWFsLCBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcblxyXG4gICAgbWF0ZXJpYWwgPSBtYXRlcmlhbC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgY3JhZnRlZFJlc291cmNlcyA9IHJlcXVpcmUoJy4vanNvbi9jcmFmdGVkUmVzb3VyY2VzJykuY3JhZnRlZFJlc291cmNlcztcclxuICAgICAgICAvLyBjb25zb2xlLndhcm4oJ01pc3NpbmcgY3JhZnRlZFJlc291cmNlcyBkZWZpbml0aW9uLCBsb2FkaW5nIGRlZmF1bHQnLCBjcmFmdGVkUmVzb3VyY2VzKTtcclxuICAgIH1cclxuICAgIGlmIChjcmFmdGVkUmVzb3VyY2VzLmhhc093blByb3BlcnR5KG1hdGVyaWFsKSkge1xyXG4gICAgICAgIHJldHVybiBjcmFmdGVkUmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSB8fCAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBjb25zb2xlLndhcm4oXCJJbnZhbGlkIGNyYWZ0ZWQgcmVzb3VyY2U6XCIgKyBtYXRlcmlhbCk7IC8vIEZvciBkZWJ1Z2dpbmdcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmdldENyYWZ0ZWRSZXNvdXJjZSA9IGdldENyYWZ0ZWRSZXNvdXJjZTtcclxuIiwiY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vZ2V0Q3JhZnRlZFJlc291cmNlJyk7XHJcbi8vIGNvbnN0IHsgY3JhZnRlZFJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuXHJcbi8vIEdldCBmdW5jdGlvbiBmb3IgbWF0ZXJpYWxzXHJcbi8qKlxyXG4gKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBtYXRlcmlhbFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF0ZXJpYWxcclxuICogQHJldHVybnMgVmFsdWUgb2YgbWF0ZXJpYWxcclxuKi9cclxuZnVuY3Rpb24gZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykge1xyXG4gICAgaWYgKCFyZXNvdXJjZXMpIHJlc291cmNlcyA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKS5yZXNvdXJjZXM7XHJcbiAgICBpZiAocmVzb3VyY2VzLmhhc093blByb3BlcnR5KG1hdGVyaWFsKSkge1xyXG4gICAgICAgIHJldHVybiByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBtYXRlcmlhbDpcIiwgbWF0ZXJpYWwpOyAgLy8gRm9yIGRlYnVnZ2luZ1xyXG4gICAgICAgIHJldHVybiBnZXRDcmFmdGVkUmVzb3VyY2UobWF0ZXJpYWwsIG51bGwpO1xyXG5cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmdldE1hdGVyaWFsID0gZ2V0TWF0ZXJpYWw7IiwiY29uc3QgeyBoYXNQcmVzdGlnZSwgZ2V0TGV2ZWxPZlByZXN0aWdlIH0gPSByZXF1aXJlKCcuL2pzb24vcHJlc3RpZ2UnKTtcclxuY29uc3QgeyByZXNvdXJjZXMsIGlzUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBza2lsbHMgfSA9IHJlcXVpcmUoJy4vanNvbi9za2lsbHMnKTtcclxuY29uc3QgeyB0cmlnZ2VyRmxvYXRVcFRleHQgfSA9IHJlcXVpcmUoJy4vdHJpZ2dlckZsb2F0VXBUZXh0Jyk7XHJcblxyXG5cclxuXHJcblxyXG5sZXQgYWxsVmlzaWJsZUJ1dHRvbnMgPSBuZXcgU2V0KFsnZ2F0aGVyU3RpY2tzJ10pO1xyXG5leHBvcnRzLmFsbFZpc2libGVCdXR0b25zID0gYWxsVmlzaWJsZUJ1dHRvbnM7XHJcblxyXG5cclxuLy8gQ2FsY3VsYXRlIHRoZSBmaW5hbCBudW1iZXIgb2YgY3JhZnRlZCBnb29kcyBmcm9tIGJvbnVzZXNcclxuZnVuY3Rpb24gY2FsY0NyYWZ0Qm9udXMocmVzb3VyY2VLZXkpIHtcclxuICAgIGxldCB0b3RhbCA9IDE7XHJcbiAgICBmb3IgKGxldCBza2lsbCBpbiBza2lsbHMpIHtcclxuICAgICAgICBpZiAoc2tpbGxzW3NraWxsXS5hZmZlY3RlZFJlc291cmNlcy5pbmNsdWRlcyhyZXNvdXJjZUtleSkpIHtcclxuICAgICAgICAgICAgbGV0IHNraWxsUmF0aW8gPSAxLjA2O1xyXG4gICAgICAgICAgICB2YXIgbXVsdCA9IDEgKyAoTWF0aC5wb3coc2tpbGxSYXRpbywgc2tpbGxzW3NraWxsXS5sZXZlbCkgLSAxKSAvIDEwMDtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJNdWx0aXBseWluZyBnYWluIGJ5IFwiICsgbXVsdCk7XHJcbiAgICAgICAgICAgIHRvdGFsICo9IG11bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0b3RhbDtcclxufVxyXG5cclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gZ2V0QWZmZWN0ZWRSZXNvdXJjZXMoc2tpbGwpIHtcclxuICAgIGlmIChza2lsbHNbc2tpbGxdKSB7XHJcbiAgICAgICAgcmV0dXJuIHNraWxsc1tza2lsbF0uYWZmZWN0ZWRSZXNvdXJjZXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDsgIC8vIG9yIGFuIGVtcHR5IGFycmF5IFtdLCBiYXNlZCBvbiB5b3VyIHByZWZlcmVuY2VcclxufVxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXRlcmlhbCBcclxuICogQHJldHVybnMgTWF4IG9mIG1hdGVyaWFsIG9yIEluZmluaXR5XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRNYXgobWF0ZXJpYWwpIHtcclxuICAgIGlmIChpc1Jlc291cmNlKG1hdGVyaWFsKSkge1xyXG4gICAgICAgIGxldCBtYXggPSByZXNvdXJjZXNbbWF0ZXJpYWxdLm1heDtcclxuICAgICAgICBpZiAoaGFzUHJlc3RpZ2UoJ3N0b3JhZ2VTcGFjZScpKSBtYXggKj0gMS4wNSAqIGdldExldmVsT2ZQcmVzdGlnZSgnc3RvcmFnZVNwYWNlJyk7XHJcbiAgICAgICAgcmV0dXJuIG1heDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhclNpZGViYXIoKSB7XHJcbiAgICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyZXNvdXJjZXNcIik7XHJcbiAgICBzaWRlYmFyLmlubmVySFRNTCA9ICcnO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gdXBkYXRlU2tpbGxzKHJlc291cmNlLCBudW0pIHtcclxuICAgIG51bSA9IE1hdGguYWJzKG51bSk7XHJcbiAgICBpZiAocmVxdWlyZSgnLi9wb25kZXInKS5pc1BvbmRlcmVkKCdmYXN0ZXJTa2lsbHMnKSkgbnVtICo9IDEuMDU7XHJcbiAgICAvLyBcclxuICAgIGZvciAobGV0IHNraWxsIGluIHNraWxscykge1xyXG4gICAgICAgIC8vIFxyXG4gICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmFmZmVjdGVkUmVzb3VyY2VzLmluY2x1ZGVzKHJlc291cmNlKSkge1xyXG4gICAgICAgICAgICAvLyBtYXggbGV2ZWwgMTAwXHJcbiAgICAgICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmxldmVsID49IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgc2tpbGxzW3NraWxsXS5sZXZlbCA9IDEwMDtcclxuICAgICAgICAgICAgICAgIHNraWxsc1tza2lsbF0uZXhwID0gMDtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBza2lsbHNbc2tpbGxdLmV4cCArPSBudW0gLyBNYXRoLnBvdygxLjQsIHNraWxsc1tza2lsbF0ubGV2ZWwpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlVwZGF0aW5nIHNraWxsOlwiICsgc2tpbGwgKyBcIiB0byBcIiArIHNraWxsc1tza2lsbF0uZXhwKVxyXG5cclxuXHJcbiAgICAgICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmV4cCA+PSAxMDApIHtcclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgc2tpbGxzW3NraWxsXS5sZXZlbCArPSAxO1xyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICBza2lsbHNbc2tpbGxdLmV4cCA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkxldmVsIFVwISBcIiArIHNraWxsICsgc2tpbGxzW3NraWxsXS5sZXZlbCk7XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIGxldCBsZXZlbHVwID0gYExldmVsIHVwISAke3NraWxsfSDihpIgJHtza2lsbHNbc2tpbGxdLmxldmVsfWA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXN0aWdlJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyRmxvYXRVcFRleHQocmVjdC54LCByZWN0LnksIGxldmVsdXAsICcjRjREMDNGJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbGV2ZWxVcE1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBIaWRlIHRoZSBtZXNzYWdlIGFmdGVyIDMgc2Vjb25kc1xyXG4gICAgICAgICAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBsZXZlbFVwTWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICAvLyBsZXZlbFVwTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgIC8vIH0sIDMwMDApOyAvLyAzMDAwIG1pbGxpc2Vjb25kcyAoMyBzZWNvbmRzKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlcXVpcmUoJy4vc3RhZ2VzJykucGFzc2VkU3RhZ2UoJ3NraWxsc1RhYmxlJykpIHtcclxuICAgICAgICBwb3B1bGF0ZVNraWxsc1RhYmxlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBoYXNHZW5lcmF0ZWRTa2lsbFRhYmxlID0gZmFsc2U7XHJcblxyXG5mdW5jdGlvbiBwb3B1bGF0ZVNraWxsc1RhYmxlKCkge1xyXG4gICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2tpbGxzVGFibGUnKTtcclxuXHJcbiAgICAvLyBJZiB0aGUgdGFibGUgaXMgZW1wdHksIGNyZWF0ZSB0aGUgcm93cyBhbmQgcHJvZ3Jlc3MgYmFyc1xyXG4gICAgaWYgKCFoYXNHZW5lcmF0ZWRTa2lsbFRhYmxlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHZW5lcmF0aW5nIHRhYmxlIGZvciB0aGUgZmlyc3QgdGltZVwiKTtcclxuICAgICAgICBoYXNHZW5lcmF0ZWRTa2lsbFRhYmxlID0gdHJ1ZTtcclxuICAgICAgICAvLyBcclxuICAgICAgICBmb3IgKGxldCBza2lsbCBpbiBza2lsbHMpIHtcclxuICAgICAgICAgICAgbGV0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgICAgICAgdHIuaWQgPSAndHItJyArIHNraWxsO1xyXG4gICAgICAgICAgICBsZXQgdGRQcm9ncmVzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgICAgIHRkUHJvZ3Jlc3Muc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG5cclxuICAgICAgICAgICAgbGV0IHByb2dyZXNzQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHByb2dyZXNzQmFyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncHJvZ3Jlc3NCYXInKTtcclxuICAgICAgICAgICAgLy8gaWYgKGlzRGFyaykge1xyXG4gICAgICAgICAgICAvLyAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMyMjhCMjInO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM1MEM4NzgnO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIHByb2dyZXNzQmFyLnN0eWxlLmhlaWdodCA9ICcyMHB4JztcclxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc2V0QXR0cmlidXRlKCdkYXRhLXNraWxsJywgc2tpbGwpOyAvLyBBc3NpZ24gYSBkYXRhIGF0dHJpYnV0ZSBmb3IgaWRlbnRpZmljYXRpb25cclxuXHJcbiAgICAgICAgICAgIGxldCBza2lsbFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnRleHRDb250ZW50ID0gJ1tsZXZlbCAnICsgc2tpbGxzW3NraWxsXS5sZXZlbCArICddICAgJyArIHNraWxsO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc2V0QXR0cmlidXRlKCdpZCcsICdsZXZlbC0nICsgc2tpbGwpO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc3R5bGUubGVmdCA9ICcxMHB4JztcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTUwJSknO1xyXG5cclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmV4cCA9PSAwICYmIHNraWxsc1tza2lsbF0ubGV2ZWwgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdHIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ZFByb2dyZXNzLmFwcGVuZENoaWxkKHByb2dyZXNzQmFyKTtcclxuICAgICAgICAgICAgdGRQcm9ncmVzcy5hcHBlbmRDaGlsZChza2lsbFRleHQpO1xyXG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZFByb2dyZXNzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBEaXNwbGF5IGV2ZXJ5dGhpbmcgd2UgY2FuXHJcbiAgICAgICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2tpbGxzW3NraWxsXS5leHAgPiAwIHx8IHNraWxsc1tza2lsbF0ubGV2ZWwgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ci0nICsgc2tpbGwpLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZ3Jlc3NCYXJbZGF0YS1za2lsbD1cIiR7c2tpbGx9XCJdYCk7XHJcbiAgICAgICAgICAgIGlmIChwcm9ncmVzc0Jhcikge1xyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9IHNraWxsc1tza2lsbF0uZXhwICsgJyUnO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNraWxsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGV2ZWwtXCIgKyBza2lsbCk7XHJcbiAgICAgICAgICAgICAgICBza2lsbE5hbWUudGV4dENvbnRlbnQgPSAnW2xldmVsICcgKyBza2lsbHNbc2tpbGxdLmxldmVsICsgJ10gICAnICsgc2tpbGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBpc0J1dHRvbklkVmlzaWJsZShpZCkge1xyXG4gICAgcmV0dXJuIGFsbFZpc2libGVCdXR0b25zLmhhcyhpZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFZpc2libGVCdXR0b24oaWQpIHtcclxuICAgIGFsbFZpc2libGVCdXR0b25zLmFkZChpZCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgZ2V0TWF4LFxyXG4gICAgdXBkYXRlU2tpbGxzLFxyXG4gICAgcG9wdWxhdGVTa2lsbHNUYWJsZSxcclxuICAgIGNhbGNDcmFmdEJvbnVzLFxyXG4gICAgaXNCdXR0b25JZFZpc2libGUsXHJcbiAgICBzZXRWaXNpYmxlQnV0dG9uLFxyXG4gICAgaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSxcclxuICAgIGNsZWFyU2lkZWJhcixcclxufTtcclxuXHJcbiIsIi8qKlxyXG4gKiBBIG1hcCBvZiBhbGwgam9icyB0aGF0IHJlcXVpcmUgYSBwb25kZXIgdG8gYmUgdW5sb2NrZWRcclxuICpcclxuICogSm9iOiBSZXF1aXJlZFBvbmRlclxyXG4gKi9cclxuY29uc3Qgam9iUmVxdWlyZWRQb25kZXJzID0ge1xyXG4gICAgJ3RoaW5raW5nJzogJ3RoaW5raW5nJyxcclxuICAgICdmaXNoaW5nJzogJ2Zpc2hpbmcnLFxyXG4gICAgJ3NtaXRoaW5nJzogJ25vdC11bmxvY2thYmxlJyxcclxuICAgICdmYXJtaW5nJzogJ2FncmljdWx0dXJlJyxcclxuICAgICdjb21iYXQnOiAnY29tYmF0JyxcclxuICAgICdodW50aW5nJzogJ2h1bnRpbmcnXHJcbn07XHJcbmV4cG9ydHMuam9iUmVxdWlyZWRQb25kZXJzID0gam9iUmVxdWlyZWRQb25kZXJzO1xyXG4iLCIvLyBAdHMtbm9jaGVja1xyXG4vLyBERVBFTkRTIE9OOiBza2lsbHMuanMsIHBvbmRlci5qc1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZSgnLi9qc29uL3NraWxscycpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5cclxuXHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkIH0gPSByZXF1aXJlKFwiLi9wb25kZXJcIik7XHJcbmNvbnN0IHsgZ2V0TWF4IH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IHRyaWdnZXJGbG9hdFVwVGV4dCB9ID0gcmVxdWlyZSgnLi90cmlnZ2VyRmxvYXRVcFRleHQnKTtcclxuXHJcbi8qIEpPQlMgRlVOQ1RJT05BTElUWSAqL1xyXG5cclxuXHJcbmNvbnN0IGpvYkNvdW50cyA9IHt9O1xyXG5mb3IgKGxldCBza2lsbCBpbiBza2lsbHMpIHtcclxuICAgIGpvYkNvdW50c1tza2lsbF0gPSAwO1xyXG59XHJcblxyXG5cclxuXHJcbmNvbnN0IGpvYnNUYWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnam9ic1RhYicpO1xyXG5cclxuT2JqZWN0LmtleXMoc2tpbGxzKS5mb3JFYWNoKHNraWxsID0+IHtcclxuICAgIGNvbnN0IGpvYkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgam9iRGl2LmNsYXNzTGlzdC5hZGQoJ2pvYi1idXR0b24nKTtcclxuICAgIGpvYkRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJywgc2tpbGwpO1xyXG4gICAgam9iRGl2LmlkID0gJ2pvYi1idXR0b24tJyArIHNraWxsO1xyXG5cclxuICAgIGNvbnN0IGRlY3JlbWVudERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgZGVjcmVtZW50RGl2LmNsYXNzTGlzdC5hZGQoJ2J0bi1kZWNyZW1lbnQnKTtcclxuICAgIGRlY3JlbWVudERpdi50ZXh0Q29udGVudCA9ICctJztcclxuICAgIGpvYkRpdi5hcHBlbmRDaGlsZChkZWNyZW1lbnREaXYpO1xyXG5cclxuICAgIGNvbnN0IGpvYk5hbWVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgam9iTmFtZVNwYW4uY2xhc3NMaXN0LmFkZCgnam9iLW5hbWUnKTtcclxuICAgIGpvYk5hbWVTcGFuLnRleHRDb250ZW50ID0gYCR7c2tpbGwuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBza2lsbC5zbGljZSgxKX06IDBgO1xyXG4gICAgam9iRGl2LmFwcGVuZENoaWxkKGpvYk5hbWVTcGFuKTtcclxuXHJcbiAgICBjb25zdCBpbmNyZW1lbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGluY3JlbWVudERpdi5jbGFzc0xpc3QuYWRkKCdidG4taW5jcmVtZW50Jyk7XHJcbiAgICBpbmNyZW1lbnREaXYudGV4dENvbnRlbnQgPSAnKyc7XHJcbiAgICBqb2JEaXYuYXBwZW5kQ2hpbGQoaW5jcmVtZW50RGl2KTtcclxuXHJcbiAgICBqb2JzVGFiLmFwcGVuZENoaWxkKGpvYkRpdik7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ0bi1pbmNyZW1lbnQnKS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBqb2JUeXBlID0gdGhpcy5jbG9zZXN0KCcuam9iLWJ1dHRvbicpLmdldEF0dHJpYnV0ZSgnZGF0YS1qb2InKTtcclxuICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwoJ2Nsb25lcycsIHJlc291cmNlcykgPiBnZXRUb3RhbEpvYnMoKSkge1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gZXZlbnQucGFnZVg7IC8vIFggY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2tcclxuICAgICAgICAgICAgY29uc3QgeSA9IGV2ZW50LnBhZ2VZOyAvLyBZIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrXHJcblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBkaWZmZXJlbmNlID0gZ2V0TWF0ZXJpYWwoJ2Nsb25lcycsIHJlc291cmNlcykgLSBnZXRUb3RhbEpvYnMoKTtcclxuICAgICAgICAgICAgICAgIGpvYkNvdW50c1tqb2JUeXBlXSArPSBkaWZmZXJlbmNlO1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckZsb2F0VXBUZXh0KHgsIHksIGArJHtkaWZmZXJlbmNlfSB3b3JrZXJzYCwgJ2dyZWVuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBqb2JDb3VudHNbam9iVHlwZV0rKztcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJGbG9hdFVwVGV4dCh4LCB5LCAnKzEgd29ya2VyJywgJ2dyZWVuJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRpc3RyaWJ1dGVXb3JrZXJzKGpvYlR5cGUsIGpvYkNvdW50c1tqb2JUeXBlXSk7XHJcbiAgICAgICAgICAgIHVwZGF0ZURpc3BsYXkoam9iVHlwZSk7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHdvcmtlcnNEaXN0cmlidXRpb24pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ0bi1kZWNyZW1lbnQnKS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBqb2JUeXBlID0gdGhpcy5jbG9zZXN0KCcuam9iLWJ1dHRvbicpLmdldEF0dHJpYnV0ZSgnZGF0YS1qb2InKTtcclxuICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgbGV0IG51bVdvcmtlcnMgPSBqb2JDb3VudHNbam9iVHlwZV07XHJcbiAgICAgICAgICAgIGpvYkNvdW50c1tqb2JUeXBlXSA9IDA7XHJcblxyXG4gICAgICAgICAgICBkaXN0cmlidXRlV29ya2Vycyhqb2JUeXBlLCBqb2JDb3VudHNbam9iVHlwZV0pO1xyXG4gICAgICAgICAgICB1cGRhdGVEaXNwbGF5KGpvYlR5cGUpO1xyXG4gICAgICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgeCA9IGV2ZW50LnBhZ2VYOyAvLyBYIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrXHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSBldmVudC5wYWdlWTsgLy8gWSBjb29yZGluYXRlIG9mIHRoZSBjbGlja1xyXG4gICAgICAgICAgICBpZiAobnVtV29ya2VycyA+IDApIHRyaWdnZXJGbG9hdFVwVGV4dCh4LCB5LCBgLSR7bnVtV29ya2Vyc30gd29ya2Vyc2AsICdyZWQnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGpvYkNvdW50c1tqb2JUeXBlXSA+IDApIHtcclxuICAgICAgICAgICAgam9iQ291bnRzW2pvYlR5cGVdLS07XHJcbiAgICAgICAgICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwoJ2Nsb25lcycsIDEpO1xyXG4gICAgICAgICAgICBkaXN0cmlidXRlV29ya2Vycyhqb2JUeXBlLCBqb2JDb3VudHNbam9iVHlwZV0pO1xyXG4gICAgICAgICAgICB1cGRhdGVEaXNwbGF5KGpvYlR5cGUpO1xyXG4gICAgICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgeCA9IGV2ZW50LnBhZ2VYOyAvLyBYIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrXHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSBldmVudC5wYWdlWTsgLy8gWSBjb29yZGluYXRlIG9mIHRoZSBjbGlja1xyXG4gICAgICAgICAgICB0cmlnZ2VyRmxvYXRVcFRleHQoeCwgeSwgJy0xIHdvcmtlcicsICdyZWQnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFRvdGFsSm9icygpIHtcclxuICAgIHZhciB0b3RhbCA9IDA7XHJcbiAgICBmb3IgKGxldCBqIGluIGpvYkNvdW50cykge1xyXG4gICAgICAgIHRvdGFsICs9IGpvYkNvdW50c1tqXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0b3RhbDtcclxufVxyXG5cclxuLy8gR2xvYmFsIGZvciB3aGljaCByZXNvdXJjZSBlYWNoIGNsb25lIGdhdGhlcnNcclxubGV0IHdvcmtlcnNEaXN0cmlidXRpb24gPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIGRpc3RyaWJ1dGVXb3JrZXJzKHNraWxsLCB0b3RhbFdvcmtlcnMpIHtcclxuICAgIGlmICghc2tpbGxzW3NraWxsXSkgcmV0dXJuIG51bGw7ICAvLyBSZXR1cm4gbnVsbCBpZiB0aGUgc2tpbGwgZG9lc24ndCBleGlzdFxyXG5cclxuICAgIGxldCBhZmZlY3RlZFJlc291cmNlcyA9IHNraWxsc1tza2lsbF0uYWZmZWN0ZWRSZXNvdXJjZXM7XHJcblxyXG4gICAgLy8gRmlsdGVyIGFmZmVjdGVkUmVzb3VyY2VzIHRvIG9ubHkgY29udGFpbiBrZXlzIHRoYXQgYXJlIHByZXNlbnQgaW4gdGhlIHJlc291cmNlcyBtYXBcclxuICAgIGFmZmVjdGVkUmVzb3VyY2VzID0gYWZmZWN0ZWRSZXNvdXJjZXMuZmlsdGVyKHJlc291cmNlID0+IHJlc291cmNlIGluIHJlc291cmNlcyk7XHJcblxyXG4gICAgLy8gbGV0IGE7XHJcbiAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IGFmZmVjdGVkUmVzb3VyY2VzLmxlbmd0aDsgYSA9IGFmZmVjdGVkUmVzb3VyY2VzW2ldKSB7XHJcblxyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKGEpO1xyXG4gICAgLy8gICAgIGlmICghcmVzb3VyY2VzW2FdKSB7XHJcblxyXG4gICAgLy8gICAgICAgICBjb25zdCBpbmRleCA9IGFmZmVjdGVkUmVzb3VyY2VzLmluZGV4T2YoYSk7XHJcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGEsIGluZGV4KTtcclxuICAgIC8vICAgICAgICAgbGV0IHggPSBhZmZlY3RlZFJlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICsraTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcbiAgICAvLyBjb25zb2xlLmxvZyhhZmZlY3RlZFJlc291cmNlcyk7XHJcbiAgICBsZXQgbnVtYmVyT2ZSZXNvdXJjZXMgPSBhZmZlY3RlZFJlc291cmNlcy5sZW5ndGg7XHJcblxyXG4gICAgLy8gSW5pdGlhbCBldmVuIGRpc3RyaWJ1dGlvblxyXG4gICAgbGV0IHBlclJlc291cmNlID0gTWF0aC5mbG9vcih0b3RhbFdvcmtlcnMgLyBudW1iZXJPZlJlc291cmNlcyk7XHJcblxyXG4gICAgLy8gRXZlbmx5IGRpc3RyaWJ1dGUgd29ya2VycyBhbW9uZyB0aGUgYWZmZWN0ZWQgcmVzb3VyY2VzXHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBvZiBhZmZlY3RlZFJlc291cmNlcykge1xyXG4gICAgICAgIHdvcmtlcnNEaXN0cmlidXRpb24uc2V0KHJlc291cmNlLCBwZXJSZXNvdXJjZSk7XHJcbiAgICAgICAgaWYgKHBlclJlc291cmNlID4gMCkgbW92ZUJhbGxGcm9tSm9iVG9SZXNvdXJjZShza2lsbCwgcmVzb3VyY2UpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBEaXN0cmlidXRlIGFueSByZW1haW5pbmcgd29ya2VycyBkdWUgdG8gcm91bmRpbmdcclxuICAgIGxldCByZW1haW5pbmdXb3JrZXJzID0gdG90YWxXb3JrZXJzIC0gKHBlclJlc291cmNlICogbnVtYmVyT2ZSZXNvdXJjZXMpO1xyXG4gICAgZm9yIChsZXQgcmVzb3VyY2Ugb2YgYWZmZWN0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICBpZiAocmVtYWluaW5nV29ya2VycyA+IDApIHtcclxuICAgICAgICAgICAgd29ya2Vyc0Rpc3RyaWJ1dGlvbi5zZXQocmVzb3VyY2UsIHdvcmtlcnNEaXN0cmlidXRpb24uZ2V0KHJlc291cmNlKSArIDEpO1xyXG4gICAgICAgICAgICByZW1haW5pbmdXb3JrZXJzLS07XHJcbiAgICAgICAgICAgIG1vdmVCYWxsRnJvbUpvYlRvUmVzb3VyY2Uoc2tpbGwsIHJlc291cmNlKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyh3b3JrZXJzRGlzdHJpYnV0aW9uKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbW92ZUJhbGxGcm9tSm9iVG9SZXNvdXJjZShqb2JUeXBlLCBhZmZlY3RlZFJlc291cmNlKSB7XHJcbiAgICAvLyBGaW5kIHRoZSBqb2IgYnV0dG9uXHJcbiAgICBjb25zdCBqb2JCdXR0b24gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qb2ItYnV0dG9uJykpXHJcbiAgICAgICAgLmZpbmQoYnRuID0+IGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJykgPT09IGpvYlR5cGUpO1xyXG5cclxuICAgIGlmICgham9iQnV0dG9uIHx8IGpvYkJ1dHRvbi5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHJldHVybjsgLy8gSm9iIGJ1dHRvbiBub3QgZm91bmRcclxuXHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJlc291cmNlLSR7YWZmZWN0ZWRSZXNvdXJjZX1gKTtcclxuICAgIGlmICghcmVzb3VyY2VEaXNwbGF5IHx8IHJlc291cmNlRGlzcGxheS5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHJldHVybjsgLy8gUmVzb3VyY2UgZGlzcGxheSBub3QgZm91bmRcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgcG9zaXRpb25zXHJcbiAgICBjb25zdCBqb2JCdXR0b25SZWN0ID0gam9iQnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgY29uc3QgcmVzb3VyY2VSZWN0ID0gcmVzb3VyY2VEaXNwbGF5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIGJhbGwgZWxlbWVudFxyXG4gICAgY29uc3QgYmFsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgYmFsbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICBiYWxsLnN0eWxlLndpZHRoID0gJzEwcHgnO1xyXG4gICAgYmFsbC5zdHlsZS5oZWlnaHQgPSAnMTBweCc7XHJcbiAgICBiYWxsLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MCUnO1xyXG4gICAgYmFsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnd2hpdGUnO1xyXG4gICAgYmFsbC5zdHlsZS5vcGFjaXR5ID0gJy44JztcclxuICAgIGJhbGwuc3R5bGUubGVmdCA9IGAke2pvYkJ1dHRvblJlY3QubGVmdCArIHdpbmRvdy5zY3JvbGxYfXB4YDtcclxuICAgIGJhbGwuc3R5bGUudG9wID0gYCR7am9iQnV0dG9uUmVjdC50b3AgKyB3aW5kb3cuc2Nyb2xsWX1weGA7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJhbGwpO1xyXG5cclxuICAgIC8vIEFuaW1hdGUgdGhlIGJhbGxcclxuICAgIGNvbnN0IGFuaW1hdGlvbiA9IGJhbGwuYW5pbWF0ZShbXHJcbiAgICAgICAgeyB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtyZXNvdXJjZVJlY3QubGVmdCAtIGpvYkJ1dHRvblJlY3QubGVmdH1weCwgJHtyZXNvdXJjZVJlY3QudG9wIC0gam9iQnV0dG9uUmVjdC50b3B9cHgpYCB9XHJcbiAgICBdLCB7XHJcbiAgICAgICAgZHVyYXRpb246IDEwMDAsIC8vIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcclxuICAgICAgICAvLyBmaWxsOiAnZm9yd2FyZHMnIC8vIEtlZXAgdGhlIGJhbGwgYXQgdGhlIGVuZCBwb3NpdGlvbiBhZnRlciBhbmltYXRpb25cclxuICAgICAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoLjIzLC0wLjM0LDAsMS4wNiknXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFdmVudCBsaXN0ZW5lciB0byBoaWRlIHRoZSBiYWxsIGFmdGVyIGFuaW1hdGlvblxyXG4gICAgYW5pbWF0aW9uLm9uZmluaXNoID0gKCkgPT4ge1xyXG4gICAgICAgIGJhbGwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH07XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0V29ya2VycyhyZXNvdXJjZU5hbWUpIHtcclxuICAgIHJldHVybiB3b3JrZXJzRGlzdHJpYnV0aW9uLmdldChyZXNvdXJjZU5hbWUpO1xyXG59XHJcblxyXG4vLyBjb25zdCBhbGxKb2JCdXR0b25icyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qb2ItYnV0dG9uJyk7XHJcbmZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoam9iVHlwZSkge1xyXG4gICAgY29uc3QgdGhpc0pvYkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qb2ItYnV0dG9uW2RhdGEtam9iPVwiJHtqb2JUeXBlfVwiXWApO1xyXG4gICAgaWYgKCF0aGlzSm9iQnV0dG9uKSBjb25zb2xlLndhcm4oXCJDb3VsZG4ndCBmaW5kIGpvYiBidXR0b24gZm9yIGpvYjogXCIsIGpvYlR5cGUpO1xyXG4gICAgY29uc3Qgam9iRWxlbWVudCA9IHRoaXNKb2JCdXR0b24ucXVlcnlTZWxlY3RvcihgLmpvYi1uYW1lYCk7XHJcbiAgICBpZiAoam9iRWxlbWVudCkgam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGAke2pvYlR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBqb2JUeXBlLnNsaWNlKDEpfTogJHtqb2JDb3VudHNbam9iVHlwZV19YDtcclxuXHJcbiAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLnVwZGF0ZUVtb2ppRGlzcGxheSgpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSB0b3RhbCBhc3NpZ25lZCBjbG9uZXMgY291bnRlclxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlVG90YWwoKSB7XHJcbiAgICBjb25zdCB0b3RhbEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjam9icy10b3RhbCcpO1xyXG4gICAgdG90YWxFbGVtZW50LnRleHRDb250ZW50ID0gXCJBc3NpZ25lZCBDbG9uZXM6IFwiICsgZ2V0VG90YWxKb2JzKCkgKyBcIiAvIFwiICsgZ2V0TWF4KCdjbG9uZXMnKTtcclxufVxyXG5cclxuXHJcbmxldCBzdGFydEJ1dHRvbiA9IG51bGw7XHJcbmxldCBjb25uZWN0aW9ucyA9IG5ldyBNYXAoKTsgIC8vIE1hcCB0byBzdG9yZSBjb25uZWN0aW9uc1xyXG5sZXQgbWFuYWdlbWVudCA9IHsgJ2Nvbm5lY3Rpb25zJzogY29ubmVjdGlvbnMsICdtaW5zJzoge30sICdtYXhlcyc6IHt9LCAndHJpZ2dlcnMnOiB7fSB9O1xyXG5sZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbmVDYW52YXMnKTtcclxuXHJcbmZ1bmN0aW9uIHNldENvbm5lY3Rpb25zKG5ld0Nvbm5lY3Rpb25zKSB7XHJcbiAgICBjb25uZWN0aW9ucyA9IG5ld0Nvbm5lY3Rpb25zO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb25uZWN0aW9ucygpIHtcclxuICAgIHJldHVybiBjb25uZWN0aW9ucztcclxufVxyXG5cclxuLy8gaWYgKGNhbnZhcykge1xyXG4vLyBAdHMtaWdub3JlXHJcbmxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuLy8gQHRzLWlnbm9yZVxyXG5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuLy8gQHRzLWlnbm9yZVxyXG5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4vLyB9XHJcblxyXG4vLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9iLWJ1dHRvbicpO1xyXG5cclxuLy8gICAgIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4vLyAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbi8vICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuYnRuLWRlY3JlbWVudCcpIHx8IGUudGFyZ2V0LmNsb3Nlc3QoJy5idG4taW5jcmVtZW50JykpIHJldHVybjtcclxuXHJcbi8vICAgICAgICAgICAgIGlmICghaXNQb25kZXJlZCgnbWFuYWdlbWVudCcpKSByZXR1cm47XHJcblxyXG4vLyAgICAgICAgICAgICBsZXQgam9iQnV0dG9uID0gZS50YXJnZXQuY2xvc2VzdCgnLmpvYi1idXR0b24nKTtcclxuXHJcbi8vICAgICAgICAgICAgIGlmIChqb2JCdXR0b24pIHtcclxuLy8gICAgICAgICAgICAgICAgIGlmICghc3RhcnRCdXR0b24pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdGFydEJ1dHRvbiA9IGpvYkJ1dHRvbjtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdGFydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQnKTtcclxuLy8gICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRCdXR0b24uaWQgJiYgam9iQnV0dG9uLmlkKSB7IC8vIEVuc3VyZSBib3RoIElEcyBhcmUgYXZhaWxhYmxlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuc2V0KHN0YXJ0QnV0dG9uLmlkLCBqb2JCdXR0b24uaWQpO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IGFsbCBjb25uZWN0aW9uc1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGRyYXdBbGxDb25uZWN0aW9ucygpO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgICAgICAvLyBSZXNldFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uID0gbnVsbDtcclxuLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTWlzc2luZyBJRCBmb3Igb25lIG9mIHRoZSBidXR0b25zOicsIHN0YXJ0QnV0dG9uLCBqb2JCdXR0b24pO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2xpY2tlZCBlbGVtZW50IGlzIG5vdCBpbnNpZGUgYSBqb2IgYnV0dG9uOicsIGUudGFyZ2V0KTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0pO1xyXG5cclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChlKSB7XHJcbi8vICAgICAgICAgaWYgKHN0YXJ0QnV0dG9uKSB7XHJcbi8vICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIERyYXcgZXhpc3RpbmcgY29ubmVjdGlvbnNcclxuLy8gICAgICAgICAgICAgZHJhd0FsbENvbm5lY3Rpb25zKCk7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBEcmF3IHRoZSBsaW5lIGZyb20gc3RhcnRCdXR0b24gdG8gY3VycmVudCBtb3VzZSBwb3NpdGlvblxyXG4vLyAgICAgICAgICAgICBkcmF3TGluZShzdGFydEJ1dHRvbiwgZS5jbGllbnRYLCBlLmNsaWVudFkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG4vLyB9KTtcclxuXHJcbmZ1bmN0aW9uIGRyYXdBbGxDb25uZWN0aW9ucygpIHtcclxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgIHRyeSB7XHJcblxyXG5cclxuICAgICAgICBmb3IgKGxldCBbb2xkSWQsIG5ld0lkXSBvZiBjb25uZWN0aW9ucy5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgbGV0IG9sZEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9sZElkKTtcclxuICAgICAgICAgICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5ld0lkKTtcclxuICAgICAgICAgICAgbGV0IHJlY3QgPSBuZXdCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIGxldCBuZXdYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIGxldCBuZXdZID0gMDtcclxuICAgICAgICAgICAgaWYgKHJlY3QuYm90dG9tID4gb2xkQnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSkgbmV3WSA9IG5ld0J1dHRvbi5vZmZzZXRUb3AgLSAxMDtcclxuICAgICAgICAgICAgZWxzZSBuZXdZID0gbmV3QnV0dG9uLm9mZnNldFRvcCArIG5ld0J1dHRvbi5vZmZzZXRIZWlnaHQgKyAxMDtcclxuICAgICAgICAgICAgZHJhd0xpbmUob2xkQnV0dG9uLCBuZXdYLCBuZXdZKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgY29uc29sZS53YXJuKCdkcmF3QWxsQ29ubmVjdGlvbnMnLCBlcnJvcik7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0Fycm93aGVhZChjb250ZXh0LCBmcm9tWCwgZnJvbVksIHRvWCwgdG9ZLCByYWRpdXMpIHtcclxuICAgIGxldCB4X2NlbnRlciA9IHRvWDtcclxuICAgIGxldCB5X2NlbnRlciA9IHRvWTtcclxuXHJcbiAgICBsZXQgYW5nbGU7XHJcbiAgICBsZXQgeDtcclxuICAgIGxldCB5O1xyXG5cclxuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgYW5nbGUgPSBNYXRoLmF0YW4yKHRvWSAtIGZyb21ZLCB0b1ggLSBmcm9tWCk7XHJcbiAgICB4ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpICsgeF9jZW50ZXI7XHJcbiAgICB5ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpICsgeV9jZW50ZXI7XHJcblxyXG4gICAgY29udGV4dC5tb3ZlVG8oeCwgeSk7XHJcblxyXG4gICAgYW5nbGUgKz0gKDEgLyAzKSAqICgyICogTWF0aC5QSSk7XHJcbiAgICB4ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpICsgeF9jZW50ZXI7XHJcbiAgICB5ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpICsgeV9jZW50ZXI7XHJcblxyXG4gICAgY29udGV4dC5saW5lVG8oeCwgeSk7XHJcblxyXG4gICAgYW5nbGUgKz0gKDEgLyAzKSAqICgyICogTWF0aC5QSSk7XHJcbiAgICB4ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpICsgeF9jZW50ZXI7XHJcbiAgICB5ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpICsgeV9jZW50ZXI7XHJcblxyXG4gICAgY29udGV4dC5saW5lVG8oeCwgeSk7XHJcblxyXG4gICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuXHJcbiAgICBjb250ZXh0LmZpbGwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0xpbmUoc3RhcnRFbGVtZW50LCBlbmRYLCBlbmRZKSB7XHJcbiAgICBsZXQgcmVjdCA9IHN0YXJ0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIC8vIGxldCBvZmZzZXQgPSBNYXRoLnJhbmRvbSgpICogMTAwICsgMTAwXHJcbiAgICBsZXQgc3RhcnRYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7IC8vIC0gb2Zmc2V0O1xyXG4gICAgLy8gZW5kWCAtPSBvZmZzZXQ7XHJcbiAgICBsZXQgc3RhcnRZID0gc2Nyb2xsWSArIHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xyXG5cclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xyXG4gICAgY3R4LmxpbmVUbyhlbmRYLCBlbmRZKTtcclxuICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAvLyBEcmF3IGFycm93IGF0IHRoZSBlbmQgb2YgdGhlIGxpbmVcclxuICAgIGRyYXdBcnJvd2hlYWQoY3R4LCBzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSwgMTApOyAgLy8gYWRqdXN0IHRoZSBsYXN0IHBhcmFtZXRlciBmb3IgYXJyb3cgc2l6ZVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhckpvYkFzc2lnbm1lbnRzKCkge1xyXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgY29ubmVjdGlvbnMgPSBuZXcgTWFwKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMoKSB7XHJcbiAgICAvLyBGb3IgZWFjaCBjb25uZWN0aW9uXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBjb25uZWN0aW9ucy5lbnRyaWVzKCk7XHJcbiAgICAgICAgaWYgKGVudHJpZXMgPT09IHVuZGVmaW5lZCkgdGhyb3cgJ0VudHJpZXMgaXMgdW5kZWZpbmVkJztcclxuXHJcbiAgICAgICAgZm9yIChsZXQgW29sZEpvYklkLCBuZXdKb2JJZF0gb2YgZW50cmllcykge1xyXG4gICAgICAgICAgICBsZXQgb2xkSm9iQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2xkSm9iSWQpO1xyXG4gICAgICAgICAgICBsZXQgZGF0YUpvYiA9IG9sZEpvYkJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBvbGRJZCA9IG9sZEpvYklkLnJlcGxhY2UoJ2pvYi1idXR0b24tJywgJycpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdJZCA9IG5ld0pvYklkLnJlcGxhY2UoJ2pvYi1idXR0b24tJywgJycpO1xyXG4gICAgICAgICAgICBsZXQgbWF4ZWRPdXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgbGV0IHJlc291cmNlQXJyYXkgPSBza2lsbHNbZGF0YUpvYl0uYWZmZWN0ZWRSZXNvdXJjZXM7XHJcbiAgICAgICAgICAgIGlmICghcmVzb3VyY2VBcnJheSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZUFycmF5KTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIHJlc291cmNlQXJyYXkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcl0gIT09IHVuZGVmaW5lZCAmJiBnZXRNYXRlcmlhbChyKSA8IHJlc291cmNlc1tyXS5tYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyLCBnZXRNYXRlcmlhbChyKSwgcmVzb3VyY2VzW3JdLm1heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ZWRPdXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG1heGVkT3V0ICYmIGpvYkNvdW50c1tkYXRhSm9iXSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaEpvYihvbGRJZCwgbmV3SWQpO1xyXG4gICAgICAgICAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMob2xkSWQsIGpvYkNvdW50c1tvbGRJZF0pO1xyXG4gICAgICAgICAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMobmV3SWQsIGpvYkNvdW50c1tuZXdJZF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAocmVzb3VyY2VzW2FmZmVjdGVkUmVzb3VyY2VdLmN1cnJlbnRWYWx1ZSA+PSByZXNvdXJjZXNbYWZmZWN0ZWRSZXNvdXJjZV0ubWF4VmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gICAgIHN3aXRjaEpvYihvbGRKb2JJZCwgbmV3Sm9iSWQpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgY29uc29sZS53YXJuKCdyZWFzc2lnbkpvYnMnLCBlcnJvcik7IH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN3aXRjaEpvYihvbGRKb2JJZCwgbmV3Sm9iSWQpIHtcclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gc3dpdGNoZXMgd29ya2VycyBmcm9tIG9sZEpvYiB0byBuZXdKb2IuXHJcbiAgICAvLyBEZXBlbmRpbmcgb24geW91ciBhcHBsaWNhdGlvbiBzdHJ1Y3R1cmUsIHlvdSBjYW4gaW1wbGVtZW50IHRoaXMgZnVuY3Rpb24gYWNjb3JkaW5nbHkuXHJcbiAgICAvLyBGb3IgZXhhbXBsZSwgcmVkdWNlIHRoZSBjb3VudCBvZiB3b3JrZXJzIGluIG9sZEpvYiBhbmQgaW5jcmVhc2UgaW4gbmV3Sm9iLlxyXG4gICAgLy8gY29uc29sZS5sb2coYFN3aXRjaGluZyB3b3JrZXJzIGZyb20gJHtvbGRKb2JJZH0gdG8gJHtuZXdKb2JJZH1gKTtcclxuXHJcbiAgICBsZXQgd29ya2VycyA9IGpvYkNvdW50c1tvbGRKb2JJZF07XHJcbiAgICBqb2JDb3VudHNbb2xkSm9iSWRdID0gMDtcclxuICAgIGpvYkNvdW50c1tuZXdKb2JJZF0gKz0gd29ya2VycztcclxuICAgIHVwZGF0ZURpc3BsYXkob2xkSm9iSWQpO1xyXG4gICAgdXBkYXRlRGlzcGxheShuZXdKb2JJZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0QWxsSm9icygpIHtcclxuICAgIC8vIGpvYkNvdW50cyA9IHt9O1xyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgam9iQ291bnRzW3NraWxsXSA9IDA7XHJcbiAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMoc2tpbGwsIDApO1xyXG4gICAgICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheShza2lsbCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY2xlYXJKb2JBc3NpZ25tZW50cyxcclxuICAgIHJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMsXHJcbiAgICBzd2l0Y2hKb2IsXHJcbiAgICBkcmF3QWxsQ29ubmVjdGlvbnMsXHJcbiAgICBnZXRXb3JrZXJzLFxyXG4gICAgdXBkYXRlVG90YWwsXHJcbiAgICBzZXRDb25uZWN0aW9ucyxcclxuICAgIGdldENvbm5lY3Rpb25zLFxyXG4gICAgZGlzdHJpYnV0ZVdvcmtlcnMsXHJcbiAgICB1cGRhdGVEaXNwbGF5LFxyXG4gICAgam9iQ291bnRzLFxyXG4gICAgcmVzZXRBbGxKb2JzXHJcbn07IiwiY29uc3QgeyBoYXNQZXJrIH0gPSByZXF1aXJlKFwiLi4vcGVya3NcIik7XHJcbmNvbnN0IHsgcmVjYWxjTWF4Q2xvbmVzIH0gPSByZXF1aXJlKFwiLi4vcmVjYWxjTWF4Q2xvbmVzXCIpO1xyXG5jb25zdCB7IHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0IH0gPSByZXF1aXJlKFwiLi4vcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3RcIik7XHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCB9ID0gcmVxdWlyZShcIi4uL3VwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnRcIik7XHJcblxyXG5jb25zdCBidWlsZGluZ3MgPSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIT1VTSU5HXHJcbiAgICAgKi9cclxuICAgIFwic2hlbHRlclwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwic3RpY2tzXCI6IDMwIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJjbG9uZXNcIjogMSB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZvciB3aGVuIHlvdSBuZWVkIGEgaG9tZSBhd2F5IGZyb20gaG9tZS5cIixcclxuICAgICAgICBlbW9qaTogJ+WFqydcclxuICAgIH0sXHJcbiAgICAnaHV0Jzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7ICdzdGlja3MnOiA1MCwgJ3ZpbmVzJzogMzAgfSxcclxuICAgICAgICAnZWZmZWN0cyc6IHsgJ2Nsb25lcyc6IDEgfSxcclxuICAgICAgICBib29zdDoge30sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0EgY296eSwgaWR5bGxpYyBjaHVuayBvZiB3b29kLicsXHJcbiAgICAgICAgZW1vamk6ICflhoInXHJcbiAgICB9LFxyXG4gICAgXCJob3VzZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwid29vZFwiOiA1MCwgXCJyb2Nrc1wiOiAyMCwgJ2Zpc2gnOiAxMCB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwiY2xvbmVzXCI6IDIgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuNCxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJFdmVyeSBjbG9uZSdzIGRyZWFtLiBNaW51cyB0aGUgd2hpdGUgcGlja2V0IGZlbmNlLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn5LuLJ1xyXG4gICAgfSxcclxuICAgICd0ZWVwZWUnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgJ3dvb2QnOiAxMCwgJ2hpZGVzJzogMjUsICdmaXNoJzogMTUgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICdjbG9uZXMnOiAyIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV3JhcCBzb21lIGhpZGVzIGFyb3VuZCBzb21lIHdvb2QgYW5kIGNhbGwgaXQgYSBob21lLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn56m0J1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNUT1JBR0VcclxuICAgICAqL1xyXG4gICAgXCJzaGVkXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHsgXCJ3b29kXCI6IDQwIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJ3b29kXCI6IDUwLCBcInN0aWNrc1wiOiA1MCwgXCJyb2Nrc1wiOiAyMCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4xLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlRoZSB1bHRpbWF0ZSBzdG9yYWdlIHNvbHV0aW9uIGZvciB0aGUgcGFjayByYXQgaW4geW91LlwiLFxyXG4gICAgICAgIGVtb2ppOiAn5LiqJ1xyXG4gICAgfSxcclxuICAgICdzdG9ja3BpbGUnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgcm9ja3M6IDMwIH0sXHJcbiAgICAgICAgZWZmZWN0czogeyB3b29kOiAxMDAgfSxcclxuICAgICAgICByYXRpbzogMS4xLFxyXG4gICAgICAgIGJvb3N0OiB7fSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJDaHVjayBhIGJ1bmNoIG9mIGxvZ3MgaW4gYSBwaWxlLCB3aGF0IGNvdWxkIGhhcHBlbj9cIixcclxuICAgICAgICBlbW9qaTogJ+WTgSdcclxuICAgIH0sXHJcbiAgICBcImRyeWluZ19yYWNrc1wiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwic3RpY2tzXCI6IDMwLCBcImZpc2hcIjogNSB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwiZmlzaFwiOiAyMCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4xLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkFpciBkcnlpbmc6IE5hdHVyZSdzIHdheSBvZiBwcmVzZXJ2aW5nIGZvb2QuXCIsXHJcbiAgICAgICAgZW1vamk6ICflm5snXHJcbiAgICB9LFxyXG4gICAgXCJ3b3Jrc2hvcFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwid29vZFwiOiA0MCwgXCJzdGlja3NcIjogMjAsIFwicm9ja3NcIjogMTAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyAncm9ja3MnOiA1MCwgJ29yZSc6IDUwLCAnc2FuZCc6IDEwMCwgJ2NsYXknOiA1MCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkRJWSdzIGRyZWFtIGRlc3RpbmF0aW9uLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOOsCdcclxuICAgIH0sXHJcbiAgICAnYmFybic6IHtcclxuICAgICAgICAnYmFzZWNvc3QnOiB7ICd3b29kJzogMzAsICd3aGVhdCc6IDUgfSxcclxuICAgICAgICAnZWZmZWN0cyc6IHsgJ3doZWF0JzogMTAwLCAnYmVycmllcyc6IDQwLCAndmluZXMnOiA0MCB9LFxyXG4gICAgICAgICdib29zdCc6IHt9LFxyXG4gICAgICAgICdjb3VudCc6IDAsXHJcbiAgICAgICAgJ3JhdGlvJzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkhheSwgd2hhdCdzIGluIHRoYXQgYnVpbGRpbmc/XCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4+GJ1xyXG4gICAgfSxcclxuICAgICdoZXJiYWxpc3RfaHV0Jzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7ICdzdGlja3MnOiA1MCwgJ3ZpbmVzJzogNTAsICdoZXJicyc6IDUwIH0sXHJcbiAgICAgICAgZWZmZWN0czogeyAnaGVyYnMnOiAxMDAsICd2aW5lcyc6IDEwMCB9LFxyXG4gICAgICAgIGJvb3N0OiB7ICdoZXJicyc6IDEuMiwgdmluZXM6IDEuMSB9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQSBwbGFjZSBmb3IgYnJld2luZyBhbmQgc3Rld2luZy5cIixcclxuICAgICAgICBlbW9qaTogJ/CTj4MnXHJcbiAgICB9LFxyXG4gICAgXCJiYWtlcnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogODAsXHJcbiAgICAgICAgICAgIFwid2hlYXRcIjogMTAwLFxyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDQwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyAnd2hlYXQnOiAyMDAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMjUsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkZyZXNobHkgYmFrZWQgYnJlYWQsIGhvdCBhbmQgcmVhZHkuXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4+WJ1xyXG5cclxuICAgIH0sXHJcbiAgICBcImFuaW1hbF9wZW5cIjoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7XHJcbiAgICAgICAgICAgIHN0aWNrczogNTAsXHJcbiAgICAgICAgICAgIGdhbWU6IDIwLFxyXG4gICAgICAgICAgICBmaXNoOiAyNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWZmZWN0czogeyAnZ2FtZSc6IDEwMCwgJ2hpZGVzJzogMzAgfSxcclxuICAgICAgICBib29zdDoge30sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIHBsYWNlIHRvIHB1dCB0aG9zZSBsZXNzZXIgdGhhbiB5b3UuXCIsXHJcbiAgICAgICAgZW1vamk6ICfnmr8nXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBST0RVQ1RJT04gQk9PU1RcclxuICAgICAqL1xyXG4gICAgXCJncm92ZVwiOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgJ3dvb2QnOiAyMCwgJ3ZpbmVzJzogMjAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7fSxcclxuICAgICAgICBib29zdDogeyAnd29vZCc6IDEuMDUsICdzdGlja3MnOiAxLjEgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkEgbmljZSBncm92ZSBvZiB0cmVlcyB0byBmaW5kIHdvb2QgZmFzdGVyLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOGrfCThq0nXHJcbiAgICB9LFxyXG4gICAgXCJmaXNoX3RyYXBzXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb3BlXCI6IDQwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiZmlzaFwiOiAxLjA1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRmlzaGluZyBtYWRlIGVhc3kuIE5vIHBhdGllbmNlIHJlcXVpcmVkLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn5LqVJ1xyXG4gICAgfSxcclxuICAgIFwibWluZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogMzAsXHJcbiAgICAgICAgICAgIFwid29vZFwiOiAzMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcIm9yZVwiOiAxLjA1LCAncm9ja3MnOiAxLjA1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRGlnIGRlZXAgYW5kIGZpbmQgeW91ciBpbm5lciBvcmUuXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4qNJ1xyXG4gICAgfSxcclxuICAgIFwiY2FtcGZpcmVcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDIwLFxyXG4gICAgICAgICAgICBcInN0aWNrc1wiOiAyMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjogeyAnYWxsJzogMS4wNSB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuNSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJXaGVyZSBzdG9yaWVzIGFyZSB0b2xkIGFuZCBtYXJzaG1hbGxvd3MgYXJlIHRvYXN0ZWQuXCIsXHJcbiAgICAgICAgZW1vamk6ICfngasnXHJcbiAgICB9LFxyXG4gICAgXCJsdW1iZXJfeWFyZFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAyMDAsXHJcbiAgICAgICAgICAgIFwiaXJvblwiOiAxXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxLjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJXb29kIHlvdSBsaWtlIHNvbWUgbW9yZSB3b29kP1wiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOMjydcclxuICAgIH0sXHJcbiAgICBcInN0b25lX3F1YXJyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNTAsXHJcbiAgICAgICAgICAgIFwid29vZFwiOiAyMCxcclxuICAgICAgICAgICAgXCJyb3BlXCI6IDMwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiUm9jayBvbiB3aXRoIHlvdXIgYmFkIHNlbGYhXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4qOJ1xyXG4gICAgfSxcclxuICAgIFwiZmlzaGVyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiA0MCxcclxuICAgICAgICAgICAgXCJyb3BlXCI6IDE1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiZmlzaFwiOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGaXNoIGFyZSBmcmllbmRzLiBBbmQgZm9vZC5cIixcclxuICAgICAgICBlbW9qaTogJ/CTjKQnXHJcbiAgICB9LFxyXG4gICAgXCJ2aW5leWFyZFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAyMCxcclxuICAgICAgICAgICAgXCJ2aW5lc1wiOiA1MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcInZpbmVzXCI6IDEuMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZvciB0aGUgZmluZXN0IHZpbmVzLiBXaGF0IGVsc2Ugd291bGQgaXQgZ3Jvdz9cIixcclxuICAgICAgICBlbW9qaTogJ/CfnIwnXHJcbiAgICB9LFxyXG4gICAgXCJmb3JnZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNDAsXHJcbiAgICAgICAgICAgIFwib3JlXCI6IDIwLFxyXG4gICAgICAgICAgICBcIndvb2RcIjogMTAwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwib3JlXCI6IDEuMlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIk1lbHQsIG1vbGQsIGFuZCBtYWtlIG1hcnZlbG91cyBtZXRhbHMuXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4qrJ1xyXG4gICAgfSxcclxuICAgICd3YXRlcl9wdW1wJzoge1xyXG4gICAgICAgICdiYXNlY29zdCc6IHtcclxuICAgICAgICAgICAgJ3JvY2tzJzogMzAsXHJcbiAgICAgICAgICAgICdyb3BlJzogMSxcclxuICAgICAgICAgICAgJ3dvb2QnOiAxMCxcclxuICAgICAgICAgICAgJ3doZWF0JzogMlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2VmZmVjdHMnOiB7ICdmcmVzaHdhdGVyJzogMzAgfSxcclxuICAgICAgICAnYm9vc3QnOiB7XHJcbiAgICAgICAgICAgICdmcmVzaHdhdGVyJzogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnY291bnQnOiAwLFxyXG4gICAgICAgICdyYXRpbyc6IDEuNCxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJGcmVzaCB3YXRlciBvbiBkZW1hbmQhXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4+CJ1xyXG4gICAgfSxcclxuICAgICd0b3dlcic6IHtcclxuICAgICAgICAnYmFzZWNvc3QnOiB7XHJcbiAgICAgICAgICAgICdicmlja3MnOiAyMCxcclxuICAgICAgICAgICAgJ3JvY2tzJzogMTAsXHJcbiAgICAgICAgICAgICd3b29kJzogMzBcclxuICAgICAgICB9LFxyXG4gICAgICAgICdlZmZlY3RzJzoge30sXHJcbiAgICAgICAgJ2Jvb3N0JzogeyAnaGlkZXMnOiAxLjA1LCAnZ2FtZSc6IDEuMSB9LFxyXG4gICAgICAgICdjb3VudCc6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJTZWUgdGhpbmdzIGZyb20gYWZhci5cIixcclxuICAgICAgICBlbW9qaTogJ/CTiqInXHJcbiAgICB9LFxyXG4gICAgXCJ0YW5uZXJ5XCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDYwLFxyXG4gICAgICAgICAgICBcImhpZGVzXCI6IDQwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyAnaGlkZXMnOiA1MCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcImhpZGVzXCI6IDEuMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIFwidG9vbHRpcERlc2NcIjogXCJUcmVhdCBoaWRlcyB0byBtYWtlIHF1YWxpdHkgbGVhdGhlci5cIixcclxuICAgICAgICBlbW9qaTogJ/CTg5QnXHJcbiAgICB9LFxyXG4gICAgXCJtYXJrZXRwbGFjZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxMDAsXHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNTAsXHJcbiAgICAgICAgICAgIFwiYmVycmllc1wiOiA0MCxcclxuICAgICAgICAgICAgXCJnb2xkXCI6IDFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJiZXJyaWVzXCI6IDEuMixcclxuICAgICAgICAgICAgXCJoZXJic1wiOiAxLjIsXHJcbiAgICAgICAgICAgICdvcmUnOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMjUsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkEgYnVzdGxpbmcgaHViIG9mIHRyYWRlIGFuZCBiYXJ0ZXIuXCIsXHJcbiAgICAgICAgZW1vamk6ICfigr8nXHJcbiAgICB9LFxyXG4gICAgXCJ3aW5kbWlsbFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxMDAsXHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNjAsXHJcbiAgICAgICAgICAgIFwid2hlYXRcIjogNTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3aGVhdFwiOiAxLjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICBcInRvb2x0aXBEZXNjXCI6IFwiR3JpbmQgZ3JhaW5zIGVmZmljaWVudGx5IHdpdGggd2luZCBwb3dlci5cIixcclxuICAgICAgICBlbW9qaTogJ9KJJ1xyXG4gICAgfSxcclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUE9OREVSXHJcbiAgICAgKi9cclxuICAgICd0ZWxlc2NvcGUnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHtcclxuICAgICAgICAgICAgZ2xhc3M6IDEsXHJcbiAgICAgICAgICAgIHdvb2Q6IDEwLFxyXG4gICAgICAgICAgICBwb25kZXI6IDEwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7fSxcclxuICAgICAgICBib29zdDogeyBwb25kZXI6IDEuMDUgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkxvb2ssIHVwIGluIHRoZSBza3khIEl0J3MgYSBzdGFyIVwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOMqSdcclxuICAgIH0sXHJcbiAgICBcIm9ic2VydmF0b3J5XCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJicmlja3NcIjogNzAsXHJcbiAgICAgICAgICAgIFwid29vZFwiOiAzMCxcclxuICAgICAgICAgICAgXCJnbGFzc1wiOiA1MCxcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogNTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogMS4yXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiU3RhcmdhemluZyBoYXMgbmV2ZXIgYmVlbiBzby4uLiBwcm9kdWN0aXZlP1wiLFxyXG4gICAgICAgIGVtb2ppOiAn4piGJ1xyXG4gICAgfSxcclxuICAgIFwibGlicmFyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiA3MCxcclxuICAgICAgICAgICAgXCJwYXBlclwiOiAyNSxcclxuICAgICAgICAgICAgXCJnbGFzc1wiOiA1LFxyXG4gICAgICAgICAgICBcInBvbmRlclwiOiAyNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJwb25kZXJcIjogNTAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiS25vd2xlZGdlIGlzIHBvd2VyLiBBbmQgYSBmaXJlIGhhemFyZCBpZiBub3Qgc3RvcmVkIHByb3Blcmx5LlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8J+VridcclxuICAgIH0sXHJcbiAgICBcImRlc2tcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMTUsXHJcbiAgICAgICAgICAgIFwic3RpY2tzXCI6IDIwLFxyXG4gICAgICAgICAgICBcInBvbmRlclwiOiAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJwb25kZXJcIjogMzAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHsgXCJwb25kZXJcIjogMS4wNSB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIHdyaXRlcidzIGJsb2NrIGlzIG5vIG1hdGNoIGZvciBhcm1vci1waWVyY2luZyBwZW5jaWxzIVwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOKrCdcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldEJ1aWxkaW5nQ291bnQoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICByZXR1cm4gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV0uY291bnQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IGJ1aWxkaW5nTmFtZSBcclxuICogQHBhcmFtIHtzdHJpbmd9IHJlc291cmNlIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmZ1bmN0aW9uIGdldEJvb3N0KGJ1aWxkaW5nTmFtZSwgcmVzb3VyY2UpIHtcclxuICAgIGNvbnN0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV07XHJcblxyXG4gICAgaWYgKGJ1aWxkaW5nICYmIGJ1aWxkaW5nLmJvb3N0KSB7XHJcbiAgICAgICAgaWYgKGJ1aWxkaW5nLmJvb3N0W3Jlc291cmNlXSkgcmV0dXJuIGJ1aWxkaW5nLmJvb3N0W3Jlc291cmNlXTtcclxuICAgICAgICBpZiAoYnVpbGRpbmcuYm9vc3RbJ2FsbCddKSByZXR1cm4gYnVpbGRpbmcuYm9vc3RbJ2FsbCddO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gcmVzZXRCdWlsZGluZ3MoKSB7XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmdzKSkge1xyXG4gICAgICAgIHZhbFsnY291bnQnXSA9IDA7XHJcbiAgICAgICAgLy8gVXBkYXRlIGJ1dHRvbiB0ZXh0XHJcbiAgICAgICAgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudChrZXksIDApO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgdGhlIGNvc3Qgb2YgdGhlIGJ1aWxkaW5nXHJcbiAgICAgICAgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3Qoa2V5LCBidWlsZGluZ3MsIGhhc1BlcmspO1xyXG5cclxuICAgIH1cclxuICAgIC8vIFVwZGF0ZSBtYXggY2xvbmVzIGFmdGVyIHVwZGF0aW5nIHRoZSBjb3VudFxyXG4gICAgcmVjYWxjTWF4Q2xvbmVzKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzUG9wQnVpbGRpbmcoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICBzd2l0Y2ggKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgICAgIGNhc2UgJ3NoZWx0ZXInOlxyXG4gICAgICAgIGNhc2UgJ2h1dCc6XHJcbiAgICAgICAgY2FzZSAnaG91c2UnOlxyXG4gICAgICAgIGNhc2UgJ3RlZXBlZSc6XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBidWlsZGluZ3MsXHJcbiAgICBnZXRCdWlsZGluZ0NvdW50LFxyXG4gICAgZ2V0Qm9vc3QsXHJcbiAgICByZXNldEJ1aWxkaW5ncyxcclxuICAgIGlzUG9wQnVpbGRpbmdcclxufTsiLCJjb25zdCB7IHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKCcuLi9zdGFnZXMnKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBoYXNUb29sIH0gPSByZXF1aXJlKCcuLi90b29scycpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuXHJcbi8qIEJVVFRPTlMgKi9cclxuY29uc3QgYnV0dG9ucyA9IHtcclxuXHJcbiAgICAvKiBQUk9EVUNUSU9OIFRBQiAqL1xyXG4gICAgJ2dhdGhlclN0aWNrcyc6IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgc3RhcnRWaXNpYmxlJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiAn8JOAnSBHYXRoZXIgU3RpY2tzJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0ZpdmUsIFNpeCwgUGljayB1cCBzdGlja3MuJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0ZyZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlIC8vIFRoaXMgYnV0dG9uIGlzIGFsd2F5cyB2aXNpYmxlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlclZpbmVzJzoge1xyXG4gICAgICAgIGNsYXNzOiAndG9vbHRpcCBzdGljaycsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogJ/CTja8gR2F0aGVyIFZpbmVzJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1NvbWUgdmluZXMgYXJlIHJ1YmJlcnksIG90aGVycyBhcmUgZ3VtbXkuJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0ZyZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRNYXRlcmlhbCgnc3RpY2tzJywgcmVzb3VyY2VzKSA+PSAxMCB8fCBwYXNzZWRTdGFnZSgndmluZXMnKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdnYXRoZXJSb2Nrcyc6IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgc3RpY2snLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6ICfwk4qW8JOAqSBHYXRoZXIgUm9ja3MnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnTm90IGEgc2luZ2xlIHdpbmRvdyB0byB0aHJvdyB0aGVtIHRocm91Z2guJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0ZyZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRNYXRlcmlhbCgndmluZXMnLCByZXNvdXJjZXMpID49IDEwIHx8IHBhc3NlZFN0YWdlKCdyb2NrcycpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlckZpc2gnOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwIGZpc2hpbmcnLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6ICfwk4adIPCThp8g8JOGniBHbyBGaXNoJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0dvdCBhbnkgdHVuYT8nLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnRnJlZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGhhc1Rvb2woJ1NwZWFyJykgfHwgaGFzVG9vbChcIkZpc2hpbmcgUm9kXCIpIHx8IHBhc3NlZFN0YWdlKCdmaXNoaW5nJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnZ2F0aGVyV29vZCc6IHtcclxuICAgICAgICBjbGFzczogJ3dvb2RUb2dnbGUgd29vZCcsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogJ/CTjI8gQ2hvcCBXb29kJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0FuIGF4ZSBodXJ0cyB3YXkgbGVzcyB0aGFuIHVzaW5nIHlvdXIgaGFuZHMuJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGhhc1Rvb2woJ0F4ZScpIHx8IHBhc3NlZFN0YWdlKCd3b29kJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnZ2F0aGVyT3JlJzoge1xyXG4gICAgICAgIFwiY2xhc3NcIjogXCJ0b29sdGlwIFwiLFxyXG4gICAgICAgIFwidGFiXCI6IFwicHJvZHVjdGlvblwiLFxyXG4gICAgICAgIFwidGV4dFwiOiBcIvCTibggTWluZSBPcmVcIixcclxuICAgICAgICBcInRvb2x0aXBEZXNjXCI6IFwiRGlnZ3kgRGlnZ3kgSG9sZVwiLFxyXG4gICAgICAgIFwidG9vbHRpcENvc3RcIjogXCJGcmVlXCIsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGhhc1Rvb2woJ1BpY2theGUnKSB8fCBwYXNzZWRTdGFnZSgnb3JlJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcblxyXG5cclxuXHJcbiAgICAvKiBUQUJTICovXHJcbiAgICAncHJvZHVjdGlvblRhYkJ1dHRvbic6IHtcclxuICAgICAgICBjbGFzczogJ3RhYi1idXR0b24nLFxyXG4gICAgICAgIHRleHQ6ICdQcm9kdWN0aW9uJyxcclxuICAgICAgICBzaG93VGFiOiAncHJvZHVjdGlvblRhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCd0YWItYnV0dG9uJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnZXhwZXJpbWVudFRhYkJ1dHRvbic6IHtcclxuICAgICAgICBjbGFzczogJ3RhYi1idXR0b24nLFxyXG4gICAgICAgIHRleHQ6ICdFeHBlcmltZW50JyxcclxuICAgICAgICBzaG93VGFiOiAnZXhwZXJpbWVudFRhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCd0YWItYnV0dG9uJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAncG9uZGVyVGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogJ1BvbmRlcicsXHJcbiAgICAgICAgc2hvd1RhYjogJ3BvbmRlclRhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdwb25kZXItdGFiJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnam9ic1RhYkJ1dHRvbic6IHtcclxuICAgICAgICBjbGFzczogJ3RhYi1idXR0b24nLFxyXG4gICAgICAgIHRleHQ6ICdKb2JzJyxcclxuICAgICAgICBzaG93VGFiOiAnam9ic1RhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdqb2JzLXRhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ3NraWxsc1RhYkJ1dHRvbic6IHtcclxuICAgICAgICBjbGFzczogJ3RhYi1idXR0b24nLFxyXG4gICAgICAgIHRleHQ6ICdTa2lsbHMnLFxyXG4gICAgICAgIHNob3dUYWI6ICdza2lsbHNUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgnc2tpbGxzVGFibGUnKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdwZXJrc1RhYkJ1dHRvbic6IHtcclxuICAgICAgICBjbGFzczogJ3RhYi1idXR0b24nLFxyXG4gICAgICAgIHRleHQ6ICdQZXJrcycsXHJcbiAgICAgICAgc2hvd1RhYjogJ3BlcmtzVGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3BlcmtzVGFiJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnZmFjdG9yeVRhYkJ1dHRvbic6IHtcclxuICAgICAgICBjbGFzczogJ3RhYi1idXR0b24nLFxyXG4gICAgICAgIHRleHQ6ICdGYWN0b3JpZXMnLFxyXG4gICAgICAgIHNob3dUYWI6ICdmYWN0b3J5VGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ2ZhY3RvcnlUYWInKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuXHJcbiAgICAvKiBQT05ERVIgVEFCICovXHJcbiAgICAnZ2F0aGVyUG9uZGVyJzoge1xyXG4gICAgICAgIGNsYXNzOiAndG9vbHRpcCcsXHJcbiAgICAgICAgdGV4dDogJ1BvbmRlcicsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdXcmFwIHlvdXIgaGVhZCBhcm91bmQgdGhlIGdyZWF0IG15c3RlcmllcycsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdUaW1lJyxcclxuICAgICAgICB0YWI6ICdwb25kZXInLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgncG9uZGVyLXRhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBidXR0b25zOiBidXR0b25zXHJcbn07IiwiLyogQ1JBRlRJTkcgUkVTT1VSQ0VTICovXHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4uL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlIH0gPSByZXF1aXJlKCcuLi9nZXRDcmFmdGVkUmVzb3VyY2UnKTtcclxuY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgcGFzc2VkU3RhZ2UgfSA9IHJlcXVpcmUoJy4uL3N0YWdlcycpO1xyXG5cclxuXHJcbmNvbnN0IGNyYWZ0ZWRSZXNvdXJjZXMgPSB7XHJcbiAgICAnc2hhcnByb2Nrcyc6IHtcclxuICAgICAgICB0ZXh0OiAnU2hhcnAgUm9ja3MnLFxyXG4gICAgICAgIGlkOiAnY3JhZnRTaGFycHJvY2tzQnV0dG9uJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdyb2Nrcyc6IDIgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJyb2Nrc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQ3JhZnQgYSByb2NrIHVzaW5nIG5vdGhpbmcgYnV0IHJvY2tzIScsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdSb2NrczogNScsXHJcbiAgICAgICAgY2xhc3M6ICdjcmFmdFJvY2tzJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdyb3BlJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRSb3BlQnV0dG9uJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICd2aW5lcyc6IDMgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJyb2Nrc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnVGhlIGJhc2lzIG9mIGF0dGFjaGluZyB0aGluZ3MgdG8gb3RoZXIgdGhpbmdzLicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdWaW5lczogMycsXHJcbiAgICAgICAgY2xhc3M6ICdjcmFmdFJvY2tzJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdoYW5kbGUnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEhhbmRsZUJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnc3RpY2tzJzogMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcInJvY2tzXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdTaGVhciBvZmYgdGhhdCBiYXJrIHRvIGhvbGQgaXQgYmV0dGVyJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1NoYXJwIFJvY2tzOiAxJyxcclxuICAgICAgICBjbGFzczogJ2NyYWZ0Um9ja3MnXHJcbiAgICAgICAgLy8gdG9vbDogJ1NoYXJwIFJvY2snXHJcbiAgICB9LFxyXG4gICAgJ3N0YWZmJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRTdGFmZkJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnaGFuZGxlJzogMiwgJ3JvcGUnOiAxIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwicm9ja3NcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1N0aWNrIHNvbWUgc2hlYXJlZCBzdGlja3MgdG9nZXRoZXInLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnSGFuZGxlczogMicsXHJcbiAgICAgICAgY2xhc3M6ICdyb3BlJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdmaXNoaW5ncm9kJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRGaXNoaW5ncm9kQnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnRmlzaGluZyBSb2QnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3N0YWZmJzogMSwgJ3JvcGUnOiAyIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwiZmlzaGluZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQSB3ZWFwb24gZmVhcmVkIGJ5IHVuZGVyd2F0ZXIgbGlmZScsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIGNsYXNzOiAnZmlzaGluZydcclxuICAgICAgICAvLyB0b29sOiAnQmFyZSBIYW5kcydcclxuICAgIH0sXHJcbiAgICAnc3BlYXInOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFNwZWFyQnV0dG9uJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7XHJcbiAgICAgICAgICAgICdzdGFmZic6IDEsXHJcbiAgICAgICAgICAgICdzaGFycHJvY2tzJzogMSxcclxuICAgICAgICAgICAgJ3JvcGUnOiAxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwicm9ja3NcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0EgbG9uZyBhbmQgcG9pbnR5IHN0aWNrJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1N0YWZmczogMScsXHJcbiAgICAgICAgY2xhc3M6ICdyb3BlJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdheGUnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEF4ZUJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnaGFuZGxlJzogMSwgJ3JvcGUnOiAxLCAnc2hhcnByb2Nrcyc6IDIgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJzcGVhclwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnUHV0IGEgcm9jayBzdHJhaWdodCB0aHJvdWdoIHRoYXQgaGFuZGxlJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1NwZWFyczogMScsXHJcbiAgICAgICAgY2xhc3M6ICdzcGVhcidcclxuICAgICAgICAvLyB0b29sOiAnQmFyZSBIYW5kcydcclxuICAgIH0sXHJcbiAgICAncGlja2F4ZSc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0UGlja2F4ZUJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDoge1xyXG4gICAgICAgICAgICAnaGFuZGxlJzogMSxcclxuICAgICAgICAgICAgJ3NoYXJwcm9ja3MnOiAzLFxyXG4gICAgICAgICAgICAncm9wZSc6IDEsXHJcbiAgICAgICAgICAgICdyb2Nrcyc6IDEwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJzcGVhclwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnU2FkbHkgbm90IG1hZGUgb2YgZGlhbW9uZHMnLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnQXhlczogMScsXHJcbiAgICAgICAgY2xhc3M6ICdzcGVhcidcclxuICAgIH0sXHJcblxyXG4gICAgJ2dsYXNzJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRHbGFzc0J1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnc2FuZCc6IDEwIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnWW91IGNhbiBzZWUgcmlnaHQgdGhyb3VnaCBpdCEnLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwiZ2xhc3NCbG93aW5nXCIsXHJcbiAgICAgICAgY2xhc3M6ICdnbGFzc0Jsb3dpbmcnXHJcbiAgICB9LFxyXG4gICAgJ3BhcGVyJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRQYXBlckJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnd29vZCc6IDEyIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnT3V0c291cmNlIHlvdXIgbWVtb3J5JyxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcInBhcGVyXCIsXHJcbiAgICAgICAgY2xhc3M6ICdwYXBlcidcclxuICAgIH0sXHJcbiAgICAnZ29sZCc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0R29sZEJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnb3JlJzogMTAwIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwibWV0YWxXb3JraW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhlcmUncyBzb21lIHllbGxvdyBiaXRzIGluIHRoaXMgb3JlXCIsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIGNsYXNzOiAnbWV0YWxXb3JraW5nJ1xyXG4gICAgfSxcclxuICAgICdpcm9uJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRJcm9uQnV0dG9uJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdvcmUnOiAyMCB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcIm1ldGFsV29ya2luZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlRoZXJlJ3Mgc29tZSBzdHVyZHktbG9va2luZyBiaXRzIGluIHRoaXMgb3JlXCIsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIGNsYXNzOiAnbWV0YWxXb3JraW5nJ1xyXG4gICAgfSxcclxuICAgICdzaWx2ZXInOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFNpbHZlckJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnb3JlJzogNTAgfSxcclxuXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwibWV0YWxXb3JraW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhlcmUncyBzb21lIHNoaW55IGdyYXkgYml0cyBpbiB0aGlzIG9yZVwiLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnJyxcclxuICAgICAgICBjbGFzczogJ21ldGFsV29ya2luZydcclxuICAgIH0sXHJcbiAgICAnYnJpY2tzJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRCcmlja3NCdXR0b24nLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ2NsYXknOiAxNSB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcImNsYXlcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJMZWF2ZSBzb21lIGNsYXkgYnkgdGhlIGZpcmVcIixcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdjbGF5J1xyXG4gICAgfSxcclxuICAgICdzdGVlbCc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ2lyb24nOiA1IH0gfSxcclxuICAgICdiZWFtcyc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ3dvb2QnOiAxMCB9IH0sXHJcbiAgICAnY3JhdGVzJzogeyB2YWx1ZTogMCwgY29zdDogeyAnd29vZCc6IDE1IH0gfSxcclxuICAgICduYWlscyc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ2lyb24nOiAxIH0gfSxcclxuICAgICdzbGFicyc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ3JvY2tzJzogMjAgfSB9LFxyXG4gICAgJ21lZGljaW5lJzogeyB2YWx1ZTogMCwgY29zdDogeyAnaGVyYnMnOiA1MCB9IH0sXHJcbiAgICAnbGVhdGhlcic6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ2hpZGVzJzogMTAgfSB9LFxyXG4gICAgJ2NvbmNyZXRlJzogeyB2YWx1ZTogMCwgY29zdDogeyAnc2FuZCc6IDMyIH0gfSxcclxuICAgICd3b29kJzogeyB2YWx1ZTogMCwgY29zdDogeyAnc3RpY2tzJzogOCB9IH0sXHJcbiAgICAnc3RpY2tzJzogeyB2YWx1ZTogMCwgY29zdDogeyAnd29vZCc6IC4xIH0gfSxcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldENyYWZ0ZWRSZXNvdXJjZUNvbmZpZ0J5SWQoaWQpIHtcclxuICAgIGZvciAoY29uc3QgW2MsIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoY3JhZnRlZFJlc291cmNlcykpIHtcclxuICAgICAgICBpZiAodmFsLmlkID09PSBpZCB8fCB2YWwuaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENyYWZ0ZWRSZXNvdXJjZUtleUJ5Q29uZmlnKGNvbmZpZykge1xyXG4gICAgZm9yIChsZXQgayBpbiBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coayk7XHJcbiAgICAgICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZXNba10uaWQgPT09IGNvbmZpZy5pZCkgcmV0dXJuIGs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXRDcmFmdGVkUmVzb3VyY2VzKCkge1xyXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGNyYWZ0ZWRSZXNvdXJjZXMpKSB7XHJcbiAgICAgICAgdmFsLnZhbHVlID0gMDtcclxuICAgICAgICB2YWwuY3JhZnRlZE9uY2UgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBjcmFmdGVkUmVzb3VyY2VzLFxyXG4gICAgZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZCxcclxuICAgIGdldENyYWZ0ZWRSZXNvdXJjZUtleUJ5Q29uZmlnLFxyXG4gICAgcmVzZXRDcmFmdGVkUmVzb3VyY2VzXHJcbn07IiwiXHJcblxyXG4vKipcclxuICogVGllciAxICg0MDAgcG9uZGVyKTpcclxuICogXHJcbiAqIEx1bWJlcmphY2tcclxuICogICsyNSUgd29vZCBwcm9kdWN0aW9uXHJcbiAqICArMjUlIHN0aWNrcyBwcm9kdWN0aW9uXHJcbiAqIFxyXG4gKiBNaW5lclxyXG4gKiAgKzI1JSBzdG9uZSAmIG9yZSBwcm9kdWN0aW9uXHJcbiAqIFxyXG4gKiBCb3RhbmlzdFxyXG4gKiAgKzI1JSB2aW5lcyAmIGhlcmJzICYgd2hlYXQgcHJvZHVjdGlvblxyXG4gKiBcclxuICogTGVhZGVyXHJcbiAqICA1MCUgY2xvbmUgZWZmZWN0aXZlbmVzc1xyXG4gKiBcclxuICogQXJjaGl0ZWN0XHJcbiAqICAtMjUlIGJ1aWxkaW5nIGNvc3RcclxuICogXHJcbiAqIFxyXG4gKiBUaWVyIDIgKDE1MDAgcG9uZGVyKTpcclxuICogXHJcbiAqIFRoaW5rZXJcclxuICogICs1MCUgcG9uZGVyIHByb2R1Y3Rpb24gYW5kIHN0b3JhZ2VcclxuICogIC0yNSUgcG9uZGVyIGNvc3RcclxuICogXHJcbiAqIEdlbmVyYWxcclxuICogICs1MCUgY29tYmF0IHN0cmVuZ3RoXHJcbiAqICArMjUlIGNsb25lIGVmZmVjdGl2ZW5lc3NcclxuICogXHJcbiAqIE1lcmNoYW50XHJcbiAqICAtMjUlIHRyYWRlIHByaWNlXHJcbiAqICArMjUlIGNoYW5jZSBvZiByYXJlIHRyYWRlXHJcbiAqIFxyXG4gKiBHZW5lcmFsaXN0XHJcbiAqICArMTAlIGdsb2JhbCBwcm9kdWN0aW9uXHJcbiAqIFxyXG4gKiBTcGVjaWFsaXN0XHJcbiAqICArMTAwJSBza2lsbCBnYWluXHJcbiAqICArMTAlIHNraWxsIGJvbnVzIHRvIHJlc291cmNlc1xyXG4gKiBcclxuICogXHJcbiAqIFxyXG4gKiBcclxuICovXHJcbmNvbnN0IHBlcmtzID0ge1xyXG4gICAgJ3RpZXIxJzogWydMdW1iZXJqYWNrJywgJ01pbmVyJywgJ0JvdGFuaXN0JywgJ0xlYWRlcicsICdBcmNoaXRlY3QnXSxcclxuICAgICd0aWVyMic6IFsnVGhpbmtlcicsICdHZW5lcmFsJywgJ01lcmNoYW50JywgJ0dlbmVyYWxpc3QnLCAnU3BlY2lhbGlzdCddLFxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBwZXJrczogcGVya3NcclxufTsiLCJsZXQgcG9uZGVycyA9IHtcclxuICAgICdwb25kZXIxJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyUG9uZGVyMScsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTAgfSxcclxuICAgICAgICB0ZXh0OiBcIlRoaW5rIEhhcmRlclwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIjUlIGJvb3N0IHRvIHBvbmRlcmluZ1wiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG5cclxuICAgIH0sXHJcbiAgICAnam9icy10YWInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJKb2JzLXRhYicsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMjAgfSxcclxuICAgICAgICB0ZXh0OiBcIlVuZGVyc3RhbmQgQ2xvbmluZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnV2h5IGFyZSB0aGVyZSB0d28gb2YgeW91PycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdTYW5pdHkgKDIwIFBvbmRlciknLFxyXG5cclxuICAgIH0sXHJcbiAgICAnc2tpbGxzVGFibGUnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJTa2lsbHNUYWJsZScsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNTAgfSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJZb3UncmUgc3RhcnRpbmcgdG8gbGVhcm4gdGhpbmdzLCByaWdodD9cIixcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIk5vdGljZSBJbXByb3ZlbWVudFwiXHJcbiAgICB9LFxyXG4gICAgJ2Zpc2hpbmcnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJGaXNoaW5nJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA1MCwgJ2Zpc2gnOiA1MCB9LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIldoYXQgaWYuLi4geW91ciBjbG9uZXMgY291bGQgZ28gZmlzaGluZz9cIixcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIkZpc2hpbmcgSm9iXCJcclxuICAgIH0sXHJcbiAgICAvLyAnbWljcm9tYW5hZ2VtZW50Jzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyTWljcm9tYW5hZ2VtZW50JyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICBjb3N0OiB7ICdwb25kZXInOiAyMDAsICdjbG9uZXMnOiA1IH0sXHJcbiAgICAvLyAgICAgdGV4dDogXCJNaWNyb21hbmFnZW1lbnRcIixcclxuICAgIC8vICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgIC8vICAgICB0b29sdGlwRGVzYzogXCJZb3UgbWFuYWdlZCB0byBtYWtlIGNsb25lcyBtYW5hZ2UgZWFjaCBvdGhlci5cIlxyXG4gICAgLy8gfSxcclxuICAgICdmYXN0ZXJTa2lsbHMnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJGYXN0ZXJTa2lsbHMnLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDgwIH0sXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdGV4dDogXCJTa2lsbHMgSVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlRoaW5rIFNtYXJ0ZXIuIDUlIGJvbnVzIHRvIHNraWxsIGV4cFwiXHJcbiAgICB9LFxyXG4gICAgJ3RoaW5raW5nJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyVGhpbmtpbmcnLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDE1MCB9LFxyXG4gICAgICAgIHRleHQ6IFwiVGhpbmtpbmcgSm9iXCIsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiTGV0IHlvdXIgY2xvbmVzIHN0YXJ0IHRoaW5raW5nIGZvciB0aGVtc2VsdmVzLlwiXHJcblxyXG4gICAgfSxcclxuICAgICdmYXN0ZXJSZXNvdXJjZUdhaW4nOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJGYXN0ZXJSZXNvdXJjZUdhaW4nLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDEyMCB9LFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiUHJvZHVjdGl2aXR5IElcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJKdXN0IHdvcmsgaGFyZGVyLiA1JSBib251cyB0byByZXNvdXJjZSBnYWluXCJcclxuICAgIH0sXHJcbiAgICAnbWV0YWxXb3JraW5nJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyTWV0YWxXb3JraW5nJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIk1ldGFsIFdvcmtpbmdcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJTdGFydCBwcm9jZXNzaW5nIHRoYXQgb3JlXCIsXHJcbiAgICAgICAgLy8gY29zdDogW3sgbWF0ZXJpYWw6ICdwb25kZXInLCBhbW91bnQ6IDEwMCB9LCB7IG1hdGVyaWFsOiAnb3JlJywgYW1vdW50OiA1MCB9LCB7IG1hdGVyaWFsOiAncm9ja3MnLCBhbW91bnQ6IDUwIH1dXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTAwLCAnb3JlJzogNTAsICdyb2Nrcyc6IDUwIH0sXHJcbiAgICB9LFxyXG4gICAgJ2dsYXNzQmxvd2luZyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckdsYXNzQmxvd2luZycsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdGV4dDogJ0dsYXNzIEJsb3dpbmcnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnSHVmZiBhbmQgcHVmZiBhbmQgbWFrZSBhIGNvb2wgdmFzZScsXHJcbiAgICAgICAgY29zdDogeyAnc2FuZCc6IDIwLCAncG9uZGVyJzogODAgfVxyXG4gICAgfSxcclxuICAgICdvcmdhbml6YXRpb24nOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJPcmdhbml6YXRpb24nLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6ICdPcmdhbml6ZWQgU3RvcmFnZScsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdPcmdhbml6ZSB5b3VyIHN0b3JhZ2UgYnkgZ3JvdXBzJyxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAyMDAgfVxyXG4gICAgfSxcclxuICAgICdwYXBlcic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlclBhcGVyJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiAnUGFwZXIgUHJvY2Vzc2luZycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdTbWFzaCBkb3duIHNvbWUgd29vZCBpbnRvIHBhcGVyJyxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAyMDAsICd3b29kJzogMTAwIH1cclxuICAgIH0sXHJcbiAgICAnYXV0b0Nsb25lJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQXV0b0Nsb25lJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkF1dG8gQ2xvbmVcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBdXRvbWF0aWNhbGx5IHByb2R1Y2UgY2xvbmVzXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTQwLCAnY2xvbmVzJzogMjAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgJ2VmZmVjdGl2ZUJ1aWxkaW5ncyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckVmZmVjdGl2ZUJ1aWxkaW5ncycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJCdWlsZGluZ3MgSVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkluY3JlYXNlIGJ1aWxkaW5nIGVmZmVjdHMgYnkgMSVcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxODAgfSxcclxuICAgIH0sXHJcbiAgICAnYWdyaWN1bHR1cmUnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJBZ3JpY3VsdHVyZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJBZ3JpY3VsdHVyZVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZpbmQgc29tZSBzZWVkcyBmcm9tIGFsbCB0aG9zZSBwbGFudHNcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxODAgfVxyXG4gICAgfSxcclxuICAgICdjb21iYXQnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJDb21iYXQnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiQ29tYmF0XCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSXMgdGhlcmUgYW55b25lIHRvIHNwYXIgd2l0aCBiZXNpZGVzIHlvdT9cIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAzMDAsICdzcGVhcic6IDEwMCB9XHJcbiAgICB9LFxyXG4gICAgJ2h1bnRpbmcnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJIdW50aW5nJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkh1bnRpbmdcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBdCBsZWFzdCB0aGVyZSBhcmUgYW5pbWFsc1wiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDIwMCwgJ2Zpc2gnOiA1MCB9XHJcbiAgICB9LFxyXG4gICAgJ3BlcmtzVGFiJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyUGVya3NUYWInLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6ICdQZXJrcycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdNYXliZSB5b3UgYXMgdGhlIG9yaWdpbmFsIHNob3VsZCBzcGVjaWFsaXplJyxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA0MDAgfVxyXG4gICAgfSxcclxuICAgIC8vICdhdXRvY3JhZnQnOiB7XHJcbiAgICAvLyAgICAgaWQ6IFwicG9uZGVyQXV0b2NyYWZ0XCIsXHJcbiAgICAvLyAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgdGV4dDogXCJBdXRvIENyYWZ0XCIsXHJcbiAgICAvLyAgICAgdG9vbHRpcERlc2M6IFwiQXV0b21hdGljYWxseSBjcmFmdCByZXNvdXJjZXMgd2hlbiB0aGV5IHJlYWNoIHRoZSBzdG9yYWdlIGxpbWl0XCIsXHJcbiAgICAvLyAgICAgY29zdDogeyAncG9uZGVyJzogNDAwLCAnd29vZCc6IDEwMDAsICdyb2Nrcyc6IDUwMCwgJ3doZWF0JzogMTAwMCB9XHJcbiAgICAvLyB9LFxyXG4gICAgJ2ZhY3RvcnlUYWInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJGYWN0b3J5VGFiJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkZhY3Rvcmllc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkFzY2VuZCB0byB0aGUgbmV4dCBsZXZlbCBvZiBlY29ub215XCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNTAwLCAnZ29sZCc6IDEwLCAnd29vZCc6IDEwMDAsICd3aGVhdCc6IDEwMDAsICdyb2Nrcyc6IDEwMDAgfVxyXG4gICAgfSxcclxuICAgICdwb25kZXIyJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyUG9uZGVyMicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJUaGluayBldmVuIGhhcmRlclwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIjUlIGJvb3N0IHRvIHBvbmRlcmluZ1wiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDMwMCB9XHJcbiAgICB9LFxyXG4gICAgJ3BvbmRlcjMnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJQb25kZXIzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIlRoaW5rIGhhcmRlc3RcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCI1JSBib29zdCB0byBwb25kZXJpbmdcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA2MDAgfVxyXG4gICAgfSxcclxuICAgICdiaWdnZXJTaGVsdGVyJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQmlnZ2VyU2hlbHRlcicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJFeHBhbmQgU2hlbHRlclwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlNoZWx0ZXJzIGNhbiBob3VzZSAxIG1vcmUgY2xvbmUgZWFjaFwiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDUwMCwgJ3N0aWNrcyc6IDEwMDAgfVxyXG4gICAgfSxcclxuICAgICdiaWdnZXJIdXQnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJCaWdnZXJIdXQnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiRXhwYW5kIEh1dFwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkh1dHMgY2FuIGhvdXNlIDEgbW9yZSBjbG9uZSBlYWNoXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNzUwLCAnc3RpY2tzJzogMTUwMCwgJ3ZpbmVzJzogMTAwMCB9XHJcbiAgICB9LFxyXG4gICAgJ2JpZ2dlckhvdXNlJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQmlnZ2VySG91c2UnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiVHdvLXN0b3J5IGhvdXNlc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkhvdXNlcyBjYW4gaG91c2UgMiBtb3JlIGNsb25lcyBlYWNoXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTAwMCwgJ3dvb2QnOiAyMDAwLCAncm9ja3MnOiAyMDAwIH1cclxuICAgIH0sXHJcbiAgICAnYmlnZ2VyVGVlcGVlJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQmlnZ2VyVGVlcGVlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkRvdWJsZSBkaWFtZXRlciBUZWVwZWVzXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGVlcGVlcyBjYW4gaG91c2UgNCBtb3JlIGNsb25lcyBlYWNoXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTI1MCwgJ3dvb2QnOiAzMDAwLCAnaGlkZXMnOiAxNTAwIH1cclxuICAgIH0sXHJcbiAgICAnZXZlbkJpZ2dlclNoZWx0ZXInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJFdmVuQmlnZ2VyU2hlbHRlcicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJFeHBhbmQgU2hlbHRlciBBZ2FpblwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlNoZWx0ZXJzIGNhbiBob3VzZSAxIG1vcmUgY2xvbmUgZWFjaFwiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDE1MDAsICdzdGlja3MnOiAzMDAwLCAnZmlzaCc6IDEwMDAgfVxyXG4gICAgfSxcclxufTtcclxuXHJcbmZ1bmN0aW9uIHJlc2V0UG9uZGVycygpIHtcclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhwb25kZXJzKSkge1xyXG4gICAgICAgIHZhbC5pc1BvbmRlcmVkID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgcG9uZGVyczogcG9uZGVycyxcclxuICAgIHJlc2V0UG9uZGVyc1xyXG59OyIsImNvbnN0IHByZXN0aWdlID0ge1xyXG4gICAgJ21heENsb25lcyc6IHtcclxuICAgICAgICB0ZXh0OiAnQ3JhbXBlZCcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdNYXggQ2xvbmVzICgrMSknLFxyXG4gICAgICAgIGNvc3Q6IDIsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAnY2xvbmVCb29zdCc6IHtcclxuICAgICAgICB0ZXh0OiAnSGFuZHltYW4nLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQ2xvbmUgUHJvZHVjdGl2aXR5ICgrNSUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlcmluZ0Jvb3N0Jzoge1xyXG4gICAgICAgIHRleHQ6ICdQaWNrZXInLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnR2F0aGVyaW5nIEVmZmljaWVuY3kgKCsxMCUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ21hc29ucnlCb29zdCc6IHtcclxuICAgICAgICB0ZXh0OiAnUm9ja2VyJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ01hc29ucnkgRWZmaWNpZW5jeSAoKzEwJSknLFxyXG4gICAgICAgIGNvc3Q6IDEsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAnY2FycGVudHJ5Qm9vc3QnOiB7XHJcbiAgICAgICAgdGV4dDogJ0Nob3BwZWQnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQ2FycGVudHJ5IEVmZmljaWVuY3kgKCsxMCUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ3RoaW5raW5nQm9vc3QnOiB7XHJcbiAgICAgICAgdGV4dDogJ1dpemVuZWQnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnVGhpbmtpbmcgRWZmaWNpZW5jeSAoKzEwJSknLFxyXG4gICAgICAgIGNvc3Q6IDEsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAnZmFybWluZ0Jvb3N0Jzoge1xyXG4gICAgICAgIHRleHQ6ICdQcnVuZWQnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnRmFybWluZyBFZmZpY2llbmN5ICgrMTAlKScsXHJcbiAgICAgICAgY29zdDogMSxcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfSxcclxuICAgICdmaXNoaW5nQm9vc3QnOiB7XHJcbiAgICAgICAgdGV4dDogJ0hvb2tlZCcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdGaXNoaW5nIEVmZmljaWVuY3kgKCsxMCUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ2h1bnRpbmdCb29zdCc6IHtcclxuICAgICAgICB0ZXh0OiAnVHJhY2tlcicsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdIdW50aW5nIEVmZmljaWVuY3kgKCsxMCUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ2NoZWFwZXJCdWlsZGluZ3MnOiB7XHJcbiAgICAgICAgdGV4dDogJ1JpY2tldHknLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQnVpbGRpbmcgQ29zdCAoLTUlKScsXHJcbiAgICAgICAgY29zdDogMixcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfSxcclxuICAgICdzdG9yYWdlU3BhY2UnOiB7XHJcbiAgICAgICAgdGV4dDogJ1N0dWZmZWQnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnU3RvcmFnZSBTcGFjZSAoKzUlKScsXHJcbiAgICAgICAgY29zdDogMixcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gaGFzUHJlc3RpZ2UocHJlcykge1xyXG4gICAgcmV0dXJuIGdldExldmVsT2ZQcmVzdGlnZShwcmVzKSA+IDA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldExldmVsT2ZQcmVzdGlnZShwcmVzKSB7XHJcbiAgICByZXR1cm4gcHJlc3RpZ2VbcHJlc10ubGV2ZWw7XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBwcmVzdGlnZSxcclxuICAgIGhhc1ByZXN0aWdlLFxyXG4gICAgZ2V0TGV2ZWxPZlByZXN0aWdlXHJcbn07IiwiLy8gU3RhdGUgb2YgZWFjaCByZXNvdXJjZVxyXG5cclxuLy8gVE9ETzogQUREIFJFUVVJUkVNRU5UUyBGT1IgRUFDSCBUTyBNQUtFIFRIRU0gVklTSUJMRVxyXG4vLyBvciBqdXN0IGRpc3BsYXkgdGhlbSB3aGVuIHlvdSBnZXQgeW91ciBmaXJzdCBvbmU/XHJcbmNvbnN0IHJlc291cmNlcyA9IHtcclxuICAgIFwiY2xvbmVzXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwibWFrZUNsb25lXCIsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIG1heDogMFxyXG4gICAgfSxcclxuXHJcbiAgICBcInN0aWNrc1wiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlclN0aWNrc1wiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IHRydWUsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOGsfCTgJwgR2F0aGVyaW5nIFN0aWNrc1wiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4axIEdhdGhlciBTdGlja3NcIixcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgZW1vamk6ICfwk4CdJyxcclxuICAgICAgICBtYXg6IDUwXHJcbiAgICB9LFxyXG4gICAgXCJ2aW5lc1wiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlclZpbmVzXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JONr/CTgKogR2F0aGVyaW5nIFZpbmVzXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTja8gR2F0aGVyIFZpbmVzXCIsXHJcbiAgICAgICAgXCJ0b29sc1wiOiBbeyBcInRvb2xcIjogXCJBeGVcIiwgXCJ2YWxcIjogMS41IH1dLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBlbW9qaTogJ/CTgKonLFxyXG4gICAgICAgIG1heDogNTBcclxuICAgIH0sXHJcbiAgICBcInJvY2tzXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyUm9ja3NcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4qW8JOAqSBHYXRoZXJpbmcgUm9ja3NcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOKliBHYXRoZXIgUm9ja3NcIixcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICBtYXg6IDMwXHJcbiAgICB9LFxyXG4gICAgXCJmaXNoXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyRmlzaFwiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCThp3wk4af8JOGniDwk4GDIEdvbmUgRmlzaGluZ1wiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4ad8JOGn/CThp4gR28gRmlzaFwiLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBlbW9qaTogJ/CTgYMnLFxyXG4gICAgICAgIFwidG9vbHNcIjogW3sgXCJ0b29sXCI6IFwiU3BlYXJcIiwgXCJ2YWxcIjogMSB9LCB7IFwidG9vbFwiOiBcIkZpc2hpbmcgUm9kXCIsIFwidmFsXCI6IDIgfV0sXHJcbiAgICAgICAgbWF4OiAxMFxyXG4gICAgfSxcclxuICAgIFwid29vZFwiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlcldvb2RcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4CoIENob3BwaW5nIFdvb2RcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOMjyBDaG9wIFdvb2RcIixcclxuICAgICAgICBlbW9qaTogJ/CTgKgnLFxyXG4gICAgICAgIFwidG9vbHNcIjogW3sgXCJ0b29sXCI6IFwiQXhlXCIsIFwidmFsXCI6IDEuNSB9LCB7IFwidG9vbFwiOiBcIkNoYWluc2F3XCIsIFwidmFsXCI6IDMgfV0sXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIG1heDogNDBcclxuICAgIH0sXHJcbiAgICBcInBvbmRlclwiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlclBvbmRlclwiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTgIEgUG9uZGVyaW5nXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTgIEgUG9uZGVyXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4CBJyxcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgbWF4OiAyMFxyXG4gICAgfSxcclxuICAgIFwib3JlXCI6IHtcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlck9yZVwiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTibjwk4GEIE1pbmluZyBPcmVcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOJuCBNaW5lIE9yZVwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOBhCcsXHJcbiAgICAgICAgbWF4OiAyMFxyXG4gICAgfSxcclxuICAgIFwic2FuZFwiOiB7XHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJTYW5kXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOAqSBTY29vcGluZyBTYW5kXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTgKkgU2Nvb3AgU2FuZFwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgbWF4OiAyMFxyXG4gICAgfSxcclxuICAgIFwid2hlYXRcIjoge1xyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyV2hlYXRcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4CpIEhhcnZlc3RpbmcgV2hlYXRcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOAqSBIYXJ2ZXN0IFdoZWF0XCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4CdJyxcclxuICAgICAgICBtYXg6IDIwXHJcbiAgICB9LFxyXG4gICAgJ2ZyZXNod2F0ZXInOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVyRnJlc2h3YXRlcicsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgJ2RlZmF1bHRUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICBlbW9qaTogJ/CTgKknLFxyXG4gICAgICAgICdtYXgnOiA1MFxyXG4gICAgfSxcclxuICAgICdoaWRlcyc6IHtcclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJIaWRlcycsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgJ2RlZmF1bHRUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICBlbW9qaTogJ/CTgI4nLFxyXG4gICAgICAgICdtYXgnOiA1MFxyXG5cclxuICAgIH0sXHJcbiAgICAnY2xheSc6IHtcclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJDbGF5JyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcbiAgICB9LFxyXG4gICAgJ2JlcnJpZXMnOiB7XHJcblxyXG4gICAgICAgICd2YWx1ZSc6IDAsXHJcbiAgICAgICAgJ2lkJzogJ2dhdGhlckJlcnJpZXMnLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICAnbWF4JzogNTBcclxuICAgIH0sXHJcbiAgICAnaGVyYnMnOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVySGVyYnMnLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICAnbWF4JzogNTBcclxuICAgIH0sXHJcbiAgICAnZ2FtZSc6IHtcclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJHYW1lJyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ/CTg5rwk4COIEh1bnRpbmcnLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICfwk4COIEh1bnQnLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAjicsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcbiAgICB9LFxyXG4gICAgJ2h1c2tzJzoge1xyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGlkOiAnZ2F0aGVySHVza3MnLFxyXG4gICAgICAgIGlzR2V0dGluZzogZmFsc2UsXHJcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcclxuICAgICAgICBhY3RpdmVUZXh0OiAnJyxcclxuICAgICAgICBkZWZhdWx0VGV4dDogXCJcIixcclxuICAgICAgICBlbW9qaTogJ1gnLFxyXG4gICAgICAgICdtYXgnOiAxMDAwXHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIGlzUmVzb3VyY2UocmVzb3VyY2UpIHtcclxuICAgIC8vIHJldHVybiByZXNvdXJjZXNbcmVzb3VyY2VdICE9PSBudWxsO1xyXG4gICAgcmV0dXJuIHJlc291cmNlIGluIHJlc291cmNlcztcclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRSZXNvdXJjZUNvbmZpZ0J5SWQoaWQpIHtcclxuICAgIGZvciAobGV0IHIgaW4gcmVzb3VyY2VzKSB7XHJcbiAgICAgICAgaWYgKHJlc291cmNlc1tyXS5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlc1tyXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXRSZXNvdXJjZXMoKSB7XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMocmVzb3VyY2VzKSkge1xyXG4gICAgICAgIHZhbC52YWx1ZSA9IDA7XHJcbiAgICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICByZXNvdXJjZXM6IHJlc291cmNlcyxcclxuICAgIGlzUmVzb3VyY2UsXHJcbiAgICBnZXRSZXNvdXJjZUNvbmZpZ0J5SWQsXHJcbiAgICByZXNldFJlc291cmNlc1xyXG59OyIsImNvbnN0IHNraWxscyA9IHtcclxuICAgIGdhdGhlcmluZzoge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWydzdGlja3MnLCAndmluZXMnLCAnc2FuZCcsICdoZXJicycsICdiZXJyaWVzJ11cclxuICAgIH0sXHJcbiAgICBtYXNvbnJ5OiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ3JvY2tzJywgJ29yZScsICdjbGF5J10sXHJcbiAgICAgICAgbmVlZFRvb2xzOiBbeyAnUGlja2F4ZSc6IFsnb3JlJ10gfV1cclxuICAgIH0sXHJcbiAgICBjYXJwZW50cnk6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnd29vZCcsICdoYW5kbGUnLCAnc3RhZmYnLCAnZmlzaGluZ3JvZCddLFxyXG4gICAgICAgIG5lZWRUb29sczogW3sgJ0F4ZSc6IFsnd29vZCddIH1dXHJcbiAgICB9LFxyXG4gICAgdGhpbmtpbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsncG9uZGVyJ11cclxuICAgIH0sXHJcbiAgICAvLyBzbWl0aGluZzoge1xyXG4gICAgLy8gICAgIGV4cDogMCxcclxuICAgIC8vICAgICBsZXZlbDogMCxcclxuICAgIC8vICAgICBhZmZlY3RlZFJlc291cmNlczogWydheGUnLCAncGlja2F4ZScsICdzcGVhcicsICdnbGFzcycsICdpcm9uJywgJ3NpbHZlcicsICdnb2xkJ11cclxuICAgIC8vIH0sXHJcbiAgICBmYXJtaW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ3doZWF0JywgJ2ZyZXNod2F0ZXInXVxyXG4gICAgfSxcclxuICAgIGNvbWJhdDoge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogW11cclxuICAgIH0sXHJcbiAgICBmaXNoaW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ2Zpc2gnXVxyXG4gICAgfSxcclxuICAgIGh1bnRpbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnaGlkZXMnLCAnZ2FtZSddXHJcbiAgICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHNraWxsczogc2tpbGxzXHJcbn07IiwiY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzLCByZXNldENyYWZ0ZWRSZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9jcmFmdGVkUmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgYnVpbGRpbmdzLCByZXNldEJ1aWxkaW5ncyB9ID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIik7XHJcbmNvbnN0IHsgcG9uZGVycywgcmVzZXRQb25kZXJzIH0gPSByZXF1aXJlKFwiLi9qc29uL3BvbmRlclwiKTtcclxuY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKFwiLi9qc29uL2J1dHRvbnNcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzLCByZXNldFJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5cclxuY29uc3QgeyBzYXZlR2FtZSwgbG9hZEdhbWUgfSA9IHJlcXVpcmUoXCIuL3NhdmluZ1wiKTtcclxuY29uc3QgeyBnZW5lcmF0ZVRvb2x0aXBDb3N0LCBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zLCBpbmNyZWFzZU1hdGVyaWFsLCBjcmFmdEFsbFJlc291cmNlcywgY3JhZnRSZXNvdXJjZSwgY2FsY0luY3JlYXNlLCB1cGRhdGVSZXNvdXJjZUluY3JlYXNlUmF0ZXMsIGluY3JlYXNlTWF4IH0gPSByZXF1aXJlKCcuL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1eU1heEJ1aWxkaW5ncywgYnV5QnVpbGRpbmcsIGNyZWF0ZUJ1aWxkaW5nQnV0dG9uIH0gPSByZXF1aXJlKCcuL2J1aWxkaW5ncycpO1xyXG5jb25zdCB7IGhhc1BlcmssIHNlbGVjdEFiaWxpdHksIHJlc2V0UGVya3MgfSA9IHJlcXVpcmUoJy4vcGVya3MnKTtcclxuY29uc3QgeyBjbGVhclNpZGViYXIgfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcbmNvbnN0IHsgbWFrZVZpc2libGUgfSA9IHJlcXVpcmUoJy4vbWFrZVZpc2libGUnKTtcclxuY29uc3QgeyB1cGRhdGVCdXR0b25WaXNpYmlsaXR5IH0gPSByZXF1aXJlKCcuL3VwZGF0ZUJ1dHRvblZpc2liaWxpdHknKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vZ2V0Q3JhZnRlZFJlc291cmNlJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBidXlGYWN0b3J5LCBhdHRlbXB0TWFudWZhY3R1cmUsIHVwZ3JhZGVCdWxrIH0gPSByZXF1aXJlKCcuL2ZhY3RvcnknKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkLCBnZW5lcmF0ZVBvbmRlckJ1dHRvbnMgfSA9IHJlcXVpcmUoXCIuL3BvbmRlclwiKTtcclxuY29uc3QgeyBoYXNUb29sLCBhZGRUb29sIH0gPSByZXF1aXJlKCcuL3Rvb2xzJyk7XHJcbmNvbnN0IHsgZ2V0QXRlRmlzaCwgc2V0QXRlRmlzaCB9ID0gcmVxdWlyZSgnLi9hdGVGaXNoJyk7XHJcbmNvbnN0IHsgZHJhd0FsbENvbm5lY3Rpb25zLCB1cGRhdGVUb3RhbCwgY2xlYXJKb2JBc3NpZ25tZW50cywgcmVzZXRBbGxKb2JzIH0gPSByZXF1aXJlKCcuL2pvYnMnKTtcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vY2FwaXRhbGl6ZUZpcnN0Jyk7XHJcbmNvbnN0IHsgcGFzc2VkU3RhZ2UsIHJlc2V0U3RhZ2VzIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG5jb25zdCB7IHJlY2FsY01heENsb25lcyB9ID0gcmVxdWlyZSgnLi9yZWNhbGNNYXhDbG9uZXMnKTtcclxuY29uc3QgeyBpbml0aWFsaXplUmVzb3VyY2VUYWdzLCB1cGRhdGVTaWRlYmFyLCB1cGRhdGVEaXNwbGF5VmFsdWUgfSA9IHJlcXVpcmUoJy4vc2lkZWJhcicpO1xyXG5jb25zdCB7IHByZXN0aWdlIH0gPSByZXF1aXJlKCcuL2pzb24vcHJlc3RpZ2UnKTtcclxuY29uc3QgeyByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCB9ID0gcmVxdWlyZSgnLi9yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCcpO1xyXG5jb25zdCB7IHRyaWdnZXJGbG9hdFVwVGV4dCB9ID0gcmVxdWlyZSgnLi90cmlnZ2VyRmxvYXRVcFRleHQnKTtcclxuY29uc3QgeyB1cGRhdGVCb3VuY2VBbmltYXRpb24gfSA9IHJlcXVpcmUoJy4vdXBkYXRlQm91bmNlQW5pbWF0aW9uJyk7XHJcbmNvbnN0IHsgdXBkYXRlVG9vbHRpcCwgaGlkZVRvb2x0aXAgfSA9IHJlcXVpcmUoJy4vdXBkYXRlVG9vbHRpcCcpO1xyXG5jb25zdCB7IGNhbkNyYWZ0IH0gPSByZXF1aXJlKCcuL2NhbkNyYWZ0Jyk7XHJcblxyXG5cclxuZnVuY3Rpb24gc2V0VG90YWxUaW1lKHRpbWUpIHtcclxuICAgIHRvdGFsX3RpbWUgPSB0aW1lO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuLyogR0FUSEVSSU5HIE1BVEVSSUFMUyovXHJcbmNvbnN0IHNpZGViYXJQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jlc291cmNlc1wiKTtcclxuZnVuY3Rpb24gc3RvcEFsbEdhdGhlcmluZygpIHtcclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhyZXNvdXJjZXMpKSB7XHJcbiAgICAgICAgdmFsLmlzR2V0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhdGhlclwiICsgY2FwaXRhbGl6ZUZpcnN0KGtleSkpO1xyXG4gICAgICAgIGlmIChyQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHJCdXR0b24udGV4dENvbnRlbnQgPSB2YWwuZGVmYXVsdFRleHQ7XHJcbiAgICAgICAgICAgIHJCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnZ2F0aGVyaW5nJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgc2lkZWJhciB0byBub3QgYm9sZFxyXG4gICAgICAgIGNvbnN0IHNpZGViYXJUZXh0ID0gc2lkZWJhclBhcmVudC5xdWVyeVNlbGVjdG9yKCcjcmVzb3VyY2UtJyArIGtleSk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChzaWRlYmFyVGV4dCkgc2lkZWJhclRleHQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZW1vamlHYXRoZXJEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZW1vamlHYXRoZXJEaXNwbGF5Jyk7XHJcbmZ1bmN0aW9uIHRvZ2dsZVJlc291cmNlKHJlc291cmNlS2V5KSB7XHJcbiAgICBjb25zdCByZXNvdXJjZSA9IHJlc291cmNlc1tyZXNvdXJjZUtleV07XHJcblxyXG4gICAgLy8gZW1vamlEaXYudGV4dENvbnRlbnQgPSAn8JOGric7XHJcbiAgICBjb25zdCBzaWRlYmFyUGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyZXNvdXJjZXNcIik7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBzaWRlYmFyVGV4dCA9IHNpZGViYXJQYXJlbnQucXVlcnlTZWxlY3RvcignI3Jlc291cmNlLScgKyByZXNvdXJjZUtleSk7XHJcbiAgICBjb25zdCByZXNvdXJjZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYXRoZXInICsgcmVzb3VyY2VLZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyByZXNvdXJjZUtleS5zbGljZSgxKSk7XHJcbiAgICBlbW9qaUdhdGhlckRpdi50ZXh0Q29udGVudCA9ICfwk4CfJzsgLy8gRGVmYXVsdCBlbW9qaSDwk4CfXHJcblxyXG5cclxuICAgIGlmICghcmVzb3VyY2UuaXNHZXR0aW5nKSB7XHJcbiAgICAgICAgc3RvcEFsbEdhdGhlcmluZygpOyAvLyBTdG9wIGFsbCBnYXRoZXJpbmcgYWN0aW9uc1xyXG4gICAgICAgIHJlc291cmNlLmlzR2V0dGluZyA9IHRydWU7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHJlc291cmNlQnV0dG9uLnRleHRDb250ZW50ID0gcmVzb3VyY2UuYWN0aXZlVGV4dDtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKHNpZGViYXJUZXh0KSBzaWRlYmFyVGV4dC5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBlbW9qaUdhdGhlckRpdi50ZXh0Q29udGVudCA9IHJlc291cmNlLmVtb2ppO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc291cmNlLmVtb2ppKTtcclxuICAgICAgICByZXNvdXJjZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdnYXRoZXJpbmcnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb3VyY2UuaXNHZXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgcmVzb3VyY2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnZ2F0aGVyaW5nJyk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHJlc291cmNlQnV0dG9uLnRleHRDb250ZW50ID0gcmVzb3VyY2UuZGVmYXVsdFRleHQ7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChzaWRlYmFyVGV4dCkgc2lkZWJhclRleHQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLyogQlVUVE9OUyBHRU5FUkFURSAqL1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVCdXR0b25zKCkge1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiR2VuZXJhdGluZyBidXR0b25zXCIpO1xyXG4gICAgY29uc29sZS50cmFjZSgpO1xyXG4gICAgLy8gQ3JlYXRlIHRoZSBjb2x1bW5zXHJcblxyXG5cclxuICAgIGZvciAobGV0IGJ1aWxkaW5nS2V5IGluIGJ1aWxkaW5ncykge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUJ1aWxkaW5nQnV0dG9uKGJ1aWxkaW5nS2V5LCBidWlsZGluZ3MpO1xyXG4gICAgICAgIGJ1dHRvbnNbYnVpbGRpbmdLZXldID0gYnV0dG9uO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTWFkZSBidXR0b24gZm9yIFwiICsgYnVpbGRpbmdLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNyZWF0ZUNvbHVtbnMgPSAocGFyZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29sMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGNvbnN0IGNvbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBjb25zdCBjb2wzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAgIGNvbDEuc3R5bGUud2lkdGggPSAnMzMuMzMlJztcclxuICAgICAgICBjb2wyLnN0eWxlLndpZHRoID0gJzMzLjMzJSc7XHJcbiAgICAgICAgY29sMy5zdHlsZS53aWR0aCA9ICczMy4zMyUnO1xyXG5cclxuICAgICAgICBjb2wxLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICBjb2wyLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICBjb2wzLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuXHJcbiAgICAgICAgY29sMS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgY29sMi5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgY29sMy5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcblxyXG4gICAgICAgIC8vIHBhcmVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXg7JyAgLy8gU2V0IHBhcmVudCB0byBiZSBhIGZsZXggY29udGFpbmVyXHJcblxyXG4gICAgICAgIHBhcmVudC5wcmVwZW5kKGNvbDMpO1xyXG4gICAgICAgIHBhcmVudC5wcmVwZW5kKGNvbDIpO1xyXG4gICAgICAgIHBhcmVudC5wcmVwZW5kKGNvbDEpO1xyXG5cclxuICAgICAgICByZXR1cm4gW2NvbDEsIGNvbDIsIGNvbDNdO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB0YWJzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYnMnKTtcclxuICAgIGNvbnN0IHByb2R1Y3Rpb25Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZHVjdGlvblRhYicpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgZXhwZXJpbWVudENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlcmltZW50VGFiJykucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1jb2x1bW5zJyk7XHJcbiAgICBjb25zdCBwb25kZXJDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9uZGVyVGFiJyk7XHJcbiAgICAvLyBjb25zdCBqb2JDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnam9ic1RhYicpO1xyXG4gICAgLy8gWW91IGNhbiBhZGQgbW9yZSBjb250YWluZXJzIGZvciBkaWZmZXJlbnQgdGFicyBhcyBuZWVkZWRcclxuXHJcbiAgICAvLyBjb25zdCBwcm9kdWN0aW9uQ29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMocHJvZHVjdGlvbkNvbnRhaW5lcik7XHJcbiAgICBjb25zdCBleHBlcmltZW50Q29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMoZXhwZXJpbWVudENvbnRhaW5lcik7XHJcbiAgICBjb25zdCBwb25kZXJDb2x1bW5zID0gY3JlYXRlQ29sdW1ucyhwb25kZXJDb250YWluZXIpO1xyXG4gICAgLy8gY29uc3Qgam9iQ29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMoam9iQ29udGFpbmVyKTtcclxuICAgIC8vIFNpbWlsYXJseSwgY3JlYXRlIGNvbHVtbnMgZm9yIG90aGVyIHRhYnMgYXMgbmVlZGVkXHJcblxyXG4gICAgbGV0IHByb2R1Y3Rpb25Db2x1bW5JbmRleCA9IDE7XHJcbiAgICBsZXQgZXhwZXJpbWVudENvbHVtbkluZGV4ID0gMDtcclxuICAgIGxldCBwb25kZXJDb2x1bW5JbmRleCA9IDA7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBsZXQgam9iQ29sdW1uSW5kZXggPSAwO1xyXG5cclxuICAgIC8vIEFkZCBjb3VudGVycyBmb3Igb3RoZXIgdGFicyBhcyBuZWVkZWRcclxuXHJcbiAgICBmb3IgKGxldCBrZXkgaW4gYnV0dG9ucykge1xyXG4gICAgICAgIGNvbnN0IGJ0biA9IGJ1dHRvbnNba2V5XTtcclxuICAgICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblxyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuaWQgPSBrZXk7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc05hbWUgPSBidG4uY2xhc3M7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC50ZXh0Q29udGVudCA9IGJ0bi50ZXh0LnNwbGl0KCdfJykuam9pbignICcpO1xyXG5cclxuICAgICAgICAvLyBidXR0b25FbGVtZW50LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgICAgIGlmIChidG4udG9vbHRpcERlc2MpIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycsIGJ0bi50b29sdGlwRGVzYyk7XHJcbiAgICAgICAgaWYgKGJ0bi50b29sdGlwRWZmZWN0KSBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWVmZmVjdCcsIGJ0bi50b29sdGlwRWZmZWN0KTtcclxuICAgICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgndW5sb2NrJywgYnRuLnVubG9jayk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnRuKTtcclxuICAgICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YV9idWlsZGluZycsIGJ0bi5kYXRhX2J1aWxkaW5nKTtcclxuICAgICAgICAvLyBpZiB0aGlzIHJlc291cmNlIGlzbid0IHVubG9ja2VkLCBoaWRlIGl0XHJcbiAgICAgICAgLy8gaWYgKCFidG4uaXNWaXNpYmxlKSBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgYnV0dG9uIGNvcnJlc3BvbmRzIHRvIGEgY3JhZnRlZCByZXNvdXJjZSB1c2luZyB0aGUgSURcclxuICAgICAgICBjb25zdCBjcmFmdGVkUmVzb3VyY2UgPSBPYmplY3QudmFsdWVzKGNyYWZ0ZWRSZXNvdXJjZXMpLmZpbmQocmVzb3VyY2UgPT4gcmVzb3VyY2UuaWQgPT09IGtleSk7XHJcblxyXG4gICAgICAgIGlmIChjcmFmdGVkUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgYnRuLnRvb2x0aXBDb3N0ID0gZ2VuZXJhdGVUb29sdGlwQ29zdChjcmFmdGVkUmVzb3VyY2UuY29zdCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1jb3N0JywgYnRuLnRvb2x0aXBDb3N0KTtcclxuXHJcbiAgICAgICAgaWYgKGJ0bi5zaG93VGFiKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzaG93VGFiKGJ0bi5zaG93VGFiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3dpdGNoaW5nIHRvIHRhYjogXCIgKyBidG4uc2hvd1RhYik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBcHBlbmQgdG8gdGhlIGFwcHJvcHJpYXRlIGNvbHVtbiBiYXNlZCBvbiB0aGUgdGFiIHByb3BlcnR5XHJcbiAgICAgICAgaWYgKGJ0bi50YWIgPT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAvL3N0eWxlPSdncmlkLWNvbHVtbjoke2NvbH07IGdyaWQtcm93OiR7cm93fTtcclxuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5zdHlsZS5ncmlkQ29sdW1uID0gcHJvZHVjdGlvbkNvbHVtbkluZGV4LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIC8vIGJ1dHRvbkVsZW1lbnQuc3R5bGUuZ3JpZFJvdyA9ICcwJztcclxuICAgICAgICAgICAgcHJvZHVjdGlvbkNvbHVtbkluZGV4ID0gKHByb2R1Y3Rpb25Db2x1bW5JbmRleCArIDEpICUgMztcclxuICAgICAgICAgICAgcHJvZHVjdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgLy8gcHJvZHVjdGlvbkNvbHVtbnNbcHJvZHVjdGlvbkNvbHVtbkluZGV4XS5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgLy8gcHJvZHVjdGlvbkNvbHVtbkluZGV4ID0gKHByb2R1Y3Rpb25Db2x1bW5JbmRleCArIDEpICUgMztcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChidG4udGFiID09PSAnZXhwZXJpbWVudCcpIHtcclxuICAgICAgICAgICAgZXhwZXJpbWVudENvbHVtbnNbZXhwZXJpbWVudENvbHVtbkluZGV4XS5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgZXhwZXJpbWVudENvbHVtbkluZGV4ID0gKGV4cGVyaW1lbnRDb2x1bW5JbmRleCArIDEpICUgMztcclxuICAgICAgICB9IGVsc2UgaWYgKGJ0bi50YWIgPT09ICd0YWJzJykge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHRhYnNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChidG4udGFiID09PSAncG9uZGVyJykge1xyXG4gICAgICAgICAgICBwb25kZXJDb2x1bW5zW3BvbmRlckNvbHVtbkluZGV4XS5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgcG9uZGVyQ29sdW1uSW5kZXggPSAocG9uZGVyQ29sdW1uSW5kZXggKyAxKSAlIDM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChidG4udGFiID09PSAnam9iJykge1xyXG4gICAgICAgICAgICAvLyBqb2JDb2x1bW5zW2pvYkNvbHVtbkluZGV4XS5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgLy8gam9iQ29sdW1uSW5kZXggPSAoam9iQ29sdW1uSW5kZXggKyAxKSAlIDM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkZCBtb3JlIGNvbmRpdGlvbnMgZm9yIG90aGVyIHRhYnMgYXMgbmVlZGVkXHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0b29sdGlwIGZvciBidWlsZGluZ3NcclxuICAgICAgICBjb25zdCBidWlsZGluZyA9IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykuZmluZChidWlsZGluZyA9PiBidWlsZGluZyA9PT0ga2V5KTtcclxuICAgICAgICBpZiAoYnVpbGRpbmcpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnVpbGRpbmcsIGtleSk7XHJcbiAgICAgICAgICAgIC8vIGJ0bi50b29sdGlwQ29zdCA9IGdlbmVyYXRlQnVpbGRpbmdUb29sdGlwQ29zdChidWlsZGluZ3NbYnVpbGRpbmddLmNvc3QpO1xyXG4gICAgICAgICAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChrZXksIGJ1aWxkaW5ncywgaGFzUGVyayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEhpZGUgdGhlIGJ1dHRvbnMgd2Ugc2hvdWxkbid0IHNlZSB5ZXRcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhidG4pO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICghYnRuLnJlcXVpcmVtZW50KCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkVsZW1lbnQsIGJ0bi5yZXF1aXJlbWVudCgpKTtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ0Vycm9yIHdpdGggcmVxdWlyZW1lbnQgd2hpbGUgZ2VuZXJhdGluZyBidXR0b25zOiAnLCBidG4sIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCB0b29sc1RvU3RhZ2VzID0ge1xyXG4gICAgJ1NoYXJwUm9ja3MnOiAnY3JhZnRSb2NrcycsXHJcbiAgICAnU3BlYXInOiAnZmlzaGluZycsXHJcbiAgICBcIkZpc2hpbmdSb2RcIjogJ2Zpc2hpbmcnLFxyXG4gICAgJ0F4ZSc6ICd3b29kJyxcclxuICAgIFwiUGlja2F4ZVwiOiAnb3JlJ1xyXG59O1xyXG5cclxuLy8gVXBkYXRlIHZpc2liaWxpdHkgb2YgYXNzZXRzXHJcbmNvbnN0IHZpc2liaWxpdHlSdWxlcyA9IFtcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKFwic3RpY2tzXCIsIHJlc291cmNlcykgPj0gMSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKFwic3RpY2tcIilcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbCgnc3RpY2tzJywgcmVzb3VyY2VzKSA+PSAxMCxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCd2aW5lcycpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoJ3ZpbmVzJywgcmVzb3VyY2VzKSA+PSAxMCxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCdyb2NrcycpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoXCJyb2Nrc1wiLCByZXNvdXJjZXMpID49IDEsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB7IG1ha2VWaXNpYmxlKFwidGFiLWJ1dHRvblwiKTsgbWFrZVZpc2libGUoJ2NyYWZ0Um9ja3MnKTsgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldENyYWZ0ZWRSZXNvdXJjZSgnc3BlYXInLCBjcmFmdGVkUmVzb3VyY2VzKSA+IDAsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgnc3BlYXInKVxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbChcImZpc2hcIiwgcmVzb3VyY2VzKSA+PSAxLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ2Zpc2hpbmcnKVxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBoYXNUb29sKFwiQXhlXCIpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3dvb2QnKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldENyYWZ0ZWRSZXNvdXJjZSgncm9wZScpID49IDEsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgncm9wZScpXHJcbiAgICB9LFxyXG5cclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKCdmaXNoJywgcmVzb3VyY2VzKSA+PSA1ICYmICFnZXRBdGVGaXNoKCksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIG1ha2VWaXNpYmxlKCdlYXRGaXNoJyk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VhdEZpc2gnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgLy8gLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWF0RmlzaCcpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0QXRlRmlzaCgpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4geyBtYWtlVmlzaWJsZSgnY2xvbmUnKTsgbWFrZVZpc2libGUoJ3BvbmRlci10YWInKTsgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGlzUG9uZGVyZWQoJ3BvbmRlckZpbmlzaCcpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbmF2aWdhdGVUbygnc3RhZ2UyLmh0bWwnKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGlzUG9uZGVyZWQoJ2JpZ2dlclNoZWx0ZXInKSB8fCBpc1BvbmRlcmVkKCdiaWdnZXJIdXQnKSB8fCBpc1BvbmRlcmVkKCdiaWdnZXJIb3VzZScpIHx8IGlzUG9uZGVyZWQoJ2JpZ2dlclRlZXBlZScpIHx8IGlzUG9uZGVyZWQoJ2V2ZW5CaWdnZXJTaGVsdGVyJyksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiByZWNhbGNNYXhDbG9uZXMoKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKCdjbG9uZXMnKSA+PSA0MCxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCdwcmVzdGlnZScpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoJ2NsYXknKSA+IDAsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgnY2xheScpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtYmFzaWNzJykgJiYgaXNQb25kZXJlZCgnb3JnYW5pemF0aW9uJyksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBpbml0aWFsaXplUmVzb3VyY2VUYWdzKHRydWUpXHJcbiAgICB9XHJcbl07XHJcblxyXG5mdW5jdGlvbiByZW5kZXIoKSB7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ3VwZGF0aW5nIHZpc2libGUnKTtcclxuICAgIHZpc2liaWxpdHlSdWxlcy5mb3JFYWNoKHJ1bGUgPT4ge1xyXG4gICAgICAgIGlmIChydWxlLmNvbmRpdGlvbigpKSB7XHJcbiAgICAgICAgICAgIHJ1bGUuYWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZm9yIChsZXQgdG9vbCBpbiB0b29sc1RvU3RhZ2VzKSB7XHJcbiAgICAgICAgaWYgKCFoYXNUb29sKHRvb2wpICYmIGdldENyYWZ0ZWRSZXNvdXJjZSh0b29sKSA+IDApIHtcclxuICAgICAgICAgICAgYWRkVG9vbCh0b29sKTtcclxuICAgICAgICAgICAgbWFrZVZpc2libGUodG9vbHNUb1N0YWdlc1t0b29sXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSgpO1xyXG4gICAgICAgIC8vIHVwZGF0ZUJvdW5jZUFuaW1hdGlvbigpO1xyXG4gICAgICAgIGlmIChjdXJyZW50SG92ZXJCdXR0b24gIT09IG51bGwpIHVwZGF0ZVRvb2x0aXAoY3VycmVudEhvdmVyQnV0dG9uKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIFN3aXRjaCB0YWJzXHJcbmxldCB0YWJDb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YWItY29udGVudCA+IC5jb250ZW50XCIpOyAvLyBEaXJlY3QgY2hpbGRyZW4gb25seVxyXG5mdW5jdGlvbiBzaG93VGFiKHRhYk5hbWUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwic2hvdyB0YWI6IFwiICsgdGFiTmFtZSk7XHJcbiAgICAvLyBHZXQgYWxsIG1haW4gY29udGFpbmVyIGRpdnMgYW5kIGhpZGUgdGhlbVxyXG4gICAgbGV0IHByZXZUYWIgPSAnJztcclxuICAgIGZvciAobGV0IGNvbnRlbnQgb2YgdGFiQ29udGFpbmVycykge1xyXG4gICAgICAgIGlmIChjb250ZW50LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgcHJldlRhYiA9IGNvbnRlbnQuaWQ7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29udGVudC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpOyB9LCAxMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgYWxsIHRhYiBidXR0b25zIGFuZCByZW1vdmUgdGhlIGFjdGl2ZSBjbGFzc1xyXG4gICAgbGV0IHRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYi1idXR0b25cIik7XHJcbiAgICBmb3IgKGxldCB0YWIgb2YgdGFicykge1xyXG4gICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNob3cgdGhlIGNsaWNrZWQgdGFiJ3MgbWFpbiBjb250YWluZXIgZGl2IGFuZCBtYWtlIHRoZSB0YWIgYnV0dG9uIGFjdGl2ZVxyXG4gICAgbGV0IGFjdGl2ZUNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWJOYW1lKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuXHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7IGFjdGl2ZUNvbnRlbnQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTsgfSwgMTAwKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGFjdGl2ZUNvbnRlbnQuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgIH0sIDIwMCk7XHJcblxyXG5cclxuICAgIC8vIEdldCB0aGUgY2xpY2tlZCB0YWIgYnV0dG9uIGFuZCBtYWtlIGl0IGFjdGl2ZVxyXG4gICAgY29uc3QgdGFiU3RyaW5nID0gYCMke3RhYk5hbWV9QnV0dG9uYDtcclxuICAgIGxldCBhY3RpdmVUYWJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhYlN0cmluZyk7XHJcblxyXG4gICAgaWYgKGFjdGl2ZVRhYkJ1dHRvbikgYWN0aXZlVGFiQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgaWYgKHRhYk5hbWUgPT09ICdqb2JzVGFiJylcclxuICAgICAgICBkcmF3QWxsQ29ubmVjdGlvbnMoKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhwcmV2VGFiLCAnPicsIHRhYk5hbWUpO1xyXG5cclxuICAgIHVwZGF0ZVNpZGViYXIoKTtcclxufVxyXG5cclxuXHJcbi8qIEhPVEtFWVMgKi9cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcclxuICAgICAgICBjYXNlICcxJzpcclxuICAgICAgICAgICAgc2hvd1RhYigncHJvZHVjdGlvblRhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICcyJzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCd0YWItYnV0dG9uJykpIHNob3dUYWIoJ2V4cGVyaW1lbnRUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gQWRkIGNhc2VzIGZvciBvdGhlciB0YWJzIGFzIG5lZWRlZFxyXG4gICAgICAgIGNhc2UgJzMnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ3BvbmRlci10YWInKSkgc2hvd1RhYigncG9uZGVyVGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJzQnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ2pvYnMtdGFiJykpIHNob3dUYWIoJ2pvYnNUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnNSc6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgnc2tpbGxzVGFibGUnKSkgc2hvd1RhYignc2tpbGxzVGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJzYnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ3BlcmtzVGFiJykpIHNob3dUYWIoJ3BlcmtzVGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJzcnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ2ZhY3RvcnlUYWInKSkgc2hvd1RhYignZmFjdG9yeVRhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuLyogREFSSyBNT0RFICovXHJcbi8vIGNvbnN0IGRhcmtNb2RlVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXJrTW9kZVRvZ2dsZVwiKTtcclxuY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XHJcbmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyay1tb2RlJyk7XHJcbi8vIEB0cy1pZ25vcmVcclxuLy8gZGFya01vZGVUb2dnbGUuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyaycpO1xyXG5sZXQgaXNEYXJrID0gdHJ1ZTtcclxuXHJcblxyXG4vKiBDVVRTQ0VORVMgKi9cclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBlYXRGaXNoKCkge1xyXG4gICAgaWYgKCFnZXRBdGVGaXNoKCkgJiYgZ2V0TWF0ZXJpYWwoJ2Zpc2gnLCByZXNvdXJjZXMpID49IDEpIHtcclxuICAgICAgICAvLyBlYXQgYSBmaXNoIGFuZCBibGFja291dFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKCdmaXNoJywgLTEpO1xyXG4gICAgICAgIC8vIENhbGwgdGhpcyBmdW5jdGlvbiB0byBzdGFydCB0aGUgc2VxdWVuY2VcclxuICAgICAgICBmYWRlVG9CbGFjaygpO1xyXG4gICAgICAgIC8vIEhpZGUgZmlzaCBidXR0b25cclxuICAgICAgICBzZXRBdGVGaXNoKHRydWUpO1xyXG4gICAgICAgIGNvbnN0IGZpc2hCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VhdEZpc2hcIik7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGZpc2hCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY2hhbmdlTWVzc2FnZShcIllvdSBhcmUgd2l0aCB5b3Vyc2VsZiBpbiBhIGZvcmVzdC5cIiwgJ3dpdGggeW91cnNlbGYnKTtcclxuICAgICAgICAgICAgaW5jcmVhc2VNYXgoJ2Nsb25lcycsIDEpO1xyXG4gICAgICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKCdjbG9uZXMnLCAxKTtcclxuICAgICAgICB9LCAxMDAwKTsgLy8gZGVsYXkgb2YgMXNcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBmYWRlVG9CbGFjaygpIHtcclxuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpO1xyXG4gICAgY29uc3Qgb3ZlcmxheVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS10ZXh0Jyk7XHJcbiAgICBjb25zdCBvdmVybGF5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktYnV0dG9uJyk7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBvdmVybGF5VGV4dC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgfSwgMjAwMCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG92ZXJsYXlCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgb3ZlcmxheUJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgfSwgNTAwMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVPdmVybGF5KCkge1xyXG4gICAgY29uc3Qgb3ZlcmxheVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS10ZXh0Jyk7XHJcbiAgICBvdmVybGF5VGV4dC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG5cclxuICAgIGNvbnN0IG92ZXJsYXlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS1idXR0b24nKTtcclxuICAgIG92ZXJsYXlCdXR0b24uc3R5bGUub3BhY2l0eSA9ICcwJztcclxuXHJcbiAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKTtcclxuICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICBjb25zdCBpc2VrYWlCdXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lzZWthaUJ1dHRvbnMnKTtcclxuICAgIC8vIGlzZWthaUJ1dHRvbnMuY2hpbGROb2Rlcy5mb3JFYWNoKGNoaWxkID0+IGlzZWthaUJ1dHRvbnMucmVtb3ZlQ2hpbGQoY2hpbGQpKTtcclxuICAgIGlzZWthaUJ1dHRvbnMuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbmF2aWdhdGVUbyh1cmwpIHtcclxuICAgIC8vIFRyaWdnZXIgdGhlIG92ZXJsYXkgdG8gZmFkZSBpblxyXG4gICAgdmFyIG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS10cmFuc2l0aW9uLW92ZXJsYXknKTtcclxuICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnZmFkZS1pbicpO1xyXG5cclxuICAgIC8vIFdhaXQgZm9yIHRoZSBmYWRlIGluIHRvIGNvbXBsZXRlIGJlZm9yZSBjaGFuZ2luZyB0aGUgcGFnZVxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgICB9LCAzMDApOyAvLyBUaGlzIGR1cmF0aW9uIHNob3VsZCBtYXRjaCB0aGUgQ1NTIG9wYWNpdHkgdHJhbnNpdGlvblxyXG59XHJcblxyXG4vLyBFeGFtcGxlIHVzYWdlXHJcbi8vIG5hdmlnYXRlVG8oJ25leHQtcGFnZS5odG1sJyk7XHJcblxyXG5cclxuXHJcbi8vIE1lc3NhZ2UgXHJcbmNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UnKTtcclxuZnVuY3Rpb24gY2hhbmdlTWVzc2FnZShuZXdNZXNzYWdlLCBjbG9uZVdvcmRzKSB7XHJcbiAgICBjb25zdCBtb2RpZmllZE1lc3NhZ2UgPSBuZXdNZXNzYWdlLnJlcGxhY2UoY2xvbmVXb3JkcywgYDxzcGFuIGNsYXNzPSd0b29sdGlwJyBpZD1cImFsb25lXCIgdG9vbHRpcERlc2M9XCJZb3UgZmVlbCBwZWNraXNoIGZvciBzb21lIHNlYWZvb2RcIj4ke2Nsb25lV29yZHN9PC9zcGFuPmApO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgbWVzc2FnZUVsZW1lbnQuaW5uZXJIVE1MID0gbW9kaWZpZWRNZXNzYWdlO1xyXG59XHJcbmZ1bmN0aW9uIGdldE1lc3NhZ2UoKSB7XHJcbiAgICByZXR1cm4gbWVzc2FnZUVsZW1lbnQ7XHJcbn1cclxuXHJcbi8qIEdBTUUgTE9PUCAqL1xyXG5cclxuXHJcbmxldCBtaWxsaXNlY29uZHNfcGVyX2ZyYW1lID0gNTA7XHJcbmxldCBsYXN0X3RpbWUgPSBudWxsO1xyXG5sZXQgdG90YWxfdGltZSA9IDA7XHJcbmxldCBhY2N1bXVsYXRlZF9sYWcgPSAwO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGxvb3AoY3VycmVudF90aW1lKSB7XHJcbiAgICBpZiAobGFzdF90aW1lID09PSBudWxsKSBsYXN0X3RpbWUgPSBjdXJyZW50X3RpbWU7XHJcblxyXG4gICAgY29uc3QgZGVsdGFfdGltZSA9IGN1cnJlbnRfdGltZSAtIGxhc3RfdGltZTtcclxuXHJcbiAgICB0b3RhbF90aW1lICs9IGRlbHRhX3RpbWU7XHJcbiAgICBhY2N1bXVsYXRlZF9sYWcgKz0gZGVsdGFfdGltZTtcclxuXHJcbiAgICBsYXN0X3RpbWUgPSBjdXJyZW50X3RpbWU7XHJcblxyXG4gICAgLy8gQ2F0Y2ggdXAgYWxsIHRoZSBtaXNzZWQgdGlja3NcclxuICAgIGxldCBub3JtYWxSYXRlID0gbWlsbGlzZWNvbmRzX3Blcl9mcmFtZTtcclxuICAgIC8vIHNpbXVsYXRlIHdpdGggbGVzcyBmaWRlbGl0eSB0byBtYWtlIHVwIHRpbWVcclxuICAgIC8vIHdoaWxlIChhY2N1bXVsYXRlZF9sYWcgPj0gMTAwICogbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSkge1xyXG4gICAgLy8gICAgIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUgKj0gMTAwO1xyXG4gICAgLy8gfVxyXG4gICAgaWYgKGFjY3VtdWxhdGVkX2xhZyA+PSAxMCAqIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUpIHtcclxuICAgICAgICBtaWxsaXNlY29uZHNfcGVyX2ZyYW1lID0gYWNjdW11bGF0ZWRfbGFnIC8gMTA7XHJcbiAgICB9XHJcbiAgICB3aGlsZSAoYWNjdW11bGF0ZWRfbGFnID49IG1pbGxpc2Vjb25kc19wZXJfZnJhbWUpIHtcclxuXHJcbiAgICAgICAgYWNjdW11bGF0ZWRfbGFnIC09IG1pbGxpc2Vjb25kc19wZXJfZnJhbWU7XHJcbiAgICAgICAgdXBkYXRlKG1pbGxpc2Vjb25kc19wZXJfZnJhbWUsIHRvdGFsX3RpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUgPSBub3JtYWxSYXRlO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG59XHJcblxyXG5cclxubGV0IHRpbWVfc2luY2VfbGFzdF9zYXZlID0gMDtcclxubGV0IHRpbWVfc2luY2VfbWFudWZhdHVyZSA9IDA7XHJcbmZ1bmN0aW9uIHVwZGF0ZShkZWx0YV90aW1lLCB0b3RhbF90aW1lKSB7XHJcblxyXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHJlc291cmNlcykpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInVwZGF0aW5nIFwiICsga2V5KTtcclxuXHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChrZXksIGNhbGNJbmNyZWFzZShrZXksIGRlbHRhX3RpbWUpKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVSZXNvdXJjZUluY3JlYXNlUmF0ZXMoKTtcclxuICAgIHJlbmRlcigpO1xyXG5cclxuICAgIC8vIFNhdmUgdGhlIGdhbWUgZXZlcnkgMTAgc2Vjb25kc1xyXG4gICAgdGltZV9zaW5jZV9sYXN0X3NhdmUgKz0gZGVsdGFfdGltZTtcclxuICAgIHRpbWVfc2luY2VfbWFudWZhdHVyZSArPSBkZWx0YV90aW1lO1xyXG4gICAgdG90YWxfdGltZSArPSBkZWx0YV90aW1lO1xyXG4gICAgaWYgKHRpbWVfc2luY2VfbGFzdF9zYXZlID49IDEwMDAwKSB7XHJcbiAgICAgICAgc2F2ZUdhbWUoKTtcclxuICAgICAgICB0aW1lX3NpbmNlX2xhc3Rfc2F2ZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFudWZhY3R1cmUgZXZlcnkgc2Vjb25kXHJcbiAgICBpZiAocGFzc2VkU3RhZ2UoJ2ZhY3RvcnlUYWInKSAmJiB0aW1lX3NpbmNlX21hbnVmYXR1cmUgPj0gMTAwMCkge1xyXG4gICAgICAgIGF0dGVtcHRNYW51ZmFjdHVyZSgpO1xyXG4gICAgICAgIHRpbWVfc2luY2VfbWFudWZhdHVyZSA9IDA7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyB3aW5kb3cuc2V0SW50ZXJ2YWwocmVuZGVyLCAxMDApIC8vIFVwZGF0ZSB2aXN1YWxzIDEwIHRpbWVzIHBlciBzZWNvbmRcclxuLy8gd2luZG93LnNldEludGVydmFsKHRpY2ssIDEwMDApOyAvLyBFdmVyeSB0aWNrIGxhc3RzIGZvciAxIHNlY29uZFxyXG4vLyB3aW5kb3cuc2V0SW50ZXJ2YWwoc2F2ZUdhbWUsIDEwMDAwKTsgLy8gU2F2ZSB0aGUgZ2FtZSBldmVyeSAxMCBzZWNvbmRzXHJcbndpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIFdlIHVzZSBhIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHNob3J0aGFuZCBiZWNhdXNlIHNhdmVnYW1lIHJldHVybnMgYSBzdHJpbmdcclxuICAgIGlmICghY3VycmVudGx5RGVsZXRpbmcpIHNhdmVHYW1lKCk7XHJcbn07XHJcblxyXG5cclxuLy8gY29uc3QgbXlSZXNvdXJjZXMgPSB7fTtcclxuXHJcbi8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkUmVzb3VyY2VCdG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VGb3JtXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbi8vIH0pO1xyXG5cclxuZnVuY3Rpb24gYWRkUmVzb3VyY2UoKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCByZXNvdXJjZU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc291cmNlTmFtZVwiKS52YWx1ZTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGFjdGl2ZVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc291cmNlQWN0aXZlVGV4dFwiKS52YWx1ZTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGRlZmF1bHRUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZURlZmF1bHRUZXh0XCIpLnZhbHVlO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGJ0blRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blRleHRcIikudmFsdWU7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBidG5Ub29sdGlwRGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuVG9vbHRpcERlc2NcIikudmFsdWU7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBidG5Ub29sdGlwQ29zdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuVG9vbHRpcENvc3RcIikudmFsdWU7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdmFyIG5ld1Jlc291cmNlID0gbXlSZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSA9IHtcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBpZDogXCJnYXRoZXJcIiArIHJlc291cmNlTmFtZSxcclxuICAgICAgICBpc0dldHRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGFjdGl2ZVRleHQ6IGFjdGl2ZVRleHQsXHJcbiAgICAgICAgZGVmYXVsdFRleHQ6IGRlZmF1bHRUZXh0LFxyXG4gICAgICAgIC8vIC4uLiBBZGQgb3RoZXIgYXR0cmlidXRlcyBhcyBmZXRjaGVkIGZyb20gZm9ybSAuLi5cclxuICAgIH07XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSBidXR0b24gb2JqZWN0XHJcbiAgICB2YXIgbmV3QnV0dG9uID0gYnV0dG9uc1tcImdhdGhlclwiICsgcmVzb3VyY2VOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVzb3VyY2VOYW1lLnNsaWNlKDEpXSA9IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiBidG5UZXh0LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBidG5Ub29sdGlwRGVzYyxcclxuICAgICAgICB0b29sdGlwQ29zdDogYnRuVG9vbHRpcENvc3QsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUgLy8gQnkgZGVmYXVsdCwgbWFraW5nIHRoaXMgYWx3YXlzIHZpc2libGUuIE1vZGlmeSBhcyBuZWVkZWQuXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnNvbGUubG9nKG5ld1Jlc291cmNlKTtcclxuICAgIGNvbnNvbGUubG9nKG5ld0J1dHRvbik7XHJcblxyXG4gICAgLy8gSGlkZSBmb3JtIG9uY2UgcmVzb3VyY2UgaXMgYWRkZWRcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VGb3JtXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAvLyBPcHRpb25hbGx5LCB5b3UgY2FuIHVwZGF0ZSB0aGUgVUkgdG8gc2hvdyB0aGUgYWRkZWQgcmVzb3VyY2VcclxuICAgIC8vIHVwZGF0ZVVJKHJlc291cmNlTmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVVJKHJlc291cmNlTmFtZSkge1xyXG4gICAgLy8gSGVyZSB5b3UgY2FuIGNyZWF0ZSBhIG5ldyBET00gZWxlbWVudCB0byBkaXNwbGF5IHRoZSBhZGRlZCByZXNvdXJjZVxyXG4gICAgY29uc3QgcmVzb3VyY2VEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgcmVzb3VyY2VEaXYuaW5uZXJIVE1MID0gYCR7cmVzb3VyY2VOYW1lfTogJHtyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS52YWx1ZX1gO1xyXG5cclxuICAgIC8vIEFwcGVuZCB0byBzb21lIGNvbnRhaW5lclxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZXNvdXJjZURpdik7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxubGV0IGN1cnJlbnRseURlbGV0aW5nID0gZmFsc2U7XHJcblxyXG4vLyBBZnRlciBhbGwgaGFzIGJlZW4gbG9hZGVkXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoZXZlbnQpID0+IHtcclxuICAgIHdpbmRvdy5pbmNyZWFzZU1hdGVyaWFsID0gaW5jcmVhc2VNYXRlcmlhbDtcclxuICAgIGdlbmVyYXRlUG9uZGVyQnV0dG9ucyhwb25kZXJzKTtcclxuICAgIC8vIGFwcGVuZENyYWZ0ZWRSZXNvdXJjZUJ1dHRvbnMoKTtcclxuICAgIGdlbmVyYXRlQnV0dG9ucygpOyAvLyBDYWxsIHRoaXMgb25jZSBvbiBwYWdlIGxvYWQgb3IgZ2FtZSBpbml0aWFsaXphdGlvblxyXG5cclxuICAgIGluaXRpYWxpemVSZXNvdXJjZVRhZ3MoKTtcclxuICAgIGxvYWRHYW1lKCk7XHJcblxyXG4gICAgY2xlYXJTaWRlYmFyKCk7XHJcbiAgICBpbml0aWFsaXplUmVzb3VyY2VUYWdzKGlzUG9uZGVyZWQoJ29yZ2FuaXphdGlvbicpKTsgLy8gY2hlY2sgaWYgd2UgbmVlZCBncm91cHNcclxuXHJcbiAgICBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zKCk7XHJcblxyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG5cclxuICAgIHNob3dUYWIoJ3Byb2R1Y3Rpb25UYWInKTtcclxuICAgIHJlcXVpcmUoJy4vdHJhZGUnKS5nZW5lcmF0ZVRyYWRlVGFibGUocmVzb3VyY2VzKTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UktleUZyb21JRChpZCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgW3IsIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMocmVzb3VyY2VzKSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZXNbcl0uaWQsIGlkKTtcclxuICAgICAgICAgICAgaWYgKHZhbC5pZCA9PT0gaWQpIHJldHVybiByO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJ2Vycm9yICcgKyBpZDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldENSS2V5RnJvbUlEKGlkKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBbciwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhjcmFmdGVkUmVzb3VyY2VzKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyLCB2YWwsIGlkKTtcclxuICAgICAgICAgICAgaWYgKHZhbC5pZCA9PT0gaWQpIHJldHVybiByO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJ2Vycm9yICcgKyBpZDtcclxuICAgIH1cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKFwiYnV0dG9uXCIpKSB7XHJcbiAgICAgICAgICAgIC8vIG9uZSBvZiBvdXIgYnV0dG9ucyB3YXMgY2xpY2tlZFxyXG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGlja2VkJywgYnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0b29sdGlwcyBcclxuICAgICAgICAgICAgLy8gaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3Rvb2x0aXAnKSkgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgICAgICAvLyB1cGRhdGVUb29sdGlwKGJ1dHRvbik7XHJcblxyXG4gICAgICAgICAgICAvLyBCVUlMRElORyBCVVRUT05TXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGFfYnVpbGRpbmcnKSAmJiBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJykgIT09ICd1bmRlZmluZWQnICYmIGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3B1cmNoYXNhYmxlJykpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICB2YXIgYnVpbGRpbmcgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gZXZlbnQucGFnZVg7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gZXZlbnQucGFnZVk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSBidXlNYXhCdWlsZGluZ3MoYnVpbGRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJGbG9hdFVwVGV4dCh4LCB5LCBgKyR7Y291bnR9ICR7Y2FwaXRhbGl6ZUZpcnN0KGJ1aWxkaW5nKS5zcGxpdCgnXycpLmpvaW4oJyAnKX1zYCwgJ2FxdWEnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnV5QnVpbGRpbmcoYnVpbGRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJGbG9hdFVwVGV4dCh4LCB5LCBgKzEgJHtjYXBpdGFsaXplRmlyc3QoYnVpbGRpbmcpfWAsICdhcXVhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFBPTkRFUiBCVVRUT05TXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygndW5sb2NrJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVubG9ja0F0dHIgPSBidXR0b24uZ2V0QXR0cmlidXRlKCd1bmxvY2snKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codW5sb2NrQXR0cik7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9uZGVyc1t1bmxvY2tBdHRyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW5VbmxvY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IG1hdGVyaWFsIGluIHBvbmRlcnNbdW5sb2NrQXR0cl0uY29zdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPCBwb25kZXJzW3VubG9ja0F0dHJdLmNvc3RbbWF0ZXJpYWxdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbm5vdCB1bmxvY2sgXCIgKyB1bmxvY2tBdHRyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhblVubG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5VbmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gcG9uZGVyc1t1bmxvY2tBdHRyXS5jb3N0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKG1hdGVyaWFsLCAtcG9uZGVyc1t1bmxvY2tBdHRyXS5jb3N0W21hdGVyaWFsXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9uZGVyc1t1bmxvY2tBdHRyXS5pc1BvbmRlcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVZpc2libGUodW5sb2NrQXR0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyByZXNvdXJjZUtleSArIFwiVmFsdWVcIikudGV4dENvbnRlbnQgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS52YWx1ZS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHRoaXMgYnV0dG9uIGRpc2FwcGVhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJVbmxvY2tpbmcgXCIgKyB1bmxvY2tBdHRyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVmcmVzaCB0aGUgcGFnZSB3aGVuIGJ1eWluZyBvcmdhbml6ZWQgc3RvcmFnZSB0byBnZW5lcmF0ZSB0aGUgZ3JvdXBzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1bmxvY2tBdHRyID09PSAnb3JnYW5pemF0aW9uJykgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBPVEhFUiBCVVRUT05TXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGlmIChidXR0b24uaWQuc2xpY2UoMCwgNikgPT09IFwiZ2F0aGVyXCIpIHRvZ2dsZVJlc291cmNlKGdldFJLZXlGcm9tSUQoYnV0dG9uLmlkKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkLnNsaWNlKDAsIDUpID09PSAnY3JhZnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjciA9IGdldENSS2V5RnJvbUlEKGJ1dHRvbi5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgY3I6ICcsIGNyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuQ3JhZnQoY3IpKSB0cmlnZ2VyRmxvYXRVcFRleHQoZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZLCBgKyR7Y3J9YCwgJ2FxdWEnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIGNyYWZ0QWxsUmVzb3VyY2VzKGNyKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGNyYWZ0UmVzb3VyY2UoY3IpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdzYXZlQnV0dG9uJykgc2F2ZUdhbWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdlYXRGaXNoJykgZWF0RmlzaCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJ292ZXJsYXktYnV0dG9uJykgaGlkZU92ZXJsYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdkZWxldGVTYXZlQnV0dG9uJyAmJiBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB5b3VyIHNhdmUgZGF0YT8gVGhpcyB3aWxsIHJlc2V0IGFsbCB5b3VyIHByb2dyZXNzLlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzYXZlJyk7IGN1cnJlbnRseURlbGV0aW5nID0gdHJ1ZTsgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdjbGVhckpvYkFzc2lnbm1lbnRzJykgY2xlYXJKb2JBc3NpZ25tZW50cygpO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkID09PSAnZGFya01vZGVUb2dnbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdkYXJrLW1vZGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgZGFya01vZGVUb2dnbGUuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyaycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzRGFyayA9ICFpc0Rhcms7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGRhcmtNb2RlVG9nZ2xlLnRleHRDb250ZW50ID0gaXNEYXJrID8gXCJMaWdodCBNb2RlXCIgOiBcIkRhcmsgTW9kZVwiO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICcybWFpbicpIHNob3dUYWIoJ21haW5UYWInKTtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJzJncmFwaHMnKSBzaG93VGFiKCdncmFwaHNUYWInKTtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJ3ByZXN0aWdlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzZWthaSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCd0aWVyT25lQnV0dG9uJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGxldCBwZXJrID0gYnV0dG9uLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0QWJpbGl0eShwZXJrKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoXCIjYWxvbmVcIikpIHtcclxuICAgICAgICAgICAgLy8gaW5jcmVhc2VNYXRlcmlhbCgnY2xvbmVzJywgMSk7XHJcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gJysxIENsb25lJztcclxuICAgICAgICAgICAgLy8gSGFyZGNvZGVkIGluc3RlYWQgdG8gYXZvaWQgaW5jcmVhc2UgYWZmZWN0ZWQgYnkgcHJvZHVjdGl2aXR5IGJvbnVzZXNcclxuICAgICAgICAgICAgaWYgKHJlc291cmNlc1snY2xvbmVzJ10udmFsdWUgPCByZXNvdXJjZXNbJ2Nsb25lcyddLm1heCkgeyByZXNvdXJjZXNbJ2Nsb25lcyddLnZhbHVlICs9IDE7IH1cclxuICAgICAgICAgICAgZWxzZSB0ZXh0ID0gJ01heCBDbG9uZXMnO1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gZXZlbnQucGFnZVg7IC8vIFggY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2tcclxuICAgICAgICAgICAgY29uc3QgeSA9IGV2ZW50LnBhZ2VZOyAvLyBZIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGV4dCA9PT0gJysxIENsb25lJyA/ICdncmVlbicgOiAncmVkJztcclxuICAgICAgICAgICAgdHJpZ2dlckZsb2F0VXBUZXh0KHgsIHksIHRleHQsIGNvbG9yKTtcclxuICAgICAgICAgICAgdXBkYXRlVG90YWwoKTtcclxuICAgICAgICAgICAgdXBkYXRlRGlzcGxheVZhbHVlKCdjbG9uZXMnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBtYWtlRmFjdG9yeUJ1dHRvbnMoKSB7XHJcbiAgICAgICAgY29uc3QgZmFjdG9yeUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmFjdG9yeUJ1dHRvbnMnKTtcclxuXHJcbiAgICAgICAgY29uc3QgYnV5RmFjdG9yeUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIGJ1eUZhY3RvcnlCdXR0b24uY2xhc3NMaXN0LmFkZCgndG9vbHRpcCcpO1xyXG4gICAgICAgIGJ1eUZhY3RvcnlCdXR0b24uaWQgPSAnYnV5RmFjdG9yeUJ1dHRvbic7XHJcbiAgICAgICAgYnV5RmFjdG9yeUJ1dHRvbi50ZXh0Q29udGVudCA9ICdCdXkgTmV3IEZhY3RvcnknO1xyXG4gICAgICAgIGJ1eUZhY3RvcnlCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycsICdUaGUgZmFjdG9yeSBtdXN0IGdyb3chJyk7XHJcbiAgICAgICAgYnV5RmFjdG9yeUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBDb3N0JywgJzUwIHNpbHZlcicpO1xyXG4gICAgICAgIGZhY3RvcnlCdXR0b25zLmFwcGVuZENoaWxkKGJ1eUZhY3RvcnlCdXR0b24pO1xyXG5cclxuICAgICAgICBidXlGYWN0b3J5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnYnV5aW5nIGZhY3RvcnknKTtcclxuICAgICAgICAgICAgYnV5RmFjdG9yeSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB1cGdyYWRlQnVsa0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Rvb2x0aXAnKTtcclxuICAgICAgICB1cGdyYWRlQnVsa0J1dHRvbi5pZCA9ICd1cGdyYWRlQnVsa0J1dHRvbic7XHJcbiAgICAgICAgdXBncmFkZUJ1bGtCdXR0b24udGV4dENvbnRlbnQgPSAnVXBncmFkZSBCdWxrJztcclxuICAgICAgICB1cGdyYWRlQnVsa0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgJ0NyYWZ0IG1vcmUgcmVzb3VyY2VzIHBlciBzZWNvbmQnKTtcclxuICAgICAgICB1cGdyYWRlQnVsa0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBDb3N0JywgJzIg4oaSIDQ6IDMwIHNpbHZlcicpO1xyXG4gICAgICAgIGZhY3RvcnlCdXR0b25zLmFwcGVuZENoaWxkKHVwZ3JhZGVCdWxrQnV0dG9uKTtcclxuXHJcbiAgICAgICAgdXBncmFkZUJ1bGtCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3VwZ3JhZGluZyBidWxrJyk7XHJcbiAgICAgICAgICAgIHVwZ3JhZGVCdWxrKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICB9XHJcbiAgICBtYWtlRmFjdG9yeUJ1dHRvbnMoKTtcclxuICAgIC8vIGNyZWF0ZUZhY3RvcnlEaXYoKTtcclxuXHJcblxyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG5cclxuICAgIC8vIFNhbXBsZSB1c2FnZTpcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b29sdGlwJykuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbik7XHJcbiAgICAgICAgLy8gRXh0cmFjdCB0aGUgZGF0YSBmcm9tIHlvdXIgYnVpbGRpbmcgb3IgYW55IG90aGVyIGRhdGEgLSBzb3VyY2VcclxuICAgICAgICAvLyBjb25zdCBjb250ZW50ID0gXCJZb3VyIHRvb2x0aXAgY29udGVudCBoZXJlXCI7XHJcblxyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgICAgICBjdXJyZW50SG92ZXJCdXR0b24gPSBidXR0b247XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBUT0RPOiBtb3ZlIHRoaXMgZXZlbnQgbGlzdGVuZXJcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignb25jbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHsgaGlkZVRvb2x0aXAoKTsgY3VycmVudEhvdmVyQnV0dG9uID0gbnVsbDsgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIGpvYnMgY291bnRlclxyXG4gICAgdXBkYXRlVG90YWwoKTtcclxuICAgIHVwZGF0ZUJvdW5jZUFuaW1hdGlvbigpO1xyXG5cclxuXHJcbn0pO1xyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBuZXh0Rmlib25hY2NpKG4pIHtcclxuICAgIGxldCBhID0gbiAqICgxICsgTWF0aC5zcXJ0KDUpKSAvIDIuMDtcclxuICAgIHJldHVybiBNYXRoLnJvdW5kKGEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwcmV2Rmlib25hY2NpKG4pIHtcclxuICAgIGxldCBhID0gbiAvICgoMSArIE1hdGguc3FydCg1KSkgLyAyLjApO1xyXG4gICAgcmV0dXJuIE1hdGgucm91bmQoYSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzZWthaSgpIHtcclxuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpO1xyXG4gICAgY29uc3Qgb3ZlcmxheVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS10ZXh0Jyk7XHJcbiAgICBjb25zdCBvdmVybGF5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktYnV0dG9uJyk7XHJcbiAgICBjb25zdCBvdmVybGF5QmFja0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5LWJhY2stYnV0dG9uJyk7IC8vIEdldCB0aGUgXCJHbyBCYWNrXCIgYnV0dG9uXHJcblxyXG4gICAgb3ZlcmxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjb25zdCBodXNrc0R1ZSA9IGdldE1hdGVyaWFsKCdjbG9uZXMnKTtcclxuXHJcbiAgICAgICAgLy8gUmVzZXQgZnVuY3Rpb25zIHRvIGJlIGV4ZWN1dGVkIHdoZW4gXCJDb250aW51ZVwiIGlzIGNsaWNrZWRcclxuICAgICAgICByZXNldFJlc291cmNlcygpO1xyXG4gICAgICAgIHJlc2V0Q3JhZnRlZFJlc291cmNlcygpO1xyXG4gICAgICAgIHJlc2V0UG9uZGVycygpO1xyXG4gICAgICAgIHJlc2V0UGVya3MoKTtcclxuICAgICAgICByZXNldEJ1aWxkaW5ncygpO1xyXG4gICAgICAgIHJlc2V0QWxsSm9icygpO1xyXG4gICAgICAgIHJlc2V0U3RhZ2VzKCk7XHJcblxyXG4gICAgICAgIC8vIEdpdmUgaHVza3MgYWZ0ZXJ3YXJkc1xyXG4gICAgICAgIGluY3JlYXNlTWF0ZXJpYWwoJ2h1c2tzJywgaHVza3NEdWUpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gQ2xvc2UgdGhlIG92ZXJsYXlcclxuICAgICAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgIC8vIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIGluaXRpYWxpemVSZXNvdXJjZVRhZ3MoZmFsc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgb3ZlcmxheUJhY2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gSnVzdCBjbG9zZSB0aGUgb3ZlcmxheSB3aXRob3V0IGV4ZWN1dGluZyByZXNldCBmdW5jdGlvbnNcclxuICAgICAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDb252ZXJ0IGNsb25lcyB0byBodXNrc1xyXG4gICAgY29uc3Qgb2xkSHVza1ZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h1c2tzSXNla2FpVmFsdWUnKTtcclxuICAgIGxldCBodXNrVmFsdWU7XHJcbiAgICBpZiAob2xkSHVza1ZhbHVlKSBodXNrVmFsdWUgPSBvbGRIdXNrVmFsdWU7XHJcbiAgICBlbHNlIGh1c2tWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgIGh1c2tWYWx1ZS5pZCA9ICdodXNrc0lzZWthaVZhbHVlJztcclxuICAgIGh1c2tWYWx1ZS5pbm5lckhUTUwgPSBgSHVza3M6ICAke2dldE1hdGVyaWFsKCdodXNrcycpfSA8YnI+IFlvdSB3aWxsIGdldCAke2dldE1hdGVyaWFsKCdjbG9uZXMnKX0gSHVza3MgcG9zdC1pc2VrYWkuYDtcclxuICAgIGh1c2tWYWx1ZS5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgb3ZlcmxheS5wcmVwZW5kKGh1c2tWYWx1ZSk7XHJcbiAgICAvLyBPdmVybGF5XHJcbiAgICBvdmVybGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdNaWRuaWdodEJsdWUnO1xyXG4gICAgb3ZlcmxheVRleHQudGV4dENvbnRlbnQgPSAnWW91IHN0ZXAgdGhyb3VnaCB0byBhbm90aGVyIHdvcmxkLic7XHJcblxyXG4gICAgZmFkZVRvQmxhY2soKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgb3ZlcmxheUJhY2tCdXR0b24uc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgIH0sIDUwMDApO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVByZXN0aWdlQnV0dG9ucygpIHtcclxuXHJcbiAgICAgICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lzZWthaUJ1dHRvbnMnKTtcclxuICAgICAgICBsZXQgaSA9IDE7XHJcbiAgICAgICAgT2JqZWN0LmtleXMocHJlc3RpZ2UpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgPGI+JHtwcmVzdGlnZVtrZXldLnRleHR9PC9iPjxicj5MZXZlbDogJHtwcmVzdGlnZVtrZXldLmxldmVsfTxicj5Db3N0OiAke3ByZXN0aWdlW2tleV0uY29zdH1gO1xyXG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcsIHByZXN0aWdlW2tleV0uY29zdCk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBEZXNjJywgcHJlc3RpZ2Vba2V5XS50b29sdGlwRGVzYyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0b29sdGlwJyk7IC8vIEFkZCBhIGNsYXNzIGZvciBzdHlsaW5nIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZ3JpZENvbHVtbiA9IChpICUgNCArIDEpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5ncmlkUm93ID0gTWF0aC5mbG9vcihpIC8gNCArIDEpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgLy8gT3B0aW9uYWw6IEFkZCBhbiBldmVudCBsaXN0ZW5lciBpZiB5b3Ugd2FudCB0byBoYW5kbGUgY2xpY2tzXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFlvdSBjYW4gaW1wbGVtZW50IHdoYXQgaGFwcGVucyB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEJ1dHRvbiAke2tleX0gd2FzIGNsaWNrZWRgKTtcclxuICAgICAgICAgICAgICAgIGlmIChnZXRNYXRlcmlhbCgnaHVza3MnKSA8IHByZXN0aWdlW2tleV0uY29zdCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgcHJlc3RpZ2Vba2V5XS5sZXZlbCsrO1xyXG4gICAgICAgICAgICAgICAgaW5jcmVhc2VNYXRlcmlhbCgnaHVza3MnLCAtcHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlW2tleV0uY29zdCA9IG5leHRGaWJvbmFjY2kocHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBDb3N0JywgcHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYDxiPiR7cHJlc3RpZ2Vba2V5XS50ZXh0fTwvYj48YnI+TGV2ZWw6ICR7cHJlc3RpZ2Vba2V5XS5sZXZlbH08YnI+Q29zdDogJHtwcmVzdGlnZVtrZXldLmNvc3R9YDtcclxuICAgICAgICAgICAgICAgIGh1c2tWYWx1ZS50ZXh0Q29udGVudCA9ICdIdXNrczogJyArIGdldE1hdGVyaWFsKCdodXNrcycpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gUmlnaHQtY2xpY2sgdG8gZGVjcmVhc2UgbGV2ZWxcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIC8vIFlvdSBjYW4gaW1wbGVtZW50IHdoYXQgaGFwcGVucyB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEJ1dHRvbiAke2tleX0gd2FzIHJpZ2h0IGNsaWNrZWRgKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcmVzdGlnZVtrZXldLmxldmVsIDw9IDApIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlW2tleV0ubGV2ZWwtLTtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlW2tleV0uY29zdCA9IHByZXZGaWJvbmFjY2kocHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBDb3N0JywgcHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuICAgICAgICAgICAgICAgIGluY3JlYXNlTWF0ZXJpYWwoJ2h1c2tzJywgcHJlc3RpZ2Vba2V5XS5jb3N0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYDxiPiR7cHJlc3RpZ2Vba2V5XS50ZXh0fTwvYj48YnI+TGV2ZWw6ICR7cHJlc3RpZ2Vba2V5XS5sZXZlbH08YnI+Q29zdDogJHtwcmVzdGlnZVtrZXldLmNvc3R9YDtcclxuICAgICAgICAgICAgICAgIGh1c2tWYWx1ZS50ZXh0Q29udGVudCA9ICdIdXNrczogJyArIGdldE1hdGVyaWFsKCdodXNrcycpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbik7XHJcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGRhdGEgZnJvbSB5b3VyIGJ1aWxkaW5nIG9yIGFueSBvdGhlciBkYXRhIC0gc291cmNlXHJcbiAgICAgICAgICAgIC8vIGNvbnN0IGNvbnRlbnQgPSBcIllvdXIgdG9vbHRpcCBjb250ZW50IGhlcmVcIjtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRIb3ZlckJ1dHRvbiA9IGJ1dHRvbjtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkgeyBoaWRlVG9vbHRpcCgpOyBjdXJyZW50SG92ZXJCdXR0b24gPSBudWxsOyB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsbCB0aGUgZnVuY3Rpb24gdG8gY3JlYXRlIGJ1dHRvbnNcclxuICAgIHNldFRpbWVvdXQoY3JlYXRlUHJlc3RpZ2VCdXR0b25zLCA1MDAwKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4geyBodXNrVmFsdWUuc3R5bGUub3BhY2l0eSA9ICcxJzsgfSwgNTAwMCk7XHJcblxyXG59XHJcblxyXG52YXIgY3VycmVudEhvdmVyQnV0dG9uID0gbnVsbDtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cclxuICAgIHVwZGF0ZVVJLFxyXG4gICAgc2V0VG90YWxUaW1lLFxyXG4gICAgY2hhbmdlTWVzc2FnZSxcclxuXHJcbiAgICBnZXRNZXNzYWdlLFxyXG4gICAgdG90YWxfdGltZSxcclxuICAgIGN1cnJlbnRIb3ZlckJ1dHRvblxyXG5cclxufTtcclxuIiwiXHJcbmNvbnN0IHsgc2V0U3RhZ2UsIHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG5jb25zdCB7IHVwZGF0ZUJ1dHRvblZpc2liaWxpdHkgfSA9IHJlcXVpcmUoJy4vdXBkYXRlQnV0dG9uVmlzaWJpbGl0eScpO1xyXG5cclxuLyoqXHJcbiAqIE1ha2UgZXZlcnl0aGluZyB3aXRoIHRoZSBjbGFzcyBcInN0YWdlXCIgdmlzaWJsZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhZ2VcclxuICovXHJcbmZ1bmN0aW9uIG1ha2VWaXNpYmxlKHN0YWdlKSB7XHJcbiAgICBpZiAoIXBhc3NlZFN0YWdlKHN0YWdlKSkge1xyXG4gICAgICAgIHNldFN0YWdlKHN0YWdlKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHN0YWdlRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgc3RhZ2UpO1xyXG4gICAgc3RhZ2VFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgfSk7XHJcbiAgICB1cGRhdGVCdXR0b25WaXNpYmlsaXR5KCk7XHJcbn1cclxuZXhwb3J0cy5tYWtlVmlzaWJsZSA9IG1ha2VWaXNpYmxlOyIsImNvbnN0IHsgYnVpbGRpbmdzIH0gPSByZXF1aXJlKCcuL2pzb24vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgcGVya3MgfSA9IHJlcXVpcmUoJy4vanNvbi9wZXJrcycpO1xyXG5sZXQgbXlQZXJrcyA9IFtdO1xyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGVya05hbWUgXHJcbiAqIEByZXR1cm5zIGJvb2xlYW5cclxuICovXHJcbmZ1bmN0aW9uIGhhc1BlcmsocGVya05hbWUpIHtcclxuICAgIHJldHVybiBteVBlcmtzLmluY2x1ZGVzKHBlcmtOYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QWxsUGVya3MoKSB7XHJcbiAgICByZXR1cm4gbXlQZXJrcztcclxufVxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwZXJrTmFtZSBQZXJrIHRvIGFkZFxyXG4gKi9cclxuZnVuY3Rpb24gYWRkUGVyayhwZXJrTmFtZSkge1xyXG4gICAgbXlQZXJrcy5wdXNoKHBlcmtOYW1lKTtcclxuXHJcbiAgICAvLyBEbyBhbGwgdGhlIG9uZS10aW1lIHVwZGF0ZXNcclxuICAgIHN3aXRjaCAocGVya05hbWUpIHtcclxuICAgICAgICBjYXNlICdBcmNoaXRlY3QnOlxyXG4gICAgICAgICAgICBmb3IgKGxldCBiIGluIGJ1aWxkaW5ncykge1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCcpLnJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGIsIGJ1aWxkaW5ncywgaGFzUGVyayk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdGllck51bSBcclxuICovXHJcbmZ1bmN0aW9uIGdldFBlcmtGcm9tVGllcih0aWVyTnVtKSB7XHJcbiAgICBmb3IgKGxldCBwZXJrIGluIHBlcmtzWyd0aWVyJyArIHRpZXJOdW1dKSB7XHJcbiAgICAgICAgaWYgKGhhc1BlcmsocGVyaykpIHJldHVybiBwZXJrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5vIHBlcmsgZm9yIHRoaXMgdGllclxyXG4gICAgcmV0dXJuICcnO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc2VsZWN0QWJpbGl0eShhYmlsaXR5TmFtZSkge1xyXG4gICAgaWYgKGhhc1BlcmsoYWJpbGl0eU5hbWUpKSByZXR1cm47XHJcblxyXG4gICAgbGV0IGNvbmZpcm1TZWxlY3Rpb24gPSB3aW5kb3cuY29uZmlybShcIkRvIHlvdSB3YW50IHRvIHNlbGVjdCBcIiArIGFiaWxpdHlOYW1lICsgXCI/IFRoaXMgZGVjaXNpb24gY2Fubm90IGJlIGVhc2lseSBjaGFuZ2VkLlwiKTtcclxuXHJcbiAgICBpZiAoIWNvbmZpcm1TZWxlY3Rpb24pIHJldHVybjtcclxuICAgIGFkZFBlcmsoYWJpbGl0eU5hbWUpO1xyXG5cclxuICAgIC8vIGZvciAobGV0IGkgPSAxOyBpIDw9IDE7ICsraSlcclxuICAgIHJlcXVpcmUoJy4vc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24nKS5zZWxlY3RDb3JyZWN0UGVya0J1dHRvbihhYmlsaXR5TmFtZSk7XHJcblxyXG4gICAgLy8gbXlQZXJrcy5wdXNoKGFiaWxpdHlOYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXRQZXJrcygpIHtcclxuICAgIG15UGVya3MgPSBbXTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBoYXNQZXJrLFxyXG4gICAgYWRkUGVyayxcclxuICAgIHNlbGVjdEFiaWxpdHksXHJcbiAgICBnZXRQZXJrRnJvbVRpZXIsXHJcbiAgICBnZXRBbGxQZXJrcyxcclxuICAgIHJlc2V0UGVya3NcclxufTsiLCIvLyBERVBFTkRTIE9OOiBqc29uL2J1dHRvbnMuanNcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vY2FwaXRhbGl6ZUZpcnN0Jyk7XHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZSgnLi9qc29uL3BvbmRlcicpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcblxyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoJy4vanNvbi9idXR0b25zJyk7XHJcblxyXG5mdW5jdGlvbiBpc1BvbmRlcmVkKGlkKSB7XHJcbiAgICAvLyBDaGVjayBpZiB0aGUgaWQgZXhpc3RzIGluIHRoZSB1bmxvY2tzIG1hcFxyXG4gICAgLy8gSWYgdGhlIGlkIGRvZXNuJ3QgZXhpc3QgaW4gdGhlIG1hcCwgcmV0dXJuIGZhbHNlXHJcblxyXG4gICAgcmV0dXJuIHBvbmRlcnNbaWRdID8gcG9uZGVyc1tpZF0uaXNQb25kZXJlZCA6IGZhbHNlO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY2FuVW5sb2NrKHVubG9ja0lkKSB7XHJcbiAgICAvLyBHZXQgdGhlIGtleSBmcm9tIHRoaXMgaWRcclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYW4gdW5sb2NrPyAnLCB1bmxvY2tJZCk7XHJcbiAgICB2YXIgdW5sb2NrS2V5ID0gJyc7XHJcbiAgICBmb3IgKGxldCB1bmxvY2sgaW4gcG9uZGVycykge1xyXG4gICAgICAgIGlmIChwb25kZXJzW3VubG9ja10uaWQgPT09IHVubG9ja0lkKSB7XHJcbiAgICAgICAgICAgIHVubG9ja0tleSA9IHVubG9jaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHVubG9ja0tleSA9PT0gJycpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJpbnZhbGlkIHVubG9jayBpZDogXCIsIHVubG9ja0lkKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGVub3VnaCByZXNvdXJjZXNcclxuICAgIHZhciBjYW5CdXkgPSB0cnVlO1xyXG4gICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gcG9uZGVyc1t1bmxvY2tLZXldLmNvc3QpIHtcclxuICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPCBwb25kZXJzW3VubG9ja0tleV0uY29zdFttYXRlcmlhbF0pIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYW5ub3QgdW5sb2NrIFwiICsgdW5sb2NrSWQpO1xyXG4gICAgICAgICAgICBjYW5CdXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYW4gd2UgdW5sb2NrICcsIHVubG9ja0lkLCBjYW5CdXkpO1xyXG4gICAgcmV0dXJuIGNhbkJ1eTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUG9uZGVyQnV0dG9ucyhwb25kZXJPYmplY3RzKSB7XHJcbiAgICAvLyBjb25zdCBnZW5lcmF0ZWRCdXR0b25zID0ge307XHJcblxyXG4gICAgZm9yIChjb25zdCBbcG9uZGVyS2V5LCBwb25kZXJPYmpdIG9mIE9iamVjdC5lbnRyaWVzKHBvbmRlck9iamVjdHMpKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvbktleSA9IGBwb25kZXIke2NhcGl0YWxpemVGaXJzdChwb25kZXJLZXkpfWA7IC8vIGUuZy4gcG9uZGVyRmlzaGluZ1xyXG5cclxuICAgICAgICAvLyBsZXQgdG9vbHRpcENvc3QgPSBPYmplY3QuZW50cmllcyhwb25kZXJPYmouY29zdCkubWFwKChbbWF0ZXJpYWwsIGFtb3VudF0pID0+IGAke2Ftb3VudC50b0ZpeGVkKDApfSAke21hdGVyaWFsfWApLmpvaW4oJzxicj4nKTtcclxuICAgICAgICBsZXQgdG9vbHRpcENvc3QgPSByZXF1aXJlKCcuL3Jlc291cmNlcycpLmdlbmVyYXRlVG9vbHRpcENvc3QocG9uZGVyT2JqLmNvc3QpO1xyXG4gICAgICAgIGJ1dHRvbnNbYnV0dG9uS2V5XSA9IHtcclxuICAgICAgICAgICAgY2xhc3M6ICd0b29sdGlwIHVubG9jaycsXHJcbiAgICAgICAgICAgIHRleHQ6IHBvbmRlck9iai50ZXh0IHx8ICdQb25kZXIgYSBNeXN0ZXJ5PycsXHJcbiAgICAgICAgICAgIHRvb2x0aXBEZXNjOiBwb25kZXJPYmoudG9vbHRpcERlc2MgfHwgXCJXaG8ga25vd3Mgd2hhdCB5b3UnbGwgZGlzY292ZXJcIixcclxuICAgICAgICAgICAgdG9vbHRpcENvc3Q6IHRvb2x0aXBDb3N0LFxyXG4gICAgICAgICAgICB0YWI6ICdwb25kZXInLFxyXG4gICAgICAgICAgICB1bmxvY2s6IHBvbmRlcktleSxcclxuICAgICAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXF1aXJlKCcuL2hlbHBlcicpLmdldE1heCgncG9uZGVyJykgPj0gcG9uZGVyc1twb25kZXJLZXldLmNvc3RbJ3BvbmRlciddIC8gMjtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhpZGU6ICgpID0+IGlzUG9uZGVyZWQocG9uZGVyS2V5KVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbktleSwgYnV0dG9uc1tidXR0b25LZXldKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV0dXJuIGdlbmVyYXRlZEJ1dHRvbnM7XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGNhblVubG9jayxcclxuICAgIGlzUG9uZGVyZWQsXHJcbiAgICBnZW5lcmF0ZVBvbmRlckJ1dHRvbnNcclxufTsiLCJcclxuY29uc3QgeyBoYXNQcmVzdGlnZSwgZ2V0TGV2ZWxPZlByZXN0aWdlIH0gPSByZXF1aXJlKFwiLi9qc29uL3ByZXN0aWdlXCIpO1xyXG5jb25zdCB7IGlzUG9uZGVyZWQgfSA9IHJlcXVpcmUoXCIuL3BvbmRlclwiKTtcclxuY29uc3QgeyBzZXRNYXggfSA9IHJlcXVpcmUoXCIuL3Jlc291cmNlc1wiKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZShcIi4vc3RhZ2VzXCIpO1xyXG5jb25zdCB7IHVwZGF0ZUJvdW5jZUFuaW1hdGlvbiB9ID0gcmVxdWlyZShcIi4vdXBkYXRlQm91bmNlQW5pbWF0aW9uXCIpO1xyXG5cclxuZnVuY3Rpb24gcmVjYWxjTWF4Q2xvbmVzKCkge1xyXG4gICAgbGV0IG1heENsb25lcyA9IDA7XHJcbiAgICBpZiAocGFzc2VkU3RhZ2UoJ2Nsb25lJykpIG1heENsb25lcyArPSAxO1xyXG5cclxuICAgIGNvbnN0IGJ1aWxkaW5ncyA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpLmJ1aWxkaW5ncztcclxuICAgIC8vIGNvbnNvbGUubG9nKHBhc3NlZFN0YWdlKCdjbG9uZScpLCBtYXhDbG9uZXMpO1xyXG4gICAgZm9yIChjb25zdCBba2V5LCBidWlsZGluZ10gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmdzKSkge1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhrZXksIGJ1aWxkaW5nLCBidWlsZGluZy5lZmZlY3RzKTtcclxuICAgICAgICBpZiAoYnVpbGRpbmcuZWZmZWN0cyAmJiBidWlsZGluZy5lZmZlY3RzWydjbG9uZXMnXSlcclxuICAgICAgICAgICAgbWF4Q2xvbmVzICs9IGJ1aWxkaW5nLmVmZmVjdHNbJ2Nsb25lcyddICogYnVpbGRpbmcuY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUG9uZGVyIGJvbnVzZXNcclxuICAgIGlmIChpc1BvbmRlcmVkKCdiaWdnZXJTaGVsdGVyJykpIG1heENsb25lcyArPSAxICogYnVpbGRpbmdzWydzaGVsdGVyJ10uY291bnQ7XHJcbiAgICBpZiAoaXNQb25kZXJlZCgnYmlnZ2VySHV0JykpIG1heENsb25lcyArPSAxICogYnVpbGRpbmdzWydodXQnXS5jb3VudDtcclxuICAgIGlmIChpc1BvbmRlcmVkKCdiaWdnZXJIb3VzZScpKSBtYXhDbG9uZXMgKz0gMiAqIGJ1aWxkaW5nc1snaG91c2UnXS5jb3VudDtcclxuICAgIGlmIChpc1BvbmRlcmVkKCdiaWdnZXJUZWVwZWUnKSkgbWF4Q2xvbmVzICs9IDQgKiBidWlsZGluZ3NbJ3RlZXBlZSddLmNvdW50O1xyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ2V2ZW5CaWdnZXJTaGVsdGVyJykpIG1heENsb25lcyArPSAxICogYnVpbGRpbmdzWydzaGVsdGVyJ10uY291bnQ7XHJcblxyXG4gICAgaWYgKGhhc1ByZXN0aWdlKCdtYXhDbG9uZXMnKSkgbWF4Q2xvbmVzICs9IDEgKiBnZXRMZXZlbE9mUHJlc3RpZ2UoJ21heENsb25lcycpO1xyXG4gICAgLy8gY29uc29sZS5sb2cobWF4Q2xvbmVzKTtcclxuICAgIC8vIHJldHVybiBtYXhDbG9uZXM7XHJcbiAgICBzZXRNYXgoJ2Nsb25lcycsIG1heENsb25lcyk7XHJcbiAgICB1cGRhdGVCb3VuY2VBbmltYXRpb24oKTtcclxufVxyXG5cclxuZXhwb3J0cy5yZWNhbGNNYXhDbG9uZXMgPSByZWNhbGNNYXhDbG9uZXM7IiwiY29uc3QgeyBoYXNQcmVzdGlnZSwgZ2V0TGV2ZWxPZlByZXN0aWdlIH0gPSByZXF1aXJlKCcuL2pzb24vcHJlc3RpZ2UnKTtcclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVpbGRpbmdLZXkgVGhlIGJ1aWxkaW5nIHdlIHJlY2FsY3VsYXRlIHRoZSBjb3N0IG9mXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBidWlsZGluZ3MgQnVpbGRpbmdzIG9iamVjdFxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYXNQZXJrIEhhc1BlcmsgZnVuY3Rpb25cclxuICovXHJcbmZ1bmN0aW9uIHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGJ1aWxkaW5nS2V5LCBidWlsZGluZ3MsIGhhc1BlcmspIHtcclxuICAgIGxldCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ0tleV07XHJcbiAgICBpZiAoYnVpbGRpbmcgJiYgYnVpbGRpbmcuY29zdCAmJiBidWlsZGluZy5yYXRpbykge1xyXG4gICAgICAgIGZvciAobGV0IG1hdGVyaWFsIGluIGJ1aWxkaW5nLmNvc3QpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnVpbGRpbmcuYmFzZWNvc3RbbWF0ZXJpYWxdLCBidWlsZGluZy5yYXRpbywgYnVpbGRpbmcuY291bnQpO1xyXG4gICAgICAgICAgICBidWlsZGluZy5jb3N0W21hdGVyaWFsXSA9IE1hdGgucm91bmQoYnVpbGRpbmcuYmFzZWNvc3RbbWF0ZXJpYWxdICogTWF0aC5wb3coYnVpbGRpbmcucmF0aW8sIGJ1aWxkaW5nLmNvdW50KSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaGFzUGVyaygnQXJjaGl0ZWN0JykpIGJ1aWxkaW5nLmNvc3RbbWF0ZXJpYWxdICo9IDAuNzU7IC8vIDI1JSByZWR1Y3Rpb24gZm9yIGFyY2hpdGVjdHNcclxuICAgICAgICAgICAgaWYgKGhhc1ByZXN0aWdlKCdjaGVhcGVyQnVpbGRpbmdzJykpIGJ1aWxkaW5nLmNvc3RbbWF0ZXJpYWxdICo9IE1hdGgucG93KDAuOTUsIGdldExldmVsT2ZQcmVzdGlnZSgnY2hlYXBlckJ1aWxkaW5ncycpKTsgLy8gNSUgcmVkdWN0aW9uXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSB0b29sdGlwIGNvc3RcclxuICAgIGNvbnN0IG15QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBidWlsZGluZ0tleSk7XHJcbiAgICB2YXIgbmV3VGV4dCA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuZ2VuZXJhdGVUb29sdGlwQ29zdChidWlsZGluZy5jb3N0KTtcclxuICAgIGlmIChteUJ1dHRvbikge1xyXG4gICAgICAgIG15QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBuZXdUZXh0KTtcclxuICAgICAgICBjb25zdCBlZmZlY3RTdHJpbmcgPSByZXF1aXJlKCcuL2J1aWxkaW5ncycpLmdlbmVyYXRlRWZmZWN0U3RyaW5nKGJ1aWxkaW5nKTtcclxuICAgICAgICBteUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1lZmZlY3QnLCBlZmZlY3RTdHJpbmcpO1xyXG5cclxuICAgIH1cclxuICAgIGVsc2UgeyB0aHJvdyBcIkJ1dHRvbiBub3QgZm91bmQgZm9yIFwiICsgYnVpbGRpbmdLZXk7IH1cclxuXHJcbn1cclxuZXhwb3J0cy5yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCA9IHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0OyIsIlxyXG4vLyBERVBFTkRTIE9OOiB0b29scy5qcywgam9icy5qc1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZShcIi4vanNvbi9yZXNvdXJjZXNcIik7XHJcbmNvbnN0IHsgY3JhZnRlZFJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuLy8gQHRzLWlnbm9yZVxyXG5jb25zdCB7IHBvbmRlcnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vcG9uZGVyXCIpO1xyXG5jb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnV0dG9uc1wiKTtcclxuY29uc3QgeyBza2lsbHMgfSA9IHJlcXVpcmUoJy4vanNvbi9za2lsbHMnKTtcclxuXHJcbmNvbnN0IHsgZ2V0V29ya2VycywgdXBkYXRlVG90YWwgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IGhhc1Rvb2wsIH0gPSByZXF1aXJlKCcuL3Rvb2xzJyk7XHJcbmNvbnN0IHsgdXBkYXRlU2tpbGxzLCBjYWxjQ3JhZnRCb251cywgZ2V0TWF4IH0gPSByZXF1aXJlKFwiLi9oZWxwZXJcIik7XHJcbmNvbnN0IHsgY2FuQ3JhZnQgfSA9IHJlcXVpcmUoJy4vY2FuQ3JhZnQnKTtcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vY2FwaXRhbGl6ZUZpcnN0Jyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vZ2V0Q3JhZnRlZFJlc291cmNlJyk7XHJcbmNvbnN0IHsgY2FsY0luY3JlYXNlIH0gPSByZXF1aXJlKFwiLi9jYWxjSW5jcmVhc2VcIik7XHJcbmNvbnN0IHsgdXBkYXRlU2lkZWJhciB9ID0gcmVxdWlyZShcIi4vc2lkZWJhclwiKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSwgZ2V0QWxsU3RhZ2VzIH0gPSByZXF1aXJlKFwiLi9zdGFnZXNcIik7IC8vIFVzZWQgZm9yIGV2YWwgZnVuY3Rpb25zXHJcbmNvbnN0IHsgdXBkYXRlRGlzcGxheVZhbHVlIH0gPSByZXF1aXJlKFwiLi9zaWRlYmFyXCIpO1xyXG4vLyBjb25zb2xlLmxvZyhjYXBpdGFsaXplRmlyc3QpO1xyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gam9iIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzb3VyY2UgXHJcbiAqIEByZXR1cm5zIFxyXG4gKi9cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBpc1Jlc291cmNlQWZmZWN0ZWRCeUpvYihqb2IsIHJlc291cmNlKSB7XHJcbiAgICBjb25zdCBza2lsbCA9IHNraWxsc1tqb2JdO1xyXG4gICAgaWYgKCFza2lsbCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGlmIChza2lsbC5hZmZlY3RlZFJlc291cmNlcy5pbmNsdWRlcyhyZXNvdXJjZSkpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgdG9vbCByZXF1aXJlbWVudCBmb3IgdGhpcyByZXNvdXJjZVxyXG4gICAgICAgIGlmIChza2lsbC5uZWVkVG9vbHMgJiYgQXJyYXkuaXNBcnJheShza2lsbC5uZWVkVG9vbHMpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHRvb2xPYmogb2Ygc2tpbGwubmVlZFRvb2xzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0b29sIGluIHRvb2xPYmopIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9vbE9ialt0b29sXS5pbmNsdWRlcyhyZXNvdXJjZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcGxheWVyIGhhcyB0aGlzIHRvb2xcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIG5vdywganVzdCByZXR1cm5pbmcgdHJ1ZSB0byBpbmRpY2F0ZSB0aGUgcmVzb3VyY2UgaXMgYWZmZWN0ZWQgYW5kIGEgdG9vbCBpcyBuZWVkZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnV0IHlvdSBtYXkgd2FudCB0byByZXBsYWNlIHRoaXMgd2l0aCBhIGNoZWNrIHRvIHNlZSBpZiB0aGUgcGxheWVyIHBvc3Nlc3NlcyB0aGUgcmVxdWlyZWQgdG9vbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFzVG9vbCh0b29sKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gV2UgbmVlZGVkIGEgdG9vbCBidXQgbm90IGZvciB0aGlzXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiBubyB0b29sIHJlcXVpcmVtZW50IHdhcyBmb3VuZCBmb3IgdGhlIHJlc291cmNlLCBpdCdzIHN0aWxsIGFmZmVjdGVkIGJ5IHRoZSBqb2JcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gY2FsY1NlY29uZHNSZW1haW5pbmcocmVzb3VyY2VOYW1lLCBuZWVkZWQpIHtcclxuICAgIGlmIChuZWVkZWQgPD0gcmVzb3VyY2VzW3Jlc291cmNlTmFtZV0pIHJldHVybiAwO1xyXG5cclxuICAgIC8vIEhvdyBtdWNoIHBlciBzZWNvbmRcclxuICAgIGNvbnN0IGluY3JlYXNlID0gY2FsY0luY3JlYXNlKHJlc291cmNlTmFtZSwgMTAwMCk7XHJcbiAgICBpZiAoaW5jcmVhc2UgPT0gMCkgcmV0dXJuIC0xO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ3BpbmcnKTtcclxuICAgIC8vIERpZmZlcmVuY2Ugb3ZlciB0aW1lXHJcbiAgICBjb25zdCB0aW1lUmVtYWluaW5nID0gTWF0aC5jZWlsKG5lZWRlZCAtIHJlc291cmNlc1tyZXNvdXJjZU5hbWVdLnZhbHVlKSAvIGluY3JlYXNlO1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYWxjIG1pbGxpJywgcmVzb3VyY2VOYW1lLCBuZWVkZWQsIHRpbWVSZW1haW5pbmcpO1xyXG4gICAgLy8gaWYgKHRpbWVSZW1haW5pbmcgPT0gSW5maW5pdHkgfHwgdGltZVJlbWFpbmluZyA9PSAtSW5maW5pdHkpIHJldHVybiAtMTtcclxuICAgIHJldHVybiB0aW1lUmVtYWluaW5nO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IHJlc291cmNlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZXMnKTtcclxuZXhwb3J0cy5yZXNvdXJjZXNDb250YWluZXIgPSByZXNvdXJjZXNDb250YWluZXI7XHJcblxyXG5cclxuZnVuY3Rpb24gc2V0TWF4KG1hdGVyaWFsLCBudW0pIHtcclxuICAgIHJlc291cmNlc1ttYXRlcmlhbF0ubWF4ID0gbnVtO1xyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgdXBkYXRlVG90YWwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5jcmVhc2VNYXgobWF0ZXJpYWwsIG51bSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJpbmNyZWFzZSBtYXggXCIsIG1hdGVyaWFsLCBudW0pO1xyXG4gICAgcmVzb3VyY2VzW21hdGVyaWFsXS5tYXggKz0gbnVtO1xyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgdXBkYXRlVG90YWwoKTtcclxuXHJcbn1cclxuXHJcbi8vIEdlbmVyaWMgaW5jcmVhc2VcclxuZnVuY3Rpb24gaW5jcmVhc2VNYXRlcmlhbChtYXRlcmlhbCwgbnVtKSB7XHJcbiAgICAvLyBFbnN1cmUgd2UgYWN0dWFsbHkgbmVlZCB0byBkbyBhbnl0aGluZ1xyXG4gICAgaWYgKG51bSA9PSAwKSByZXR1cm47XHJcbiAgICBtYXRlcmlhbCA9IG1hdGVyaWFsLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnaW5jcmVhc2UgbWF0ZXJpYWwnLCBtYXRlcmlhbCwgbnVtKTtcclxuICAgIC8vIGlmIChNYXRoLmFicyhudW0pID4gNSkgY29uc29sZS5sb2coJ2NoYW5naW5nJywgbWF0ZXJpYWwsICdieScsIG51bSk7XHJcblxyXG4gICAgLy8gVGhpcyBjaGVjayBlbnN1cmVzIHRoYXQgdGhlIG1hdGVyaWFsIGtleSBleGlzdHMgaW4gdGhlIHJlc291cmNlcyBtYXAuXHJcbiAgICBpZiAobWF0ZXJpYWwgaW4gcmVzb3VyY2VzKSB7XHJcblxyXG4gICAgICAgIGlmIChnZXRNYXRlcmlhbChtYXRlcmlhbCkgPCBnZXRNYXgobWF0ZXJpYWwpICYmIG51bSA+IDApIHsgLy8gQWRkaW5nIHJlc291cmNlc1xyXG4gICAgICAgICAgICBpZiAoaXNQb25kZXJlZCgnZmFzdGVyUmVzb3VyY2VHYWluJykpIG51bSAqPSAxLjA1O1xyXG4gICAgICAgICAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlICs9IG51bTtcclxuICAgICAgICAgICAgdXBkYXRlU2tpbGxzKG1hdGVyaWFsLCBudW0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobnVtIDwgMCkgeyAvLyBTdWJ0cmFjdGluZyByZXNvdXJjZXNcclxuICAgICAgICAgICAgcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSArPSBudW07XHJcbiAgICAgICAgfSBlbHNlIHsgLy8gQWxyZWFkeSBhdCBtYXhcclxuICAgICAgICAgICAgcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSA9IGdldE1heChtYXRlcmlhbCk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ2F1dG9jcmFmdCcpICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXV0b0NyYWZ0Q2hlY2tib3hcIikuY2hlY2tlZCAmJiBhdXRvQ3JhZnRUYWJsZVttYXRlcmlhbF0pIHtcclxuICAgICAgICAgICAgICAgIGNyYWZ0QWxsUmVzb3VyY2VzKGF1dG9DcmFmdFRhYmxlW21hdGVyaWFsXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShtYXRlcmlhbCk7XHJcbiAgICAgICAgLy8gcmVhc3NpZ25Kb2JzQmFzZWRPblJlc291cmNlcygpO1xyXG5cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG1hdGVyaWFsIGluIGNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY3JhZnRpbmcgYSBtYXRlcmlhbCcsIG1hdGVyaWFsLCBudW0pO1xyXG4gICAgICAgIGNyYWZ0ZWRSZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlICs9IG51bTtcclxuICAgICAgICB1cGRhdGVEaXNwbGF5VmFsdWUobWF0ZXJpYWwpO1xyXG4gICAgICAgIHVwZGF0ZVNraWxscyhtYXRlcmlhbCwgbnVtKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIENyZWF0aW5nIGEgbmV3IG1hdGVyaWFsXHJcbiAgICAgICAgaWYgKHJlc291cmNlc1ttYXRlcmlhbF0pIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG4gICAgICAgIGlmIChjcmFmdGVkUmVzb3VyY2VzW21hdGVyaWFsXSkgY3JhZnRlZFJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG5cclxuICAgICAgICB1cGRhdGVTaWRlYmFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY3JhZnRlZCBtYXRlcmlhbHMgaGF2ZSBubyBtYXgsIGEgbGEgS2l0dGVucyBHYW1lXHJcblxyXG5cclxuXHJcbiAgICAvLyB1cGRhdGVTaWRlYmFyKCk7XHJcblxyXG5cclxuXHJcbiAgICAvLyByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlICs9IG51bTtcclxuICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBtYXRlcmlhbCArIFwiVmFsdWVcIikudGV4dENvbnRlbnQgPSByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlO1xyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcygpIHtcclxuICAgIC8vIGNvbnN0IHJlc291cmNlcyA9IFtcImNsb25lc1wiLCBcInN0aWNrc1wiLCBcInZpbmVzXCIsIFwicm9ja3NcIiwgXCJmaXNoXCIsIFwid29vZFwiLCBcInBvbmRlclwiXTtcclxuICAgIGZvciAobGV0IHJlc291cmNlIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaW5jcmVhc2Ugb2YgXCIgKyByZXNvdXJjZSk7XHJcbiAgICAgICAgY29uc3QgcmF0ZSA9IGNhbGNJbmNyZWFzZShyZXNvdXJjZSwgMTAwMCk7XHJcbiAgICAgICAgdmFyIHJhdGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7cmVzb3VyY2V9SW5jcmVhc2VSYXRlYCk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChyYXRlRWxlbWVudCkgcmF0ZUVsZW1lbnQudGV4dENvbnRlbnQgPSByYXRlO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgXHJcbiAqIEByZXR1cm5zIEJ1dHRvblxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ3JhZnRlZFJlc291cmNlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBidXR0b24uY2xhc3NOYW1lID0gY29uZmlnLmNsYXNzICsgJyB0b29sdGlwJztcclxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgY29uZmlnLmlkKTtcclxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVtZW50JywgY29uZmlnLnJlcXVpcmVkU3RhZ2UpO1xyXG4gICAgY29uc3QgcmVzb3VyY2VOYW1lID0gT2JqZWN0LmtleXMoY3JhZnRlZFJlc291cmNlcykuZmluZChrZXkgPT4gY3JhZnRlZFJlc291cmNlc1trZXldID09PSBjb25maWcpO1xyXG4gICAgLy8gY29uc3QgY2xlYW5Db3VudCA9IHBhcnNlRmxvYXQoY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZU5hbWVdLnZhbHVlKS50b0ZpeGVkKDApO1xyXG4gICAgLy8gYnV0dG9uLmlubmVySFRNTCA9IGAke2NvbmZpZy50ZXh0IHx8IGNhcGl0YWxpemVGaXJzdChyZXNvdXJjZU5hbWUpfTogPHNwYW4gaWQ9XCIke3Jlc291cmNlTmFtZSArIFwiVmFsdWVcIn1cIj4ke2NsZWFuQ291bnR9PC9zcGFuPmA7XHJcbiAgICBidXR0b24uaW5uZXJIVE1MID0gYCR7Y29uZmlnLnRleHQgfHwgY2FwaXRhbGl6ZUZpcnN0KHJlc291cmNlTmFtZSl9YDtcclxuICAgIC8vIGJ1dHRvbi50b29sdGlwRGVzYyA9IGNvbmZpZy50b29sdGlwRGVzYzsgXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBidXR0b24udGFiID0gJ2V4cGVyaW1lbnQnO1xyXG5cclxuICAgIHJldHVybiBidXR0b247XHJcbn1cclxuXHJcblxyXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3JhZnRlZFJlc291cmNlQnV0dG9ucycpO1xyXG5mdW5jdGlvbiBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zKCkge1xyXG5cclxuICAgIC8vIEZvciBlYWNoIHJlc291cmNlLCBjcmVhdGUgYSBidXR0b24gdXNpbmcgdGhlIGNhcHR1cmVkIGNvdW50c1xyXG4gICAgZm9yIChsZXQgbmFtZSBpbiBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcblxyXG4gICAgICAgIC8vIGNvbmZpZy5jb3VudCA9IGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0udmFsdWU7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gY3JlYXRlQ3JhZnRlZFJlc291cmNlQnV0dG9uKGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0pO1xyXG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgY3JhZnRlZFJlc291cmNlc1tuYW1lXS50b29sdGlwRGVzYyB8fCBcIlwiKTtcclxuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcsIGdlbmVyYXRlVG9vbHRpcENvc3QoY3JhZnRlZFJlc291cmNlc1tuYW1lXS5jb3N0KSB8fCBcIlwiKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygndG9vbHRpcCBjb3N0JywgYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnKSk7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICAgICAgY29uc3QgcmVxUmVzdWx0ID0gcGFzc2VkU3RhZ2UoYnV0dG9uLmdldEF0dHJpYnV0ZSgncmVxdWlyZW1lbnQnKSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVxUmVzdWx0LCBidXR0b24uZ2V0QXR0cmlidXRlKCdyZXF1aXJlbWVudCcpLCBPYmplY3QudmFsdWVzKGdldEFsbFN0YWdlcygpKSk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgd2hhdCB0aGUgYnVnIGlzIGhlcmVcclxuICAgICAgICBpZiAocmVxUmVzdWx0KSBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgZWxzZSBidXR0b24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblxyXG5cclxuICAgICAgICBidXR0b25zW2NyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uaWRdID0gY3JhZnRlZFJlc291cmNlc1tuYW1lXTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b24obmFtZSkge1xyXG5cclxuICAgIGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbihjcmFmdGVkUmVzb3VyY2VzW25hbWVdKTtcclxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgY3JhZnRlZFJlc291cmNlc1tuYW1lXS50b29sdGlwRGVzYyk7XHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcsIGdlbmVyYXRlVG9vbHRpcENvc3QoY3JhZnRlZFJlc291cmNlc1tuYW1lXS5jb3N0KSk7XHJcblxyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICBidXR0b25zW2NyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uaWRdID0gY3JhZnRlZFJlc291cmNlc1tuYW1lXTtcclxuXHJcbn1cclxuXHJcbi8vIENhbGwgdGhlIGZ1bmN0aW9uIHRvIHJlcGxhY2UgPHA+IGVsZW1lbnRzIHdpdGggdGhlIGJ1dHRvbnNcclxuLy8gYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9uKCdzdGlja3MnKTtcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVG9vbHRpcENvc3QocmVxdWlyZW1lbnRzKSB7XHJcbiAgICBpZiAocmVxdWlyZW1lbnRzID09PSBudWxsKSByZXR1cm4gJyc7XHJcbiAgICB2YXIgc3RyID0gJyc7XHJcbiAgICBmb3IgKGxldCBtYXRlcmlhbCBpbiByZXF1aXJlbWVudHMpIHtcclxuXHJcbiAgICAgICAgY29uc3QgaGFzRW5vdWdoID0gZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPj0gcmVxdWlyZW1lbnRzW21hdGVyaWFsXTsvKiBZb3VyIGxvZ2ljIHRvIGNoZWNrIGlmIHRoZXJlJ3MgZW5vdWdoIG9mIHRoZSBtYXRlcmlhbCAqLztcclxuICAgICAgICBjb25zdCBjb2xvckNsYXNzID0gaGFzRW5vdWdoID8gJ2Vub3VnaCcgOiAnbm90LWVub3VnaCc7XHJcbiAgICAgICAgc3RyICs9IGA8c3BhbiBjbGFzcz1cInRvb2x0aXAtJHttYXRlcmlhbH0gJHtjb2xvckNsYXNzfVwiPiR7cmVxdWlyZW1lbnRzW21hdGVyaWFsXX0gJHttYXRlcmlhbH08L3NwYW4+PGJyPmA7XHJcblxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0cjtcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBlbW9qaURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1vamlEaXNwbGF5Jyk7XHJcbmZ1bmN0aW9uIHVwZGF0ZUVtb2ppRGlzcGxheSgpIHtcclxuICAgIGxldCBlbW9qaVN0ciA9IFwiXCI7XHJcblxyXG4gICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBqb2JDb3VudHMgbWFwIHRvIGdldCBlYWNoIGpvYiBhbmQgaXRzIGNvdW50XHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAvLyBsZXQgcmVzb3VyY2UgPSByZXNvdXJjZXNbZ2V0QWZmZWN0ZWRSZXNvdXJjZXMoam9iKVswXV07XHJcbiAgICAgICAgbGV0IGNvdW50ID0gZ2V0V29ya2VycyhyZXNvdXJjZSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzb3VyY2UsIGNvdW50KTtcclxuICAgICAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCB8fCBjb3VudCA9PSAwKSBjb250aW51ZTtcclxuICAgICAgICBsZXQgZW1vamkgPSByZXNvdXJjZXNbcmVzb3VyY2VdLmVtb2ppIHx8ICfwk4CfJzsgIC8vIGdldCB0aGUgZW1vamkgY29ycmVzcG9uZGluZyB0byB0aGUgam9iIGZyb20gdGhlIHJlc291cmNlcyBtYXBcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhqb2IsIGVtb2ppKTtcclxuICAgICAgICBpZiAoZW1vamkpIHtcclxuICAgICAgICAgICAgZW1vamlTdHIgKz0gZW1vamkucmVwZWF0KGNvdW50KTsgIC8vIHJlcGVhdCB0aGUgZW1vamkgYmFzZWQgb24gdGhlIGNvdW50XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVtb2ppRGlzcGxheS50ZXh0Q29udGVudCA9IGVtb2ppU3RyOyAgLy8gdXBkYXRlIHRoZSBlbW9qaURpc3BsYXkgZGl2IHdpdGggdGhlIGdlbmVyYXRlZCBlbW9qaSBzdHJpbmdcclxuXHJcbiAgICBmdW5jdGlvbiBhZGp1c3RGb250U2l6ZSgpIHtcclxuICAgICAgICBsZXQgZm9udFNpemUgPSA0ODsgIC8vIFN0YXJ0aW5nIGZvbnQgc2l6ZVxyXG5cclxuICAgICAgICBlbW9qaURpc3BsYXkuc3R5bGUuZm9udFNpemUgPSBgJHtmb250U2l6ZX1weGA7XHJcblxyXG4gICAgICAgIHdoaWxlICgoZW1vamlEaXNwbGF5Lm9mZnNldFdpZHRoID4gNjAwKSAmJiBmb250U2l6ZSA+IDMwKSB7XHJcbiAgICAgICAgICAgIC8vIDEwIGlzIGEgbWluaW11bSBmb250LXNpemUgdGhyZXNob2xkIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcFxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlbW9qaURpc3BsYXkub2Zmc2V0V2lkdGgsIGVtb2ppRGlzcGxheS5vZmZzZXRIZWlnaHQpO1xyXG4gICAgICAgICAgICBmb250U2l6ZSAtPSAxOyAvLyBkZWNyZWFzZSB0aGUgZm9udCBzaXplXHJcbiAgICAgICAgICAgIGVtb2ppRGlzcGxheS5zdHlsZS5mb250U2l6ZSA9IGAke2ZvbnRTaXplfXB4YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsbCB0aGlzIGZ1bmN0aW9uIHdoZW5ldmVyIHRoZSBjb250ZW50IG9mICNlbW9qaURpc3BsYXkgY2hhbmdlc1xyXG4gICAgYWRqdXN0Rm9udFNpemUoKTtcclxuXHJcbn1cclxuXHJcbi8vIENhbGwgdXBkYXRlRW1vamlEaXNwbGF5IGV2ZXJ5IHRpbWUgam9iQ291bnRzIGlzIHVwZGF0ZWQ6XHJcbi8vIEZvciBleGFtcGxlOlxyXG4vLyBqb2JDb3VudHMuc2V0KCdmaXNoaW5nJywgNCk7XHJcbnVwZGF0ZUVtb2ppRGlzcGxheSgpO1xyXG5cclxuXHJcbmNvbnN0IGF1dG9DcmFmdFRhYmxlID0ge1xyXG4gICAgJ3N0aWNrcyc6ICdoYW5kbGUnLFxyXG4gICAgJ3dvb2QnOiAncGFwZXInLFxyXG4gICAgJ3JvY2tzJzogJ3NoYXJwcm9ja3MnLFxyXG4gICAgJ3ZpbmVzJzogJ3JvcGUnLFxyXG4gICAgJ3NhbmQnOiAnZ2xhc3MnLFxyXG4gICAgJ29yZSc6ICdnb2xkJyxcclxuICAgICdjbGF5JzogJ2JyaWNrcydcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNyYWZ0QWxsUmVzb3VyY2VzKHJlc291cmNlS2V5KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvc3QgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jb3N0O1xyXG4gICAgICAgIGxldCBzdWZmaWNpZW50UmVzb3VyY2VzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgbWF0IGluIGNvc3QpIHtcclxuICAgICAgICAgICAgLy8gaWYgKGdldE1hdGVyaWFsKG1hdCwgcmVzb3VyY2VzKSA8IGNvc3RbbWF0XSkge1xyXG4gICAgICAgICAgICBzdWZmaWNpZW50UmVzb3VyY2VzLnB1c2goZ2V0TWF0ZXJpYWwobWF0LCByZXNvdXJjZXMpIC8gY29zdFttYXRdKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbWluID0gTWF0aC5mbG9vcihNYXRoLm1pbiguLi5zdWZmaWNpZW50UmVzb3VyY2VzKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzb3VyY2VLZXksIG1pbik7XHJcbiAgICAgICAgY3JhZnRSZXNvdXJjZVF1YW50aXR5KHJlc291cmNlS2V5LCBtaW4pO1xyXG5cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gY3JhZnRhbGwgZm9yOiAnLCByZXNvdXJjZUtleSwgZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmFmdFJlc291cmNlUXVhbnRpdHkocmVzb3VyY2VLZXksIHF1YW50aXR5KSB7XHJcbiAgICBpZiAoIWNyYWZ0ZWRSZXNvdXJjZXMuaGFzT3duUHJvcGVydHkocmVzb3VyY2VLZXkpKSB0aHJvdyBcIkludmFsaWQgY3JhZnQgZm9yIG1pc3NpbmcgcmVzb3VyY2U6IFwiICsgcmVzb3VyY2VLZXk7XHJcblxyXG4gICAgaWYgKCFjYW5DcmFmdChyZXNvdXJjZUtleSkpIHJldHVybjsgLy8gVGFrZXMgY2FyZSBvZiBxdWFudGl0eSA8IDFcclxuICAgIGxldCBjb3N0ID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY29zdDtcclxuICAgIC8vIGxldCBjcmFmdEJvbnVzID0gY2FsY0NyYWZ0Qm9udXMocmVzb3VyY2VLZXkpO1xyXG4gICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBxdWFudGl0eTsgKytpKSB7XHJcbiAgICAvLyAgICAgY3JhZnRPbmUocmVzb3VyY2VLZXksIGNvc3QsIGNyYWZ0Qm9udXMpO1xyXG4gICAgLy8gfVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLmZsb29yKHF1YW50aXR5KTsgKytpKSB7IC8vIE9ubHkgY3JhZnQgd2hvbGUgbnVtYmVyLCBzbyAxLjQgb25seSBydW5zIG9uY2VcclxuICAgICAgICBjb25zb2xlLmxvZygnY3JhZnRpbmcnLCBxdWFudGl0eSwgcmVzb3VyY2VLZXksIGNvc3QpO1xyXG4gICAgICAgIGNyYWZ0T25lKHJlc291cmNlS2V5LCBjb3N0LCBjYWxjQ3JhZnRCb251cyhyZXNvdXJjZUtleSkpO1xyXG4gICAgfVxyXG4gICAgLy8gZm9yIChsZXQgbWF0IGluIGNvc3QpIHtcclxuICAgIC8vICAgICBpbmNyZWFzZU1hdGVyaWFsKG1hdCwgLWNvc3RbbWF0XSAqIHF1YW50aXR5KTtcclxuICAgIC8vIH1cclxuICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2VLZXksIHF1YW50aXR5KTtcclxuXHJcbiAgICBpZiAoIWNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNyYWZ0ZWRPbmNlKSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jcmFmdGVkT25jZSA9IHRydWU7XHJcblxyXG4gICAgdXBkYXRlRGlzcGxheVZhbHVlKHJlc291cmNlS2V5KTtcclxuXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjcmFmdE9uZShyZXNvdXJjZUtleSwgY29zdCwgY3JhZnRCb251cykge1xyXG4gICAgZm9yIChjb25zdCBbbWF0LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGNvc3QpKSB7XHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChtYXQsIC12YWwpO1xyXG4gICAgfVxyXG4gICAgaW5jcmVhc2VNYXRlcmlhbChyZXNvdXJjZUtleSwgY3JhZnRCb251cyk7XHJcblxyXG59XHJcbi8vIENyYWZ0IGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIGNyYWZ0UmVzb3VyY2UocmVzb3VyY2VLZXkpIHtcclxuICAgIGlmICghY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZUtleSkpIHRocm93IFwiSW52YWxpZCBjcmFmdCBmb3IgbWlzc2luZyByZXNvdXJjZTogXCIgKyByZXNvdXJjZUtleTtcclxuXHJcbiAgICBpZiAoIWNhbkNyYWZ0KHJlc291cmNlS2V5KSkgcmV0dXJuO1xyXG5cclxuICAgIGxldCBjb3N0ID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY29zdDtcclxuICAgIGxldCBjcmFmdEJvbnVzID0gY2FsY0NyYWZ0Qm9udXMocmVzb3VyY2VLZXkpO1xyXG5cclxuXHJcbiAgICBjcmFmdE9uZShyZXNvdXJjZUtleSwgY29zdCwgY3JhZnRCb251cyk7XHJcblxyXG4gICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIHJlc291cmNlS2V5ICsgXCJWYWx1ZVwiKS50ZXh0Q29udGVudCA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLnZhbHVlLnRvRml4ZWQoMik7XHJcbiAgICBpZiAoIWNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNyYWZ0ZWRPbmNlKSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jcmFmdGVkT25jZSA9IHRydWU7XHJcbiAgICB1cGRhdGVEaXNwbGF5VmFsdWUocmVzb3VyY2VLZXkpO1xyXG59XHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgaW5jcmVhc2VNYXRlcmlhbCxcclxuICAgIHNldE1heCxcclxuICAgIGluY3JlYXNlTWF4LFxyXG4gICAgY3JhZnRBbGxSZXNvdXJjZXMsXHJcbiAgICBjcmFmdFJlc291cmNlLFxyXG4gICAgdXBkYXRlRW1vamlEaXNwbGF5LFxyXG4gICAgZ2VuZXJhdGVUb29sdGlwQ29zdCxcclxuICAgIGNhbGNTZWNvbmRzUmVtYWluaW5nLFxyXG4gICAgYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucyxcclxuICAgIGNhbGNJbmNyZWFzZSxcclxuICAgIHVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcyxcclxuICAgIGNyYWZ0UmVzb3VyY2VRdWFudGl0eVxyXG5cclxufTsiLCIvLyBERVBFTkRTIE9OOiByZXNvdXJjZXMuanNcclxuY29uc3QgeyBjYWxjSW5jcmVhc2UsIHVwZGF0ZUVtb2ppRGlzcGxheSB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBhZGRUb29sLCBnZXRBbGxUb29scyB9ID0gcmVxdWlyZSgnLi90b29scycpO1xyXG5jb25zdCB7IGFsbFZpc2libGVCdXR0b25zLCBwb3B1bGF0ZVNraWxsc1RhYmxlLCBzZXRWaXNpYmxlQnV0dG9uIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IG1ha2VWaXNpYmxlIH0gPSByZXF1aXJlKCcuL21ha2VWaXNpYmxlJyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlIH0gPSByZXF1aXJlKCcuL2dldENyYWZ0ZWRSZXNvdXJjZScpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcblxyXG5jb25zdCB7IGdldEFsbFBlcmtzLCBhZGRQZXJrLCBoYXNQZXJrLCBzZWxlY3RBYmlsaXR5IH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBqb2JDb3VudHMsIHNldENvbm5lY3Rpb25zLCBnZXRDb25uZWN0aW9ucywgZGlzdHJpYnV0ZVdvcmtlcnMsIHVwZGF0ZURpc3BsYXkgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IHRvdGFsX3RpbWUgfSA9IHJlcXVpcmUoJy4vbWFpbicpO1xyXG5jb25zdCB7IHNldEF0ZUZpc2gsIGdldEF0ZUZpc2ggfSA9IHJlcXVpcmUoJy4vYXRlRmlzaCcpO1xyXG5cclxuXHJcbmNvbnN0IHsgY3JhZnRlZFJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuY29uc3QgeyBidWlsZGluZ3MgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpO1xyXG5jb25zdCB7IHBvbmRlcnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vcG9uZGVyXCIpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZShcIi4vanNvbi9za2lsbHNcIik7XHJcbmNvbnN0IHsgZ2V0QWxsU3RhZ2VzIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG5jb25zdCB7IGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZywgbG9hZEZhY3RvcnkgfSA9IHJlcXVpcmUoJy4vZmFjdG9yeScpO1xyXG5jb25zdCB7IHJlY2FsY01heENsb25lcyB9ID0gcmVxdWlyZSgnLi9yZWNhbGNNYXhDbG9uZXMnKTtcclxuY29uc3QgeyB1cGRhdGVTaWRlYmFyIH0gPSByZXF1aXJlKCcuL3NpZGViYXInKTtcclxuY29uc3QgeyBwcmVzdGlnZSB9ID0gcmVxdWlyZSgnLi9qc29uL3ByZXN0aWdlJyk7XHJcbmNvbnN0IHsgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QgfSA9IHJlcXVpcmUoJy4vcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QnKTtcclxuY29uc3QgeyB1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50IH0gPSByZXF1aXJlKCcuL3VwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQnKTtcclxuY29uc3QgeyB1cGRhdGVCdWlsZGluZ0xpc3QgfSA9IHJlcXVpcmUoJy4vYnVpbGRpbmdzJyk7XHJcblxyXG4vLyBpbXBvcnQgam9iQ291bnRzO1xyXG4vKiBTQVZJTkcgKi9cclxuLy8gdmFyIHNhdmUgPSB7XHJcbi8vICAgICByZXNvdXJjZXM6IHJlc291cmNlcyxcclxuLy8gICAgIGNyYWZ0ZWRSZXNvdXJjZXM6IGNyYWZ0ZWRSZXNvdXJjZXMsXHJcbi8vICAgICBza2lsbHM6IHNraWxscyxcclxuLy8gICAgIHBsYXllclRvb2xzOiBwbGF5ZXJUb29sc1xyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiBzYXZlR2FtZSgpIHtcclxuICAgIGxldCBzYXZlID0ge1xyXG4gICAgICAgIHNraWxsczoge30sIC8vIFRoaXMgd2lsbCBob2xkIHRoZSBleHBlcmllbmNlIGFuZCBsZXZlbCBmb3IgZWFjaCBza2lsbFxyXG4gICAgICAgIGNyYWZ0ZWRSZXNvdXJjZXM6IHt9LCAvLyBUaGlzIHdpbGwgaG9sZCB0aGUgdmFsdWUgZm9yIGVhY2ggY3JhZnRlZCBpdGVtXHJcbiAgICAgICAgcmVzb3VyY2VzOiB7fSxcclxuICAgICAgICB0b29sczogW10sXHJcbiAgICAgICAgc3RhZ2VzOiBbXSxcclxuICAgICAgICB1bmxvY2tzOiB7fSxcclxuICAgICAgICBqb2JzOiB7fSxcclxuICAgICAgICBidWlsZGluZ3M6IHt9LFxyXG4gICAgICAgIHRpbWU6IHt9LFxyXG4gICAgICAgIGFsbFZpc2libGVCdXR0b25zOiBbXSxcclxuICAgICAgICBtZXNzYWdlOiBbXSxcclxuICAgICAgICBjb25uZWN0aW9uczogbmV3IE1hcCgpLFxyXG4gICAgICAgIHBlcmtzOiBbXSxcclxuICAgICAgICBmYWN0b3JpZXM6IHt9LFxyXG4gICAgICAgIHByZXN0aWdlOiB7fVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBFeHRyYWN0IGV4cCBhbmQgbGV2ZWwgZnJvbSBza2lsbHMgYW5kIHNhdmUgdG8gc2F2ZS5za2lsbHNcclxuICAgIGZvciAobGV0IHNraWxsIGluIHNraWxscykge1xyXG4gICAgICAgIHNhdmUuc2tpbGxzW3NraWxsXSA9IHtcclxuICAgICAgICAgICAgZXhwOiBza2lsbHNbc2tpbGxdLmV4cCxcclxuICAgICAgICAgICAgbGV2ZWw6IHNraWxsc1tza2lsbF0ubGV2ZWxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEV4dHJhY3QgdmFsdWUgZnJvbSBjcmFmdGVkUmVzb3VyY2VzIGFuZCBzYXZlIHRvIHNhdmUuY3JhZnRlZEl0ZW1zXHJcbiAgICBmb3IgKGxldCBpdGVtIGluIGNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICBpZiAoIXNhdmUuY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICBzYXZlLmNyYWZ0ZWRSZXNvdXJjZXNbaXRlbV0gPSB7IHZhbHVlOiAwLCBjcmFmdGVkT25jZTogZmFsc2UgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNhdmUuY3JhZnRlZFJlc291cmNlc1tpdGVtXS52YWx1ZSA9IGdldENyYWZ0ZWRSZXNvdXJjZShpdGVtKTtcclxuICAgICAgICBzYXZlLmNyYWZ0ZWRSZXNvdXJjZXNbaXRlbV0uY3JhZnRlZE9uY2UgPSBjcmFmdGVkUmVzb3VyY2VzW2l0ZW1dLmNyYWZ0ZWRPbmNlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpdGVtIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBpdGVtIGV4aXN0cyBpbiB0aGUgc2F2ZS5yZXNvdXJjZXMgb2JqZWN0LiBJZiBub3QsIGluaXRpYWxpemUgaXQuXHJcbiAgICAgICAgaWYgKCFzYXZlLnJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICBzYXZlLnJlc291cmNlc1tpdGVtXSA9IHsgdmFsdWU6IDAsIG1heDogMCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2F2ZS5yZXNvdXJjZXNbaXRlbV0udmFsdWUgPSBnZXRNYXRlcmlhbChpdGVtLCByZXNvdXJjZXMpO1xyXG4gICAgICAgIHNhdmUucmVzb3VyY2VzW2l0ZW1dLm1heCA9IHJlc291cmNlc1tpdGVtXS5tYXg7XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZS50b29scyA9IGdldEFsbFRvb2xzKCk7XHJcbiAgICBzYXZlLnN0YWdlcyA9IGdldEFsbFN0YWdlcygpO1xyXG4gICAgc2F2ZS5qb2JzID0gam9iQ291bnRzO1xyXG4gICAgc2F2ZS5wZXJrcyA9IGdldEFsbFBlcmtzKCk7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgc2F2ZS5jb25uZWN0aW9ucyA9IEFycmF5LmZyb20oZ2V0Q29ubmVjdGlvbnMoKS5lbnRyaWVzKCkpO1xyXG5cclxuICAgIGZvciAobGV0IHUgaW4gcG9uZGVycykge1xyXG4gICAgICAgIHNhdmUudW5sb2Nrc1t1XSA9IGlzUG9uZGVyZWQodSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgYiBpbiBidWlsZGluZ3MpIHtcclxuICAgICAgICBzYXZlLmJ1aWxkaW5nc1tiXSA9IGJ1aWxkaW5nc1tiXS5jb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhhbGxWaXNpYmxlQnV0dG9ucy52YWx1ZXMoKSk7XHJcbiAgICBmb3IgKGxldCBhIGluIGFsbFZpc2libGVCdXR0b25zKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYSk7XHJcbiAgICAgICAgc2F2ZS5hbGxWaXNpYmxlQnV0dG9ucy5wdXNoKGEpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHNhdmUuYWxsVmlzaWJsZUJ1dHRvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV4dHJhY3RUZXh0RnJvbUhUTUwoaHRtbFN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sU3RyaW5nO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0Q29udGVudCA9IGRpdi50ZXh0Q29udGVudDtcclxuICAgICAgICBjb25zdCBzcGFuVGV4dCA9IGRpdi5xdWVyeVNlbGVjdG9yKCdzcGFuJykudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgICAgIHJldHVybiBbdGV4dENvbnRlbnQsIHNwYW5UZXh0XTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nKSkge1xyXG4gICAgICAgIHNhdmUuZmFjdG9yaWVzW2tleV0gPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaHRtbFN0cmluZyA9IHJlcXVpcmUoJy4vbWFpbicpLmdldE1lc3NhZ2UoKS5pbm5lckhUTUw7XHJcblxyXG4gICAgc2F2ZS5tZXNzYWdlID0gZXh0cmFjdFRleHRGcm9tSFRNTChodG1sU3RyaW5nKTsgLy8gW21lc3NhZ2UsIHNwYW5dXHJcblxyXG5cclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhwcmVzdGlnZSkpIHtcclxuICAgICAgICBzYXZlLnByZXN0aWdlW2tleV0gPSB7IGNvc3Q6IHZhbC5jb3N0LCBsZXZlbDogdmFsLmxldmVsIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coY29tYmluZWRUZXh0KTsgLy8gXCJZb3UgZmluZCB5b3Vyc2VsZiBhbG9uZSBpbiBhIGZvcmVzdFwiXHJcbiAgICAvLyBjb25zb2xlLmxvZyhzcGFuVGV4dCk7IC8vIFwiYWxvbmVcIlxyXG5cclxuXHJcbiAgICBzYXZlLnRpbWVbJ3RvdGFsX3RpbWUnXSA9IHRvdGFsX3RpbWU7XHJcbiAgICBzYXZlLnRpbWVbJ3RpbWVfb2Zfc2F2ZSddID0gRGF0ZS5ub3coKTtcclxuICAgIC8vIFlvdSBjYW4gbm93IHVzZSB0aGUgc2F2ZSBvYmplY3QgdG8gc3RvcmUgdGhlIGRhdGEgc29tZXdoZXJlIG9yIGRpc3BsYXkgaXQgdG8gdGhlIHVzZXJcclxuXHJcbiAgICBjb25zb2xlLmxvZyhzYXZlKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHNhdmUpKTtcclxuXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNhdmVcIiwgSlNPTi5zdHJpbmdpZnkoc2F2ZSkpO1xyXG4gICAgcmV0dXJuIHNhdmU7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gbG9hZEdhbWUoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgR2FtZVwiKTtcclxuICAgIHZhciBzYXZlZ2FtZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzYXZlXCIpKTtcclxuICAgIGNvbnNvbGUubG9nKHNhdmVnYW1lKTtcclxuICAgIGlmIChzYXZlZ2FtZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIC8vIE5FVyBHQU1FXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5yZXNvdXJjZXMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHNhdmVnYW1lLnJlc291cmNlcykge1xyXG4gICAgICAgICAgICBpZiAoaS52YWx1ZU9mKCkgPT09IFwidW5kZWZpbmVkXCIgfHwgaSA9PT0gbnVsbCkgY29udGludWU7XHJcbiAgICAgICAgICAgIHJlc291cmNlc1tpXS52YWx1ZSA9IHNhdmVnYW1lLnJlc291cmNlc1tpXS52YWx1ZTtcclxuICAgICAgICAgICAgcmVzb3VyY2VzW2ldLm1heCA9IHNhdmVnYW1lLnJlc291cmNlc1tpXS5tYXg7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgcmVzb3VyY2VzIGZvciBcIiArIGkgKyBcIiB0byBcIiArIHNhdmVnYW1lLnJlc291cmNlc1tpXS52YWx1ZSwgc2F2ZWdhbWUucmVzb3VyY2VzW2ldLm1heCk7XHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbaV0udmFsdWUgIT0gMCkgcmVxdWlyZSgnLi9zaWRlYmFyJykudXBkYXRlRGlzcGxheVZhbHVlKGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnNraWxscyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHNhdmVnYW1lLnNraWxscykge1xyXG4gICAgICAgICAgICBza2lsbHNbaV0uZXhwID0gc2F2ZWdhbWUuc2tpbGxzW2ldLmV4cDtcclxuICAgICAgICAgICAgc2tpbGxzW2ldLmxldmVsID0gc2F2ZWdhbWUuc2tpbGxzW2ldLmxldmVsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgb2YgT2JqZWN0LmtleXMoc2F2ZWdhbWUuY3JhZnRlZFJlc291cmNlcykpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xvYWRpbmcgY3JhZnRlZCcsIGtleSwgc2F2ZWdhbWUuY3JhZnRlZFJlc291cmNlc1trZXldLCBjcmFmdGVkUmVzb3VyY2VzW2tleV0pO1xyXG4gICAgICAgICAgICBpZiAoIWNyYWZ0ZWRSZXNvdXJjZXNba2V5XSkgY29udGludWU7XHJcbiAgICAgICAgICAgIGNyYWZ0ZWRSZXNvdXJjZXNba2V5XS52YWx1ZSA9IHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXNba2V5XS52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihjcmFmdGVkUmVzb3VyY2VzW2tleV0udmFsdWUpKSBjcmFmdGVkUmVzb3VyY2VzW2tleV0udmFsdWUgPSAwO1xyXG4gICAgICAgICAgICBjcmFmdGVkUmVzb3VyY2VzW2tleV0uY3JhZnRlZE9uY2UgPSBzYXZlZ2FtZS5jcmFmdGVkUmVzb3VyY2VzW2tleV0uY3JhZnRlZE9uY2U7XHJcbiAgICAgICAgICAgIHJlcXVpcmUoJy4vc2lkZWJhcicpLnVwZGF0ZURpc3BsYXlWYWx1ZShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnRvb2xzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIHBsYXllclRvb2xzID0gc2F2ZWdhbWUudG9vbHM7XHJcbiAgICAgICAgLy8gVW5pb24gdGhlIHRvb2wgbGlzdHMgdG9nZXRoZXJcclxuICAgICAgICBsZXQgdW5pb24gPSBbLi4ubmV3IFNldChbLi4uZ2V0QWxsVG9vbHMoKSwgLi4uc2F2ZWdhbWUudG9vbHNdKV07XHJcbiAgICAgICAgLy8gcGxheWVyVG9vbHMgPSB1bmlvbjtcclxuICAgICAgICBmb3IgKGxldCB0b29sIGluIHVuaW9uKSB7XHJcbiAgICAgICAgICAgIGFkZFRvb2wodG9vbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBmb3IgKGxldCB0IGluIHBsYXllclRvb2xzKSB7XHJcbiAgICAgICAgLy8gICAgIHVwZGF0ZVRvb2xVSShwbGF5ZXJUb29sc1t0XSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuc3RhZ2VzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGZvciAobGV0IHMgaW4gc2F2ZWdhbWUuc3RhZ2VzKSB7XHJcbiAgICAgICAgICAgIG1ha2VWaXNpYmxlKHNhdmVnYW1lLnN0YWdlc1tzXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5qb2JzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIGpvYkNvdW50cyA9IHNhdmVnYW1lLmpvYnM7XHJcbiAgICAgICAgZm9yIChsZXQgaiBpbiBzYXZlZ2FtZS5qb2JzKSB7XHJcbiAgICAgICAgICAgIGpvYkNvdW50c1tqXSA9IHNhdmVnYW1lLmpvYnNbal07XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGopO1xyXG4gICAgICAgICAgICB1cGRhdGVEaXNwbGF5KGopO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUudW5sb2NrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGxldCB1IGluIHNhdmVnYW1lLnVubG9ja3MpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHBvbmRlcnNbdV0uaXNQb25kZXJlZCA9IHNhdmVnYW1lLnVubG9ja3NbdV07XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdPbGQgc2F2ZSBkYXRhIGluY2x1ZGVzIG9ic29sZXRlIHBvbmRlcicsIHUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1BvbmRlcmVkKCdza2lsbHNUYWJsZScpKSB7XHJcbiAgICAgICAgcG9wdWxhdGVTa2lsbHNUYWJsZSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5idWlsZGluZ3MgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgZm9yIChsZXQgYiBpbiBzYXZlZ2FtZS5idWlsZGluZ3MpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYiwgc2F2ZWdhbWUuYnVpbGRpbmdzW2JdKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGJ1aWxkaW5nc1tiXS5jb3VudCA9IHNhdmVnYW1lLmJ1aWxkaW5nc1tiXTtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBidXR0b24gdGV4dFxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1aWxkaW5nc1tiXS5jb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50KGIsIGJ1aWxkaW5nc1tiXS5jb3VudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY29zdHMgb2YgYWxsIHRoZSBidWlsZGluZ3NcclxuICAgICAgICAgICAgICAgICAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChiLCBidWlsZGluZ3MsIGhhc1BlcmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBtYXggYXMgaW5mbHVlbmNlZCBieSB0aGlzIGJ1aWxkaW5nXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBEb24ndCBvdmVyd3JpdGUgZXhpc3RpbmcgYnVpbGRpbmcgYm9vc3RzXHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoYnVpbGRpbmdzW2JdLmVmZmVjdHMpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBmb3IgKGxldCBtYXQgaW4gYnVpbGRpbmdzW2JdLmVmZmVjdHMpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2V0TWF4KG1hdCwgYnVpbGRpbmdzW2JdLmNvdW50ICogYnVpbGRpbmdzW2JdLmVmZmVjdHNbbWF0XSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdlcnJvciB3aXRoIGJ1aWxkaW5nJywgYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFmdGVyIHBvbmRlcnMgYW5kIGJ1aWxkaW5ncyB3ZSBjYW4gcmVjYWxjdWxhdGUgbWF4IGNsb25lc1xyXG4gICAgcmVjYWxjTWF4Q2xvbmVzKCk7XHJcbiAgICB1cGRhdGVCdWlsZGluZ0xpc3QoKTtcclxuXHJcblxyXG4gICAgLy8gSWYgd2UgaGF2ZSBhIGNsb25lLCB0aGVuIHdlIGF0ZSBmaXNoXHJcbiAgICBzZXRBdGVGaXNoKHJlc291cmNlcy5jbG9uZXMubWF4ID49IDEpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2F0ZWZpc2gnLCBhdGVGaXNoKTtcclxuICAgIGlmIChnZXRBdGVGaXNoKCkpIHtcclxuICAgICAgICBjb25zdCBmaXNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlYXRGaXNoXCIpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBmaXNoQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgICAvLyBDaGFuZ2UgdGhlIG1lc3NhZ2UgdG8gdGhlIGxhdGVzdCBvbmVcclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUubWVzc2FnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBbZnVsbCBtZXNzYWdlLCBzcGFuXVxyXG4gICAgICAgIHJlcXVpcmUoJy4vbWFpbicpLmNoYW5nZU1lc3NhZ2Uoc2F2ZWdhbWUubWVzc2FnZVswXSwgc2F2ZWdhbWUubWVzc2FnZVsxXSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgcmVzb3VyY2VzIGVhcm5lZCB3aGlsZSBhd2F5XHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnRpbWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmVxdWlyZSgnLi9tYWluJykuc2V0VG90YWxUaW1lKHNhdmVnYW1lLnRpbWVbdG90YWxfdGltZV0pO1xyXG4gICAgICAgIGNvbnN0IHRpbWVfZGlmZmVyZW5jZSA9IERhdGUubm93KCkgLSBzYXZlZ2FtZS50aW1lWyd0aW1lX29mX3NhdmUnXTtcclxuICAgICAgICBmb3IgKGxldCByIGluIHJlc291cmNlcykge1xyXG4gICAgICAgICAgICBjb25zdCBpbmMgPSBjYWxjSW5jcmVhc2UociwgdGltZV9kaWZmZXJlbmNlKTtcclxuICAgICAgICAgICAgcmVzb3VyY2VzW3JdLnZhbHVlICs9IGluYztcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cociwgdGltZV9kaWZmZXJlbmNlLCBpbmMpO1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzW3JdLnZhbHVlID4gcmVzb3VyY2VzW3JdLm1heCkgcmVzb3VyY2VzW3JdLnZhbHVlID0gcmVzb3VyY2VzW3JdLm1heDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5hbGxWaXNpYmxlQnV0dG9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhzYXZlZ2FtZS5hbGxWaXNpYmxlQnV0dG9ucyk7XHJcbiAgICAgICAgZm9yIChsZXQgYSBpbiBzYXZlZ2FtZS5hbGxWaXNpYmxlQnV0dG9ucykge1xyXG4gICAgICAgICAgICBzZXRWaXNpYmxlQnV0dG9uKGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5jb25uZWN0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBzZXRDb25uZWN0aW9ucyhuZXcgTWFwKHNhdmVnYW1lLmNvbm5lY3Rpb25zKSk7XHJcblxyXG4gICAgICAgIGlmIChnZXRDb25uZWN0aW9ucygpLnNpemUgPT09IDApIHNldENvbm5lY3Rpb25zKG5ldyBNYXAoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZ2V0Q29ubmVjdGlvbnMoKSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZvciAobGV0IGpvYiBpbiBqb2JDb3VudHMpIHtcclxuICAgICAgICBkaXN0cmlidXRlV29ya2Vycyhqb2IsIGpvYkNvdW50c1tqb2JdKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVFbW9qaURpc3BsYXkoKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnBlcmtzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIG15UGVya3MgPSBzYXZlZ2FtZS5wZXJrcztcclxuICAgICAgICBmb3IgKGxldCBbaSwgcGVya10gb2YgT2JqZWN0LmVudHJpZXMoc2F2ZWdhbWUucGVya3MpKSB7XHJcbiAgICAgICAgICAgIGFkZFBlcmsocGVyayk7XHJcbiAgICAgICAgICAgIHJlcXVpcmUoJy4vc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24nKS5zZWxlY3RDb3JyZWN0UGVya0J1dHRvbihwZXJrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5mYWN0b3JpZXMgIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhzYXZlZ2FtZS5mYWN0b3JpZXMpKVxyXG4gICAgICAgICAgICBpZiAodmFsID4gMClcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsOyArK2kpXHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZEZhY3Rvcnkoa2V5KTtcclxuXHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5wcmVzdGlnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoc2F2ZWdhbWUucHJlc3RpZ2UpKSB7XHJcblxyXG4gICAgICAgICAgICBwcmVzdGlnZVtrZXldLmNvc3QgPSB2YWxbJ2Nvc3QnXTtcclxuICAgICAgICAgICAgcHJlc3RpZ2Vba2V5XS5sZXZlbCA9IHZhbFsnbGV2ZWwnXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuLy8gc2F2ZSB0aGUgdGltZSB3aGVuIHRoZSBwbGF5ZXIgZXhpdHMgdGhlIGJyb3dzZXIgdGFiXHJcbi8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsICgpID0+IHNhdmVHYW1lKCkpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHNhdmVHYW1lLFxyXG4gICAgbG9hZEdhbWVcclxufTsiLCIvKipcclxuICogU2VsZWN0IHRoZSBwZXJrIGJ1dHRvbiB0aGF0IHdlJ3ZlIGNob3NlbiBhbmQgZGlzYWJsZSB0aGUgb3RoZXJzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBhYmlsaXR5TmFtZSBOYW1lIG9mIHRoZSBjaG9zZW4gcGVya1xyXG4gKi9cclxuZnVuY3Rpb24gc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24oYWJpbGl0eU5hbWUpIHtcclxuICAgIC8vIERpc2FibGUgYWxsIGJ1dHRvbnNcclxuICAgIGxldCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRpZXJPbmVCdXR0b24nKTtcclxuICAgIGxldCBzZWxlY3RlZEJ1dHRvbjtcclxuICAgIHRyeSB7IHNlbGVjdGVkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7YWJpbGl0eU5hbWV9UGVya2ApOyB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgfVxyXG4gICAgaWYgKHNlbGVjdGVkQnV0dG9uKSB7XHJcbiAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRW5hYmxlIGFuZCBoaWdobGlnaHQgdGhlIHNlbGVjdGVkIGJ1dHRvblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkQnV0dG9uLCBhYmlsaXR5TmFtZSk7XHJcbiAgICAgICAgc2VsZWN0ZWRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIHNlbGVjdGVkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignTm8gYnV0dG9uIGZvdW5kIHdpdGggYWJpbGl0eSBuYW1lOiAnICsgYWJpbGl0eU5hbWUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24gPSBzZWxlY3RDb3JyZWN0UGVya0J1dHRvbjsiLCJjb25zdCB7IGNhbGNJbmNyZWFzZSB9ID0gcmVxdWlyZShcIi4vY2FsY0luY3JlYXNlXCIpO1xyXG5jb25zdCB7IGNhcGl0YWxpemVGaXJzdCB9ID0gcmVxdWlyZSgnLi9jYXBpdGFsaXplRmlyc3QnKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZShcIi4vZ2V0TWF0ZXJpYWxcIik7XHJcbmNvbnN0IHsgZ2V0TWF4IH0gPSByZXF1aXJlKFwiLi9oZWxwZXJcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL3Jlc291cmNlc1wiKTtcclxuLy8gQHRzLWlnbm9yZVxyXG5jb25zdCB7IGlzUG9uZGVyZWQgfSA9IHJlcXVpcmUoJy4vcG9uZGVyJyk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlR3JvdXBWaXNpYmlsaXR5KGdyb3VwTmFtZSkge1xyXG4gICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZ3JvdXAtJHtncm91cE5hbWV9YCk7XHJcbiAgICBjb25zdCB0b2dnbGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdG9nZ2xlLSR7Z3JvdXBOYW1lfWApOyAvLyBFbnN1cmUgeW91IGhhdmUgdGhpcyBidXR0b24gd2l0aCB0aGUgaWQgJ3RvZ2dsZS1ncm91cE5hbWUnXHJcblxyXG4gICAgQXJyYXkuZnJvbShncm91cC5jaGlsZHJlbikuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnUCcpIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgZ3JvdXAgaXMgY3VycmVudGx5IGhpZGRlblxyXG4gICAgaWYgKHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2Fycm93LWRvd24nKSkge1xyXG4gICAgICAgIHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhcnJvdy1kb3duJyk7XHJcbiAgICAgICAgdG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Fycm93LXJpZ2h0Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhcnJvdy1yaWdodCcpO1xyXG4gICAgICAgIHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhcnJvdy1kb3duJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyBGdW5jdGlvbiB0byBjcmVhdGUgYSBncm91cCBjb250YWluZXJcclxuZnVuY3Rpb24gY3JlYXRlUmVzb3VyY2VHcm91cENvbnRhaW5lcihncm91cE5hbWUpIHtcclxuICAgIGNvbnN0IGdyb3VwQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBncm91cENvbnRhaW5lci5jbGFzc05hbWUgPSAncmVzb3VyY2VHcm91cCc7XHJcbiAgICBncm91cENvbnRhaW5lci5pZCA9IGBncm91cC0ke2dyb3VwTmFtZX1gO1xyXG5cclxuICAgIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgdG9nZ2xlQnV0dG9uLnRleHRDb250ZW50ID0gZ3JvdXBOYW1lLnRvVXBwZXJDYXNlKCk7XHJcbiAgICB0b2dnbGVCdXR0b24ub25jbGljayA9ICgpID0+IHRvZ2dsZUdyb3VwVmlzaWJpbGl0eShncm91cE5hbWUpO1xyXG4gICAgdG9nZ2xlQnV0dG9uLmNsYXNzTmFtZSA9ICd0b2dnbGUtYnV0dG9uIGFycm93LWRvd24nO1xyXG4gICAgdG9nZ2xlQnV0dG9uLmlkID0gYHRvZ2dsZS0ke2dyb3VwTmFtZX1gO1xyXG5cclxuICAgIGdyb3VwQ29udGFpbmVyLmFwcGVuZENoaWxkKHRvZ2dsZUJ1dHRvbik7XHJcbiAgICByZXR1cm4gZ3JvdXBDb250YWluZXI7XHJcbn1cclxuXHJcblxyXG5cclxuLy8gSXRlcmF0ZXMgb3ZlciBlYWNoIGdyb3VwIGFuZCByZXNvdXJjZSB0byBjcmVhdGUgdGFnc1xyXG5mdW5jdGlvbiBpbml0aWFsaXplUmVzb3VyY2VUYWdzKHdpdGhHcm91cHMpIHtcclxuICAgIC8vIGlmIChpc1BvbmRlcmVkKCdvcmdhbml6YXRpb24nKSkgd2l0aEdyb3VwcyA9IHRydWU7XHJcbiAgICBjb25zb2xlLmxvZyhcImluaXRpYWx6aW5nIHJlc291cmNlIHRhZ3NcIik7XHJcbiAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgICAvLyBEZWZpbmUgZ3JvdXBzIGZvciB5b3VyIHJlc291cmNlc1xyXG4gICAgY29uc3QgcmVzb3VyY2VHcm91cHMgPSB7XHJcbiAgICAgICAgJ3NwZWNpYWwnOiBbJ2Nsb25lcycsICdodXNrcycsICdwb25kZXInXSxcclxuICAgICAgICBiYXNpY3M6IFsnc3RpY2tzJywgJ2JlcnJpZXMnLCAnZmlzaCcsICdnYW1lJywgJ3doZWF0JywgJ2ZyZXNod2F0ZXInXSxcclxuICAgICAgICBtYXRlcmlhbHM6IFsnd29vZCcsICdzYW5kJywgJ2NsYXknLCAndmluZXMnLCAncm9ja3MnLCAnaGlkZXMnLCAnaGVyYnMnXSxcclxuICAgICAgICB0b29sczogWydzaGFycHJvY2tzJywgJ3JvcGUnLCAnaGFuZGxlJywgJ2Zpc2hpbmdyb2QnLCAncGlja2F4ZScsICdheGUnLCAnc3BlYXInLCAnc3RhZmYnXSxcclxuICAgICAgICBhZHZhbmNlZDogWydnbGFzcycsICdwYXBlcicsICdjcmF0ZXMnLCAnbWVkaWNpbmUnLCAnbGVhdGhlciddLFxyXG4gICAgICAgIG1ldGFsOiBbJ29yZScsICdnb2xkJywgJ2lyb24nLCAnc2lsdmVyJywgJ3N0ZWVsJ10sXHJcbiAgICAgICAgY29uc3RydWN0aW9uOiBbJ2JyaWNrcycsICdiZWFtcycsICduYWlscycsICdzbGFicycsICdjb25jcmV0ZSddLFxyXG4gICAgICAgIC8vIC4uLiBBZGQgb3RoZXIgZ3JvdXBzIGFzIG5lY2Vzc2FyeVxyXG4gICAgfTtcclxuICAgIGZvciAobGV0IFtncm91cE5hbWUsIGdyb3VwT2ZSZXNvdXJjZXNdIG9mIE9iamVjdC5lbnRyaWVzKHJlc291cmNlR3JvdXBzKSkge1xyXG5cclxuICAgICAgICBncm91cE9mUmVzb3VyY2VzLmZvckVhY2gocmVzb3VyY2VOYW1lID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzb3VyY2VOYW1lLCBncm91cE5hbWUpO1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZS0nICsgcmVzb3VyY2VOYW1lKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghd2l0aEdyb3VwcykgZ3JvdXBOYW1lID0gbnVsbDsgLy8gU2V0IGdyb3VwIHRvIHJlc291cmNlc1xyXG5cclxuICAgICAgICAgICAgaWYgKCFwYXJlbnRFbGVtZW50KSBwYXJlbnRFbGVtZW50ID0gY3JlYXRlUmVzb3VyY2VUYWcocmVzb3VyY2VOYW1lLCBncm91cE5hbWUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwYXJlbnRFbGVtZW50KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBlbGVtZW50IGlmIHdlIHNob3VsZCwgb3RoZXJ3aXNlIGNyZWF0ZSBhIHJlc291cmNlIHRhZ1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNvdXJjZU5hbWUsIHNob3VsZEhpZGUocmVzb3VyY2VOYW1lKSwgZ2V0TWF0ZXJpYWwocmVzb3VyY2VOYW1lKSk7XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRIaWRlKHJlc291cmNlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNob3VsZEhpZGUpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2hvdWxkSGlkZShyZXNvdXJjZU5hbWUpIHtcclxuXHJcbiAgICB2YXIgc2hvdWxkSGlkZSA9IHRydWU7XHJcbiAgICAvLyBmb3IgKGxldCBjIGluIHBhcmVudEVsZW1lbnQuY2xhc3NMaXN0KSB7XHJcbiAgICAvLyAgICAgLy8gY29uc29sZS5sb2coJ2hhcyBwYXNzZWQnLCByZXNvdXJjZU5hbWUsIHBhc3NlZFN0YWdlKGMpKTtcclxuICAgIC8vICAgICBpZiAocmVxdWlyZSgnLi9zdGFnZXMnKS5wYXNzZWRTdGFnZShjKSkgeyBzaG91bGRIaWRlID0gZmFsc2U7IGNvbnNvbGUubG9nKCdkb250IGhpZGUnLCByZXNvdXJjZU5hbWUsIGMpOyB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgaWYgKGdldE1hdGVyaWFsKHJlc291cmNlTmFtZSkgPiAwKSB7XHJcbiAgICAgICAgc2hvdWxkSGlkZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSkgcmVzb3VyY2VzW3Jlc291cmNlTmFtZV0uaXNWaXNpYmxlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSAmJiByZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS5pc1Zpc2libGUpIHsgc2hvdWxkSGlkZSA9IGZhbHNlOyB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ3Nob3VsZCBoaWRlPycsIHJlc291cmNlTmFtZSwgc2hvdWxkSGlkZSk7XHJcbiAgICByZXR1cm4gc2hvdWxkSGlkZTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFiYnJldmlhdGVOdW1iZXIobnVtKSB7XHJcbiAgICBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIHVuaXQpIHtcclxuICAgICAgICBpZiAodmFsdWUgPCAxMCkgcmV0dXJuIHJvdW5kVG9EZWNpbWFscyh2YWx1ZSwgMikgKyB1bml0O1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDEwMCkgcmV0dXJuIHJvdW5kVG9EZWNpbWFscyh2YWx1ZSwgMSkgKyB1bml0O1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDEwMDApIHJldHVybiByb3VuZFRvRGVjaW1hbHModmFsdWUsIDApICsgdW5pdDtcclxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSkgKyB1bml0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJvdW5kVG9EZWNpbWFscyhudW1iZXIsIGRlY2ltYWxzKSB7XHJcbiAgICAgICAgY29uc3QgZmFjdG9yID0gTWF0aC5wb3coMTAsIGRlY2ltYWxzKTtcclxuICAgICAgICByZXR1cm4gKE1hdGgucm91bmQobnVtYmVyICogZmFjdG9yKSAvIGZhY3RvcikudG9GaXhlZChkZWNpbWFscyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG51bSA8IDFlMykgcmV0dXJuIHJvdW5kVG9EZWNpbWFscyhudW0sIDEpOyAvLyBJZiBsZXNzIHRoYW4gMSwwMDBcclxuICAgIGlmIChudW0gPCAxZTYpIHJldHVybiBmb3JtYXQobnVtIC8gMWUzLCAnSycpOyAvLyBUaG91c2FuZHNcclxuICAgIGlmIChudW0gPCAxZTkpIHJldHVybiBmb3JtYXQobnVtIC8gMWU2LCAnTScpOyAvLyBNaWxsaW9uc1xyXG4gICAgaWYgKG51bSA8IDFlMTIpIHJldHVybiBmb3JtYXQobnVtIC8gMWU5LCAnQicpOyAvLyBCaWxsaW9uc1xyXG4gICAgLy8gQWRkIG1vcmUgY2FzZXMgZm9yIGxhcmdlciBudW1iZXJzIGlmIG5lZWRlZFxyXG5cclxuICAgIGlmIChudW0gPT09IEluZmluaXR5KSBudW0gPSAn4oieJztcclxuICAgIHJldHVybiBudW0udG9TdHJpbmcoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZXMgdGhlIHJlc291cmNlIGNvdW50IGFuZCBtYXhlcyBvZiBhbGwgcmVzb3VyY2VzXHJcbiAqIEByZXR1cm5zIFxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlU2lkZWJhcigpIHtcclxuICAgIGNvbnN0IGFsbE1hdGVyaWFscyA9IHJlcXVpcmUoJy4vZmFjdG9yeScpLmFsbE1hdGVyaWFscztcclxuICAgIEFycmF5LmZyb20oYWxsTWF0ZXJpYWxzKS5mb3JFYWNoKHIgPT4geyBpZiAocmVzb3VyY2VzW3JdKSB1cGRhdGVEaXNwbGF5VmFsdWUocik7IH0pO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGZvciAoY29uc3QgW2luZGV4LCByZXNvdXJjZU5hbWVdIG9mIE9iamVjdC5lbnRyaWVzKGFsbE1hdGVyaWFscykpIHtcclxuICAgICAgICBpZiAocmVzb3VyY2VzW3Jlc291cmNlTmFtZV0pIGNvbnRpbnVlO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzb3VyY2UtJyArIHJlc291cmNlTmFtZSk7XHJcbiAgICAgICAgaWYgKCFwYXJlbnRFbGVtZW50KSB7IGNvbnNvbGUud2Fybignbm8gcGFyZW50IGVsZW1lbnQgZm91bmQgZm9yJywgcmVzb3VyY2VOYW1lKTsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgIGlmIChzaG91bGRIaWRlKHJlc291cmNlTmFtZSkpIHtcclxuICAgICAgICAgICAgcGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkaXNwbGF5RWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJlc291cmNlTmFtZSArICdWYWx1ZScpO1xyXG4gICAgICAgIGlmIChkaXNwbGF5RWxlbSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhYmJyZXZpYXRlTnVtYmVyKHJlc291cmNlRGF0YSkpO1xyXG4gICAgICAgICAgICB2YXIgY29sb3IgPSAnI2ZmZic7XHJcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IGdldE1hdGVyaWFsKHJlc291cmNlTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1heCA9IGdldE1heChyZXNvdXJjZU5hbWUpO1xyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgaWYgKGFtb3VudCA9PT0gbWF4KSBjb2xvciA9ICcjZmNjJztcclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGFtb3VudCAvIG1heCA+IC42KSBjb2xvciA9ICcjZWViJztcclxuXHJcbiAgICAgICAgICAgIGRpc3BsYXlFbGVtLmlubmVySFRNTCA9IGA8c3BhbiBzdHlsZT1cImNvbG9yOiR7Y29sb3J9XCI+JHthYmJyZXZpYXRlTnVtYmVyKGFtb3VudCl9IC8gJHthYmJyZXZpYXRlTnVtYmVyKG1heCl9IDwvc3Bhbj5gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4vLyBDcmVhdGUgYWxsIG91ciByZXNvdXJjZSB0YWdzIGluIHRoZSBzaWRlYmFyXHJcbmNvbnN0IHJlc291cmNlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZXMnKTtcclxuZnVuY3Rpb24gY3JlYXRlUmVzb3VyY2VUYWcocmVzb3VyY2VOYW1lLCBncm91cE5hbWUpIHtcclxuICAgIC8vIGlmICghcmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlTmFtZSkpIHRocm93IFwiSW52YWxpZCByZXNvdXJjZTogXCIgKyByZXNvdXJjZU5hbWU7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIHJlc291cmNlIHRhZyBmb3IgXCIsIHJlc291cmNlTmFtZSwgZ3JvdXBOYW1lKTtcclxuICAgIGxldCBncm91cENvbnRhaW5lcjtcclxuICAgIGlmIChncm91cE5hbWUpIHtcclxuICAgICAgICBncm91cENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBncm91cC0ke2dyb3VwTmFtZX1gKTtcclxuICAgICAgICBpZiAoIWdyb3VwQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIGdyb3VwQ29udGFpbmVyID0gY3JlYXRlUmVzb3VyY2VHcm91cENvbnRhaW5lcihncm91cE5hbWUpO1xyXG4gICAgICAgICAgICByZXNvdXJjZXNDb250YWluZXIuYXBwZW5kQ2hpbGQoZ3JvdXBDb250YWluZXIpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYXBwZW5kaW5nJywgZ3JvdXBDb250YWluZXIsIHJlc291cmNlc0NvbnRhaW5lciwgcmVzb3VyY2VzQ29udGFpbmVyLmNoaWxkRWxlbWVudENvdW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBncm91cENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZXMnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhncm91cENvbnRhaW5lcik7XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VEaXNwbGF5TmFtZSA9IGNhcGl0YWxpemVGaXJzdChyZXNvdXJjZU5hbWUpLnNwbGl0KCdfJykuam9pbignICcpO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgIHJlc291cmNlRWxlbWVudC5jbGFzc05hbWUgPSBgcmVzb3VyY2VgO1xyXG4gICAgcmVzb3VyY2VFbGVtZW50LmlkID0gYHJlc291cmNlLSR7cmVzb3VyY2VOYW1lfWA7XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIHJlc291cmNlTmFtZVNwYW4uY2xhc3NOYW1lID0gJ3Jlc291cmNlTmFtZSc7XHJcbiAgICByZXNvdXJjZU5hbWVTcGFuLnRleHRDb250ZW50ID0gYCR7cmVzb3VyY2VEaXNwbGF5TmFtZX06YDtcclxuXHJcbiAgICBjb25zdCByZXNvdXJjZVZhbHVlU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIHJlc291cmNlVmFsdWVTcGFuLmNsYXNzTmFtZSA9ICdyZXNvdXJjZVZhbHVlJztcclxuICAgIHJlc291cmNlVmFsdWVTcGFuLmlkID0gYCR7cmVzb3VyY2VOYW1lfVZhbHVlYDtcclxuICAgIGxldCBtYXggPSAoZ2V0TWF4KHJlc291cmNlTmFtZSkgJiYgZ2V0TWF4KHJlc291cmNlTmFtZSkgPCBJbmZpbml0eSkgPyBnZXRNYXgocmVzb3VyY2VOYW1lKS50b0ZpeGVkKDIpIDogJ+KInic7XHJcblxyXG4gICAgcmVzb3VyY2VWYWx1ZVNwYW4udGV4dENvbnRlbnQgPSBgJHtnZXRNYXRlcmlhbChyZXNvdXJjZU5hbWUpLnRvRml4ZWQoMil9IC8gJHttYXh9YDtcclxuXHJcbiAgICBjb25zdCByZXNvdXJjZVJhdGVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgcmVzb3VyY2VSYXRlU3Bhbi5jbGFzc05hbWUgPSAncmVzb3VyY2VSYXRlJztcclxuICAgIHJlc291cmNlUmF0ZVNwYW4uaW5uZXJIVE1MID0gYCgrXHJcbiAgICAgICAgICAgIDxzcGFuIGlkPVwiJHtyZXNvdXJjZU5hbWV9SW5jcmVhc2VSYXRlXCI+MDwvc3Bhbj4vcylgO1xyXG5cclxuICAgIHJlc291cmNlRWxlbWVudC5hcHBlbmRDaGlsZChyZXNvdXJjZU5hbWVTcGFuKTtcclxuICAgIHJlc291cmNlRWxlbWVudC5hcHBlbmRDaGlsZChyZXNvdXJjZVZhbHVlU3Bhbik7XHJcbiAgICByZXNvdXJjZUVsZW1lbnQuYXBwZW5kQ2hpbGQocmVzb3VyY2VSYXRlU3Bhbik7XHJcblxyXG4gICAgZ3JvdXBDb250YWluZXIuYXBwZW5kQ2hpbGQocmVzb3VyY2VFbGVtZW50KTtcclxuXHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBvcmRlcmluZ1xyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIGNoYW5nZSB0aGUgb3JkZXIgb2YgYSByZXNvdXJjZVxyXG4gICAgZnVuY3Rpb24gY2hhbmdlUmVzb3VyY2VPcmRlcihyZXNvdXJjZUlkLCBuZXdPcmRlcikge1xyXG4gICAgICAgIGNvbnN0IHJlc291cmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocmVzb3VyY2VJZCk7XHJcbiAgICAgICAgaWYgKHJlc291cmNlKSB7XHJcbiAgICAgICAgICAgIHJlc291cmNlLnN0eWxlLm9yZGVyID0gbmV3T3JkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtY2xvbmVzXCIsIDEpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXN0aWNrc1wiLCAyKTsgLy8gTW92ZSBcIlN0aWNrc1wiIHRvIG9yZGVyIDJcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS12aW5lc1wiLCAzKTsgLy8gTW92ZSBcIlZpbmVzXCIgdG8gb3JkZXIgM1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXJvY2tzXCIsIDQpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLWZpc2hcIiwgNSk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtZnJlc2h3YXRlclwiLCA2KTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS13b29kXCIsIDcpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLW9yZVwiLCA4KTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1zYW5kXCIsIDkpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLWNsYXlcIiwgMTApO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXdoZWF0XCIsIDExKTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1oaWRlc1wiLCAxMik7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtZ2FtZVwiLCAxMyk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtaGVyYnNcIiwgMTQpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLWJlcnJpZXNcIiwgMTUpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXBvbmRlclwiLCA1MCk7XHJcblxyXG4gICAgcmV0dXJuIHJlc291cmNlRWxlbWVudDtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgdXBkYXRlU2lkZWJhcixcclxuICAgIGluaXRpYWxpemVSZXNvdXJjZVRhZ3MsXHJcbiAgICB1cGRhdGVEaXNwbGF5VmFsdWVcclxufTtcclxuLyoqXHJcbiAqIFVwZGF0ZXMgdGhlIGRpc3BsYXkgdmFsdWUgb2Ygb25lIHJlc291cmNlLCBhIHNwZWNpZmljIHVwZGF0ZVNpZGViYXIoKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF0ZXJpYWxcclxuICovXHJcbmZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlWYWx1ZShtYXRlcmlhbCkge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IHJlc291cmNlc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGAjJHttYXRlcmlhbH1WYWx1ZWApO1xyXG4gICAgY29uc3QgZWxlbWVudEluY3JlYXNlID0gcmVzb3VyY2VzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYCMke21hdGVyaWFsfUluY3JlYXNlUmF0ZWApO1xyXG4gICAgLy8gY29uc3QgY3JhZnRlZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGJ1dHRvbiNjcmFmdCR7Y2FwaXRhbGl6ZUZpcnN0KG1hdGVyaWFsKX1gKTtcclxuICAgIC8vIHRyeSB7IGlmICghZWxlbWVudCkgY3JlYXRlUmVzb3VyY2VUYWcobWF0ZXJpYWwpOyB9XHJcbiAgICAvLyBjYXRjaCAoZXJyb3IpIHsgfVxyXG4gICAgLy8gY29uc29sZS5sb2cobWF0ZXJpYWwsIGVsZW1lbnQsIGNyYWZ0ZWRCdXR0b24pO1xyXG4gICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgbWF4ID0gKGdldE1heChtYXRlcmlhbCkgJiYgZ2V0TWF4KG1hdGVyaWFsKSA8IEluZmluaXR5KSA/IGdldE1heChtYXRlcmlhbCkudG9GaXhlZCgxKSA6ICfiiJ4nO1xyXG4gICAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gYCR7Z2V0TWF0ZXJpYWwobWF0ZXJpYWwpLnRvRml4ZWQoMSl9IC8gJHttYXh9YDtcclxuXHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50SW5jcmVhc2UpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRJbmNyZWFzZS50ZXh0Q29udGVudCA9IGNhbGNJbmNyZWFzZShtYXRlcmlhbCwgMTAwMCkudG9GaXhlZCgxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtYXRlcmlhbCwgc2hvdWxkSGlkZShtYXRlcmlhbCksIGdldE1hdGVyaWFsKG1hdGVyaWFsKSk7XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRIaWRlKG1hdGVyaWFsKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlbGVtZW50LCBtYXRlcmlhbCwgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlc291cmNlc1ttYXRlcmlhbF0pIHtcclxuICAgICAgICAgICAgaWYgKHJlc291cmNlc1ttYXRlcmlhbF0uaXNHZXR0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaWRlYmFyVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzb3VyY2VzXCIpLnF1ZXJ5U2VsZWN0b3IoJyNyZXNvdXJjZS0nICsgbWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgaWYgKHNpZGViYXJUZXh0KSBzaWRlYmFyVGV4dC5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBpZiAoY3JhZnRlZEJ1dHRvbikge1xyXG4gICAgLy8gICAgIGNvbnN0IGNvdW50U3BhbiA9IGNyYWZ0ZWRCdXR0b24ucXVlcnlTZWxlY3RvcihgIyR7bWF0ZXJpYWx9VmFsdWVgKTtcclxuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZygnY3JhZnRlZCBidXR0b24gd2FzIGZvdW5kJywgY291bnRTcGFuLCBtYXRlcmlhbCwgZ2V0Q3JhZnRlZFJlc291cmNlKG1hdGVyaWFsKSk7XHJcbiAgICAvLyAgICAgaWYgKGNvdW50U3BhbikgY291bnRTcGFuLnRleHRDb250ZW50ID0gZ2V0Q3JhZnRlZFJlc291cmNlKG1hdGVyaWFsKS50b0ZpeGVkKDApO1xyXG4gICAgLy8gICAgIGVsc2UgY29uc29sZS53YXJuKGBSZXNvdXJjZSBidXR0b24gZm91bmQgYnV0IG5vIGNvdW50IHNwYW4gZm9yOiAke21hdGVyaWFsfWApO1xyXG4gICAgLy8gfVxyXG59XHJcbiIsImxldCBzdGFnZXMgPSBbXTtcclxuZnVuY3Rpb24gc2V0U3RhZ2Uoc3RhZ2UpIHtcclxuICAgIHN0YWdlcy5wdXNoKHN0YWdlKTtcclxufVxyXG4vKipcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0YWdlIFN0YWdlIHRvIGNoZWNrXHJcbiAqIEByZXR1cm5zIGJvb2xlYW4gaWYgc3RhZ2UgaW4gc3RhZ2VzXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXNzZWRTdGFnZShzdGFnZSkge1xyXG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoc3RhZ2VzKS5pbmNsdWRlcyhzdGFnZSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0QWxsU3RhZ2VzKCkge1xyXG4gICAgcmV0dXJuIHN0YWdlcztcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXRTdGFnZXMoKSB7XHJcbiAgICB3aGlsZSAoc3RhZ2VzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgc3RhZ2VzLnBvcCgpO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgc2V0U3RhZ2UsXHJcbiAgICBwYXNzZWRTdGFnZSxcclxuICAgIGdldEFsbFN0YWdlcyxcclxuICAgIHJlc2V0U3RhZ2VzXHJcbn07IiwiLyogVE9PTFMgKi9cclxuXHJcblxyXG4vLyBMaXN0IHRvIGhvbGQgdGhlIHRvb2xzXHJcbmxldCBwbGF5ZXJUb29scyA9IFsnQmFyZSBIYW5kcyddO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiB0byBjaGVjayBpZiBhIHRvb2wgaXMgcHJlc2VudCBpbiB0aGUgbGlzdCBcclxuICogQHBhcmFtIHtzdHJpbmd9IHRvb2wgXHJcbiAqIEByZXR1cm5zIFxyXG4gKi9cclxuZnVuY3Rpb24gaGFzVG9vbCh0b29sKSB7XHJcbiAgICByZXR1cm4gcGxheWVyVG9vbHMuaW5jbHVkZXModG9vbCk7XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGFkZCBhIHRvb2wgaWYgaXQncyBub3QgYWxyZWFkeSBwcmVzZW50XHJcbmZ1bmN0aW9uIGFkZFRvb2wodG9vbCkge1xyXG4gICAgLy8gSWdub3JlIHRvb2xzIHRoYXQgYXJlIGp1c3QgbnVtYmVyc1xyXG4gICAgaWYgKCFpc05hTih0b29sKSAmJiAvLyB1c2UgdHlwZSBjb2VyY2lvbiB0byBwYXJzZSB0aGUgX2VudGlyZXR5XyBvZiB0aGUgc3RyaW5nIChgcGFyc2VGbG9hdGAgYWxvbmUgZG9lcyBub3QgZG8gdGhpcykuLi5cclxuICAgICAgICAhaXNOYU4ocGFyc2VGbG9hdCh0b29sKSkpIC8vIC4uLmFuZCBlbnN1cmUgc3RyaW5ncyBvZiB3aGl0ZXNwYWNlIGZhaWxcclxuICAgIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIWhhc1Rvb2wodG9vbCkpIHtcclxuICAgICAgICBwbGF5ZXJUb29scy5wdXNoKHRvb2wpO1xyXG5cclxuICAgICAgICB1cGRhdGVUb29sVUkodG9vbCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEFsbFRvb2xzKCkge1xyXG4gICAgcmV0dXJuIHBsYXllclRvb2xzO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVUb29sVUkodG9vbCkge1xyXG4gICAgLy8gVXBkYXRlIHRoZSBVSVxyXG4gICAgdmFyIHVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b29scy1saXN0XCIpO1xyXG4gICAgdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG4gICAgbGkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodG9vbCkpO1xyXG4gICAgaWYgKHVsKSB1bC5hcHBlbmRDaGlsZChsaSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFRvb2xWYWx1ZUZvclJlc291cmNlKHJlc291cmNlKSB7XHJcbiAgICBpZiAoIXJlc291cmNlKSByZXR1cm4gMTtcclxuICAgIGlmICghcmVzb3VyY2UudG9vbHMpIHJldHVybiAxO1xyXG5cclxuICAgIC8vIFNvcnQgdGhlIHRvb2xzIGluIGRlc2NlbmRpbmcgb3JkZXIgYmFzZWQgb24gdGhlaXIgdmFsXHJcbiAgICBjb25zdCBzb3J0ZWRUb29scyA9IHJlc291cmNlLnRvb2xzLnNvcnQoKGEsIGIpID0+IGIudmFsIC0gYS52YWwpO1xyXG5cclxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgc29ydGVkIHRvb2xzXHJcbiAgICBmb3IgKGxldCB0b29sIG9mIHNvcnRlZFRvb2xzKSB7XHJcbiAgICAgICAgaWYgKGhhc1Rvb2wodG9vbC50b29sKSkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgcGxheWVyIGhhcyB0aGUgdG9vbCwgcmV0dXJuIGl0cyBhc3NvY2lhdGVkIHZhbHVlXHJcbiAgICAgICAgICAgIHJldHVybiB0b29sLnZhbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIElmIG5vbmUgb2YgdGhlIHRvb2xzIGFyZSBmb3VuZCwgcmV0dXJuIHRoZSBkZWZhdWx0IHZhbHVlXHJcbiAgICByZXR1cm4gMTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBoYXNUb29sLFxyXG4gICAgYWRkVG9vbCxcclxuICAgIGdldEFsbFRvb2xzLFxyXG4gICAgZ2V0VG9vbFZhbHVlRm9yUmVzb3VyY2VcclxufTsiLCJjb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcblxyXG5cclxuY29uc3QgcmVzb3VyY2VMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc291cmNlTGlzdCcpO1xyXG5jb25zdCBnb2xkQW1vdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29sZEFtb3VudCcpO1xyXG4vLyBsZXQgZ29sZEFtb3VudCA9IDEwMDA7IC8vIFNhbXBsZSBzdGFydGluZyBhbW91bnRcclxuLy8gY29uc3QgdHJhZGVCb251cyA9IDAuOTsgLy8gMTAlIGRpc2NvdW50XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVRyYWRlVGFibGUocmVzb3VyY2VzKSB7XHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgICAgIGNvbnN0IHByaWNlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSArIDEwOyAvLyBSYW5kb20gcHJpY2UgYmV0d2VlbiAxMCBhbmQgMTEwIGZvciB0aGlzIGV4YW1wbGUuXHJcblxyXG4gICAgICAgIHJvdy5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRyYWRldGRcIj4ke3Jlc291cmNlfTwvdGQ+XHJcbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRyYWRldGRcIj4ke3ByaWNlfTwvdGQ+XHJcbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRyYWRldGRcIiBzdHlsZT1cImRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246cm93O1wiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1eUJ0blwiIGRhdGEtcmVzb3VyY2U9XCIke3Jlc291cmNlfVwiIGRhdGEtcHJpY2U9XCIke3ByaWNlfVwiPkJ1eTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNlbGxCdG5cIiBkYXRhLXJlc291cmNlPVwiJHtyZXNvdXJjZX1cIiBkYXRhLXByaWNlPVwiJHtwcmljZX1cIj5TZWxsPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgcmVzb3VyY2VMaXN0LmFwcGVuZENoaWxkKHJvdyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIGJ1eSBhbmQgc2VsbCBidXR0b25zXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnV5QnRuJykuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVzb3VyY2UnKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb25zdCBwcmljZSA9IHBhcnNlRmxvYXQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXByaWNlJykpO1xyXG4gICAgICAgICAgICBidXlSZXNvdXJjZShyZXNvdXJjZSwgcHJpY2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsbEJ0bicpLmZvckVhY2goYnRuID0+IHtcclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJlc291cmNlJyk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc3QgcHJpY2UgPSBwYXJzZUZsb2F0KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wcmljZScpKTtcclxuICAgICAgICAgICAgc2VsbFJlc291cmNlKHJlc291cmNlLCBwcmljZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTaW1pbGFybHksIHlvdSBjYW4gYWRkIGV2ZW50IGxpc3RlbmVycyBmb3Igc2VsbCBidXR0b25zIGhlcmVcclxufVxyXG5cclxuZXhwb3J0cy5nZW5lcmF0ZVRyYWRlVGFibGUgPSBnZW5lcmF0ZVRyYWRlVGFibGU7XHJcblxyXG5leHBvcnRzLmJ1eVJlc291cmNlID0gYnV5UmVzb3VyY2U7XHJcbmV4cG9ydHMuc2VsbFJlc291cmNlID0gc2VsbFJlc291cmNlO1xyXG5cclxuZnVuY3Rpb24gYnV5UmVzb3VyY2UocmVzb3VyY2UsIHByaWNlKSB7XHJcblxyXG4gICAgaWYgKGdldE1hdGVyaWFsKCdnb2xkJywgcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpLnJlc291cmNlcykgPj0gcHJpY2UpIHtcclxuICAgICAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLmluY3JlYXNlTWF0ZXJpYWwoJ2dvbGQnLCAtcHJpY2UpO1xyXG4gICAgICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuaW5jcmVhc2VNYXRlcmlhbChyZXNvdXJjZSwgcHJpY2UpO1xyXG4gICAgICAgIGdvbGRBbW91bnRFbC50ZXh0Q29udGVudCA9IGdldE1hdGVyaWFsKCdnb2xkJywgcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpLnJlc291cmNlcyk7XHJcbiAgICAgICAgLy8gYWxlcnQoYFlvdSBib3VnaHQgJHtyZXNvdXJjZX0gZm9yICR7cHJpY2UudG9GaXhlZCgyKX0gZ29sZCFgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gYWxlcnQoXCJZb3UgZG9uJ3QgaGF2ZSBlbm91Z2ggZ29sZCFcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlbGxSZXNvdXJjZShyZXNvdXJjZSwgcHJpY2UpIHtcclxuICAgIGlmIChnZXRNYXRlcmlhbChyZXNvdXJjZSwgcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpLnJlc291cmNlcykgPj0gMSkge1xyXG5cclxuICAgICAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLmluY3JlYXNlTWF0ZXJpYWwoJ2dvbGQnLCBwcmljZSk7XHJcbiAgICAgICAgcmVxdWlyZSgnLi9yZXNvdXJjZXMnKS5pbmNyZWFzZU1hdGVyaWFsKHJlc291cmNlLCAtMSk7XHJcbiAgICAgICAgZ29sZEFtb3VudEVsLnRleHRDb250ZW50ID0gZ2V0TWF0ZXJpYWwoJ2dvbGQnLCByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJykucmVzb3VyY2VzKTtcclxuICAgIH1cclxuICAgIC8vIGFsZXJ0KGBZb3Ugc29sZCAke3Jlc291cmNlfSBmb3IgJHtwcmljZS50b0ZpeGVkKDIpfSBnb2xkIWApO1xyXG59IiwiZnVuY3Rpb24gdHJpZ2dlckZsb2F0VXBUZXh0KHgsIHksIHRleHQsIGNvbG9yKSB7XHJcbiAgICBjb25zdCBmbG9hdFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGZsb2F0VGV4dC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICBmbG9hdFRleHQuc3R5bGUubGVmdCA9IGAke3h9cHhgO1xyXG4gICAgZmxvYXRUZXh0LnN0eWxlLnRvcCA9IGAke3kgLSAzMH1weGA7XHJcbiAgICBmbG9hdFRleHQuc3R5bGUuY29sb3IgPSBjb2xvcjtcclxuICAgIGZsb2F0VGV4dC5jbGFzc0xpc3QuYWRkKCdmbG9hdC11cC1mYWRlLW91dCcpO1xyXG5cclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZmxvYXRUZXh0KTtcclxuXHJcbiAgICAvLyBSZW1vdmUgdGhlIGVsZW1lbnQgZnJvbSB0aGUgRE9NIGFmdGVyIHRoZSBhbmltYXRpb24gY29tcGxldGVzXHJcbiAgICBmbG9hdFRleHQuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKCkgPT4ge1xyXG4gICAgICAgIGZsb2F0VGV4dC5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG59XHJcbmV4cG9ydHMudHJpZ2dlckZsb2F0VXBUZXh0ID0gdHJpZ2dlckZsb2F0VXBUZXh0O1xyXG4iLCJjb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKFwiLi9nZXRNYXRlcmlhbFwiKTtcclxuY29uc3QgeyBnZXRNYXggfSA9IHJlcXVpcmUoXCIuL2hlbHBlclwiKTtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUJvdW5jZUFuaW1hdGlvbigpIHtcclxuICAgIGNvbnN0IGFsb25lRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbG9uZScpO1xyXG5cclxuICAgIGlmIChnZXRNYXRlcmlhbCgnY2xvbmVzJykgPCBnZXRNYXgoJ2Nsb25lcycpKSB7XHJcbiAgICAgICAgLy8gQXBwbHkgdGhlIGFuaW1hdGlvblxyXG4gICAgICAgIGFsb25lRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdib3VuY2luZycpO1xyXG5cclxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgYW5pbWF0aW9uIHRvIGNvbXBsZXRlIHBsdXMgYW4gYWRkaXRpb25hbCBkZWxheSwgdGhlbiBjaGVjayB0aGUgY29uZGl0aW9uIGFnYWluXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgYW5pbWF0aW9uIGNsYXNzIHRvIHJlc2V0XHJcbiAgICAgICAgICAgIGFsb25lRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdib3VuY2luZycpO1xyXG4gICAgICAgICAgICB2b2lkIGFsb25lRWxlbWVudC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZSBjYWxsIHRvIHJlLWNoZWNrIHRoZSBjb25kaXRpb24gYW5kIHBvdGVudGlhbGx5IHJlYXBwbHkgdGhlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICB1cGRhdGVCb3VuY2VBbmltYXRpb24oKTtcclxuICAgICAgICB9LCAxMTAwMCk7IC8vIFdhaXQgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uICgxcykgKyBkZWxheSAoMTBzKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBSZW1vdmUgdGhlIGFuaW1hdGlvbiBjbGFzcyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXRcclxuICAgICAgICBhbG9uZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYm91bmNpbmcnKTtcclxuICAgIH1cclxuXHJcbn1cclxuZXhwb3J0cy51cGRhdGVCb3VuY2VBbmltYXRpb24gPSB1cGRhdGVCb3VuY2VBbmltYXRpb247IiwiY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vY2FwaXRhbGl6ZUZpcnN0Jyk7XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50KGJ1aWxkaW5nTmFtZSwgYnVpbGRpbmdDb3VudCkge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7YnVpbGRpbmdOYW1lfWApLnRleHRDb250ZW50ID0gYCR7Y2FwaXRhbGl6ZUZpcnN0KGJ1aWxkaW5nTmFtZSkuc3BsaXQoJ18nKS5qb2luKCcgJyl9ICgke2J1aWxkaW5nQ291bnR9KWA7XHJcblxyXG59XHJcbmV4cG9ydHMudXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCA9IHVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQ7IiwiY29uc3QgeyBidWlsZGluZ3MgfSA9IHJlcXVpcmUoJy4vanNvbi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyB1cGRhdGVUb29sdGlwLCBoaWRlVG9vbHRpcCB9ID0gcmVxdWlyZSgnLi91cGRhdGVUb29sdGlwJyk7XHJcbmNvbnN0IHsgZml0Q2hhclRvQ2VsbCB9ID0gcmVxdWlyZSgnLi9maXRDaGFyVG9DZWxsJyk7XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVCdWlsZGluZ0xpc3QoKSB7XHJcbiAgICBjb25zdCBidWlsZGluZ0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVpbGRpbmdMaXN0Jyk7XHJcbiAgICBidWlsZGluZ0xpc3QuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICBjb25zdCBncmlkU2l6ZSA9IDY7XHJcbiAgICBjb25zdCBtYXhDZWxsV2lkdGggPSAzNjtcclxuICAgIGNvbnN0IG1heENlbGxIZWlnaHQgPSA0ODtcclxuICAgIGNvbnN0IGluaXRpYWxGb250U2l6ZSA9IDM2OyAvLyBzdGFydGluZyBmb250IHNpemVcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmdzKSkge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdmFsLmNvdW50OyArK2osICsraSkge1xyXG4gICAgICAgICAgICBsZXQgY29sID0gKGkgJSBncmlkU2l6ZSArIDEpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGxldCByb3cgPSBNYXRoLmZsb29yKGkgLyBncmlkU2l6ZSArIDEpLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGJlc3QgZm9udCBzaXplIGZvciB0aGlzIGNoYXJhY3RlclxyXG4gICAgICAgICAgICAvLyBjb25zdCBmb250U2l6ZSA9IGZpdENoYXJUb0NlbGwodmFsLmVtb2ppIHx8ICc/JywgbWF4Q2VsbFdpZHRoLCBtYXhDZWxsSGVpZ2h0LCBpbml0aWFsRm9udFNpemUpO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBzcGFuIHdpdGggdGhlIGNhbGN1bGF0ZWQgZm9udCBzaXplXHJcbiAgICAgICAgICAgIGJ1aWxkaW5nTGlzdC5pbm5lckhUTUwgKz0gYDxzcGFuIGNsYXNzID0gJ3Rvb2x0aXAnIHN0eWxlPSdncmlkLWNvbHVtbjoke2NvbH07IGdyaWQtcm93OiR7cm93fTsgZm9udC1zaXplOiR7aW5pdGlhbEZvbnRTaXplfXB4JyB0b29sdGlwRGVzYz0nJHtrZXl9Jz4ke3ZhbC5lbW9qaSB8fCAnPyd9PC9zcGFuPmA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYnVpbGRpbmdMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4udG9vbHRpcCcpLmZvckVhY2goKHNwYW4pID0+IHtcclxuICAgICAgICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoc3Bhbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3Bhbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBoaWRlVG9vbHRpcCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0cy51cGRhdGVCdWlsZGluZ0xpc3QgPSB1cGRhdGVCdWlsZGluZ0xpc3Q7IiwiY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKCcuL2pzb24vYnV0dG9ucycpO1xyXG5jb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZUNvbmZpZ0J5SWQgfSA9IHJlcXVpcmUoJy4vanNvbi9jcmFmdGVkUmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgZ2V0QnVpbGRpbmdDb3VudCB9ID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpO1xyXG5jb25zdCB7IGlzUG9uZGVyZWQsIGNhblVubG9jayB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2VLZXlCeUNvbmZpZyB9ID0gcmVxdWlyZShcIi4vanNvbi9jcmFmdGVkUmVzb3VyY2VzXCIpO1xyXG5jb25zdCB7IGlzQnV0dG9uSWRWaXNpYmxlLCBzZXRWaXNpYmxlQnV0dG9uIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IGNhbkNyYWZ0IH0gPSByZXF1aXJlKCcuL2NhbkNyYWZ0Jyk7XHJcbmNvbnN0IHsgY2FuQnV5QnVpbGRpbmcgfSA9IHJlcXVpcmUoJy4vY2FuQnV5QnVpbGRpbmcnKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZSgnLi9zdGFnZXMnKTtcclxuLyoqXHJcbiAqIENoYW5nZXMgdGhlIHN0YXRlcyBvZiBidXR0b25zIGJldHdlZW4gJ2hpZGRlbicsICdwdXJjaGFzYWJsZScsIGFuZCAnYnV0dG9uLWRpc2FibGVkJ1xyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSgpIHtcclxuICAgIGNvbnN0IHNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKTsgLy8gQWRqdXN0IHRoZSBzZWxlY3RvciBhY2NvcmRpbmdseVxyXG5cclxuICAgIHNlbGVjdEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbmZpZyA9IGJ1dHRvbnNbYnV0dG9uLmlkXTsgLyogZ2V0IHRoZSBidXR0b24ncyBjb25maWd1cmF0aW9uIHVzaW5nIGl0cyBkYXRhIGF0dHJpYnV0ZSBvciBJRCwgZXRjLiAqLztcclxuICAgICAgICBpZiAoIWJ1dHRvbkNvbmZpZykgeyAvKmNvbnNvbGUud2Fybignbm8gYnV0dG9uIGNvbmZpZyBmb3VuZCBmb3InLCBidXR0b24sIGJ1dHRvbi5pZCk7ICovcmV0dXJuOyB9XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcsIGJ1dHRvbkNvbmZpZy5yZXF1aXJlbWVudCk7XHJcbiAgICAgICAgLy8gUmVzZXQgYWxsIHN0YXRlcyBmaXJzdFxyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncHVyY2hhc2FibGUnLCAnYnV0dG9uLWRpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZSA9ICdoaWRkZW4nO1xyXG5cclxuICAgICAgICBpZiAoYnV0dG9uLmlkICYmIGlzQnV0dG9uSWRWaXNpYmxlKGJ1dHRvbi5pZCkpIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG4gICAgICAgIC8vIElmIHJlcXVpcmVtZW50IGlzIG1ldCwgaXQgc2hvdWxkIGJlIHZpc2libGVcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBsZXQgZ2V0TWF0ZXJpYWwgPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJykuZ2V0TWF0ZXJpYWw7XHJcbiAgICAgICAgICAgIGlmIChidXR0b25Db25maWcucmVxdWlyZW1lbnQgJiYgYnV0dG9uQ29uZmlnLnJlcXVpcmVtZW50KCkpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgcHVyY2hhc2FibGUgZ2F0aGVyIGJ1dHRvbnNcclxuICAgICAgICAgICAgICAgIGlmIChidXR0b25Db25maWcudGFiICYmICFidXR0b25Db25maWcuZGF0YV9idWlsZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgPT09ICdwcm9kdWN0aW9uJykgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHBvbmRlciBidXR0b25cclxuICAgICAgICAgICAgICAgIGlmIChidXR0b24uaWQgJiYgYnV0dG9uLmlkID09PSAnZ2F0aGVyUG9uZGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBwb25kZXIgdW5sb2Nrc1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgJiYgYnV0dG9uQ29uZmlnLnRhYiA9PT0gJ3BvbmRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24uY2xhc3NMaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmlkICYmIGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3VubG9jaycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5VbmxvY2soYnV0dG9uLmlkKSkgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIHBvbmRlciBidXR0b24gaXMgdW5sb2NrZWQsIGhpZGUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoYnV0dG9uLmdldEF0dHJpYnV0ZSgndW5sb2NrJykpKSBzdGF0ZSA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24sIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdGFiIGJ1dHRvbnMgYWx3YXlzIGVpdGhlciBoaWRkZW4gb3IgZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgJiYgYnV0dG9uQ29uZmlnLnRhYiA9PT0gJ3RhYnMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAndmlzaWJsZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKCdFcnJvciB3aXRoIGNoZWNraW5nIHJlcXVpcmVtZW50IG9mIGJ1dHRvbjogJywgYnV0dG9uQ29uZmlnLCBlcnIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5pZCAmJiBidXR0b25Db25maWcuaWQuc2xpY2UoMCwgNSkgPT09ICdjcmFmdCcpIHtcclxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZW4ndCB1bmxvY2tlZCB0aGUgYnV0dG9uLCBuZXZlciBkaXNwbGF5IGl0XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkNvbmZpZy5yZXF1aXJlZFN0YWdlKTtcclxuICAgICAgICAgICAgLy8gaWYgKGJ1dHRvbkNvbmZpZy5yZXF1aXJlZFN0YWdlICYmICFwYXNzZWRTdGFnZShidXR0b25Db25maWcucmVxdWlyZWRTdGFnZSkpIHtcclxuICAgICAgICAgICAgLy8gICAgIHN0YXRlID0gJ2hpZGRlbic7XHJcblxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIG5ldmVyIGhpZGUgdGhpcyBidXR0b24gb25jZSBpdHMgYmVlbiB1bmxvY2tlZFxyXG4gICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLmNyYWZ0ZWRPbmNlKSBzdGF0ZSA9ICdidXR0b24tZGlzYWJsZWQnO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBjcmFmdGVkID0gZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZChidXR0b25Db25maWcuaWQpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjcmFmdGVkKTtcclxuICAgICAgICAgICAgaWYgKGNyYWZ0ZWQudmFsdWUgPiAwKSBzdGF0ZSA9ICdidXR0b24tZGlzYWJsZWQnO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UgY2FuIGFmZm9yZCB0aGlzIGNyYWZ0LCBpdCBzaG91bGQgYmUgcHVyY2hhc2FibGVcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWcoY3JhZnRlZCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGtleSk7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBpZiAoY2FuQ3JhZnQoa2V5KSlcclxuICAgICAgICAgICAgICAgIGlmICghYnV0dG9uQ29uZmlnLnJlcXVpcmVkU3RhZ2UgfHwgYnV0dG9uQ29uZmlnLnJlcXVpcmVkU3RhZ2UgJiYgcGFzc2VkU3RhZ2UoYnV0dG9uQ29uZmlnLnJlcXVpcmVkU3RhZ2UpKSBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHN0YXRlID0gJ2hpZGRlbic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB3ZSBjYW4gYWZmb3JkIHRoaXMgYnVpbGRpbmcsIGl0IHNob3VsZCBiZSBwdXJjaGFzYWJsZVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkNvbmZpZyk7XHJcbiAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5kYXRhX2J1aWxkaW5nKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgcHVyY2hhc2VkIGEgYnVpbGRpbmcsIGl0IHNob3VsZCBiZSB2aXNpYmxlXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBzdGF0ZSA9IGdldEJ1aWxkaW5nQ291bnQoYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcpID8gJ2J1dHRvbi1kaXNhYmxlZCcgOiBzdGF0ZTtcclxuICAgICAgICAgICAgLy8gRmluZCB0aGUgYnVpbGRpbmcgY29zdFxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b25Db25maWcpO1xyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgc3RhdGUgPSBjYW5CdXlCdWlsZGluZyhidXR0b25Db25maWcuZGF0YV9idWlsZGluZykgPyAncHVyY2hhc2FibGUnIDogc3RhdGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBoaWRkZW4gaXMgbWV0LCBpdCBzaG91bGQgYmUgaGlkZGVuXHJcbiAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5oaWRlKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gYnV0dG9uQ29uZmlnLmhpZGUoKSA/ICdoaWRkZW4nIDogc3RhdGU7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBjdXJyZW50IHN0YXRlXHJcbiAgICAgICAgaWYgKHN0YXRlICE9PSAnJykgYnV0dG9uLmNsYXNzTGlzdC5hZGQoc3RhdGUpO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgc3RhdGUgaXMgbm90LXB1cmNoYXNhYmxlLCBkaXNhYmxlIHRoZSBidXR0b25cclxuICAgICAgICAvLyBidXR0b24uZGlzYWJsZWQgPSBzdGF0ZSA9PT0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB0b29sdGlwIGZvciB0aGlzIGJ1dHRvbiBpZiBpdHMgYWN0aXZlXHJcbiAgICAgICAgLy8gaWYgKGJ1dHRvbiA9PT0gY3VycmVudEhvdmVyQnV0dG9uKSB1cGRhdGVUb29sdGlwKGJ1dHRvbik7XHJcbiAgICAgICAgLy8gSWYgdGhlIHN0YXRlIGlzIGhpZGRlbiwgc2V0IHRoZSBidXR0b24ncyBkaXNwbGF5IHRvIG5vbmVcclxuICAgICAgICBpZiAoc3RhdGUgPT09ICdoaWRkZW4nKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdoaWRpbmcnLCBidXR0b24pO1xyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxsIHZpc2libGUgJywgYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgc2V0VmlzaWJsZUJ1dHRvbihidXR0b24uaWQpO1xyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICcnOyAvLyBUaGlzIHdpbGwgcmV2ZXJ0IGl0IGJhY2sgdG8gaXRzIG9yaWdpbmFsIGRpc3BsYXkgc3RhdGUgb3IgZGVmYXVsdCAoZS5nLiwgJ2Jsb2NrJyBvciAnaW5saW5lLWJsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9iLWJ1dHRvbicpLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgICBjb25zdCBqb2IgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWpvYicpO1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncHVyY2hhc2FibGUnLCAnYnV0dG9uLWRpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgY29uc3QgcmVxUG9uZGVyID0gKHJlcXVpcmUoJy4vam9iUmVxdWlyZWRQb25kZXJzJykuam9iUmVxdWlyZWRQb25kZXJzKVtqb2JdO1xyXG4gICAgICAgIGlmIChyZXFQb25kZXIgPT09IG51bGwgfHwgcmVxUG9uZGVyID09PSB1bmRlZmluZWQpIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICBlbHNlIGlmIChpc1BvbmRlcmVkKHJlcVBvbmRlcikpIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICBlbHNlIGlmIChyZXFQb25kZXIgPT09ICdub3QtdW5sb2NrYWJsZScpIHN0YXRlID0gJ2hpZGRlbic7XHJcbiAgICAgICAgZWxzZSBzdGF0ZSA9ICdidXR0b24tZGlzYWJsZWQnO1xyXG5cclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coam9iLCBidXR0b24sIHJlcVBvbmRlciwgc3RhdGUpO1xyXG4gICAgICAgIC8vIGJ1dHRvbi5jbGFzc0xpc3QuXHJcbiAgICAgICAgaWYgKHN0YXRlID09PSAnaGlkZGVuJykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaGlkaW5nJywgYnV0dG9uKTtcclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsbCB2aXNpYmxlICcsIGJ1dHRvbi5pZCk7XHJcbiAgICAgICAgICAgIHNldFZpc2libGVCdXR0b24oYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoc3RhdGUpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJyc7IC8vIFRoaXMgd2lsbCByZXZlcnQgaXQgYmFjayB0byBpdHMgb3JpZ2luYWwgZGlzcGxheSBzdGF0ZSBvciBkZWZhdWx0IChlLmcuLCAnYmxvY2snIG9yICdpbmxpbmUtYmxvY2snKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmV4cG9ydHMudXBkYXRlQnV0dG9uVmlzaWJpbGl0eSA9IHVwZGF0ZUJ1dHRvblZpc2liaWxpdHk7IiwiY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIik7XHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZShcIi4vanNvbi9wb25kZXJcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzLCBnZXRSZXNvdXJjZUNvbmZpZ0J5SWQgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBjYWxjU2Vjb25kc1JlbWFpbmluZyB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBnZXRNYXggfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmNvbnN0IHRvb2x0aXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHluYW1pYy10b29sdGlwJyk7XHJcbmZ1bmN0aW9uIHNob3dUb29sdGlwKHRhcmdldCwgZGVzYywgZWZmZWN0LCBjb3N0KSB7XHJcbiAgICBsZXQgY29udGVudCA9ICcnO1xyXG5cclxuICAgIGlmIChkZXNjKSB7XHJcbiAgICAgICAgY29udGVudCArPSBgPHNwYW4gPiR7ZGVzY308L3NwYW4+PGhyPmA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVmZmVjdCkge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gYDxzcGFuIHN0eWxlPVwiY29sb3I6IzRjZlwiPiR7ZWZmZWN0fTwvc3Bhbj48aHI+YDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29zdCkge1xyXG4gICAgICAgIC8vIGNvbnRlbnQgKz0gYDxzcGFuIHN0eWxlPVwiY29sb3I6I0Y0RDAzRlwiPiR7Y29zdH08L3NwYW4+PGJyPmA7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHN0ciA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFttYXRlcmlhbCwgYW1vdW50XSBvZiBPYmplY3QuZW50cmllcyhjb3N0KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgbWF0ZXJpYWwgPSByZXE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNFbm91Z2ggPSBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSA+PSBhbW91bnQ7IC8qIFlvdXIgbG9naWMgdG8gY2hlY2sgaWYgdGhlcmUncyBlbm91Z2ggb2YgdGhlIG1hdGVyaWFsICovLyogWW91ciBsb2dpYyB0byBjaGVjayBpZiB0aGVyZSdzIGVub3VnaCBvZiB0aGUgbWF0ZXJpYWwgKi87XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JDbGFzcyA9IGhhc0Vub3VnaCA/ICdlbm91Z2gnIDogJ25vdC1lbm91Z2gnO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdldE1heChtYXRlcmlhbCkgPCBhbW91bnQpIGNvbG9yQ2xhc3MgPSAnZXhjZWVkcy1tYXgnO1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGA8c3BhbiBjbGFzcz1cInRvb2x0aXAtJHttYXRlcmlhbH0gJHtjb2xvckNsYXNzfVwiPiR7YW1vdW50LnRvRml4ZWQoMCl9ICR7bWF0ZXJpYWx9PC9zcGFuPmA7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZHNSZW1haW5pbmcgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1ttYXRlcmlhbF0pIHNlY29uZHNSZW1haW5pbmcgPSBjYWxjU2Vjb25kc1JlbWFpbmluZyhtYXRlcmlhbCwgYW1vdW50KTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNlY29uZHNSZW1haW5pbmcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZHNSZW1haW5pbmcgPiAwICYmIGNvbG9yQ2xhc3MgIT0gJ2V4Y2VlZHMtbWF4JykgeyBzdHIgKz0gYDxzcGFuIGNsYXNzPVwidGltZS1yZW1haW5pbmdcIj4oJHsoc2Vjb25kc1JlbWFpbmluZykudG9GaXhlZCgwKX0gc2Vjb25kcyk8L3NwYW4+YDsgfVxyXG4gICAgICAgICAgICAgICAgc3RyICs9IGA8YnI+YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250ZW50ICs9IHN0cjtcclxuXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gY29zdDtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihcIkNvdWxkbid0IG1ha2Ugbm9ybWFsIGNvc3QgZm9yIGJ1dHRvbjogXCIsIHRhcmdldCwgY29zdCwgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKHRhcmdldCwgY29udGVudCk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSAodGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0ICsgNSkgKyAncHgnO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdG9vbHRpcC5zdHlsZS50b3AgPSAodGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIHRvb2x0aXAub2Zmc2V0SGVpZ2h0IC8gMikgKyAncHgnO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxufVxyXG5cclxuZnVuY3Rpb24gaGlkZVRvb2x0aXAoKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbn1cclxuZXhwb3J0cy5oaWRlVG9vbHRpcCA9IGhpZGVUb29sdGlwO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlVG9vbHRpcChidXR0b24pIHtcclxuICAgIGNvbnN0IGRlc2MgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycpIHx8IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBEZXNjJyk7XHJcbiAgICBjb25zdCBlZmZlY3QgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZWZmZWN0Jyk7XHJcbiAgICAvLyBjb25zdCBjb3N0ID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnKTtcclxuICAgIGNvbnN0IGNvbmZpZyA9IGdldFJlc291cmNlQ29uZmlnQnlJZChidXR0b24uaWQpIHx8IGdldENyYWZ0ZWRSZXNvdXJjZUNvbmZpZ0J5SWQoYnV0dG9uLmlkKSB8fCBidWlsZGluZ3NbYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YV9idWlsZGluZycpXSB8fCBwb25kZXJzW2J1dHRvbi5nZXRBdHRyaWJ1dGUoJ3VubG9jaycpXTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGNvbmZpZyk7XHJcbiAgICBjb25zdCBjb3N0ID0gKGNvbmZpZyAmJiBjb25maWcuY29zdCkgfHwgYnV0dG9uLmdldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnKSB8fCBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcpO1xyXG4gICAgc2hvd1Rvb2x0aXAoYnV0dG9uLCBkZXNjLCBlZmZlY3QsIGNvc3QpO1xyXG59XHJcbmV4cG9ydHMudXBkYXRlVG9vbHRpcCA9IHVwZGF0ZVRvb2x0aXA7XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODA4KTtcbiJdLCJuYW1lcyI6WyJhdGVGaXNoIiwibW9kdWxlIiwiZXhwb3J0cyIsInNldEF0ZUZpc2giLCJib29sIiwiZ2V0QXRlRmlzaCIsImJ1aWxkaW5ncyIsImlzUG9wQnVpbGRpbmciLCJidXR0b25zIiwicmVzb3VyY2VzIiwiaW5jcmVhc2VNYXRlcmlhbCIsImluY3JlYXNlTWF4IiwidXBkYXRlVG90YWwiLCJoYXNQZXJrIiwiZ2V0TWF0ZXJpYWwiLCJwYXNzZWRTdGFnZSIsInJlY2FsY01heENsb25lcyIsInVwZGF0ZVNpZGViYXIiLCJ1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50IiwicmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QiLCJjYW5CdXlCdWlsZGluZyIsImlzUG9uZGVyZWQiLCJ1cGRhdGVCdWlsZGluZ0xpc3QiLCJidXlCdWlsZGluZyIsImJ1aWxkaW5nTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJidWlsZGluZyIsImNvdW50IiwicmVzb3VyY2UiLCJjb3N0IiwiYW1vdW50IiwiT2JqZWN0IiwiZW50cmllcyIsImVmZmVjdHMiLCJnZW5lcmF0ZUJ1aWxkaW5nVG9vbHRpcENvc3QiLCJtYXAiLCJtYXRlcmlhbCIsInRvRml4ZWQiLCJqb2luIiwiY3JlYXRlQnVpbGRpbmdCdXR0b24iLCJidWlsZGluZ0tleSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImJhc2Vjb3N0IiwiY29zdHMiLCJyZXF1aXJlbWVudEZ1bmN0aW9uIiwiY29zdENvbmRpdGlvbiIsImV2ZXJ5IiwiTWF0aCIsImZsb29yIiwiY3JlYXRlUmVxdWlyZW1lbnRGdW5jdGlvbiIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJ0b29sdGlwRGVzYyIsImJ1eU1heEJ1aWxkaW5ncyIsImkiLCJnZW5lcmF0ZUVmZmVjdFN0cmluZyIsImVmZmVjdFBhcnRzIiwidmFsdWUiLCJwdXNoIiwiYm9vc3QiLCJwZXJjZW50YWdlQm9vc3QiLCJyb3VuZCIsImNyYWZ0ZWRSZXNvdXJjZXMiLCJza2lsbHMiLCJnZXRXb3JrZXJzIiwiZ2V0RmFjdG9yeVByb2R1Y3Rpb24iLCJoYXNQcmVzdGlnZSIsImdldExldmVsT2ZQcmVzdGlnZSIsImhhc1Rvb2wiLCJjYWxjSW5jcmVhc2UiLCJyZXNvdXJjZU5hbWUiLCJkZWx0YV90aW1lIiwidG90YWwiLCJoYXNPd25Qcm9wZXJ0eSIsImlzR2V0dGluZyIsImNsb25lTXVsdCIsInNraWxsIiwiYWZmZWN0ZWRSZXNvdXJjZXMiLCJpbmNsdWRlcyIsInNraWxsUmF0aW8iLCJwb3ciLCJsZXZlbCIsImtleXMiLCJib29zdERhdGEiLCJpbmNyZWFzZSIsInBhcnNlRmxvYXQiLCJjYW5CdXkiLCJjYW5DcmFmdCIsInJlc291cmNlS2V5IiwicmVxdWlyZW1lbnRzIiwibWF0IiwiZXJyIiwid2FybiIsImNhcGl0YWxpemVGaXJzdCIsInN0ciIsInN3aXRjaGVkTWFudWZhY3R1cmVkTWFwIiwiYWxsTWF0ZXJpYWxzIiwiZm9yRWFjaCIsInIiLCJhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmciLCJhY3RpdmVGYWN0b3JpZXNDb25zdW1pbmciLCJjcmVhdGVGYWN0b3J5RGl2IiwiQXJyYXkiLCJmcm9tIiwiZmFjdG9yaWVzQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImZhY3RvcnlEaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwibGVmdFRleHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyaWdodFNlbGVjdCIsIm9wdGlvbiIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJhZGRFdmVudExpc3RlbmVyIiwiY3VycmVudFByb2R1Y2VkIiwidGhpcyIsImdldEF0dHJpYnV0ZSIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImNvbG9yIiwibmV3UHJvZHVjZWQiLCJvbGRQcm9kdWNlZCIsImZhY3RvcnlJbmRleCIsInVwZGF0ZUZhY3RvcnlSZXNvdXJjZVRyYWNraW5nIiwiZGF0YXNldCIsImlubmVySFRNTCIsImFycm93Iiwic2VsZWN0RWxlbWVudCIsInRleHQiLCJpbml0aWFsT3B0aW9uIiwiZGlzYWJsZWQiLCJzZWxlY3RlZCIsImFkZEluaXRpYWxPcHRpb24iLCJtYW51ZmFjdHVyZUJ1bGsiLCJidWxrVXBncmFkZUNvc3QiLCJuZXdGYWN0b3J5U2lsdmVyQ29zdCIsImF0dGVtcHRNYW51ZmFjdHVyZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmYWN0b3J5IiwiZ29hbFJlc291cmNlIiwiYXJyIiwibnVtIiwibWluIiwibWFudWZhY3R1cmUiLCJidXlGYWN0b3J5IiwiYnV5RmFjdG9yeUJ1dHRvbiIsInVwZ3JhZGVCdWxrIiwibG9hZEZhY3RvcnkiLCJjcmFmdGluZyIsImRpdiIsImZpdENoYXJUb0NlbGwiLCJjaGFyIiwiY2VsbFdpZHRoIiwiY2VsbEhlaWdodCIsImluaXRpYWxGb250U2l6ZSIsInNwYW4iLCJmb250U2l6ZSIsInBvc2l0aW9uIiwid2hpdGVTcGFjZSIsInZpc2liaWxpdHkiLCJib2R5IiwiY3VycmVudEZvbnRTaXplIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJyZW1vdmVDaGlsZCIsImdldENyYWZ0ZWRSZXNvdXJjZSIsInRvTG93ZXJDYXNlIiwiaXNSZXNvdXJjZSIsInRyaWdnZXJGbG9hdFVwVGV4dCIsImFsbFZpc2libGVCdXR0b25zIiwiU2V0IiwiaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSIsInBvcHVsYXRlU2tpbGxzVGFibGUiLCJ0YWJsZSIsImV4cCIsImRpc3BsYXkiLCJwcm9ncmVzc0JhciIsIndpZHRoIiwidHIiLCJpZCIsInRkUHJvZ3Jlc3MiLCJoZWlnaHQiLCJza2lsbFRleHQiLCJsZWZ0IiwidG9wIiwidHJhbnNmb3JtIiwiZ2V0TWF4IiwibWF4IiwiSW5maW5pdHkiLCJ1cGRhdGVTa2lsbHMiLCJhYnMiLCJsZXZlbHVwIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIngiLCJ5IiwiY2FsY0NyYWZ0Qm9udXMiLCJpc0J1dHRvbklkVmlzaWJsZSIsImhhcyIsInNldFZpc2libGVCdXR0b24iLCJjbGVhclNpZGViYXIiLCJqb2JDb3VudHMiLCJqb2JzVGFiIiwiZ2V0VG90YWxKb2JzIiwiaiIsImpvYkRpdiIsImRlY3JlbWVudERpdiIsImpvYk5hbWVTcGFuIiwiaW5jcmVtZW50RGl2IiwiYnRuIiwiZXZlbnQiLCJqb2JUeXBlIiwiY2xvc2VzdCIsInBhZ2VYIiwicGFnZVkiLCJzaGlmdEtleSIsImRpZmZlcmVuY2UiLCJkaXN0cmlidXRlV29ya2VycyIsInVwZGF0ZURpc3BsYXkiLCJudW1Xb3JrZXJzIiwid29ya2Vyc0Rpc3RyaWJ1dGlvbiIsIk1hcCIsInRvdGFsV29ya2VycyIsImZpbHRlciIsIm51bWJlck9mUmVzb3VyY2VzIiwibGVuZ3RoIiwicGVyUmVzb3VyY2UiLCJzZXQiLCJtb3ZlQmFsbEZyb21Kb2JUb1Jlc291cmNlIiwicmVtYWluaW5nV29ya2VycyIsImdldCIsImFmZmVjdGVkUmVzb3VyY2UiLCJqb2JCdXR0b24iLCJmaW5kIiwicmVzb3VyY2VEaXNwbGF5Iiwiam9iQnV0dG9uUmVjdCIsInJlc291cmNlUmVjdCIsImJhbGwiLCJib3JkZXJSYWRpdXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvcGFjaXR5Iiwid2luZG93Iiwic2Nyb2xsWCIsInNjcm9sbFkiLCJhbmltYXRlIiwiZHVyYXRpb24iLCJlYXNpbmciLCJvbmZpbmlzaCIsInRoaXNKb2JCdXR0b24iLCJqb2JFbGVtZW50IiwiY29ubmVjdGlvbnMiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0xpbmUiLCJzdGFydEVsZW1lbnQiLCJlbmRYIiwiZW5kWSIsInN0YXJ0WCIsInN0YXJ0WSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImNvbnRleHQiLCJmcm9tWCIsImZyb21ZIiwidG9YIiwidG9ZIiwicmFkaXVzIiwiYW5nbGUiLCJ4X2NlbnRlciIsInlfY2VudGVyIiwiYXRhbjIiLCJjb3MiLCJzaW4iLCJQSSIsImNsb3NlUGF0aCIsImZpbGwiLCJkcmF3QXJyb3doZWFkIiwic3dpdGNoSm9iIiwib2xkSm9iSWQiLCJuZXdKb2JJZCIsIndvcmtlcnMiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjbGVhckpvYkFzc2lnbm1lbnRzIiwiY2xlYXJSZWN0IiwicmVhc3NpZ25Kb2JzQmFzZWRPblJlc291cmNlcyIsInVuZGVmaW5lZCIsImRhdGFKb2IiLCJvbGRJZCIsInJlcGxhY2UiLCJuZXdJZCIsIm1heGVkT3V0IiwicmVzb3VyY2VBcnJheSIsImVycm9yIiwiZHJhd0FsbENvbm5lY3Rpb25zIiwib2xkQnV0dG9uIiwibmV3QnV0dG9uIiwibmV3WCIsIm5ld1kiLCJib3R0b20iLCJvZmZzZXRUb3AiLCJzZXRDb25uZWN0aW9ucyIsIm5ld0Nvbm5lY3Rpb25zIiwiZ2V0Q29ubmVjdGlvbnMiLCJyZXNldEFsbEpvYnMiLCJlbW9qaSIsInJhdGlvIiwicm9ja3MiLCJ3b29kIiwidmluZXMiLCJzdGlja3MiLCJnYW1lIiwiZmlzaCIsImdsYXNzIiwicG9uZGVyIiwiZ2V0QnVpbGRpbmdDb3VudCIsImdldEJvb3N0IiwicmVzZXRCdWlsZGluZ3MiLCJrZXkiLCJ2YWwiLCJjbGFzcyIsInRhYiIsInRvb2x0aXBDb3N0IiwicmVxdWlyZW1lbnQiLCJoaWRlIiwic2hvd1RhYiIsImNyYWZ0ZWRPbmNlIiwicmVxdWlyZWRTdGFnZSIsImdldENyYWZ0ZWRSZXNvdXJjZUNvbmZpZ0J5SWQiLCJjIiwiZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWciLCJjb25maWciLCJrIiwicmVzZXRDcmFmdGVkUmVzb3VyY2VzIiwicGVya3MiLCJwb25kZXJzIiwicmVzZXRQb25kZXJzIiwicHJlc3RpZ2UiLCJwcmVzIiwiaXNWaXNpYmxlIiwiYWN0aXZlVGV4dCIsImRlZmF1bHRUZXh0IiwiZ2V0UmVzb3VyY2VDb25maWdCeUlkIiwicmVzZXRSZXNvdXJjZXMiLCJnYXRoZXJpbmciLCJtYXNvbnJ5IiwibmVlZFRvb2xzIiwiY2FycGVudHJ5IiwidGhpbmtpbmciLCJmYXJtaW5nIiwiY29tYmF0IiwiZmlzaGluZyIsImh1bnRpbmciLCJzYXZlR2FtZSIsImxvYWRHYW1lIiwiZ2VuZXJhdGVUb29sdGlwQ29zdCIsImFwcGVuZENyYWZ0ZWRSZXNvdXJjZUJ1dHRvbnMiLCJjcmFmdEFsbFJlc291cmNlcyIsImNyYWZ0UmVzb3VyY2UiLCJ1cGRhdGVSZXNvdXJjZUluY3JlYXNlUmF0ZXMiLCJzZWxlY3RBYmlsaXR5IiwicmVzZXRQZXJrcyIsIm1ha2VWaXNpYmxlIiwidXBkYXRlQnV0dG9uVmlzaWJpbGl0eSIsImdlbmVyYXRlUG9uZGVyQnV0dG9ucyIsImFkZFRvb2wiLCJyZXNldFN0YWdlcyIsImluaXRpYWxpemVSZXNvdXJjZVRhZ3MiLCJ1cGRhdGVEaXNwbGF5VmFsdWUiLCJ1cGRhdGVCb3VuY2VBbmltYXRpb24iLCJ1cGRhdGVUb29sdGlwIiwiaGlkZVRvb2x0aXAiLCJzaWRlYmFyUGFyZW50IiwiZW1vamlHYXRoZXJEaXYiLCJ0b29sc1RvU3RhZ2VzIiwidmlzaWJpbGl0eVJ1bGVzIiwiY29uZGl0aW9uIiwiYWN0aW9uIiwic2V0VGltZW91dCIsImxvY2F0aW9uIiwiaHJlZiIsInRhYkNvbnRhaW5lcnMiLCJ0YWJOYW1lIiwicHJldlRhYiIsImNvbnRlbnQiLCJjb250YWlucyIsInJlbW92ZSIsInRhYnMiLCJhY3RpdmVDb250ZW50IiwidGFiU3RyaW5nIiwiYWN0aXZlVGFiQnV0dG9uIiwidG9nZ2xlIiwiaXNEYXJrIiwiZmFkZVRvQmxhY2siLCJvdmVybGF5Iiwib3ZlcmxheVRleHQiLCJvdmVybGF5QnV0dG9uIiwibWVzc2FnZUVsZW1lbnQiLCJjaGFuZ2VNZXNzYWdlIiwibmV3TWVzc2FnZSIsImNsb25lV29yZHMiLCJtb2RpZmllZE1lc3NhZ2UiLCJtaWxsaXNlY29uZHNfcGVyX2ZyYW1lIiwibGFzdF90aW1lIiwidG90YWxfdGltZSIsImFjY3VtdWxhdGVkX2xhZyIsImxvb3AiLCJjdXJyZW50X3RpbWUiLCJub3JtYWxSYXRlIiwidXBkYXRlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGltZV9zaW5jZV9sYXN0X3NhdmUiLCJ0aW1lX3NpbmNlX21hbnVmYXR1cmUiLCJydWxlIiwidG9vbCIsImN1cnJlbnRIb3ZlckJ1dHRvbiIsInJlbmRlciIsIm9uYmVmb3JldW5sb2FkIiwiY3VycmVudGx5RGVsZXRpbmciLCJ0cmFjZSIsImJ1dHRvbiIsImNyZWF0ZUNvbHVtbnMiLCJwYXJlbnQiLCJjb2wxIiwiY29sMiIsImNvbDMiLCJwcmVwZW5kIiwidGFic0NvbnRhaW5lciIsInByb2R1Y3Rpb25Db250YWluZXIiLCJleHBlcmltZW50Q29udGFpbmVyIiwicG9uZGVyQ29udGFpbmVyIiwiZXhwZXJpbWVudENvbHVtbnMiLCJwb25kZXJDb2x1bW5zIiwicHJvZHVjdGlvbkNvbHVtbkluZGV4IiwiZXhwZXJpbWVudENvbHVtbkluZGV4IiwicG9uZGVyQ29sdW1uSW5kZXgiLCJidXR0b25FbGVtZW50Iiwic3BsaXQiLCJ0b29sdGlwRWZmZWN0IiwidW5sb2NrIiwiZGF0YV9idWlsZGluZyIsImNyYWZ0ZWRSZXNvdXJjZSIsInZhbHVlcyIsImdyaWRDb2x1bW4iLCJ0b1N0cmluZyIsImdlbmVyYXRlQnV0dG9ucyIsInRhcmdldCIsIm1hdGNoZXMiLCJ1bmxvY2tBdHRyIiwiY2FuVW5sb2NrIiwicmVsb2FkIiwic2lkZWJhclRleHQiLCJyZXNvdXJjZUJ1dHRvbiIsImZvbnRXZWlnaHQiLCJyQnV0dG9uIiwic3RvcEFsbEdhdGhlcmluZyIsInRvZ2dsZVJlc291cmNlIiwiZ2V0UktleUZyb21JRCIsImNyIiwiZ2V0Q1JLZXlGcm9tSUQiLCJjb25maXJtIiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsImRhcmtNb2RlVG9nZ2xlIiwib3ZlcmxheUJhY2tCdXR0b24iLCJodXNrc0R1ZSIsIm9sZEh1c2tWYWx1ZSIsImh1c2tWYWx1ZSIsImJ1dHRvbkNvbnRhaW5lciIsImdyaWRSb3ciLCJuIiwiYSIsInNxcnQiLCJuZXh0Rmlib25hY2NpIiwiZSIsInByZXZlbnREZWZhdWx0IiwicHJldkZpYm9uYWNjaSIsImlzZWthaSIsInBlcmsiLCJmYWN0b3J5QnV0dG9ucyIsInVwZ3JhZGVCdWxrQnV0dG9uIiwibWFrZUZhY3RvcnlCdXR0b25zIiwidXBkYXRlVUkiLCJyZXNvdXJjZURpdiIsInNldFRvdGFsVGltZSIsInRpbWUiLCJnZXRNZXNzYWdlIiwic2V0U3RhZ2UiLCJzdGFnZSIsImVsZW1lbnQiLCJteVBlcmtzIiwicGVya05hbWUiLCJhZGRQZXJrIiwiYiIsImFiaWxpdHlOYW1lIiwiZ2V0UGVya0Zyb21UaWVyIiwidGllck51bSIsImdldEFsbFBlcmtzIiwidW5sb2NrSWQiLCJ1bmxvY2tLZXkiLCJwb25kZXJPYmplY3RzIiwicG9uZGVyS2V5IiwicG9uZGVyT2JqIiwiYnV0dG9uS2V5Iiwic2V0TWF4IiwibWF4Q2xvbmVzIiwibXlCdXR0b24iLCJuZXdUZXh0IiwiZWZmZWN0U3RyaW5nIiwiZ2V0QWxsU3RhZ2VzIiwicmVzb3VyY2VzQ29udGFpbmVyIiwiY2hlY2tlZCIsImF1dG9DcmFmdFRhYmxlIiwiY3JlYXRlQ3JhZnRlZFJlc291cmNlQnV0dG9uIiwiY29udGFpbmVyIiwiZW1vamlEaXNwbGF5IiwidXBkYXRlRW1vamlEaXNwbGF5IiwiZW1vamlTdHIiLCJyZXBlYXQiLCJhZGp1c3RGb250U2l6ZSIsInN1ZmZpY2llbnRSZXNvdXJjZXMiLCJjcmFmdFJlc291cmNlUXVhbnRpdHkiLCJxdWFudGl0eSIsImNyYWZ0T25lIiwiY3JhZnRCb251cyIsImNhbGNTZWNvbmRzUmVtYWluaW5nIiwibmVlZGVkIiwiY2VpbCIsIm5hbWUiLCJyYXRlIiwicmF0ZUVsZW1lbnQiLCJnZXRBbGxUb29scyIsInNhdmUiLCJ0b29scyIsInN0YWdlcyIsInVubG9ja3MiLCJqb2JzIiwibWVzc2FnZSIsImZhY3RvcmllcyIsIml0ZW0iLCJ1IiwiaHRtbFN0cmluZyIsImV4dHJhY3RUZXh0RnJvbUhUTUwiLCJEYXRlIiwibm93Iiwic2V0SXRlbSIsInNhdmVnYW1lIiwiZ2V0SXRlbSIsInZhbHVlT2YiLCJOdW1iZXIiLCJpc05hTiIsInVuaW9uIiwicyIsImNsb25lcyIsInRpbWVfZGlmZmVyZW5jZSIsImluYyIsInNpemUiLCJqb2IiLCJzZWxlY3RDb3JyZWN0UGVya0J1dHRvbiIsInNlbGVjdGVkQnV0dG9uIiwicmVtb3ZlQXR0cmlidXRlIiwic2hvdWxkSGlkZSIsImFiYnJldmlhdGVOdW1iZXIiLCJmb3JtYXQiLCJ1bml0Iiwicm91bmRUb0RlY2ltYWxzIiwibnVtYmVyIiwiZGVjaW1hbHMiLCJmYWN0b3IiLCJjcmVhdGVSZXNvdXJjZVRhZyIsImdyb3VwTmFtZSIsImdyb3VwQ29udGFpbmVyIiwidG9nZ2xlQnV0dG9uIiwib25jbGljayIsImdyb3VwIiwiY2hpbGRyZW4iLCJ0YWdOYW1lIiwidG9nZ2xlR3JvdXBWaXNpYmlsaXR5IiwiY3JlYXRlUmVzb3VyY2VHcm91cENvbnRhaW5lciIsInJlc291cmNlRGlzcGxheU5hbWUiLCJyZXNvdXJjZUVsZW1lbnQiLCJyZXNvdXJjZU5hbWVTcGFuIiwicmVzb3VyY2VWYWx1ZVNwYW4iLCJyZXNvdXJjZVJhdGVTcGFuIiwiY2hhbmdlUmVzb3VyY2VPcmRlciIsInJlc291cmNlSWQiLCJuZXdPcmRlciIsIm9yZGVyIiwiZWxlbWVudEluY3JlYXNlIiwicGFyZW50RWxlbWVudCIsImluZGV4IiwiZGlzcGxheUVsZW0iLCJ3aXRoR3JvdXBzIiwicmVzb3VyY2VHcm91cHMiLCJiYXNpY3MiLCJtYXRlcmlhbHMiLCJhZHZhbmNlZCIsIm1ldGFsIiwiY29uc3RydWN0aW9uIiwiZ3JvdXBPZlJlc291cmNlcyIsInBvcCIsInBsYXllclRvb2xzIiwidWwiLCJsaSIsImNyZWF0ZVRleHROb2RlIiwidXBkYXRlVG9vbFVJIiwiZ2V0VG9vbFZhbHVlRm9yUmVzb3VyY2UiLCJzb3J0ZWRUb29scyIsInNvcnQiLCJyZXNvdXJjZUxpc3QiLCJnb2xkQW1vdW50RWwiLCJidXlSZXNvdXJjZSIsInByaWNlIiwic2VsbFJlc291cmNlIiwiZ2VuZXJhdGVUcmFkZVRhYmxlIiwicm93IiwicmFuZG9tIiwiZmxvYXRUZXh0IiwiYWxvbmVFbGVtZW50IiwiYnVpbGRpbmdDb3VudCIsImJ1aWxkaW5nTGlzdCIsImNvbCIsImJ1dHRvbkNvbmZpZyIsInN0YXRlIiwiY3JhZnRlZCIsInJlcVBvbmRlciIsInRvb2x0aXAiLCJkZXNjIiwiZWZmZWN0IiwiY29sb3JDbGFzcyIsInNlY29uZHNSZW1haW5pbmciLCJyaWdodCIsInNob3dUb29sdGlwIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJzb3VyY2VSb290IjoiIn0=