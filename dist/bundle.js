(()=>{var e={621:e=>{var t=!1;e.exports={ateFish:t,setAteFish:function(e){return t=e},getAteFish:function(){return t}}},98:e=>{let t=.5,o=.5;e.exports={setMusicVolume:function(e){t=e},getMusicVolume:function(){return t},setSfxVolume:function(e){o=e},getSfxVolume:function(){return o}}},151:(e,t,o)=>{const{buildings:n,isPopBuilding:s}=o(882),{increaseMaterial:i,increaseMax:r}=o(594),{updateTotal:a}=o(150),{hasPerk:c}=o(134),{getMaterial:l}=o(924),{passedStage:u}=o(751),{recalcMaxClones:d}=o(995),{updateBuildingButtonCount:f}=o(607),{recalculateBuildingCost:p}=o(22),{canBuyBuilding:g}=o(23),{isPondered:m}=o(369),{updateBuildingList:b}=o(831),{capitalizeFirst:h}=o(681);function y(e){console.log("Buying building "+e);const t=n[e];if(g(e)){t.count++;for(const e in t.cost)i(e,-t.cost[e]);for(const[e,o]of Object.entries(t.effects))r(e,o),"clones"===e&&(d(),a());f(e,t.count,JSON.parse(JSON.stringify(t.emoji))),p(e,n,c),b()}}e.exports={generateBuildingTooltipCost:function(e){return Object.entries(e).map((([e,t])=>`${t.toFixed(2)} ${e}`)).join("\n")},createBuildingButton:function(e,t){try{const o=t[e];o.cost=o.basecost;const n=Object.entries(o.cost).map((([e,t])=>`${e}: ${t}`)).join(", "),s=function(e){return function(){const t=Object.entries(e).every((([e,t])=>l(e)>=Math.floor(t/2)));return u("clones")&&t}}(o.cost);return console.log("create building button:",o,JSON.parse(JSON.stringify(o.emoji))),{class:"tooltip "+e,tab:"production",text:`${JSON.parse(JSON.stringify(o.emoji))} ${h(e)} (${o.count})`,tooltipDesc:t[e].tooltipDesc||"A mysterious building with untold benefits.",tooltipCost:n,requirement:()=>s(),data_building:e}}catch(o){console.error("Could not create building button for",e,t)}},buyMaxBuildings:function(e){let t=0;for(n[e];g(e);)y(e),++t;return t},buyBuilding:y,generateEffectString:function(e){let t=[];for(let[o,n]of Object.entries(e.effects))t.push(`+${n} max ${o}`);for(let[o,n]of Object.entries(e.boost)){let e=Math.round(100*(n-1));m("effectiveBuildings")&&(e*=1.01),t.push(`+${e}% ${o} production`)}return t.join(", ")},updateBuildingList:b}},121:(e,t,o)=>{const{resources:n}=o(587),{craftedResources:s}=o(371),{skills:i}=o(324),{getWorkers:r}=o(150),{hasPerk:a}=o(134),{isPondered:c}=o(369),{getFactoryProduction:l}=o(51),{hasPrestige:u,getLevelOfPrestige:d}=o(425),{getMaterial:f}=o(924),{hasTool:p}=o(609),g={Lumberjack:["wood","sticks"],Miner:["rocks","ore"],Botanist:["vines","herbs","wheat"]},m={gathering:["gatheringBoost"],masonry:["masonryBoost"],carpentry:["carpentryBoost"],thinking:["thinkingBoost"],farming:["farmingBoost"],fishing:["fishingBoost"],hunting:["huntingBoost"]},b={wood:"axe",ore:"pickaxe",fish:"fishingrod",game:"spear",ponder:"paper",sticks:"staff"};t.calcIncrease=function(e,t){var p=0;const h=o(882).buildings;if(!n.hasOwnProperty(e)){if(!s.hasOwnProperty(e))return p;if((p=l(e))>0)return p}"clones"===e&&c("autoClone")&&(p=1),n[e]&&n[e].isGetting&&(p+=1),p=function(e,t){for(const[o,n]of Object.entries(g))n.includes(t)&&a(o)&&(e*=1.75);return e}(p+=(a("Leader")?.375:.25)*r(e)||0,e),p=function(e,t){for(const[o,n]of Object.entries(m))if(i[o].affectedResources.includes(t)){n.forEach((t=>{u(t)&&(e*=1.1*d(t))}));let t=1.06,s=1+(Math.pow(t,i[o].level)-1)/100;e*=s}return e}(p,e);for(const t of Object.keys(h)){const n=o(882).getBoost(t,e);if(n){var y=Math.pow(n,h[t].count);c("effectiveBuildings")&&(y*=1.03),p*=y}}return"ponder"===e&&(c("ponder1")&&(p*=1.05),c("ponder2")&&(p*=1.05),c("ponder3")&&(p*=1.05)),c("fasterResourceGain")&&(p*=1.05),u("cloneBoost")&&(p*=1.05*d("cloneBoost")),p=function(e,t){const o=b[t];return o&&f(o)>10&&(e*=1+Math.log10(f(o)/10)),e}(p,e),f("husks")>10&&(p*=1+Math.log(f("husks")/10)),parseFloat((p*t/1e3).toFixed(3))}},23:(e,t,o)=>{const{resources:n}=o(587),{getMaterial:s}=o(924),{passedStage:i}=o(751);t.canBuyBuilding=function(e){let t=!0;const r=o(882).buildings[e];for(const e in r.cost)if(r.cost[e]>s(e,n)){t=!1;break}return r.effects&&r.effects.clones&&!i("clone")&&(t=!1),t}},64:(e,t,o)=>{const{resources:n}=o(587),{craftedResources:s}=o(371),{getMaterial:i}=o(924);t.canCraft=function(e){let t=!0,o=s[e].cost;try{for(let e in o)if(i(e,n)<o[e]){t=!1;break}}catch(t){console.warn("Error in calculating requirements: ",e,o,t)}return t}},681:(e,t)=>{t.capitalizeFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},169:(e,t)=>{const o=document.getElementById("message");t.messageElement=o,t.changeMessage=function(e,t,n="You feel peckish for some seafood"){null===n&&(n="You feel peckish for some seafood");const s=e.replace(t,`<span class='tooltip' id="alone" tooltipDesc="${n}">${t}</span>`);o.innerHTML=s}},856:(e,t,o)=>{const{getMaterial:n}=o(924),{increaseMaterial:s}=o(594),i={husks:{probability:.05,quantity:1},nails:{probability:.1,quantity:50},slabs:{probability:.2,quantity:50},beams:{probability:.1,quantity:60},axe:{probability:.15,quantity:5},spear:{probability:1,quantity:5},gold:{probability:.1,quantity:10},iron:{probability:.15,quantity:50},silver:{probability:.05,quantity:20},steel:{probability:.1,quantity:30},bricks:{probability:.15,quantity:80}};let r={};function a(){return r}function c(){let e={};for(const t in i)if(Math.random()<i[t].probability){const o=Math.floor(i[t].quantity*(.4*Math.random()+.8));o>0&&(e[t]=o)}return r=e,console.log(r),e}const l=document.getElementById("arena");function u(e,t){for(let o=0;o<t;o++){const t=document.createElement("div");t.className=`ball ${e}`,t.style.left=("player"===e?10:90)+"%",t.style.top=10+30*o+"px",l.appendChild(t),"player"===e?d.push(t):f.push(t)}}let d=[],f=[],p=[];const g=3e3;function m(){document.querySelectorAll(".ball").forEach((e=>{const t=e.classList.contains("player")?l.offsetWidth:-l.offsetWidth;p.push(e.animate([{transform:`translateX(${t}px)`}],{duration:g,fill:"none"}).finished.then((()=>{e.remove()})))})),v(),setTimeout((()=>{const e=document.querySelectorAll(".player").length,t=document.querySelectorAll(".enemy").length;if(0!==e&&0!==t){for(const e of document.querySelectorAll(".ball"))e.remove();u("player",e),u("enemy",t),m()}}),g-100)}let b=!1;function h(){if(b)return;const e=document.querySelectorAll(".player").length,t=document.querySelectorAll(".enemy").length;if(0===e&&t>0?w="enemy":0===t&&e>0&&(w="player"),null!==w){const e=document.getElementById("combatResult");if(e.textContent="player"===w?"You won!":"enemy"===w?"The Enemy won!":"It's a draw!",setTimeout((()=>{x.disabled=!1}),g/2),"player"===w){b=!0;let t=1;"aggressive"===q()&&(t=.75),"careful"===q()&&(t=1.25);for(const[o,n]of Object.entries(r))s(o,n*t),e.innerHTML+=`<br>+${n*t} ${o}`;c()}return console.log("battle result was",w),function(e){if(null===e)return T;e?T+=50:T-=50,T<200&&(T=200)}(null===w||"player"===w),L(),!0}return!1}function y(e,t){const o=e.getBoundingClientRect(),n=t.getBoundingClientRect();return!(o.right<n.left||o.left>n.right||o.bottom<n.top||o.top>n.bottom)}function v(){!function(e,t){for(let s=0;s<e.length;s++)for(let e=0;e<t.length;e++)y(d[s],f[e])&&(o=d[s],n=f[e],Math.random()<1/(1+Math.pow(10,(S()-C())/B))?n.remove():o.remove());var o,n}(d,f),h()||b||requestAnimationFrame(v)}function k(){const e=C(),t=S(),o=Math.ceil(e/12),n=Math.ceil(t/12),s=Math.max(o,n),i=Math.floor(e/s),r=Math.floor(t/s);return document.getElementById("approximateBall").textContent=s.toString(),[i,r]}const x=document.querySelector("button#startCombat");let w=null;const B=200;function C(){let e=n("violence")+n("spear")+n("medicine");return"aggressive"===q()?e*=1.2:"careful"===q()&&(e*=.8),e}let T=400;function S(){return T}const M=document.getElementById("playerMight"),E=document.getElementById("enemyMight");function A(){const e=C(),t=S(),o=1/(1+Math.pow(10,(t-e)/B));M.textContent=e.toFixed(0),M.setAttribute("tooltipdesc",`${n("violence").toFixed(0)} violence + ${n("spear").toFixed(0)} spears + ${n("medicine").toFixed(0)} medicine`),E.textContent=t.toFixed(0);const s=document.getElementById("chanceToWin");return s.textContent=(100*o).toFixed(1)+"%",s.style.color=`hsl(${(120*o).toString(10)},100%,50%)`,o}let j="balanced";function q(){return j}const $=document.querySelectorAll("button.stance");function D(e){console.log("switch stance to ",e),$.forEach((e=>{e.disabled=!1})),document.querySelector(`#${e}Stance`).disabled=!0,function(e){j=e}(e),L()}function L(){Object.keys(a()).length<1&&c();const e=document.getElementById("lootList");e.innerHTML="";for(const[t,o]of Object.entries(a()))e.innerHTML+=`<span>${t} (${o})</span> <br>`;E.textContent=S().toString(),k(),A()}window.switchStance=D,e.exports={combat:function(){w=null;for(const e of document.querySelectorAll(".ball"))e.remove();let[e,t]=k();u("player",e),u("enemy",t),document.getElementById("combatResult").textContent="",x.disabled=!0,b=!1,m()},calculateWinChance:A,refreshValues:L,pauseAnimation:function(){p.forEach((e=>{e.pause()}))},battleResult:w,simulateBattle:function(){w=function(){const e=C(),t=S(),o=1/(1+Math.pow(10,(t-e)/B));return Math.random()<o?"player":"enemy"}(),h()},switchStance:D,getCurrEnemyMight:S,setEnemyMight:function(e){T=e}}},51:(e,t,o)=>{const{getSfxVolume:n}=o(98),{getMaterial:s}=o(924),{craftedResources:i}=o(371),{resources:r}=o(587);var a={beams:["wood"],bricks:["clay"],concrete:["sand"],crates:["wood"],glass:["sand"],gold:["ore"],handle:["sticks"],iron:["ore"],leather:["hides"],medicine:["herbs"],nails:["iron"],paper:["wood"],sharprocks:["rocks"],silver:["ore"],slabs:["rocks"],spear:["staff","sharprocks","rope"],staff:["handle","rope"],steel:["iron"],sticks:["wood"],rope:["vines"],wood:["sticks"]},c=[];Object.keys(r).forEach((e=>c.push(e))),Object.keys(i).forEach((e=>c.push(e))),console.log("All materials: ",c);let l={},u={};function d(e,t){e&&"none"!==e&&(l[e]--,Array.from(i[e].cost).forEach((e=>{u[e.resource]-=e.amount}))),l[t]?l[t]++:l[t]=1,i[t]&&Array.from(i[t].cost).forEach((e=>{u[e.resource]+=e.amount}))}function f(){const e=document.getElementById("factories"),t=document.createElement("div");t.className="factory";const n=document.createElement("span");n.classList.add("factoryCost");const s=document.createElement("select");Object.keys(a).forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,s.appendChild(t)})),s.setAttribute("data-produced","none"),s.addEventListener("change",(function(){const e=this.getAttribute("data-produced");"none"!==e&&(document.querySelector(`#resource-${e}`).style.color="");const t=s.value;d(e,t),this.setAttribute("data-produced",t),t&&"none"!==t&&(document.querySelector(`#resource-${t}`).style.color="thistle",n.innerHTML="",n.innerHTML+=`${o(594).generateTooltipCost(i[s.value].cost)}`)}));const r=document.createElement("span");return r.innerHTML="&#8594;",t.appendChild(n),t.appendChild(r),t.appendChild(s),function(e,t){const o=document.createElement("option");o.value="",o.textContent="Select a Resource",o.selected=!0,e.appendChild(o)}(s),e.appendChild(t),t}let p=2,g=30;var m=50;e.exports={createFactoryDiv:f,attemptManufacture:function(){document.querySelectorAll(".factory").forEach((e=>{const t=e.querySelector("select:last-child").value,n=a[t];n&&t&&function(e,t){let n=[];e.forEach((e=>n.push(s(e)/i[t].cost[e])));let r=Math.min(p,...n);r*=1,o(594).craftResourceQuantity(t,r)}(n,t)}))},buyFactory:function(){const e=document.getElementById("buyFactoryButton");if(s("silver")<m)return void console.log("Not enough silver!");o(594).increaseMaterial("silver",-m),f();const t=new Audio("./audio/factorybuild.wav");t.volume=n(),t.play(),m*=1.2,e.setAttribute("tooltipCost",`${m.toFixed(2)} silver`)},upgradeBulk:function(){if(s("silver")<g)return;p+=2,g+=10;const e=new Audio("./audio/factorybulk.wav");e.volume=n(),e.play(),document.getElementById("upgradeBulkButton").setAttribute("tooltipCost",`${p} → ${p+2}: ${g.toFixed(0)} silver`)},allMaterials:c,getFactoryProduction:function(e){return l[e]*p},loadFactory:function(e){console.log("loading a factory for ",e);let t=f();e&&(t.querySelector("select").value=e,document.querySelector(`#resource-${e}`).style.color="thistle",t.querySelector(".factoryCost").innerHTML="",t.querySelector(".factoryCost").innerHTML+=`${o(594).generateTooltipCost(i[e].cost)}`);const n=document.getElementById("buyFactoryButton");m*=1.2,n.setAttribute("tooltipCost",`${m.toFixed(0)} silver`),d("none",e)},activeFactoriesProducing:l}},531:(e,t)=>{t.fitCharToCell=function(e,t,o,n){const s=document.createElement("span");s.textContent=e,s.style.fontSize=`${n}px`,s.style.position="absolute",s.style.whiteSpace="nowrap",s.style.visibility="hidden",document.body.appendChild(s);let i=n;for(;s.offsetWidth<t&&s.offsetHeight<o&&(i++,s.style.fontSize=`${i}px`,!(i>=1e3)););return document.body.removeChild(s),i}},215:(e,t,o)=>{const{resources:n}=o(587),{capitalizeFirst:s}=o(681),{getSfxVolume:i}=o(98),r=document.querySelector("#resources");const a=document.querySelector("#emojiGatherDisplay");t.toggleResource=function(e){const t=new Audio("./audio/gather.wav");t.volume=i(),t.play();const o=n[e],c=document.querySelector("#resources").querySelector("#resource-"+e),l=document.querySelector("#gather"+e.charAt(0).toUpperCase()+e.slice(1));a.textContent="𓀟",o.isGetting?(o.isGetting=!1,l.classList.remove("gathering"),l.textContent=o.defaultText,c&&(c.style.fontWeight="normal")):(function(){for(const[e,t]of Object.entries(n)){t.isGetting=!1;const o=document.querySelector("#gather"+s(e));o&&(o.textContent=t.defaultText,o.classList.remove("gathering"));const n=r.querySelector("#resource-"+e);n&&(n.style.fontWeight="normal")}}(),o.isGetting=!0,l.textContent=o.activeText,c&&(c.style.fontWeight="bold"),a.textContent=o.emoji,console.log(o.emoji),l.classList.add("gathering"))}},429:(e,t,o)=>{const{craftedResources:n}=o(371),{buildings:s}=o(882),{buttons:i}=o(54),{generateTooltipCost:r}=o(594),{createBuildingButton:a}=o(151),{hasPerk:c}=o(134),{recalculateBuildingCost:l}=o(22),{showTab:u}=o(93);t.generateButtons=function(){console.log("Generating buttons"),console.trace();for(let e in s){const t=a(e,s);i[e]=t}const e=e=>{const t=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div");return t.style.width="33.33%",o.style.width="33.33%",n.style.width="33.33%",t.style.display="inline-block",o.style.display="inline-block",n.style.display="inline-block",t.classList.add("visible"),o.classList.add("visible"),n.classList.add("visible"),e.prepend(n),e.prepend(o),e.prepend(t),[t,o,n]},t=document.getElementById("tabs"),o=document.getElementById("productionTab"),d=document.getElementById("experimentTab").querySelector(".button-columns"),f=document.getElementById("ponderTab"),p=e(d),g=e(f);let m=1,b=0,h=0;for(let e in i){const a=i[e],d=document.createElement("button");d.id=e,d.className=a.class,d.textContent=a.text.split("_").join(" "),a.tooltipDesc&&d.setAttribute("data-tooltip-desc",a.tooltipDesc),a.tooltipEffect&&d.setAttribute("data-tooltip-effect",a.tooltipEffect),d.setAttribute("unlock",a.unlock),d.setAttribute("data_building",a.data_building);const f=Object.values(n).find((t=>t.id===e));f&&(a.tooltipCost=r(f.cost)),d.setAttribute("data-tooltip-cost",a.tooltipCost),a.showTab&&d.addEventListener("click",(()=>{u(a.showTab),console.log("Switching to tab: "+a.showTab)})),"production"===a.tab?(d.style.gridColumn=m.toString(),m=(m+1)%3,o.appendChild(d)):"experiment"===a.tab?(p[b].appendChild(d),b=(b+1)%3):"tabs"===a.tab?t.appendChild(d):"ponder"===a.tab?(g[h].appendChild(d),h=(h+1)%3):"job"===a.tab||document.getElementById(a.tab).appendChild(a),Object.keys(s).find((t=>t===e))&&l(e,s,c);try{a.requirement()||(d.style.display="none")}catch(e){}}}},900:(e,t,o)=>{const{capitalizeFirst:n}=o(681),{craftedResources:s}=o(371),{resources:i}=o(587),r=Object.keys(i).filter((e=>"husks"!==e)),a=Object.keys(s);function c(e,t){return Math.random()*(t-e)+e}function l(){const e=[{start:78107,end:78142},{start:78307,end:78367}],t=e[Math.floor(Math.random()*e.length)],o=Math.floor(c(t.start,t.end+1));return String.fromCodePoint(o)}const u=["bustling","majestic","ancient","elegant","hidden","glorious","enchanted","whispering","mystical","luminous","radiant","spectacular","dazzling","serenade","celestial","vibrant","imposing","venerable","immaculate","enigmatic","harmonious","ethereal","resplendent","tranquil","serene","awe-inspiring","peaceful","picturesque","captivating"],d=["Sanctuary","Citadel","Haven","Monastery","Outpost","Observatory","Stronghold","Palace","Temple","Manor","Keep","Chateau","Acropolis","Cathedral","Villa","Fortress","Bastion","Lighthouse","Castle","Coliseum","Pyramid","Mansion","Estate","Museum","Tower","Hall","Library","Gallery","Bazaar"],f=["sanctuary","citadel","haven","monastery","outpost","observatory","stronghold","palace","temple","manor"],p=["provides","enhances","imbues","radiates","embodies","inspires","evokes","exudes","bestows","creates"],g=["with","through","amidst","beneath","above","alongside"],m=["and","while","as","although","yet"];t.generateRandomBuilding=function(){const e=function(){const e=u[Math.floor(Math.random()*u.length)],t=d[Math.floor(Math.random()*d.length)];return`${n(e)} ${t}`}(),t=function(){const e=u[Math.floor(Math.random()*u.length)],t=u[Math.floor(Math.random()*u.length)],o=f[Math.floor(Math.random()*f.length)],s=p[Math.floor(Math.random()*p.length)],i=g[Math.floor(Math.random()*g.length)],r=m[Math.floor(Math.random()*m.length)];let a="";switch(Math.floor(6*Math.random())){case 0:a=`${e} ${o} that ${s} an aura of splendor.`;break;case 1:a=`${n(i)} its ${e} appearance, the ${o} ${s} an aura of ${t}.`;break;case 2:a=`${n(e)} ${o} ${s} gracefully, exuding an enchanting atmosphere.`;break;case 3:a=`The ${o} is ${e} and ${s} with a sense of wonder.`;break;case 4:a=`Amidst the ${e} surroundings, the ${o} ${s} tranquility and beauty.`;break;case 5:a=`An ${e} ${o} that ${s} an aura of charm ${r} mystique.`;break;default:a=`${n(e)} ${o} that ${s} an aura of splendor.`}return a}(),o=c(1,3),s={};for(let e=0;e<o;e++)s[r[Math.floor(Math.random()*r.length)]]=Math.floor(100*Math.random()*(5-o));const i=c(0,1);for(let e=0;e<i;e++)s[a[Math.floor(Math.random()*a.length)]]=Math.floor(50*Math.random());const b={},h=c(0,3);for(let e=0;e<h;e++){const e=r[Math.floor(Math.random()*r.length)],t=Math.floor(c(30,200));b[e]=t}const y={},v=c(0===h?1:0,3);for(let e=0;e<v;e++){const e=r[Math.floor(Math.random()*r.length)],t=c(1.01,1.2);y[e]=t}return{name:e,description:t,basecost:s,cost:s,effects:b,boost:y,count:0,ratio:c(1.3,1.6),emoji:l()}}},590:(e,t,o)=>{t.getCraftedResource=function(e,t){return e=e.toLowerCase(),t||(t=o(371).craftedResources),t.hasOwnProperty(e)&&t[e].value||0}},924:(e,t,o)=>{const{getCraftedResource:n}=o(590);t.getMaterial=function(e,t){return t||(t=o(587).resources),t.hasOwnProperty(e)?t[e].value:n(e,null)}},78:(e,t,o)=>{const{hasPrestige:n,getLevelOfPrestige:s}=o(425),{resources:i,isResource:r}=o(587),{skills:a}=o(324);let c=new Set(["gatherSticks"]);t.allVisibleButtons=c,e.exports={getMax:function(e){if(r(e)){let t=i[e].max,o=t;return n("storageSpace")&&"clones"!==e?o=t*(1.05*s("storageSpace")):"clones"===e&&n("maxClones")&&(o=t+s("maxClones")),o}return 1/0},calcCraftBonus:function(e){let t=1;for(let o in a)if(a[o].affectedResources.includes(e)){let e=1.06;t*=1+(Math.pow(e,a[o].level)-1)/100}return t},isButtonIdVisible:function(e){return c.has(e)},setVisibleButton:function(e){c.add(e)},clearSidebar:function(){document.querySelector("#resources").innerHTML=""}}},842:(e,t)=>{t.O={thinking:"thinking",fishing:"fishing",smithing:"not-unlockable",farming:"agriculture",combat:"combatTab",hunting:"hunting"}},150:(e,t,o)=>{const{skills:n}=o(324),{resources:s}=o(587),{getMaterial:i}=o(924),{isPondered:r}=o(369),{getMax:a}=o(78),{triggerFloatUpText:c}=o(727),l=new Audio("./audio/job.wav"),u={};for(let e in n)u[e]=0;const d=document.getElementById("jobsTab");function f(){var e=0;for(let t in u)e+=u[t];return e}Object.keys(n).forEach((e=>{const t=document.createElement("div");t.classList.add("job-button"),t.setAttribute("data-job",e),t.id="job-button-"+e;const o=document.createElement("div");o.classList.add("btn-decrement"),o.textContent="-",t.appendChild(o);const n=document.createElement("span");n.classList.add("job-name"),n.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: 0`,t.appendChild(n);const s=document.createElement("div");s.classList.add("btn-increment"),s.textContent="+",t.appendChild(s),d.appendChild(t)})),document.querySelectorAll(".btn-increment").forEach((e=>{e.addEventListener("click",(function(e){const t=this.closest(".job-button").getAttribute("data-job");if(l.play(),i("clones",s)>f()){const o=e.pageX,n=e.pageY;if(e.shiftKey){let e=i("clones",s)-f();u[t]+=e,c(o,n,`+${e} workers`,"green")}else if(e.ctrlKey){let e=Math.min(10,i("clones",s)-f());u[t]+=e,c(o,n,`+${e} workers`,"green")}else u[t]++,c(o,n,"+1 worker","green");g(t,u[t]),b(t),h()}}))})),document.querySelectorAll(".btn-decrement").forEach((e=>{e.addEventListener("click",(function(e){const t=this.closest(".job-button").getAttribute("data-job"),o=e.pageX,n=e.pageY;if(l.play(),e.shiftKey){let e=u[t];u[t]=0,e>0&&c(o,n,`-${e} workers`,"red")}else if(e.ctrlKey){let e=Math.min(10,u[t]);u[t]-=e,c(o,n,`-${e} workers`,"red")}else u[t]>0&&(u[t]--,c(o,n,"-1 worker","red"));g(t,u[t]),b(t),h()}))}));let p=new Map;function g(e,t){if(!n[e])return null;let o=n[e].affectedResources;o=o.filter((e=>e in s));let i=o.length,r=Math.floor(t/i);for(let t of o)p.set(t,r),r>0&&m(e,t);let a=t-r*i;for(let t of o)a>0&&(p.set(t,p.get(t)+1),a--,m(e,t))}function m(e,t){const o=Array.from(document.querySelectorAll(".job-button")).find((t=>t.getAttribute("data-job")===e));if(!o||"none"===o.style.display)return;const n=document.getElementById(`resource-${t}`);if(!n||"none"===n.style.display)return;const s=o.getBoundingClientRect(),i=n.getBoundingClientRect(),r=document.createElement("div");r.style.position="absolute",r.style.width="10px",r.style.height="10px",r.style.borderRadius="50%",r.style.backgroundColor="white",r.style.opacity=".8",r.style.left=`${s.left+window.scrollX}px`,r.style.top=`${s.top+window.scrollY}px`,document.body.appendChild(r),r.animate([{transform:`translate(${i.left-s.left}px, ${i.top-s.top}px)`}],{duration:1e3,easing:"cubic-bezier(.23,-0.34,0,1.06)"}).onfinish=()=>{r.style.display="none"}}function b(e){const t=document.querySelector(`.job-button[data-job="${e}"]`);t||console.warn("Couldn't find job button for job: ",e);const n=t.querySelector(".job-name");n&&(n.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: ${u[e]}`),o(594).updateEmojiDisplay()}function h(){document.querySelector("#jobs-total").textContent="Assigned Clones: "+f()+" / "+a("clones")}let y=new Map,v=document.getElementById("lineCanvas"),k=v.getContext("2d");function x(e,t,o){let n=e.getBoundingClientRect(),s=n.left+n.width/2,i=scrollY+n.top+n.height/2;k.beginPath(),k.moveTo(s,i),k.lineTo(t,o),k.stroke(),function(e,t,o,n,s,i){let r,a,c,l=n,u=s;e.beginPath(),r=Math.atan2(s-o,n-t),a=i*Math.cos(r)+l,c=i*Math.sin(r)+u,e.moveTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+u,e.lineTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+u,e.lineTo(a,c),e.closePath(),e.fill()}(k,s,i,t,o,10)}function w(e,t){let o=u[e];u[e]=0,u[t]+=o,b(e),b(t)}v.width=window.innerWidth,v.height=window.innerHeight,e.exports={clearJobAssignments:function(){k.clearRect(0,0,v.width,v.height),y=new Map},reassignJobsBasedOnResources:function(){try{const e=y.entries();if(void 0===e)throw"Entries is undefined";for(let[t,o]of e){let e=document.getElementById(t).getAttribute("data-job");const r=t.replace("job-button-",""),a=o.replace("job-button-","");let c=!0,l=n[e].affectedResources;if(!l)return;for(const e of l)if(void 0!==s[e]&&i(e)<s[e].max){c=!1;break}c&&u[e]>0&&(w(r,a),g(r,u[r]),g(a,u[a]))}}catch(e){console.warn("reassignJobs",e)}},switchJob:w,drawAllConnections:function(){k.clearRect(0,0,v.width,v.height);try{for(let[e,t]of y.entries()){let o=document.getElementById(e),n=document.getElementById(t),s=n.getBoundingClientRect(),i=s.left+s.width/2,r=0;r=s.bottom>o.getBoundingClientRect().bottom?n.offsetTop-10:n.offsetTop+n.offsetHeight+10,x(o,i,r)}}catch(e){console.warn("drawAllConnections",e)}},getWorkers:function(e){return p.get(e)},updateTotal:h,setConnections:function(e){y=e},getConnections:function(){return y},distributeWorkers:g,updateDisplay:b,jobCounts:u,resetAllJobs:function(){for(let e in n)u[e]=0,g(e,0),h(),b(e)}}},882:(e,t,o)=>{const{hasPerk:n}=o(134),{recalcMaxClones:s}=o(995),{recalculateBuildingCost:i}=o(22),{updateBuildingButtonCount:r}=o(607),a={shelter:{basecost:{sticks:30},effects:{clones:1},boost:{},count:0,ratio:1.4,tooltipDesc:"For when you need a home away from home.",emoji:"八"},hut:{basecost:{sticks:50,vines:30},effects:{clones:1},boost:{},count:0,ratio:1.4,tooltipDesc:"A cozy, idyllic chunk of wood.",emoji:"冂"},house:{basecost:{wood:50,rocks:20,fish:10},effects:{clones:2},boost:{},count:0,ratio:1.5,tooltipDesc:"Every clone's dream. Minus the white picket fence.",emoji:"介"},teepee:{basecost:{wood:10,hides:25,fish:15},effects:{clones:2},boost:{},count:0,ratio:1.5,tooltipDesc:"Wrap some hides around some wood and call it a home.",emoji:"穴"},hospital:{basecost:{concrete:10,medicine:20,fish:20},effects:{clones:3},boost:{},count:0,ratio:1.7,tooltipDesc:"Keep yourself safe.",emoji:"+"},barracks:{basecost:{spear:20,violence:1,wood:200},effects:{clones:1,violence:20},boost:{},count:0,ratio:1.5,tooltipDesc:"A hall of raucous soldiers.",emoji:"𓈏"},shed:{basecost:{wood:40},effects:{wood:50,sticks:50,rocks:20},boost:{},count:0,ratio:1.2,tooltipDesc:"The ultimate storage solution for the pack rat in you.",emoji:"个"},stockpile:{basecost:{rocks:30,wood:40},effects:{wood:100},ratio:1.2,boost:{},count:0,tooltipDesc:"Chuck a bunch of logs in a pile, what could happen?",emoji:"品"},drying_racks:{basecost:{sticks:30,fish:5},effects:{fish:20},boost:{},count:0,ratio:1.2,tooltipDesc:"Air drying: Nature's way of preserving food.",emoji:"四"},workshop:{basecost:{wood:40,sticks:20,rocks:10},effects:{rocks:50,ore:50,sand:100,clay:50},boost:{},count:0,ratio:1.4,tooltipDesc:"DIY's dream destination.",emoji:"𓎰"},barn:{basecost:{wood:30,wheat:5},effects:{wheat:100,vines:40},boost:{},count:0,ratio:1.2,tooltipDesc:"Hay, what's in that building?",emoji:"𓏆"},herbalist_hut:{basecost:{sticks:50,vines:50,herbs:50},effects:{herbs:100,vines:100},boost:{herbs:1.2,vines:1.1},count:0,ratio:1.2,tooltipDesc:"A place for brewing and stewing.",emoji:"𓏃"},bakery:{basecost:{wood:80,bread:10,rocks:40},effects:{wheat:200},boost:{},count:0,ratio:1.25,tooltipDesc:"Freshly baked bread, hot and ready.",emoji:"𓏖"},animal_pen:{basecost:{sticks:50,game:20,fish:25},effects:{game:100,hides:30},boost:{},count:0,ratio:1.2,tooltipDesc:"A place to put those lesser than you.",emoji:"皿"},reservoir:{basecost:{rocks:100,clay:50,water:10},effects:{water:100},boost:{},count:0,ratio:1.3,tooltipDesc:"A hole filled with water. Useful.",emoji:"𓈞"},stone_depot:{basecost:{rocks:200},effects:{rocks:250},boost:{},count:0,ratio:1.2,tooltipDesc:"A big stack of rocks.",emoji:"𓈓"},warehouse:{basecost:{crates:10,concrete:20},effects:{wood:100,rocks:100,clay:100,sand:100},boost:{},count:0,ratio:1.3,tooltipDesc:"Put stuff in a box inside a larger box.",emoji:"𓇦"},military_school:{basecost:{bricks:20,violence:10},effects:{violence:100},boost:{violence:1.05},count:0,ratio:1.4,tooltipDesc:"Learn the art of hurting others.",emoji:"𓇻"},grove:{basecost:{wood:20,vines:20},effects:{},boost:{wood:1.05,sticks:1.1},count:0,ratio:1.2,tooltipDesc:"A nice grove of trees to find wood faster.",emoji:"𓆭𓆭"},fish_traps:{basecost:{rope:40},effects:{},boost:{fish:1.05},count:0,ratio:1.2,tooltipDesc:"Fishing made easy. No patience required.",emoji:"井"},mine:{basecost:{rocks:30,wood:30},effects:{},boost:{ore:1.05,rocks:1.05},count:0,ratio:1.2,tooltipDesc:"Dig deep and find your inner ore.",emoji:"𓊍"},campfire:{basecost:{rocks:20,sticks:20},effects:{},boost:{all:1.02},count:0,ratio:1.5,tooltipDesc:"Where stories are told and marshmallows are toasted.",emoji:"火"},lumber_yard:{basecost:{wood:200,iron:1},effects:{},boost:{wood:1.2},count:0,ratio:1.3,tooltipDesc:"Wood you like some more wood?",emoji:"𓌏"},stone_quarry:{basecost:{rocks:50,wood:20,rope:30},effects:{},boost:{rocks:1.1},count:0,ratio:1.3,tooltipDesc:"Rock on with your bad self!",emoji:"𓊎"},fishery:{basecost:{wood:40,rope:15},effects:{fish:50},boost:{},count:0,ratio:1.2,tooltipDesc:"Fish are friends. And food.",emoji:"𓌤"},vineyard:{basecost:{wood:20,vines:50},effects:{},boost:{vines:1.1},count:0,ratio:1.2,tooltipDesc:"For the finest vines. What else would it grow?",emoji:"🜌"},forge:{basecost:{rocks:40,ore:20,wood:100},effects:{},boost:{ore:1.2},count:0,ratio:1.2,tooltipDesc:"Melt, mold, and make marvelous metals.",emoji:"𓊫"},water_pump:{basecost:{rocks:30,rope:1,wood:10,wheat:2},effects:{freshwater:30},boost:{freshwater:1.1},count:0,ratio:1.4,tooltipDesc:"Fresh water on demand!",emoji:"𓏂"},tower:{basecost:{bricks:20,rocks:10,wood:30},effects:{},boost:{hides:1.05,game:1.1},count:0,ratio:1.3,tooltipDesc:"See things from afar.",emoji:"𓊢"},tannery:{basecost:{wood:60,hides:40},effects:{hides:50},boost:{hides:1.1},count:0,ratio:1.3,tooltipDesc:"Treat hides to make quality leather.",emoji:"𓃔"},marketplace:{basecost:{wood:100,rocks:50,gold:1},effects:{},boost:{herbs:1.2,ore:1.1},count:0,ratio:1.25,tooltipDesc:"A bustling hub of trade and barter.",emoji:"₿"},windmill:{basecost:{wood:100,rocks:60,wheat:50},effects:{},boost:{wheat:1.2},count:0,ratio:1.3,tooltipDesc:"Grind grains efficiently with wind power.",emoji:"𓇬"},garden:{basecost:{beams:20,herbs:20,freshwater:10},effects:{},boost:{herbs:1.1,sticks:1.05},count:0,ratio:1.3,tooltipDesc:"Nice nature, carefully cultivated.",emoji:"𓆷"},sand_scoop:{basecost:{beams:10,iron:5},effects:{},boost:{sand:1.1},count:0,ratio:1.2,tooltipDesc:"Scoop the sand from the shore? Sure!",emoji:"𓄛"},traps:{basecost:{nails:10,sticks:20,herbs:20},effects:{},boost:{game:1.1},count:0,ratio:1.2,tooltipDesc:"Watch your step!",emoji:"𓄦"},rock_role:{basecost:{slabs:20,freshwater:30},effects:{},boost:{rocks:1.2},count:0,ratio:1.3,tooltipDesc:"In order to gather the rock you must become the rock.",emoji:"𓆇"},telescope:{basecost:{glass:1,wood:10,ponder:10},effects:{},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"Look, up in the sky! It's a star!",emoji:"𓌩"},observatory:{basecost:{bricks:70,wood:30,glass:50,ponder:50},effects:{},boost:{ponder:1.2},count:0,ratio:1.3,tooltipDesc:"Stargazing has never been so... productive?",emoji:"☆"},library:{basecost:{wood:70,paper:25,glass:5,ponder:25},effects:{ponder:50},boost:{ponder:1.1},count:0,ratio:1.3,tooltipDesc:"Knowledge is power. And a fire hazard if not stored properly.",emoji:"🕮"},desk:{basecost:{wood:15,sticks:20,ponder:10},effects:{ponder:30},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"A writer's block is no match for armor-piercing pencils!",emoji:"𓊬"}};e.exports={buildings:a,getBuildingCount:function(e){return a[e].count},getBoost:function(e,t){const o=a[e];if(o&&o.boost){if(o.boost[t])return o.boost[t];if(o.boost.all)return o.boost.all}return null},resetBuildings:function(){for(const[e,t]of Object.entries(a))t.count=0,r(e,0),i(e,a,n);s()},isPopBuilding:function(e){switch(e){case"shelter":case"hut":case"house":case"teepee":return!0;default:return!1}}}},54:(e,t,o)=>{const{passedStage:n}=o(751),{getMaterial:s}=o(924),{hasTool:i}=o(609),{resources:r}=o(587),a={gatherSticks:{class:"tooltip startVisible",tab:"production",text:"𓀝 Gather Sticks",tooltipDesc:"Five, Six, Pick up sticks.",tooltipCost:"Free",requirement:()=>!0,hide:()=>!1},gatherVines:{class:"tooltip stick",tab:"production",text:"𓍯 Gather Vines",tooltipDesc:"Some vines are rubbery, others are gummy.",tooltipCost:"Free",requirement:()=>s("sticks",r)>=10||n("vines"),hide:()=>!1},gatherRocks:{class:"tooltip stick",tab:"production",text:"𓊖𓀩 Gather Rocks",tooltipDesc:"Not a single window to throw them through.",tooltipCost:"Free",requirement:()=>s("vines",r)>=10||n("rocks"),hide:()=>!1},gatherFish:{class:"tooltip fishing",tab:"production",text:"𓆝 𓆟 𓆞 Go Fish",tooltipDesc:"Got any tuna?",tooltipCost:"Free",requirement:()=>i("Spear")||i("Fishing Rod")||n("fishing"),hide:()=>!1},gatherWood:{class:"woodToggle wood",tab:"production",text:"𓌏 Chop Wood",tooltipDesc:"An axe hurts way less than using your hands.",tooltipCost:"",requirement:()=>i("Axe")||n("wood"),hide:()=>!1},gatherOre:{class:"tooltip ",tab:"production",text:"𓉸 Mine Ore",tooltipDesc:"Diggy Diggy Hole",tooltipCost:"Free",requirement:()=>i("Pickaxe")||n("ore"),hide:()=>!1},productionTabButton:{class:"tab-button",text:"Production",showTab:"productionTab",tab:"tabs",requirement:()=>n("tab-button"),hide:()=>!1},experimentTabButton:{class:"tab-button",text:"Experiment",showTab:"experimentTab",tab:"tabs",requirement:()=>n("tab-button"),hide:()=>!1},ponderTabButton:{class:"tab-button",text:"Ponder",showTab:"ponderTab",tab:"tabs",requirement:()=>n("ponder-tab"),hide:()=>!1},jobsTabButton:{class:"tab-button",text:"Jobs",showTab:"jobsTab",tab:"tabs",requirement:()=>n("jobs-tab"),hide:()=>!1},skillsTabButton:{class:"tab-button",text:"Skills",showTab:"skillsTab",tab:"tabs",requirement:()=>n("skillsTable"),hide:()=>!1},perksTabButton:{class:"tab-button",text:"Perks",showTab:"perksTab",tab:"tabs",requirement:()=>n("perksTab"),hide:()=>!1},factoryTabButton:{class:"tab-button",text:"Factories",showTab:"factoryTab",tab:"tabs",requirement:()=>n("factoryTab"),hide:()=>!1},combatTabButton:{class:"tab-button",text:"Combat",showTab:"combatTab",tab:"tabs",requirement:()=>n("combatTab"),hide:()=>!1},gatherPonder:{class:"tooltip",text:"Ponder",tooltipDesc:"Wrap your head around the great mysteries",tooltipCost:"Time",tab:"ponder",requirement:()=>n("ponder-tab"),hide:()=>!1}};e.exports={buttons:a}},371:(e,t,o)=>{const{getMaterial:n}=o(924),{getCraftedResource:s}=o(590),{resources:i}=o(587),{passedStage:r}=o(751),a={sharprocks:{text:"Sharp Rocks",id:"craftSharprocksButton",value:0,cost:{rocks:2},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"Craft a rock using nothing but rocks!",tooltipCost:"Rocks: 5",class:"craftRocks"},rope:{id:"craftRopeButton",value:0,cost:{vines:3},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"The basis of attaching things to other things.",tooltipCost:"Vines: 3",class:"craftRocks"},handle:{id:"craftHandleButton",value:0,cost:{sticks:2},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"Shear off that bark to hold it better",tooltipCost:"Sharp Rocks: 1",class:"craftRocks"},staff:{id:"craftStaffButton",value:0,cost:{handle:2,rope:1},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"Stick some sheared sticks together",tooltipCost:"Handles: 2",class:"rope"},fishingrod:{id:"craftFishingrodButton",text:"Fishing Rod",value:0,cost:{staff:1,rope:2},craftedOnce:!1,requiredStage:"fishing",tooltipDesc:"A weapon feared by underwater life",tooltipCost:"",class:"fishing"},spear:{id:"craftSpearButton",value:0,cost:{staff:1,sharprocks:1,rope:1},craftedOnce:!1,requiredStage:"rocks",tooltipDesc:"A long and pointy stick",tooltipCost:"Staffs: 1",class:"rope"},axe:{id:"craftAxeButton",value:0,cost:{handle:1,rope:1,sharprocks:2},craftedOnce:!1,requiredStage:"spear",tooltipDesc:"Put a rock straight through that handle",tooltipCost:"Spears: 1",class:"spear"},pickaxe:{id:"craftPickaxeButton",value:0,cost:{handle:1,sharprocks:3,rope:1,rocks:10},craftedOnce:!1,requiredStage:"spear",tooltipDesc:"Sadly not made of diamonds",tooltipCost:"Axes: 1",class:"spear"},glass:{id:"craftGlassButton",value:0,cost:{sand:10},craftedOnce:!1,tooltipDesc:"You can see right through it!",requiredStage:"glassBlowing",class:"glassBlowing"},paper:{id:"craftPaperButton",value:0,cost:{wood:12},craftedOnce:!1,tooltipDesc:"Outsource your memory",requiredStage:"paper",class:"paper"},gold:{id:"craftGoldButton",value:0,cost:{ore:100},craftedOnce:!1,requiredStage:"metalWorking",tooltipDesc:"There's some yellow bits in this ore",tooltipCost:"",class:"metalWorking"},iron:{id:"craftIronButton",value:0,cost:{ore:20},craftedOnce:!1,requiredStage:"metalWorking",tooltipDesc:"There's some sturdy-looking bits in this ore",tooltipCost:"",class:"metalWorking"},silver:{id:"craftSilverButton",value:0,cost:{ore:50},craftedOnce:!1,requiredStage:"metalWorking",tooltipDesc:"There's some shiny gray bits in this ore",tooltipCost:"",class:"metalWorking"},bricks:{id:"craftBricksButton",value:0,cost:{clay:15},craftedOnce:!1,requiredStage:"clay",tooltipDesc:"Leave some clay by the fire",tooltipCost:"",class:"clay"},bread:{id:"craftBreadButton",value:0,cost:{wheat:13},craftedOnce:!1,requiredStage:"agriculture",tooltipDesc:"I'm gonna grind your wheat to make my bread!",tooltipcost:"",class:"agriculture"},steel:{value:0,cost:{iron:5}},beams:{value:0,cost:{wood:10}},crates:{value:0,cost:{wood:15}},nails:{value:0,cost:{iron:1}},slabs:{value:0,cost:{rocks:20}},medicine:{value:0,cost:{herbs:50}},leather:{value:0,cost:{hides:10}},concrete:{value:0,cost:{sand:32}},wood:{value:0,cost:{sticks:8}},sticks:{value:0,cost:{wood:.1}}};e.exports={craftedResources:a,getCraftedResourceConfigById:function(e){for(const[t,o]of Object.entries(a))if(o.id===e||o.id===e)return o;return null},getCraftedResourceKeyByConfig:function(e){for(let t in a)if(a[t].id===e.id)return t;return null},resetCraftedResources:function(){for(const[e,t]of Object.entries(a))t.value=0,t.craftedOnce=!1}}},55:e=>{e.exports={perks:{tier1:["Lumberjack","Miner","Botanist","Leader","Architect"],tier2:["Thinker","General","Merchant","Generalist","Specialist"]}}},397:e=>{let t={ponder1:{id:"ponderPonder1",isPondered:!1,cost:{ponder:10},text:"Think Harder",tooltipDesc:"5% boost to pondering",requirement:()=>!0},"jobs-tab":{id:"ponderJobs-tab",isPondered:!1,cost:{ponder:20},text:"Understand Cloning",tooltipDesc:"Why are there two of you?",requirement:()=>!0,tooltipCost:"Sanity (20 Ponder)"},skillsTable:{id:"ponderSkillsTable",isPondered:!1,cost:{ponder:50},tooltipDesc:"You're starting to learn things, right?",requirement:()=>!0,text:"Notice Improvement"},fishing:{id:"ponderFishing",isPondered:!1,cost:{ponder:50,fish:50},tooltipDesc:"What if... your clones could go fishing?",requirement:()=>!0,text:"Fishing Job"},fasterSkills:{id:"ponderFasterSkills",isPondered:!1,cost:{ponder:80},requirement:()=>!0,text:"Skills I",tooltipDesc:"Think Smarter. 5% bonus to skill exp"},thinking:{id:"ponderThinking",isPondered:!1,cost:{ponder:150},text:"Thinking Job",requirement:()=>!0,tooltipDesc:"Let your clones start thinking for themselves."},fasterResourceGain:{id:"ponderFasterResourceGain",isPondered:!1,cost:{ponder:120},requirement:()=>!0,text:"Productivity I",tooltipDesc:"Just work harder. 5% bonus to resource gain"},metalWorking:{id:"ponderMetalWorking",isPondered:!1,requirement:()=>!0,text:"Metal Working",tooltipDesc:"Start processing that ore",cost:{ponder:100,ore:50,rocks:50}},glassBlowing:{id:"ponderGlassBlowing",isPondered:!1,requirement:()=>!0,text:"Glass Blowing",tooltipDesc:"Huff and puff and make a cool vase",cost:{sand:20,ponder:80}},organization:{id:"ponderOrganization",isPondered:!1,requirement:()=>!0,text:"Organized Storage",tooltipDesc:"Organize your storage by groups",cost:{ponder:200}},paper:{id:"ponderPaper",isPondered:!1,requirement:()=>!0,text:"Paper Processing",tooltipDesc:"Smash down some wood into paper",cost:{ponder:200,wood:100}},autoClone:{id:"ponderAutoClone",requirement:()=>!0,isPondered:!1,text:"Auto Clone",tooltipDesc:"Automatically produce clones",cost:{ponder:140,clones:20}},effectiveBuildings:{id:"ponderEffectiveBuildings",requirement:()=>!0,isPondered:!1,text:"Buildings I",tooltipDesc:"Increase building effects by 3%",cost:{ponder:180}},agriculture:{id:"ponderAgriculture",requirement:()=>!0,isPondered:!1,text:"Agriculture",tooltipDesc:"Find some seeds from all those plants",cost:{ponder:180}},combatTab:{id:"ponderCombatTab",requirement:()=>!0,isPondered:!1,text:"Combat",tooltipDesc:"Is there anyone to spar with besides you?",cost:{ponder:300,spear:100}},hunting:{id:"ponderHunting",requirement:()=>!0,isPondered:!1,text:"Hunting",tooltipDesc:"At least there are animals",cost:{ponder:200,fish:50}},perksTab:{id:"ponderPerksTab",requirement:()=>!0,isPondered:!1,text:"Perks",tooltipDesc:"Maybe you as the original should specialize",cost:{ponder:400}},factoryTab:{id:"ponderFactoryTab",requirement:()=>!0,isPondered:!1,text:"Factories",tooltipDesc:"Ascend to the next level of economy",cost:{ponder:500,gold:10,wood:1e3,wheat:1e3,rocks:1e3}},ponder2:{id:"ponderPonder2",requirement:()=>!0,isPondered:!1,text:"Think even harder",tooltipDesc:"5% boost to pondering",cost:{ponder:300}},ponder3:{id:"ponderPonder3",requirement:()=>!0,isPondered:!1,text:"Think hardest",tooltipDesc:"5% boost to pondering",cost:{ponder:600}},biggerShelter:{id:"ponderBiggerShelter",requirement:()=>!0,isPondered:!1,text:"Expand Shelter",tooltipDesc:"Shelters can house 1 more clone each",cost:{ponder:500,sticks:1e3}},biggerHut:{id:"ponderBiggerHut",requirement:()=>!0,isPondered:!1,text:"Expand Hut",tooltipDesc:"Huts can house 1 more clone each",cost:{ponder:750,sticks:1500,vines:1e3}},biggerHouse:{id:"ponderBiggerHouse",requirement:()=>!0,isPondered:!1,text:"Two-story houses",tooltipDesc:"Houses can house 2 more clones each",cost:{ponder:1e3,wood:2e3,rocks:2e3}},biggerTeepee:{id:"ponderBiggerTeepee",requirement:()=>!0,isPondered:!1,text:"Double diameter Teepees",tooltipDesc:"Teepees can house 4 more clones each",cost:{ponder:1250,wood:3e3,hides:1500}},evenBiggerShelter:{id:"ponderEvenBiggerShelter",requirement:()=>!0,isPondered:!1,text:"Expand Shelter Again",tooltipDesc:"Shelters can house 1 more clone each",cost:{ponder:1500,sticks:3e3,fish:1e3}}};e.exports={ponders:t,resetPonders:function(){for(const[e,o]of Object.entries(t))o.isPondered=!1}}},425:e=>{const t={maxClones:{text:"Cramped",tooltipDesc:"Max Clones (+1)",cost:2,level:0},cloneBoost:{text:"Handyman",tooltipDesc:"Clone Productivity (+5%)",cost:1,level:0},gatheringBoost:{text:"Picker",tooltipDesc:"Gathering Efficiency (+10%)",cost:1,level:0},masonryBoost:{text:"Rocker",tooltipDesc:"Masonry Efficiency (+10%)",cost:1,level:0},carpentryBoost:{text:"Chopped",tooltipDesc:"Carpentry Efficiency (+10%)",cost:1,level:0},thinkingBoost:{text:"Wizened",tooltipDesc:"Thinking Efficiency (+10%)",cost:1,level:0},farmingBoost:{text:"Pruned",tooltipDesc:"Farming Efficiency (+10%)",cost:1,level:0},fishingBoost:{text:"Hooked",tooltipDesc:"Fishing Efficiency (+10%)",cost:1,level:0},huntingBoost:{text:"Tracker",tooltipDesc:"Hunting Efficiency (+10%)",cost:1,level:0},cheaperBuildings:{text:"Rickety",tooltipDesc:"Building Cost (-5%)",cost:2,level:0},storageSpace:{text:"Stuffed",tooltipDesc:"Storage Space (+5%)",cost:2,level:0}};function o(e){return t[e].level}e.exports={prestige:t,hasPrestige:function(e){return o(e)>0},getLevelOfPrestige:o}},587:e=>{const t={clones:{id:"makeClone",value:0,isVisible:!1,max:0},sticks:{id:"gatherSticks",isGetting:!1,isVisible:!0,activeText:"𓆱𓀜 Gathering Sticks",defaultText:"𓆱 Gather Sticks",value:0,emoji:"𓀝",max:50},vines:{id:"gatherVines",isGetting:!1,isVisible:!1,activeText:"𓍯𓀪 Gathering Vines",defaultText:"𓍯 Gather Vines",tools:[{tool:"Axe",val:1.5}],value:0,emoji:"𓀪",max:50},rocks:{id:"gatherRocks",isGetting:!1,isVisible:!1,activeText:"𓊖𓀩 Gathering Rocks",defaultText:"𓊖 Gather Rocks",value:0,emoji:"𓀩",max:30},fish:{id:"gatherFish",isGetting:!1,isVisible:!1,activeText:"𓆝𓆟𓆞 𓁃 Gone Fishing",defaultText:"𓆝𓆟𓆞 Go Fish",value:0,emoji:"𓁃",tools:[{tool:"Spear",val:1},{tool:"Fishing Rod",val:2}],max:10},wood:{id:"gatherWood",isGetting:!1,isVisible:!1,activeText:"𓀨 Chopping Wood",defaultText:"𓌏 Chop Wood",emoji:"𓀨",tools:[{tool:"Axe",val:1.5},{tool:"Chainsaw",val:3}],value:0,max:40},ponder:{id:"gatherPonder",isGetting:!1,isVisible:!1,activeText:"𓀁 Pondering",defaultText:"𓀁 Ponder",emoji:"𓀁",value:0,max:20},ore:{value:0,id:"gatherOre",isGetting:!1,isVisible:!1,activeText:"𓉸𓁄 Mining Ore",defaultText:"𓉸 Mine Ore",emoji:"𓁄",max:20},sand:{value:0,id:"gatherSand",isGetting:!1,isVisible:!1,activeText:"𓀩 Scooping Sand",defaultText:"𓀩 Scoop Sand",emoji:"𓀩",max:20},wheat:{value:0,id:"gatherWheat",isGetting:!1,isVisible:!1,activeText:"𓀩 Harvesting Wheat",defaultText:"𓀩 Harvest Wheat",emoji:"𓀝",max:20},freshwater:{value:0,id:"gatherFreshwater",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},hides:{value:0,id:"gatherHides",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀎",max:50},clay:{value:0,id:"gatherClay",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},herbs:{value:0,id:"gatherHerbs",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},game:{value:0,id:"gatherGame",isGetting:!1,isVisible:!1,activeText:"𓃚𓀎 Hunting",defaultText:"𓀎 Hunt",emoji:"𓀎",max:50},husks:{value:0,id:"gatherHusks",isGetting:!1,isVisible:!1,activeText:"",defaultText:"",emoji:"X",max:1e3},violence:{value:0,id:"gatherViolence",isGetting:!1,isVisible:!1,activeText:"",defaultText:"",emoji:"",max:100}};e.exports={resources:t,isResource:function(e){return e in t},getResourceConfigById:function(e){for(let o in t)if(t[o].id===e)return t[o];return null},resetResources:function(){for(const[e,o]of Object.entries(t))o.value=0}}},324:e=>{e.exports={skills:{gathering:{exp:0,level:0,affectedResources:["sticks","vines","sand","herbs","berries"]},masonry:{exp:0,level:0,affectedResources:["rocks","ore","clay"],needTools:[{Pickaxe:["ore"]}]},carpentry:{exp:0,level:0,affectedResources:["wood","handle","staff","fishingrod"],needTools:[{Axe:["wood"]}]},thinking:{exp:0,level:0,affectedResources:["ponder"]},farming:{exp:0,level:0,affectedResources:["wheat","freshwater"]},combat:{exp:0,level:0,affectedResources:["violence"]},fishing:{exp:0,level:0,affectedResources:["fish"]},hunting:{exp:0,level:0,affectedResources:["hides","game"]}}}},808:(e,t,o)=>{const{craftedResources:n,resetCraftedResources:s}=o(371),{buildings:i,resetBuildings:r}=o(882),{ponders:a,resetPonders:c}=o(397),{buttons:l}=o(54),{resources:u,resetResources:d}=o(587),{saveGame:f,loadGame:p}=o(502),{appendCraftedResourceButtons:g,increaseMaterial:m,craftAllResources:b,craftResource:h,calcIncrease:y,updateResourceIncreaseRates:v,increaseMax:k}=o(594),{buyMaxBuildings:x,buyBuilding:w}=o(151),{selectAbility:B,resetPerks:C}=o(134),{clearSidebar:T}=o(78),{makeVisible:S}=o(123),{updateButtonVisibility:M}=o(667),{getCraftedResource:E}=o(590),{getMaterial:A}=o(924),{buyFactory:j,attemptManufacture:q,upgradeBulk:$}=o(51),{isPondered:D,generatePonderButtons:L}=o(369),{hasTool:P,addTool:R}=o(609),{getAteFish:O,setAteFish:I}=o(621),{updateTotal:F,clearJobAssignments:V,resetAllJobs:H}=o(150),{capitalizeFirst:G}=o(681),{passedStage:W,resetStages:N}=o(751),{recalcMaxClones:z}=o(995),{initializeResourceTags:_,updateSidebar:J,updateDisplayValue:Y}=o(453),{prestige:U}=o(425),{triggerFloatUpText:K}=o(727),{updateBounceAnimation:X}=o(994),{updateTooltip:Q,hideTooltip:Z}=o(208),{canCraft:ee}=o(64),{calculateWinChance:te,combat:oe,switchStance:ne}=o(856),{showTab:se,getCurrentTab:ie}=o(93),{getSfxVolume:re,getMusicVolume:ae,setMusicVolume:ce,setSfxVolume:le}=o(98),{generateRandomBuilding:ue}=o(900),{changeMessage:de,messageElement:fe}=o(169),{generateButtons:pe}=o(429),{toggleResource:ge}=o(215),me={SharpRocks:"craftRocks",Spear:"fishing",FishingRod:"fishing",Axe:"wood",Pickaxe:"ore"},be=[{condition:()=>A("sticks",u)>=1,action:()=>S("stick")},{condition:()=>A("sticks",u)>=10,action:()=>S("vines")},{condition:()=>A("vines",u)>=10,action:()=>S("rocks")},{condition:()=>A("rocks",u)>=1,action:()=>{S("tab-button"),S("craftRocks")}},{condition:()=>E("spear",n)>0,action:()=>S("spear")},{condition:()=>A("fish",u)>=1,action:()=>S("fishing")},{condition:()=>P("Axe"),action:()=>S("wood")},{condition:()=>E("rope")>=1,action:()=>S("rope")},{condition:()=>A("fish",u)>=5&&!O(),action:()=>S("eatFish")},{condition:()=>O(),action:()=>{S("clone"),S("ponder-tab")}},{condition:()=>D("ponderFinish"),action:()=>(document.getElementById("page-transition-overlay").classList.add("fade-in"),void setTimeout((function(){window.location.href="stage2.html"}),300))},{condition:()=>D("biggerShelter"),action:()=>z()},{condition:()=>D("biggerHut"),action:()=>z()},{condition:()=>D("biggerHouse"),action:()=>z()},{condition:()=>D("biggerTeepee"),action:()=>z()},{condition:()=>D("evenBiggerShelter"),action:()=>z()},{condition:()=>A("clones")>=40,action:()=>S("prestige")},{condition:()=>A("clay")>0,action:()=>S("clay")},{condition:()=>!document.getElementById("toggle-basics")&&D("organization"),action:()=>_(!0)},{condition:()=>W("combatTab"),action:()=>te()}],he=["./audio/song1.wav","./audio/song2.wav","./audio/song3.wav","./audio/song4.wav","./audio/song5.wav","./audio/song6.wav","./audio/song7.wav","./audio/song8.wav","./audio/song9.wav","./audio/song10.wav"];let ye=null,ve=null;function ke(){ye&&(ye.pause(),ye.currentTime=0);const e=Math.floor(Math.random()*he.length);ye=new Audio(he[e]),ye.volume=ae(),ye.play(),function(){ve&&clearTimeout(ve);const e=3e4*Math.random()+5e3;ye.onended=()=>{ve=setTimeout(ke,e)}}()}document.addEventListener("keydown",(function(e){switch(e.key){case"1":se("productionTab");break;case"2":W("tab-button")&&se("experimentTab");break;case"3":W("ponder-tab")&&se("ponderTab");break;case"4":W("jobs-tab")&&se("jobsTab");break;case"5":W("skillsTable")&&se("skillsTab");break;case"6":W("perksTab")&&se("perksTab");break;case"7":W("factoryTab")&&se("factoryTab");break;case"8":W("combatTab")&&se("combatTab");break;case"a":"combatTab"===ie()&&ne("aggressive");break;case"b":"combatTab"===ie()&&ne("balanced");break;case"c":"combatTab"===ie()&&ne("careful");break;case"f":"combatTab"!==ie()||document.getElementById("startCombat").disabled?ge("fish"):oe();break;case"s":ge("sticks");break;case"r":W("rocks")&&ge("rocks");break;case"v":W("vines")&&ge("vines");break;case"w":W("wood")&&ge("wood");break;case"o":W("ore")&&ge("ore");break;case"p":W("ponder-tab")&&ge("ponder");break;case"Escape":$e()}}));const xe=document.body;xe.classList.toggle("dark-mode");let we=!0;function Be(){const e=document.getElementById("overlay"),t=document.getElementById("overlay-text"),o=document.getElementById("overlay-button");e.style.display="flex",setTimeout((()=>{t.style.opacity="1"}),2e3),setTimeout((()=>{o.style.display="block",o.style.opacity="1"}),5e3)}let Ce=50,Te=null,Se=0,Me=0;function Ee(e){null===Te&&(Te=e);const t=e-Te;Se+=t,Me+=t,Te=e;let o=Ce;for(Me>=10*Ce&&(Ce=Me/10);Me>=Ce;)Me-=Ce,qe(Ce);Ce=o,requestAnimationFrame(Ee)}let Ae=0,je=0;function qe(e,t){for(const[t,o]of Object.entries(u))m(t,y(t,e));v(),function(){for(let e=be.length-1;e>=0;e--){const t=be[e];t.condition()&&(t.action(),be.splice(e,1))}for(let e in me)!P(e)&&E(e)>0&&(R(e),S(me[e]));try{M(),null!==Fe&&Q(Fe)}catch(e){console.warn(e)}}(),Ae+=e,je+=e,Ae>=1e4&&(f(),Ae=0),W("factoryTab")&&je>=1e3&&(q(),je=0)}function $e(){const e=new Audio("./audio/options.wav");e.volume=re(),e.play();const t=document.getElementById("optionsMenu");t.style.display="none"===t.style.display?"block":"none"}window.onbeforeunload=function(){De||f()};let De=!1;document.addEventListener("DOMContentLoaded",(e=>{L(a),pe(),function(){const e=document.querySelector("#factoryButtons"),t=document.createElement("button");t.classList.add("tooltip"),t.id="buyFactoryButton",t.textContent="Buy New Factory",t.setAttribute("data-tooltip-desc","The factory must grow!"),t.setAttribute("tooltipCost","50 silver"),e.appendChild(t),t.addEventListener("click",(()=>{console.log("buying factory"),j()}));const o=document.createElement("button");o.classList.add("tooltip"),o.id="upgradeBulkButton",o.textContent="Upgrade Bulk",o.setAttribute("data-tooltip-desc","Craft more resources per second"),o.setAttribute("tooltipCost","2 → 4: 30 silver"),e.appendChild(o),o.addEventListener("click",(()=>{console.log("upgrading bulk"),$()}))}(),_(),p(),T(),_(D("organization")),g(),J(),se("productionTab"),o(864).generateTradeTable(u),document.addEventListener("click",(e=>{if(null===ye&&ke(),e.target.matches("button")){const s=e.target;if(s.getAttribute("data_building")&&"undefined"!==s.getAttribute("data_building")&&s.classList.contains("purchasable")){var t=s.getAttribute("data_building");const o=e.pageX,n=e.pageY;let i=new Audio("./audio/building.wav");i.volume=re(),i.play();const r=G(t).split("_").join(" ");if(e.shiftKey){let e=x(t);K(o,n,`+${e} ${r}s`,"aqua")}else w(t),K(o,n,`+1 ${r}`,"aqua")}else if(s.classList.contains("unlock")){const e=s.getAttribute("unlock");if(console.log(e),a[e]){var o=!0;for(let t in a[e].cost)if(A(t,u)<a[e].cost[t]){o=!1;break}if(o){for(let t in a[e].cost)m(t,-a[e].cost[t]);a[e].isPondered=!0,S(e),s.display="none";let t=new Audio("./audio/ponder.wav");t.volume=re(),t.play(),"organization"===e&&location.reload()}}}else if("undefined"!==s.id)if("gather"===s.id.slice(0,6))ge(function(e){for(const[t,o]of Object.entries(u))if(o.id===e)return t;return"error "+e}(s.id));else if("craft"===s.id.slice(0,5)){let t=new Audio("./audio/craft.wav");t.volume=re(),t.play();let o=function(e){for(const[t,o]of Object.entries(n))if(console.log(t,o,e),o.id===e)return t;return"error "+e}(s.id);console.log("clicked cr: ",o),ee(o)&&K(e.pageX,e.pageY,`+${o}`,"aqua"),e.shiftKey?b(o):h(o)}else"saveButton"===s.id?f():"eatFish"===s.id?function(){if(!O()&&A("fish",u)>=1){const e=new Audio("./audio/fish.wav");e.volume=re(),e.play(),m("fish",-1),Be(),I(!0),document.querySelector("#eatFish").style.display="none",setTimeout((()=>{de("You are with yourself in a forest.","with yourself","You feel peckish for some seafood."),k("clones",1),m("clones",1)}),1e3)}}():"overlay-button"===s.id?(document.getElementById("overlay-text").style.opacity="0",document.getElementById("overlay-button").style.opacity="0",document.getElementById("overlay").style.display="none",document.getElementById("isekaiButtons").innerHTML="",location.reload()):"deleteSaveButton"===s.id&&confirm("Are you sure you want to delete your save data? This will reset all your progress.")?Ve():"clearJobAssignments"===s.id?V():"darkModeToggle"===s.id?(xe.classList.toggle("dark-mode"),darkModeToggle.classList.toggle("dark"),we=!we,darkModeToggle.textContent=we?"Light Mode":"Dark Mode"):"prestige"===s.id?Ie():"startCombat"===s.id&&oe();if(s.classList.contains("tierOneButton")){let e=s.textContent;B(e)}}if(e.target.matches("#alone")){let t="+1 Clone";u.clones.value<u.clones.max?u.clones.value+=1:t="Max Clones";const o=new Audio("+1 Clone"===t?"./audio/clone.wav":"./audio/failclone.wav");o.volume=re(),o.play();const n=e.pageX,s=e.pageY;K(n,s,t,"+1 Clone"===t?"green":"red"),F(),Y("clones")}})),document.getElementById("optionsButton").addEventListener("click",$e),document.getElementById("musicVolume").addEventListener("input",(function(){ce(this.value),ye.volume=ae()})),document.getElementById("sfxVolume").addEventListener("input",(function(){le(this.value)})),requestAnimationFrame(Ee),document.querySelectorAll(".tooltip").forEach((e=>{e.addEventListener("mouseenter",(function(t){Q(e),Fe=e})),e.addEventListener("onclick",(function(){Q(e)})),e.addEventListener("mouseleave",(function(){Z(),Fe=null}))})),F(),X()}));const Le=document.getElementById("overlay"),Pe=document.getElementById("overlay-text"),Re=document.getElementById("overlay-button"),Oe=document.getElementById("overlay-back-button");function Ie(){Re.addEventListener("click",(()=>{const e=A("clones");d(),s(),c(),C(),r(),H(),N();const t=new Audio("./audio/isekaiconfirm.wav");t.volume=re(),t.play();for(let[e,t]of Object.entries(u))t.max=100;m("husks",e),Le.style.display="none";let o=null;for(let e=0;e<5;e++){const e=ue();i[e.name.split(" ").join("_")]=e,o=e}de("You are in another world.","another",`You feel a need to acquire ${o.cost}`),_(!1)})),Oe.addEventListener("click",(()=>{Le.style.display="none"}));const e=new Audio("./audio/isekai.wav");e.volume=re(),e.play();const t=document.getElementById("husksIsekaiValue");let o;o=t||document.createElement("p"),o.id="husksIsekaiValue",o.innerHTML=`Husks:  ${A("husks")} <br> You will get ${A("clones")} Husks post-isekai.<br>You will receive 5 randomly generated new buildings, unique to this new world.`,o.style.opacity="0",Le.prepend(o),Le.style.backgroundColor="MidnightBlue",Pe.textContent="You step through to another world.",Be(),setTimeout((()=>{Oe.style.opacity="1"}),5e3),setTimeout((function(){const e=document.getElementById("isekaiButtons");let t=1;Object.keys(U).forEach((n=>{const s=document.createElement("button");s.innerHTML=`<b>${U[n].text}</b><br>Level: ${U[n].level}<br>Cost: ${U[n].cost}`,s.setAttribute("tooltipCost",U[n].cost),s.setAttribute("tooltipDesc",U[n].tooltipDesc),s.classList.add("tooltip"),s.style.gridColumn=(t%4+1).toString(),s.style.gridRow=Math.floor(t/4+1).toString(),++t,s.addEventListener("click",(()=>{console.log(`Button ${n} was clicked`),A("husks")<U[n].cost||(U[n].level++,m("husks",-U[n].cost),U[n].cost=function(e){let t=e*(1+Math.sqrt(5))/2;return Math.round(t)}(U[n].cost),s.setAttribute("tooltipCost",U[n].cost),s.innerHTML=`<b>${U[n].text}</b><br>Level: ${U[n].level}<br>Cost: ${U[n].cost}`,o.textContent="Husks: "+A("husks"),Q(s))})),s.addEventListener("contextmenu",(e=>{e.preventDefault(),console.log(`Button ${n} was right clicked`),U[n].level<=0||(U[n].level--,U[n].cost=function(e){let t=e/((1+Math.sqrt(5))/2);return Math.round(t)}(U[n].cost),s.setAttribute("tooltipCost",U[n].cost),m("husks",U[n].cost),s.innerHTML=`<b>${U[n].text}</b><br>Level: ${U[n].level}<br>Cost: ${U[n].cost}`,o.textContent="Husks: "+A("husks"),Q(s))})),e.appendChild(s),s.addEventListener("mouseenter",(function(e){Q(s),Fe=s})),s.addEventListener("mouseleave",(function(){Z(),Fe=null}))}))}),5e3),setTimeout((()=>{o.style.opacity="1"}),5e3)}var Fe=null;function Ve(){localStorage.removeItem("save"),De=!0,location.reload()}e.exports={updateUI:function(e){const t=document.createElement("div");t.innerHTML=`${e}: ${u[e].value}`,document.body.appendChild(t)},setTotalTime:function(e){Se=e},changeMessage:de,getMessage:function(){return fe},total_time:Se,currentHoverButton:Fe,deleteGame:Ve,isekai:Ie,getMessageTooltip:function(){return fe.querySelector("#alone").getAttribute("tooltipDesc")}},window.deleteGame=Ve,window.isekai=Ie},123:(e,t,o)=>{const{setStage:n,passedStage:s}=o(751),{updateButtonVisibility:i}=o(667);t.makeVisible=function(e){s(e)||n(e),document.querySelectorAll("."+e).forEach((e=>{e.classList.add("visible"),e.classList.remove("hidden"),e.style.display=""})),i()}},134:(e,t,o)=>{const{buildings:n}=o(882),{perks:s}=o(55);let i=[];function r(e){return i.includes(e)}function a(e){if(i.push(e),"Architect"===e){const e=o(882).buildings;for(let t of Object.keys(e))o(22).recalculateBuildingCost(t,e,r)}}e.exports={hasPerk:r,addPerk:a,selectAbility:function(e){r(e)||window.confirm("Do you want to select "+e+"? This decision cannot be easily changed.")&&(a(e),o(495).selectCorrectPerkButton(e))},getPerkFromTier:function(e){for(let t in s["tier"+e])if(r(t))return t;return""},getAllPerks:function(){return i},resetPerks:function(){i=[]}}},369:(e,t,o)=>{const{capitalizeFirst:n}=o(681),{ponders:s}=o(397),{getMaterial:i}=o(924),{resources:r}=o(587),{buttons:a}=o(54);function c(e){return!!s[e]&&s[e].isPondered}e.exports={canUnlock:function(e){var t="";for(let o in s)s[o].id===e&&(t=o);if(""===t)return console.warn("invalid unlock id: ",e),!1;var o=!0;for(let e in s[t].cost)if(i(e,r)<s[t].cost[e]){o=!1;break}return o},isPondered:c,generatePonderButtons:function(e){for(const[t,i]of Object.entries(e)){const e=`ponder${n(t)}`;let r=o(594).generateTooltipCost(i.cost);a[e]={class:"tooltip unlock",text:i.text||"Ponder a Mystery?",tooltipDesc:i.tooltipDesc||"Who knows what you'll discover",tooltipCost:r,tab:"ponder",unlock:t,requirement:()=>o(78).getMax("ponder")>=s[t].cost.ponder/2,hide:()=>c(t)}}}}},995:(e,t,o)=>{const{hasPrestige:n,getLevelOfPrestige:s}=o(425),{isPondered:i}=o(369),{setMax:r}=o(594),{passedStage:a}=o(751),{updateBounceAnimation:c}=o(994);t.recalcMaxClones=function(){let e=0;a("clone")&&(e+=1);const t=o(882).buildings;for(const[o,n]of Object.entries(t))n.effects&&n.effects.clones&&(e+=n.effects.clones*n.count);i("biggerShelter")&&(e+=1*t.shelter.count),i("biggerHut")&&(e+=1*t.hut.count),i("biggerHouse")&&(e+=2*t.house.count),i("biggerTeepee")&&(e+=4*t.teepee.count),i("evenBiggerShelter")&&(e+=1*t.shelter.count),n("maxClones")&&(e+=1*s("maxClones")),r("clones",e),c()}},22:(e,t,o)=>{const{hasPrestige:n,getLevelOfPrestige:s}=o(425);t.recalculateBuildingCost=function(e,t,i){let r=t[e];if(r&&r.cost&&r.ratio)for(let e in r.cost)r.cost[e]=Math.round(r.basecost[e]*Math.pow(r.ratio,r.count)),i("Architect")&&(r.cost[e]*=.75),n("cheaperBuildings")&&(r.cost[e]*=Math.pow(.95,s("cheaperBuildings")));const a=document.querySelector("#"+e);var c=o(594).generateTooltipCost(r.cost);if(!a)throw"Button not found for "+e;{a.setAttribute("data-tooltip-cost",c);const e=o(151).generateEffectString(r);a.setAttribute("data-tooltip-effect",e)}}},594:(e,t,o)=>{const{resources:n}=o(587),{craftedResources:s}=o(371),{ponders:i}=o(397),{buttons:r}=o(54),{skills:a}=o(324),{getWorkers:c,updateTotal:l}=o(150),{hasTool:u}=o(609),{calcCraftBonus:d,getMax:f}=o(78),{canCraft:p}=o(64),{capitalizeFirst:g}=o(681),{getMaterial:m}=o(924),{isPondered:b}=o(369),{getCraftedResource:h}=o(590),{calcIncrease:y}=o(121),{updateSidebar:v,abbreviateNumber:k}=o(453),{passedStage:x,getAllStages:w}=o(751),{updateDisplayValue:B}=o(453),{updateSkills:C}=o(491),T=document.getElementById("resources");function S(e,t){n[e].max+=t,v(),l()}function M(e,t){0!=t&&((e=e.toLowerCase())in n?(m(e)<f(e)&&t>0?(b("fasterResourceGain")&&(t*=1.05),n[e].value+=t,C(e,t),"violence"===e&&o(856).refreshValues()):t<0?n[e].value+=t:(n[e].value=f(e),b("autocraft")&&document.querySelector("#autoCraftCheckbox").checked&&D[e]&&L(D[e])),B(e)):e in s?(console.log("crafting a material",e,t),s[e].value+=t,B(e),C(e,t)):(n[e]&&(n[e].value+=t),s[e]&&(s[e].value+=t),v()))}function E(e){const t=document.createElement("button");t.className=e.class+" tooltip",t.setAttribute("id",e.id),t.setAttribute("requirement",e.requiredStage);const o=Object.keys(s).find((t=>s[t]===e));return t.innerHTML=`${e.text||g(o)}`,t.tab="experiment",t}t.resourcesContainer=T,window.increaseMaterial=M,window.increaseMax=S;const A=document.querySelector("#craftedResourceButtons");function j(e){if(null===e)return"";var t="";for(let o in e)t+=`<span class="tooltip-${o} ${m(o,n)>=e[o]?"enough":"not-enough"}">${k(e[o])} ${o}</span><br>`;return t}const q=document.getElementById("emojiDisplay");function $(){let e="";for(let t in n){let o=c(t);if(void 0===o||0==o)continue;let s=n[t].emoji||"𓀟";s&&(e+=s.repeat(o))}q.textContent=e,function(){let e=48;for(q.style.fontSize=`${e}px`;q.offsetWidth>600&&e>30;)e-=1,q.style.fontSize=`${e}px`}()}$();const D={sticks:"handle",wood:"paper",rocks:"sharprocks",vines:"rope",sand:"glass",ore:"gold",clay:"bricks"};function L(e){try{const t=s[e].cost;let o=[];for(let e in t)o.push(m(e,n)/t[e]);let i=Math.floor(Math.min(...o));console.log(e,i),P(e,i)}catch(t){console.log("Failed to craftall for: ",e,t)}}function P(e,t){if(!s.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;if(!p(e))return;let o=s[e].cost;t=Math.floor(t);for(const[e,n]of Object.entries(o))M(e,-n*t);M(e,d(e)*t),s[e].craftedOnce||(s[e].craftedOnce=!0),B(e)}e.exports={increaseMaterial:M,setMax:function(e,t){n[e].max=t,v(),l()},increaseMax:S,craftAllResources:L,craftResource:function(e){if(!s.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;p(e)&&(!function(e,t,o){for(const[e,o]of Object.entries(t))M(e,-o);M(e,o)}(e,s[e].cost,d(e)),s[e].craftedOnce||(s[e].craftedOnce=!0),B(e))},updateEmojiDisplay:$,generateTooltipCost:j,calcSecondsRemaining:function(e,t){if(t<=n[e])return 0;const o=y(e,1e3);return 0==o?-1:Math.ceil(t-n[e].value)/o},appendCraftedResourceButtons:function(){for(let e in s){const t=E(s[e]);t.setAttribute("data-tooltip-desc",s[e].tooltipDesc||""),t.setAttribute("data-tooltip-cost",j(s[e].cost)||""),A.appendChild(t),x(t.getAttribute("requirement"))?t.classList.remove("hidden"):t.classList.add("hidden"),r[s[e].id]=s[e]}},calcIncrease:y,updateResourceIncreaseRates:function(){for(let t in n){const o=y(t,1e3);var e=document.getElementById(`${t}IncreaseRate`);e&&(e.textContent=o)}},craftResourceQuantity:P}},502:(e,t,o)=>{const{calcIncrease:n,updateEmojiDisplay:s}=o(594),{addTool:i,getAllTools:r}=o(609),{allVisibleButtons:a,setVisibleButton:c,getMax:l}=o(78),{makeVisible:u}=o(123),{getCraftedResource:d}=o(590),{getMaterial:f}=o(924),{getAllPerks:p,addPerk:g,hasPerk:m,selectAbility:b}=o(134),{isPondered:h}=o(369),{jobCounts:y,setConnections:v,getConnections:k,distributeWorkers:x,updateDisplay:w}=o(150),{total_time:B}=o(808),{setAteFish:C,getAteFish:T}=o(621),{craftedResources:S}=o(371),{buildings:M}=o(882),{ponders:E}=o(397),{resources:A}=o(587),{skills:j}=o(324),{getAllStages:q}=o(751),{activeFactoriesProducing:$,loadFactory:D}=o(51),{recalcMaxClones:L}=o(995),{updateSidebar:P}=o(453),{prestige:R}=o(425),{recalculateBuildingCost:O}=o(22),{updateBuildingButtonCount:I}=o(607),{updateBuildingList:F}=o(151),{populateSkillsTable:V}=o(491);function H(){let e={skills:{},craftedResources:{},resources:{},tools:[],stages:[],unlocks:{},jobs:{},buildings:{},time:{},allVisibleButtons:[],message:[],connections:new Map,perks:[],factories:{},prestige:{},newBuildings:{}};for(let t in j)e.skills[t]={exp:j[t].exp,level:j[t].level};for(let t in S)e.craftedResources.hasOwnProperty(t)||(e.craftedResources[t]={value:0,craftedOnce:!1}),e.craftedResources[t].value=d(t),e.craftedResources[t].craftedOnce=S[t].craftedOnce;for(let t in A)e.resources.hasOwnProperty(t)||(e.resources[t]={value:0,max:0}),e.resources[t].value=f(t,A),e.resources[t].max=A[t].max;e.tools=r(),e.stages=q(),e.jobs=y,e.perks=p(),e.connections=Array.from(k().entries());for(let t in E)e.unlocks[t]=h(t);for(let t in M)e.buildings[t]=M[t].count,M[t].hasOwnProperty("name")&&(e.newBuildings[t]=M[t]);for(let t in a)e.allVisibleButtons.push(t);for(const[t,o]of Object.entries($))e.factories[t]=o;const t=o(808).getMessage().innerHTML,n=o(808).getMessageTooltip(),s=function(e){const t=document.createElement("div");return t.innerHTML=e,[t.textContent,t.querySelector("span").textContent]}(t);s.push(n),e.message=s;for(const[t,o]of Object.entries(R))e.prestige[t]={cost:o.cost,level:o.level};return e.time.total_time=B,e.time.time_of_save=Date.now(),console.log(e),localStorage.setItem("save",JSON.stringify(e)),e}e.exports={saveGame:H,loadGame:function(){console.log("Loading Game");var e=JSON.parse(localStorage.getItem("save"));if(console.log(e),null!==e){if(void 0!==e.resources)for(let t in e.resources)"undefined"!==t.valueOf()&&null!==t&&null!==A[t]&&(A[t].value=e.resources[t].value,A[t].max=e.resources[t].max,console.log("Updating resources for "+t+" to "+e.resources[t].value,e.resources[t].max),0!=A[t].value&&o(453).updateDisplayValue(t));if(void 0!==e.skills)for(let t in e.skills)j[t].exp=e.skills[t].exp,j[t].level=e.skills[t].level;if(void 0!==e.craftedResources)for(var t of Object.keys(e.craftedResources))S[t]&&(S[t].value=e.craftedResources[t].value,Number.isNaN(S[t].value)&&(S[t].value=0),S[t].craftedOnce=e.craftedResources[t].craftedOnce,o(453).updateDisplayValue(t));if(void 0!==e.tools){let t=[...new Set([...r(),...e.tools])];for(let e in t)i(e)}if(void 0!==e.stages)for(let t in e.stages)u(e.stages[t]);if(void 0!==e.jobs)for(let t in e.jobs)y[t]=e.jobs[t],w(t);if(void 0!==e.unlocks)for(let t in e.unlocks)try{E[t].isPondered=e.unlocks[t]}catch(e){console.warn("Old save data includes obsolete ponder",t)}if(h("skillsTable")&&V(),void 0!==e.perks)for(let[t,n]of Object.entries(e.perks))g(n),o(495).selectCorrectPerkButton(n);if(void 0!==e.prestige)for(const[t,o]of Object.entries(e.prestige))R[t].cost=o.cost,R[t].level=o.level;if(void 0!==e.newBuildings)for(let t in e.newBuildings)M[t]=e.newBuildings[t];if(void 0!==e.buildings){for(let t in e.buildings)try{M[t].count=e.buildings[t],M[t].count>0&&(I(t,M[t].count,M[t].emoji),O(t,M,m))}catch(e){console.warn("error with building",t,e)}P()}if(L(),F(),C(A.clones.max>=1),T()&&(document.querySelector("#eatFish").style.display="none"),void 0!==e.message&&o(169).changeMessage(e.message[0],e.message[1],e.message[2]?e.message[2]:null),void 0!==e.time){o(808).setTotalTime(e.time[B]);const t=Date.now()-e.time.time_of_save;for(let e in A){const o=n(e,t);A[e].value+=o,A[e].value>A[e].max&&(A[e].value=A[e].max)}}if(void 0!==e.allVisibleButtons){console.log(e.allVisibleButtons);for(let t in e.allVisibleButtons)c(t)}void 0!==e.connections&&(v(new Map(e.connections)),0===k().size&&v(new Map),console.log(k()));for(let e in y)x(e,y[e]);if(s(),void 0!==e.factories)for(const[t,o]of Object.entries(e.factories))if(o>0)for(let e=0;e<o;++e)D(t)}}},window.saveGame=H},495:(e,t)=>{t.selectCorrectPerkButton=function(e){let t,o=document.querySelectorAll(".tierOneButton");try{t=document.querySelector(`#${e}Perk`)}catch(e){}t?(o.forEach((e=>{e.setAttribute("disabled","true")})),console.log(t,e),t.removeAttribute("disabled"),t.classList.add("selected")):console.warn("No button found with ability name: "+e)}},93:(e,t,o)=>{const{drawAllConnections:n}=o(150),{updateSidebar:s}=o(453),{refreshValues:i,combat:r,pauseAnimation:a,battleResult:c,simulateBattle:l}=o(856),{getSfxVolume:u}=o(98);function d(){let e="";for(let t of f)t.classList.contains("active")&&(e=t.id);return e}t.getCurrentTab=d;let f=document.querySelectorAll(".tab-content > .content");t.showTab=function(e){console.log("show tab: "+e);let t=d();if(e===t)return;let o=new Audio("./audio/tab.wav");o.volume=u(),o.play();let r=document.getElementById(t);r.classList.remove("active"),r.style.opacity="0";let a=document.querySelectorAll(".tab-button");for(let e of a)e.classList.remove("active");let f=document.getElementById(e);setTimeout((()=>{f.classList.add("active")}),100),setTimeout((()=>{f.style.opacity="1"}),200);const p=`#${e}Button`;let g=document.querySelector(p);g&&g.classList.add("active"),"jobsTab"===e&&n(),"combatTab"===e&&(i(),null===c&&l()),console.log(t,">",e),s()}},453:(e,t,o)=>{const{calcIncrease:n}=o(121),{capitalizeFirst:s}=o(681),{getMaterial:i}=o(924),{getMax:r}=o(78),{resources:a}=o(587),{isPondered:c}=o(369);function l(e){var t=!0;return i(e)>0&&(t=!1,a[e]&&(a[e].isVisible=!0)),a[e]&&a[e].isVisible&&(t=!1),t}function u(e){if("number"!=typeof e)return e;function t(e,t){return e<10?o(e,2)+t:e<100?o(e,1)+t:e<1e3?o(e,0)+t:Math.round(e)+t}function o(e,t){const o=Math.pow(10,t);return(Math.round(e*o)/o).toFixed(t)}return e<1e3?o(e,1):e<1e6?t(e/1e3,"K"):e<1e9?t(e/1e6,"M"):e<1e12?t(e/1e9,"B"):(e===1/0&&(e="∞"),e.toString())}const d=document.getElementById("resources");function f(e,t){let o;t?(o=document.getElementById(`group-${t}`),o||(o=function(e){const t=document.createElement("div");t.className="resourceGroup",t.id=`group-${e}`;const o=document.createElement("button");return o.textContent=e.toUpperCase(),o.onclick=()=>function(e){const t=document.getElementById(`group-${e}`),o=document.getElementById(`toggle-${e}`);Array.from(t.children).forEach((e=>{"P"===e.tagName&&e.classList.toggle("hidden")})),o.classList.contains("arrow-down")?(o.classList.remove("arrow-down"),o.classList.add("arrow-right")):(o.classList.remove("arrow-right"),o.classList.add("arrow-down"))}(e),o.className="toggle-button arrow-down",o.id=`toggle-${e}`,t.appendChild(o),t}(t),d.appendChild(o))):o=document.getElementById("resources");const n=s(e).split("_").join(" "),a=document.createElement("p");a.className="resource",a.id=`resource-${e}`;const c=document.createElement("span");c.className="resourceName",c.textContent=`${n}:`;const l=document.createElement("span");l.className="resourceValue",l.id=`${e}Value`;let u=r(e)&&r(e)<1/0?r(e).toFixed(2):"∞";l.textContent=`${i(e).toFixed(2)} / ${u}`;const f=document.createElement("span");function p(e,t){const o=document.getElementById(e);o&&(o.style.order=t)}return f.className="resourceRate",f.innerHTML=`(+\n            <span id="${e}IncreaseRate">0</span>/s)`,a.appendChild(c),a.appendChild(l),a.appendChild(f),o.appendChild(a),p("resource-clones",1),p("resource-sticks",2),p("resource-vines",3),p("resource-rocks",4),p("resource-fish",5),p("resource-freshwater",6),p("resource-wood",7),p("resource-ore",8),p("resource-sand",9),p("resource-clay",10),p("resource-wheat",11),p("resource-hides",12),p("resource-game",13),p("resource-herbs",14),p("resource-berries",15),p("resource-ponder",50),a}function p(e){const t=d.querySelector(`#${e}Value`),o=d.querySelector(`#${e}IncreaseRate`);if(t){try{t.textContent=`${u(i(e))} / ${u(r(e))}`,o&&(o.textContent=n(e,1e3).toFixed(1)),l(e)?t.parentElement.style.display="none":t.parentElement.style.display=""}catch(o){console.error(t,e,o)}if(a[e]&&a[e].isGetting){const t=document.querySelector("#resources").querySelector("#resource-"+e);t&&(t.style.fontWeight="bold")}}}e.exports={updateSidebar:function(){const e=o(51).allMaterials;Array.from(e).forEach((e=>{a[e]&&p(e)}));for(const[o,n]of Object.entries(e)){if(a[n])continue;const e=document.getElementById("resource-"+n);if(!e)return void console.warn("no parent element found for",n);l(n)?e.style.display="none":e.style.display="";const o=document.getElementById(n+"Value");if(o){var t="#fff";const e=i(n),s=r(n);e===s?t="#fcc":e/s>.6&&(t="#eeb"),o.innerHTML=`<span style="color:${t}">${u(e)} / ${u(s)} </span>`}}},initializeResourceTags:function(e){console.log("initialzing resource tags"),console.trace();const t={special:["clones","husks","ponder","violence"],food:["berries","fish","game","wheat","bread","freshwater"],materials:["sticks","vines","rocks","wood","sand","clay","hides","herbs"],tools:["sharprocks","rope","handle","fishingrod","pickaxe","axe","spear","staff"],advanced:["glass","paper","crates","medicine","leather"],metal:["ore","gold","iron","silver","steel"],construction:["bricks","beams","nails","slabs","concrete"]};for(let[o,n]of Object.entries(t))n.forEach((t=>{let n=document.getElementById("resource-"+t);e||(o=null),n||(n=f(t,o)),l(t)?n.style.display="none":n.style.display=""}))},updateDisplayValue:p,abbreviateNumber:u}},491:(e,t,o)=>{const{skills:n}=o(324),{triggerFloatUpText:s}=o(727),i=function(e){let t={};for(const[o,n]of Object.entries(e))for(const e of n.affectedResources)t[e]||(t[e]=[]),t[e].push(o);return t}(n);console.log(i);let r=!1;function a(){const e=document.getElementById("skillsTable");if(r)for(let e in n){(n[e].exp>0||n[e].level>0)&&(document.querySelector("#tr-"+e).style.display="");let t=document.querySelector(`.progressBar[data-skill="${e}"]`);t&&(t.style.width=n[e].exp+"%",document.querySelector("#level-"+e).textContent="[level "+n[e].level+"]   "+e)}else{console.log("Generating table for the first time"),r=!0;for(let t in n){let o=document.createElement("tr");o.id="tr-"+t;let s=document.createElement("td");s.style.position="relative";let i=document.createElement("div");i.setAttribute("class","progressBar"),i.style.height="20px",i.setAttribute("data-skill",t);let r=document.createElement("span");r.textContent="[level "+n[t].level+"]   "+t,r.setAttribute("id","level-"+t),r.style.position="absolute",r.style.left="10px",r.style.top="50%",r.style.transform="translateY(-50%)",0==n[t].exp&&0==n[t].level&&(o.style.display="none"),s.appendChild(i),s.appendChild(r),o.appendChild(s),e.appendChild(o)}}}e.exports={updateSkills:function(e,t){if(t=Math.abs(t),o(369).isPondered("fasterSkills")&&(t*=1.05),!i[e])return;const r=i[e][0].toString();if(n[r].level>=100)return n[r].level=100,void(n[r].exp=0);if(n[r].exp+=t/Math.pow(1.4,n[r].level),n[r].exp>=100){n[r].level+=1,n[r].exp=0;let e=`Level up! ${r} → ${n[r].level}`;const t=document.getElementById("prestige").getBoundingClientRect();s(t.x,t.y,e,"#F4D03F")}o(751).passedStage("skillsTable")&&a()},populateSkillsTable:a}},751:e=>{let t=[];e.exports={setStage:function(e){t.push(e)},passedStage:function(e){return Object.values(t).includes(e)},getAllStages:function(){return t},resetStages:function(){for(;t.length>0;)t.pop()}}},609:e=>{let t=["Bare Hands"];function o(e){return t.includes(e)}e.exports={hasTool:o,addTool:function(e){(isNaN(e)||isNaN(parseFloat(e)))&&(o(e)||(t.push(e),function(e){var t=document.getElementById("tools-list"),o=document.createElement("li");o.appendChild(document.createTextNode(e)),t&&t.appendChild(o)}(e)))},getAllTools:function(){return t},getToolValueForResource:function(e){if(!e)return 1;if(!e.tools)return 1;const t=e.tools.sort(((e,t)=>t.val-e.val));for(let e of t)if(o(e.tool))return e.val;return 1}}},864:(e,t,o)=>{const{getMaterial:n}=o(924),s=document.getElementById("resourceList"),i=document.getElementById("goldAmount");function r(e,t){n("gold",o(587).resources)>=t&&(o(594).increaseMaterial("gold",-t),o(594).increaseMaterial(e,t),i.textContent=n("gold",o(587).resources))}function a(e,t){n(e,o(587).resources)>=1&&(o(594).increaseMaterial("gold",t),o(594).increaseMaterial(e,-1),i.textContent=n("gold",o(587).resources))}t.generateTradeTable=function(e){for(let t in e){const e=document.createElement("tr"),o=Math.floor(100*Math.random())+10;e.innerHTML=`\n            <td class="tradetd">${t}</td>\n            <td class="tradetd">${o}</td>\n            <td class="tradetd" style="display:flex; flex-direction:row;">\n                <button class="buyBtn" data-resource="${t}" data-price="${o}">Buy</button>\n                <button class="sellBtn" data-resource="${t}" data-price="${o}">Sell</button>\n            </td>\n        `,s.appendChild(e)}document.querySelectorAll(".buyBtn").forEach((e=>{e.addEventListener("click",(e=>{r(e.target.getAttribute("data-resource"),parseFloat(e.target.getAttribute("data-price")))}))})),document.querySelectorAll(".sellBtn").forEach((e=>{e.addEventListener("click",(e=>{a(e.target.getAttribute("data-resource"),parseFloat(e.target.getAttribute("data-price")))}))}))},t.buyResource=r,t.sellResource=a},727:(e,t)=>{t.triggerFloatUpText=function(e,t,o,n){const s=document.createElement("div");s.textContent=o,s.style.left=`${e}px`,s.style.top=t-30+"px",s.style.color=n,s.classList.add("float-up-fade-out"),document.body.appendChild(s),s.addEventListener("animationend",(()=>{s.remove()}))}},994:(e,t,o)=>{const{getMaterial:n}=o(924),{getMax:s}=o(78);t.updateBounceAnimation=function e(){const t=document.getElementById("alone");n("clones")<s("clones")?(t.classList.add("bouncing"),setTimeout((()=>{t.classList.remove("bouncing"),t.offsetHeight,e()}),11e3)):t.classList.remove("bouncing")}},607:(e,t,o)=>{const{capitalizeFirst:n}=o(681);t.updateBuildingButtonCount=function(e,t,o){document.getElementById(`${e}`).textContent=`${o} ${n(e).split("_").join(" ")} (${t})`}},831:(e,t,o)=>{const{buildings:n}=o(882),{updateTooltip:s,hideTooltip:i}=o(208),{fitCharToCell:r}=o(531),a=document.getElementById("buildingList");t.updateBuildingList=function(){const e=document.createDocumentFragment();let t=0;for(const[o,s]of Object.entries(n))for(let n=0;n<s.count;++n,++t){let n=(t%6+1).toString(),i=Math.floor(t/6+1).toString();const r=document.createElement("span");r.className="tooltip",r.style.gridColumn=n,r.style.gridRow=i,r.style.fontSize="36px",r.setAttribute("tooltipDesc",o),r.textContent=s.emoji||"?",e.appendChild(r)}a.innerHTML="",a.appendChild(e),a.addEventListener("mouseenter",(e=>{e.target.classList.contains("tooltip")&&s(e.target)}),!0),a.addEventListener("mouseleave",(e=>{e.target.classList.contains("tooltip")&&i()}),!0)}},667:(e,t,o)=>{const{buttons:n}=o(54),{getCraftedResourceConfigById:s}=o(371),{getBuildingCount:i}=o(882),{isPondered:r,canUnlock:a}=o(369),{getCraftedResourceKeyByConfig:c}=o(371),{isButtonIdVisible:l,setVisibleButton:u}=o(78),{canCraft:d}=o(64),{canBuyBuilding:f}=o(23),{passedStage:p}=o(751);t.updateButtonVisibility=function(){document.querySelectorAll("button").forEach((e=>{const t=n[e.id];if(t){e.classList.remove("hidden","purchasable","button-disabled");var o="hidden";e.id&&l(e.id)&&(o="button-disabled");try{t.requirement&&t.requirement()&&(o="button-disabled",t.tab&&!t.data_building&&"production"===t.tab&&(o="purchasable"),e.id&&"gatherPonder"===e.id&&(o="purchasable"),t.tab&&"ponder"===t.tab&&e.id&&e.classList.contains("unlock")&&(a(e.id)&&(o="purchasable"),r(e.getAttribute("unlock"))&&(o="hidden")),t.tab&&"tabs"===t.tab&&(o="visible"))}catch(e){}if(t.id&&"craft"===t.id.slice(0,5)){t.craftedOnce&&(o="button-disabled");var g=s(t.id);g.value>0&&(o="button-disabled");const e=c(g);d(e)&&(o=!t.requiredStage||t.requiredStage&&p(t.requiredStage)?"purchasable":"hidden")}t.data_building&&(o=i(t.data_building)?"button-disabled":o,o=f(t.data_building)?"purchasable":o),t.hide&&(o=t.hide()?"hidden":o),""!==o&&e.classList.add(o),"hidden"===o?e.style.display="none":(u(e.id),e.style.display="")}})),document.querySelectorAll(".job-button").forEach((e=>{const t=e.getAttribute("data-job");e.classList.remove("hidden","purchasable","button-disabled");var n;const s=o(842).O[t];"hidden"==(n=null==s||r(s)?"purchasable":"not-unlockable"===s?"hidden":"button-disabled")?e.style.display="none":(u(e.id),e.classList.add(n),e.style.display="")}))}},208:(e,t,o)=>{const{getCraftedResourceConfigById:n}=o(371),{buildings:s}=o(882),{ponders:i}=o(397),{resources:r,getResourceConfigById:a}=o(587),{calcSecondsRemaining:c}=o(594),{getMax:l}=o(78),{getMaterial:u}=o(924),d=document.getElementById("dynamic-tooltip");t.hideTooltip=function(){d.style.display="none"},t.updateTooltip=function(e){const t=e.getAttribute("data-tooltip-desc")||e.getAttribute("tooltipDesc"),o=e.getAttribute("data-tooltip-effect"),f=a(e.id)||n(e.id)||s[e.getAttribute("data_building")]||i[e.getAttribute("unlock")],p=e.getAttribute("tooltipCost")||e.getAttribute("data-tooltip-cost")||f&&f.cost;!function(e,t,o,n){let s="";function i(e){let t=parseFloat(e);return e.includes("K")?t*=1e3:e.includes("M")?t*=1e6:e.includes("B")&&(t*=1e9),t}t&&(s+=`<span >${t}</span><hr>`),o&&(s+=`<span style="color:#4cf">${o}</span><hr>`);try{if(n.toString().includes("span"))s+=function(e,t){const o=/class="tooltip-(\w+) .+?">([\d.]+[KM]?)\s(\w+)</g;let n,s="";for(;null!==(n=o.exec(e));){const e=n[1],o=n[2],a=i(o);var r=u(e,t)>=a?"enough":"not-enough";l(e)<a&&(r="exceeds-max"),s+=`<span class="tooltip-${e} ${r}">${o} ${e}</span>`;let d=0;t[e]&&(d=c(e,a)),d>0&&"exceeds-max"!=r&&(s+=`<span class="time-remaining">(${d.toFixed(0)} seconds)</span>`),s+="<br>"}return s}(n,r);else{var a="";for(const[e,t]of Object.entries(n)){var f=u(e,r)>=t?"enough":"not-enough";l(e)<t&&(f="exceeds-max"),a+=`<span class="tooltip-${e} ${f}">${t.toFixed(0)} ${e}</span>`;let o=0;r[e]&&(o=c(e,t)),o>0&&"exceeds-max"!=f&&(a+=`<span class="time-remaining">(${o.toFixed(0)} seconds)</span>`),a+="<br>"}s+=a}}catch(e){void 0!==n&&"undefined"!==n&&(s+=n)}d.innerHTML=s,d.style.left=e.getBoundingClientRect().right+5+"px",d.style.top=e.getBoundingClientRect().top-d.offsetHeight/2+"px",d.style.display="block"}(e,t,o,p)}}},t={};!function o(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}(808)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBTzVhLHdCQUF3QkUsTUFBUSxFQUFLLEtBRWxFM0UsRUFBUTZCLE1BQU1FLElBQU9zZCxFQUFPNWEsd0JBQXdCMUMsSUFBTS9CLEVBQVFvTCxhQUFlLEVBQUssS0FFdEZwTCxFQUFRNkIsTUFBTWtMLFFBQVUsT0FDNUIsQ0FlSWdnQixDQUFZdmdCLEVBQVE0ZixFQUFNQyxFQUFROXhCLEVBQ3RDLEMsR0NwSEl5eUIsRUFBMkIsQ0FBQyxHQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCNVYsSUFBakI2VixFQUNILE9BQU9BLEVBQWE3MEIsUUFHckIsSUFBSUQsRUFBUzIwQixFQUF5QkUsR0FBWSxDQUdqRDUwQixRQUFTLENBQUMsR0FPWCxPQUhBODBCLEVBQW9CRixHQUFVNzBCLEVBQVFBLEVBQU9DLFFBQVMyMEIsR0FHL0M1MEIsRUFBT0MsT0FDZixDQ25CMEIyMEIsQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2F0ZUZpc2guanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvYXVkaW8uanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvYnVpbGRpbmdzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2NhbGNJbmNyZWFzZS5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9jYW5CdXlCdWlsZGluZy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9jYW5DcmFmdC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9jYXBpdGFsaXplRmlyc3QuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvY2hhbmdlTWVzc2FnZS5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9jb21iYXQuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9maXRDaGFyVG9DZWxsLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2dhdGhlcmluZy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9nZW5lcmF0ZUJ1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvZ2VuZXJhdGVSYW5kb21CdWlsZGluZy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9nZXRDcmFmdGVkUmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvZ2V0TWF0ZXJpYWwuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvaGVscGVyLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pvYlJlcXVpcmVkUG9uZGVycy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qb2JzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vYnVpbGRpbmdzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vYnV0dG9ucy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9wZXJrcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL3BvbmRlci5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL3ByZXN0aWdlLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vcmVzb3VyY2VzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vc2tpbGxzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL21haW4uanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvbWFrZVZpc2libGUuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvcGVya3MuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvcG9uZGVyLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3JlY2FsY01heENsb25lcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9yZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvc2F2aW5nLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3NlbGVjdENvcnJlY3RQZXJrQnV0dG9uLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3Nob3dUYWIuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvc2lkZWJhci5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9za2lsbHMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvc3RhZ2VzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3Rvb2xzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3RyYWRlLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3RyaWdnZXJGbG9hdFVwVGV4dC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy91cGRhdGVCb3VuY2VBbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy91cGRhdGVCdWlsZGluZ0xpc3QuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvdXBkYXRlQnV0dG9uVmlzaWJpbGl0eS5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy91cGRhdGVUb29sdGlwLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGF0ZUZpc2ggPSBmYWxzZTtcclxuXHJcbmZ1bmN0aW9uIHNldEF0ZUZpc2goYm9vbCkge1xyXG4gICAgYXRlRmlzaCA9IGJvb2w7XHJcbiAgICByZXR1cm4gYXRlRmlzaDtcclxufVxyXG5mdW5jdGlvbiBnZXRBdGVGaXNoKCkge1xyXG4gICAgcmV0dXJuIGF0ZUZpc2g7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgYXRlRmlzaCxcclxuICAgIHNldEF0ZUZpc2gsXHJcbiAgICBnZXRBdGVGaXNoXHJcbn07IiwibGV0IG11c2ljVm9sdW1lID0gMC41O1xyXG5cclxuXHJcbmZ1bmN0aW9uIHNldE11c2ljVm9sdW1lKHZvbCkge1xyXG4gICAgbXVzaWNWb2x1bWUgPSB2b2w7XHJcbn1cclxuZnVuY3Rpb24gZ2V0TXVzaWNWb2x1bWUoKSB7XHJcbiAgICByZXR1cm4gbXVzaWNWb2x1bWU7XHJcbn1cclxuXHJcbmxldCBzZnhWb2x1bWUgPSAwLjU7XHJcblxyXG5mdW5jdGlvbiBzZXRTZnhWb2x1bWUodm9sKSB7XHJcbiAgICBzZnhWb2x1bWUgPSB2b2w7XHJcbn1cclxuZnVuY3Rpb24gZ2V0U2Z4Vm9sdW1lKCkge1xyXG4gICAgcmV0dXJuIHNmeFZvbHVtZTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzZXRNdXNpY1ZvbHVtZSxcclxuICAgIGdldE11c2ljVm9sdW1lLFxyXG4gICAgc2V0U2Z4Vm9sdW1lLFxyXG4gICAgZ2V0U2Z4Vm9sdW1lXHJcbn07IiwiY29uc3QgeyBidWlsZGluZ3MsIGlzUG9wQnVpbGRpbmcgfSA9IHJlcXVpcmUoJy4vanNvbi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyBpbmNyZWFzZU1hdGVyaWFsLCBpbmNyZWFzZU1heCwgfSA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgdXBkYXRlVG90YWwgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IGhhc1BlcmsgfSA9IHJlcXVpcmUoJy4vcGVya3MnKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG5jb25zdCB7IHJlY2FsY01heENsb25lcyB9ID0gcmVxdWlyZSgnLi9yZWNhbGNNYXhDbG9uZXMnKTtcclxuXHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCB9ID0gcmVxdWlyZSgnLi91cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50Jyk7XHJcbmNvbnN0IHsgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QgfSA9IHJlcXVpcmUoJy4vcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QnKTtcclxuY29uc3QgeyBjYW5CdXlCdWlsZGluZyB9ID0gcmVxdWlyZSgnLi9jYW5CdXlCdWlsZGluZycpO1xyXG5jb25zdCB7IGlzUG9uZGVyZWQgfSA9IHJlcXVpcmUoJy4vcG9uZGVyJyk7XHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdMaXN0IH0gPSByZXF1aXJlKCcuL3VwZGF0ZUJ1aWxkaW5nTGlzdCcpO1xyXG5jb25zdCB7IGNhcGl0YWxpemVGaXJzdCB9ID0gcmVxdWlyZSgnLi9jYXBpdGFsaXplRmlyc3QnKTtcclxuXHJcbi8qIEJVSUxESU5HUyAqL1xyXG5cclxuXHJcblxyXG4vKipcclxuICogQ3JlYXRlIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlZmZlY3Qgb2YgYSBidWlsZGluZ1xyXG4gKiBAcGFyYW0ge09iamVjdH0gYnVpbGRpbmcgVGhlIGJ1aWxkaW5nIG9iamVjdFxyXG4gKiBAcmV0dXJucyBUaGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlZmZlY3Qgb2YgdGhlIGJ1aWxkaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUVmZmVjdFN0cmluZyhidWlsZGluZykge1xyXG4gICAgbGV0IGVmZmVjdFBhcnRzID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgW3Jlc291cmNlLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuZWZmZWN0cykpIHtcclxuICAgICAgICBlZmZlY3RQYXJ0cy5wdXNoKGArJHt2YWx1ZX0gbWF4ICR7cmVzb3VyY2V9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgW3Jlc291cmNlLCBib29zdF0gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuYm9vc3QpKSB7XHJcbiAgICAgICAgbGV0IHBlcmNlbnRhZ2VCb29zdCA9IE1hdGgucm91bmQoKGJvb3N0IC0gMSkgKiAxMDApO1xyXG4gICAgICAgIGlmIChpc1BvbmRlcmVkKCdlZmZlY3RpdmVCdWlsZGluZ3MnKSkgcGVyY2VudGFnZUJvb3N0ICo9IDEuMDE7XHJcbiAgICAgICAgZWZmZWN0UGFydHMucHVzaChgKyR7cGVyY2VudGFnZUJvb3N0fSUgJHtyZXNvdXJjZX0gcHJvZHVjdGlvbmApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWZmZWN0UGFydHMuam9pbignLCAnKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb3N0IG9mIHRoZSBidWlsZGluZ1xyXG4gKiBAcGFyYW0ge09iamVjdH0gY29zdCBUaGUgYnVpbGRpbmcgY29zdCBjb25maWd1cmF0aW9uXHJcbiAqIEByZXR1cm5zIEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb3N0IG9mIHRoZSBidWlsZGluZyBzZXBhcmF0ZWQgYnkgbmV3IGxpbmVzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUJ1aWxkaW5nVG9vbHRpcENvc3QoY29zdCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGNvc3QpLm1hcCgoW21hdGVyaWFsLCBhbW91bnRdKSA9PiBgJHthbW91bnQudG9GaXhlZCgyKX0gJHttYXRlcmlhbH1gKS5qb2luKCdcXG4nKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIGJ1dHRvbiBmb3IgYSBidWlsZGluZ1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVpbGRpbmdLZXkgVGhlIG5hbWUgb2YgdGhlIGJ1aWxkaW5nXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBidWlsZGluZ3MgTWFpbiBidWlsZGluZ3Mgb2JqZWN0XHJcbiAqIEByZXR1cm5zIFRoZSBidWlsZGluZyBidXR0b25cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUJ1aWxkaW5nQnV0dG9uKGJ1aWxkaW5nS2V5LCBidWlsZGluZ3MpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYnVpbGRpbmcgPSBidWlsZGluZ3NbYnVpbGRpbmdLZXldO1xyXG5cclxuICAgICAgICBidWlsZGluZy5jb3N0ID0gYnVpbGRpbmcuYmFzZWNvc3Q7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvc3RzID0gT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuY29zdClcclxuICAgICAgICAgICAgLm1hcCgoW21hdGVyaWFsLCBhbW91bnRdKSA9PiBgJHttYXRlcmlhbH06ICR7YW1vdW50fWApXHJcbiAgICAgICAgICAgIC5qb2luKCcsICcpO1xyXG5cclxuICAgICAgICBjb25zdCByZXF1aXJlbWVudEZ1bmN0aW9uID0gY3JlYXRlUmVxdWlyZW1lbnRGdW5jdGlvbihidWlsZGluZy5jb3N0KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnY3JlYXRlIGJ1aWxkaW5nIGJ1dHRvbjonLCBidWlsZGluZywgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShidWlsZGluZy5lbW9qaSkpKTtcclxuICAgICAgICBjb25zdCBidXR0b24gPSB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6ICd0b29sdGlwICcgKyBidWlsZGluZ0tleSxcclxuICAgICAgICAgICAgJ3RhYic6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICAgICAgJ3RleHQnOiBgJHtKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGJ1aWxkaW5nLmVtb2ppKSl9ICR7Y2FwaXRhbGl6ZUZpcnN0KGJ1aWxkaW5nS2V5KX0gKCR7YnVpbGRpbmcuY291bnR9KWAsXHJcbiAgICAgICAgICAgICd0b29sdGlwRGVzYyc6IGJ1aWxkaW5nc1tidWlsZGluZ0tleV0udG9vbHRpcERlc2MgfHwgXCJBIG15c3RlcmlvdXMgYnVpbGRpbmcgd2l0aCB1bnRvbGQgYmVuZWZpdHMuXCIsXHJcbiAgICAgICAgICAgICd0b29sdGlwQ29zdCc6IGNvc3RzLFxyXG4gICAgICAgICAgICAncmVxdWlyZW1lbnQnOiAoKSA9PiByZXF1aXJlbWVudEZ1bmN0aW9uKCksXHJcbiAgICAgICAgICAgICdkYXRhX2J1aWxkaW5nJzogYnVpbGRpbmdLZXksXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IGNyZWF0ZSBidWlsZGluZyBidXR0b24gZm9yJywgYnVpbGRpbmdLZXksIGJ1aWxkaW5ncyk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgYSBidWlsZGluZyBzaG91bGQgYmUgdmlzaWJsZVxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29zdHMgVGhlIGNvc3RzIG9mIHRoZSBidWlsZGluZ1xyXG4gKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIGEgYnVpbGRpbmcgc2hvdWxkIGJlIHZpc2libGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVJlcXVpcmVtZW50RnVuY3Rpb24oY29zdHMpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgY29zdENvbmRpdGlvbiA9IE9iamVjdC5lbnRyaWVzKGNvc3RzKVxyXG4gICAgICAgICAgICAuZXZlcnkoKFttYXRlcmlhbCwgYW1vdW50XSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRW5vdWdoUmVzb3VyY2UgPSBnZXRNYXRlcmlhbChtYXRlcmlhbCkgPj0gTWF0aC5mbG9vcihhbW91bnQgLyAyKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBDaGVja2luZyAke21hdGVyaWFsfTogTmVlZCAke01hdGguZmxvb3IoYW1vdW50IC8gMil9LCBIYXZlICR7Z2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcyl9LCBSZXN1bHQ6ICR7aGFzRW5vdWdoUmVzb3VyY2V9YCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzRW5vdWdoUmVzb3VyY2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcGFzc2VkU3RhZ2UoJ2Nsb25lcycpICYmIGNvc3RDb25kaXRpb247XHJcbiAgICB9O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEJ1eXMgYSBidWlsZGluZyBpZiBwb3NzaWJsZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVpbGRpbmdOYW1lIFRoZSBuYW1lIG9mIHRoZSBidWlsZGluZ1xyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmZ1bmN0aW9uIGJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgY29uc29sZS5sb2coXCJCdXlpbmcgYnVpbGRpbmcgXCIgKyBidWlsZGluZ05hbWUpO1xyXG4gICAgY29uc3QgYnVpbGRpbmcgPSBidWlsZGluZ3NbYnVpbGRpbmdOYW1lXTtcclxuXHJcblxyXG5cclxuICAgIGlmICghY2FuQnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKSkgcmV0dXJuO1xyXG5cclxuICAgIC8vIEFjdHVhbGx5IGJ1aWxkIHRoZSBidWlsZGluZ1xyXG4gICAgYnVpbGRpbmcuY291bnQrKztcclxuXHJcbiAgICAvLyBTdWJ0cmFjdCB0aGUgY29zdFxyXG4gICAgZm9yIChjb25zdCByZXNvdXJjZSBpbiBidWlsZGluZy5jb3N0KSB7XHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChyZXNvdXJjZSwgLWJ1aWxkaW5nLmNvc3RbcmVzb3VyY2VdKTtcclxuICAgIH1cclxuICAgIC8vIEFkZCB0aGUgZWZmZWN0c1xyXG4gICAgZm9yIChjb25zdCBbcmVzb3VyY2UsIGFtb3VudF0gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuZWZmZWN0cykpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYm91Z2h0IGJ1aWxkaW5nIGVmZmVjdHMnLCByZXNvdXJjZSwgYW1vdW50KTtcclxuICAgICAgICBpbmNyZWFzZU1heChyZXNvdXJjZSwgYW1vdW50KTtcclxuICAgICAgICAvLyBVcGRhdGUgbWF4IGNsb25lcyBhZnRlciB1cGRhdGluZyB0aGUgY291bnRcclxuICAgICAgICBpZiAocmVzb3VyY2UgPT09ICdjbG9uZXMnKSB7XHJcbiAgICAgICAgICAgIHJlY2FsY01heENsb25lcygpO1xyXG4gICAgICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gVXBkYXRlIGJ1dHRvbiB0ZXh0XHJcbiAgICB1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50KGJ1aWxkaW5nTmFtZSwgYnVpbGRpbmcuY291bnQsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYnVpbGRpbmcuZW1vamkpKSk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBjb3N0IG9mIHRoZSBidWlsZGluZ1xyXG4gICAgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QoYnVpbGRpbmdOYW1lLCBidWlsZGluZ3MsIGhhc1BlcmspO1xyXG5cclxuXHJcbiAgICAvLyBhZGRUb0J1aWxkaW5nTGlzdChidWlsZGluZ05hbWUsIGJ1aWxkaW5nLmVtb2ppKTtcclxuICAgIHVwZGF0ZUJ1aWxkaW5nTGlzdCgpO1xyXG59XHJcblxyXG4vKipcclxuICogQnV5cyB0aGUgbWF4aW11bSBudW1iZXIgb2YgYnVpbGRpbmdzIHRoYXQgY2FuIGJlIHB1cmNoYXNlZFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVpbGRpbmdOYW1lIFRoZSBuYW1lIG9mIHRoZSBidWlsZGluZ1xyXG4gKiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIGJ1aWxkaW5ncyB0aGF0IHdlcmUgcHVyY2hhc2VkXHJcbiAqL1xyXG5mdW5jdGlvbiBidXlNYXhCdWlsZGluZ3MoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICBsZXQgYnVpbGRpbmcgPSBidWlsZGluZ3NbYnVpbGRpbmdOYW1lXTtcclxuICAgIC8vIFRPRE8gdXBkYXRlIHdpdGggY29vbCBmb3JtdWxhXHJcbiAgICAvLyBNYXRoLmZsb29yKE1hdGgubG9nKChjdXJyZW5jeSAqIChidWlsZGluZy5yYXRpbyAtIDEpKSAvIChidWlsZGluZy5iYXNlY29zdCAqIE1hdGgucG93KGJ1aWxkaW5nLnJhdGlvLCBidWlsZGluZy5jb3VudCkpKSAvIE1hdGgubG9nKGJ1aWxkaW5nLnJhdGlvKSk7XHJcbiAgICB3aGlsZSAoY2FuQnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKSkge1xyXG4gICAgICAgIGJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSk7XHJcbiAgICAgICAgKytpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGk7XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGdlbmVyYXRlQnVpbGRpbmdUb29sdGlwQ29zdCxcclxuICAgIGNyZWF0ZUJ1aWxkaW5nQnV0dG9uLFxyXG4gICAgYnV5TWF4QnVpbGRpbmdzLFxyXG4gICAgYnV5QnVpbGRpbmcsXHJcbiAgICBnZW5lcmF0ZUVmZmVjdFN0cmluZyxcclxuICAgIHVwZGF0ZUJ1aWxkaW5nTGlzdFxyXG59OyIsImNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL3Jlc291cmNlc1wiKTtcclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5cclxuY29uc3QgeyBza2lsbHMgfSA9IHJlcXVpcmUoJy4vanNvbi9za2lsbHMnKTtcclxuY29uc3QgeyBnZXRXb3JrZXJzIH0gPSByZXF1aXJlKCcuL2pvYnMnKTtcclxuY29uc3QgeyBoYXNQZXJrIH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBnZXRGYWN0b3J5UHJvZHVjdGlvbiB9ID0gcmVxdWlyZShcIi4vZmFjdG9yeVwiKTtcclxuY29uc3QgeyBoYXNQcmVzdGlnZSwgZ2V0TGV2ZWxPZlByZXN0aWdlIH0gPSByZXF1aXJlKFwiLi9qc29uL3ByZXN0aWdlXCIpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKFwiLi9nZXRNYXRlcmlhbFwiKTtcclxuY29uc3QgeyBoYXNUb29sIH0gPSByZXF1aXJlKFwiLi90b29sc1wiKTtcclxuXHJcbi8vIENsb25lcyB3b3JrIGF0IDEvNCB0aGUgc3BlZWQgYnkgZGVmYXVsdFxyXG52YXIgY2xvbmVNdWx0ID0gMC4yNTtcclxuXHJcbi8vIFBlcmtzXHJcblxyXG5jb25zdCBwZXJrQm9vc3RzID0ge1xyXG4gICAgJ0x1bWJlcmphY2snOiBbJ3dvb2QnLCAnc3RpY2tzJ10sXHJcbiAgICAnTWluZXInOiBbJ3JvY2tzJywgJ29yZSddLFxyXG4gICAgJ0JvdGFuaXN0JzogWyd2aW5lcycsICdoZXJicycsICd3aGVhdCddLFxyXG4gICAgLy8gQWRkIG90aGVyIHBlcmtzIGFzIG5lZWRlZFxyXG59O1xyXG5cclxuXHJcbmZ1bmN0aW9uIGFwcGx5UGVya0Jvb3N0KHRvdGFsLCByZXNvdXJjZU5hbWUpIHtcclxuICAgIGZvciAoY29uc3QgW3BlcmssIHJlc291cmNlc10gb2YgT2JqZWN0LmVudHJpZXMocGVya0Jvb3N0cykpIHtcclxuICAgICAgICBpZiAocmVzb3VyY2VzLmluY2x1ZGVzKHJlc291cmNlTmFtZSkgJiYgaGFzUGVyayhwZXJrKSkge1xyXG4gICAgICAgICAgICB0b3RhbCAqPSAxLjc1OyAvLyA3NSUgYm9udXMgdG8gc3BlY2lmaWNcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG90YWw7XHJcbn1cclxuXHJcbi8vIFNraWxsc1xyXG5cclxuY29uc3Qgc2tpbGxCb29zdHMgPSB7XHJcbiAgICAnZ2F0aGVyaW5nJzogWydnYXRoZXJpbmdCb29zdCddLFxyXG4gICAgJ21hc29ucnknOiBbJ21hc29ucnlCb29zdCddLFxyXG4gICAgJ2NhcnBlbnRyeSc6IFsnY2FycGVudHJ5Qm9vc3QnXSxcclxuICAgICd0aGlua2luZyc6IFsndGhpbmtpbmdCb29zdCddLFxyXG4gICAgJ2Zhcm1pbmcnOiBbJ2Zhcm1pbmdCb29zdCddLFxyXG4gICAgJ2Zpc2hpbmcnOiBbJ2Zpc2hpbmdCb29zdCddLFxyXG4gICAgJ2h1bnRpbmcnOiBbJ2h1bnRpbmdCb29zdCddLFxyXG59O1xyXG5cclxuZnVuY3Rpb24gYXBwbHlTa2lsbEJvb3N0KHRvdGFsLCByZXNvdXJjZU5hbWUpIHtcclxuICAgIGZvciAoY29uc3QgW3NraWxsLCBib29zdHNdIG9mIE9iamVjdC5lbnRyaWVzKHNraWxsQm9vc3RzKSkge1xyXG4gICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmFmZmVjdGVkUmVzb3VyY2VzLmluY2x1ZGVzKHJlc291cmNlTmFtZSkpIHtcclxuICAgICAgICAgICAgYm9vc3RzLmZvckVhY2goYm9vc3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1ByZXN0aWdlKGJvb3N0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsICo9IDEuMSAqIGdldExldmVsT2ZQcmVzdGlnZShib29zdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsZXQgc2tpbGxSYXRpbyA9IDEuMDY7XHJcbiAgICAgICAgICAgIGxldCBtdWx0ID0gMSArIChNYXRoLnBvdyhza2lsbFJhdGlvLCBza2lsbHNbc2tpbGxdLmxldmVsKSAtIDEpIC8gMTAwO1xyXG4gICAgICAgICAgICB0b3RhbCAqPSBtdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0b3RhbDtcclxufVxyXG5cclxuLy8gVG9vbHNcclxuXHJcbmNvbnN0IHJlc291cmNlVG9vbE1hcCA9IHtcclxuICAgICd3b29kJzogJ2F4ZScsXHJcbiAgICAnb3JlJzogJ3BpY2theGUnLFxyXG4gICAgJ2Zpc2gnOiAnZmlzaGluZ3JvZCcsXHJcbiAgICAnZ2FtZSc6ICdzcGVhcicsXHJcbiAgICAncG9uZGVyJzogJ3BhcGVyJyxcclxuICAgICdzdGlja3MnOiAnc3RhZmYnLFxyXG4gICAgLy8gQWRkIG1vcmUgbWFwcGluZ3MgYXMgbmVlZGVkXHJcbn07XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvb2xCb29zdCh0b3RhbCwgcmVzb3VyY2VOYW1lKSB7XHJcbiAgICBjb25zdCB0b29sTmFtZSA9IHJlc291cmNlVG9vbE1hcFtyZXNvdXJjZU5hbWVdO1xyXG4gICAgaWYgKHRvb2xOYW1lICYmIGdldE1hdGVyaWFsKHRvb2xOYW1lKSA+IDEwKSB7XHJcbiAgICAgICAgdG90YWwgKj0gMSArIE1hdGgubG9nMTAoZ2V0TWF0ZXJpYWwodG9vbE5hbWUpIC8gMTApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvdGFsO1xyXG59XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlIHRoZSBhbW91bnQgYSByZXNvdXJjZSBzaG91bGQgaW5jcmVhc2UgYnkgaW4gYSBnaXZlbiB0aW1lIHBlcmlvZFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzb3VyY2VOYW1lIFRoZSByZXNvdXJjZSB0byBjYWxjdWxhdGVcclxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhX3RpbWUgSG93IG11Y2ggdGltZSBoYXMgZWxhcHNlZFxyXG4gKiBAcmV0dXJucyBUaGUgYW1vdW50IHRoYXQgcmVzb3VyY2Ugc2hvdWxkIGluY3JlYXNlIGJ5XHJcbiAqL1xyXG5mdW5jdGlvbiBjYWxjSW5jcmVhc2UocmVzb3VyY2VOYW1lLCBkZWx0YV90aW1lKSB7XHJcbiAgICB2YXIgdG90YWwgPSAwO1xyXG4gICAgY29uc3QgYnVpbGRpbmdzID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIikuYnVpbGRpbmdzO1xyXG4gICAgLy8gY2xvbmVzIGluY3JlYXNlIGJ5IDEgcGVyIHNlY29uZCBhcyBsb25nIGFzIHRoZXJlJ3Mgc3BhY2VcclxuICAgIC8vIGlmIChyZXNvdXJjZSA9PT0gJ2Nsb25lcycgJiYgcGFzc2VkU3RhZ2UoJ2Nsb25lJykpIHtcclxuICAgIC8vICAgICB0b3RhbCA9IDE7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRvdGFsO1xyXG4gICAgLy8gfVxyXG4gICAgaWYgKCFyZXNvdXJjZXMuaGFzT3duUHJvcGVydHkocmVzb3VyY2VOYW1lKSkge1xyXG4gICAgICAgIGlmIChjcmFmdGVkUmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlTmFtZSkpIHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgb3VyIGZhY3Rvcmllc1xyXG4gICAgICAgICAgICB0b3RhbCA9IGdldEZhY3RvcnlQcm9kdWN0aW9uKHJlc291cmNlTmFtZSk7XHJcbiAgICAgICAgICAgIGlmICh0b3RhbCA+IDApIHJldHVybiB0b3RhbDsgLy8gRG9uJ3QgYXBwbHkgc2tpbGxzIHRvIGZhY3Rvcmllc1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiB0b3RhbDsgLy8gaWYgbm90IGEgcmVzb3VyY2Ugb3IgYSBjcmFmdGVkIHJlc291cmNlLCByZXR1cm4gMFxyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZXNvdXJjZU5hbWUgPT09ICdjbG9uZXMnICYmIGlzUG9uZGVyZWQoJ2F1dG9DbG9uZScpKSB0b3RhbCA9IDE7XHJcblxyXG4gICAgLy8gR2F0aGVyaW5nIHBlcnNvbmFsbHlcclxuICAgIGlmIChyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSAmJiByZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS5pc0dldHRpbmcpIHtcclxuICAgICAgICB0b3RhbCArPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGpvYnNcclxuICAgIGxldCBsZWFkZXJNdWx0ID0gaGFzUGVyaygnTGVhZGVyJykgPyBjbG9uZU11bHQgKiAxLjUgOiBjbG9uZU11bHQ7XHJcbiAgICB0b3RhbCArPSBsZWFkZXJNdWx0ICogZ2V0V29ya2VycyhyZXNvdXJjZU5hbWUpIHx8IDA7XHJcblxyXG5cclxuICAgIC8vIEFwcGx5IHBlcmtzIHByb2R1Y3Rpb24gYm9vc3RcclxuICAgIHRvdGFsID0gYXBwbHlQZXJrQm9vc3QodG90YWwsIHJlc291cmNlTmFtZSk7XHJcbiAgICAvLyBBcHBseSBza2lsbHMgdG8gYWxsIGNsb25lc1xyXG4gICAgdG90YWwgPSBhcHBseVNraWxsQm9vc3QodG90YWwsIHJlc291cmNlTmFtZSk7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coZ2V0Qm9vc3QoJ2NhbXBmaScpKVxyXG4gICAgLy8gQWxsIGJ1aWxkaW5ncyBhZnRlciBsZXZlbFxyXG4gICAgZm9yIChjb25zdCBidWlsZGluZyBvZiBPYmplY3Qua2V5cyhidWlsZGluZ3MpKSB7XHJcbiAgICAgICAgY29uc3QgYm9vc3REYXRhID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIikuZ2V0Qm9vc3QoYnVpbGRpbmcsIHJlc291cmNlTmFtZSk7XHJcbiAgICAgICAgaWYgKGJvb3N0RGF0YSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGluY3JlYXNlID0gTWF0aC5wb3coYm9vc3REYXRhLCBidWlsZGluZ3NbYnVpbGRpbmddLmNvdW50KTtcclxuICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ2VmZmVjdGl2ZUJ1aWxkaW5ncycpKSBpbmNyZWFzZSAqPSAxLjAzO1xyXG4gICAgICAgICAgICB0b3RhbCAqPSBpbmNyZWFzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocmVzb3VyY2VOYW1lID09PSAncG9uZGVyJykge1xyXG4gICAgICAgIGlmIChpc1BvbmRlcmVkKCdwb25kZXIxJykpIHRvdGFsICo9IDEuMDU7XHJcbiAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ3BvbmRlcjInKSkgdG90YWwgKj0gMS4wNTtcclxuICAgICAgICBpZiAoaXNQb25kZXJlZCgncG9uZGVyMycpKSB0b3RhbCAqPSAxLjA1O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1BvbmRlcmVkKCdmYXN0ZXJSZXNvdXJjZUdhaW4nKSkgdG90YWwgKj0gMS4wNTtcclxuICAgIGlmIChoYXNQcmVzdGlnZSgnY2xvbmVCb29zdCcpKSB0b3RhbCAqPSAxLjA1ICogZ2V0TGV2ZWxPZlByZXN0aWdlKCdjbG9uZUJvb3N0Jyk7XHJcblxyXG4gICAgLy8gQ2hlY2sgdG9vbHNcclxuICAgIHRvdGFsID0gYXBwbHlUb29sQm9vc3QodG90YWwsIHJlc291cmNlTmFtZSk7XHJcblxyXG4gICAgLy8gTmVlZCBhdCBsZWFzdCAxMCBodXNrcyB0byBib29zdCBtYXRoZW1hdGljYWxseSAobG4oMSkgPSAwKVxyXG4gICAgaWYgKGdldE1hdGVyaWFsKCdodXNrcycpID4gMTApIHRvdGFsICo9IDEgKyBNYXRoLmxvZyhnZXRNYXRlcmlhbCgnaHVza3MnKSAvIDEwKTtcclxuICAgIC8vIENvbnZlcnQgZnJvbSBzZWNvbmRzIHRvIG1pbGxpc2Vjb25kc1xyXG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoKHRvdGFsICogZGVsdGFfdGltZSAvIDEwMDApLnRvRml4ZWQoMykpO1xyXG59XHJcbmV4cG9ydHMuY2FsY0luY3JlYXNlID0gY2FsY0luY3JlYXNlOyIsImNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZSgnLi9zdGFnZXMnKTtcclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVpbGRpbmdOYW1lXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBjYW5CdXlCdWlsZGluZyhidWlsZGluZ05hbWUpIHtcclxuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgZW5vdWdoIHJlc291cmNlc1xyXG4gICAgbGV0IGNhbkJ1eSA9IHRydWU7XHJcbiAgICBjb25zdCBidWlsZGluZ3MgPSByZXF1aXJlKCcuL2pzb24vYnVpbGRpbmdzJykuYnVpbGRpbmdzO1xyXG4gICAgY29uc3QgYnVpbGRpbmcgPSBidWlsZGluZ3NbYnVpbGRpbmdOYW1lXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHJlc291cmNlIGluIGJ1aWxkaW5nLmNvc3QpIHtcclxuICAgICAgICBpZiAoYnVpbGRpbmcuY29zdFtyZXNvdXJjZV0gPiBnZXRNYXRlcmlhbChyZXNvdXJjZSwgcmVzb3VyY2VzKSkge1xyXG4gICAgICAgICAgICBjYW5CdXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbid0IGJ1eSBjbG9uaW5nIGJ1aWxkaW5ncyBiZWZvcmUgY2xvbmVzIHVubG9ja2VkXHJcbiAgICBpZiAoYnVpbGRpbmcuZWZmZWN0cyAmJiBidWlsZGluZy5lZmZlY3RzWydjbG9uZXMnXSAmJiAhcGFzc2VkU3RhZ2UoJ2Nsb25lJykpIGNhbkJ1eSA9IGZhbHNlO1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYW4gd2UgYnV5ICcsYnVpbGRpbmdOYW1lLGNhbkJ1eSk7XHJcbiAgICByZXR1cm4gY2FuQnV5O1xyXG59XHJcbmV4cG9ydHMuY2FuQnV5QnVpbGRpbmcgPSBjYW5CdXlCdWlsZGluZzsiLCJjb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGNyYWZ0ZWRSZXNvdXJjZXMgfSA9IHJlcXVpcmUoXCIuL2pzb24vY3JhZnRlZFJlc291cmNlc1wiKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5cclxuZnVuY3Rpb24gY2FuQ3JhZnQocmVzb3VyY2VLZXkpIHtcclxuICAgIGxldCBjYW5DcmFmdCA9IHRydWU7XHJcbiAgICBsZXQgcmVxdWlyZW1lbnRzID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY29zdDtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBhbGwgcmVxdWlyZW1lbnRzIGFyZSBtZXRcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzb3VyY2VLZXksIHJlcXVpcmVtZW50cyk7XHJcbiAgICAgICAgZm9yIChsZXQgbWF0IGluIHJlcXVpcmVtZW50cykge1xyXG5cclxuICAgICAgICAgICAgaWYgKGdldE1hdGVyaWFsKG1hdCwgcmVzb3VyY2VzKSA8IHJlcXVpcmVtZW50c1ttYXRdKSB7XHJcbiAgICAgICAgICAgICAgICBjYW5DcmFmdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGluIGNhbGN1bGF0aW5nIHJlcXVpcmVtZW50czogJywgcmVzb3VyY2VLZXksIHJlcXVpcmVtZW50cywgZXJyKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2FuQ3JhZnQ7XHJcbn1cclxuZXhwb3J0cy5jYW5DcmFmdCA9IGNhbkNyYWZ0OyIsIi8qKlxyXG4gKiBDYXBpdGFsaXplcyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc3RyaW5nXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgc3RyaW5nRXhhbXBsZVxyXG4gKiBAcmV0dXJucyBTdHJpbmdFeGFtcGxlXHJcbiAqL1xyXG5mdW5jdGlvbiBjYXBpdGFsaXplRmlyc3Qoc3RyKSB7XHJcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xyXG59XHJcbmV4cG9ydHMuY2FwaXRhbGl6ZUZpcnN0ID0gY2FwaXRhbGl6ZUZpcnN0OyIsIi8vIEV4YW1wbGUgdXNhZ2VcclxuLy8gbmF2aWdhdGVUbygnbmV4dC1wYWdlLmh0bWwnKTtcclxuLy8gTWVzc2FnZSBcclxuY29uc3QgbWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZScpO1xyXG5leHBvcnRzLm1lc3NhZ2VFbGVtZW50ID0gbWVzc2FnZUVsZW1lbnQ7XHJcbmZ1bmN0aW9uIGNoYW5nZU1lc3NhZ2UobmV3TWVzc2FnZSwgY2xvbmVXb3JkcywgdG9vbHRpcCA9ICdZb3UgZmVlbCBwZWNraXNoIGZvciBzb21lIHNlYWZvb2QnKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhuZXdNZXNzYWdlLCBjbG9uZVdvcmRzLCB0b29sdGlwKTtcclxuICAgIGlmICh0b29sdGlwID09PSBudWxsKSB0b29sdGlwID0gJ1lvdSBmZWVsIHBlY2tpc2ggZm9yIHNvbWUgc2VhZm9vZCc7XHJcbiAgICBjb25zdCBtb2RpZmllZE1lc3NhZ2UgPSBuZXdNZXNzYWdlLnJlcGxhY2UoY2xvbmVXb3JkcywgYDxzcGFuIGNsYXNzPSd0b29sdGlwJyBpZD1cImFsb25lXCIgdG9vbHRpcERlc2M9XCIke3Rvb2x0aXB9XCI+JHtjbG9uZVdvcmRzfTwvc3Bhbj5gKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIG1lc3NhZ2VFbGVtZW50LmlubmVySFRNTCA9IG1vZGlmaWVkTWVzc2FnZTtcclxufVxyXG5leHBvcnRzLmNoYW5nZU1lc3NhZ2UgPSBjaGFuZ2VNZXNzYWdlOyIsImNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoXCIuL2dldE1hdGVyaWFsXCIpO1xyXG5jb25zdCB7IGluY3JlYXNlTWF0ZXJpYWwgfSA9IHJlcXVpcmUoXCIuL3Jlc291cmNlc1wiKTtcclxuXHJcblxyXG5jb25zdCBsb290VGFibGUgPSB7XHJcbiAgICBodXNrczogeyBwcm9iYWJpbGl0eTogMC4wNSwgcXVhbnRpdHk6IDEgfSxcclxuXHJcbiAgICBuYWlsczogeyBwcm9iYWJpbGl0eTogMC4xMCwgcXVhbnRpdHk6IDUwIH0sXHJcbiAgICBzbGFiczogeyBwcm9iYWJpbGl0eTogMC4yMCwgcXVhbnRpdHk6IDUwIH0sXHJcbiAgICBiZWFtczogeyBwcm9iYWJpbGl0eTogMC4xMCwgcXVhbnRpdHk6IDYwIH0sXHJcblxyXG4gICAgYXhlOiB7IHByb2JhYmlsaXR5OiAwLjE1LCBxdWFudGl0eTogNSB9LFxyXG4gICAgc3BlYXI6IHsgcHJvYmFiaWxpdHk6IDEsIHF1YW50aXR5OiA1IH0sXHJcblxyXG4gICAgZ29sZDogeyBwcm9iYWJpbGl0eTogLjEsIHF1YW50aXR5OiAxMCB9LFxyXG4gICAgaXJvbjogeyBwcm9iYWJpbGl0eTogMC4xNSwgcXVhbnRpdHk6IDUwIH0sXHJcbiAgICBzaWx2ZXI6IHsgcHJvYmFiaWxpdHk6IDAuMDUsIHF1YW50aXR5OiAyMCB9LFxyXG4gICAgc3RlZWw6IHsgcHJvYmFiaWxpdHk6IDAuMTAsIHF1YW50aXR5OiAzMCB9LFxyXG5cclxuICAgIGJyaWNrczogeyBwcm9iYWJpbGl0eTogMC4xNSwgcXVhbnRpdHk6IDgwIH0sXHJcblxyXG59O1xyXG5cclxubGV0IGN1cnJMb290ID0ge307XHJcblxyXG5mdW5jdGlvbiBnZXRDdXJyTG9vdCgpIHtcclxuICAgIHJldHVybiBjdXJyTG9vdDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVMb290KCkge1xyXG4gICAgbGV0IGxvb3QgPSB7fTtcclxuICAgIGZvciAoY29uc3QgcmVzb3VyY2UgaW4gbG9vdFRhYmxlKSB7XHJcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCBsb290VGFibGVbcmVzb3VyY2VdLnByb2JhYmlsaXR5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHF1YW50aXR5ID0gTWF0aC5mbG9vcihsb290VGFibGVbcmVzb3VyY2VdLnF1YW50aXR5ICogKE1hdGgucmFuZG9tKCkgKiAuNCArIC44KSk7IC8vIEdldCBsb290IDgwJSAtIDEyMCVcclxuICAgICAgICAgICAgaWYgKHF1YW50aXR5ID4gMCkgbG9vdFtyZXNvdXJjZV0gPSBxdWFudGl0eTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjdXJyTG9vdCA9IGxvb3Q7XHJcbiAgICBjb25zb2xlLmxvZyhjdXJyTG9vdCk7XHJcbiAgICByZXR1cm4gbG9vdDtcclxufVxyXG5cclxuXHJcblxyXG4vLyBzY3JpcHQuanNcclxuY29uc3QgYXJlbmEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXJlbmEnKTtcclxuZnVuY3Rpb24gY3JlYXRlQmFsbHModGVhbSwgY291bnQpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGJhbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBiYWxsLmNsYXNzTmFtZSA9IGBiYWxsICR7dGVhbX1gO1xyXG4gICAgICAgIGJhbGwuc3R5bGUubGVmdCA9IGAke3RlYW0gPT09ICdwbGF5ZXInID8gMTAgOiA5MH0lYDsgLy8gU3RhcnRpbmcgcG9zaXRpb25zXHJcbiAgICAgICAgYmFsbC5zdHlsZS50b3AgPSBgJHsxMCArIGkgKiAzMH1weGA7XHJcbiAgICAgICAgYXJlbmEuYXBwZW5kQ2hpbGQoYmFsbCk7XHJcbiAgICAgICAgaWYgKHRlYW0gPT09ICdwbGF5ZXInKSBwbGF5ZXJUcm9vcHMucHVzaChiYWxsKTtcclxuICAgICAgICBlbHNlIGVuZW15VHJvb3BzLnB1c2goYmFsbCk7XHJcbiAgICB9XHJcbn1cclxubGV0IHBsYXllclRyb29wcyA9IFtdO1xyXG5sZXQgZW5lbXlUcm9vcHMgPSBbXTtcclxubGV0IGFuaW1hdGlvbnMgPSBbXTtcclxuY29uc3QgYW5pbVRpbWUgPSAzMDAwO1xyXG5mdW5jdGlvbiBzdGFydEFuaW1hdGlvbigpIHtcclxuXHJcbiAgICBjb25zdCBiYWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYWxsJyk7XHJcbiAgICBiYWxscy5mb3JFYWNoKGJhbGwgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlzcGxheWVyVGVhbSA9IGJhbGwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwbGF5ZXInKTtcclxuICAgICAgICBjb25zdCB0YXJnZXRYID0gaXNwbGF5ZXJUZWFtID8gYXJlbmEub2Zmc2V0V2lkdGggOiAtYXJlbmEub2Zmc2V0V2lkdGg7IC8vIFRhcmdldCBwb3NpdGlvbnNcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhiYWxsLCB0YXJnZXRYKTtcclxuICAgICAgICBhbmltYXRpb25zLnB1c2goYmFsbC5hbmltYXRlKFtcclxuICAgICAgICAgICAgeyB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKCR7dGFyZ2V0WH1weClgIH1cclxuICAgICAgICBdLCB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiBhbmltVGltZSxcclxuICAgICAgICAgICAgZmlsbDogJ25vbmUnXHJcbiAgICAgICAgfSkuZmluaXNoZWQudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGJhbGwucmVtb3ZlKCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfSk7XHJcbiAgICB1cGRhdGUoKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBjb25zdCBwbGF5ZXJCYWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5ZXInKS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgZW5lbXlCYWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbmVteScpLmxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKHBsYXllckJhbGxzID09PSAwIHx8IGVuZW15QmFsbHMgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBiYWxsIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYWxsJykpIHtcclxuICAgICAgICAgICAgYmFsbC5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTmVlZCB0byBiYXR0bGUgYWdhaW5cclxuICAgICAgICBjcmVhdGVCYWxscygncGxheWVyJywgcGxheWVyQmFsbHMpO1xyXG4gICAgICAgIGNyZWF0ZUJhbGxzKCdlbmVteScsIGVuZW15QmFsbHMpO1xyXG4gICAgICAgIHN0YXJ0QW5pbWF0aW9uKCk7XHJcblxyXG4gICAgfSwgYW5pbVRpbWUgLSAxMDApOyAvLyBOZWVkIHRvIGV4ZWN1dGUgYmVmb3JlIHRoZSBiYWxscyBhcmUgZGVsZXRlZFxyXG59XHJcblxyXG5sZXQgaGFzUmV3YXJkZWQgPSBmYWxzZTtcclxuZnVuY3Rpb24gY2hlY2tGb3JXaW4oKSB7XHJcbiAgICBpZiAoaGFzUmV3YXJkZWQpIHJldHVybjtcclxuICAgIGNvbnN0IHBsYXllckJhbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBsYXllcicpLmxlbmd0aDtcclxuICAgIGNvbnN0IGVuZW15QmFsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZW5lbXknKS5sZW5ndGg7XHJcblxyXG4gICAgaWYgKHBsYXllckJhbGxzID09PSAwICYmIGVuZW15QmFsbHMgPiAwKSBiYXR0bGVSZXN1bHQgPSAnZW5lbXknO1xyXG4gICAgZWxzZSBpZiAoZW5lbXlCYWxscyA9PT0gMCAmJiBwbGF5ZXJCYWxscyA+IDApIGJhdHRsZVJlc3VsdCA9ICdwbGF5ZXInO1xyXG5cclxuICAgIGlmIChiYXR0bGVSZXN1bHQgIT09IG51bGwpIHtcclxuICAgICAgICBjb25zdCBjb21iYXRSZXN1bHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tYmF0UmVzdWx0Jyk7XHJcbiAgICAgICAgaWYgKGJhdHRsZVJlc3VsdCA9PT0gXCJwbGF5ZXJcIikge1xyXG4gICAgICAgICAgICBjb21iYXRSZXN1bHQudGV4dENvbnRlbnQgPSBcIllvdSB3b24hXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChiYXR0bGVSZXN1bHQgPT09IFwiZW5lbXlcIikge1xyXG4gICAgICAgICAgICBjb21iYXRSZXN1bHQudGV4dENvbnRlbnQgPSBcIlRoZSBFbmVteSB3b24hXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29tYmF0UmVzdWx0LnRleHRDb250ZW50ID0gXCJJdCdzIGEgZHJhdyFcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGZpZ2h0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSwgYW5pbVRpbWUgLyAyKTtcclxuXHJcbiAgICAgICAgLy8gUmV3YXJkIHRoZSBwbGF5ZXIgdGhlaXIgbG9vdCBpZiB0aGV5IHdvblxyXG4gICAgICAgIGlmIChiYXR0bGVSZXN1bHQgPT09IFwicGxheWVyXCIpIHtcclxuICAgICAgICAgICAgaGFzUmV3YXJkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgc3RhbmNlTXVsdCA9IDE7XHJcbiAgICAgICAgICAgIGlmIChnZXRTdGFuY2UoKSA9PT0gJ2FnZ3Jlc3NpdmUnKSBzdGFuY2VNdWx0ID0gLjc1O1xyXG4gICAgICAgICAgICBpZiAoZ2V0U3RhbmNlKCkgPT09ICdjYXJlZnVsJykgc3RhbmNlTXVsdCA9IDEuMjU7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtsb290TmFtZSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGN1cnJMb290KSkge1xyXG4gICAgICAgICAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChsb290TmFtZSwgdmFsdWUgKiBzdGFuY2VNdWx0KTtcclxuICAgICAgICAgICAgICAgIGNvbWJhdFJlc3VsdC5pbm5lckhUTUwgKz0gYDxicj4rJHt2YWx1ZSAqIHN0YW5jZU11bHR9ICR7bG9vdE5hbWV9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnZW5lcmF0ZUxvb3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FsY3VsYXRlRW5lbXlNaWdodCgpO1xyXG4gICAgICAgIHJlZnJlc2hWYWx1ZXMoKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcblxyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGRldGVjdENvbGxpc2lvbnMocGxheWVyLCBlbmVteSkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbGF5ZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVuZW15Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0NvbGxpZGluZyhwbGF5ZXJUcm9vcHNbaV0sIGVuZW15VHJvb3BzW2pdKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBjb2xsaXNpb25cclxuICAgICAgICAgICAgICAgIGhhbmRsZUNvbGxpc2lvbihwbGF5ZXJUcm9vcHNbaV0sIGVuZW15VHJvb3BzW2pdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaXNDb2xsaWRpbmcoYmFsbDEsIGJhbGwyKSB7XHJcbiAgICBjb25zdCByZWN0MSA9IGJhbGwxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgY29uc3QgcmVjdDIgPSBiYWxsMi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICByZXR1cm4gIShcclxuICAgICAgICByZWN0MS5yaWdodCA8IHJlY3QyLmxlZnQgfHxcclxuICAgICAgICByZWN0MS5sZWZ0ID4gcmVjdDIucmlnaHQgfHxcclxuICAgICAgICByZWN0MS5ib3R0b20gPCByZWN0Mi50b3AgfHxcclxuICAgICAgICByZWN0MS50b3AgPiByZWN0Mi5ib3R0b21cclxuICAgICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNvbGxpc2lvbihwbGF5ZXJCYWxsLCBlbmVteUJhbGwpIHtcclxuICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMSAvICgxICsgTWF0aC5wb3coMTAsIChnZXRDdXJyRW5lbXlNaWdodCgpIC0gY2FsY3VsYXRlUGxheWVyTWlnaHQoKSkgLyBjaGFuY2VTcHJlYWQpKSkgZW5lbXlCYWxsLnJlbW92ZSgpO1xyXG4gICAgZWxzZSBwbGF5ZXJCYWxsLnJlbW92ZSgpO1xyXG5cclxufVxyXG5cclxuLy8gQ2FsbCB0aGlzIGZ1bmN0aW9uIGNvbnRpbnVvdXNseSwgZS5nLiwgdXNpbmcgcmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgIGRldGVjdENvbGxpc2lvbnMocGxheWVyVHJvb3BzLCBlbmVteVRyb29wcyk7XHJcbiAgICBpZiAoIWNoZWNrRm9yV2luKCkgJiYgIWhhc1Jld2FyZGVkKSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY1JvdW5kaW5nKCkge1xyXG4gICAgY29uc3QgcGxheWVyTWlnaHQgPSBjYWxjdWxhdGVQbGF5ZXJNaWdodCgpO1xyXG4gICAgY29uc3QgZW5lbXlNaWdodCA9IGdldEN1cnJFbmVteU1pZ2h0KCk7XHJcblxyXG4gICAgY29uc3QgYmFsbENvdW50ID0gMTI7XHJcbiAgICBjb25zdCBwbGF5ZXJSb3VuZGluZyA9IE1hdGguY2VpbChwbGF5ZXJNaWdodCAvIGJhbGxDb3VudCk7XHJcbiAgICBjb25zdCBlbmVteVJvdW5kaW5nID0gTWF0aC5jZWlsKGVuZW15TWlnaHQgLyBiYWxsQ291bnQpO1xyXG5cclxuICAgIGNvbnN0IGhpZ2hlclJvdW5kaW5nID0gTWF0aC5tYXgocGxheWVyUm91bmRpbmcsIGVuZW15Um91bmRpbmcpO1xyXG4gICAgY29uc3QgcGxheWVyQ291bnQgPSBNYXRoLmZsb29yKHBsYXllck1pZ2h0IC8gaGlnaGVyUm91bmRpbmcpO1xyXG4gICAgY29uc3QgZW5lbXlDb3VudCA9IE1hdGguZmxvb3IoZW5lbXlNaWdodCAvIGhpZ2hlclJvdW5kaW5nKTtcclxuXHJcbiAgICBjb25zdCBhcHByb3hFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcHJveGltYXRlQmFsbCcpO1xyXG4gICAgYXBwcm94RWxlbWVudC50ZXh0Q29udGVudCA9IGhpZ2hlclJvdW5kaW5nLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgcmV0dXJuIFtwbGF5ZXJDb3VudCwgZW5lbXlDb3VudF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhdXNlQW5pbWF0aW9uKCkge1xyXG4gICAgLy8gY29uc3QgYmFsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFsbCcpO1xyXG4gICAgYW5pbWF0aW9ucy5mb3JFYWNoKGJhbGwgPT4ge1xyXG4gICAgICAgIGJhbGwucGF1c2UoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBmaWdodEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiNzdGFydENvbWJhdCcpO1xyXG5cclxubGV0IGJhdHRsZVJlc3VsdCA9IG51bGw7IC8vIFZhcmlhYmxlIHRvIHN0b3JlIGJhdHRsZSByZXN1bHRcclxuXHJcbmNvbnN0IGNoYW5jZVNwcmVhZCA9IDIwMDsgLy8gTGFyZ2VyIG1lYW5zIHNtYWxsZXIgYXJtaWVzIGhhdmUgYSBoaWdoZXIgY2hhbmNlIHRvIGJlYXQgbGFyZ2VyIGFybWllc1xyXG5mdW5jdGlvbiBzaW11bGF0ZUJhdHRsZSgpIHtcclxuICAgIC8vIFBlcmZvcm0gdGhlIGJhdHRsZSBzaW11bGF0aW9uIGxvZ2ljIGhlcmVcclxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUJhdHRsZVJlc3VsdCgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXJNaWdodCA9IGNhbGN1bGF0ZVBsYXllck1pZ2h0KCk7XHJcbiAgICAgICAgY29uc3QgZW5lbXlNaWdodCA9IGdldEN1cnJFbmVteU1pZ2h0KCk7XHJcbiAgICAgICAgY29uc3QgcGxheWVyQ2hhbmNlID0gMSAvICgxICsgTWF0aC5wb3coMTAsIChlbmVteU1pZ2h0IC0gcGxheWVyTWlnaHQpIC8gY2hhbmNlU3ByZWFkKSk7XHJcblxyXG4gICAgICAgIC8vIEdlbmVyYXRlIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEgdG8gc2ltdWxhdGUgdGhlIGJhdHRsZSBvdXRjb21lXHJcbiAgICAgICAgY29uc3QgcmFuZG9tT3V0Y29tZSA9IE1hdGgucmFuZG9tKCk7XHJcblxyXG4gICAgICAgIGlmIChyYW5kb21PdXRjb21lIDwgcGxheWVyQ2hhbmNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAncGxheWVyJzsgLy8gUGxheWVyIHdpbnNcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2VuZW15JzsgLy8gRW5lbXkgd2luc1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGhlIHJlc3VsdCBhbmQgc3RvcmUgaXQgaW4gdGhlIGJhdHRsZVJlc3VsdCB2YXJpYWJsZVxyXG4gICAgYmF0dGxlUmVzdWx0ID0gY2FsY3VsYXRlQmF0dGxlUmVzdWx0KCk7XHJcbiAgICBjaGVja0ZvcldpbigpO1xyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiBNYWluIGNvbWJhdCBmdW5jdGlvbiwgc3RhcnQgZXZlcnl0aGluZ1xyXG4gKi9cclxuZnVuY3Rpb24gY29tYmF0KCkge1xyXG4gICAgYmF0dGxlUmVzdWx0ID0gbnVsbDtcclxuICAgIC8vIFJlbW92ZSBhbGwgYmFsbHNcclxuICAgIGZvciAoY29uc3QgYmFsbCBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFsbCcpKSB7XHJcbiAgICAgICAgYmFsbC5yZW1vdmUoKTtcclxuICAgIH1cclxuICAgIC8vIFJvdW5kIGRvd24gdGhlIGJhbGxzIHRvIDEyXHJcbiAgICBsZXQgW3BsYXllckNvdW50LCBlbmVteUNvdW50XSA9IGNhbGNSb3VuZGluZygpO1xyXG5cclxuICAgIGNyZWF0ZUJhbGxzKCdwbGF5ZXInLCBwbGF5ZXJDb3VudCk7XHJcbiAgICBjcmVhdGVCYWxscygnZW5lbXknLCBlbmVteUNvdW50KTtcclxuXHJcblxyXG4gICAgY29uc3QgY29tYmF0UmVzdWx0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbWJhdFJlc3VsdCcpO1xyXG4gICAgY29tYmF0UmVzdWx0LnRleHRDb250ZW50ID0gJyc7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgZmlnaHRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgaGFzUmV3YXJkZWQgPSBmYWxzZTtcclxuXHJcbiAgICBzdGFydEFuaW1hdGlvbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVQbGF5ZXJNaWdodCgpIHtcclxuICAgIGxldCBtaWdodCA9IGdldE1hdGVyaWFsKCd2aW9sZW5jZScpICsgZ2V0TWF0ZXJpYWwoJ3NwZWFyJykgKyBnZXRNYXRlcmlhbCgnbWVkaWNpbmUnKTtcclxuICAgIGlmIChnZXRTdGFuY2UoKSA9PT0gJ2FnZ3Jlc3NpdmUnKSBtaWdodCAqPSAxLjI7XHJcbiAgICBlbHNlIGlmIChnZXRTdGFuY2UoKSA9PT0gJ2NhcmVmdWwnKSBtaWdodCAqPSAwLjg7XHJcbiAgICByZXR1cm4gbWlnaHQ7XHJcbn1cclxuXHJcblxyXG5sZXQgZW5lbXlNaWdodCA9IDQwMDsgLy8gSW5pdGlhbGl6ZSBlbmVteSBtaWdodCBhcyBhIGdsb2JhbCB2YXJpYWJsZVxyXG5cclxuZnVuY3Rpb24gZ2V0TmV4dEJhdHRsZU1pZ2h0KHBsYXllcldvblByZXZpb3VzQmF0dGxlKSB7XHJcblxyXG4gICAgaWYgKHBsYXllcldvblByZXZpb3VzQmF0dGxlID09PSBudWxsKSByZXR1cm4gZW5lbXlNaWdodDtcclxuICAgIC8vIENoZWNrIGlmIHRoZSBwbGF5ZXIgd29uIHRoZSBwcmV2aW91cyBiYXR0bGVcclxuICAgIGlmIChwbGF5ZXJXb25QcmV2aW91c0JhdHRsZSkge1xyXG4gICAgICAgIC8vIEluY3JlYXNlIHRoZSBkaWZmaWN1bHR5IGZvciB0aGUgbmV4dCBiYXR0bGVcclxuICAgICAgICBlbmVteU1pZ2h0ICs9IDUwOyAvLyBZb3UgY2FuIGFkanVzdCB0aGUgaW5jcmVtZW50IGFzIG5lZWRlZFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBEZWNyZWFzZSB0aGUgZGlmZmljdWx0eSBmb3IgdGhlIG5leHQgYmF0dGxlXHJcbiAgICAgICAgZW5lbXlNaWdodCAtPSA1MDsgLy8gWW91IGNhbiBhZGp1c3QgdGhlIGRlY3JlbWVudCBhcyBuZWVkZWRcclxuICAgIH1cclxuXHJcbiAgICAvLyBFbnN1cmUgdGhlIGJhc2VNaWdodCBkb2Vzbid0IGdvIGJlbG93IGEgbWluaW11bSB2YWx1ZVxyXG4gICAgaWYgKGVuZW15TWlnaHQgPCAyMDApIHtcclxuICAgICAgICBlbmVteU1pZ2h0ID0gMjAwOyAvLyBTZXQgYSBtaW5pbXVtIG1pZ2h0IHZhbHVlXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRqdXN0IHRoZSBkaWZmaWN1bHR5IGJhc2VkIG9uIHRoZSBwbGF5ZXIncyBsZXZlbFxyXG4gICAgLy8gRm9yIGV4YW1wbGUsIHlvdSBjYW4gbWFrZSBiYXR0bGVzIHByb2dyZXNzaXZlbHkgaGFyZGVyIGFzIHRoZSBwbGF5ZXIncyBsZXZlbCBpbmNyZWFzZXNcclxuICAgIC8vIGJhc2VNaWdodCArPSBwbGF5ZXJMZXZlbCAqIDEwOyAvLyBBZGp1c3QgdGhpcyBmb3JtdWxhIGFzIG5lZWRlZFxyXG5cclxuICAgIHJldHVybiBlbmVteU1pZ2h0O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc2V0RW5lbXlNaWdodChtaWdodCkge1xyXG4gICAgZW5lbXlNaWdodCA9IG1pZ2h0OyAvLyBVcGRhdGUgdGhlIGdsb2JhbCBlbmVteU1pZ2h0IHZhcmlhYmxlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEN1cnJFbmVteU1pZ2h0KCkge1xyXG4gICAgcmV0dXJuIGVuZW15TWlnaHQ7IC8vIFJldHVybiB0aGUgZ2xvYmFsIGVuZW15TWlnaHQgdmFyaWFibGVcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlRW5lbXlNaWdodCgpIHtcclxuICAgIGNvbnNvbGUubG9nKCdiYXR0bGUgcmVzdWx0IHdhcycsIGJhdHRsZVJlc3VsdCk7XHJcbiAgICBjb25zdCBtaWdodCA9IGdldE5leHRCYXR0bGVNaWdodChiYXR0bGVSZXN1bHQgPT09IG51bGwgfHwgYmF0dGxlUmVzdWx0ID09PSAncGxheWVyJyk7XHJcbiAgICByZXR1cm4gbWlnaHQ7XHJcbn1cclxuXHJcbmNvbnN0IHBsYXllck1pZ2h0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXJNaWdodCcpO1xyXG5jb25zdCBlbmVteU1pZ2h0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmVteU1pZ2h0Jyk7XHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZVdpbkNoYW5jZSgpIHtcclxuXHJcbiAgICBjb25zdCBwbGF5ZXJNaWdodCA9IGNhbGN1bGF0ZVBsYXllck1pZ2h0KCk7XHJcbiAgICBjb25zdCBlbmVteU1pZ2h0ID0gZ2V0Q3VyckVuZW15TWlnaHQoKTtcclxuXHJcbiAgICAvLyBjb25zdCBbcGxheWVyQ291bnQsIGVuZW15Q291bnRdID0gY2FsY1JvdW5kaW5nKCk7XHJcblxyXG4gICAgLy8gVGhpcyBudW1iZXIgaXMgYSBkaXJ0eSBsaWUsIGJ1dCB0aGUgdHJ1dGggaXMgdG9vIGhhcmRcclxuICAgIGNvbnN0IGNoYW5jZSA9IDEgLyAoMSArIE1hdGgucG93KDEwLCAoZW5lbXlNaWdodCAtIHBsYXllck1pZ2h0KSAvIGNoYW5jZVNwcmVhZCkpO1xyXG5cclxuXHJcbiAgICBwbGF5ZXJNaWdodEVsZW1lbnQudGV4dENvbnRlbnQgPSBwbGF5ZXJNaWdodC50b0ZpeGVkKDApO1xyXG4gICAgcGxheWVyTWlnaHRFbGVtZW50LnNldEF0dHJpYnV0ZSgndG9vbHRpcGRlc2MnLCBgJHtnZXRNYXRlcmlhbCgndmlvbGVuY2UnKS50b0ZpeGVkKDApfSB2aW9sZW5jZSArICR7Z2V0TWF0ZXJpYWwoJ3NwZWFyJykudG9GaXhlZCgwKX0gc3BlYXJzICsgJHtnZXRNYXRlcmlhbCgnbWVkaWNpbmUnKS50b0ZpeGVkKDApfSBtZWRpY2luZWApO1xyXG5cclxuICAgIGVuZW15TWlnaHRFbGVtZW50LnRleHRDb250ZW50ID0gZW5lbXlNaWdodC50b0ZpeGVkKDApO1xyXG5cclxuICAgIGNvbnN0IGNoYW5jZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbmNlVG9XaW4nKTtcclxuICAgIGNoYW5jZUVsZW1lbnQudGV4dENvbnRlbnQgPSAoY2hhbmNlICogMTAwKS50b0ZpeGVkKDEpICsgJyUnO1xyXG5cclxuICAgIGNoYW5jZUVsZW1lbnQuc3R5bGUuY29sb3IgPSAoYGhzbCgkeyhjaGFuY2UgKiAxMjApLnRvU3RyaW5nKDEwKX0sMTAwJSw1MCUpYCk7XHJcblxyXG4gICAgcmV0dXJuIGNoYW5jZTtcclxufVxyXG5cclxubGV0IHN0YW5jZSA9ICdiYWxhbmNlZCc7XHJcblxyXG5mdW5jdGlvbiBnZXRTdGFuY2UoKSB7XHJcbiAgICByZXR1cm4gc3RhbmNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRTdGFuY2UobmV3U3RhbmNlKSB7XHJcbiAgICBzdGFuY2UgPSBuZXdTdGFuY2U7XHJcbn1cclxuXHJcbmNvbnN0IHN0YW5jZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24uc3RhbmNlJyk7XHJcbmZ1bmN0aW9uIHN3aXRjaFN0YW5jZShuZXdTdGFuY2UpIHtcclxuICAgIGNvbnNvbGUubG9nKCdzd2l0Y2ggc3RhbmNlIHRvICcsIG5ld1N0YW5jZSk7XHJcbiAgICBzdGFuY2VCdXR0b25zLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH0pO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7bmV3U3RhbmNlfVN0YW5jZWApLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIHNldFN0YW5jZShuZXdTdGFuY2UpO1xyXG4gICAgcmVmcmVzaFZhbHVlcygpO1xyXG59XHJcbi8vIEB0cy1pZ25vcmVcclxud2luZG93LnN3aXRjaFN0YW5jZSA9IHN3aXRjaFN0YW5jZTtcclxuXHJcblxyXG5mdW5jdGlvbiByZWZyZXNoVmFsdWVzKCkge1xyXG4gICAgLy8gY29uc29sZS5sb2coZ2V0Q3Vyckxvb3QoKSk7XHJcbiAgICBpZiAoT2JqZWN0LmtleXMoZ2V0Q3Vyckxvb3QoKSkubGVuZ3RoIDwgMSkgZ2VuZXJhdGVMb290KCk7XHJcblxyXG4gICAgY29uc3QgbG9vdExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9vdExpc3QnKTtcclxuICAgIGxvb3RMaXN0LmlubmVySFRNTCA9ICcnO1xyXG4gICAgZm9yIChjb25zdCBbcmVzb3VyY2UsIHF1YW50aXR5XSBvZiBPYmplY3QuZW50cmllcyhnZXRDdXJyTG9vdCgpKSkge1xyXG4gICAgICAgIGxvb3RMaXN0LmlubmVySFRNTCArPSBgPHNwYW4+JHtyZXNvdXJjZX0gKCR7cXVhbnRpdHl9KTwvc3Bhbj4gPGJyPmA7XHJcbiAgICB9XHJcblxyXG4gICAgZW5lbXlNaWdodEVsZW1lbnQudGV4dENvbnRlbnQgPSBnZXRDdXJyRW5lbXlNaWdodCgpLnRvU3RyaW5nKCk7XHJcbiAgICBjYWxjUm91bmRpbmcoKTtcclxuICAgIGNhbGN1bGF0ZVdpbkNoYW5jZSgpO1xyXG59XHJcblxyXG5cclxuLy8gRXhhbXBsZSB1c2FnZVxyXG4vLyBzZXR1cEdhbWUoNSwgNSk7IC8vIDUgYmFsbHMgZm9yIGVhY2ggdGVhbVxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGNvbWJhdCxcclxuICAgIGNhbGN1bGF0ZVdpbkNoYW5jZSxcclxuICAgIHJlZnJlc2hWYWx1ZXMsXHJcbiAgICBwYXVzZUFuaW1hdGlvbixcclxuICAgIGJhdHRsZVJlc3VsdCxcclxuICAgIHNpbXVsYXRlQmF0dGxlLFxyXG4gICAgc3dpdGNoU3RhbmNlLFxyXG4gICAgZ2V0Q3VyckVuZW15TWlnaHQsXHJcbiAgICBzZXRFbmVteU1pZ2h0LFxyXG59OyIsImNvbnN0IHsgZ2V0U2Z4Vm9sdW1lIH0gPSByZXF1aXJlKCcuL2F1ZGlvJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG4vLyBBc3N1bWluZyB0aGVzZSBhcmUgZGVmaW5lZCBnbG9iYWxseVxyXG4vLyB2YXIgbWFudWZhY3R1cmVkTWFwID0ge1xyXG4vLyAgICAgY2xheTogWydicmlja3MnXSxcclxuLy8gICAgIGhlcmJzOiBbJ21lZGljaW5lJ10sXHJcbi8vICAgICBoaWRlczogWydsZWF0aGVyJ10sXHJcbi8vICAgICBpcm9uOiBbJ3N0ZWVsJywgJ25haWxzJ10sXHJcbi8vICAgICBvcmU6IFsnaXJvbicsICdzaWx2ZXInLCAnZ29sZCddLFxyXG4vLyAgICAgc2FuZDogWydnbGFzcycsICdjb25jcmV0ZSddLFxyXG4vLyAgICAgcm9ja3M6IFsnc2xhYnMnXSxcclxuLy8gICAgIHZpbmVzOiBbJ3JvcGUnXSxcclxuLy8gICAgIHdvb2Q6IFsncGFwZXInLCAnYmVhbXMnLCAnY3JhdGVzJ10sXHJcbi8vIH07XHJcblxyXG52YXIgc3dpdGNoZWRNYW51ZmFjdHVyZWRNYXAgPSB7XHJcbiAgICAnYmVhbXMnOiBbJ3dvb2QnXSxcclxuICAgICdicmlja3MnOiBbJ2NsYXknXSxcclxuICAgICdjb25jcmV0ZSc6IFsnc2FuZCddLFxyXG4gICAgJ2NyYXRlcyc6IFsnd29vZCddLFxyXG4gICAgJ2dsYXNzJzogWydzYW5kJ10sXHJcbiAgICAnZ29sZCc6IFsnb3JlJ10sXHJcbiAgICAnaGFuZGxlJzogWydzdGlja3MnXSxcclxuICAgICdpcm9uJzogWydvcmUnXSxcclxuICAgICdsZWF0aGVyJzogWydoaWRlcyddLFxyXG4gICAgJ21lZGljaW5lJzogWydoZXJicyddLFxyXG4gICAgJ25haWxzJzogWydpcm9uJ10sXHJcbiAgICAncGFwZXInOiBbJ3dvb2QnXSxcclxuICAgICdzaGFycHJvY2tzJzogWydyb2NrcyddLFxyXG4gICAgJ3NpbHZlcic6IFsnb3JlJ10sXHJcbiAgICAnc2xhYnMnOiBbJ3JvY2tzJ10sXHJcbiAgICAnc3BlYXInOiBbJ3N0YWZmJywgJ3NoYXJwcm9ja3MnLCAncm9wZSddLFxyXG4gICAgJ3N0YWZmJzogWydoYW5kbGUnLCAncm9wZSddLFxyXG4gICAgJ3N0ZWVsJzogWydpcm9uJ10sXHJcbiAgICAnc3RpY2tzJzogWyd3b29kJ10sXHJcbiAgICAncm9wZSc6IFsndmluZXMnXSxcclxuICAgICd3b29kJzogWydzdGlja3MnXSxcclxufTtcclxuXHJcblxyXG52YXIgYWxsTWF0ZXJpYWxzID0gW107XHJcbk9iamVjdC5rZXlzKHJlc291cmNlcykuZm9yRWFjaChyID0+IGFsbE1hdGVyaWFscy5wdXNoKHIpKTtcclxuT2JqZWN0LmtleXMoY3JhZnRlZFJlc291cmNlcykuZm9yRWFjaChyID0+IGFsbE1hdGVyaWFscy5wdXNoKHIpKTtcclxuY29uc29sZS5sb2coXCJBbGwgbWF0ZXJpYWxzOiBcIiwgYWxsTWF0ZXJpYWxzKTtcclxuXHJcbmxldCBhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmcgPSB7fTtcclxubGV0IGFjdGl2ZUZhY3Rvcmllc0NvbnN1bWluZyA9IHt9O1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBpc1Byb2R1Y2luZyhyZXNvdXJjZSkge1xyXG4gICAgcmV0dXJuIHJlc291cmNlIGluIGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZztcclxufVxyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBpc0NvbnN1bWluZyhyZXNvdXJjZSkge1xyXG4gICAgcmV0dXJuIHJlc291cmNlIGluIGFjdGl2ZUZhY3Rvcmllc0NvbnN1bWluZztcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gZ2V0RmFjdG9yeUNvbnN1bXB0aW9uKHJlc291cmNlKSB7XHJcbi8vICAgICByZXR1cm4gYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nW3Jlc291cmNlXSAqIDtcclxuLy8gfVxyXG5cclxuZnVuY3Rpb24gZ2V0RmFjdG9yeVByb2R1Y3Rpb24ocmVzb3VyY2UpIHtcclxuICAgIHJldHVybiBhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmdbcmVzb3VyY2VdICogbWFudWZhY3R1cmVCdWxrO1xyXG59XHJcblxyXG5cclxuLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHJlc291cmNlIHByb2R1Y3Rpb24gYW5kIGNvbnN1bXB0aW9uXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gdXBkYXRlRmFjdG9yeVJlc291cmNlVHJhY2tpbmcob2xkUHJvZHVjZWQsIG5ld1Byb2R1Y2VkKSB7XHJcbiAgICAvLyBpZiAobmV3UHJvZHVjZWQgPT09IG51bGwpIHJldHVybjtcclxuICAgIC8vIElmIHRoaXMgZmFjdG9yeSB3YXMgcHJldmlvdXNseSBwcm9kdWNpbmcgc29tZXRoaW5nLCByZWR1Y2UgdGhlIGNvdW50XHJcbiAgICBpZiAob2xkUHJvZHVjZWQgJiYgb2xkUHJvZHVjZWQgIT09ICdub25lJykge1xyXG4gICAgICAgIGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZ1tvbGRQcm9kdWNlZF0tLTtcclxuICAgICAgICBBcnJheS5mcm9tKGNyYWZ0ZWRSZXNvdXJjZXNbb2xkUHJvZHVjZWRdLmNvc3QpLmZvckVhY2goKGNvc3QpID0+IHtcclxuICAgICAgICAgICAgYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nW2Nvc3QucmVzb3VyY2VdIC09IGNvc3QuYW1vdW50O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgcHJvZHVjdGlvbiBjb3VudCBmb3IgdGhlIG5ldyByZXNvdXJjZVxyXG4gICAgaWYgKGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZ1tuZXdQcm9kdWNlZF0pIGFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZ1tuZXdQcm9kdWNlZF0rKztcclxuICAgIGVsc2UgYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nW25ld1Byb2R1Y2VkXSA9IDE7XHJcbiAgICBpZiAoY3JhZnRlZFJlc291cmNlc1tuZXdQcm9kdWNlZF0pIHtcclxuICAgICAgICBBcnJheS5mcm9tKGNyYWZ0ZWRSZXNvdXJjZXNbbmV3UHJvZHVjZWRdLmNvc3QpLmZvckVhY2goKGNvc3QpID0+IHtcclxuICAgICAgICAgICAgYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nW2Nvc3QucmVzb3VyY2VdICs9IGNvc3QuYW1vdW50O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBDYWxsIHRoaXMgd2hlbmV2ZXIgYSBmYWN0b3J5J3Mgc2V0dGluZ3MgY2hhbmdlXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gb25GYWN0b3J5TW9kaWZpZWQoZmFjdG9yeUluZGV4LCBuZXdQcm9kdWNlZCkge1xyXG4gICAgY29uc3QgcmlnaHRTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZmFjdG9yeS0ke2ZhY3RvcnlJbmRleH0gLnJpZ2h0U2VsZWN0YCk7XHJcbiAgICB1cGRhdGVGYWN0b3J5UmVzb3VyY2VUcmFja2luZyhyaWdodFNlbGVjdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZHVjZWQnKSwgbmV3UHJvZHVjZWQpO1xyXG4gICAgcmlnaHRTZWxlY3Quc2V0QXR0cmlidXRlKCdkYXRhLXByb2R1Y2VkJywgbmV3UHJvZHVjZWQpO1xyXG59XHJcbi8vIE9iamVjdC5rZXlzKGNyYWZ0ZWRSZXNvdXJjZXMpLmZvckVhY2goKHJlc291cmNlKSA9PiB7XHJcbi8vICAgICBhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmdbcmVzb3VyY2VdID0gMDtcclxuLy8gICAgIEFycmF5LmZyb20oY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZV0uY29zdCkuZm9yRWFjaCgoY29zdCkgPT4ge1xyXG4vLyAgICAgICAgIGlmICghYWN0aXZlRmFjdG9yaWVzQ29uc3VtaW5nW2Nvc3QucmVzb3VyY2VdKSB7XHJcbi8vICAgICAgICAgICAgIGFjdGl2ZUZhY3Rvcmllc0NvbnN1bWluZ1tjb3N0LnJlc291cmNlXSA9IDA7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vIH0pO1xyXG5mdW5jdGlvbiBjcmVhdGVGYWN0b3J5RGl2KCkge1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgcmVzb3VyY2UgdHJhY2tpbmcgb2JqZWN0c1xyXG5cclxuXHJcbiAgICBjb25zdCBmYWN0b3JpZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmFjdG9yaWVzJyk7XHJcbiAgICBjb25zdCBmYWN0b3J5RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBmYWN0b3J5RGl2LmNsYXNzTmFtZSA9ICdmYWN0b3J5JztcclxuXHJcbiAgICBjb25zdCBsZWZ0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIGxlZnRUZXh0LmNsYXNzTGlzdC5hZGQoJ2ZhY3RvcnlDb3N0Jyk7XHJcbiAgICBjb25zdCByaWdodFNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG5cclxuICAgIC8vIFBvcHVsYXRlIHRoZSByaWdodCBkcm9wZG93blxyXG4gICAgT2JqZWN0LmtleXMoc3dpdGNoZWRNYW51ZmFjdHVyZWRNYXApLmZvckVhY2gocmVzb3VyY2UgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBvcHRpb24udmFsdWUgPSByZXNvdXJjZTtcclxuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSByZXNvdXJjZTtcclxuICAgICAgICByaWdodFNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG5cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICByaWdodFNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZHVjZWQnLCAnbm9uZScpO1xyXG5cclxuXHJcbiAgICByaWdodFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHByb2R1Y2VkIHJlc291cmNlIGZvciB0aGlzIGZhY3RvcnlcclxuICAgICAgICBjb25zdCBjdXJyZW50UHJvZHVjZWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9kdWNlZCcpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoY3VycmVudFByb2R1Y2VkICE9PSAnbm9uZScpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNyZXNvdXJjZS0ke2N1cnJlbnRQcm9kdWNlZH1gKS5zdHlsZS5jb2xvciA9ICcnO1xyXG5cclxuICAgICAgICBjb25zdCBuZXdQcm9kdWNlZCA9IHJpZ2h0U2VsZWN0LnZhbHVlO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgcmVzb3VyY2UgdHJhY2tpbmdcclxuICAgICAgICB1cGRhdGVGYWN0b3J5UmVzb3VyY2VUcmFja2luZyhjdXJyZW50UHJvZHVjZWQsIG5ld1Byb2R1Y2VkKTtcclxuXHJcbiAgICAgICAgLy8gTm93IHVwZGF0ZSB0aGUgZGF0YXNldCBmb3IgdGhlIG5leHQgY2hhbmdlIGV2ZW50XHJcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZHVjZWQnLCBuZXdQcm9kdWNlZCk7XHJcblxyXG5cclxuICAgICAgICBpZiAobmV3UHJvZHVjZWQgJiYgbmV3UHJvZHVjZWQgIT09ICdub25lJykge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNyZXNvdXJjZS0ke25ld1Byb2R1Y2VkfWApLnN0eWxlLmNvbG9yID0gJ3RoaXN0bGUnO1xyXG4gICAgICAgICAgICBsZWZ0VGV4dC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgbGVmdFRleHQuaW5uZXJIVE1MICs9IGAke3JlcXVpcmUoJy4vcmVzb3VyY2VzJykuZ2VuZXJhdGVUb29sdGlwQ29zdChjcmFmdGVkUmVzb3VyY2VzW3JpZ2h0U2VsZWN0LnZhbHVlXS5jb3N0KX1gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBZGQgdGhlIGluaXRpYWwgb3B0aW9uIGZvciBsZWZ0IHNlbGVjdFxyXG4gICAgZnVuY3Rpb24gYWRkSW5pdGlhbE9wdGlvbihzZWxlY3RFbGVtZW50LCB0ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIGluaXRpYWxPcHRpb24udmFsdWUgPSAnJztcclxuICAgICAgICBpbml0aWFsT3B0aW9uLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgICAgICAvLyBpbml0aWFsT3B0aW9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICBpbml0aWFsT3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICBzZWxlY3RFbGVtZW50LmFwcGVuZENoaWxkKGluaXRpYWxPcHRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgYXJyb3cuaW5uZXJIVE1MID0gJyYjODU5NDsnOyAvLyBSaWdodCBhcnJvdyBIVE1MIGVudGl0eVxyXG5cclxuICAgIGZhY3RvcnlEaXYuYXBwZW5kQ2hpbGQobGVmdFRleHQpO1xyXG4gICAgZmFjdG9yeURpdi5hcHBlbmRDaGlsZChhcnJvdyk7XHJcbiAgICBmYWN0b3J5RGl2LmFwcGVuZENoaWxkKHJpZ2h0U2VsZWN0KTtcclxuXHJcbiAgICBhZGRJbml0aWFsT3B0aW9uKHJpZ2h0U2VsZWN0LCAnU2VsZWN0IGEgUmVzb3VyY2UnKTtcclxuXHJcbiAgICBmYWN0b3JpZXNDb250YWluZXIuYXBwZW5kQ2hpbGQoZmFjdG9yeURpdik7XHJcblxyXG4gICAgcmV0dXJuIGZhY3RvcnlEaXY7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkRmFjdG9yeShjcmFmdGluZykge1xyXG4gICAgY29uc29sZS5sb2coXCJsb2FkaW5nIGEgZmFjdG9yeSBmb3IgXCIsIGNyYWZ0aW5nKTtcclxuICAgIGxldCBkaXYgPSBjcmVhdGVGYWN0b3J5RGl2KCk7XHJcbiAgICBpZiAoY3JhZnRpbmcpIHtcclxuICAgICAgICBkaXYucXVlcnlTZWxlY3Rvcignc2VsZWN0JykudmFsdWUgPSBjcmFmdGluZztcclxuXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNyZXNvdXJjZS0ke2NyYWZ0aW5nfWApLnN0eWxlLmNvbG9yID0gJ3RoaXN0bGUnO1xyXG4gICAgICAgIGRpdi5xdWVyeVNlbGVjdG9yKCcuZmFjdG9yeUNvc3QnKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBkaXYucXVlcnlTZWxlY3RvcignLmZhY3RvcnlDb3N0JykuaW5uZXJIVE1MICs9IGAke3JlcXVpcmUoJy4vcmVzb3VyY2VzJykuZ2VuZXJhdGVUb29sdGlwQ29zdChjcmFmdGVkUmVzb3VyY2VzW2NyYWZ0aW5nXS5jb3N0KX1gO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJ1eUZhY3RvcnlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5RmFjdG9yeUJ1dHRvbicpO1xyXG5cclxuICAgIG5ld0ZhY3RvcnlTaWx2ZXJDb3N0ICo9IDEuMjtcclxuICAgIGJ1eUZhY3RvcnlCdXR0b24uc2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcsIGAke25ld0ZhY3RvcnlTaWx2ZXJDb3N0LnRvRml4ZWQoMCl9IHNpbHZlcmApO1xyXG4gICAgdXBkYXRlRmFjdG9yeVJlc291cmNlVHJhY2tpbmcoJ25vbmUnLCBjcmFmdGluZyk7XHJcbn1cclxuXHJcblxyXG5sZXQgbWFudWZhY3R1cmVCdWxrID0gMjtcclxubGV0IGJ1bGtVcGdyYWRlQ29zdCA9IDMwO1xyXG5sZXQgbWFudWZhY3R1cmVCb251cyA9IDE7XHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmdbXX0gcmVzb3VyY2VzIEFsbCByZXNvdXJjZXMgcmVxdWlyZWQgZm9yIHRoZSBjcmFmdFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZ29hbFJlc291cmNlIFdoYXQgd2UnbGwgYmUgY3JhZnRpbmdcclxuICovXHJcbmZ1bmN0aW9uIG1hbnVmYWN0dXJlKHJlc291cmNlcywgZ29hbFJlc291cmNlKSB7XHJcbiAgICAvLyBDYWxjdWxhdGUgaG93IG1hbnkgd2UgY2FuIGFmZm9yZFxyXG4gICAgbGV0IGFyciA9IFtdO1xyXG4gICAgcmVzb3VyY2VzLmZvckVhY2gocmVzb3VyY2UgPT4gYXJyLnB1c2goZ2V0TWF0ZXJpYWwocmVzb3VyY2UpIC8gY3JhZnRlZFJlc291cmNlc1tnb2FsUmVzb3VyY2VdLmNvc3RbcmVzb3VyY2VdKSk7XHJcbiAgICBsZXQgbnVtID0gTWF0aC5taW4obWFudWZhY3R1cmVCdWxrLCAuLi5hcnIpO1xyXG4gICAgLy8gY29uc29sZS5sb2cobnVtLCBtYW51ZmFjdHVyZUJ1bGssIC4uLmFycik7XHJcbiAgICBudW0gKj0gbWFudWZhY3R1cmVCb251cztcclxuICAgIC8vIFRoZSBmYWN0b3JpZXMgZ2V0IHRvIGJlIGhhbGYgcHJpY2Ugb2Ygbm9ybWFsIGNyYWZ0aW5nIGJjIGVmZmljaWVuY3lcclxuICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuY3JhZnRSZXNvdXJjZVF1YW50aXR5KGdvYWxSZXNvdXJjZSwgbnVtKTtcclxuICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwoZ29hbFJlc291cmNlLCBudW0pO1xyXG4gICAgLy8gaW5jcmVhc2VNYXRlcmlhbChyZXNvdXJjZSwgLWNyYWZ0ZWRSZXNvdXJjZXNbZ29hbFJlc291cmNlXS5jb3N0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBncmFkZUJ1bGsoKSB7XHJcbiAgICBpZiAoZ2V0TWF0ZXJpYWwoJ3NpbHZlcicpIDwgYnVsa1VwZ3JhZGVDb3N0KSByZXR1cm47XHJcbiAgICBtYW51ZmFjdHVyZUJ1bGsgKz0gMjtcclxuICAgIGJ1bGtVcGdyYWRlQ29zdCArPSAxMDtcclxuXHJcblxyXG4gICAgY29uc3QgZmFjdG9yeUF1ZGlvID0gbmV3IEF1ZGlvKCcuL2F1ZGlvL2ZhY3RvcnlidWxrLndhdicpO1xyXG4gICAgZmFjdG9yeUF1ZGlvLnZvbHVtZSA9IGdldFNmeFZvbHVtZSgpO1xyXG4gICAgZmFjdG9yeUF1ZGlvLnBsYXkoKTtcclxuXHJcblxyXG4gICAgY29uc3QgdXBCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBncmFkZUJ1bGtCdXR0b24nKTtcclxuICAgIHVwQnV0dG9uLnNldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnLCBgJHttYW51ZmFjdHVyZUJ1bGt9IOKGkiAke21hbnVmYWN0dXJlQnVsayArIDJ9OiAke2J1bGtVcGdyYWRlQ29zdC50b0ZpeGVkKDApfSBzaWx2ZXJgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYXR0ZW1wdE1hbnVmYWN0dXJlKCkge1xyXG4gICAgY29uc3QgZmFjdG9yaWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZhY3RvcnknKTtcclxuICAgIGZhY3Rvcmllcy5mb3JFYWNoKGZhY3RvcnkgPT4ge1xyXG5cclxuICAgICAgICAvLyBjb25zdCBsZWZ0U2VsZWN0ID0gZmFjdG9yeS5xdWVyeVNlbGVjdG9yKCdzcGFuOmZpcnN0LWNoaWxkJyk7XHJcbiAgICAgICAgY29uc3QgcmlnaHRTZWxlY3QgPSBmYWN0b3J5LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdDpsYXN0LWNoaWxkJyk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNvbnN0IGdvYWxSZXNvdXJjZSA9IHJpZ2h0U2VsZWN0LnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IHJlc291cmNlcyA9IHN3aXRjaGVkTWFudWZhY3R1cmVkTWFwW2dvYWxSZXNvdXJjZV07XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJjaGVja2luZyBmYWN0b3J5XCIsIGdvYWxSZXNvdXJjZSk7XHJcbiAgICAgICAgaWYgKHJlc291cmNlcyAmJiBnb2FsUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgbWFudWZhY3R1cmUocmVzb3VyY2VzLCBnb2FsUmVzb3VyY2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxufVxyXG5cclxudmFyIG5ld0ZhY3RvcnlTaWx2ZXJDb3N0ID0gNTA7XHJcbmZ1bmN0aW9uIGJ1eUZhY3RvcnkoKSB7XHJcbiAgICBjb25zdCBidXlGYWN0b3J5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eUZhY3RvcnlCdXR0b24nKTtcclxuICAgIGlmIChnZXRNYXRlcmlhbCgnc2lsdmVyJykgPCBuZXdGYWN0b3J5U2lsdmVyQ29zdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdOb3QgZW5vdWdoIHNpbHZlciEnKTsgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhcyBlbm91Z2ggc2lsdmVyIHRvIGFmZm9yZCBmYWN0b3J5XHJcbiAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLmluY3JlYXNlTWF0ZXJpYWwoJ3NpbHZlcicsIC1uZXdGYWN0b3J5U2lsdmVyQ29zdCk7XHJcbiAgICBjcmVhdGVGYWN0b3J5RGl2KCk7XHJcblxyXG5cclxuICAgIGNvbnN0IGZhY3RvcnlBdWRpbyA9IG5ldyBBdWRpbygnLi9hdWRpby9mYWN0b3J5YnVpbGQud2F2Jyk7XHJcbiAgICBmYWN0b3J5QXVkaW8udm9sdW1lID0gZ2V0U2Z4Vm9sdW1lKCk7XHJcbiAgICBmYWN0b3J5QXVkaW8ucGxheSgpO1xyXG5cclxuICAgIG5ld0ZhY3RvcnlTaWx2ZXJDb3N0ICo9IDEuMjtcclxuICAgIGJ1eUZhY3RvcnlCdXR0b24uc2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcsIGAke25ld0ZhY3RvcnlTaWx2ZXJDb3N0LnRvRml4ZWQoMil9IHNpbHZlcmApO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGNyZWF0ZUZhY3RvcnlEaXYsXHJcbiAgICBhdHRlbXB0TWFudWZhY3R1cmUsXHJcbiAgICBidXlGYWN0b3J5LFxyXG4gICAgdXBncmFkZUJ1bGssXHJcbiAgICBhbGxNYXRlcmlhbHMsXHJcbiAgICBnZXRGYWN0b3J5UHJvZHVjdGlvbixcclxuICAgIGxvYWRGYWN0b3J5LFxyXG4gICAgYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nXHJcbn07XHJcbiIsImZ1bmN0aW9uIGZpdENoYXJUb0NlbGwoY2hhciwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0LCBpbml0aWFsRm9udFNpemUpIHtcclxuICAgIC8vIENyZWF0ZSBhIHRlbXBvcmFyeSBzcGFuIGVsZW1lbnQgdG8gbWVhc3VyZSB0aGUgY2hhcmFjdGVyXHJcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgc3Bhbi50ZXh0Q29udGVudCA9IGNoYXI7XHJcbiAgICBzcGFuLnN0eWxlLmZvbnRTaXplID0gYCR7aW5pdGlhbEZvbnRTaXplfXB4YDtcclxuICAgIHNwYW4uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOyAvLyBzbyBpdCBkb2Vzbid0IGFmZmVjdCB0aGUgbGF5b3V0XHJcbiAgICBzcGFuLnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJzsgLy8gdG8gcHJldmVudCBsaW5lIGJyZWFrc1xyXG4gICAgc3Bhbi5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7IC8vIHRvIGtlZXAgaXQgaGlkZGVuXHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNwYW4pO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSBzcGFuIGZpdHMgd2l0aGluIHRoZSBkaW1lbnNpb25zLCBhbmQgYWRqdXN0IGZvbnQgc2l6ZSBpZiBub3RcclxuICAgIGxldCBjdXJyZW50Rm9udFNpemUgPSBpbml0aWFsRm9udFNpemU7XHJcbiAgICB3aGlsZSAoc3Bhbi5vZmZzZXRXaWR0aCA8IGNlbGxXaWR0aCAmJiBzcGFuLm9mZnNldEhlaWdodCA8IGNlbGxIZWlnaHQpIHtcclxuICAgICAgICBjdXJyZW50Rm9udFNpemUrKztcclxuICAgICAgICBzcGFuLnN0eWxlLmZvbnRTaXplID0gYCR7Y3VycmVudEZvbnRTaXplfXB4YDtcclxuXHJcbiAgICAgICAgLy8gT3B0aW9uYWw6IHN0b3AgaWYgdGhlIGZvbnQgc2l6ZSBnZXRzIHRvbyBzbWFsbFxyXG4gICAgICAgIGlmIChjdXJyZW50Rm9udFNpemUgPj0gMTAwMCkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2xlYW4gdXA6IHJlbW92ZSB0aGUgdGVtcG9yYXJ5IHNwYW4gZWxlbWVudFxyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzcGFuKTtcclxuXHJcbiAgICByZXR1cm4gY3VycmVudEZvbnRTaXplO1xyXG59XHJcbmV4cG9ydHMuZml0Q2hhclRvQ2VsbCA9IGZpdENoYXJUb0NlbGw7XHJcbiIsImNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgY2FwaXRhbGl6ZUZpcnN0IH0gPSByZXF1aXJlKCcuL2NhcGl0YWxpemVGaXJzdCcpO1xyXG5jb25zdCB7IGdldFNmeFZvbHVtZSB9ID0gcmVxdWlyZSgnLi9hdWRpbycpO1xyXG5cclxuLyogR0FUSEVSSU5HIE1BVEVSSUFMUyovXHJcbmNvbnN0IHNpZGViYXJQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jlc291cmNlc1wiKTtcclxuZnVuY3Rpb24gc3RvcEFsbEdhdGhlcmluZygpIHtcclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhyZXNvdXJjZXMpKSB7XHJcbiAgICAgICAgdmFsLmlzR2V0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhdGhlclwiICsgY2FwaXRhbGl6ZUZpcnN0KGtleSkpO1xyXG4gICAgICAgIGlmIChyQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHJCdXR0b24udGV4dENvbnRlbnQgPSB2YWwuZGVmYXVsdFRleHQ7XHJcbiAgICAgICAgICAgIHJCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnZ2F0aGVyaW5nJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgc2lkZWJhciB0byBub3QgYm9sZFxyXG4gICAgICAgIGNvbnN0IHNpZGViYXJUZXh0ID0gc2lkZWJhclBhcmVudC5xdWVyeVNlbGVjdG9yKCcjcmVzb3VyY2UtJyArIGtleSk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChzaWRlYmFyVGV4dCkgc2lkZWJhclRleHQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xyXG5cclxuICAgIH1cclxufVxyXG5jb25zdCBlbW9qaUdhdGhlckRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbW9qaUdhdGhlckRpc3BsYXknKTtcclxuZnVuY3Rpb24gdG9nZ2xlUmVzb3VyY2UocmVzb3VyY2VLZXkpIHtcclxuXHJcbiAgICBjb25zdCBnYXRoZXJBdWRpbyA9IG5ldyBBdWRpbygnLi9hdWRpby9nYXRoZXIud2F2Jyk7XHJcbiAgICBnYXRoZXJBdWRpby52b2x1bWUgPSBnZXRTZnhWb2x1bWUoKTtcclxuICAgIGdhdGhlckF1ZGlvLnBsYXkoKTtcclxuXHJcbiAgICBjb25zdCByZXNvdXJjZSA9IHJlc291cmNlc1tyZXNvdXJjZUtleV07XHJcblxyXG5cclxuICAgIGNvbnN0IHNpZGViYXJQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jlc291cmNlc1wiKTtcclxuXHJcbiAgICBjb25zdCBzaWRlYmFyVGV4dCA9IHNpZGViYXJQYXJlbnQucXVlcnlTZWxlY3RvcignI3Jlc291cmNlLScgKyByZXNvdXJjZUtleSk7XHJcbiAgICBjb25zdCByZXNvdXJjZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYXRoZXInICsgcmVzb3VyY2VLZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyByZXNvdXJjZUtleS5zbGljZSgxKSk7XHJcbiAgICBlbW9qaUdhdGhlckRpdi50ZXh0Q29udGVudCA9ICfwk4CfJzsgLy8gRGVmYXVsdCBlbW9qaSDwk4CfXHJcblxyXG5cclxuICAgIGlmICghcmVzb3VyY2UuaXNHZXR0aW5nKSB7XHJcbiAgICAgICAgc3RvcEFsbEdhdGhlcmluZygpOyAvLyBTdG9wIGFsbCBnYXRoZXJpbmcgYWN0aW9uc1xyXG4gICAgICAgIHJlc291cmNlLmlzR2V0dGluZyA9IHRydWU7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHJlc291cmNlQnV0dG9uLnRleHRDb250ZW50ID0gcmVzb3VyY2UuYWN0aXZlVGV4dDtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKHNpZGViYXJUZXh0KSBzaWRlYmFyVGV4dC5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBlbW9qaUdhdGhlckRpdi50ZXh0Q29udGVudCA9IHJlc291cmNlLmVtb2ppO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc291cmNlLmVtb2ppKTtcclxuICAgICAgICByZXNvdXJjZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdnYXRoZXJpbmcnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb3VyY2UuaXNHZXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgcmVzb3VyY2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnZ2F0aGVyaW5nJyk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHJlc291cmNlQnV0dG9uLnRleHRDb250ZW50ID0gcmVzb3VyY2UuZGVmYXVsdFRleHQ7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChzaWRlYmFyVGV4dCkgc2lkZWJhclRleHQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMudG9nZ2xlUmVzb3VyY2UgPSB0b2dnbGVSZXNvdXJjZTtcclxuIiwiY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIik7XHJcbmNvbnN0IHsgYnV0dG9ucyB9ID0gcmVxdWlyZShcIi4vanNvbi9idXR0b25zXCIpO1xyXG5jb25zdCB7IGdlbmVyYXRlVG9vbHRpcENvc3QgfSA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgY3JlYXRlQnVpbGRpbmdCdXR0b24gfSA9IHJlcXVpcmUoJy4vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgaGFzUGVyayB9ID0gcmVxdWlyZSgnLi9wZXJrcycpO1xyXG5jb25zdCB7IHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0IH0gPSByZXF1aXJlKCcuL3JlY2FsY3VsYXRlQnVpbGRpbmdDb3N0Jyk7XHJcbmNvbnN0IHsgc2hvd1RhYiB9ID0gcmVxdWlyZSgnLi9zaG93VGFiJyk7XHJcblxyXG4vKiBCVVRUT05TIEdFTkVSQVRFICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQnV0dG9ucygpIHtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIkdlbmVyYXRpbmcgYnV0dG9uc1wiKTtcclxuICAgIGNvbnNvbGUudHJhY2UoKTtcclxuICAgIC8vIENyZWF0ZSB0aGUgY29sdW1uc1xyXG4gICAgZm9yIChsZXQgYnVpbGRpbmdLZXkgaW4gYnVpbGRpbmdzKSB7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gY3JlYXRlQnVpbGRpbmdCdXR0b24oYnVpbGRpbmdLZXksIGJ1aWxkaW5ncyk7XHJcbiAgICAgICAgYnV0dG9uc1tidWlsZGluZ0tleV0gPSBidXR0b247XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJNYWRlIGJ1dHRvbiBmb3IgXCIgKyBidWlsZGluZ0tleSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY3JlYXRlQ29sdW1ucyA9IChwYXJlbnQpID0+IHtcclxuICAgICAgICBjb25zdCBjb2wxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY29uc3QgY29sMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGNvbnN0IGNvbDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgY29sMS5zdHlsZS53aWR0aCA9ICczMy4zMyUnO1xyXG4gICAgICAgIGNvbDIuc3R5bGUud2lkdGggPSAnMzMuMzMlJztcclxuICAgICAgICBjb2wzLnN0eWxlLndpZHRoID0gJzMzLjMzJSc7XHJcblxyXG4gICAgICAgIGNvbDEuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgICAgIGNvbDIuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgICAgIGNvbDMuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG5cclxuICAgICAgICBjb2wxLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgICAgICBjb2wyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgICAgICBjb2wzLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuXHJcbiAgICAgICAgLy8gcGFyZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleDsnICAvLyBTZXQgcGFyZW50IHRvIGJlIGEgZmxleCBjb250YWluZXJcclxuICAgICAgICBwYXJlbnQucHJlcGVuZChjb2wzKTtcclxuICAgICAgICBwYXJlbnQucHJlcGVuZChjb2wyKTtcclxuICAgICAgICBwYXJlbnQucHJlcGVuZChjb2wxKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtjb2wxLCBjb2wyLCBjb2wzXTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdGFic0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJzJyk7XHJcbiAgICBjb25zdCBwcm9kdWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2R1Y3Rpb25UYWInKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGV4cGVyaW1lbnRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZXJpbWVudFRhYicpLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tY29sdW1ucycpO1xyXG4gICAgY29uc3QgcG9uZGVyQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvbmRlclRhYicpO1xyXG4gICAgLy8gY29uc3Qgam9iQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYnNUYWInKTtcclxuICAgIC8vIFlvdSBjYW4gYWRkIG1vcmUgY29udGFpbmVycyBmb3IgZGlmZmVyZW50IHRhYnMgYXMgbmVlZGVkXHJcbiAgICAvLyBjb25zdCBwcm9kdWN0aW9uQ29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMocHJvZHVjdGlvbkNvbnRhaW5lcik7XHJcbiAgICBjb25zdCBleHBlcmltZW50Q29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMoZXhwZXJpbWVudENvbnRhaW5lcik7XHJcbiAgICBjb25zdCBwb25kZXJDb2x1bW5zID0gY3JlYXRlQ29sdW1ucyhwb25kZXJDb250YWluZXIpO1xyXG4gICAgLy8gY29uc3Qgam9iQ29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMoam9iQ29udGFpbmVyKTtcclxuICAgIC8vIFNpbWlsYXJseSwgY3JlYXRlIGNvbHVtbnMgZm9yIG90aGVyIHRhYnMgYXMgbmVlZGVkXHJcbiAgICBsZXQgcHJvZHVjdGlvbkNvbHVtbkluZGV4ID0gMTtcclxuICAgIGxldCBleHBlcmltZW50Q29sdW1uSW5kZXggPSAwO1xyXG4gICAgbGV0IHBvbmRlckNvbHVtbkluZGV4ID0gMDtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGxldCBqb2JDb2x1bW5JbmRleCA9IDA7XHJcblxyXG4gICAgLy8gQWRkIGNvdW50ZXJzIGZvciBvdGhlciB0YWJzIGFzIG5lZWRlZFxyXG4gICAgZm9yIChsZXQga2V5IGluIGJ1dHRvbnMpIHtcclxuICAgICAgICBjb25zdCBidG4gPSBidXR0b25zW2tleV07XHJcbiAgICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG5cclxuICAgICAgICBidXR0b25FbGVtZW50LmlkID0ga2V5O1xyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NOYW1lID0gYnRuLmNsYXNzO1xyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBidG4udGV4dC5zcGxpdCgnXycpLmpvaW4oJyAnKTtcclxuXHJcbiAgICAgICAgLy8gYnV0dG9uRWxlbWVudC5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgICBpZiAoYnRuLnRvb2x0aXBEZXNjKSBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWRlc2MnLCBidG4udG9vbHRpcERlc2MpO1xyXG4gICAgICAgIGlmIChidG4udG9vbHRpcEVmZmVjdCkgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1lZmZlY3QnLCBidG4udG9vbHRpcEVmZmVjdCk7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3VubG9jaycsIGJ0bi51bmxvY2spO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ0bik7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGFfYnVpbGRpbmcnLCBidG4uZGF0YV9idWlsZGluZyk7XHJcbiAgICAgICAgLy8gaWYgdGhpcyByZXNvdXJjZSBpc24ndCB1bmxvY2tlZCwgaGlkZSBpdFxyXG4gICAgICAgIC8vIGlmICghYnRuLmlzVmlzaWJsZSkgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgYnV0dG9uIGNvcnJlc3BvbmRzIHRvIGEgY3JhZnRlZCByZXNvdXJjZSB1c2luZyB0aGUgSURcclxuICAgICAgICBjb25zdCBjcmFmdGVkUmVzb3VyY2UgPSBPYmplY3QudmFsdWVzKGNyYWZ0ZWRSZXNvdXJjZXMpLmZpbmQocmVzb3VyY2UgPT4gcmVzb3VyY2UuaWQgPT09IGtleSk7XHJcblxyXG4gICAgICAgIGlmIChjcmFmdGVkUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgYnRuLnRvb2x0aXBDb3N0ID0gZ2VuZXJhdGVUb29sdGlwQ29zdChjcmFmdGVkUmVzb3VyY2UuY29zdCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1jb3N0JywgYnRuLnRvb2x0aXBDb3N0KTtcclxuXHJcbiAgICAgICAgaWYgKGJ0bi5zaG93VGFiKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzaG93VGFiKGJ0bi5zaG93VGFiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3dpdGNoaW5nIHRvIHRhYjogXCIgKyBidG4uc2hvd1RhYik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBcHBlbmQgdG8gdGhlIGFwcHJvcHJpYXRlIGNvbHVtbiBiYXNlZCBvbiB0aGUgdGFiIHByb3BlcnR5XHJcbiAgICAgICAgaWYgKGJ0bi50YWIgPT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAvL3N0eWxlPSdncmlkLWNvbHVtbjoke2NvbH07IGdyaWQtcm93OiR7cm93fTtcclxuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5zdHlsZS5ncmlkQ29sdW1uID0gcHJvZHVjdGlvbkNvbHVtbkluZGV4LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIC8vIGJ1dHRvbkVsZW1lbnQuc3R5bGUuZ3JpZFJvdyA9ICcwJztcclxuICAgICAgICAgICAgcHJvZHVjdGlvbkNvbHVtbkluZGV4ID0gKHByb2R1Y3Rpb25Db2x1bW5JbmRleCArIDEpICUgMztcclxuICAgICAgICAgICAgcHJvZHVjdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgLy8gcHJvZHVjdGlvbkNvbHVtbnNbcHJvZHVjdGlvbkNvbHVtbkluZGV4XS5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgLy8gcHJvZHVjdGlvbkNvbHVtbkluZGV4ID0gKHByb2R1Y3Rpb25Db2x1bW5JbmRleCArIDEpICUgMztcclxuICAgICAgICB9IGVsc2UgaWYgKGJ0bi50YWIgPT09ICdleHBlcmltZW50Jykge1xyXG4gICAgICAgICAgICBleHBlcmltZW50Q29sdW1uc1tleHBlcmltZW50Q29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICBleHBlcmltZW50Q29sdW1uSW5kZXggPSAoZXhwZXJpbWVudENvbHVtbkluZGV4ICsgMSkgJSAzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYnRuLnRhYiA9PT0gJ3RhYnMnKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgdGFic0NvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGJ0bi50YWIgPT09ICdwb25kZXInKSB7XHJcbiAgICAgICAgICAgIHBvbmRlckNvbHVtbnNbcG9uZGVyQ29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICBwb25kZXJDb2x1bW5JbmRleCA9IChwb25kZXJDb2x1bW5JbmRleCArIDEpICUgMztcclxuICAgICAgICB9IGVsc2UgaWYgKGJ0bi50YWIgPT09ICdqb2InKSB7XHJcbiAgICAgICAgICAgIC8vIGpvYkNvbHVtbnNbam9iQ29sdW1uSW5kZXhdLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICAvLyBqb2JDb2x1bW5JbmRleCA9IChqb2JDb2x1bW5JbmRleCArIDEpICUgMztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ0bi50YWIpLmFwcGVuZENoaWxkKGJ0bik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkZCBtb3JlIGNvbmRpdGlvbnMgZm9yIG90aGVyIHRhYnMgYXMgbmVlZGVkXHJcbiAgICAgICAgLy8gVXBkYXRlIHRvb2x0aXAgZm9yIGJ1aWxkaW5nc1xyXG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nID0gT2JqZWN0LmtleXMoYnVpbGRpbmdzKS5maW5kKGJ1aWxkaW5nID0+IGJ1aWxkaW5nID09PSBrZXkpO1xyXG4gICAgICAgIGlmIChidWlsZGluZykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidWlsZGluZywga2V5KTtcclxuICAgICAgICAgICAgLy8gYnRuLnRvb2x0aXBDb3N0ID0gZ2VuZXJhdGVCdWlsZGluZ1Rvb2x0aXBDb3N0KGJ1aWxkaW5nc1tidWlsZGluZ10uY29zdCk7XHJcbiAgICAgICAgICAgIHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGtleSwgYnVpbGRpbmdzLCBoYXNQZXJrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSGlkZSB0aGUgYnV0dG9ucyB3ZSBzaG91bGRuJ3Qgc2VlIHlldFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ0bik7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKCFidG4ucmVxdWlyZW1lbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uRWxlbWVudCwgYnRuLnJlcXVpcmVtZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybignRXJyb3Igd2l0aCByZXF1aXJlbWVudCB3aGlsZSBnZW5lcmF0aW5nIGJ1dHRvbnM6ICcsIGJ0biwgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5nZW5lcmF0ZUJ1dHRvbnMgPSBnZW5lcmF0ZUJ1dHRvbnM7XHJcbiIsImNvbnN0IHsgY2FwaXRhbGl6ZUZpcnN0IH0gPSByZXF1aXJlKFwiLi9jYXBpdGFsaXplRmlyc3RcIik7XHJcbmNvbnN0IHsgY3JhZnRlZFJlc291cmNlcyB9ID0gcmVxdWlyZShcIi4vanNvbi9jcmFmdGVkUmVzb3VyY2VzXCIpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZShcIi4vanNvbi9yZXNvdXJjZXNcIik7XHJcblxyXG4vLyBEZWZpbmUgYSBsaXN0IG9mIHBvc3NpYmxlIGJ1aWxkaW5nIG5hbWVzLCBjb3N0cywgYW5kIGRlc2NyaXB0aW9uc1xyXG5jb25zdCBwb3NzaWJsZVJlc291cmNlcyA9IE9iamVjdC5rZXlzKHJlc291cmNlcykuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdodXNrcycpO1xyXG5jb25zdCBwb3NzaWJsZUNyYWZ0ZWRSZXNvdXJjZXMgPSBPYmplY3Qua2V5cyhjcmFmdGVkUmVzb3VyY2VzKTtcclxuXHJcbmZ1bmN0aW9uIGdldFJhbmRvbU51bWJlcihtaW4sIG1heCkge1xyXG4gIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFJhbmRvbUVtb2ppKCkge1xyXG4gIC8vIERlZmluZSB0aGUgVW5pY29kZSByYW5nZXMgZm9yIHJhbmRvbSBlbW9qaXNcclxuICBjb25zdCByYW5nZXMgPSBbXHJcbiAgICB7IHN0YXJ0OiAweDEzMTFCLCBlbmQ6IDB4MTMxM0UgfSxcclxuICAgIHsgc3RhcnQ6IDB4MTMxRTMsIGVuZDogMHgxMzIxRiB9LFxyXG4gIF07XHJcblxyXG4gIC8vIENob29zZSBhIHJhbmRvbSByYW5nZVxyXG4gIGNvbnN0IHJhbmRvbVJhbmdlID0gcmFuZ2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJhbmdlcy5sZW5ndGgpXTtcclxuXHJcbiAgLy8gR2VuZXJhdGUgYSByYW5kb20gVW5pY29kZSBjaGFyYWN0ZXIgd2l0aGluIHRoZSBzZWxlY3RlZCByYW5nZVxyXG4gIGNvbnN0IHJhbmRvbVVuaWNvZGUgPSBNYXRoLmZsb29yKGdldFJhbmRvbU51bWJlcihyYW5kb21SYW5nZS5zdGFydCwgcmFuZG9tUmFuZ2UuZW5kICsgMSkpO1xyXG5cclxuICAvLyBDb252ZXJ0IHRoZSBVbmljb2RlIGNvZGUgcG9pbnQgdG8gYSBKYXZhU2NyaXB0IHN0cmluZ1xyXG4gIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludChyYW5kb21Vbmljb2RlKTtcclxufVxyXG5cclxuY29uc3QgYWRqZWN0aXZlcyA9IFtcclxuICAnYnVzdGxpbmcnLFxyXG4gICdtYWplc3RpYycsXHJcbiAgJ2FuY2llbnQnLFxyXG4gICdlbGVnYW50JyxcclxuICAnaGlkZGVuJyxcclxuICAnZ2xvcmlvdXMnLFxyXG4gICdlbmNoYW50ZWQnLFxyXG4gICd3aGlzcGVyaW5nJyxcclxuICAnbXlzdGljYWwnLFxyXG4gICdsdW1pbm91cycsXHJcbiAgJ3JhZGlhbnQnLFxyXG4gICdzcGVjdGFjdWxhcicsXHJcbiAgJ2RhenpsaW5nJyxcclxuICAnc2VyZW5hZGUnLFxyXG4gICdjZWxlc3RpYWwnLFxyXG4gICd2aWJyYW50JyxcclxuICAnaW1wb3NpbmcnLFxyXG4gICd2ZW5lcmFibGUnLFxyXG4gICdpbW1hY3VsYXRlJyxcclxuICAnZW5pZ21hdGljJyxcclxuICAnaGFybW9uaW91cycsXHJcbiAgJ2V0aGVyZWFsJyxcclxuICAncmVzcGxlbmRlbnQnLFxyXG4gICd0cmFucXVpbCcsXHJcbiAgJ3NlcmVuZScsXHJcbiAgJ2F3ZS1pbnNwaXJpbmcnLFxyXG4gICdwZWFjZWZ1bCcsXHJcbiAgJ3BpY3R1cmVzcXVlJyxcclxuICAnY2FwdGl2YXRpbmcnLFxyXG5dO1xyXG5cclxuY29uc3QgYnVpbGRpbmdOYW1lcyA9IFtcclxuICAnU2FuY3R1YXJ5JyxcclxuICAnQ2l0YWRlbCcsXHJcbiAgJ0hhdmVuJyxcclxuICAnTW9uYXN0ZXJ5JyxcclxuICAnT3V0cG9zdCcsXHJcbiAgJ09ic2VydmF0b3J5JyxcclxuICAnU3Ryb25naG9sZCcsXHJcbiAgJ1BhbGFjZScsXHJcbiAgJ1RlbXBsZScsXHJcbiAgJ01hbm9yJyxcclxuICAnS2VlcCcsXHJcbiAgJ0NoYXRlYXUnLFxyXG4gICdBY3JvcG9saXMnLFxyXG4gICdDYXRoZWRyYWwnLFxyXG4gICdWaWxsYScsXHJcbiAgJ0ZvcnRyZXNzJyxcclxuICAnQmFzdGlvbicsXHJcbiAgJ0xpZ2h0aG91c2UnLFxyXG4gICdDYXN0bGUnLFxyXG4gICdDb2xpc2V1bScsXHJcbiAgJ1B5cmFtaWQnLFxyXG4gICdNYW5zaW9uJyxcclxuICAnRXN0YXRlJyxcclxuICAnTXVzZXVtJyxcclxuICAnVG93ZXInLFxyXG4gICdIYWxsJyxcclxuICAnTGlicmFyeScsXHJcbiAgJ0dhbGxlcnknLFxyXG4gICdCYXphYXInLFxyXG5dO1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gZ2VuZXJhdGUgYSByYW5kb20gYnVpbGRpbmcgbmFtZSBieSBjb21iaW5pbmcgYW4gYWRqZWN0aXZlIGFuZCBhIGJ1aWxkaW5nIG5hbWVcclxuZnVuY3Rpb24gZ2VuZXJhdGVCdWlsZGluZ05hbWUoKSB7XHJcbiAgY29uc3QgcmFuZG9tQWRqZWN0aXZlID0gYWRqZWN0aXZlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhZGplY3RpdmVzLmxlbmd0aCldO1xyXG4gIGNvbnN0IHJhbmRvbUJ1aWxkaW5nTmFtZSA9IGJ1aWxkaW5nTmFtZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYnVpbGRpbmdOYW1lcy5sZW5ndGgpXTtcclxuICByZXR1cm4gYCR7Y2FwaXRhbGl6ZUZpcnN0KHJhbmRvbUFkamVjdGl2ZSl9ICR7cmFuZG9tQnVpbGRpbmdOYW1lfWA7XHJcbn1cclxuXHJcblxyXG5jb25zdCBub3VucyA9IFtcclxuICAnc2FuY3R1YXJ5JyxcclxuICAnY2l0YWRlbCcsXHJcbiAgJ2hhdmVuJyxcclxuICAnbW9uYXN0ZXJ5JyxcclxuICAnb3V0cG9zdCcsXHJcbiAgJ29ic2VydmF0b3J5JyxcclxuICAnc3Ryb25naG9sZCcsXHJcbiAgJ3BhbGFjZScsXHJcbiAgJ3RlbXBsZScsXHJcbiAgJ21hbm9yJyxcclxuXTtcclxuXHJcbmNvbnN0IHZlcmJzID0gW1xyXG4gICdwcm92aWRlcycsXHJcbiAgJ2VuaGFuY2VzJyxcclxuICAnaW1idWVzJyxcclxuICAncmFkaWF0ZXMnLFxyXG4gICdlbWJvZGllcycsXHJcbiAgJ2luc3BpcmVzJyxcclxuICAnZXZva2VzJyxcclxuICAnZXh1ZGVzJyxcclxuICAnYmVzdG93cycsXHJcbiAgJ2NyZWF0ZXMnLFxyXG5dO1xyXG5cclxuY29uc3QgcHJlcG9zaXRpb25zID0gW1xyXG4gICd3aXRoJyxcclxuICAndGhyb3VnaCcsXHJcbiAgJ2FtaWRzdCcsXHJcbiAgJ2JlbmVhdGgnLFxyXG4gICdhYm92ZScsXHJcbiAgJ2Fsb25nc2lkZScsXHJcbl07XHJcblxyXG5jb25zdCBjb25qdW5jdGlvbnMgPSBbXHJcbiAgJ2FuZCcsXHJcbiAgJ3doaWxlJyxcclxuICAnYXMnLFxyXG4gICdhbHRob3VnaCcsXHJcbiAgJ3lldCcsXHJcbl07XHJcblxyXG4vLyBGdW5jdGlvbiB0byBnZW5lcmF0ZSBhIHJhbmRvbSBidWlsZGluZyBkZXNjcmlwdGlvblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJ1aWxkaW5nRGVzY3JpcHRpb24oKSB7XHJcbiAgY29uc3QgcmFuZG9tQWRqZWN0aXZlID0gYWRqZWN0aXZlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhZGplY3RpdmVzLmxlbmd0aCldO1xyXG4gIGNvbnN0IHJhbmRvbUFkamVjdGl2ZTIgPSBhZGplY3RpdmVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFkamVjdGl2ZXMubGVuZ3RoKV07XHJcblxyXG4gIGNvbnN0IHJhbmRvbU5vdW4gPSBub3Vuc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBub3Vucy5sZW5ndGgpXTtcclxuICBjb25zdCByYW5kb21WZXJiID0gdmVyYnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdmVyYnMubGVuZ3RoKV07XHJcbiAgY29uc3QgcmFuZG9tUHJlcG9zaXRpb24gPSBwcmVwb3NpdGlvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcHJlcG9zaXRpb25zLmxlbmd0aCldO1xyXG4gIGNvbnN0IHJhbmRvbUNvbmp1bmN0aW9uID0gY29uanVuY3Rpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbmp1bmN0aW9ucy5sZW5ndGgpXTtcclxuXHJcbiAgY29uc3Qgc2VudGVuY2VTdHJ1Y3R1cmUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA2KTsgLy8gSG93IG1hbnkgc2VudGVuY2Ugc3RydWN0dXJlcyB3ZSBoYXZlXHJcblxyXG4gIGxldCBkZXNjcmlwdGlvbiA9ICcnO1xyXG5cclxuICBzd2l0Y2ggKHNlbnRlbmNlU3RydWN0dXJlKSB7XHJcbiAgICBjYXNlIDA6XHJcbiAgICAgIGRlc2NyaXB0aW9uID0gYCR7cmFuZG9tQWRqZWN0aXZlfSAke3JhbmRvbU5vdW59IHRoYXQgJHtyYW5kb21WZXJifSBhbiBhdXJhIG9mIHNwbGVuZG9yLmA7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAxOlxyXG4gICAgICBkZXNjcmlwdGlvbiA9IGAke2NhcGl0YWxpemVGaXJzdChyYW5kb21QcmVwb3NpdGlvbil9IGl0cyAke3JhbmRvbUFkamVjdGl2ZX0gYXBwZWFyYW5jZSwgdGhlICR7cmFuZG9tTm91bn0gJHtyYW5kb21WZXJifSBhbiBhdXJhIG9mICR7cmFuZG9tQWRqZWN0aXZlMn0uYDtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIDI6XHJcbiAgICAgIGRlc2NyaXB0aW9uID0gYCR7Y2FwaXRhbGl6ZUZpcnN0KHJhbmRvbUFkamVjdGl2ZSl9ICR7cmFuZG9tTm91bn0gJHtyYW5kb21WZXJifSBncmFjZWZ1bGx5LCBleHVkaW5nIGFuIGVuY2hhbnRpbmcgYXRtb3NwaGVyZS5gO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgMzpcclxuICAgICAgZGVzY3JpcHRpb24gPSBgVGhlICR7cmFuZG9tTm91bn0gaXMgJHtyYW5kb21BZGplY3RpdmV9IGFuZCAke3JhbmRvbVZlcmJ9IHdpdGggYSBzZW5zZSBvZiB3b25kZXIuYDtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIDQ6XHJcbiAgICAgIGRlc2NyaXB0aW9uID0gYEFtaWRzdCB0aGUgJHtyYW5kb21BZGplY3RpdmV9IHN1cnJvdW5kaW5ncywgdGhlICR7cmFuZG9tTm91bn0gJHtyYW5kb21WZXJifSB0cmFucXVpbGl0eSBhbmQgYmVhdXR5LmA7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSA1OlxyXG4gICAgICBkZXNjcmlwdGlvbiA9IGBBbiAke3JhbmRvbUFkamVjdGl2ZX0gJHtyYW5kb21Ob3VufSB0aGF0ICR7cmFuZG9tVmVyYn0gYW4gYXVyYSBvZiBjaGFybSAke3JhbmRvbUNvbmp1bmN0aW9ufSBteXN0aXF1ZS5gO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGRlc2NyaXB0aW9uID0gYCR7Y2FwaXRhbGl6ZUZpcnN0KHJhbmRvbUFkamVjdGl2ZSl9ICR7cmFuZG9tTm91bn0gdGhhdCAke3JhbmRvbVZlcmJ9IGFuIGF1cmEgb2Ygc3BsZW5kb3IuYDtcclxuICB9XHJcblxyXG4gIHJldHVybiBkZXNjcmlwdGlvbjtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21CdWlsZGluZygpIHtcclxuICAvLyBSYW5kb21seSBzZWxlY3QgYSBuYW1lLCBkZXNjcmlwdGlvbiwgYW5kIGNvc3QgZm9yIHRoZSBidWlsZGluZ1xyXG4gIGNvbnN0IHJhbmRvbU5hbWUgPSBnZW5lcmF0ZUJ1aWxkaW5nTmFtZSgpO1xyXG4gIGNvbnN0IHJhbmRvbURlc2NyaXB0aW9uID0gZ2VuZXJhdGVCdWlsZGluZ0Rlc2NyaXB0aW9uKCk7XHJcblxyXG4gIC8vIFJhbmRvbWx5IGNob29zZSAxLTMgcmFuZG9tIHJlc291cmNlcyBmb3IgdGhlIGNvc3RcclxuICBjb25zdCBudW1SZXNvdXJjZXMgPSBnZXRSYW5kb21OdW1iZXIoMSwgMyk7XHJcbiAgY29uc3QgcmFuZG9tQ29zdHMgPSB7fTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVJlc291cmNlczsgaSsrKSB7XHJcbiAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IHJlcGVhdHMsIGl0J3MgdGhlIHNhbWUgYXMgcm9sbGluZyBvbmUgZmV3ZXIgY29zdFxyXG4gICAgY29uc3QgcmFuZG9tUmVzb3VyY2UgPSBwb3NzaWJsZVJlc291cmNlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZVJlc291cmNlcy5sZW5ndGgpXTtcclxuICAgIHJhbmRvbUNvc3RzW3JhbmRvbVJlc291cmNlXSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCAqICg1IC0gbnVtUmVzb3VyY2VzKSk7IC8vIEZld2VyIHJlc291cmNlcyBtZWFucyBtb3JlIGV4cGVuc2l2ZVxyXG4gIH1cclxuXHJcbiAgLy8gMC0xIGNyYWZ0ZWQgcmVzb3VyY2VzXHJcbiAgY29uc3QgbnVtQ3JhZnRlZFJlc291cmNlcyA9IGdldFJhbmRvbU51bWJlcigwLCAxKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNyYWZ0ZWRSZXNvdXJjZXM7IGkrKykge1xyXG4gICAgLy8gV2UgZG9uJ3QgY2FyZSBhYm91dCByZXBlYXRzLCBpdCdzIHRoZSBzYW1lIGFzIHJvbGxpbmcgb25lIGZld2VyIGNvc3RcclxuICAgIGNvbnN0IHJhbmRvbVJlc291cmNlID0gcG9zc2libGVDcmFmdGVkUmVzb3VyY2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlQ3JhZnRlZFJlc291cmNlcy5sZW5ndGgpXTtcclxuICAgIHJhbmRvbUNvc3RzW3JhbmRvbVJlc291cmNlXSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUwKTtcclxuICB9XHJcblxyXG5cclxuICAvLyBHZW5lcmF0ZSByYW5kb20gZWZmZWN0c1xyXG4gIGNvbnN0IHJhbmRvbUVmZmVjdHMgPSB7fTtcclxuICBjb25zdCBudW1FZmZlY3RzID0gZ2V0UmFuZG9tTnVtYmVyKDAsIDMpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRWZmZWN0czsgaSsrKSB7XHJcbiAgICBjb25zdCByYW5kb21SZXNvdXJjZSA9IHBvc3NpYmxlUmVzb3VyY2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlUmVzb3VyY2VzLmxlbmd0aCldO1xyXG4gICAgY29uc3QgcmFuZG9tRWZmZWN0VmFsdWUgPSBNYXRoLmZsb29yKGdldFJhbmRvbU51bWJlcigzMCwgMjAwKSk7IC8vIEFkanVzdCB0aGUgcmFuZ2UgYXMgbmVlZGVkXHJcbiAgICByYW5kb21FZmZlY3RzW3JhbmRvbVJlc291cmNlXSA9IHJhbmRvbUVmZmVjdFZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLy8gR2VuZXJhdGUgcmFuZG9tIGJvb3N0c1xyXG4gIGNvbnN0IHJhbmRvbUJvb3N0cyA9IHt9O1xyXG4gIGNvbnN0IG51bUJvb3N0cyA9IGdldFJhbmRvbU51bWJlcihudW1FZmZlY3RzID09PSAwID8gMSA6IDAsIDMpOyAvLyBFbnN1cmUgdGhlIGJ1aWxkaW5nIGRvZXMgKnNvbWV0aGluZypcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUJvb3N0czsgaSsrKSB7XHJcbiAgICBjb25zdCByYW5kb21SZXNvdXJjZSA9IHBvc3NpYmxlUmVzb3VyY2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlUmVzb3VyY2VzLmxlbmd0aCldO1xyXG4gICAgY29uc3QgcmFuZG9tQm9vc3RWYWx1ZSA9IGdldFJhbmRvbU51bWJlcigxLjAxLCAxLjIpOyAvLyBBZGp1c3QgdGhlIHJhbmdlIGFzIG5lZWRlZFxyXG4gICAgcmFuZG9tQm9vc3RzW3JhbmRvbVJlc291cmNlXSA9IHJhbmRvbUJvb3N0VmFsdWU7XHJcbiAgfVxyXG5cclxuICAvLyBDcmVhdGUgYSByYW5kb20gYnVpbGRpbmcgb2JqZWN0XHJcbiAgY29uc3QgcmFuZG9tQnVpbGRpbmcgPSB7XHJcbiAgICBuYW1lOiByYW5kb21OYW1lLFxyXG4gICAgZGVzY3JpcHRpb246IHJhbmRvbURlc2NyaXB0aW9uLFxyXG4gICAgYmFzZWNvc3Q6IHJhbmRvbUNvc3RzLFxyXG4gICAgY29zdDogcmFuZG9tQ29zdHMsXHJcbiAgICBlZmZlY3RzOiByYW5kb21FZmZlY3RzLFxyXG4gICAgYm9vc3Q6IHJhbmRvbUJvb3N0cyxcclxuICAgIGNvdW50OiAwLFxyXG4gICAgcmF0aW86IGdldFJhbmRvbU51bWJlcigxLjMsIDEuNiksIC8vIFlvdSBjYW4gYWRqdXN0IHRoaXMgYXMgbmVlZGVkXHJcbiAgICBlbW9qaTogZ2V0UmFuZG9tRW1vamkoKSwgLy8gWW91IGNhbiB1c2UgYW55IGVtb2ppIG9yIGljb25cclxuICB9O1xyXG5cclxuICByZXR1cm4gcmFuZG9tQnVpbGRpbmc7XHJcbn1cclxuZXhwb3J0cy5nZW5lcmF0ZVJhbmRvbUJ1aWxkaW5nID0gZ2VuZXJhdGVSYW5kb21CdWlsZGluZzsiLCIvKipcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG1hdGVyaWFsXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRDcmFmdGVkUmVzb3VyY2UobWF0ZXJpYWwsIGNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuXHJcbiAgICBtYXRlcmlhbCA9IG1hdGVyaWFsLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAvLyBMb2FkIGNyYWZ0ZWRSZXNvdXJjZXMgaWYgbm90IHByb3ZpZGVkXHJcbiAgICBpZiAoIWNyYWZ0ZWRSZXNvdXJjZXMpIGNyYWZ0ZWRSZXNvdXJjZXMgPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpLmNyYWZ0ZWRSZXNvdXJjZXM7XHJcblxyXG4gICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZXMuaGFzT3duUHJvcGVydHkobWF0ZXJpYWwpKSByZXR1cm4gY3JhZnRlZFJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgfHwgMDtcclxuICAgIGVsc2UgcmV0dXJuIDA7XHJcblxyXG59XHJcbmV4cG9ydHMuZ2V0Q3JhZnRlZFJlc291cmNlID0gZ2V0Q3JhZnRlZFJlc291cmNlO1xyXG4iLCJjb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi9nZXRDcmFmdGVkUmVzb3VyY2UnKTtcclxuLy8gY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5cclxuLy8gR2V0IGZ1bmN0aW9uIGZvciBtYXRlcmlhbHNcclxuLyoqXHJcbiAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIG1hdGVyaWFsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXRlcmlhbFxyXG4gKiBAcmV0dXJucyBWYWx1ZSBvZiBtYXRlcmlhbFxyXG4qL1xyXG5mdW5jdGlvbiBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSB7XHJcbiAgICBpZiAoIXJlc291cmNlcykgcmVzb3VyY2VzID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpLnJlc291cmNlcztcclxuICAgIGlmIChyZXNvdXJjZXMuaGFzT3duUHJvcGVydHkobWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIG1hdGVyaWFsOlwiLCBtYXRlcmlhbCk7ICAvLyBGb3IgZGVidWdnaW5nXHJcbiAgICAgICAgcmV0dXJuIGdldENyYWZ0ZWRSZXNvdXJjZShtYXRlcmlhbCwgbnVsbCk7XHJcblxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZ2V0TWF0ZXJpYWwgPSBnZXRNYXRlcmlhbDsiLCJjb25zdCB7IGhhc1ByZXN0aWdlLCBnZXRMZXZlbE9mUHJlc3RpZ2UgfSA9IHJlcXVpcmUoJy4vanNvbi9wcmVzdGlnZScpO1xyXG5jb25zdCB7IHJlc291cmNlcywgaXNSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZSgnLi9qc29uL3NraWxscycpO1xyXG5cclxuXHJcblxyXG5cclxubGV0IGFsbFZpc2libGVCdXR0b25zID0gbmV3IFNldChbJ2dhdGhlclN0aWNrcyddKTtcclxuZXhwb3J0cy5hbGxWaXNpYmxlQnV0dG9ucyA9IGFsbFZpc2libGVCdXR0b25zO1xyXG5cclxuXHJcbi8vIENhbGN1bGF0ZSB0aGUgZmluYWwgbnVtYmVyIG9mIGNyYWZ0ZWQgZ29vZHMgZnJvbSBib251c2VzXHJcbmZ1bmN0aW9uIGNhbGNDcmFmdEJvbnVzKHJlc291cmNlS2V5KSB7XHJcbiAgICBsZXQgdG90YWwgPSAxO1xyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uYWZmZWN0ZWRSZXNvdXJjZXMuaW5jbHVkZXMocmVzb3VyY2VLZXkpKSB7XHJcbiAgICAgICAgICAgIGxldCBza2lsbFJhdGlvID0gMS4wNjtcclxuICAgICAgICAgICAgdmFyIG11bHQgPSAxICsgKE1hdGgucG93KHNraWxsUmF0aW8sIHNraWxsc1tza2lsbF0ubGV2ZWwpIC0gMSkgLyAxMDA7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTXVsdGlwbHlpbmcgZ2FpbiBieSBcIiArIG11bHQpO1xyXG4gICAgICAgICAgICB0b3RhbCAqPSBtdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdG90YWw7XHJcbn1cclxuXHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGdldEFmZmVjdGVkUmVzb3VyY2VzKHNraWxsKSB7XHJcbiAgICBpZiAoc2tpbGxzW3NraWxsXSkge1xyXG4gICAgICAgIHJldHVybiBza2lsbHNbc2tpbGxdLmFmZmVjdGVkUmVzb3VyY2VzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7ICAvLyBvciBhbiBlbXB0eSBhcnJheSBbXSwgYmFzZWQgb24geW91ciBwcmVmZXJlbmNlXHJcbn1cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF0ZXJpYWwgXHJcbiAqIEByZXR1cm5zIE1heCBvZiBtYXRlcmlhbCBvciBJbmZpbml0eVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TWF4KG1hdGVyaWFsKSB7XHJcbiAgICBpZiAoaXNSZXNvdXJjZShtYXRlcmlhbCkpIHtcclxuICAgICAgICBsZXQgYmFzZU1heCA9IHJlc291cmNlc1ttYXRlcmlhbF0ubWF4OyAvLyBTdGF0aWMgYmFzZSBtYXggdmFsdWVcclxuICAgICAgICBsZXQgbWF4ID0gYmFzZU1heDtcclxuXHJcbiAgICAgICAgaWYgKGhhc1ByZXN0aWdlKCdzdG9yYWdlU3BhY2UnKSAmJiBtYXRlcmlhbCAhPT0gJ2Nsb25lcycpIHtcclxuICAgICAgICAgICAgbWF4ID0gYmFzZU1heCAqICgxLjA1ICogZ2V0TGV2ZWxPZlByZXN0aWdlKCdzdG9yYWdlU3BhY2UnKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXRlcmlhbCA9PT0gJ2Nsb25lcycgJiYgaGFzUHJlc3RpZ2UoJ21heENsb25lcycpKSB7XHJcbiAgICAgICAgICAgIG1heCA9IGJhc2VNYXggKyBnZXRMZXZlbE9mUHJlc3RpZ2UoJ21heENsb25lcycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG1heDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY2xlYXJTaWRlYmFyKCkge1xyXG4gICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzb3VyY2VzXCIpO1xyXG4gICAgc2lkZWJhci5pbm5lckhUTUwgPSAnJztcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGlzQnV0dG9uSWRWaXNpYmxlKGlkKSB7XHJcbiAgICByZXR1cm4gYWxsVmlzaWJsZUJ1dHRvbnMuaGFzKGlkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VmlzaWJsZUJ1dHRvbihpZCkge1xyXG4gICAgYWxsVmlzaWJsZUJ1dHRvbnMuYWRkKGlkKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBnZXRNYXgsXHJcbiAgICBjYWxjQ3JhZnRCb251cyxcclxuICAgIGlzQnV0dG9uSWRWaXNpYmxlLFxyXG4gICAgc2V0VmlzaWJsZUJ1dHRvbixcclxuICAgIGNsZWFyU2lkZWJhcixcclxufTtcclxuXHJcbiIsIi8qKlxyXG4gKiBBIG1hcCBvZiBhbGwgam9icyB0aGF0IHJlcXVpcmUgYSBwb25kZXIgdG8gYmUgdW5sb2NrZWRcclxuICpcclxuICogSm9iOiBSZXF1aXJlZFBvbmRlclxyXG4gKi9cclxuY29uc3Qgam9iUmVxdWlyZWRQb25kZXJzID0ge1xyXG4gICAgJ3RoaW5raW5nJzogJ3RoaW5raW5nJyxcclxuICAgICdmaXNoaW5nJzogJ2Zpc2hpbmcnLFxyXG4gICAgJ3NtaXRoaW5nJzogJ25vdC11bmxvY2thYmxlJyxcclxuICAgICdmYXJtaW5nJzogJ2FncmljdWx0dXJlJyxcclxuICAgICdjb21iYXQnOiAnY29tYmF0VGFiJyxcclxuICAgICdodW50aW5nJzogJ2h1bnRpbmcnXHJcbn07XHJcbmV4cG9ydHMuam9iUmVxdWlyZWRQb25kZXJzID0gam9iUmVxdWlyZWRQb25kZXJzO1xyXG4iLCIvLyBAdHMtbm9jaGVja1xyXG4vLyBERVBFTkRTIE9OOiBza2lsbHMuanMsIHBvbmRlci5qc1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZSgnLi9qc29uL3NraWxscycpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5cclxuXHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkIH0gPSByZXF1aXJlKFwiLi9wb25kZXJcIik7XHJcbmNvbnN0IHsgZ2V0TWF4IH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IHRyaWdnZXJGbG9hdFVwVGV4dCB9ID0gcmVxdWlyZSgnLi90cmlnZ2VyRmxvYXRVcFRleHQnKTtcclxuXHJcbi8qIEpPQlMgRlVOQ1RJT05BTElUWSAqL1xyXG5cclxuY29uc3Qgam9iQXVkaW8gPSBuZXcgQXVkaW8oJy4vYXVkaW8vam9iLndhdicpO1xyXG5cclxuY29uc3Qgam9iQ291bnRzID0ge307XHJcbmZvciAobGV0IHNraWxsIGluIHNraWxscykge1xyXG4gICAgam9iQ291bnRzW3NraWxsXSA9IDA7XHJcbn1cclxuXHJcblxyXG5cclxuY29uc3Qgam9ic1RhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2JzVGFiJyk7XHJcblxyXG5PYmplY3Qua2V5cyhza2lsbHMpLmZvckVhY2goc2tpbGwgPT4ge1xyXG4gICAgY29uc3Qgam9iRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBqb2JEaXYuY2xhc3NMaXN0LmFkZCgnam9iLWJ1dHRvbicpO1xyXG4gICAgam9iRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1qb2InLCBza2lsbCk7XHJcbiAgICBqb2JEaXYuaWQgPSAnam9iLWJ1dHRvbi0nICsgc2tpbGw7XHJcblxyXG4gICAgY29uc3QgZGVjcmVtZW50RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBkZWNyZW1lbnREaXYuY2xhc3NMaXN0LmFkZCgnYnRuLWRlY3JlbWVudCcpO1xyXG4gICAgZGVjcmVtZW50RGl2LnRleHRDb250ZW50ID0gJy0nO1xyXG4gICAgam9iRGl2LmFwcGVuZENoaWxkKGRlY3JlbWVudERpdik7XHJcblxyXG4gICAgY29uc3Qgam9iTmFtZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICBqb2JOYW1lU3Bhbi5jbGFzc0xpc3QuYWRkKCdqb2ItbmFtZScpO1xyXG4gICAgam9iTmFtZVNwYW4udGV4dENvbnRlbnQgPSBgJHtza2lsbC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHNraWxsLnNsaWNlKDEpfTogMGA7XHJcbiAgICBqb2JEaXYuYXBwZW5kQ2hpbGQoam9iTmFtZVNwYW4pO1xyXG5cclxuICAgIGNvbnN0IGluY3JlbWVudERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgaW5jcmVtZW50RGl2LmNsYXNzTGlzdC5hZGQoJ2J0bi1pbmNyZW1lbnQnKTtcclxuICAgIGluY3JlbWVudERpdi50ZXh0Q29udGVudCA9ICcrJztcclxuICAgIGpvYkRpdi5hcHBlbmRDaGlsZChpbmNyZW1lbnREaXYpO1xyXG5cclxuICAgIGpvYnNUYWIuYXBwZW5kQ2hpbGQoam9iRGl2KTtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnRuLWluY3JlbWVudCcpLmZvckVhY2goYnRuID0+IHtcclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGNvbnN0IGpvYlR5cGUgPSB0aGlzLmNsb3Nlc3QoJy5qb2ItYnV0dG9uJykuZ2V0QXR0cmlidXRlKCdkYXRhLWpvYicpO1xyXG4gICAgICAgIGpvYkF1ZGlvLnBsYXkoKTtcclxuICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwoJ2Nsb25lcycsIHJlc291cmNlcykgPiBnZXRUb3RhbEpvYnMoKSkge1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gZXZlbnQucGFnZVg7IC8vIFggY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2tcclxuICAgICAgICAgICAgY29uc3QgeSA9IGV2ZW50LnBhZ2VZOyAvLyBZIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrXHJcblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBkaWZmZXJlbmNlID0gZ2V0TWF0ZXJpYWwoJ2Nsb25lcycsIHJlc291cmNlcykgLSBnZXRUb3RhbEpvYnMoKTtcclxuICAgICAgICAgICAgICAgIGpvYkNvdW50c1tqb2JUeXBlXSArPSBkaWZmZXJlbmNlO1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckZsb2F0VXBUZXh0KHgsIHksIGArJHtkaWZmZXJlbmNlfSB3b3JrZXJzYCwgJ2dyZWVuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQuY3RybEtleSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIDEwIG9yIG1heCBjbG9uZXNcclxuICAgICAgICAgICAgICAgIGxldCBkaWZmZXJlbmNlID0gTWF0aC5taW4oMTAsIGdldE1hdGVyaWFsKCdjbG9uZXMnLCByZXNvdXJjZXMpIC0gZ2V0VG90YWxKb2JzKCkpO1xyXG4gICAgICAgICAgICAgICAgam9iQ291bnRzW2pvYlR5cGVdICs9IGRpZmZlcmVuY2U7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyRmxvYXRVcFRleHQoeCwgeSwgYCske2RpZmZlcmVuY2V9IHdvcmtlcnNgLCAnZ3JlZW4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGpvYkNvdW50c1tqb2JUeXBlXSsrO1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckZsb2F0VXBUZXh0KHgsIHksICcrMSB3b3JrZXInLCAnZ3JlZW4nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMoam9iVHlwZSwgam9iQ291bnRzW2pvYlR5cGVdKTtcclxuICAgICAgICAgICAgdXBkYXRlRGlzcGxheShqb2JUeXBlKTtcclxuICAgICAgICAgICAgdXBkYXRlVG90YWwoKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cod29ya2Vyc0Rpc3RyaWJ1dGlvbik7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnRuLWRlY3JlbWVudCcpLmZvckVhY2goYnRuID0+IHtcclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG5cclxuICAgICAgICBjb25zdCBqb2JUeXBlID0gdGhpcy5jbG9zZXN0KCcuam9iLWJ1dHRvbicpLmdldEF0dHJpYnV0ZSgnZGF0YS1qb2InKTtcclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQucGFnZVg7IC8vIFggY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2tcclxuICAgICAgICBjb25zdCB5ID0gZXZlbnQucGFnZVk7IC8vIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2tcclxuICAgICAgICBqb2JBdWRpby5wbGF5KCk7XHJcbiAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgIGxldCBudW1Xb3JrZXJzID0gam9iQ291bnRzW2pvYlR5cGVdO1xyXG4gICAgICAgICAgICBqb2JDb3VudHNbam9iVHlwZV0gPSAwO1xyXG5cclxuICAgICAgICAgICAgaWYgKG51bVdvcmtlcnMgPiAwKSB0cmlnZ2VyRmxvYXRVcFRleHQoeCwgeSwgYC0ke251bVdvcmtlcnN9IHdvcmtlcnNgLCAncmVkJyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChldmVudC5jdHJsS2V5KSB7XHJcbiAgICAgICAgICAgIC8vIFN1YnRyYWN0IDEwIG9yIG1heCBjbG9uZXNcclxuICAgICAgICAgICAgbGV0IGRpZmZlcmVuY2UgPSBNYXRoLm1pbigxMCwgam9iQ291bnRzW2pvYlR5cGVdKTtcclxuICAgICAgICAgICAgam9iQ291bnRzW2pvYlR5cGVdIC09IGRpZmZlcmVuY2U7XHJcbiAgICAgICAgICAgIHRyaWdnZXJGbG9hdFVwVGV4dCh4LCB5LCBgLSR7ZGlmZmVyZW5jZX0gd29ya2Vyc2AsICdyZWQnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGpvYkNvdW50c1tqb2JUeXBlXSA+IDApIHtcclxuICAgICAgICAgICAgam9iQ291bnRzW2pvYlR5cGVdLS07XHJcblxyXG4gICAgICAgICAgICB0cmlnZ2VyRmxvYXRVcFRleHQoeCwgeSwgJy0xIHdvcmtlcicsICdyZWQnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpc3RyaWJ1dGVXb3JrZXJzKGpvYlR5cGUsIGpvYkNvdW50c1tqb2JUeXBlXSk7XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheShqb2JUeXBlKTtcclxuICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFRvdGFsSm9icygpIHtcclxuICAgIHZhciB0b3RhbCA9IDA7XHJcbiAgICBmb3IgKGxldCBqIGluIGpvYkNvdW50cykge1xyXG4gICAgICAgIHRvdGFsICs9IGpvYkNvdW50c1tqXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0b3RhbDtcclxufVxyXG5cclxuLy8gR2xvYmFsIGZvciB3aGljaCByZXNvdXJjZSBlYWNoIGNsb25lIGdhdGhlcnNcclxubGV0IHdvcmtlcnNEaXN0cmlidXRpb24gPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIGRpc3RyaWJ1dGVXb3JrZXJzKHNraWxsLCB0b3RhbFdvcmtlcnMpIHtcclxuICAgIGlmICghc2tpbGxzW3NraWxsXSkgcmV0dXJuIG51bGw7ICAvLyBSZXR1cm4gbnVsbCBpZiB0aGUgc2tpbGwgZG9lc24ndCBleGlzdFxyXG5cclxuICAgIGxldCBhZmZlY3RlZFJlc291cmNlcyA9IHNraWxsc1tza2lsbF0uYWZmZWN0ZWRSZXNvdXJjZXM7XHJcblxyXG4gICAgLy8gRmlsdGVyIGFmZmVjdGVkUmVzb3VyY2VzIHRvIG9ubHkgY29udGFpbiBrZXlzIHRoYXQgYXJlIHByZXNlbnQgaW4gdGhlIHJlc291cmNlcyBtYXBcclxuICAgIGFmZmVjdGVkUmVzb3VyY2VzID0gYWZmZWN0ZWRSZXNvdXJjZXMuZmlsdGVyKHJlc291cmNlID0+IHJlc291cmNlIGluIHJlc291cmNlcyk7XHJcblxyXG4gICAgLy8gbGV0IGE7XHJcbiAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IGFmZmVjdGVkUmVzb3VyY2VzLmxlbmd0aDsgYSA9IGFmZmVjdGVkUmVzb3VyY2VzW2ldKSB7XHJcblxyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKGEpO1xyXG4gICAgLy8gICAgIGlmICghcmVzb3VyY2VzW2FdKSB7XHJcblxyXG4gICAgLy8gICAgICAgICBjb25zdCBpbmRleCA9IGFmZmVjdGVkUmVzb3VyY2VzLmluZGV4T2YoYSk7XHJcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGEsIGluZGV4KTtcclxuICAgIC8vICAgICAgICAgbGV0IHggPSBhZmZlY3RlZFJlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICsraTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcbiAgICAvLyBjb25zb2xlLmxvZyhhZmZlY3RlZFJlc291cmNlcyk7XHJcbiAgICBsZXQgbnVtYmVyT2ZSZXNvdXJjZXMgPSBhZmZlY3RlZFJlc291cmNlcy5sZW5ndGg7XHJcblxyXG4gICAgLy8gSW5pdGlhbCBldmVuIGRpc3RyaWJ1dGlvblxyXG4gICAgbGV0IHBlclJlc291cmNlID0gTWF0aC5mbG9vcih0b3RhbFdvcmtlcnMgLyBudW1iZXJPZlJlc291cmNlcyk7XHJcblxyXG4gICAgLy8gRXZlbmx5IGRpc3RyaWJ1dGUgd29ya2VycyBhbW9uZyB0aGUgYWZmZWN0ZWQgcmVzb3VyY2VzXHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBvZiBhZmZlY3RlZFJlc291cmNlcykge1xyXG4gICAgICAgIHdvcmtlcnNEaXN0cmlidXRpb24uc2V0KHJlc291cmNlLCBwZXJSZXNvdXJjZSk7XHJcbiAgICAgICAgaWYgKHBlclJlc291cmNlID4gMCkgbW92ZUJhbGxGcm9tSm9iVG9SZXNvdXJjZShza2lsbCwgcmVzb3VyY2UpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBEaXN0cmlidXRlIGFueSByZW1haW5pbmcgd29ya2VycyBkdWUgdG8gcm91bmRpbmdcclxuICAgIGxldCByZW1haW5pbmdXb3JrZXJzID0gdG90YWxXb3JrZXJzIC0gKHBlclJlc291cmNlICogbnVtYmVyT2ZSZXNvdXJjZXMpO1xyXG4gICAgZm9yIChsZXQgcmVzb3VyY2Ugb2YgYWZmZWN0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICBpZiAocmVtYWluaW5nV29ya2VycyA+IDApIHtcclxuICAgICAgICAgICAgd29ya2Vyc0Rpc3RyaWJ1dGlvbi5zZXQocmVzb3VyY2UsIHdvcmtlcnNEaXN0cmlidXRpb24uZ2V0KHJlc291cmNlKSArIDEpO1xyXG4gICAgICAgICAgICByZW1haW5pbmdXb3JrZXJzLS07XHJcbiAgICAgICAgICAgIG1vdmVCYWxsRnJvbUpvYlRvUmVzb3VyY2Uoc2tpbGwsIHJlc291cmNlKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyh3b3JrZXJzRGlzdHJpYnV0aW9uKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbW92ZUJhbGxGcm9tSm9iVG9SZXNvdXJjZShqb2JUeXBlLCBhZmZlY3RlZFJlc291cmNlKSB7XHJcbiAgICAvLyBGaW5kIHRoZSBqb2IgYnV0dG9uXHJcbiAgICBjb25zdCBqb2JCdXR0b24gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qb2ItYnV0dG9uJykpXHJcbiAgICAgICAgLmZpbmQoYnRuID0+IGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJykgPT09IGpvYlR5cGUpO1xyXG5cclxuICAgIGlmICgham9iQnV0dG9uIHx8IGpvYkJ1dHRvbi5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHJldHVybjsgLy8gSm9iIGJ1dHRvbiBub3QgZm91bmRcclxuXHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJlc291cmNlLSR7YWZmZWN0ZWRSZXNvdXJjZX1gKTtcclxuICAgIGlmICghcmVzb3VyY2VEaXNwbGF5IHx8IHJlc291cmNlRGlzcGxheS5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHJldHVybjsgLy8gUmVzb3VyY2UgZGlzcGxheSBub3QgZm91bmRcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgcG9zaXRpb25zXHJcbiAgICBjb25zdCBqb2JCdXR0b25SZWN0ID0gam9iQnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgY29uc3QgcmVzb3VyY2VSZWN0ID0gcmVzb3VyY2VEaXNwbGF5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIGJhbGwgZWxlbWVudFxyXG4gICAgY29uc3QgYmFsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgYmFsbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICBiYWxsLnN0eWxlLndpZHRoID0gJzEwcHgnO1xyXG4gICAgYmFsbC5zdHlsZS5oZWlnaHQgPSAnMTBweCc7XHJcbiAgICBiYWxsLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MCUnO1xyXG4gICAgYmFsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnd2hpdGUnO1xyXG4gICAgYmFsbC5zdHlsZS5vcGFjaXR5ID0gJy44JztcclxuICAgIGJhbGwuc3R5bGUubGVmdCA9IGAke2pvYkJ1dHRvblJlY3QubGVmdCArIHdpbmRvdy5zY3JvbGxYfXB4YDtcclxuICAgIGJhbGwuc3R5bGUudG9wID0gYCR7am9iQnV0dG9uUmVjdC50b3AgKyB3aW5kb3cuc2Nyb2xsWX1weGA7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJhbGwpO1xyXG5cclxuICAgIC8vIEFuaW1hdGUgdGhlIGJhbGxcclxuICAgIGNvbnN0IGFuaW1hdGlvbiA9IGJhbGwuYW5pbWF0ZShbXHJcbiAgICAgICAgeyB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtyZXNvdXJjZVJlY3QubGVmdCAtIGpvYkJ1dHRvblJlY3QubGVmdH1weCwgJHtyZXNvdXJjZVJlY3QudG9wIC0gam9iQnV0dG9uUmVjdC50b3B9cHgpYCB9XHJcbiAgICBdLCB7XHJcbiAgICAgICAgZHVyYXRpb246IDEwMDAsIC8vIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcclxuICAgICAgICAvLyBmaWxsOiAnZm9yd2FyZHMnIC8vIEtlZXAgdGhlIGJhbGwgYXQgdGhlIGVuZCBwb3NpdGlvbiBhZnRlciBhbmltYXRpb25cclxuICAgICAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoLjIzLC0wLjM0LDAsMS4wNiknXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFdmVudCBsaXN0ZW5lciB0byBoaWRlIHRoZSBiYWxsIGFmdGVyIGFuaW1hdGlvblxyXG4gICAgYW5pbWF0aW9uLm9uZmluaXNoID0gKCkgPT4ge1xyXG4gICAgICAgIGJhbGwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH07XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0V29ya2VycyhyZXNvdXJjZU5hbWUpIHtcclxuICAgIHJldHVybiB3b3JrZXJzRGlzdHJpYnV0aW9uLmdldChyZXNvdXJjZU5hbWUpO1xyXG59XHJcblxyXG4vLyBjb25zdCBhbGxKb2JCdXR0b25icyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qb2ItYnV0dG9uJyk7XHJcbmZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoam9iVHlwZSkge1xyXG4gICAgY29uc3QgdGhpc0pvYkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qb2ItYnV0dG9uW2RhdGEtam9iPVwiJHtqb2JUeXBlfVwiXWApO1xyXG4gICAgaWYgKCF0aGlzSm9iQnV0dG9uKSBjb25zb2xlLndhcm4oXCJDb3VsZG4ndCBmaW5kIGpvYiBidXR0b24gZm9yIGpvYjogXCIsIGpvYlR5cGUpO1xyXG4gICAgY29uc3Qgam9iRWxlbWVudCA9IHRoaXNKb2JCdXR0b24ucXVlcnlTZWxlY3RvcihgLmpvYi1uYW1lYCk7XHJcbiAgICBpZiAoam9iRWxlbWVudCkgam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGAke2pvYlR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBqb2JUeXBlLnNsaWNlKDEpfTogJHtqb2JDb3VudHNbam9iVHlwZV19YDtcclxuXHJcbiAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLnVwZGF0ZUVtb2ppRGlzcGxheSgpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSB0b3RhbCBhc3NpZ25lZCBjbG9uZXMgY291bnRlclxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlVG90YWwoKSB7XHJcbiAgICBjb25zdCB0b3RhbEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjam9icy10b3RhbCcpO1xyXG4gICAgdG90YWxFbGVtZW50LnRleHRDb250ZW50ID0gXCJBc3NpZ25lZCBDbG9uZXM6IFwiICsgZ2V0VG90YWxKb2JzKCkgKyBcIiAvIFwiICsgZ2V0TWF4KCdjbG9uZXMnKTtcclxufVxyXG5cclxuXHJcbmxldCBzdGFydEJ1dHRvbiA9IG51bGw7XHJcbmxldCBjb25uZWN0aW9ucyA9IG5ldyBNYXAoKTsgIC8vIE1hcCB0byBzdG9yZSBjb25uZWN0aW9uc1xyXG5sZXQgbWFuYWdlbWVudCA9IHsgJ2Nvbm5lY3Rpb25zJzogY29ubmVjdGlvbnMsICdtaW5zJzoge30sICdtYXhlcyc6IHt9LCAndHJpZ2dlcnMnOiB7fSB9O1xyXG5sZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbmVDYW52YXMnKTtcclxuXHJcbmZ1bmN0aW9uIHNldENvbm5lY3Rpb25zKG5ld0Nvbm5lY3Rpb25zKSB7XHJcbiAgICBjb25uZWN0aW9ucyA9IG5ld0Nvbm5lY3Rpb25zO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb25uZWN0aW9ucygpIHtcclxuICAgIHJldHVybiBjb25uZWN0aW9ucztcclxufVxyXG5cclxuLy8gaWYgKGNhbnZhcykge1xyXG4vLyBAdHMtaWdub3JlXHJcbmxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuLy8gQHRzLWlnbm9yZVxyXG5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuLy8gQHRzLWlnbm9yZVxyXG5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4vLyB9XHJcblxyXG4vLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9iLWJ1dHRvbicpO1xyXG5cclxuLy8gICAgIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4vLyAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbi8vICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuYnRuLWRlY3JlbWVudCcpIHx8IGUudGFyZ2V0LmNsb3Nlc3QoJy5idG4taW5jcmVtZW50JykpIHJldHVybjtcclxuXHJcbi8vICAgICAgICAgICAgIGlmICghaXNQb25kZXJlZCgnbWFuYWdlbWVudCcpKSByZXR1cm47XHJcblxyXG4vLyAgICAgICAgICAgICBsZXQgam9iQnV0dG9uID0gZS50YXJnZXQuY2xvc2VzdCgnLmpvYi1idXR0b24nKTtcclxuXHJcbi8vICAgICAgICAgICAgIGlmIChqb2JCdXR0b24pIHtcclxuLy8gICAgICAgICAgICAgICAgIGlmICghc3RhcnRCdXR0b24pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdGFydEJ1dHRvbiA9IGpvYkJ1dHRvbjtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdGFydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQnKTtcclxuLy8gICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRCdXR0b24uaWQgJiYgam9iQnV0dG9uLmlkKSB7IC8vIEVuc3VyZSBib3RoIElEcyBhcmUgYXZhaWxhYmxlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuc2V0KHN0YXJ0QnV0dG9uLmlkLCBqb2JCdXR0b24uaWQpO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IGFsbCBjb25uZWN0aW9uc1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGRyYXdBbGxDb25uZWN0aW9ucygpO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgICAgICAvLyBSZXNldFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uID0gbnVsbDtcclxuLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTWlzc2luZyBJRCBmb3Igb25lIG9mIHRoZSBidXR0b25zOicsIHN0YXJ0QnV0dG9uLCBqb2JCdXR0b24pO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2xpY2tlZCBlbGVtZW50IGlzIG5vdCBpbnNpZGUgYSBqb2IgYnV0dG9uOicsIGUudGFyZ2V0KTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0pO1xyXG5cclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChlKSB7XHJcbi8vICAgICAgICAgaWYgKHN0YXJ0QnV0dG9uKSB7XHJcbi8vICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIERyYXcgZXhpc3RpbmcgY29ubmVjdGlvbnNcclxuLy8gICAgICAgICAgICAgZHJhd0FsbENvbm5lY3Rpb25zKCk7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBEcmF3IHRoZSBsaW5lIGZyb20gc3RhcnRCdXR0b24gdG8gY3VycmVudCBtb3VzZSBwb3NpdGlvblxyXG4vLyAgICAgICAgICAgICBkcmF3TGluZShzdGFydEJ1dHRvbiwgZS5jbGllbnRYLCBlLmNsaWVudFkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG4vLyB9KTtcclxuXHJcbmZ1bmN0aW9uIGRyYXdBbGxDb25uZWN0aW9ucygpIHtcclxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgIHRyeSB7XHJcblxyXG5cclxuICAgICAgICBmb3IgKGxldCBbb2xkSWQsIG5ld0lkXSBvZiBjb25uZWN0aW9ucy5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgbGV0IG9sZEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9sZElkKTtcclxuICAgICAgICAgICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5ld0lkKTtcclxuICAgICAgICAgICAgbGV0IHJlY3QgPSBuZXdCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIGxldCBuZXdYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIGxldCBuZXdZID0gMDtcclxuICAgICAgICAgICAgaWYgKHJlY3QuYm90dG9tID4gb2xkQnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSkgbmV3WSA9IG5ld0J1dHRvbi5vZmZzZXRUb3AgLSAxMDtcclxuICAgICAgICAgICAgZWxzZSBuZXdZID0gbmV3QnV0dG9uLm9mZnNldFRvcCArIG5ld0J1dHRvbi5vZmZzZXRIZWlnaHQgKyAxMDtcclxuICAgICAgICAgICAgZHJhd0xpbmUob2xkQnV0dG9uLCBuZXdYLCBuZXdZKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgY29uc29sZS53YXJuKCdkcmF3QWxsQ29ubmVjdGlvbnMnLCBlcnJvcik7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0Fycm93aGVhZChjb250ZXh0LCBmcm9tWCwgZnJvbVksIHRvWCwgdG9ZLCByYWRpdXMpIHtcclxuICAgIGxldCB4X2NlbnRlciA9IHRvWDtcclxuICAgIGxldCB5X2NlbnRlciA9IHRvWTtcclxuXHJcbiAgICBsZXQgYW5nbGU7XHJcbiAgICBsZXQgeDtcclxuICAgIGxldCB5O1xyXG5cclxuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgYW5nbGUgPSBNYXRoLmF0YW4yKHRvWSAtIGZyb21ZLCB0b1ggLSBmcm9tWCk7XHJcbiAgICB4ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpICsgeF9jZW50ZXI7XHJcbiAgICB5ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpICsgeV9jZW50ZXI7XHJcblxyXG4gICAgY29udGV4dC5tb3ZlVG8oeCwgeSk7XHJcblxyXG4gICAgYW5nbGUgKz0gKDEgLyAzKSAqICgyICogTWF0aC5QSSk7XHJcbiAgICB4ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpICsgeF9jZW50ZXI7XHJcbiAgICB5ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpICsgeV9jZW50ZXI7XHJcblxyXG4gICAgY29udGV4dC5saW5lVG8oeCwgeSk7XHJcblxyXG4gICAgYW5nbGUgKz0gKDEgLyAzKSAqICgyICogTWF0aC5QSSk7XHJcbiAgICB4ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpICsgeF9jZW50ZXI7XHJcbiAgICB5ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpICsgeV9jZW50ZXI7XHJcblxyXG4gICAgY29udGV4dC5saW5lVG8oeCwgeSk7XHJcblxyXG4gICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuXHJcbiAgICBjb250ZXh0LmZpbGwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0xpbmUoc3RhcnRFbGVtZW50LCBlbmRYLCBlbmRZKSB7XHJcbiAgICBsZXQgcmVjdCA9IHN0YXJ0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIC8vIGxldCBvZmZzZXQgPSBNYXRoLnJhbmRvbSgpICogMTAwICsgMTAwXHJcbiAgICBsZXQgc3RhcnRYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7IC8vIC0gb2Zmc2V0O1xyXG4gICAgLy8gZW5kWCAtPSBvZmZzZXQ7XHJcbiAgICBsZXQgc3RhcnRZID0gc2Nyb2xsWSArIHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xyXG5cclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xyXG4gICAgY3R4LmxpbmVUbyhlbmRYLCBlbmRZKTtcclxuICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAvLyBEcmF3IGFycm93IGF0IHRoZSBlbmQgb2YgdGhlIGxpbmVcclxuICAgIGRyYXdBcnJvd2hlYWQoY3R4LCBzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSwgMTApOyAgLy8gYWRqdXN0IHRoZSBsYXN0IHBhcmFtZXRlciBmb3IgYXJyb3cgc2l6ZVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhckpvYkFzc2lnbm1lbnRzKCkge1xyXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgY29ubmVjdGlvbnMgPSBuZXcgTWFwKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMoKSB7XHJcbiAgICAvLyBGb3IgZWFjaCBjb25uZWN0aW9uXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBjb25uZWN0aW9ucy5lbnRyaWVzKCk7XHJcbiAgICAgICAgaWYgKGVudHJpZXMgPT09IHVuZGVmaW5lZCkgdGhyb3cgJ0VudHJpZXMgaXMgdW5kZWZpbmVkJztcclxuXHJcbiAgICAgICAgZm9yIChsZXQgW29sZEpvYklkLCBuZXdKb2JJZF0gb2YgZW50cmllcykge1xyXG4gICAgICAgICAgICBsZXQgb2xkSm9iQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2xkSm9iSWQpO1xyXG4gICAgICAgICAgICBsZXQgZGF0YUpvYiA9IG9sZEpvYkJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBvbGRJZCA9IG9sZEpvYklkLnJlcGxhY2UoJ2pvYi1idXR0b24tJywgJycpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdJZCA9IG5ld0pvYklkLnJlcGxhY2UoJ2pvYi1idXR0b24tJywgJycpO1xyXG4gICAgICAgICAgICBsZXQgbWF4ZWRPdXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgbGV0IHJlc291cmNlQXJyYXkgPSBza2lsbHNbZGF0YUpvYl0uYWZmZWN0ZWRSZXNvdXJjZXM7XHJcbiAgICAgICAgICAgIGlmICghcmVzb3VyY2VBcnJheSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZUFycmF5KTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIHJlc291cmNlQXJyYXkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcl0gIT09IHVuZGVmaW5lZCAmJiBnZXRNYXRlcmlhbChyKSA8IHJlc291cmNlc1tyXS5tYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyLCBnZXRNYXRlcmlhbChyKSwgcmVzb3VyY2VzW3JdLm1heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ZWRPdXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG1heGVkT3V0ICYmIGpvYkNvdW50c1tkYXRhSm9iXSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaEpvYihvbGRJZCwgbmV3SWQpO1xyXG4gICAgICAgICAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMob2xkSWQsIGpvYkNvdW50c1tvbGRJZF0pO1xyXG4gICAgICAgICAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMobmV3SWQsIGpvYkNvdW50c1tuZXdJZF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAocmVzb3VyY2VzW2FmZmVjdGVkUmVzb3VyY2VdLmN1cnJlbnRWYWx1ZSA+PSByZXNvdXJjZXNbYWZmZWN0ZWRSZXNvdXJjZV0ubWF4VmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gICAgIHN3aXRjaEpvYihvbGRKb2JJZCwgbmV3Sm9iSWQpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgY29uc29sZS53YXJuKCdyZWFzc2lnbkpvYnMnLCBlcnJvcik7IH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN3aXRjaEpvYihvbGRKb2JJZCwgbmV3Sm9iSWQpIHtcclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gc3dpdGNoZXMgd29ya2VycyBmcm9tIG9sZEpvYiB0byBuZXdKb2IuXHJcbiAgICAvLyBEZXBlbmRpbmcgb24geW91ciBhcHBsaWNhdGlvbiBzdHJ1Y3R1cmUsIHlvdSBjYW4gaW1wbGVtZW50IHRoaXMgZnVuY3Rpb24gYWNjb3JkaW5nbHkuXHJcbiAgICAvLyBGb3IgZXhhbXBsZSwgcmVkdWNlIHRoZSBjb3VudCBvZiB3b3JrZXJzIGluIG9sZEpvYiBhbmQgaW5jcmVhc2UgaW4gbmV3Sm9iLlxyXG4gICAgLy8gY29uc29sZS5sb2coYFN3aXRjaGluZyB3b3JrZXJzIGZyb20gJHtvbGRKb2JJZH0gdG8gJHtuZXdKb2JJZH1gKTtcclxuXHJcbiAgICBsZXQgd29ya2VycyA9IGpvYkNvdW50c1tvbGRKb2JJZF07XHJcbiAgICBqb2JDb3VudHNbb2xkSm9iSWRdID0gMDtcclxuICAgIGpvYkNvdW50c1tuZXdKb2JJZF0gKz0gd29ya2VycztcclxuICAgIHVwZGF0ZURpc3BsYXkob2xkSm9iSWQpO1xyXG4gICAgdXBkYXRlRGlzcGxheShuZXdKb2JJZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0QWxsSm9icygpIHtcclxuICAgIC8vIGpvYkNvdW50cyA9IHt9O1xyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgam9iQ291bnRzW3NraWxsXSA9IDA7XHJcbiAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMoc2tpbGwsIDApO1xyXG4gICAgICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheShza2lsbCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY2xlYXJKb2JBc3NpZ25tZW50cyxcclxuICAgIHJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMsXHJcbiAgICBzd2l0Y2hKb2IsXHJcbiAgICBkcmF3QWxsQ29ubmVjdGlvbnMsXHJcbiAgICBnZXRXb3JrZXJzLFxyXG4gICAgdXBkYXRlVG90YWwsXHJcbiAgICBzZXRDb25uZWN0aW9ucyxcclxuICAgIGdldENvbm5lY3Rpb25zLFxyXG4gICAgZGlzdHJpYnV0ZVdvcmtlcnMsXHJcbiAgICB1cGRhdGVEaXNwbGF5LFxyXG4gICAgam9iQ291bnRzLFxyXG4gICAgcmVzZXRBbGxKb2JzXHJcbn07IiwiY29uc3QgeyBoYXNQZXJrIH0gPSByZXF1aXJlKFwiLi4vcGVya3NcIik7XHJcbmNvbnN0IHsgcmVjYWxjTWF4Q2xvbmVzIH0gPSByZXF1aXJlKFwiLi4vcmVjYWxjTWF4Q2xvbmVzXCIpO1xyXG5jb25zdCB7IHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0IH0gPSByZXF1aXJlKFwiLi4vcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3RcIik7XHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCB9ID0gcmVxdWlyZShcIi4uL3VwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnRcIik7XHJcblxyXG5jb25zdCBidWlsZGluZ3MgPSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIT1VTSU5HXHJcbiAgICAgKi9cclxuICAgIFwic2hlbHRlclwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwic3RpY2tzXCI6IDMwIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJjbG9uZXNcIjogMSB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS40LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZvciB3aGVuIHlvdSBuZWVkIGEgaG9tZSBhd2F5IGZyb20gaG9tZS5cIixcclxuICAgICAgICBlbW9qaTogJ+WFqydcclxuICAgIH0sXHJcbiAgICAnaHV0Jzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7ICdzdGlja3MnOiA1MCwgJ3ZpbmVzJzogMzAgfSxcclxuICAgICAgICAnZWZmZWN0cyc6IHsgJ2Nsb25lcyc6IDEgfSxcclxuICAgICAgICBib29zdDoge30sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuNCxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0EgY296eSwgaWR5bGxpYyBjaHVuayBvZiB3b29kLicsXHJcbiAgICAgICAgZW1vamk6ICflhoInXHJcbiAgICB9LFxyXG4gICAgXCJob3VzZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwid29vZFwiOiA1MCwgXCJyb2Nrc1wiOiAyMCwgJ2Zpc2gnOiAxMCB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwiY2xvbmVzXCI6IDIgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuNSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJFdmVyeSBjbG9uZSdzIGRyZWFtLiBNaW51cyB0aGUgd2hpdGUgcGlja2V0IGZlbmNlLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn5LuLJ1xyXG4gICAgfSxcclxuICAgICd0ZWVwZWUnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgJ3dvb2QnOiAxMCwgJ2hpZGVzJzogMjUsICdmaXNoJzogMTUgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICdjbG9uZXMnOiAyIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV3JhcCBzb21lIGhpZGVzIGFyb3VuZCBzb21lIHdvb2QgYW5kIGNhbGwgaXQgYSBob21lLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn56m0J1xyXG4gICAgfSxcclxuICAgICdob3NwaXRhbCc6IHtcclxuICAgICAgICBiYXNlY29zdDogeyBjb25jcmV0ZTogMTAsIG1lZGljaW5lOiAyMCwgZmlzaDogMjAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICdjbG9uZXMnOiAzIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdLZWVwIHlvdXJzZWxmIHNhZmUuJyxcclxuICAgICAgICBlbW9qaTogJysnXHJcbiAgICB9LFxyXG4gICAgJ2JhcnJhY2tzJzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7IHNwZWFyOiAyMCwgdmlvbGVuY2U6IDEsIHdvb2Q6IDIwMCB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHsgJ2Nsb25lcyc6IDEsICd2aW9sZW5jZSc6IDIwIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdBIGhhbGwgb2YgcmF1Y291cyBzb2xkaWVycy4nLFxyXG4gICAgICAgIGVtb2ppOiAn8JOIjydcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTVE9SQUdFXHJcbiAgICAgKi9cclxuICAgIFwic2hlZFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwid29vZFwiOiA0MCB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwid29vZFwiOiA1MCwgXCJzdGlja3NcIjogNTAsIFwicm9ja3NcIjogMjAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGUgdWx0aW1hdGUgc3RvcmFnZSBzb2x1dGlvbiBmb3IgdGhlIHBhY2sgcmF0IGluIHlvdS5cIixcclxuICAgICAgICBlbW9qaTogJ+S4qidcclxuICAgIH0sXHJcbiAgICAnc3RvY2twaWxlJzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7IHJvY2tzOiAzMCwgd29vZDogNDAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7IHdvb2Q6IDEwMCB9LFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkNodWNrIGEgYnVuY2ggb2YgbG9ncyBpbiBhIHBpbGUsIHdoYXQgY291bGQgaGFwcGVuP1wiLFxyXG4gICAgICAgIGVtb2ppOiAn5ZOBJ1xyXG4gICAgfSxcclxuICAgIFwiZHJ5aW5nX3JhY2tzXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHsgXCJzdGlja3NcIjogMzAsIFwiZmlzaFwiOiA1IH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJmaXNoXCI6IDIwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7fSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQWlyIGRyeWluZzogTmF0dXJlJ3Mgd2F5IG9mIHByZXNlcnZpbmcgZm9vZC5cIixcclxuICAgICAgICBlbW9qaTogJ+WbmydcclxuICAgIH0sXHJcbiAgICBcIndvcmtzaG9wXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHsgXCJ3b29kXCI6IDQwLCBcInN0aWNrc1wiOiAyMCwgXCJyb2Nrc1wiOiAxMCB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7ICdyb2Nrcyc6IDUwLCAnb3JlJzogNTAsICdzYW5kJzogMTAwLCAnY2xheSc6IDUwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7fSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjQsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRElZJ3MgZHJlYW0gZGVzdGluYXRpb24uXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk46wJ1xyXG4gICAgfSxcclxuICAgICdiYXJuJzoge1xyXG4gICAgICAgICdiYXNlY29zdCc6IHsgJ3dvb2QnOiAzMCwgJ3doZWF0JzogNSB9LFxyXG4gICAgICAgICdlZmZlY3RzJzogeyAnd2hlYXQnOiAxMDAsICd2aW5lcyc6IDQwIH0sXHJcbiAgICAgICAgJ2Jvb3N0Jzoge30sXHJcbiAgICAgICAgJ2NvdW50JzogMCxcclxuICAgICAgICAncmF0aW8nOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSGF5LCB3aGF0J3MgaW4gdGhhdCBidWlsZGluZz9cIixcclxuICAgICAgICBlbW9qaTogJ/CTj4YnXHJcbiAgICB9LFxyXG4gICAgJ2hlcmJhbGlzdF9odXQnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgJ3N0aWNrcyc6IDUwLCAndmluZXMnOiA1MCwgJ2hlcmJzJzogNTAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICdoZXJicyc6IDEwMCwgJ3ZpbmVzJzogMTAwIH0sXHJcbiAgICAgICAgYm9vc3Q6IHsgJ2hlcmJzJzogMS4yLCB2aW5lczogMS4xIH0sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIHBsYWNlIGZvciBicmV3aW5nIGFuZCBzdGV3aW5nLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOPgydcclxuICAgIH0sXHJcbiAgICBcImJha2VyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiA4MCxcclxuICAgICAgICAgICAgXCJicmVhZFwiOiAxMCxcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiA0MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgJ3doZWF0JzogMjAwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7fSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjI1LFxyXG4gICAgICAgIFwidG9vbHRpcERlc2NcIjogXCJGcmVzaGx5IGJha2VkIGJyZWFkLCBob3QgYW5kIHJlYWR5LlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOPlidcclxuXHJcbiAgICB9LFxyXG4gICAgXCJhbmltYWxfcGVuXCI6IHtcclxuICAgICAgICBiYXNlY29zdDoge1xyXG4gICAgICAgICAgICBzdGlja3M6IDUwLFxyXG4gICAgICAgICAgICBnYW1lOiAyMCxcclxuICAgICAgICAgICAgZmlzaDogMjVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHsgJ2dhbWUnOiAxMDAsICdoaWRlcyc6IDMwIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQSBwbGFjZSB0byBwdXQgdGhvc2UgbGVzc2VyIHRoYW4geW91LlwiLFxyXG4gICAgICAgIGVtb2ppOiAn55q/J1xyXG4gICAgfSxcclxuICAgICdyZXNlcnZvaXInOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHtcclxuICAgICAgICAgICAgcm9ja3M6IDEwMCxcclxuICAgICAgICAgICAgY2xheTogNTAsXHJcbiAgICAgICAgICAgIHdhdGVyOiAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWZmZWN0czogeyAnd2F0ZXInOiAxMDAgfSxcclxuICAgICAgICBib29zdDoge30sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIGhvbGUgZmlsbGVkIHdpdGggd2F0ZXIuIFVzZWZ1bC5cIixcclxuICAgICAgICBlbW9qaTogJ/CTiJ4nXHJcbiAgICB9LFxyXG4gICAgJ3N0b25lX2RlcG90Jzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7XHJcbiAgICAgICAgICAgIHJvY2tzOiAyMDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHsgJ3JvY2tzJzogMjUwIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQSBiaWcgc3RhY2sgb2Ygcm9ja3MuXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4iTJ1xyXG4gICAgfSxcclxuICAgICd3YXJlaG91c2UnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHtcclxuICAgICAgICAgICAgY3JhdGVzOiAxMCxcclxuICAgICAgICAgICAgY29uY3JldGU6IDIwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7ICd3b29kJzogMTAwLCAncm9ja3MnOiAxMDAsICdjbGF5JzogMTAwLCAnc2FuZCc6IDEwMCB9LFxyXG4gICAgICAgIGJvb3N0OiB7fSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnUHV0IHN0dWZmIGluIGEgYm94IGluc2lkZSBhIGxhcmdlciBib3guJyxcclxuICAgICAgICBlbW9qaTogJ/CTh6YnXHJcbiAgICB9LFxyXG4gICAgJ21pbGl0YXJ5X3NjaG9vbCc6IHtcclxuICAgICAgICBiYXNlY29zdDoge1xyXG4gICAgICAgICAgICBicmlja3M6IDIwLFxyXG4gICAgICAgICAgICB2aW9sZW5jZTogMTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHsgJ3Zpb2xlbmNlJzogMTAwIH0sXHJcbiAgICAgICAgYm9vc3Q6IHsgJ3Zpb2xlbmNlJzogMS4wNSB9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjQsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdMZWFybiB0aGUgYXJ0IG9mIGh1cnRpbmcgb3RoZXJzLicsXHJcbiAgICAgICAgZW1vamk6ICfwk4e7J1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQUk9EVUNUSU9OIEJPT1NUXHJcbiAgICAgKi9cclxuICAgIFwiZ3JvdmVcIjoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7ICd3b29kJzogMjAsICd2aW5lcyc6IDIwIH0sXHJcbiAgICAgICAgZWZmZWN0czoge30sXHJcbiAgICAgICAgYm9vc3Q6IHsgJ3dvb2QnOiAxLjA1LCAnc3RpY2tzJzogMS4xIH0sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBIG5pY2UgZ3JvdmUgb2YgdHJlZXMgdG8gZmluZCB3b29kIGZhc3Rlci5cIixcclxuICAgICAgICBlbW9qaTogJ/CThq3wk4atJ1xyXG4gICAgfSxcclxuICAgIFwiZmlzaF90cmFwc1wiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9wZVwiOiA0MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcImZpc2hcIjogMS4wNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZpc2hpbmcgbWFkZSBlYXN5LiBObyBwYXRpZW5jZSByZXF1aXJlZC5cIixcclxuICAgICAgICBlbW9qaTogJ+S6lSdcclxuICAgIH0sXHJcbiAgICBcIm1pbmVcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDMwLFxyXG4gICAgICAgICAgICBcIndvb2RcIjogMzBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJvcmVcIjogMS4wNSwgJ3JvY2tzJzogMS4wNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkRpZyBkZWVwIGFuZCBmaW5kIHlvdXIgaW5uZXIgb3JlLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOKjSdcclxuICAgIH0sXHJcbiAgICBcImNhbXBmaXJlXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiAyMCxcclxuICAgICAgICAgICAgXCJzdGlja3NcIjogMjBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHsgJ2FsbCc6IDEuMDIgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjUsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV2hlcmUgc3RvcmllcyBhcmUgdG9sZCBhbmQgbWFyc2htYWxsb3dzIGFyZSB0b2FzdGVkLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn54GrJ1xyXG4gICAgfSxcclxuICAgIFwibHVtYmVyX3lhcmRcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMjAwLFxyXG4gICAgICAgICAgICBcImlyb25cIjogMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMS4yXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV29vZCB5b3UgbGlrZSBzb21lIG1vcmUgd29vZD9cIixcclxuICAgICAgICBlbW9qaTogJ/CTjI8nXHJcbiAgICB9LFxyXG4gICAgXCJzdG9uZV9xdWFycnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDUwLFxyXG4gICAgICAgICAgICBcIndvb2RcIjogMjAsXHJcbiAgICAgICAgICAgIFwicm9wZVwiOiAzMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDEuMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlJvY2sgb24gd2l0aCB5b3VyIGJhZCBzZWxmIVwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOKjidcclxuICAgIH0sXHJcbiAgICBcImZpc2hlcnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogNDAsXHJcbiAgICAgICAgICAgIFwicm9wZVwiOiAxNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgJ2Zpc2gnOiA1MCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge30sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZpc2ggYXJlIGZyaWVuZHMuIEFuZCBmb29kLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOMpCdcclxuICAgIH0sXHJcbiAgICBcInZpbmV5YXJkXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDIwLFxyXG4gICAgICAgICAgICBcInZpbmVzXCI6IDUwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwidmluZXNcIjogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRm9yIHRoZSBmaW5lc3QgdmluZXMuIFdoYXQgZWxzZSB3b3VsZCBpdCBncm93P1wiLFxyXG4gICAgICAgIGVtb2ppOiAn8J+cjCdcclxuICAgIH0sXHJcbiAgICBcImZvcmdlXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiA0MCxcclxuICAgICAgICAgICAgXCJvcmVcIjogMjAsXHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxMDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJvcmVcIjogMS4yXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiTWVsdCwgbW9sZCwgYW5kIG1ha2UgbWFydmVsb3VzIG1ldGFscy5cIixcclxuICAgICAgICBlbW9qaTogJ/CTiqsnXHJcbiAgICB9LFxyXG4gICAgJ3dhdGVyX3B1bXAnOiB7XHJcbiAgICAgICAgJ2Jhc2Vjb3N0Jzoge1xyXG4gICAgICAgICAgICAncm9ja3MnOiAzMCxcclxuICAgICAgICAgICAgJ3JvcGUnOiAxLFxyXG4gICAgICAgICAgICAnd29vZCc6IDEwLFxyXG4gICAgICAgICAgICAnd2hlYXQnOiAyXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnZWZmZWN0cyc6IHsgJ2ZyZXNod2F0ZXInOiAzMCB9LFxyXG4gICAgICAgICdib29zdCc6IHtcclxuICAgICAgICAgICAgJ2ZyZXNod2F0ZXInOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgICdjb3VudCc6IDAsXHJcbiAgICAgICAgJ3JhdGlvJzogMS40LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZyZXNoIHdhdGVyIG9uIGRlbWFuZCFcIixcclxuICAgICAgICBlbW9qaTogJ/CTj4InXHJcbiAgICB9LFxyXG4gICAgJ3Rvd2VyJzoge1xyXG4gICAgICAgICdiYXNlY29zdCc6IHtcclxuICAgICAgICAgICAgJ2JyaWNrcyc6IDIwLFxyXG4gICAgICAgICAgICAncm9ja3MnOiAxMCxcclxuICAgICAgICAgICAgJ3dvb2QnOiAzMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2VmZmVjdHMnOiB7fSxcclxuICAgICAgICAnYm9vc3QnOiB7ICdoaWRlcyc6IDEuMDUsICdnYW1lJzogMS4xIH0sXHJcbiAgICAgICAgJ2NvdW50JzogMCxcclxuICAgICAgICByYXRpbzogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlNlZSB0aGluZ3MgZnJvbSBhZmFyLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOKoidcclxuICAgIH0sXHJcbiAgICBcInRhbm5lcnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogNjAsXHJcbiAgICAgICAgICAgIFwiaGlkZXNcIjogNDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7ICdoaWRlcyc6IDUwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiaGlkZXNcIjogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIlRyZWF0IGhpZGVzIHRvIG1ha2UgcXVhbGl0eSBsZWF0aGVyLlwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JODlCdcclxuICAgIH0sXHJcbiAgICBcIm1hcmtldHBsYWNlXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDEwMCxcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiA1MCxcclxuICAgICAgICAgICAgXCJnb2xkXCI6IDFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJoZXJic1wiOiAxLjIsXHJcbiAgICAgICAgICAgICdvcmUnOiAxLjFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMjUsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkEgYnVzdGxpbmcgaHViIG9mIHRyYWRlIGFuZCBiYXJ0ZXIuXCIsXHJcbiAgICAgICAgZW1vamk6ICfigr8nXHJcbiAgICB9LFxyXG4gICAgXCJ3aW5kbWlsbFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxMDAsXHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNjAsXHJcbiAgICAgICAgICAgIFwid2hlYXRcIjogNTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3aGVhdFwiOiAxLjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICBcInRvb2x0aXBEZXNjXCI6IFwiR3JpbmQgZ3JhaW5zIGVmZmljaWVudGx5IHdpdGggd2luZCBwb3dlci5cIixcclxuICAgICAgICBlbW9qaTogJ/CTh6wnXHJcbiAgICB9LFxyXG4gICAgJ2dhcmRlbic6IHtcclxuICAgICAgICBiYXNlY29zdDoge1xyXG4gICAgICAgICAgICBiZWFtczogMjAsXHJcbiAgICAgICAgICAgIGhlcmJzOiAyMCxcclxuICAgICAgICAgICAgZnJlc2h3YXRlcjogMTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHt9LFxyXG4gICAgICAgIGJvb3N0OiB7ICdoZXJicyc6IDEuMSwgJ3N0aWNrcyc6IDEuMDUgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIk5pY2UgbmF0dXJlLCBjYXJlZnVsbHkgY3VsdGl2YXRlZC5cIixcclxuICAgICAgICBlbW9qaTogJ/CThrcnXHJcbiAgICB9LFxyXG4gICAgJ3NhbmRfc2Nvb3AnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgYmVhbXM6IDEwLCBpcm9uOiA1IH0sXHJcbiAgICAgICAgZWZmZWN0czoge30sXHJcbiAgICAgICAgYm9vc3Q6IHsgJ3NhbmQnOiAxLjEgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnU2Nvb3AgdGhlIHNhbmQgZnJvbSB0aGUgc2hvcmU/IFN1cmUhJyxcclxuICAgICAgICBlbW9qaTogJ/CThJsnXHJcbiAgICB9LFxyXG4gICAgJ3RyYXBzJzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7IG5haWxzOiAxMCwgc3RpY2tzOiAyMCwgaGVyYnM6IDIwIH0sXHJcbiAgICAgICAgZWZmZWN0czoge30sXHJcbiAgICAgICAgYm9vc3Q6IHsgJ2dhbWUnOiAxLjEgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIldhdGNoIHlvdXIgc3RlcCFcIixcclxuICAgICAgICBlbW9qaTogJ/CThKYnXHJcbiAgICB9LFxyXG4gICAgJ3JvY2tfcm9sZSc6IHtcclxuICAgICAgICBiYXNlY29zdDogeyBzbGFiczogMjAsIGZyZXNod2F0ZXI6IDMwIH0sXHJcbiAgICAgICAgZWZmZWN0czoge30sXHJcbiAgICAgICAgYm9vc3Q6IHsgJ3JvY2tzJzogMS4yIH0sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0luIG9yZGVyIHRvIGdhdGhlciB0aGUgcm9jayB5b3UgbXVzdCBiZWNvbWUgdGhlIHJvY2suJyxcclxuICAgICAgICBlbW9qaTogJ/CThocnXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBPTkRFUlxyXG4gICAgICovXHJcbiAgICAndGVsZXNjb3BlJzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7XHJcbiAgICAgICAgICAgIGdsYXNzOiAxLFxyXG4gICAgICAgICAgICB3b29kOiAxMCxcclxuICAgICAgICAgICAgcG9uZGVyOiAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWZmZWN0czoge30sXHJcbiAgICAgICAgYm9vc3Q6IHsgcG9uZGVyOiAxLjA1IH0sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJMb29rLCB1cCBpbiB0aGUgc2t5ISBJdCdzIGEgc3RhciFcIixcclxuICAgICAgICBlbW9qaTogJ/CTjKknXHJcbiAgICB9LFxyXG4gICAgXCJvYnNlcnZhdG9yeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiYnJpY2tzXCI6IDcwLFxyXG4gICAgICAgICAgICBcIndvb2RcIjogMzAsXHJcbiAgICAgICAgICAgIFwiZ2xhc3NcIjogNTAsXHJcbiAgICAgICAgICAgIFwicG9uZGVyXCI6IDUwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicG9uZGVyXCI6IDEuMlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlN0YXJnYXppbmcgaGFzIG5ldmVyIGJlZW4gc28uLi4gcHJvZHVjdGl2ZT9cIixcclxuICAgICAgICBlbW9qaTogJ+KYhidcclxuICAgIH0sXHJcbiAgICBcImxpYnJhcnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogNzAsXHJcbiAgICAgICAgICAgIFwicGFwZXJcIjogMjUsXHJcbiAgICAgICAgICAgIFwiZ2xhc3NcIjogNSxcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogMjVcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwicG9uZGVyXCI6IDUwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicG9uZGVyXCI6IDEuMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIktub3dsZWRnZSBpcyBwb3dlci4gQW5kIGEgZmlyZSBoYXphcmQgaWYgbm90IHN0b3JlZCBwcm9wZXJseS5cIixcclxuICAgICAgICBlbW9qaTogJ/Cfla4nXHJcbiAgICB9LFxyXG4gICAgXCJkZXNrXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDE1LFxyXG4gICAgICAgICAgICBcInN0aWNrc1wiOiAyMCxcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogMTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwicG9uZGVyXCI6IDMwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7IFwicG9uZGVyXCI6IDEuMDUgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQSB3cml0ZXIncyBibG9jayBpcyBubyBtYXRjaCBmb3IgYXJtb3ItcGllcmNpbmcgcGVuY2lscyFcIixcclxuICAgICAgICBlbW9qaTogJ/CTiqwnXHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBnZXRCdWlsZGluZ0NvdW50KGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgcmV0dXJuIGJ1aWxkaW5nc1tidWlsZGluZ05hbWVdLmNvdW50O1xyXG59XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBidWlsZGluZ05hbWUgXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvdXJjZSBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRCb29zdChidWlsZGluZ05hbWUsIHJlc291cmNlKSB7XHJcbiAgICBjb25zdCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ05hbWVdO1xyXG5cclxuICAgIGlmIChidWlsZGluZyAmJiBidWlsZGluZy5ib29zdCkge1xyXG4gICAgICAgIGlmIChidWlsZGluZy5ib29zdFtyZXNvdXJjZV0pIHJldHVybiBidWlsZGluZy5ib29zdFtyZXNvdXJjZV07XHJcbiAgICAgICAgaWYgKGJ1aWxkaW5nLmJvb3N0WydhbGwnXSkgcmV0dXJuIGJ1aWxkaW5nLmJvb3N0WydhbGwnXTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHJlc2V0QnVpbGRpbmdzKCkge1xyXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5ncykpIHtcclxuICAgICAgICB2YWxbJ2NvdW50J10gPSAwO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBidXR0b24gdGV4dFxyXG4gICAgICAgIHVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQoa2V5LCAwKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjb3N0IG9mIHRoZSBidWlsZGluZ1xyXG4gICAgICAgIHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGtleSwgYnVpbGRpbmdzLCBoYXNQZXJrKTtcclxuXHJcbiAgICB9XHJcbiAgICAvLyBVcGRhdGUgbWF4IGNsb25lcyBhZnRlciB1cGRhdGluZyB0aGUgY291bnRcclxuICAgIHJlY2FsY01heENsb25lcygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1BvcEJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgc3dpdGNoIChidWlsZGluZ05hbWUpIHtcclxuICAgICAgICBjYXNlICdzaGVsdGVyJzpcclxuICAgICAgICBjYXNlICdodXQnOlxyXG4gICAgICAgIGNhc2UgJ2hvdXNlJzpcclxuICAgICAgICBjYXNlICd0ZWVwZWUnOlxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgYnVpbGRpbmdzLFxyXG4gICAgZ2V0QnVpbGRpbmdDb3VudCxcclxuICAgIGdldEJvb3N0LFxyXG4gICAgcmVzZXRCdWlsZGluZ3MsXHJcbiAgICBpc1BvcEJ1aWxkaW5nXHJcbn07IiwiY29uc3QgeyBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZSgnLi4vc3RhZ2VzJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4uL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgaGFzVG9vbCB9ID0gcmVxdWlyZSgnLi4vdG9vbHMnKTtcclxuY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJyk7XHJcblxyXG4vKiBCVVRUT05TICovXHJcbmNvbnN0IGJ1dHRvbnMgPSB7XHJcblxyXG4gICAgLyogUFJPRFVDVElPTiBUQUIgKi9cclxuICAgICdnYXRoZXJTdGlja3MnOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwIHN0YXJ0VmlzaWJsZScsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogJ/CTgJ0gR2F0aGVyIFN0aWNrcycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdGaXZlLCBTaXgsIFBpY2sgdXAgc3RpY2tzLicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdGcmVlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZSAvLyBUaGlzIGJ1dHRvbiBpcyBhbHdheXMgdmlzaWJsZVxyXG4gICAgfSxcclxuICAgICdnYXRoZXJWaW5lcyc6IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgc3RpY2snLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6ICfwk42vIEdhdGhlciBWaW5lcycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdTb21lIHZpbmVzIGFyZSBydWJiZXJ5LCBvdGhlcnMgYXJlIGd1bW15LicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdGcmVlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gZ2V0TWF0ZXJpYWwoJ3N0aWNrcycsIHJlc291cmNlcykgPj0gMTAgfHwgcGFzc2VkU3RhZ2UoJ3ZpbmVzJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnZ2F0aGVyUm9ja3MnOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwIHN0aWNrJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiAn8JOKlvCTgKkgR2F0aGVyIFJvY2tzJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ05vdCBhIHNpbmdsZSB3aW5kb3cgdG8gdGhyb3cgdGhlbSB0aHJvdWdoLicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdGcmVlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gZ2V0TWF0ZXJpYWwoJ3ZpbmVzJywgcmVzb3VyY2VzKSA+PSAxMCB8fCBwYXNzZWRTdGFnZSgncm9ja3MnKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdnYXRoZXJGaXNoJzoge1xyXG4gICAgICAgIGNsYXNzOiAndG9vbHRpcCBmaXNoaW5nJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiAn8JOGnSDwk4afIPCThp4gR28gRmlzaCcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdHb3QgYW55IHR1bmE/JyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0ZyZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBoYXNUb29sKCdTcGVhcicpIHx8IGhhc1Rvb2woXCJGaXNoaW5nIFJvZFwiKSB8fCBwYXNzZWRTdGFnZSgnZmlzaGluZycpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlcldvb2QnOiB7XHJcbiAgICAgICAgY2xhc3M6ICd3b29kVG9nZ2xlIHdvb2QnLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6ICfwk4yPIENob3AgV29vZCcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdBbiBheGUgaHVydHMgd2F5IGxlc3MgdGhhbiB1c2luZyB5b3VyIGhhbmRzLicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBoYXNUb29sKCdBeGUnKSB8fCBwYXNzZWRTdGFnZSgnd29vZCcpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlck9yZSc6IHtcclxuICAgICAgICBcImNsYXNzXCI6IFwidG9vbHRpcCBcIixcclxuICAgICAgICBcInRhYlwiOiBcInByb2R1Y3Rpb25cIixcclxuICAgICAgICBcInRleHRcIjogXCLwk4m4IE1pbmUgT3JlXCIsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkRpZ2d5IERpZ2d5IEhvbGVcIixcclxuICAgICAgICBcInRvb2x0aXBDb3N0XCI6IFwiRnJlZVwiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBoYXNUb29sKCdQaWNrYXhlJykgfHwgcGFzc2VkU3RhZ2UoJ29yZScpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgLyogVEFCUyAqL1xyXG4gICAgJ3Byb2R1Y3Rpb25UYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnUHJvZHVjdGlvbicsXHJcbiAgICAgICAgc2hvd1RhYjogJ3Byb2R1Y3Rpb25UYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgndGFiLWJ1dHRvbicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2V4cGVyaW1lbnRUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnRXhwZXJpbWVudCcsXHJcbiAgICAgICAgc2hvd1RhYjogJ2V4cGVyaW1lbnRUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgndGFiLWJ1dHRvbicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ3BvbmRlclRhYkJ1dHRvbic6IHtcclxuICAgICAgICBjbGFzczogJ3RhYi1idXR0b24nLFxyXG4gICAgICAgIHRleHQ6ICdQb25kZXInLFxyXG4gICAgICAgIHNob3dUYWI6ICdwb25kZXJUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgncG9uZGVyLXRhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2pvYnNUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnSm9icycsXHJcbiAgICAgICAgc2hvd1RhYjogJ2pvYnNUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgnam9icy10YWInKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdza2lsbHNUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnU2tpbGxzJyxcclxuICAgICAgICBzaG93VGFiOiAnc2tpbGxzVGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3NraWxsc1RhYmxlJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAncGVya3NUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnUGVya3MnLFxyXG4gICAgICAgIHNob3dUYWI6ICdwZXJrc1RhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdwZXJrc1RhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2ZhY3RvcnlUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnRmFjdG9yaWVzJyxcclxuICAgICAgICBzaG93VGFiOiAnZmFjdG9yeVRhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdmYWN0b3J5VGFiJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnY29tYmF0VGFiQnV0dG9uJzoge1xyXG4gICAgICAgIGNsYXNzOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgdGV4dDogXCJDb21iYXRcIixcclxuICAgICAgICBzaG93VGFiOiAnY29tYmF0VGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ2NvbWJhdFRhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG5cclxuICAgIC8qIFBPTkRFUiBUQUIgKi9cclxuICAgICdnYXRoZXJQb25kZXInOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwJyxcclxuICAgICAgICB0ZXh0OiAnUG9uZGVyJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1dyYXAgeW91ciBoZWFkIGFyb3VuZCB0aGUgZ3JlYXQgbXlzdGVyaWVzJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1RpbWUnLFxyXG4gICAgICAgIHRhYjogJ3BvbmRlcicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdwb25kZXItdGFiJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcblxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBidXR0b25zOiBidXR0b25zXHJcbn07IiwiLyogQ1JBRlRJTkcgUkVTT1VSQ0VTICovXHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4uL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlIH0gPSByZXF1aXJlKCcuLi9nZXRDcmFmdGVkUmVzb3VyY2UnKTtcclxuY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgcGFzc2VkU3RhZ2UgfSA9IHJlcXVpcmUoJy4uL3N0YWdlcycpO1xyXG5cclxuXHJcbmNvbnN0IGNyYWZ0ZWRSZXNvdXJjZXMgPSB7XHJcbiAgICAnc2hhcnByb2Nrcyc6IHtcclxuICAgICAgICB0ZXh0OiAnU2hhcnAgUm9ja3MnLFxyXG4gICAgICAgIGlkOiAnY3JhZnRTaGFycHJvY2tzQnV0dG9uJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdyb2Nrcyc6IDIgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJyb2Nrc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQ3JhZnQgYSByb2NrIHVzaW5nIG5vdGhpbmcgYnV0IHJvY2tzIScsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdSb2NrczogNScsXHJcbiAgICAgICAgY2xhc3M6ICdjcmFmdFJvY2tzJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdyb3BlJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRSb3BlQnV0dG9uJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICd2aW5lcyc6IDMgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJyb2Nrc1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnVGhlIGJhc2lzIG9mIGF0dGFjaGluZyB0aGluZ3MgdG8gb3RoZXIgdGhpbmdzLicsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdWaW5lczogMycsXHJcbiAgICAgICAgY2xhc3M6ICdjcmFmdFJvY2tzJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdoYW5kbGUnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEhhbmRsZUJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnc3RpY2tzJzogMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcInJvY2tzXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdTaGVhciBvZmYgdGhhdCBiYXJrIHRvIGhvbGQgaXQgYmV0dGVyJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1NoYXJwIFJvY2tzOiAxJyxcclxuICAgICAgICBjbGFzczogJ2NyYWZ0Um9ja3MnXHJcbiAgICAgICAgLy8gdG9vbDogJ1NoYXJwIFJvY2snXHJcbiAgICB9LFxyXG4gICAgJ3N0YWZmJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRTdGFmZkJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnaGFuZGxlJzogMiwgJ3JvcGUnOiAxIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwicm9ja3NcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1N0aWNrIHNvbWUgc2hlYXJlZCBzdGlja3MgdG9nZXRoZXInLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnSGFuZGxlczogMicsXHJcbiAgICAgICAgY2xhc3M6ICdyb3BlJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdmaXNoaW5ncm9kJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRGaXNoaW5ncm9kQnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnRmlzaGluZyBSb2QnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3N0YWZmJzogMSwgJ3JvcGUnOiAyIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwiZmlzaGluZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQSB3ZWFwb24gZmVhcmVkIGJ5IHVuZGVyd2F0ZXIgbGlmZScsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIGNsYXNzOiAnZmlzaGluZydcclxuICAgICAgICAvLyB0b29sOiAnQmFyZSBIYW5kcydcclxuICAgIH0sXHJcbiAgICAnc3BlYXInOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFNwZWFyQnV0dG9uJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7XHJcbiAgICAgICAgICAgICdzdGFmZic6IDEsXHJcbiAgICAgICAgICAgICdzaGFycHJvY2tzJzogMSxcclxuICAgICAgICAgICAgJ3JvcGUnOiAxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwicm9ja3NcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0EgbG9uZyBhbmQgcG9pbnR5IHN0aWNrJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1N0YWZmczogMScsXHJcbiAgICAgICAgY2xhc3M6ICdyb3BlJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdheGUnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEF4ZUJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnaGFuZGxlJzogMSwgJ3JvcGUnOiAxLCAnc2hhcnByb2Nrcyc6IDIgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJzcGVhclwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnUHV0IGEgcm9jayBzdHJhaWdodCB0aHJvdWdoIHRoYXQgaGFuZGxlJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1NwZWFyczogMScsXHJcbiAgICAgICAgY2xhc3M6ICdzcGVhcidcclxuICAgICAgICAvLyB0b29sOiAnQmFyZSBIYW5kcydcclxuICAgIH0sXHJcbiAgICAncGlja2F4ZSc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0UGlja2F4ZUJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDoge1xyXG4gICAgICAgICAgICAnaGFuZGxlJzogMSxcclxuICAgICAgICAgICAgJ3NoYXJwcm9ja3MnOiAzLFxyXG4gICAgICAgICAgICAncm9wZSc6IDEsXHJcbiAgICAgICAgICAgICdyb2Nrcyc6IDEwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZWRTdGFnZTogXCJzcGVhclwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnU2FkbHkgbm90IG1hZGUgb2YgZGlhbW9uZHMnLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnQXhlczogMScsXHJcbiAgICAgICAgY2xhc3M6ICdzcGVhcidcclxuICAgIH0sXHJcblxyXG4gICAgJ2dsYXNzJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRHbGFzc0J1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnc2FuZCc6IDEwIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnWW91IGNhbiBzZWUgcmlnaHQgdGhyb3VnaCBpdCEnLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwiZ2xhc3NCbG93aW5nXCIsXHJcbiAgICAgICAgY2xhc3M6ICdnbGFzc0Jsb3dpbmcnXHJcbiAgICB9LFxyXG4gICAgJ3BhcGVyJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRQYXBlckJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnd29vZCc6IDEyIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnT3V0c291cmNlIHlvdXIgbWVtb3J5JyxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcInBhcGVyXCIsXHJcbiAgICAgICAgY2xhc3M6ICdwYXBlcidcclxuICAgIH0sXHJcbiAgICAnZ29sZCc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0R29sZEJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnb3JlJzogMTAwIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwibWV0YWxXb3JraW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhlcmUncyBzb21lIHllbGxvdyBiaXRzIGluIHRoaXMgb3JlXCIsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIGNsYXNzOiAnbWV0YWxXb3JraW5nJ1xyXG4gICAgfSxcclxuICAgICdpcm9uJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRJcm9uQnV0dG9uJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdvcmUnOiAyMCB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcIm1ldGFsV29ya2luZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlRoZXJlJ3Mgc29tZSBzdHVyZHktbG9va2luZyBiaXRzIGluIHRoaXMgb3JlXCIsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIGNsYXNzOiAnbWV0YWxXb3JraW5nJ1xyXG4gICAgfSxcclxuICAgICdzaWx2ZXInOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFNpbHZlckJ1dHRvbicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnb3JlJzogNTAgfSxcclxuXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6IFwibWV0YWxXb3JraW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhlcmUncyBzb21lIHNoaW55IGdyYXkgYml0cyBpbiB0aGlzIG9yZVwiLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnJyxcclxuICAgICAgICBjbGFzczogJ21ldGFsV29ya2luZydcclxuICAgIH0sXHJcbiAgICAnYnJpY2tzJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRCcmlja3NCdXR0b24nLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ2NsYXknOiAxNSB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlZFN0YWdlOiBcImNsYXlcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJMZWF2ZSBzb21lIGNsYXkgYnkgdGhlIGZpcmVcIixcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdjbGF5J1xyXG4gICAgfSxcclxuICAgICdicmVhZCc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0QnJlYWRCdXR0b24nLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgd2hlYXQ6IDEzIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkU3RhZ2U6ICdhZ3JpY3VsdHVyZScsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSSdtIGdvbm5hIGdyaW5kIHlvdXIgd2hlYXQgdG8gbWFrZSBteSBicmVhZCFcIixcclxuICAgICAgICB0b29sdGlwY29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdhZ3JpY3VsdHVyZSdcclxuICAgIH0sXHJcbiAgICAnc3RlZWwnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICdpcm9uJzogNSB9IH0sXHJcbiAgICAnYmVhbXMnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICd3b29kJzogMTAgfSB9LFxyXG4gICAgJ2NyYXRlcyc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ3dvb2QnOiAxNSB9IH0sXHJcbiAgICAnbmFpbHMnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICdpcm9uJzogMSB9IH0sXHJcbiAgICAnc2xhYnMnOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICdyb2Nrcyc6IDIwIH0gfSxcclxuICAgICdtZWRpY2luZSc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ2hlcmJzJzogNTAgfSB9LFxyXG4gICAgJ2xlYXRoZXInOiB7IHZhbHVlOiAwLCBjb3N0OiB7ICdoaWRlcyc6IDEwIH0gfSxcclxuICAgICdjb25jcmV0ZSc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ3NhbmQnOiAzMiB9IH0sXHJcbiAgICAnd29vZCc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ3N0aWNrcyc6IDggfSB9LFxyXG4gICAgJ3N0aWNrcyc6IHsgdmFsdWU6IDAsIGNvc3Q6IHsgJ3dvb2QnOiAuMSB9IH0sXHJcblxyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZChpZCkge1xyXG4gICAgZm9yIChjb25zdCBbYywgdmFsXSBvZiBPYmplY3QuZW50cmllcyhjcmFmdGVkUmVzb3VyY2VzKSkge1xyXG4gICAgICAgIGlmICh2YWwuaWQgPT09IGlkIHx8IHZhbC5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWcoY29uZmlnKSB7XHJcbiAgICBmb3IgKGxldCBrIGluIGNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhrKTtcclxuICAgICAgICBpZiAoY3JhZnRlZFJlc291cmNlc1trXS5pZCA9PT0gY29uZmlnLmlkKSByZXR1cm4gaztcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldENyYWZ0ZWRSZXNvdXJjZXMoKSB7XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoY3JhZnRlZFJlc291cmNlcykpIHtcclxuICAgICAgICB2YWwudmFsdWUgPSAwO1xyXG4gICAgICAgIHZhbC5jcmFmdGVkT25jZSA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGNyYWZ0ZWRSZXNvdXJjZXMsXHJcbiAgICBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkLFxyXG4gICAgZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWcsXHJcbiAgICByZXNldENyYWZ0ZWRSZXNvdXJjZXNcclxufTsiLCJcclxuXHJcbi8qKlxyXG4gKiBUaWVyIDEgKDQwMCBwb25kZXIpOlxyXG4gKiBcclxuICogTHVtYmVyamFja1xyXG4gKiAgKzI1JSB3b29kIHByb2R1Y3Rpb25cclxuICogICsyNSUgc3RpY2tzIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIE1pbmVyXHJcbiAqICArMjUlIHN0b25lICYgb3JlIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIEJvdGFuaXN0XHJcbiAqICArMjUlIHZpbmVzICYgaGVyYnMgJiB3aGVhdCBwcm9kdWN0aW9uXHJcbiAqIFxyXG4gKiBMZWFkZXJcclxuICogIDUwJSBjbG9uZSBlZmZlY3RpdmVuZXNzXHJcbiAqIFxyXG4gKiBBcmNoaXRlY3RcclxuICogIC0yNSUgYnVpbGRpbmcgY29zdFxyXG4gKiBcclxuICogXHJcbiAqIFRpZXIgMiAoMTUwMCBwb25kZXIpOlxyXG4gKiBcclxuICogVGhpbmtlclxyXG4gKiAgKzUwJSBwb25kZXIgcHJvZHVjdGlvbiBhbmQgc3RvcmFnZVxyXG4gKiAgLTI1JSBwb25kZXIgY29zdFxyXG4gKiBcclxuICogR2VuZXJhbFxyXG4gKiAgKzUwJSBjb21iYXQgc3RyZW5ndGhcclxuICogICsyNSUgY2xvbmUgZWZmZWN0aXZlbmVzc1xyXG4gKiBcclxuICogTWVyY2hhbnRcclxuICogIC0yNSUgdHJhZGUgcHJpY2VcclxuICogICsyNSUgY2hhbmNlIG9mIHJhcmUgdHJhZGVcclxuICogXHJcbiAqIEdlbmVyYWxpc3RcclxuICogICsxMCUgZ2xvYmFsIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIFNwZWNpYWxpc3RcclxuICogICsxMDAlIHNraWxsIGdhaW5cclxuICogICsxMCUgc2tpbGwgYm9udXMgdG8gcmVzb3VyY2VzXHJcbiAqIFxyXG4gKiBcclxuICogXHJcbiAqIFxyXG4gKi9cclxuY29uc3QgcGVya3MgPSB7XHJcbiAgICAndGllcjEnOiBbJ0x1bWJlcmphY2snLCAnTWluZXInLCAnQm90YW5pc3QnLCAnTGVhZGVyJywgJ0FyY2hpdGVjdCddLFxyXG4gICAgJ3RpZXIyJzogWydUaGlua2VyJywgJ0dlbmVyYWwnLCAnTWVyY2hhbnQnLCAnR2VuZXJhbGlzdCcsICdTcGVjaWFsaXN0J10sXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHBlcmtzOiBwZXJrc1xyXG59OyIsImxldCBwb25kZXJzID0ge1xyXG4gICAgJ3BvbmRlcjEnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJQb25kZXIxJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxMCB9LFxyXG4gICAgICAgIHRleHQ6IFwiVGhpbmsgSGFyZGVyXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiNSUgYm9vc3QgdG8gcG9uZGVyaW5nXCIsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcblxyXG4gICAgfSxcclxuICAgICdqb2JzLXRhYic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckpvYnMtdGFiJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAyMCB9LFxyXG4gICAgICAgIHRleHQ6IFwiVW5kZXJzdGFuZCBDbG9uaW5nXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdXaHkgYXJlIHRoZXJlIHR3byBvZiB5b3U/JyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1Nhbml0eSAoMjAgUG9uZGVyKScsXHJcblxyXG4gICAgfSxcclxuICAgICdza2lsbHNUYWJsZSc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlclNraWxsc1RhYmxlJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA1MCB9LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIllvdSdyZSBzdGFydGluZyB0byBsZWFybiB0aGluZ3MsIHJpZ2h0P1wiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiTm90aWNlIEltcHJvdmVtZW50XCJcclxuICAgIH0sXHJcbiAgICAnZmlzaGluZyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckZpc2hpbmcnLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDUwLCAnZmlzaCc6IDUwIH0sXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiV2hhdCBpZi4uLiB5b3VyIGNsb25lcyBjb3VsZCBnbyBmaXNoaW5nP1wiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiRmlzaGluZyBKb2JcIlxyXG4gICAgfSxcclxuICAgIC8vICdtaWNyb21hbmFnZW1lbnQnOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJNaWNyb21hbmFnZW1lbnQnLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDIwMCwgJ2Nsb25lcyc6IDUgfSxcclxuICAgIC8vICAgICB0ZXh0OiBcIk1pY3JvbWFuYWdlbWVudFwiLFxyXG4gICAgLy8gICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgLy8gICAgIHRvb2x0aXBEZXNjOiBcIllvdSBtYW5hZ2VkIHRvIG1ha2UgY2xvbmVzIG1hbmFnZSBlYWNoIG90aGVyLlwiXHJcbiAgICAvLyB9LFxyXG4gICAgJ2Zhc3RlclNraWxscyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckZhc3RlclNraWxscycsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogODAgfSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIlNraWxscyBJXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhpbmsgU21hcnRlci4gNSUgYm9udXMgdG8gc2tpbGwgZXhwXCJcclxuICAgIH0sXHJcbiAgICAndGhpbmtpbmcnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJUaGlua2luZycsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTUwIH0sXHJcbiAgICAgICAgdGV4dDogXCJUaGlua2luZyBKb2JcIixcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJMZXQgeW91ciBjbG9uZXMgc3RhcnQgdGhpbmtpbmcgZm9yIHRoZW1zZWx2ZXMuXCJcclxuXHJcbiAgICB9LFxyXG4gICAgJ2Zhc3RlclJlc291cmNlR2Fpbic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckZhc3RlclJlc291cmNlR2FpbicsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTIwIH0sXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdGV4dDogXCJQcm9kdWN0aXZpdHkgSVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkp1c3Qgd29yayBoYXJkZXIuIDUlIGJvbnVzIHRvIHJlc291cmNlIGdhaW5cIlxyXG4gICAgfSxcclxuICAgICdtZXRhbFdvcmtpbmcnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJNZXRhbFdvcmtpbmcnLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6IFwiTWV0YWwgV29ya2luZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlN0YXJ0IHByb2Nlc3NpbmcgdGhhdCBvcmVcIixcclxuICAgICAgICAvLyBjb3N0OiBbeyBtYXRlcmlhbDogJ3BvbmRlcicsIGFtb3VudDogMTAwIH0sIHsgbWF0ZXJpYWw6ICdvcmUnLCBhbW91bnQ6IDUwIH0sIHsgbWF0ZXJpYWw6ICdyb2NrcycsIGFtb3VudDogNTAgfV1cclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxMDAsICdvcmUnOiA1MCwgJ3JvY2tzJzogNTAgfSxcclxuICAgIH0sXHJcbiAgICAnZ2xhc3NCbG93aW5nJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyR2xhc3NCbG93aW5nJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiAnR2xhc3MgQmxvd2luZycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdIdWZmIGFuZCBwdWZmIGFuZCBtYWtlIGEgY29vbCB2YXNlJyxcclxuICAgICAgICBjb3N0OiB7ICdzYW5kJzogMjAsICdwb25kZXInOiA4MCB9XHJcbiAgICB9LFxyXG4gICAgJ29yZ2FuaXphdGlvbic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlck9yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdGV4dDogJ09yZ2FuaXplZCBTdG9yYWdlJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ09yZ2FuaXplIHlvdXIgc3RvcmFnZSBieSBncm91cHMnLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDIwMCB9XHJcbiAgICB9LFxyXG4gICAgJ3BhcGVyJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyUGFwZXInLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRleHQ6ICdQYXBlciBQcm9jZXNzaW5nJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1NtYXNoIGRvd24gc29tZSB3b29kIGludG8gcGFwZXInLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDIwMCwgJ3dvb2QnOiAxMDAgfVxyXG4gICAgfSxcclxuICAgICdhdXRvQ2xvbmUnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJBdXRvQ2xvbmUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiQXV0byBDbG9uZVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkF1dG9tYXRpY2FsbHkgcHJvZHVjZSBjbG9uZXNcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxNDAsICdjbG9uZXMnOiAyMCB9LFxyXG4gICAgfSxcclxuXHJcbiAgICAnZWZmZWN0aXZlQnVpbGRpbmdzJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyRWZmZWN0aXZlQnVpbGRpbmdzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkJ1aWxkaW5ncyBJXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSW5jcmVhc2UgYnVpbGRpbmcgZWZmZWN0cyBieSAzJVwiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDE4MCB9LFxyXG4gICAgfSxcclxuICAgICdhZ3JpY3VsdHVyZSc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckFncmljdWx0dXJlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkFncmljdWx0dXJlXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRmluZCBzb21lIHNlZWRzIGZyb20gYWxsIHRob3NlIHBsYW50c1wiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDE4MCB9XHJcbiAgICB9LFxyXG4gICAgJ2NvbWJhdFRhYic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckNvbWJhdFRhYicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJDb21iYXRcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJJcyB0aGVyZSBhbnlvbmUgdG8gc3BhciB3aXRoIGJlc2lkZXMgeW91P1wiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDMwMCwgJ3NwZWFyJzogMTAwIH1cclxuICAgIH0sXHJcbiAgICAnaHVudGluZyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckh1bnRpbmcnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiSHVudGluZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkF0IGxlYXN0IHRoZXJlIGFyZSBhbmltYWxzXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMjAwLCAnZmlzaCc6IDUwIH1cclxuICAgIH0sXHJcbiAgICAncGVya3NUYWInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJQZXJrc1RhYicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogJ1BlcmtzJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ01heWJlIHlvdSBhcyB0aGUgb3JpZ2luYWwgc2hvdWxkIHNwZWNpYWxpemUnLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDQwMCB9XHJcbiAgICB9LFxyXG4gICAgLy8gJ2F1dG9jcmFmdCc6IHtcclxuICAgIC8vICAgICBpZDogXCJwb25kZXJBdXRvY3JhZnRcIixcclxuICAgIC8vICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICB0ZXh0OiBcIkF1dG8gQ3JhZnRcIixcclxuICAgIC8vICAgICB0b29sdGlwRGVzYzogXCJBdXRvbWF0aWNhbGx5IGNyYWZ0IHJlc291cmNlcyB3aGVuIHRoZXkgcmVhY2ggdGhlIHN0b3JhZ2UgbGltaXRcIixcclxuICAgIC8vICAgICBjb3N0OiB7ICdwb25kZXInOiA0MDAsICd3b29kJzogMTAwMCwgJ3JvY2tzJzogNTAwLCAnd2hlYXQnOiAxMDAwIH1cclxuICAgIC8vIH0sXHJcbiAgICAnZmFjdG9yeVRhYic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckZhY3RvcnlUYWInLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiRmFjdG9yaWVzXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQXNjZW5kIHRvIHRoZSBuZXh0IGxldmVsIG9mIGVjb25vbXlcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA1MDAsICdnb2xkJzogMTAsICd3b29kJzogMTAwMCwgJ3doZWF0JzogMTAwMCwgJ3JvY2tzJzogMTAwMCB9XHJcbiAgICB9LFxyXG4gICAgJ3BvbmRlcjInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJQb25kZXIyJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIlRoaW5rIGV2ZW4gaGFyZGVyXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiNSUgYm9vc3QgdG8gcG9uZGVyaW5nXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMzAwIH1cclxuICAgIH0sXHJcbiAgICAncG9uZGVyMyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlclBvbmRlcjMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiVGhpbmsgaGFyZGVzdFwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIjUlIGJvb3N0IHRvIHBvbmRlcmluZ1wiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDYwMCB9XHJcbiAgICB9LFxyXG4gICAgJ2JpZ2dlclNoZWx0ZXInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJCaWdnZXJTaGVsdGVyJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkV4cGFuZCBTaGVsdGVyXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiU2hlbHRlcnMgY2FuIGhvdXNlIDEgbW9yZSBjbG9uZSBlYWNoXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNTAwLCAnc3RpY2tzJzogMTAwMCB9XHJcbiAgICB9LFxyXG4gICAgJ2JpZ2dlckh1dCc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckJpZ2dlckh1dCcsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJFeHBhbmQgSHV0XCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSHV0cyBjYW4gaG91c2UgMSBtb3JlIGNsb25lIGVhY2hcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA3NTAsICdzdGlja3MnOiAxNTAwLCAndmluZXMnOiAxMDAwIH1cclxuICAgIH0sXHJcbiAgICAnYmlnZ2VySG91c2UnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJCaWdnZXJIb3VzZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJUd28tc3RvcnkgaG91c2VzXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSG91c2VzIGNhbiBob3VzZSAyIG1vcmUgY2xvbmVzIGVhY2hcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxMDAwLCAnd29vZCc6IDIwMDAsICdyb2Nrcyc6IDIwMDAgfVxyXG4gICAgfSxcclxuICAgICdiaWdnZXJUZWVwZWUnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJCaWdnZXJUZWVwZWUnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiRG91YmxlIGRpYW1ldGVyIFRlZXBlZXNcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUZWVwZWVzIGNhbiBob3VzZSA0IG1vcmUgY2xvbmVzIGVhY2hcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxMjUwLCAnd29vZCc6IDMwMDAsICdoaWRlcyc6IDE1MDAgfVxyXG4gICAgfSxcclxuICAgICdldmVuQmlnZ2VyU2hlbHRlcic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckV2ZW5CaWdnZXJTaGVsdGVyJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkV4cGFuZCBTaGVsdGVyIEFnYWluXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiU2hlbHRlcnMgY2FuIGhvdXNlIDEgbW9yZSBjbG9uZSBlYWNoXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTUwMCwgJ3N0aWNrcyc6IDMwMDAsICdmaXNoJzogMTAwMCB9XHJcbiAgICB9LFxyXG59O1xyXG5cclxuZnVuY3Rpb24gcmVzZXRQb25kZXJzKCkge1xyXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHBvbmRlcnMpKSB7XHJcbiAgICAgICAgdmFsLmlzUG9uZGVyZWQgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBwb25kZXJzOiBwb25kZXJzLFxyXG4gICAgcmVzZXRQb25kZXJzXHJcbn07IiwiY29uc3QgcHJlc3RpZ2UgPSB7XHJcbiAgICAnbWF4Q2xvbmVzJzoge1xyXG4gICAgICAgIHRleHQ6ICdDcmFtcGVkJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ01heCBDbG9uZXMgKCsxKScsXHJcbiAgICAgICAgY29zdDogMixcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfSxcclxuICAgICdjbG9uZUJvb3N0Jzoge1xyXG4gICAgICAgIHRleHQ6ICdIYW5keW1hbicsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdDbG9uZSBQcm9kdWN0aXZpdHkgKCs1JSknLFxyXG4gICAgICAgIGNvc3Q6IDEsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAnZ2F0aGVyaW5nQm9vc3QnOiB7XHJcbiAgICAgICAgdGV4dDogJ1BpY2tlcicsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdHYXRoZXJpbmcgRWZmaWNpZW5jeSAoKzEwJSknLFxyXG4gICAgICAgIGNvc3Q6IDEsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAnbWFzb25yeUJvb3N0Jzoge1xyXG4gICAgICAgIHRleHQ6ICdSb2NrZXInLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnTWFzb25yeSBFZmZpY2llbmN5ICgrMTAlKScsXHJcbiAgICAgICAgY29zdDogMSxcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfSxcclxuICAgICdjYXJwZW50cnlCb29zdCc6IHtcclxuICAgICAgICB0ZXh0OiAnQ2hvcHBlZCcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdDYXJwZW50cnkgRWZmaWNpZW5jeSAoKzEwJSknLFxyXG4gICAgICAgIGNvc3Q6IDEsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAndGhpbmtpbmdCb29zdCc6IHtcclxuICAgICAgICB0ZXh0OiAnV2l6ZW5lZCcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdUaGlua2luZyBFZmZpY2llbmN5ICgrMTAlKScsXHJcbiAgICAgICAgY29zdDogMSxcclxuICAgICAgICBsZXZlbDogMFxyXG4gICAgfSxcclxuICAgICdmYXJtaW5nQm9vc3QnOiB7XHJcbiAgICAgICAgdGV4dDogJ1BydW5lZCcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdGYXJtaW5nIEVmZmljaWVuY3kgKCsxMCUpJyxcclxuICAgICAgICBjb3N0OiAxLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ2Zpc2hpbmdCb29zdCc6IHtcclxuICAgICAgICB0ZXh0OiAnSG9va2VkJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0Zpc2hpbmcgRWZmaWNpZW5jeSAoKzEwJSknLFxyXG4gICAgICAgIGNvc3Q6IDEsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAnaHVudGluZ0Jvb3N0Jzoge1xyXG4gICAgICAgIHRleHQ6ICdUcmFja2VyJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ0h1bnRpbmcgRWZmaWNpZW5jeSAoKzEwJSknLFxyXG4gICAgICAgIGNvc3Q6IDEsXHJcbiAgICAgICAgbGV2ZWw6IDBcclxuICAgIH0sXHJcbiAgICAnY2hlYXBlckJ1aWxkaW5ncyc6IHtcclxuICAgICAgICB0ZXh0OiAnUmlja2V0eScsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdCdWlsZGluZyBDb3N0ICgtNSUpJyxcclxuICAgICAgICBjb3N0OiAyLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9LFxyXG4gICAgJ3N0b3JhZ2VTcGFjZSc6IHtcclxuICAgICAgICB0ZXh0OiAnU3R1ZmZlZCcsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdTdG9yYWdlIFNwYWNlICgrNSUpJyxcclxuICAgICAgICBjb3N0OiAyLFxyXG4gICAgICAgIGxldmVsOiAwXHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBoYXNQcmVzdGlnZShwcmVzKSB7XHJcbiAgICByZXR1cm4gZ2V0TGV2ZWxPZlByZXN0aWdlKHByZXMpID4gMDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TGV2ZWxPZlByZXN0aWdlKHByZXMpIHtcclxuICAgIHJldHVybiBwcmVzdGlnZVtwcmVzXS5sZXZlbDtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHByZXN0aWdlLFxyXG4gICAgaGFzUHJlc3RpZ2UsXHJcbiAgICBnZXRMZXZlbE9mUHJlc3RpZ2VcclxufTsiLCIvLyBTdGF0ZSBvZiBlYWNoIHJlc291cmNlXHJcblxyXG4vLyBUT0RPOiBBREQgUkVRVUlSRU1FTlRTIEZPUiBFQUNIIFRPIE1BS0UgVEhFTSBWSVNJQkxFXHJcbi8vIG9yIGp1c3QgZGlzcGxheSB0aGVtIHdoZW4geW91IGdldCB5b3VyIGZpcnN0IG9uZT9cclxuY29uc3QgcmVzb3VyY2VzID0ge1xyXG4gICAgXCJjbG9uZXNcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJtYWtlQ2xvbmVcIixcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgbWF4OiAwXHJcbiAgICB9LFxyXG5cclxuICAgIFwic3RpY2tzXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyU3RpY2tzXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogdHJ1ZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4ax8JOAnCBHYXRoZXJpbmcgU3RpY2tzXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCThrEgR2F0aGVyIFN0aWNrc1wiLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBlbW9qaTogJ/CTgJ0nLFxyXG4gICAgICAgIG1heDogNTBcclxuICAgIH0sXHJcbiAgICBcInZpbmVzXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyVmluZXNcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk42v8JOAqiBHYXRoZXJpbmcgVmluZXNcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JONryBHYXRoZXIgVmluZXNcIixcclxuICAgICAgICBcInRvb2xzXCI6IFt7IFwidG9vbFwiOiBcIkF4ZVwiLCBcInZhbFwiOiAxLjUgfV0sXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqicsXHJcbiAgICAgICAgbWF4OiA1MFxyXG4gICAgfSxcclxuICAgIFwicm9ja3NcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJSb2Nrc1wiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTipbwk4CpIEdhdGhlcmluZyBSb2Nrc1wiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4qWIEdhdGhlciBSb2Nrc1wiLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBlbW9qaTogJ/CTgKknLFxyXG4gICAgICAgIG1heDogMzBcclxuICAgIH0sXHJcbiAgICBcImZpc2hcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJGaXNoXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOGnfCThp/wk4aeIPCTgYMgR29uZSBGaXNoaW5nXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCThp3wk4af8JOGniBHbyBGaXNoXCIsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIGVtb2ppOiAn8JOBgycsXHJcbiAgICAgICAgXCJ0b29sc1wiOiBbeyBcInRvb2xcIjogXCJTcGVhclwiLCBcInZhbFwiOiAxIH0sIHsgXCJ0b29sXCI6IFwiRmlzaGluZyBSb2RcIiwgXCJ2YWxcIjogMiB9XSxcclxuICAgICAgICBtYXg6IDEwXHJcbiAgICB9LFxyXG4gICAgXCJ3b29kXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyV29vZFwiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTgKggQ2hvcHBpbmcgV29vZFwiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4yPIENob3AgV29vZFwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqCcsXHJcbiAgICAgICAgXCJ0b29sc1wiOiBbeyBcInRvb2xcIjogXCJBeGVcIiwgXCJ2YWxcIjogMS41IH0sIHsgXCJ0b29sXCI6IFwiQ2hhaW5zYXdcIiwgXCJ2YWxcIjogMyB9XSxcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgbWF4OiA0MFxyXG4gICAgfSxcclxuICAgIFwicG9uZGVyXCI6IHtcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyUG9uZGVyXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOAgSBQb25kZXJpbmdcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOAgSBQb25kZXJcIixcclxuICAgICAgICBlbW9qaTogJ/CTgIEnLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBtYXg6IDIwXHJcbiAgICB9LFxyXG4gICAgXCJvcmVcIjoge1xyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyT3JlXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOJuPCTgYQgTWluaW5nIE9yZVwiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4m4IE1pbmUgT3JlXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4GEJyxcclxuICAgICAgICBtYXg6IDIwXHJcbiAgICB9LFxyXG4gICAgXCJzYW5kXCI6IHtcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlclNhbmRcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4CpIFNjb29waW5nIFNhbmRcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOAqSBTY29vcCBTYW5kXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICBtYXg6IDIwXHJcbiAgICB9LFxyXG4gICAgXCJ3aGVhdFwiOiB7XHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJXaGVhdFwiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTgKkgSGFydmVzdGluZyBXaGVhdFwiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4CpIEhhcnZlc3QgV2hlYXRcIixcclxuICAgICAgICBlbW9qaTogJ/CTgJ0nLFxyXG4gICAgICAgIG1heDogMjBcclxuICAgIH0sXHJcbiAgICAnZnJlc2h3YXRlcic6IHtcclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJGcmVzaHdhdGVyJyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcbiAgICB9LFxyXG4gICAgJ2hpZGVzJzoge1xyXG4gICAgICAgICd2YWx1ZSc6IDAsXHJcbiAgICAgICAgJ2lkJzogJ2dhdGhlckhpZGVzJyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAjicsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcblxyXG4gICAgfSxcclxuICAgICdjbGF5Jzoge1xyXG4gICAgICAgICd2YWx1ZSc6IDAsXHJcbiAgICAgICAgJ2lkJzogJ2dhdGhlckNsYXknLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICAnbWF4JzogNTBcclxuICAgIH0sXHJcbiAgICAnaGVyYnMnOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVySGVyYnMnLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICAnbWF4JzogNTBcclxuICAgIH0sXHJcbiAgICAnZ2FtZSc6IHtcclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJHYW1lJyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ/CTg5rwk4COIEh1bnRpbmcnLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICfwk4COIEh1bnQnLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAjicsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcbiAgICB9LFxyXG4gICAgJ2h1c2tzJzoge1xyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGlkOiAnZ2F0aGVySHVza3MnLFxyXG4gICAgICAgIGlzR2V0dGluZzogZmFsc2UsXHJcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcclxuICAgICAgICBhY3RpdmVUZXh0OiAnJyxcclxuICAgICAgICBkZWZhdWx0VGV4dDogXCJcIixcclxuICAgICAgICBlbW9qaTogJ1gnLFxyXG4gICAgICAgICdtYXgnOiAxMDAwXHJcbiAgICB9LFxyXG4gICAgJ3Zpb2xlbmNlJzoge1xyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGlkOiAnZ2F0aGVyVmlvbGVuY2UnLFxyXG4gICAgICAgIGlzR2V0dGluZzogZmFsc2UsXHJcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcclxuICAgICAgICBhY3RpdmVUZXh0OiAnJyxcclxuICAgICAgICBkZWZhdWx0VGV4dDogJycsXHJcbiAgICAgICAgZW1vamk6ICcnLFxyXG4gICAgICAgIG1heDogMTAwXHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIGlzUmVzb3VyY2UocmVzb3VyY2UpIHtcclxuICAgIC8vIHJldHVybiByZXNvdXJjZXNbcmVzb3VyY2VdICE9PSBudWxsO1xyXG4gICAgcmV0dXJuIHJlc291cmNlIGluIHJlc291cmNlcztcclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRSZXNvdXJjZUNvbmZpZ0J5SWQoaWQpIHtcclxuICAgIGZvciAobGV0IHIgaW4gcmVzb3VyY2VzKSB7XHJcbiAgICAgICAgaWYgKHJlc291cmNlc1tyXS5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlc1tyXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXRSZXNvdXJjZXMoKSB7XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMocmVzb3VyY2VzKSkge1xyXG4gICAgICAgIHZhbC52YWx1ZSA9IDA7XHJcbiAgICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICByZXNvdXJjZXM6IHJlc291cmNlcyxcclxuICAgIGlzUmVzb3VyY2UsXHJcbiAgICBnZXRSZXNvdXJjZUNvbmZpZ0J5SWQsXHJcbiAgICByZXNldFJlc291cmNlc1xyXG59OyIsImNvbnN0IHNraWxscyA9IHtcclxuICAgIGdhdGhlcmluZzoge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWydzdGlja3MnLCAndmluZXMnLCAnc2FuZCcsICdoZXJicycsICdiZXJyaWVzJ11cclxuICAgIH0sXHJcbiAgICBtYXNvbnJ5OiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ3JvY2tzJywgJ29yZScsICdjbGF5J10sXHJcbiAgICAgICAgbmVlZFRvb2xzOiBbeyAnUGlja2F4ZSc6IFsnb3JlJ10gfV1cclxuICAgIH0sXHJcbiAgICBjYXJwZW50cnk6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnd29vZCcsICdoYW5kbGUnLCAnc3RhZmYnLCAnZmlzaGluZ3JvZCddLFxyXG4gICAgICAgIG5lZWRUb29sczogW3sgJ0F4ZSc6IFsnd29vZCddIH1dXHJcbiAgICB9LFxyXG4gICAgdGhpbmtpbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsncG9uZGVyJ11cclxuICAgIH0sXHJcbiAgICAvLyBzbWl0aGluZzoge1xyXG4gICAgLy8gICAgIGV4cDogMCxcclxuICAgIC8vICAgICBsZXZlbDogMCxcclxuICAgIC8vICAgICBhZmZlY3RlZFJlc291cmNlczogWydheGUnLCAncGlja2F4ZScsICdzcGVhcicsICdnbGFzcycsICdpcm9uJywgJ3NpbHZlcicsICdnb2xkJ11cclxuICAgIC8vIH0sXHJcbiAgICBmYXJtaW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ3doZWF0JywgJ2ZyZXNod2F0ZXInXVxyXG4gICAgfSxcclxuICAgIGNvbWJhdDoge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWyd2aW9sZW5jZSddXHJcbiAgICB9LFxyXG4gICAgZmlzaGluZzoge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWydmaXNoJ11cclxuICAgIH0sXHJcbiAgICBodW50aW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ2hpZGVzJywgJ2dhbWUnXVxyXG4gICAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBza2lsbHM6IHNraWxsc1xyXG59OyIsImNvbnN0IHsgY3JhZnRlZFJlc291cmNlcywgcmVzZXRDcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1aWxkaW5ncywgcmVzZXRCdWlsZGluZ3MgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpO1xyXG5jb25zdCB7IHBvbmRlcnMsIHJlc2V0UG9uZGVycyB9ID0gcmVxdWlyZShcIi4vanNvbi9wb25kZXJcIik7XHJcbmNvbnN0IHsgYnV0dG9ucyB9ID0gcmVxdWlyZShcIi4vanNvbi9idXR0b25zXCIpO1xyXG5jb25zdCB7IHJlc291cmNlcywgcmVzZXRSZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuXHJcbmNvbnN0IHsgc2F2ZUdhbWUsIGxvYWRHYW1lIH0gPSByZXF1aXJlKFwiLi9zYXZpbmdcIik7XHJcbmNvbnN0IHsgYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucywgaW5jcmVhc2VNYXRlcmlhbCwgY3JhZnRBbGxSZXNvdXJjZXMsIGNyYWZ0UmVzb3VyY2UsIGNhbGNJbmNyZWFzZSwgdXBkYXRlUmVzb3VyY2VJbmNyZWFzZVJhdGVzLCBpbmNyZWFzZU1heCB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBidXlNYXhCdWlsZGluZ3MsIGJ1eUJ1aWxkaW5nLCB9ID0gcmVxdWlyZSgnLi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyBzZWxlY3RBYmlsaXR5LCByZXNldFBlcmtzIH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbmNvbnN0IHsgY2xlYXJTaWRlYmFyIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IG1ha2VWaXNpYmxlIH0gPSByZXF1aXJlKCcuL21ha2VWaXNpYmxlJyk7XHJcbmNvbnN0IHsgdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSB9ID0gcmVxdWlyZSgnLi91cGRhdGVCdXR0b25WaXNpYmlsaXR5Jyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlIH0gPSByZXF1aXJlKCcuL2dldENyYWZ0ZWRSZXNvdXJjZScpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgYnV5RmFjdG9yeSwgYXR0ZW1wdE1hbnVmYWN0dXJlLCB1cGdyYWRlQnVsayB9ID0gcmVxdWlyZSgnLi9mYWN0b3J5Jyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCwgZ2VuZXJhdGVQb25kZXJCdXR0b25zIH0gPSByZXF1aXJlKFwiLi9wb25kZXJcIik7XHJcbmNvbnN0IHsgaGFzVG9vbCwgYWRkVG9vbCB9ID0gcmVxdWlyZSgnLi90b29scycpO1xyXG5jb25zdCB7IGdldEF0ZUZpc2gsIHNldEF0ZUZpc2ggfSA9IHJlcXVpcmUoJy4vYXRlRmlzaCcpO1xyXG5jb25zdCB7IHVwZGF0ZVRvdGFsLCBjbGVhckpvYkFzc2lnbm1lbnRzLCByZXNldEFsbEpvYnMgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IGNhcGl0YWxpemVGaXJzdCB9ID0gcmVxdWlyZSgnLi9jYXBpdGFsaXplRmlyc3QnKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSwgcmVzZXRTdGFnZXMgfSA9IHJlcXVpcmUoJy4vc3RhZ2VzJyk7XHJcbmNvbnN0IHsgcmVjYWxjTWF4Q2xvbmVzIH0gPSByZXF1aXJlKCcuL3JlY2FsY01heENsb25lcycpO1xyXG5jb25zdCB7IGluaXRpYWxpemVSZXNvdXJjZVRhZ3MsIHVwZGF0ZVNpZGViYXIsIHVwZGF0ZURpc3BsYXlWYWx1ZSB9ID0gcmVxdWlyZSgnLi9zaWRlYmFyJyk7XHJcbmNvbnN0IHsgcHJlc3RpZ2UgfSA9IHJlcXVpcmUoJy4vanNvbi9wcmVzdGlnZScpO1xyXG5jb25zdCB7IHRyaWdnZXJGbG9hdFVwVGV4dCB9ID0gcmVxdWlyZSgnLi90cmlnZ2VyRmxvYXRVcFRleHQnKTtcclxuY29uc3QgeyB1cGRhdGVCb3VuY2VBbmltYXRpb24gfSA9IHJlcXVpcmUoJy4vdXBkYXRlQm91bmNlQW5pbWF0aW9uJyk7XHJcbmNvbnN0IHsgdXBkYXRlVG9vbHRpcCwgaGlkZVRvb2x0aXAgfSA9IHJlcXVpcmUoJy4vdXBkYXRlVG9vbHRpcCcpO1xyXG5jb25zdCB7IGNhbkNyYWZ0IH0gPSByZXF1aXJlKCcuL2NhbkNyYWZ0Jyk7XHJcbmNvbnN0IHsgY2FsY3VsYXRlV2luQ2hhbmNlLCBjb21iYXQsIHN3aXRjaFN0YW5jZSB9ID0gcmVxdWlyZSgnLi9jb21iYXQnKTtcclxuY29uc3QgeyBzaG93VGFiLCBnZXRDdXJyZW50VGFiIH0gPSByZXF1aXJlKCcuL3Nob3dUYWInKTtcclxuY29uc3QgeyBnZXRTZnhWb2x1bWUsIGdldE11c2ljVm9sdW1lLCBzZXRNdXNpY1ZvbHVtZSwgc2V0U2Z4Vm9sdW1lIH0gPSByZXF1aXJlKCcuL2F1ZGlvJyk7XHJcbmNvbnN0IHsgZ2VuZXJhdGVSYW5kb21CdWlsZGluZyB9ID0gcmVxdWlyZSgnLi9nZW5lcmF0ZVJhbmRvbUJ1aWxkaW5nJyk7XHJcbmNvbnN0IHsgY2hhbmdlTWVzc2FnZSwgbWVzc2FnZUVsZW1lbnQgfSA9IHJlcXVpcmUoJy4vY2hhbmdlTWVzc2FnZScpO1xyXG5jb25zdCB7IGdlbmVyYXRlQnV0dG9ucyB9ID0gcmVxdWlyZSgnLi9nZW5lcmF0ZUJ1dHRvbnMnKTtcclxuY29uc3QgeyB0b2dnbGVSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi9nYXRoZXJpbmcnKTtcclxuXHJcblxyXG5cclxuZnVuY3Rpb24gc2V0VG90YWxUaW1lKHRpbWUpIHtcclxuICAgIHRvdGFsX3RpbWUgPSB0aW1lO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuY29uc3QgdG9vbHNUb1N0YWdlcyA9IHtcclxuICAgICdTaGFycFJvY2tzJzogJ2NyYWZ0Um9ja3MnLFxyXG4gICAgJ1NwZWFyJzogJ2Zpc2hpbmcnLFxyXG4gICAgXCJGaXNoaW5nUm9kXCI6ICdmaXNoaW5nJyxcclxuICAgICdBeGUnOiAnd29vZCcsXHJcbiAgICBcIlBpY2theGVcIjogJ29yZSdcclxufTtcclxuXHJcbi8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIGFzc2V0c1xyXG5jb25zdCB2aXNpYmlsaXR5UnVsZXMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbChcInN0aWNrc1wiLCByZXNvdXJjZXMpID49IDEsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZShcInN0aWNrXCIpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoJ3N0aWNrcycsIHJlc291cmNlcykgPj0gMTAsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgndmluZXMnKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKCd2aW5lcycsIHJlc291cmNlcykgPj0gMTAsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgncm9ja3MnKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKFwicm9ja3NcIiwgcmVzb3VyY2VzKSA+PSAxLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4geyBtYWtlVmlzaWJsZShcInRhYi1idXR0b25cIik7IG1ha2VWaXNpYmxlKCdjcmFmdFJvY2tzJyk7IH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRDcmFmdGVkUmVzb3VyY2UoJ3NwZWFyJywgY3JhZnRlZFJlc291cmNlcykgPiAwLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3NwZWFyJylcclxuICAgIH0sXHJcblxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoXCJmaXNoXCIsIHJlc291cmNlcykgPj0gMSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCdmaXNoaW5nJylcclxuICAgIH0sXHJcblxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gaGFzVG9vbChcIkF4ZVwiKSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCd3b29kJylcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRDcmFmdGVkUmVzb3VyY2UoJ3JvcGUnKSA+PSAxLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3JvcGUnKVxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbCgnZmlzaCcsIHJlc291cmNlcykgPj0gNSAmJiAhZ2V0QXRlRmlzaCgpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ2VhdEZpc2gnKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldEF0ZUZpc2goKSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IHsgbWFrZVZpc2libGUoJ2Nsb25lJyk7IG1ha2VWaXNpYmxlKCdwb25kZXItdGFiJyk7IH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBpc1BvbmRlcmVkKCdwb25kZXJGaW5pc2gnKSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG5hdmlnYXRlVG8oJ3N0YWdlMi5odG1sJylcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBpc1BvbmRlcmVkKCdiaWdnZXJTaGVsdGVyJyksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiByZWNhbGNNYXhDbG9uZXMoKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGlzUG9uZGVyZWQoJ2JpZ2dlckh1dCcpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gcmVjYWxjTWF4Q2xvbmVzKClcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBpc1BvbmRlcmVkKCdiaWdnZXJIb3VzZScpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gcmVjYWxjTWF4Q2xvbmVzKClcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBpc1BvbmRlcmVkKCdiaWdnZXJUZWVwZWUnKSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IHJlY2FsY01heENsb25lcygpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gaXNQb25kZXJlZCgnZXZlbkJpZ2dlclNoZWx0ZXInKSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IHJlY2FsY01heENsb25lcygpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoJ2Nsb25lcycpID49IDQwLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3ByZXN0aWdlJylcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbCgnY2xheScpID4gMCxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCdjbGF5JylcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1iYXNpY3MnKSAmJiBpc1BvbmRlcmVkKCdvcmdhbml6YXRpb24nKSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IGluaXRpYWxpemVSZXNvdXJjZVRhZ3ModHJ1ZSlcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBwYXNzZWRTdGFnZSgnY29tYmF0VGFiJyksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBjYWxjdWxhdGVXaW5DaGFuY2UoKVxyXG4gICAgfVxyXG5dO1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyKCkge1xyXG5cclxuICAgIGZvciAobGV0IGkgPSB2aXNpYmlsaXR5UnVsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBjb25zdCBydWxlID0gdmlzaWJpbGl0eVJ1bGVzW2ldO1xyXG4gICAgICAgIGlmIChydWxlLmNvbmRpdGlvbigpKSB7XHJcbiAgICAgICAgICAgIHJ1bGUuYWN0aW9uKCk7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcnVsZSBmcm9tIHRoZSBhcnJheVxyXG4gICAgICAgICAgICB2aXNpYmlsaXR5UnVsZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCB0b29sIGluIHRvb2xzVG9TdGFnZXMpIHtcclxuICAgICAgICBpZiAoIWhhc1Rvb2wodG9vbCkgJiYgZ2V0Q3JhZnRlZFJlc291cmNlKHRvb2wpID4gMCkge1xyXG4gICAgICAgICAgICBhZGRUb29sKHRvb2wpO1xyXG4gICAgICAgICAgICBtYWtlVmlzaWJsZSh0b29sc1RvU3RhZ2VzW3Rvb2xdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICB1cGRhdGVCdXR0b25WaXNpYmlsaXR5KCk7XHJcbiAgICAgICAgLy8gdXBkYXRlQm91bmNlQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRIb3ZlckJ1dHRvbiAhPT0gbnVsbCkgdXBkYXRlVG9vbHRpcChjdXJyZW50SG92ZXJCdXR0b24pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGVycik7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuLy8gTVVTSUMgTUFOQUdFUlxyXG5cclxuY29uc3QgYXVkaW9GaWxlcyA9IFtcclxuICAgICcuL2F1ZGlvL3NvbmcxLndhdicsXHJcbiAgICAnLi9hdWRpby9zb25nMi53YXYnLFxyXG4gICAgJy4vYXVkaW8vc29uZzMud2F2JyxcclxuICAgICcuL2F1ZGlvL3Nvbmc0LndhdicsXHJcbiAgICAnLi9hdWRpby9zb25nNS53YXYnLFxyXG4gICAgJy4vYXVkaW8vc29uZzYud2F2JyxcclxuICAgICcuL2F1ZGlvL3Nvbmc3LndhdicsXHJcbiAgICAnLi9hdWRpby9zb25nOC53YXYnLFxyXG4gICAgJy4vYXVkaW8vc29uZzkud2F2JyxcclxuICAgICcuL2F1ZGlvL3NvbmcxMC53YXYnLFxyXG5cclxuXTtcclxuXHJcbmxldCBjdXJyZW50QXVkaW8gPSBudWxsO1xyXG5sZXQgdGltZW91dElkID0gbnVsbDtcclxuXHJcbmZ1bmN0aW9uIHBsYXlSYW5kb21UcmFjaygpIHtcclxuICAgIC8vIFN0b3AgY3VycmVudCBhdWRpbyBpZiBwbGF5aW5nXHJcbiAgICBpZiAoY3VycmVudEF1ZGlvKSB7XHJcbiAgICAgICAgY3VycmVudEF1ZGlvLnBhdXNlKCk7XHJcbiAgICAgICAgY3VycmVudEF1ZGlvLmN1cnJlbnRUaW1lID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZWxlY3QgYSByYW5kb20gdHJhY2tcclxuICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXVkaW9GaWxlcy5sZW5ndGgpO1xyXG4gICAgY3VycmVudEF1ZGlvID0gbmV3IEF1ZGlvKGF1ZGlvRmlsZXNbcmFuZG9tSW5kZXhdKTtcclxuICAgIGN1cnJlbnRBdWRpby52b2x1bWUgPSBnZXRNdXNpY1ZvbHVtZSgpO1xyXG4gICAgLy8gUGxheSB0aGUgc2VsZWN0ZWQgdHJhY2tcclxuICAgIGN1cnJlbnRBdWRpby5wbGF5KCk7XHJcblxyXG4gICAgLy8gU2NoZWR1bGUgdGhlIG5leHQgdHJhY2tcclxuICAgIHNjaGVkdWxlTmV4dFRyYWNrKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNjaGVkdWxlTmV4dFRyYWNrKCkge1xyXG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHRpbWVvdXRcclxuICAgIGlmICh0aW1lb3V0SWQpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBXaGVuIHRoZSBjdXJyZW50IHRyYWNrIGVuZHMsIHdhaXQgZm9yIHVwIHRvIDMwIHNlY29uZHMgYmVmb3JlIHBsYXlpbmcgdGhlIG5leHRcclxuICAgIGNvbnN0IHNpbGVuY2VEdXJhdGlvbiA9IE1hdGgucmFuZG9tKCkgKiAzMDAwMCArIDUwMDA7IC8vIFJhbmRvbSBzaWxlbmNlIGR1cmF0aW9uIDUgLSAzNSBzZWNvbmRzXHJcbiAgICBjdXJyZW50QXVkaW8ub25lbmRlZCA9ICgpID0+IHtcclxuICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KHBsYXlSYW5kb21UcmFjaywgc2lsZW5jZUR1cmF0aW9uKTtcclxuICAgIH07XHJcbn1cclxuXHJcbi8qIEhPVEtFWVMgKi9cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcclxuICAgICAgICBjYXNlICcxJzpcclxuICAgICAgICAgICAgc2hvd1RhYigncHJvZHVjdGlvblRhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICcyJzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCd0YWItYnV0dG9uJykpIHNob3dUYWIoJ2V4cGVyaW1lbnRUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnMyc6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgncG9uZGVyLXRhYicpKSBzaG93VGFiKCdwb25kZXJUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnNCc6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgnam9icy10YWInKSkgc2hvd1RhYignam9ic1RhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICc1JzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCdza2lsbHNUYWJsZScpKSBzaG93VGFiKCdza2lsbHNUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnNic6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgncGVya3NUYWInKSkgc2hvd1RhYigncGVya3NUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnNyc6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgnZmFjdG9yeVRhYicpKSBzaG93VGFiKCdmYWN0b3J5VGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJzgnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ2NvbWJhdFRhYicpKSBzaG93VGFiKCdjb21iYXRUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnYSc6XHJcbiAgICAgICAgICAgIGlmIChnZXRDdXJyZW50VGFiKCkgPT09ICdjb21iYXRUYWInKSBzd2l0Y2hTdGFuY2UoJ2FnZ3Jlc3NpdmUnKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnYic6XHJcbiAgICAgICAgICAgIGlmIChnZXRDdXJyZW50VGFiKCkgPT09ICdjb21iYXRUYWInKSBzd2l0Y2hTdGFuY2UoJ2JhbGFuY2VkJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2MnOlxyXG4gICAgICAgICAgICBpZiAoZ2V0Q3VycmVudFRhYigpID09PSAnY29tYmF0VGFiJykgc3dpdGNoU3RhbmNlKCdjYXJlZnVsJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2YnOlxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGlmIChnZXRDdXJyZW50VGFiKCkgPT09ICdjb21iYXRUYWInICYmICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRDb21iYXQnKS5kaXNhYmxlZCkgY29tYmF0KCk7XHJcbiAgICAgICAgICAgIGVsc2UgdG9nZ2xlUmVzb3VyY2UoJ2Zpc2gnKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAncyc6XHJcbiAgICAgICAgICAgIHRvZ2dsZVJlc291cmNlKCdzdGlja3MnKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAncic6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgncm9ja3MnKSkgdG9nZ2xlUmVzb3VyY2UoJ3JvY2tzJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3YnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ3ZpbmVzJykpIHRvZ2dsZVJlc291cmNlKCd2aW5lcycpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICd3JzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCd3b29kJykpIHRvZ2dsZVJlc291cmNlKCd3b29kJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ28nOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ29yZScpKSB0b2dnbGVSZXNvdXJjZSgnb3JlJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3AnOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ3BvbmRlci10YWInKSkgdG9nZ2xlUmVzb3VyY2UoJ3BvbmRlcicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdFc2NhcGUnOlxyXG4gICAgICAgICAgICB0b2dnbGVPcHRpb25zKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4vKiBEQVJLIE1PREUgKi9cclxuLy8gY29uc3QgZGFya01vZGVUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhcmtNb2RlVG9nZ2xlXCIpO1xyXG5jb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcclxuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdkYXJrLW1vZGUnKTtcclxuLy8gQHRzLWlnbm9yZVxyXG4vLyBkYXJrTW9kZVRvZ2dsZS5jbGFzc0xpc3QudG9nZ2xlKCdkYXJrJyk7XHJcbmxldCBpc0RhcmsgPSB0cnVlO1xyXG5cclxuXHJcbi8qIENVVFNDRU5FUyAqL1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGVhdEZpc2goKSB7XHJcbiAgICBpZiAoIWdldEF0ZUZpc2goKSAmJiBnZXRNYXRlcmlhbCgnZmlzaCcsIHJlc291cmNlcykgPj0gMSkge1xyXG4gICAgICAgIC8vIGVhdCBhIGZpc2ggYW5kIGJsYWNrb3V0XHJcbiAgICAgICAgY29uc3QgZmlzaEF1ZGlvID0gbmV3IEF1ZGlvKCcuL2F1ZGlvL2Zpc2gud2F2Jyk7XHJcbiAgICAgICAgZmlzaEF1ZGlvLnZvbHVtZSA9IGdldFNmeFZvbHVtZSgpO1xyXG4gICAgICAgIGZpc2hBdWRpby5wbGF5KCk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGluY3JlYXNlTWF0ZXJpYWwoJ2Zpc2gnLCAtMSk7XHJcbiAgICAgICAgLy8gQ2FsbCB0aGlzIGZ1bmN0aW9uIHRvIHN0YXJ0IHRoZSBzZXF1ZW5jZVxyXG4gICAgICAgIGZhZGVUb0JsYWNrKCk7XHJcbiAgICAgICAgLy8gSGlkZSBmaXNoIGJ1dHRvblxyXG4gICAgICAgIHNldEF0ZUZpc2godHJ1ZSk7XHJcbiAgICAgICAgY29uc3QgZmlzaEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWF0RmlzaFwiKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgZmlzaEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjaGFuZ2VNZXNzYWdlKFwiWW91IGFyZSB3aXRoIHlvdXJzZWxmIGluIGEgZm9yZXN0LlwiLCAnd2l0aCB5b3Vyc2VsZicsICdZb3UgZmVlbCBwZWNraXNoIGZvciBzb21lIHNlYWZvb2QuJyk7XHJcbiAgICAgICAgICAgIGluY3JlYXNlTWF4KCdjbG9uZXMnLCAxKTtcclxuICAgICAgICAgICAgaW5jcmVhc2VNYXRlcmlhbCgnY2xvbmVzJywgMSk7XHJcbiAgICAgICAgfSwgMTAwMCk7IC8vIGRlbGF5IG9mIDFzXHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZmFkZVRvQmxhY2soKSB7XHJcbiAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKTtcclxuICAgIGNvbnN0IG92ZXJsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktdGV4dCcpO1xyXG4gICAgY29uc3Qgb3ZlcmxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5LWJ1dHRvbicpO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgb3ZlcmxheVRleHQuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgIH0sIDIwMDApO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBvdmVybGF5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIG92ZXJsYXlCdXR0b24uc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgIH0sIDUwMDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoaWRlT3ZlcmxheSgpIHtcclxuICAgIGNvbnN0IG92ZXJsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktdGV4dCcpO1xyXG4gICAgb3ZlcmxheVRleHQuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuXHJcbiAgICBjb25zdCBvdmVybGF5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktYnV0dG9uJyk7XHJcbiAgICBvdmVybGF5QnV0dG9uLnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcblxyXG4gICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5Jyk7XHJcbiAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgY29uc3QgaXNla2FpQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpc2VrYWlCdXR0b25zJyk7XHJcbiAgICAvLyBpc2VrYWlCdXR0b25zLmNoaWxkTm9kZXMuZm9yRWFjaChjaGlsZCA9PiBpc2VrYWlCdXR0b25zLnJlbW92ZUNoaWxkKGNoaWxkKSk7XHJcbiAgICBpc2VrYWlCdXR0b25zLmlubmVySFRNTCA9ICcnO1xyXG4gICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5hdmlnYXRlVG8odXJsKSB7XHJcbiAgICAvLyBUcmlnZ2VyIHRoZSBvdmVybGF5IHRvIGZhZGUgaW5cclxuICAgIHZhciBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2UtdHJhbnNpdGlvbi1vdmVybGF5Jyk7XHJcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2ZhZGUtaW4nKTtcclxuXHJcbiAgICAvLyBXYWl0IGZvciB0aGUgZmFkZSBpbiB0byBjb21wbGV0ZSBiZWZvcmUgY2hhbmdpbmcgdGhlIHBhZ2VcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gICAgfSwgMzAwKTsgLy8gVGhpcyBkdXJhdGlvbiBzaG91bGQgbWF0Y2ggdGhlIENTUyBvcGFjaXR5IHRyYW5zaXRpb25cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TWVzc2FnZSgpIHtcclxuICAgIHJldHVybiBtZXNzYWdlRWxlbWVudDtcclxufVxyXG5mdW5jdGlvbiBnZXRNZXNzYWdlVG9vbHRpcCgpIHtcclxuICAgIHJldHVybiBtZXNzYWdlRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2Fsb25lXCIpLmdldEF0dHJpYnV0ZSgndG9vbHRpcERlc2MnKTtcclxufVxyXG5cclxuLyogR0FNRSBMT09QICovXHJcblxyXG5cclxubGV0IG1pbGxpc2Vjb25kc19wZXJfZnJhbWUgPSA1MDtcclxubGV0IGxhc3RfdGltZSA9IG51bGw7XHJcbmxldCB0b3RhbF90aW1lID0gMDtcclxubGV0IGFjY3VtdWxhdGVkX2xhZyA9IDA7XHJcblxyXG5cclxuZnVuY3Rpb24gbG9vcChjdXJyZW50X3RpbWUpIHtcclxuICAgIGlmIChsYXN0X3RpbWUgPT09IG51bGwpIGxhc3RfdGltZSA9IGN1cnJlbnRfdGltZTtcclxuXHJcbiAgICBjb25zdCBkZWx0YV90aW1lID0gY3VycmVudF90aW1lIC0gbGFzdF90aW1lO1xyXG5cclxuICAgIHRvdGFsX3RpbWUgKz0gZGVsdGFfdGltZTtcclxuICAgIGFjY3VtdWxhdGVkX2xhZyArPSBkZWx0YV90aW1lO1xyXG5cclxuICAgIGxhc3RfdGltZSA9IGN1cnJlbnRfdGltZTtcclxuXHJcbiAgICAvLyBDYXRjaCB1cCBhbGwgdGhlIG1pc3NlZCB0aWNrc1xyXG4gICAgbGV0IG5vcm1hbFJhdGUgPSBtaWxsaXNlY29uZHNfcGVyX2ZyYW1lO1xyXG4gICAgLy8gc2ltdWxhdGUgd2l0aCBsZXNzIGZpZGVsaXR5IHRvIG1ha2UgdXAgdGltZVxyXG4gICAgLy8gd2hpbGUgKGFjY3VtdWxhdGVkX2xhZyA+PSAxMDAgKiBtaWxsaXNlY29uZHNfcGVyX2ZyYW1lKSB7XHJcbiAgICAvLyAgICAgbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSAqPSAxMDA7XHJcbiAgICAvLyB9XHJcbiAgICBpZiAoYWNjdW11bGF0ZWRfbGFnID49IDEwICogbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSkge1xyXG4gICAgICAgIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUgPSBhY2N1bXVsYXRlZF9sYWcgLyAxMDtcclxuICAgIH1cclxuICAgIHdoaWxlIChhY2N1bXVsYXRlZF9sYWcgPj0gbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSkge1xyXG5cclxuICAgICAgICBhY2N1bXVsYXRlZF9sYWcgLT0gbWlsbGlzZWNvbmRzX3Blcl9mcmFtZTtcclxuICAgICAgICB1cGRhdGUobWlsbGlzZWNvbmRzX3Blcl9mcmFtZSwgdG90YWxfdGltZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSA9IG5vcm1hbFJhdGU7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbn1cclxuXHJcblxyXG5sZXQgdGltZV9zaW5jZV9sYXN0X3NhdmUgPSAwO1xyXG5sZXQgdGltZV9zaW5jZV9tYW51ZmF0dXJlID0gMDtcclxuZnVuY3Rpb24gdXBkYXRlKGRlbHRhX3RpbWUsIHRvdGFsX3RpbWUpIHtcclxuXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMocmVzb3VyY2VzKSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwidXBkYXRpbmcgXCIgKyBrZXkpO1xyXG5cclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKGtleSwgY2FsY0luY3JlYXNlKGtleSwgZGVsdGFfdGltZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcygpO1xyXG4gICAgcmVuZGVyKCk7XHJcblxyXG4gICAgLy8gU2F2ZSB0aGUgZ2FtZSBldmVyeSAxMCBzZWNvbmRzXHJcbiAgICB0aW1lX3NpbmNlX2xhc3Rfc2F2ZSArPSBkZWx0YV90aW1lO1xyXG4gICAgdGltZV9zaW5jZV9tYW51ZmF0dXJlICs9IGRlbHRhX3RpbWU7XHJcbiAgICB0b3RhbF90aW1lICs9IGRlbHRhX3RpbWU7XHJcbiAgICBpZiAodGltZV9zaW5jZV9sYXN0X3NhdmUgPj0gMTAwMDApIHtcclxuICAgICAgICBzYXZlR2FtZSgpO1xyXG4gICAgICAgIHRpbWVfc2luY2VfbGFzdF9zYXZlID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYW51ZmFjdHVyZSBldmVyeSBzZWNvbmRcclxuICAgIGlmIChwYXNzZWRTdGFnZSgnZmFjdG9yeVRhYicpICYmIHRpbWVfc2luY2VfbWFudWZhdHVyZSA+PSAxMDAwKSB7XHJcbiAgICAgICAgYXR0ZW1wdE1hbnVmYWN0dXJlKCk7XHJcbiAgICAgICAgdGltZV9zaW5jZV9tYW51ZmF0dXJlID0gMDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8vIHdpbmRvdy5zZXRJbnRlcnZhbChyZW5kZXIsIDEwMCkgLy8gVXBkYXRlIHZpc3VhbHMgMTAgdGltZXMgcGVyIHNlY29uZFxyXG4vLyB3aW5kb3cuc2V0SW50ZXJ2YWwodGljaywgMTAwMCk7IC8vIEV2ZXJ5IHRpY2sgbGFzdHMgZm9yIDEgc2Vjb25kXHJcbi8vIHdpbmRvdy5zZXRJbnRlcnZhbChzYXZlR2FtZSwgMTAwMDApOyAvLyBTYXZlIHRoZSBnYW1lIGV2ZXJ5IDEwIHNlY29uZHNcclxud2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gV2UgdXNlIGEgZnVuY3Rpb24gcmF0aGVyIHRoYW4gc2hvcnRoYW5kIGJlY2F1c2Ugc2F2ZWdhbWUgcmV0dXJucyBhIHN0cmluZ1xyXG4gICAgaWYgKCFjdXJyZW50bHlEZWxldGluZykgc2F2ZUdhbWUoKTtcclxufTtcclxuXHJcblxyXG4vLyBjb25zdCBteVJlc291cmNlcyA9IHt9O1xyXG5cclxuLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRSZXNvdXJjZUJ0blwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZUZvcm1cIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuLy8gfSk7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gYWRkUmVzb3VyY2UoKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCByZXNvdXJjZU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc291cmNlTmFtZVwiKS52YWx1ZTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGFjdGl2ZVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc291cmNlQWN0aXZlVGV4dFwiKS52YWx1ZTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGRlZmF1bHRUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZURlZmF1bHRUZXh0XCIpLnZhbHVlO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGJ0blRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blRleHRcIikudmFsdWU7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBidG5Ub29sdGlwRGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuVG9vbHRpcERlc2NcIikudmFsdWU7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBidG5Ub29sdGlwQ29zdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuVG9vbHRpcENvc3RcIikudmFsdWU7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdmFyIG5ld1Jlc291cmNlID0gbXlSZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSA9IHtcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBpZDogXCJnYXRoZXJcIiArIHJlc291cmNlTmFtZSxcclxuICAgICAgICBpc0dldHRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGFjdGl2ZVRleHQ6IGFjdGl2ZVRleHQsXHJcbiAgICAgICAgZGVmYXVsdFRleHQ6IGRlZmF1bHRUZXh0LFxyXG4gICAgICAgIC8vIC4uLiBBZGQgb3RoZXIgYXR0cmlidXRlcyBhcyBmZXRjaGVkIGZyb20gZm9ybSAuLi5cclxuICAgIH07XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSBidXR0b24gb2JqZWN0XHJcbiAgICB2YXIgbmV3QnV0dG9uID0gYnV0dG9uc1tcImdhdGhlclwiICsgcmVzb3VyY2VOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVzb3VyY2VOYW1lLnNsaWNlKDEpXSA9IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiBidG5UZXh0LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBidG5Ub29sdGlwRGVzYyxcclxuICAgICAgICB0b29sdGlwQ29zdDogYnRuVG9vbHRpcENvc3QsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUgLy8gQnkgZGVmYXVsdCwgbWFraW5nIHRoaXMgYWx3YXlzIHZpc2libGUuIE1vZGlmeSBhcyBuZWVkZWQuXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnNvbGUubG9nKG5ld1Jlc291cmNlKTtcclxuICAgIGNvbnNvbGUubG9nKG5ld0J1dHRvbik7XHJcblxyXG4gICAgLy8gSGlkZSBmb3JtIG9uY2UgcmVzb3VyY2UgaXMgYWRkZWRcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VGb3JtXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAvLyBPcHRpb25hbGx5LCB5b3UgY2FuIHVwZGF0ZSB0aGUgVUkgdG8gc2hvdyB0aGUgYWRkZWQgcmVzb3VyY2VcclxuICAgIC8vIHVwZGF0ZVVJKHJlc291cmNlTmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVVJKHJlc291cmNlTmFtZSkge1xyXG4gICAgLy8gSGVyZSB5b3UgY2FuIGNyZWF0ZSBhIG5ldyBET00gZWxlbWVudCB0byBkaXNwbGF5IHRoZSBhZGRlZCByZXNvdXJjZVxyXG4gICAgY29uc3QgcmVzb3VyY2VEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgcmVzb3VyY2VEaXYuaW5uZXJIVE1MID0gYCR7cmVzb3VyY2VOYW1lfTogJHtyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS52YWx1ZX1gO1xyXG5cclxuICAgIC8vIEFwcGVuZCB0byBzb21lIGNvbnRhaW5lclxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZXNvdXJjZURpdik7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlT3B0aW9ucygpIHtcclxuICAgIGNvbnN0IG9wdGlvbkF1ZGlvID0gbmV3IEF1ZGlvKCcuL2F1ZGlvL29wdGlvbnMud2F2Jyk7XHJcbiAgICBvcHRpb25BdWRpby52b2x1bWUgPSBnZXRTZnhWb2x1bWUoKTtcclxuICAgIG9wdGlvbkF1ZGlvLnBsYXkoKTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcHRpb25zTWVudScpO1xyXG4gICAgb3B0aW9uc01lbnUuc3R5bGUuZGlzcGxheSA9IG9wdGlvbnNNZW51LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICdibG9jaycgOiAnbm9uZSc7XHJcbn1cclxuXHJcblxyXG5sZXQgY3VycmVudGx5RGVsZXRpbmcgPSBmYWxzZTtcclxuXHJcbi8vIEFmdGVyIGFsbCBoYXMgYmVlbiBsb2FkZWRcclxuLy8gQHRzLWlnbm9yZVxyXG4vLyBAdHMtaWdub3JlXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoZXZlbnQpID0+IHtcclxuICAgIGdlbmVyYXRlUG9uZGVyQnV0dG9ucyhwb25kZXJzKTtcclxuICAgIC8vIGFwcGVuZENyYWZ0ZWRSZXNvdXJjZUJ1dHRvbnMoKTtcclxuICAgIGdlbmVyYXRlQnV0dG9ucygpOyAvLyBDYWxsIHRoaXMgb25jZSBvbiBwYWdlIGxvYWQgb3IgZ2FtZSBpbml0aWFsaXphdGlvblxyXG4gICAgbWFrZUZhY3RvcnlCdXR0b25zKCk7XHJcblxyXG4gICAgaW5pdGlhbGl6ZVJlc291cmNlVGFncygpO1xyXG5cclxuICAgIGxvYWRHYW1lKCk7XHJcblxyXG4gICAgY2xlYXJTaWRlYmFyKCk7XHJcbiAgICBpbml0aWFsaXplUmVzb3VyY2VUYWdzKGlzUG9uZGVyZWQoJ29yZ2FuaXphdGlvbicpKTsgLy8gY2hlY2sgaWYgd2UgbmVlZCBncm91cHNcclxuXHJcbiAgICBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zKCk7XHJcblxyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG5cclxuICAgIHNob3dUYWIoJ3Byb2R1Y3Rpb25UYWInKTtcclxuICAgIHJlcXVpcmUoJy4vdHJhZGUnKS5nZW5lcmF0ZVRyYWRlVGFibGUocmVzb3VyY2VzKTtcclxuXHJcblxyXG4gICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCAzMDsgKytpKVxyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKGdlbmVyYXRlUmFuZG9tQnVpbGRpbmcoKSk7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UktleUZyb21JRChpZCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgW3IsIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMocmVzb3VyY2VzKSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZXNbcl0uaWQsIGlkKTtcclxuICAgICAgICAgICAgaWYgKHZhbC5pZCA9PT0gaWQpIHJldHVybiByO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJ2Vycm9yICcgKyBpZDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldENSS2V5RnJvbUlEKGlkKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBbciwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhjcmFmdGVkUmVzb3VyY2VzKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyLCB2YWwsIGlkKTtcclxuICAgICAgICAgICAgaWYgKHZhbC5pZCA9PT0gaWQpIHJldHVybiByO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJ2Vycm9yICcgKyBpZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBtdXNpYyBwbGF5YmFja1xyXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gd2FpdCBmb3IgYSBjbGljayBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2Jsb2cvYXV0b3BsYXkvXHJcbiAgICAgICAgaWYgKGN1cnJlbnRBdWRpbyA9PT0gbnVsbCkgcGxheVJhbmRvbVRyYWNrKCk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQubWF0Y2hlcyhcImJ1dHRvblwiKSkge1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIG9uZSBvZiBvdXIgYnV0dG9ucyB3YXMgY2xpY2tlZFxyXG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGlja2VkJywgYnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0b29sdGlwcyBcclxuICAgICAgICAgICAgLy8gaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3Rvb2x0aXAnKSkgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgICAgICAvLyB1cGRhdGVUb29sdGlwKGJ1dHRvbik7XHJcblxyXG4gICAgICAgICAgICAvLyBCVUlMRElORyBCVVRUT05TXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGFfYnVpbGRpbmcnKSAmJiBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJykgIT09ICd1bmRlZmluZWQnICYmIGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3B1cmNoYXNhYmxlJykpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICB2YXIgYnVpbGRpbmcgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gZXZlbnQucGFnZVg7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gZXZlbnQucGFnZVk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGJ1aWxkaW5nQXVkaW8gPSBuZXcgQXVkaW8oJy4vYXVkaW8vYnVpbGRpbmcud2F2Jyk7XHJcbiAgICAgICAgICAgICAgICBidWlsZGluZ0F1ZGlvLnZvbHVtZSA9IGdldFNmeFZvbHVtZSgpO1xyXG4gICAgICAgICAgICAgICAgYnVpbGRpbmdBdWRpby5wbGF5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdTdHJpbmcgPSBjYXBpdGFsaXplRmlyc3QoYnVpbGRpbmcpLnNwbGl0KCdfJykuam9pbignICcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gYnV5TWF4QnVpbGRpbmdzKGJ1aWxkaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyRmxvYXRVcFRleHQoeCwgeSwgYCske2NvdW50fSAke2J1aWxkaW5nU3RyaW5nfXNgLCAnYXF1YScpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBidXlCdWlsZGluZyhidWlsZGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckZsb2F0VXBUZXh0KHgsIHksIGArMSAke2J1aWxkaW5nU3RyaW5nfWAsICdhcXVhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFBPTkRFUiBCVVRUT05TXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygndW5sb2NrJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVubG9ja0F0dHIgPSBidXR0b24uZ2V0QXR0cmlidXRlKCd1bmxvY2snKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codW5sb2NrQXR0cik7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9uZGVyc1t1bmxvY2tBdHRyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW5VbmxvY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IG1hdGVyaWFsIGluIHBvbmRlcnNbdW5sb2NrQXR0cl0uY29zdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPCBwb25kZXJzW3VubG9ja0F0dHJdLmNvc3RbbWF0ZXJpYWxdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbm5vdCB1bmxvY2sgXCIgKyB1bmxvY2tBdHRyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhblVubG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5VbmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gcG9uZGVyc1t1bmxvY2tBdHRyXS5jb3N0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKG1hdGVyaWFsLCAtcG9uZGVyc1t1bmxvY2tBdHRyXS5jb3N0W21hdGVyaWFsXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9uZGVyc1t1bmxvY2tBdHRyXS5pc1BvbmRlcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVZpc2libGUodW5sb2NrQXR0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyByZXNvdXJjZUtleSArIFwiVmFsdWVcIikudGV4dENvbnRlbnQgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS52YWx1ZS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHRoaXMgYnV0dG9uIGRpc2FwcGVhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvbmRlckF1ZGlvID0gbmV3IEF1ZGlvKCcuL2F1ZGlvL3BvbmRlci53YXYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9uZGVyQXVkaW8udm9sdW1lID0gZ2V0U2Z4Vm9sdW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbmRlckF1ZGlvLnBsYXkoKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlVubG9ja2luZyBcIiArIHVubG9ja0F0dHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWZyZXNoIHRoZSBwYWdlIHdoZW4gYnV5aW5nIG9yZ2FuaXplZCBzdG9yYWdlIHRvIGdlbmVyYXRlIHRoZSBncm91cHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVubG9ja0F0dHIgPT09ICdvcmdhbml6YXRpb24nKSBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE9USEVSIEJVVFRPTlNcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZC5zbGljZSgwLCA2KSA9PT0gXCJnYXRoZXJcIikgdG9nZ2xlUmVzb3VyY2UoZ2V0UktleUZyb21JRChidXR0b24uaWQpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQuc2xpY2UoMCwgNSkgPT09ICdjcmFmdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3JhZnRBdWRpbyA9IG5ldyBBdWRpbygnLi9hdWRpby9jcmFmdC53YXYnKTtcclxuICAgICAgICAgICAgICAgICAgICBjcmFmdEF1ZGlvLnZvbHVtZSA9IGdldFNmeFZvbHVtZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNyYWZ0QXVkaW8ucGxheSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNyID0gZ2V0Q1JLZXlGcm9tSUQoYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCBjcjogJywgY3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5DcmFmdChjcikpIHRyaWdnZXJGbG9hdFVwVGV4dChldmVudC5wYWdlWCwgZXZlbnQucGFnZVksIGArJHtjcn1gLCAnYXF1YScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSkgY3JhZnRBbGxSZXNvdXJjZXMoY3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgY3JhZnRSZXNvdXJjZShjcik7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJ3NhdmVCdXR0b24nKSBzYXZlR2FtZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJ2VhdEZpc2gnKSBlYXRGaXNoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkID09PSAnb3ZlcmxheS1idXR0b24nKSBoaWRlT3ZlcmxheSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJ2RlbGV0ZVNhdmVCdXR0b24nICYmIGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHlvdXIgc2F2ZSBkYXRhPyBUaGlzIHdpbGwgcmVzZXQgYWxsIHlvdXIgcHJvZ3Jlc3MuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlR2FtZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkID09PSAnY2xlYXJKb2JBc3NpZ25tZW50cycpIGNsZWFySm9iQXNzaWdubWVudHMoKTtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1dHRvbi5pZCA9PT0gJ2RhcmtNb2RlVG9nZ2xlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyay1tb2RlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGRhcmtNb2RlVG9nZ2xlLmNsYXNzTGlzdC50b2dnbGUoJ2RhcmsnKTtcclxuICAgICAgICAgICAgICAgICAgICBpc0RhcmsgPSAhaXNEYXJrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBkYXJrTW9kZVRvZ2dsZS50ZXh0Q29udGVudCA9IGlzRGFyayA/IFwiTGlnaHQgTW9kZVwiIDogXCJEYXJrIE1vZGVcIjtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnV0dG9uLmlkID09PSAncHJlc3RpZ2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNla2FpKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidXR0b24uaWQgPT09ICdzdGFydENvbWJhdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21iYXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygndGllck9uZUJ1dHRvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBsZXQgcGVyayA9IGJ1dHRvbi50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgIHNlbGVjdEFiaWxpdHkocGVyayk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKFwiI2Fsb25lXCIpKSB7XHJcbiAgICAgICAgICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwoJ2Nsb25lcycsIDEpO1xyXG4gICAgICAgICAgICBsZXQgdGV4dCA9ICcrMSBDbG9uZSc7XHJcblxyXG4gICAgICAgICAgICAvLyBIYXJkY29kZWQgaW5zdGVhZCB0byBhdm9pZCBpbmNyZWFzZSBhZmZlY3RlZCBieSBwcm9kdWN0aXZpdHkgYm9udXNlc1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzWydjbG9uZXMnXS52YWx1ZSA8IHJlc291cmNlc1snY2xvbmVzJ10ubWF4KSB7IHJlc291cmNlc1snY2xvbmVzJ10udmFsdWUgKz0gMTsgfVxyXG4gICAgICAgICAgICBlbHNlIHRleHQgPSAnTWF4IENsb25lcyc7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjbG9uZUF1ZGlvID0gbmV3IEF1ZGlvKHRleHQgPT09ICcrMSBDbG9uZScgPyAnLi9hdWRpby9jbG9uZS53YXYnIDogJy4vYXVkaW8vZmFpbGNsb25lLndhdicpO1xyXG4gICAgICAgICAgICBjbG9uZUF1ZGlvLnZvbHVtZSA9IGdldFNmeFZvbHVtZSgpO1xyXG4gICAgICAgICAgICBjbG9uZUF1ZGlvLnBsYXkoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHggPSBldmVudC5wYWdlWDsgLy8gWCBjb29yZGluYXRlIG9mIHRoZSBjbGlja1xyXG4gICAgICAgICAgICBjb25zdCB5ID0gZXZlbnQucGFnZVk7IC8vIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2tcclxuICAgICAgICAgICAgY29uc3QgY29sb3IgPSB0ZXh0ID09PSAnKzEgQ2xvbmUnID8gJ2dyZWVuJyA6ICdyZWQnO1xyXG4gICAgICAgICAgICB0cmlnZ2VyRmxvYXRVcFRleHQoeCwgeSwgdGV4dCwgY29sb3IpO1xyXG4gICAgICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgICAgICAgICB1cGRhdGVEaXNwbGF5VmFsdWUoJ2Nsb25lcycpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG1ha2VGYWN0b3J5QnV0dG9ucygpIHtcclxuICAgICAgICBjb25zdCBmYWN0b3J5QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmYWN0b3J5QnV0dG9ucycpO1xyXG5cclxuICAgICAgICBjb25zdCBidXlGYWN0b3J5QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgYnV5RmFjdG9yeUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0b29sdGlwJyk7XHJcbiAgICAgICAgYnV5RmFjdG9yeUJ1dHRvbi5pZCA9ICdidXlGYWN0b3J5QnV0dG9uJztcclxuICAgICAgICBidXlGYWN0b3J5QnV0dG9uLnRleHRDb250ZW50ID0gJ0J1eSBOZXcgRmFjdG9yeSc7XHJcbiAgICAgICAgYnV5RmFjdG9yeUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgJ1RoZSBmYWN0b3J5IG11c3QgZ3JvdyEnKTtcclxuICAgICAgICBidXlGYWN0b3J5QnV0dG9uLnNldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnLCAnNTAgc2lsdmVyJyk7XHJcbiAgICAgICAgZmFjdG9yeUJ1dHRvbnMuYXBwZW5kQ2hpbGQoYnV5RmFjdG9yeUJ1dHRvbik7XHJcblxyXG4gICAgICAgIGJ1eUZhY3RvcnlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdidXlpbmcgZmFjdG9yeScpO1xyXG4gICAgICAgICAgICBidXlGYWN0b3J5KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVwZ3JhZGVCdWxrQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgdXBncmFkZUJ1bGtCdXR0b24uY2xhc3NMaXN0LmFkZCgndG9vbHRpcCcpO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLmlkID0gJ3VwZ3JhZGVCdWxrQnV0dG9uJztcclxuICAgICAgICB1cGdyYWRlQnVsa0J1dHRvbi50ZXh0Q29udGVudCA9ICdVcGdyYWRlIEJ1bGsnO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWRlc2MnLCAnQ3JhZnQgbW9yZSByZXNvdXJjZXMgcGVyIHNlY29uZCcpO1xyXG4gICAgICAgIHVwZ3JhZGVCdWxrQnV0dG9uLnNldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnLCAnMiDihpIgNDogMzAgc2lsdmVyJyk7XHJcbiAgICAgICAgZmFjdG9yeUJ1dHRvbnMuYXBwZW5kQ2hpbGQodXBncmFkZUJ1bGtCdXR0b24pO1xyXG5cclxuICAgICAgICB1cGdyYWRlQnVsa0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndXBncmFkaW5nIGJ1bGsnKTtcclxuICAgICAgICAgICAgdXBncmFkZUJ1bGsoKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBPcHRpb25zIG1lbnVcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcHRpb25zQnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVPcHRpb25zKTtcclxuXHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ211c2ljVm9sdW1lJykuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHNldE11c2ljVm9sdW1lKHRoaXMudmFsdWUpO1xyXG4gICAgICAgIGN1cnJlbnRBdWRpby52b2x1bWUgPSBnZXRNdXNpY1ZvbHVtZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NmeFZvbHVtZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBzZXRTZnhWb2x1bWUodGhpcy52YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcblxyXG4gICAgLy8gU2FtcGxlIHVzYWdlOlxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvb2x0aXAnKS5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uKTtcclxuICAgICAgICAvLyBFeHRyYWN0IHRoZSBkYXRhIGZyb20geW91ciBidWlsZGluZyBvciBhbnkgb3RoZXIgZGF0YSAtIHNvdXJjZVxyXG4gICAgICAgIC8vIGNvbnN0IGNvbnRlbnQgPSBcIllvdXIgdG9vbHRpcCBjb250ZW50IGhlcmVcIjtcclxuXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuICAgICAgICAgICAgY3VycmVudEhvdmVyQnV0dG9uID0gYnV0dG9uO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gVE9ETzogbW92ZSB0aGlzIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ29uY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7IGhpZGVUb29sdGlwKCk7IGN1cnJlbnRIb3ZlckJ1dHRvbiA9IG51bGw7IH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBqb2JzIGNvdW50ZXJcclxuICAgIHVwZGF0ZVRvdGFsKCk7XHJcbiAgICB1cGRhdGVCb3VuY2VBbmltYXRpb24oKTtcclxuXHJcblxyXG5cclxufSk7XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIG5leHRGaWJvbmFjY2kobikge1xyXG4gICAgbGV0IGEgPSBuICogKDEgKyBNYXRoLnNxcnQoNSkpIC8gMi4wO1xyXG4gICAgcmV0dXJuIE1hdGgucm91bmQoYSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZXZGaWJvbmFjY2kobikge1xyXG4gICAgbGV0IGEgPSBuIC8gKCgxICsgTWF0aC5zcXJ0KDUpKSAvIDIuMCk7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChhKTtcclxufVxyXG5cclxuY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5Jyk7XHJcbmNvbnN0IG92ZXJsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktdGV4dCcpO1xyXG5jb25zdCBvdmVybGF5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktYnV0dG9uJyk7XHJcbmNvbnN0IG92ZXJsYXlCYWNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktYmFjay1idXR0b24nKTsgLy8gR2V0IHRoZSBcIkdvIEJhY2tcIiBidXR0b25cclxuZnVuY3Rpb24gaXNla2FpKCkge1xyXG5cclxuICAgIG92ZXJsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaHVza3NEdWUgPSBnZXRNYXRlcmlhbCgnY2xvbmVzJyk7XHJcblxyXG4gICAgICAgIC8vIFJlc2V0IGZ1bmN0aW9ucyB0byBiZSBleGVjdXRlZCB3aGVuIFwiQ29udGludWVcIiBpcyBjbGlja2VkXHJcbiAgICAgICAgcmVzZXRSZXNvdXJjZXMoKTtcclxuICAgICAgICByZXNldENyYWZ0ZWRSZXNvdXJjZXMoKTtcclxuICAgICAgICByZXNldFBvbmRlcnMoKTtcclxuICAgICAgICByZXNldFBlcmtzKCk7XHJcbiAgICAgICAgcmVzZXRCdWlsZGluZ3MoKTtcclxuICAgICAgICByZXNldEFsbEpvYnMoKTtcclxuICAgICAgICByZXNldFN0YWdlcygpO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgaXNla2FpQ29uZmlybUF1ZGlvID0gbmV3IEF1ZGlvKCcuL2F1ZGlvL2lzZWthaWNvbmZpcm0ud2F2Jyk7XHJcbiAgICAgICAgaXNla2FpQ29uZmlybUF1ZGlvLnZvbHVtZSA9IGdldFNmeFZvbHVtZSgpO1xyXG4gICAgICAgIGlzZWthaUNvbmZpcm1BdWRpby5wbGF5KCk7XHJcblxyXG4gICAgICAgIC8vIFNldCBtYXggb2YgYWxsIHJlc291cmNlcyB0byAxMDBcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGZvciAobGV0IFtyLCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHJlc291cmNlcykpIHtcclxuICAgICAgICAgICAgdmFsLm1heCA9IDEwMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdpdmUgaHVza3MgYWZ0ZXJ3YXJkc1xyXG4gICAgICAgIGluY3JlYXNlTWF0ZXJpYWwoJ2h1c2tzJywgaHVza3NEdWUpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gQ2xvc2UgdGhlIG92ZXJsYXlcclxuICAgICAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgIC8vIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIGxldCBsYXN0QnVpbGRpbmcgPSBudWxsO1xyXG4gICAgICAgIGNvbnN0IG5ld0J1aWxkaW5nc0NvdW50ID0gNTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0J1aWxkaW5nc0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcmFuZG9tQnVpbGRpbmcgPSBnZW5lcmF0ZVJhbmRvbUJ1aWxkaW5nKCk7XHJcbiAgICAgICAgICAgIGJ1aWxkaW5nc1tyYW5kb21CdWlsZGluZy5uYW1lLnNwbGl0KCcgJykuam9pbignXycpXSA9IHJhbmRvbUJ1aWxkaW5nO1xyXG4gICAgICAgICAgICBsYXN0QnVpbGRpbmcgPSByYW5kb21CdWlsZGluZztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hhbmdlTWVzc2FnZSgnWW91IGFyZSBpbiBhbm90aGVyIHdvcmxkLicsICdhbm90aGVyJywgYFlvdSBmZWVsIGEgbmVlZCB0byBhY3F1aXJlICR7bGFzdEJ1aWxkaW5nLmNvc3R9YCk7XHJcbiAgICAgICAgaW5pdGlhbGl6ZVJlc291cmNlVGFncyhmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBvdmVybGF5QmFja0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAvLyBKdXN0IGNsb3NlIHRoZSBvdmVybGF5IHdpdGhvdXQgZXhlY3V0aW5nIHJlc2V0IGZ1bmN0aW9uc1xyXG4gICAgICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGlzZWthaUF1ZGlvID0gbmV3IEF1ZGlvKCcuL2F1ZGlvL2lzZWthaS53YXYnKTtcclxuICAgIGlzZWthaUF1ZGlvLnZvbHVtZSA9IGdldFNmeFZvbHVtZSgpO1xyXG4gICAgaXNla2FpQXVkaW8ucGxheSgpO1xyXG5cclxuICAgIC8vIENvbnZlcnQgY2xvbmVzIHRvIGh1c2tzXHJcbiAgICBjb25zdCBvbGRIdXNrVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHVza3NJc2VrYWlWYWx1ZScpO1xyXG4gICAgbGV0IGh1c2tWYWx1ZTtcclxuICAgIGlmIChvbGRIdXNrVmFsdWUpIGh1c2tWYWx1ZSA9IG9sZEh1c2tWYWx1ZTtcclxuICAgIGVsc2UgaHVza1ZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgaHVza1ZhbHVlLmlkID0gJ2h1c2tzSXNla2FpVmFsdWUnO1xyXG4gICAgaHVza1ZhbHVlLmlubmVySFRNTCA9IGBIdXNrczogICR7Z2V0TWF0ZXJpYWwoJ2h1c2tzJyl9IDxicj4gWW91IHdpbGwgZ2V0ICR7Z2V0TWF0ZXJpYWwoJ2Nsb25lcycpfSBIdXNrcyBwb3N0LWlzZWthaS48YnI+WW91IHdpbGwgcmVjZWl2ZSA1IHJhbmRvbWx5IGdlbmVyYXRlZCBuZXcgYnVpbGRpbmdzLCB1bmlxdWUgdG8gdGhpcyBuZXcgd29ybGQuYDtcclxuXHJcbiAgICBodXNrVmFsdWUuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICAgIG92ZXJsYXkucHJlcGVuZChodXNrVmFsdWUpO1xyXG4gICAgLy8gT3ZlcmxheVxyXG4gICAgb3ZlcmxheS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnTWlkbmlnaHRCbHVlJztcclxuICAgIG92ZXJsYXlUZXh0LnRleHRDb250ZW50ID0gJ1lvdSBzdGVwIHRocm91Z2ggdG8gYW5vdGhlciB3b3JsZC4nO1xyXG5cclxuICAgIGZhZGVUb0JsYWNrKCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG92ZXJsYXlCYWNrQnV0dG9uLnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICB9LCA1MDAwKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVQcmVzdGlnZUJ1dHRvbnMoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpc2VrYWlCdXR0b25zJyk7XHJcbiAgICAgICAgbGV0IGkgPSAxO1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHByZXN0aWdlKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYDxiPiR7cHJlc3RpZ2Vba2V5XS50ZXh0fTwvYj48YnI+TGV2ZWw6ICR7cHJlc3RpZ2Vba2V5XS5sZXZlbH08YnI+Q29zdDogJHtwcmVzdGlnZVtrZXldLmNvc3R9YDtcclxuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnLCBwcmVzdGlnZVtrZXldLmNvc3QpO1xyXG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCd0b29sdGlwRGVzYycsIHByZXN0aWdlW2tleV0udG9vbHRpcERlc2MpO1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgndG9vbHRpcCcpOyAvLyBBZGQgYSBjbGFzcyBmb3Igc3R5bGluZyBpZiBuZWVkZWRcclxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmdyaWRDb2x1bW4gPSAoaSAlIDQgKyAxKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZ3JpZFJvdyA9IE1hdGguZmxvb3IoaSAvIDQgKyAxKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIC8vIE9wdGlvbmFsOiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgaWYgeW91IHdhbnQgdG8gaGFuZGxlIGNsaWNrc1xyXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBZb3UgY2FuIGltcGxlbWVudCB3aGF0IGhhcHBlbnMgd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWRcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBCdXR0b24gJHtrZXl9IHdhcyBjbGlja2VkYCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwoJ2h1c2tzJykgPCBwcmVzdGlnZVtrZXldLmNvc3QpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlW2tleV0ubGV2ZWwrKztcclxuICAgICAgICAgICAgICAgIGluY3JlYXNlTWF0ZXJpYWwoJ2h1c2tzJywgLXByZXN0aWdlW2tleV0uY29zdCk7XHJcbiAgICAgICAgICAgICAgICBwcmVzdGlnZVtrZXldLmNvc3QgPSBuZXh0Rmlib25hY2NpKHByZXN0aWdlW2tleV0uY29zdCk7XHJcbiAgICAgICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcsIHByZXN0aWdlW2tleV0uY29zdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGA8Yj4ke3ByZXN0aWdlW2tleV0udGV4dH08L2I+PGJyPkxldmVsOiAke3ByZXN0aWdlW2tleV0ubGV2ZWx9PGJyPkNvc3Q6ICR7cHJlc3RpZ2Vba2V5XS5jb3N0fWA7XHJcbiAgICAgICAgICAgICAgICBodXNrVmFsdWUudGV4dENvbnRlbnQgPSAnSHVza3M6ICcgKyBnZXRNYXRlcmlhbCgnaHVza3MnKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIFJpZ2h0LWNsaWNrIHRvIGRlY3JlYXNlIGxldmVsXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAvLyBZb3UgY2FuIGltcGxlbWVudCB3aGF0IGhhcHBlbnMgd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWRcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBCdXR0b24gJHtrZXl9IHdhcyByaWdodCBjbGlja2VkYCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJlc3RpZ2Vba2V5XS5sZXZlbCA8PSAwKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBwcmVzdGlnZVtrZXldLmxldmVsLS07XHJcbiAgICAgICAgICAgICAgICBwcmVzdGlnZVtrZXldLmNvc3QgPSBwcmV2Rmlib25hY2NpKHByZXN0aWdlW2tleV0uY29zdCk7XHJcbiAgICAgICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCd0b29sdGlwQ29zdCcsIHByZXN0aWdlW2tleV0uY29zdCk7XHJcbiAgICAgICAgICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKCdodXNrcycsIHByZXN0aWdlW2tleV0uY29zdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGA8Yj4ke3ByZXN0aWdlW2tleV0udGV4dH08L2I+PGJyPkxldmVsOiAke3ByZXN0aWdlW2tleV0ubGV2ZWx9PGJyPkNvc3Q6ICR7cHJlc3RpZ2Vba2V5XS5jb3N0fWA7XHJcbiAgICAgICAgICAgICAgICBodXNrVmFsdWUudGV4dENvbnRlbnQgPSAnSHVza3M6ICcgKyBnZXRNYXRlcmlhbCgnaHVza3MnKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBidXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24pO1xyXG4gICAgICAgICAgICAvLyBFeHRyYWN0IHRoZSBkYXRhIGZyb20geW91ciBidWlsZGluZyBvciBhbnkgb3RoZXIgZGF0YSAtIHNvdXJjZVxyXG4gICAgICAgICAgICAvLyBjb25zdCBjb250ZW50ID0gXCJZb3VyIHRvb2x0aXAgY29udGVudCBoZXJlXCI7XHJcblxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudEhvdmVyQnV0dG9uID0gYnV0dG9uO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7IGhpZGVUb29sdGlwKCk7IGN1cnJlbnRIb3ZlckJ1dHRvbiA9IG51bGw7IH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxsIHRoZSBmdW5jdGlvbiB0byBjcmVhdGUgYnV0dG9uc1xyXG4gICAgc2V0VGltZW91dChjcmVhdGVQcmVzdGlnZUJ1dHRvbnMsIDUwMDApO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7IGh1c2tWYWx1ZS5zdHlsZS5vcGFjaXR5ID0gJzEnOyB9LCA1MDAwKTtcclxuXHJcbn1cclxuXHJcbnZhciBjdXJyZW50SG92ZXJCdXR0b24gPSBudWxsO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblxyXG4gICAgdXBkYXRlVUksXHJcbiAgICBzZXRUb3RhbFRpbWUsXHJcbiAgICBjaGFuZ2VNZXNzYWdlLFxyXG5cclxuICAgIGdldE1lc3NhZ2UsXHJcbiAgICB0b3RhbF90aW1lLFxyXG4gICAgY3VycmVudEhvdmVyQnV0dG9uLFxyXG4gICAgZGVsZXRlR2FtZSxcclxuICAgIGlzZWthaSxcclxuICAgIGdldE1lc3NhZ2VUb29sdGlwXHJcbn07XHJcbmZ1bmN0aW9uIGRlbGV0ZUdhbWUoKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc2F2ZScpOyBjdXJyZW50bHlEZWxldGluZyA9IHRydWU7IGxvY2F0aW9uLnJlbG9hZCgpO1xyXG59XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbndpbmRvdy5kZWxldGVHYW1lID0gZGVsZXRlR2FtZTtcclxuLy8gQHRzLWlnbm9yZVxyXG53aW5kb3cuaXNla2FpID0gaXNla2FpOyIsIlxyXG5jb25zdCB7IHNldFN0YWdlLCBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZSgnLi9zdGFnZXMnKTtcclxuY29uc3QgeyB1cGRhdGVCdXR0b25WaXNpYmlsaXR5IH0gPSByZXF1aXJlKCcuL3VwZGF0ZUJ1dHRvblZpc2liaWxpdHknKTtcclxuXHJcbi8qKlxyXG4gKiBNYWtlIGV2ZXJ5dGhpbmcgd2l0aCB0aGUgY2xhc3MgXCJzdGFnZVwiIHZpc2libGVcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0YWdlXHJcbiAqL1xyXG5mdW5jdGlvbiBtYWtlVmlzaWJsZShzdGFnZSkge1xyXG4gICAgaWYgKCFwYXNzZWRTdGFnZShzdGFnZSkpIHtcclxuICAgICAgICBzZXRTdGFnZShzdGFnZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdGFnZUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5cIiArIHN0YWdlKTtcclxuICAgIHN0YWdlRWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgIH0pO1xyXG4gICAgdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSgpO1xyXG59XHJcbmV4cG9ydHMubWFrZVZpc2libGUgPSBtYWtlVmlzaWJsZTsiLCJjb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpO1xyXG5jb25zdCB7IHBlcmtzIH0gPSByZXF1aXJlKCcuL2pzb24vcGVya3MnKTtcclxubGV0IG15UGVya3MgPSBbXTtcclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IHBlcmtOYW1lIFxyXG4gKiBAcmV0dXJucyBib29sZWFuXHJcbiAqL1xyXG5mdW5jdGlvbiBoYXNQZXJrKHBlcmtOYW1lKSB7XHJcbiAgICByZXR1cm4gbXlQZXJrcy5pbmNsdWRlcyhwZXJrTmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEFsbFBlcmtzKCkge1xyXG4gICAgcmV0dXJuIG15UGVya3M7XHJcbn1cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGVya05hbWUgUGVyayB0byBhZGRcclxuICovXHJcbmZ1bmN0aW9uIGFkZFBlcmsocGVya05hbWUpIHtcclxuICAgIG15UGVya3MucHVzaChwZXJrTmFtZSk7XHJcblxyXG4gICAgLy8gRG8gYWxsIHRoZSBvbmUtdGltZSB1cGRhdGVzXHJcbiAgICBzd2l0Y2ggKHBlcmtOYW1lKSB7XHJcbiAgICAgICAgY2FzZSAnQXJjaGl0ZWN0JzpcclxuICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdzID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpLmJ1aWxkaW5ncztcclxuICAgICAgICAgICAgZm9yIChsZXQgYiBvZiBPYmplY3Qua2V5cyhidWlsZGluZ3MpKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlKCcuL3JlY2FsY3VsYXRlQnVpbGRpbmdDb3N0JykucmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QoYiwgYnVpbGRpbmdzLCBoYXNQZXJrKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0aWVyTnVtIFxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UGVya0Zyb21UaWVyKHRpZXJOdW0pIHtcclxuICAgIGZvciAobGV0IHBlcmsgaW4gcGVya3NbJ3RpZXInICsgdGllck51bV0pIHtcclxuICAgICAgICBpZiAoaGFzUGVyayhwZXJrKSkgcmV0dXJuIHBlcms7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gcGVyayBmb3IgdGhpcyB0aWVyXHJcbiAgICByZXR1cm4gJyc7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzZWxlY3RBYmlsaXR5KGFiaWxpdHlOYW1lKSB7XHJcbiAgICBpZiAoaGFzUGVyayhhYmlsaXR5TmFtZSkpIHJldHVybjtcclxuXHJcbiAgICBsZXQgY29uZmlybVNlbGVjdGlvbiA9IHdpbmRvdy5jb25maXJtKFwiRG8geW91IHdhbnQgdG8gc2VsZWN0IFwiICsgYWJpbGl0eU5hbWUgKyBcIj8gVGhpcyBkZWNpc2lvbiBjYW5ub3QgYmUgZWFzaWx5IGNoYW5nZWQuXCIpO1xyXG5cclxuICAgIGlmICghY29uZmlybVNlbGVjdGlvbikgcmV0dXJuO1xyXG4gICAgYWRkUGVyayhhYmlsaXR5TmFtZSk7XHJcblxyXG4gICAgLy8gZm9yIChsZXQgaSA9IDE7IGkgPD0gMTsgKytpKVxyXG4gICAgcmVxdWlyZSgnLi9zZWxlY3RDb3JyZWN0UGVya0J1dHRvbicpLnNlbGVjdENvcnJlY3RQZXJrQnV0dG9uKGFiaWxpdHlOYW1lKTtcclxuXHJcbiAgICAvLyBteVBlcmtzLnB1c2goYWJpbGl0eU5hbWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldFBlcmtzKCkge1xyXG4gICAgbXlQZXJrcyA9IFtdO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGhhc1BlcmssXHJcbiAgICBhZGRQZXJrLFxyXG4gICAgc2VsZWN0QWJpbGl0eSxcclxuICAgIGdldFBlcmtGcm9tVGllcixcclxuICAgIGdldEFsbFBlcmtzLFxyXG4gICAgcmVzZXRQZXJrc1xyXG59OyIsIi8vIERFUEVORFMgT046IGpzb24vYnV0dG9ucy5qc1xyXG5jb25zdCB7IGNhcGl0YWxpemVGaXJzdCB9ID0gcmVxdWlyZSgnLi9jYXBpdGFsaXplRmlyc3QnKTtcclxuY29uc3QgeyBwb25kZXJzIH0gPSByZXF1aXJlKCcuL2pzb24vcG9uZGVyJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgYnV0dG9ucyB9ID0gcmVxdWlyZSgnLi9qc29uL2J1dHRvbnMnKTtcclxuXHJcbmZ1bmN0aW9uIGlzUG9uZGVyZWQoaWQpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoZSBpZCBleGlzdHMgaW4gdGhlIHVubG9ja3MgbWFwXHJcbiAgICAvLyBJZiB0aGUgaWQgZG9lc24ndCBleGlzdCBpbiB0aGUgbWFwLCByZXR1cm4gZmFsc2VcclxuXHJcbiAgICByZXR1cm4gcG9uZGVyc1tpZF0gPyBwb25kZXJzW2lkXS5pc1BvbmRlcmVkIDogZmFsc2U7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBjYW5VbmxvY2sodW5sb2NrSWQpIHtcclxuICAgIC8vIEdldCB0aGUga2V5IGZyb20gdGhpcyBpZFxyXG4gICAgLy8gY29uc29sZS5sb2coJ2NhbiB1bmxvY2s/ICcsIHVubG9ja0lkKTtcclxuICAgIHZhciB1bmxvY2tLZXkgPSAnJztcclxuICAgIGZvciAobGV0IHVubG9jayBpbiBwb25kZXJzKSB7XHJcbiAgICAgICAgaWYgKHBvbmRlcnNbdW5sb2NrXS5pZCA9PT0gdW5sb2NrSWQpIHtcclxuICAgICAgICAgICAgdW5sb2NrS2V5ID0gdW5sb2NrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodW5sb2NrS2V5ID09PSAnJykge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcImludmFsaWQgdW5sb2NrIGlkOiBcIiwgdW5sb2NrSWQpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgZW5vdWdoIHJlc291cmNlc1xyXG4gICAgdmFyIGNhbkJ1eSA9IHRydWU7XHJcbiAgICBmb3IgKGxldCBtYXRlcmlhbCBpbiBwb25kZXJzW3VubG9ja0tleV0uY29zdCkge1xyXG4gICAgICAgIGlmIChnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSA8IHBvbmRlcnNbdW5sb2NrS2V5XS5jb3N0W21hdGVyaWFsXSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbm5vdCB1bmxvY2sgXCIgKyB1bmxvY2tJZCk7XHJcbiAgICAgICAgICAgIGNhbkJ1eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ2NhbiB3ZSB1bmxvY2sgJywgdW5sb2NrSWQsIGNhbkJ1eSk7XHJcbiAgICByZXR1cm4gY2FuQnV5O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVQb25kZXJCdXR0b25zKHBvbmRlck9iamVjdHMpIHtcclxuICAgIC8vIGNvbnN0IGdlbmVyYXRlZEJ1dHRvbnMgPSB7fTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtwb25kZXJLZXksIHBvbmRlck9ial0gb2YgT2JqZWN0LmVudHJpZXMocG9uZGVyT2JqZWN0cykpIHtcclxuXHJcbiAgICAgICAgY29uc3QgYnV0dG9uS2V5ID0gYHBvbmRlciR7Y2FwaXRhbGl6ZUZpcnN0KHBvbmRlcktleSl9YDsgLy8gZS5nLiBwb25kZXJGaXNoaW5nXHJcblxyXG4gICAgICAgIC8vIGxldCB0b29sdGlwQ29zdCA9IE9iamVjdC5lbnRyaWVzKHBvbmRlck9iai5jb3N0KS5tYXAoKFttYXRlcmlhbCwgYW1vdW50XSkgPT4gYCR7YW1vdW50LnRvRml4ZWQoMCl9ICR7bWF0ZXJpYWx9YCkuam9pbignPGJyPicpO1xyXG4gICAgICAgIGxldCB0b29sdGlwQ29zdCA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuZ2VuZXJhdGVUb29sdGlwQ29zdChwb25kZXJPYmouY29zdCk7XHJcbiAgICAgICAgYnV0dG9uc1tidXR0b25LZXldID0ge1xyXG4gICAgICAgICAgICBjbGFzczogJ3Rvb2x0aXAgdW5sb2NrJyxcclxuICAgICAgICAgICAgdGV4dDogcG9uZGVyT2JqLnRleHQgfHwgJ1BvbmRlciBhIE15c3Rlcnk/JyxcclxuICAgICAgICAgICAgdG9vbHRpcERlc2M6IHBvbmRlck9iai50b29sdGlwRGVzYyB8fCBcIldobyBrbm93cyB3aGF0IHlvdSdsbCBkaXNjb3ZlclwiLFxyXG4gICAgICAgICAgICB0b29sdGlwQ29zdDogdG9vbHRpcENvc3QsXHJcbiAgICAgICAgICAgIHRhYjogJ3BvbmRlcicsXHJcbiAgICAgICAgICAgIHVubG9jazogcG9uZGVyS2V5LFxyXG4gICAgICAgICAgICByZXF1aXJlbWVudDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVpcmUoJy4vaGVscGVyJykuZ2V0TWF4KCdwb25kZXInKSA+PSBwb25kZXJzW3BvbmRlcktleV0uY29zdFsncG9uZGVyJ10gLyAyO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGlkZTogKCkgPT4gaXNQb25kZXJlZChwb25kZXJLZXkpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uS2V5LCBidXR0b25zW2J1dHRvbktleV0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyByZXR1cm4gZ2VuZXJhdGVkQnV0dG9ucztcclxufVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY2FuVW5sb2NrLFxyXG4gICAgaXNQb25kZXJlZCxcclxuICAgIGdlbmVyYXRlUG9uZGVyQnV0dG9uc1xyXG59OyIsIlxyXG5jb25zdCB7IGhhc1ByZXN0aWdlLCBnZXRMZXZlbE9mUHJlc3RpZ2UgfSA9IHJlcXVpcmUoXCIuL2pzb24vcHJlc3RpZ2VcIik7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZShcIi4vcG9uZGVyXCIpO1xyXG5jb25zdCB7IHNldE1heCB9ID0gcmVxdWlyZShcIi4vcmVzb3VyY2VzXCIpO1xyXG5jb25zdCB7IHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKFwiLi9zdGFnZXNcIik7XHJcbmNvbnN0IHsgdXBkYXRlQm91bmNlQW5pbWF0aW9uIH0gPSByZXF1aXJlKFwiLi91cGRhdGVCb3VuY2VBbmltYXRpb25cIik7XHJcblxyXG5mdW5jdGlvbiByZWNhbGNNYXhDbG9uZXMoKSB7XHJcbiAgICBsZXQgbWF4Q2xvbmVzID0gMDtcclxuICAgIGlmIChwYXNzZWRTdGFnZSgnY2xvbmUnKSkgbWF4Q2xvbmVzICs9IDE7XHJcblxyXG4gICAgY29uc3QgYnVpbGRpbmdzID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIikuYnVpbGRpbmdzO1xyXG4gICAgLy8gY29uc29sZS5sb2cocGFzc2VkU3RhZ2UoJ2Nsb25lJyksIG1heENsb25lcyk7XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIGJ1aWxkaW5nXSBvZiBPYmplY3QuZW50cmllcyhidWlsZGluZ3MpKSB7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGtleSwgYnVpbGRpbmcsIGJ1aWxkaW5nLmVmZmVjdHMpO1xyXG4gICAgICAgIGlmIChidWlsZGluZy5lZmZlY3RzICYmIGJ1aWxkaW5nLmVmZmVjdHNbJ2Nsb25lcyddKVxyXG4gICAgICAgICAgICBtYXhDbG9uZXMgKz0gYnVpbGRpbmcuZWZmZWN0c1snY2xvbmVzJ10gKiBidWlsZGluZy5jb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQb25kZXIgYm9udXNlc1xyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ2JpZ2dlclNoZWx0ZXInKSkgbWF4Q2xvbmVzICs9IDEgKiBidWlsZGluZ3NbJ3NoZWx0ZXInXS5jb3VudDtcclxuICAgIGlmIChpc1BvbmRlcmVkKCdiaWdnZXJIdXQnKSkgbWF4Q2xvbmVzICs9IDEgKiBidWlsZGluZ3NbJ2h1dCddLmNvdW50O1xyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ2JpZ2dlckhvdXNlJykpIG1heENsb25lcyArPSAyICogYnVpbGRpbmdzWydob3VzZSddLmNvdW50O1xyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ2JpZ2dlclRlZXBlZScpKSBtYXhDbG9uZXMgKz0gNCAqIGJ1aWxkaW5nc1sndGVlcGVlJ10uY291bnQ7XHJcbiAgICBpZiAoaXNQb25kZXJlZCgnZXZlbkJpZ2dlclNoZWx0ZXInKSkgbWF4Q2xvbmVzICs9IDEgKiBidWlsZGluZ3NbJ3NoZWx0ZXInXS5jb3VudDtcclxuXHJcbiAgICBpZiAoaGFzUHJlc3RpZ2UoJ21heENsb25lcycpKSBtYXhDbG9uZXMgKz0gMSAqIGdldExldmVsT2ZQcmVzdGlnZSgnbWF4Q2xvbmVzJyk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhtYXhDbG9uZXMpO1xyXG4gICAgLy8gcmV0dXJuIG1heENsb25lcztcclxuICAgIHNldE1heCgnY2xvbmVzJywgbWF4Q2xvbmVzKTtcclxuICAgIHVwZGF0ZUJvdW5jZUFuaW1hdGlvbigpO1xyXG59XHJcblxyXG5leHBvcnRzLnJlY2FsY01heENsb25lcyA9IHJlY2FsY01heENsb25lczsiLCJjb25zdCB7IGhhc1ByZXN0aWdlLCBnZXRMZXZlbE9mUHJlc3RpZ2UgfSA9IHJlcXVpcmUoJy4vanNvbi9wcmVzdGlnZScpO1xyXG5cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBidWlsZGluZ0tleSBUaGUgYnVpbGRpbmcgd2UgcmVjYWxjdWxhdGUgdGhlIGNvc3Qgb2ZcclxuICogQHBhcmFtIHtPYmplY3R9IGJ1aWxkaW5ncyBCdWlsZGluZ3Mgb2JqZWN0XHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhc1BlcmsgSGFzUGVyayBmdW5jdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QoYnVpbGRpbmdLZXksIGJ1aWxkaW5ncywgaGFzUGVyaykge1xyXG4gICAgbGV0IGJ1aWxkaW5nID0gYnVpbGRpbmdzW2J1aWxkaW5nS2V5XTtcclxuICAgIGlmIChidWlsZGluZyAmJiBidWlsZGluZy5jb3N0ICYmIGJ1aWxkaW5nLnJhdGlvKSB7XHJcbiAgICAgICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gYnVpbGRpbmcuY29zdCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidWlsZGluZy5iYXNlY29zdFttYXRlcmlhbF0sIGJ1aWxkaW5nLnJhdGlvLCBidWlsZGluZy5jb3VudCk7XHJcbiAgICAgICAgICAgIGJ1aWxkaW5nLmNvc3RbbWF0ZXJpYWxdID0gTWF0aC5yb3VuZChidWlsZGluZy5iYXNlY29zdFttYXRlcmlhbF0gKiBNYXRoLnBvdyhidWlsZGluZy5yYXRpbywgYnVpbGRpbmcuY291bnQpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChoYXNQZXJrKCdBcmNoaXRlY3QnKSkgYnVpbGRpbmcuY29zdFttYXRlcmlhbF0gKj0gMC43NTsgLy8gMjUlIHJlZHVjdGlvbiBmb3IgYXJjaGl0ZWN0c1xyXG4gICAgICAgICAgICBpZiAoaGFzUHJlc3RpZ2UoJ2NoZWFwZXJCdWlsZGluZ3MnKSkgYnVpbGRpbmcuY29zdFttYXRlcmlhbF0gKj0gTWF0aC5wb3coMC45NSwgZ2V0TGV2ZWxPZlByZXN0aWdlKCdjaGVhcGVyQnVpbGRpbmdzJykpOyAvLyA1JSByZWR1Y3Rpb25cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIHRvb2x0aXAgY29zdFxyXG4gICAgY29uc3QgbXlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGJ1aWxkaW5nS2V5KTtcclxuICAgIHZhciBuZXdUZXh0ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKS5nZW5lcmF0ZVRvb2x0aXBDb3N0KGJ1aWxkaW5nLmNvc3QpO1xyXG4gICAgaWYgKG15QnV0dG9uKSB7XHJcbiAgICAgICAgbXlCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcsIG5ld1RleHQpO1xyXG4gICAgICAgIGNvbnN0IGVmZmVjdFN0cmluZyA9IHJlcXVpcmUoJy4vYnVpbGRpbmdzJykuZ2VuZXJhdGVFZmZlY3RTdHJpbmcoYnVpbGRpbmcpO1xyXG4gICAgICAgIG15QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWVmZmVjdCcsIGVmZmVjdFN0cmluZyk7XHJcblxyXG4gICAgfVxyXG4gICAgZWxzZSB7IHRocm93IFwiQnV0dG9uIG5vdCBmb3VuZCBmb3IgXCIgKyBidWlsZGluZ0tleTsgfVxyXG5cclxufVxyXG5leHBvcnRzLnJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0ID0gcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3Q7IiwiXHJcbi8vIERFUEVORFMgT046IHRvb2xzLmpzLCBqb2JzLmpzXHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL3Jlc291cmNlc1wiKTtcclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG4vLyBAdHMtaWdub3JlXHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZShcIi4vanNvbi9wb25kZXJcIik7XHJcbmNvbnN0IHsgYnV0dG9ucyB9ID0gcmVxdWlyZShcIi4vanNvbi9idXR0b25zXCIpO1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZSgnLi9qc29uL3NraWxscycpO1xyXG5cclxuY29uc3QgeyBnZXRXb3JrZXJzLCB1cGRhdGVUb3RhbCB9ID0gcmVxdWlyZSgnLi9qb2JzJyk7XHJcbmNvbnN0IHsgaGFzVG9vbCwgfSA9IHJlcXVpcmUoJy4vdG9vbHMnKTtcclxuY29uc3QgeyBjYWxjQ3JhZnRCb251cywgZ2V0TWF4IH0gPSByZXF1aXJlKFwiLi9oZWxwZXJcIik7XHJcbmNvbnN0IHsgY2FuQ3JhZnQgfSA9IHJlcXVpcmUoJy4vY2FuQ3JhZnQnKTtcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vY2FwaXRhbGl6ZUZpcnN0Jyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vZ2V0Q3JhZnRlZFJlc291cmNlJyk7XHJcbmNvbnN0IHsgY2FsY0luY3JlYXNlIH0gPSByZXF1aXJlKFwiLi9jYWxjSW5jcmVhc2VcIik7XHJcbmNvbnN0IHsgdXBkYXRlU2lkZWJhciwgYWJicmV2aWF0ZU51bWJlciB9ID0gcmVxdWlyZShcIi4vc2lkZWJhclwiKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSwgZ2V0QWxsU3RhZ2VzIH0gPSByZXF1aXJlKFwiLi9zdGFnZXNcIik7IC8vIFVzZWQgZm9yIGV2YWwgZnVuY3Rpb25zXHJcbmNvbnN0IHsgdXBkYXRlRGlzcGxheVZhbHVlIH0gPSByZXF1aXJlKFwiLi9zaWRlYmFyXCIpO1xyXG5jb25zdCB7IHVwZGF0ZVNraWxscyB9ID0gcmVxdWlyZShcIi4vc2tpbGxzXCIpO1xyXG4vLyBjb25zb2xlLmxvZyhjYXBpdGFsaXplRmlyc3QpO1xyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gam9iIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzb3VyY2UgXHJcbiAqIEByZXR1cm5zIFxyXG4gKi9cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBpc1Jlc291cmNlQWZmZWN0ZWRCeUpvYihqb2IsIHJlc291cmNlKSB7XHJcbiAgICBjb25zdCBza2lsbCA9IHNraWxsc1tqb2JdO1xyXG4gICAgaWYgKCFza2lsbCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGlmIChza2lsbC5hZmZlY3RlZFJlc291cmNlcy5pbmNsdWRlcyhyZXNvdXJjZSkpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgdG9vbCByZXF1aXJlbWVudCBmb3IgdGhpcyByZXNvdXJjZVxyXG4gICAgICAgIGlmIChza2lsbC5uZWVkVG9vbHMgJiYgQXJyYXkuaXNBcnJheShza2lsbC5uZWVkVG9vbHMpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHRvb2xPYmogb2Ygc2tpbGwubmVlZFRvb2xzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0b29sIGluIHRvb2xPYmopIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9vbE9ialt0b29sXS5pbmNsdWRlcyhyZXNvdXJjZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcGxheWVyIGhhcyB0aGlzIHRvb2xcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIG5vdywganVzdCByZXR1cm5pbmcgdHJ1ZSB0byBpbmRpY2F0ZSB0aGUgcmVzb3VyY2UgaXMgYWZmZWN0ZWQgYW5kIGEgdG9vbCBpcyBuZWVkZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnV0IHlvdSBtYXkgd2FudCB0byByZXBsYWNlIHRoaXMgd2l0aCBhIGNoZWNrIHRvIHNlZSBpZiB0aGUgcGxheWVyIHBvc3Nlc3NlcyB0aGUgcmVxdWlyZWQgdG9vbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFzVG9vbCh0b29sKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gV2UgbmVlZGVkIGEgdG9vbCBidXQgbm90IGZvciB0aGlzXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiBubyB0b29sIHJlcXVpcmVtZW50IHdhcyBmb3VuZCBmb3IgdGhlIHJlc291cmNlLCBpdCdzIHN0aWxsIGFmZmVjdGVkIGJ5IHRoZSBqb2JcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gY2FsY1NlY29uZHNSZW1haW5pbmcocmVzb3VyY2VOYW1lLCBuZWVkZWQpIHtcclxuICAgIGlmIChuZWVkZWQgPD0gcmVzb3VyY2VzW3Jlc291cmNlTmFtZV0pIHJldHVybiAwO1xyXG5cclxuICAgIC8vIEhvdyBtdWNoIHBlciBzZWNvbmRcclxuICAgIGNvbnN0IGluY3JlYXNlID0gY2FsY0luY3JlYXNlKHJlc291cmNlTmFtZSwgMTAwMCk7XHJcbiAgICBpZiAoaW5jcmVhc2UgPT0gMCkgcmV0dXJuIC0xO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ3BpbmcnKTtcclxuICAgIC8vIERpZmZlcmVuY2Ugb3ZlciB0aW1lXHJcbiAgICBjb25zdCB0aW1lUmVtYWluaW5nID0gTWF0aC5jZWlsKG5lZWRlZCAtIHJlc291cmNlc1tyZXNvdXJjZU5hbWVdLnZhbHVlKSAvIGluY3JlYXNlO1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYWxjIG1pbGxpJywgcmVzb3VyY2VOYW1lLCBuZWVkZWQsIHRpbWVSZW1haW5pbmcpO1xyXG4gICAgLy8gaWYgKHRpbWVSZW1haW5pbmcgPT0gSW5maW5pdHkgfHwgdGltZVJlbWFpbmluZyA9PSAtSW5maW5pdHkpIHJldHVybiAtMTtcclxuICAgIHJldHVybiB0aW1lUmVtYWluaW5nO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IHJlc291cmNlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZXMnKTtcclxuZXhwb3J0cy5yZXNvdXJjZXNDb250YWluZXIgPSByZXNvdXJjZXNDb250YWluZXI7XHJcblxyXG5cclxuZnVuY3Rpb24gc2V0TWF4KG1hdGVyaWFsLCBudW0pIHtcclxuICAgIHJlc291cmNlc1ttYXRlcmlhbF0ubWF4ID0gbnVtO1xyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgdXBkYXRlVG90YWwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5jcmVhc2VNYXgobWF0ZXJpYWwsIG51bSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJpbmNyZWFzZSBtYXggXCIsIG1hdGVyaWFsLCBudW0pO1xyXG4gICAgcmVzb3VyY2VzW21hdGVyaWFsXS5tYXggKz0gbnVtO1xyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgdXBkYXRlVG90YWwoKTtcclxuXHJcbn1cclxuXHJcbi8vIEdlbmVyaWMgaW5jcmVhc2VcclxuZnVuY3Rpb24gaW5jcmVhc2VNYXRlcmlhbChtYXRlcmlhbCwgbnVtKSB7XHJcbiAgICAvLyBFbnN1cmUgd2UgYWN0dWFsbHkgbmVlZCB0byBkbyBhbnl0aGluZ1xyXG4gICAgaWYgKG51bSA9PSAwKSByZXR1cm47XHJcbiAgICBtYXRlcmlhbCA9IG1hdGVyaWFsLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnaW5jcmVhc2UgbWF0ZXJpYWwnLCBtYXRlcmlhbCwgbnVtKTtcclxuICAgIC8vIGlmIChNYXRoLmFicyhudW0pID4gNSkgY29uc29sZS5sb2coJ2NoYW5naW5nJywgbWF0ZXJpYWwsICdieScsIG51bSk7XHJcblxyXG4gICAgLy8gVGhpcyBjaGVjayBlbnN1cmVzIHRoYXQgdGhlIG1hdGVyaWFsIGtleSBleGlzdHMgaW4gdGhlIHJlc291cmNlcyBtYXAuXHJcbiAgICBpZiAobWF0ZXJpYWwgaW4gcmVzb3VyY2VzKSB7XHJcblxyXG4gICAgICAgIGlmIChnZXRNYXRlcmlhbChtYXRlcmlhbCkgPCBnZXRNYXgobWF0ZXJpYWwpICYmIG51bSA+IDApIHsgLy8gQWRkaW5nIHJlc291cmNlc1xyXG4gICAgICAgICAgICBpZiAoaXNQb25kZXJlZCgnZmFzdGVyUmVzb3VyY2VHYWluJykpIG51bSAqPSAxLjA1O1xyXG4gICAgICAgICAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlICs9IG51bTtcclxuICAgICAgICAgICAgdXBkYXRlU2tpbGxzKG1hdGVyaWFsLCBudW0pO1xyXG4gICAgICAgICAgICBpZiAobWF0ZXJpYWwgPT09ICd2aW9sZW5jZScpIHJlcXVpcmUoXCIuL2NvbWJhdFwiKS5yZWZyZXNoVmFsdWVzKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChudW0gPCAwKSB7IC8vIFN1YnRyYWN0aW5nIHJlc291cmNlc1xyXG4gICAgICAgICAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlICs9IG51bTtcclxuICAgICAgICB9IGVsc2UgeyAvLyBBbHJlYWR5IGF0IG1heFxyXG4gICAgICAgICAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlID0gZ2V0TWF4KG1hdGVyaWFsKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBpZiAoaXNQb25kZXJlZCgnYXV0b2NyYWZ0JykgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdXRvQ3JhZnRDaGVja2JveFwiKS5jaGVja2VkICYmIGF1dG9DcmFmdFRhYmxlW21hdGVyaWFsXSkge1xyXG4gICAgICAgICAgICAgICAgY3JhZnRBbGxSZXNvdXJjZXMoYXV0b0NyYWZ0VGFibGVbbWF0ZXJpYWxdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheVZhbHVlKG1hdGVyaWFsKTtcclxuICAgICAgICAvLyByZWFzc2lnbkpvYnNCYXNlZE9uUmVzb3VyY2VzKCk7XHJcblxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobWF0ZXJpYWwgaW4gY3JhZnRlZFJlc291cmNlcykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjcmFmdGluZyBhIG1hdGVyaWFsJywgbWF0ZXJpYWwsIG51bSk7XHJcbiAgICAgICAgY3JhZnRlZFJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG4gICAgICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShtYXRlcmlhbCk7XHJcbiAgICAgICAgdXBkYXRlU2tpbGxzKG1hdGVyaWFsLCBudW0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBuZXcgbWF0ZXJpYWxcclxuICAgICAgICBpZiAocmVzb3VyY2VzW21hdGVyaWFsXSkgcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSArPSBudW07XHJcbiAgICAgICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZXNbbWF0ZXJpYWxdKSBjcmFmdGVkUmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSArPSBudW07XHJcblxyXG4gICAgICAgIHVwZGF0ZVNpZGViYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjcmFmdGVkIG1hdGVyaWFscyBoYXZlIG5vIG1heCwgYSBsYSBLaXR0ZW5zIEdhbWVcclxuXHJcblxyXG5cclxuICAgIC8vIHVwZGF0ZVNpZGViYXIoKTtcclxuXHJcblxyXG5cclxuICAgIC8vIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG4gICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIG1hdGVyaWFsICsgXCJWYWx1ZVwiKS50ZXh0Q29udGVudCA9IHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWU7XHJcblxyXG59XHJcbi8vIEdsb2JhbGx5IGRpc3BsYXkgZm9yIGRldiBwdXJwb3Nlc1xyXG4vLyBAdHMtaWdub3JlXHJcbndpbmRvdy5pbmNyZWFzZU1hdGVyaWFsID0gaW5jcmVhc2VNYXRlcmlhbDtcclxuLy8gQHRzLWlnbm9yZVxyXG53aW5kb3cuaW5jcmVhc2VNYXggPSBpbmNyZWFzZU1heDtcclxuXHJcblxyXG5mdW5jdGlvbiB1cGRhdGVSZXNvdXJjZUluY3JlYXNlUmF0ZXMoKSB7XHJcbiAgICAvLyBjb25zdCByZXNvdXJjZXMgPSBbXCJjbG9uZXNcIiwgXCJzdGlja3NcIiwgXCJ2aW5lc1wiLCBcInJvY2tzXCIsIFwiZmlzaFwiLCBcIndvb2RcIiwgXCJwb25kZXJcIl07XHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImluY3JlYXNlIG9mIFwiICsgcmVzb3VyY2UpO1xyXG4gICAgICAgIGNvbnN0IHJhdGUgPSBjYWxjSW5jcmVhc2UocmVzb3VyY2UsIDEwMDApO1xyXG4gICAgICAgIHZhciByYXRlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3Jlc291cmNlfUluY3JlYXNlUmF0ZWApO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAocmF0ZUVsZW1lbnQpIHJhdGVFbGVtZW50LnRleHRDb250ZW50ID0gcmF0ZTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFxyXG4gKiBAcmV0dXJucyBCdXR0b25cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbihjb25maWcpIHtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgYnV0dG9uLmNsYXNzTmFtZSA9IGNvbmZpZy5jbGFzcyArICcgdG9vbHRpcCc7XHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdpZCcsIGNvbmZpZy5pZCk7XHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdyZXF1aXJlbWVudCcsIGNvbmZpZy5yZXF1aXJlZFN0YWdlKTtcclxuICAgIGNvbnN0IHJlc291cmNlTmFtZSA9IE9iamVjdC5rZXlzKGNyYWZ0ZWRSZXNvdXJjZXMpLmZpbmQoa2V5ID0+IGNyYWZ0ZWRSZXNvdXJjZXNba2V5XSA9PT0gY29uZmlnKTtcclxuICAgIC8vIGNvbnN0IGNsZWFuQ291bnQgPSBwYXJzZUZsb2F0KGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS52YWx1ZSkudG9GaXhlZCgwKTtcclxuICAgIC8vIGJ1dHRvbi5pbm5lckhUTUwgPSBgJHtjb25maWcudGV4dCB8fCBjYXBpdGFsaXplRmlyc3QocmVzb3VyY2VOYW1lKX06IDxzcGFuIGlkPVwiJHtyZXNvdXJjZU5hbWUgKyBcIlZhbHVlXCJ9XCI+JHtjbGVhbkNvdW50fTwvc3Bhbj5gO1xyXG4gICAgYnV0dG9uLmlubmVySFRNTCA9IGAke2NvbmZpZy50ZXh0IHx8IGNhcGl0YWxpemVGaXJzdChyZXNvdXJjZU5hbWUpfWA7XHJcbiAgICAvLyBidXR0b24udG9vbHRpcERlc2MgPSBjb25maWcudG9vbHRpcERlc2M7IFxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgYnV0dG9uLnRhYiA9ICdleHBlcmltZW50JztcclxuXHJcbiAgICByZXR1cm4gYnV0dG9uO1xyXG59XHJcblxyXG5cclxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NyYWZ0ZWRSZXNvdXJjZUJ1dHRvbnMnKTtcclxuZnVuY3Rpb24gYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucygpIHtcclxuXHJcbiAgICAvLyBGb3IgZWFjaCByZXNvdXJjZSwgY3JlYXRlIGEgYnV0dG9uIHVzaW5nIHRoZSBjYXB0dXJlZCBjb3VudHNcclxuICAgIGZvciAobGV0IG5hbWUgaW4gY3JhZnRlZFJlc291cmNlcykge1xyXG5cclxuICAgICAgICAvLyBjb25maWcuY291bnQgPSBjcmFmdGVkUmVzb3VyY2VzW25hbWVdLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbihjcmFmdGVkUmVzb3VyY2VzW25hbWVdKTtcclxuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycsIGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0udG9vbHRpcERlc2MgfHwgXCJcIik7XHJcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBnZW5lcmF0ZVRvb2x0aXBDb3N0KGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uY29zdCkgfHwgXCJcIik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rvb2x0aXAgY29zdCcsIGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1jb3N0JykpO1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gICAgICAgIGNvbnN0IHJlcVJlc3VsdCA9IHBhc3NlZFN0YWdlKGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3JlcXVpcmVtZW50JykpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcVJlc3VsdCwgYnV0dG9uLmdldEF0dHJpYnV0ZSgncmVxdWlyZW1lbnQnKSwgT2JqZWN0LnZhbHVlcyhnZXRBbGxTdGFnZXMoKSkpO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBGaWd1cmUgb3V0IHdoYXQgdGhlIGJ1ZyBpcyBoZXJlXHJcbiAgICAgICAgaWYgKHJlcVJlc3VsdCkgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIGVsc2UgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cclxuXHJcbiAgICAgICAgYnV0dG9uc1tjcmFmdGVkUmVzb3VyY2VzW25hbWVdLmlkXSA9IGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV07XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9uKG5hbWUpIHtcclxuXHJcbiAgICBjb25zdCBidXR0b24gPSBjcmVhdGVDcmFmdGVkUmVzb3VyY2VCdXR0b24oY3JhZnRlZFJlc291cmNlc1tuYW1lXSk7XHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycsIGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0udG9vbHRpcERlc2MpO1xyXG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBnZW5lcmF0ZVRvb2x0aXBDb3N0KGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uY29zdCkpO1xyXG5cclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gICAgYnV0dG9uc1tjcmFmdGVkUmVzb3VyY2VzW25hbWVdLmlkXSA9IGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV07XHJcblxyXG59XHJcblxyXG4vLyBDYWxsIHRoZSBmdW5jdGlvbiB0byByZXBsYWNlIDxwPiBlbGVtZW50cyB3aXRoIHRoZSBidXR0b25zXHJcbi8vIGFwcGVuZENyYWZ0ZWRSZXNvdXJjZUJ1dHRvbignc3RpY2tzJyk7XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVRvb2x0aXBDb3N0KHJlcXVpcmVtZW50cykge1xyXG4gICAgaWYgKHJlcXVpcmVtZW50cyA9PT0gbnVsbCkgcmV0dXJuICcnO1xyXG4gICAgdmFyIHN0ciA9ICcnO1xyXG4gICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gcmVxdWlyZW1lbnRzKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhc0Vub3VnaCA9IGdldE1hdGVyaWFsKG1hdGVyaWFsLCByZXNvdXJjZXMpID49IHJlcXVpcmVtZW50c1ttYXRlcmlhbF07LyogWW91ciBsb2dpYyB0byBjaGVjayBpZiB0aGVyZSdzIGVub3VnaCBvZiB0aGUgbWF0ZXJpYWwgKi87XHJcbiAgICAgICAgY29uc3QgY29sb3JDbGFzcyA9IGhhc0Vub3VnaCA/ICdlbm91Z2gnIDogJ25vdC1lbm91Z2gnO1xyXG4gICAgICAgIHN0ciArPSBgPHNwYW4gY2xhc3M9XCJ0b29sdGlwLSR7bWF0ZXJpYWx9ICR7Y29sb3JDbGFzc31cIj4ke2FiYnJldmlhdGVOdW1iZXIocmVxdWlyZW1lbnRzW21hdGVyaWFsXSl9ICR7bWF0ZXJpYWx9PC9zcGFuPjxicj5gO1xyXG5cclxuICAgIH1cclxuICAgIHJldHVybiBzdHI7XHJcbn1cclxuXHJcblxyXG5cclxuY29uc3QgZW1vamlEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vtb2ppRGlzcGxheScpO1xyXG5mdW5jdGlvbiB1cGRhdGVFbW9qaURpc3BsYXkoKSB7XHJcbiAgICBsZXQgZW1vamlTdHIgPSBcIlwiO1xyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgam9iQ291bnRzIG1hcCB0byBnZXQgZWFjaCBqb2IgYW5kIGl0cyBjb3VudFxyXG4gICAgZm9yIChsZXQgcmVzb3VyY2UgaW4gcmVzb3VyY2VzKSB7XHJcbiAgICAgICAgLy8gbGV0IHJlc291cmNlID0gcmVzb3VyY2VzW2dldEFmZmVjdGVkUmVzb3VyY2VzKGpvYilbMF1dO1xyXG4gICAgICAgIGxldCBjb3VudCA9IGdldFdvcmtlcnMocmVzb3VyY2UpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc291cmNlLCBjb3VudCk7XHJcbiAgICAgICAgaWYgKGNvdW50ID09PSB1bmRlZmluZWQgfHwgY291bnQgPT0gMCkgY29udGludWU7XHJcbiAgICAgICAgbGV0IGVtb2ppID0gcmVzb3VyY2VzW3Jlc291cmNlXS5lbW9qaSB8fCAn8JOAnyc7ICAvLyBnZXQgdGhlIGVtb2ppIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGpvYiBmcm9tIHRoZSByZXNvdXJjZXMgbWFwXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coam9iLCBlbW9qaSk7XHJcbiAgICAgICAgaWYgKGVtb2ppKSB7XHJcbiAgICAgICAgICAgIGVtb2ppU3RyICs9IGVtb2ppLnJlcGVhdChjb3VudCk7ICAvLyByZXBlYXQgdGhlIGVtb2ppIGJhc2VkIG9uIHRoZSBjb3VudFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbW9qaURpc3BsYXkudGV4dENvbnRlbnQgPSBlbW9qaVN0cjsgIC8vIHVwZGF0ZSB0aGUgZW1vamlEaXNwbGF5IGRpdiB3aXRoIHRoZSBnZW5lcmF0ZWQgZW1vamkgc3RyaW5nXHJcblxyXG4gICAgZnVuY3Rpb24gYWRqdXN0Rm9udFNpemUoKSB7XHJcbiAgICAgICAgbGV0IGZvbnRTaXplID0gNDg7ICAvLyBTdGFydGluZyBmb250IHNpemVcclxuXHJcbiAgICAgICAgZW1vamlEaXNwbGF5LnN0eWxlLmZvbnRTaXplID0gYCR7Zm9udFNpemV9cHhgO1xyXG5cclxuICAgICAgICB3aGlsZSAoKGVtb2ppRGlzcGxheS5vZmZzZXRXaWR0aCA+IDYwMCkgJiYgZm9udFNpemUgPiAzMCkge1xyXG4gICAgICAgICAgICAvLyAxMCBpcyBhIG1pbmltdW0gZm9udC1zaXplIHRocmVzaG9sZCB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3BcclxuICAgICAgICAgICAgZm9udFNpemUgLT0gMTsgLy8gZGVjcmVhc2UgdGhlIGZvbnQgc2l6ZVxyXG4gICAgICAgICAgICBlbW9qaURpc3BsYXkuc3R5bGUuZm9udFNpemUgPSBgJHtmb250U2l6ZX1weGA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGwgdGhpcyBmdW5jdGlvbiB3aGVuZXZlciB0aGUgY29udGVudCBvZiAjZW1vamlEaXNwbGF5IGNoYW5nZXNcclxuICAgIGFkanVzdEZvbnRTaXplKCk7XHJcblxyXG59XHJcblxyXG4vLyBDYWxsIHVwZGF0ZUVtb2ppRGlzcGxheSBldmVyeSB0aW1lIGpvYkNvdW50cyBpcyB1cGRhdGVkOlxyXG4vLyBGb3IgZXhhbXBsZTpcclxuLy8gam9iQ291bnRzLnNldCgnZmlzaGluZycsIDQpO1xyXG51cGRhdGVFbW9qaURpc3BsYXkoKTtcclxuXHJcblxyXG5jb25zdCBhdXRvQ3JhZnRUYWJsZSA9IHtcclxuICAgICdzdGlja3MnOiAnaGFuZGxlJyxcclxuICAgICd3b29kJzogJ3BhcGVyJyxcclxuICAgICdyb2Nrcyc6ICdzaGFycHJvY2tzJyxcclxuICAgICd2aW5lcyc6ICdyb3BlJyxcclxuICAgICdzYW5kJzogJ2dsYXNzJyxcclxuICAgICdvcmUnOiAnZ29sZCcsXHJcbiAgICAnY2xheSc6ICdicmlja3MnXHJcbn07XHJcblxyXG5mdW5jdGlvbiBjcmFmdEFsbFJlc291cmNlcyhyZXNvdXJjZUtleSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb3N0ID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY29zdDtcclxuICAgICAgICBsZXQgc3VmZmljaWVudFJlc291cmNlcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IG1hdCBpbiBjb3N0KSB7XHJcbiAgICAgICAgICAgIC8vIGlmIChnZXRNYXRlcmlhbChtYXQsIHJlc291cmNlcykgPCBjb3N0W21hdF0pIHtcclxuICAgICAgICAgICAgc3VmZmljaWVudFJlc291cmNlcy5wdXNoKGdldE1hdGVyaWFsKG1hdCwgcmVzb3VyY2VzKSAvIGNvc3RbbWF0XSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1pbiA9IE1hdGguZmxvb3IoTWF0aC5taW4oLi4uc3VmZmljaWVudFJlc291cmNlcykpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc291cmNlS2V5LCBtaW4pO1xyXG4gICAgICAgIGNyYWZ0UmVzb3VyY2VRdWFudGl0eShyZXNvdXJjZUtleSwgbWluKTtcclxuXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGNyYWZ0YWxsIGZvcjogJywgcmVzb3VyY2VLZXksIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JhZnRSZXNvdXJjZVF1YW50aXR5KHJlc291cmNlS2V5LCBxdWFudGl0eSkge1xyXG4gICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlS2V5KSkgdGhyb3cgXCJJbnZhbGlkIGNyYWZ0IGZvciBtaXNzaW5nIHJlc291cmNlOiBcIiArIHJlc291cmNlS2V5O1xyXG5cclxuICAgIGlmICghY2FuQ3JhZnQocmVzb3VyY2VLZXkpKSByZXR1cm47IC8vIFRha2VzIGNhcmUgb2YgcXVhbnRpdHkgPCAxXHJcbiAgICBsZXQgY29zdCA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNvc3Q7XHJcbiAgICBxdWFudGl0eSA9IE1hdGguZmxvb3IocXVhbnRpdHkpOyAvLyBNYWtlIHN1cmUgdGhlIHF1YW50aXR5IGlzIGEgd2hvbGUgbnVtYmVyXHJcblxyXG4gICAgZm9yIChjb25zdCBbbWF0LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGNvc3QpKSB7XHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChtYXQsIC12YWwgKiBxdWFudGl0eSk7XHJcbiAgICB9XHJcbiAgICBpbmNyZWFzZU1hdGVyaWFsKHJlc291cmNlS2V5LCBjYWxjQ3JhZnRCb251cyhyZXNvdXJjZUtleSkgKiBxdWFudGl0eSk7XHJcbiAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGguZmxvb3IocXVhbnRpdHkpOyArK2kpIHsgLy8gT25seSBjcmFmdCB3aG9sZSBudW1iZXIsIHNvIDEuNCBvbmx5IHJ1bnMgb25jZVxyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdjcmFmdGluZycsIHF1YW50aXR5LCByZXNvdXJjZUtleSwgY29zdCk7XHJcbiAgICAvLyAgICAgY3JhZnRPbmUocmVzb3VyY2VLZXksIGNvc3QsIGNhbGNDcmFmdEJvbnVzKHJlc291cmNlS2V5KSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIHJlc291cmNlS2V5ICsgXCJWYWx1ZVwiKS50ZXh0Q29udGVudCA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLnZhbHVlLnRvRml4ZWQoMik7XHJcbiAgICBpZiAoIWNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNyYWZ0ZWRPbmNlKSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jcmFmdGVkT25jZSA9IHRydWU7XHJcblxyXG4gICAgdXBkYXRlRGlzcGxheVZhbHVlKHJlc291cmNlS2V5KTtcclxuXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjcmFmdE9uZShyZXNvdXJjZUtleSwgY29zdCwgY3JhZnRCb251cykge1xyXG4gICAgZm9yIChjb25zdCBbbWF0LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGNvc3QpKSB7XHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChtYXQsIC12YWwpO1xyXG4gICAgfVxyXG4gICAgaW5jcmVhc2VNYXRlcmlhbChyZXNvdXJjZUtleSwgY3JhZnRCb251cyk7XHJcblxyXG59XHJcbi8vIENyYWZ0IGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIGNyYWZ0UmVzb3VyY2UocmVzb3VyY2VLZXkpIHtcclxuICAgIGlmICghY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZUtleSkpIHRocm93IFwiSW52YWxpZCBjcmFmdCBmb3IgbWlzc2luZyByZXNvdXJjZTogXCIgKyByZXNvdXJjZUtleTtcclxuXHJcbiAgICBpZiAoIWNhbkNyYWZ0KHJlc291cmNlS2V5KSkgcmV0dXJuO1xyXG5cclxuICAgIGxldCBjb3N0ID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0uY29zdDtcclxuICAgIGxldCBjcmFmdEJvbnVzID0gY2FsY0NyYWZ0Qm9udXMocmVzb3VyY2VLZXkpO1xyXG5cclxuXHJcbiAgICBjcmFmdE9uZShyZXNvdXJjZUtleSwgY29zdCwgY3JhZnRCb251cyk7XHJcblxyXG4gICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIHJlc291cmNlS2V5ICsgXCJWYWx1ZVwiKS50ZXh0Q29udGVudCA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLnZhbHVlLnRvRml4ZWQoMik7XHJcbiAgICBpZiAoIWNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNyYWZ0ZWRPbmNlKSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jcmFmdGVkT25jZSA9IHRydWU7XHJcbiAgICB1cGRhdGVEaXNwbGF5VmFsdWUocmVzb3VyY2VLZXkpO1xyXG59XHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgaW5jcmVhc2VNYXRlcmlhbCxcclxuICAgIHNldE1heCxcclxuICAgIGluY3JlYXNlTWF4LFxyXG4gICAgY3JhZnRBbGxSZXNvdXJjZXMsXHJcbiAgICBjcmFmdFJlc291cmNlLFxyXG4gICAgdXBkYXRlRW1vamlEaXNwbGF5LFxyXG4gICAgZ2VuZXJhdGVUb29sdGlwQ29zdCxcclxuICAgIGNhbGNTZWNvbmRzUmVtYWluaW5nLFxyXG4gICAgYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucyxcclxuICAgIGNhbGNJbmNyZWFzZSxcclxuICAgIHVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcyxcclxuICAgIGNyYWZ0UmVzb3VyY2VRdWFudGl0eVxyXG5cclxufTsiLCIvLyBERVBFTkRTIE9OOiByZXNvdXJjZXMuanNcclxuY29uc3QgeyBjYWxjSW5jcmVhc2UsIHVwZGF0ZUVtb2ppRGlzcGxheSB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBhZGRUb29sLCBnZXRBbGxUb29scyB9ID0gcmVxdWlyZSgnLi90b29scycpO1xyXG5jb25zdCB7IGFsbFZpc2libGVCdXR0b25zLCBzZXRWaXNpYmxlQnV0dG9uLCBnZXRNYXggfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcbmNvbnN0IHsgbWFrZVZpc2libGUgfSA9IHJlcXVpcmUoJy4vbWFrZVZpc2libGUnKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4vZ2V0Q3JhZnRlZFJlc291cmNlJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmNvbnN0IHsgZ2V0QWxsUGVya3MsIGFkZFBlcmssIGhhc1BlcmssIHNlbGVjdEFiaWxpdHkgfSA9IHJlcXVpcmUoJy4vcGVya3MnKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkIH0gPSByZXF1aXJlKCcuL3BvbmRlcicpO1xyXG5jb25zdCB7IGpvYkNvdW50cywgc2V0Q29ubmVjdGlvbnMsIGdldENvbm5lY3Rpb25zLCBkaXN0cmlidXRlV29ya2VycywgdXBkYXRlRGlzcGxheSB9ID0gcmVxdWlyZSgnLi9qb2JzJyk7XHJcbmNvbnN0IHsgdG90YWxfdGltZSB9ID0gcmVxdWlyZSgnLi9tYWluJyk7XHJcbmNvbnN0IHsgc2V0QXRlRmlzaCwgZ2V0QXRlRmlzaCB9ID0gcmVxdWlyZSgnLi9hdGVGaXNoJyk7XHJcblxyXG5cclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIik7XHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZShcIi4vanNvbi9wb25kZXJcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgc2tpbGxzIH0gPSByZXF1aXJlKFwiLi9qc29uL3NraWxsc1wiKTtcclxuY29uc3QgeyBnZXRBbGxTdGFnZXMgfSA9IHJlcXVpcmUoJy4vc3RhZ2VzJyk7XHJcbmNvbnN0IHsgYWN0aXZlRmFjdG9yaWVzUHJvZHVjaW5nLCBsb2FkRmFjdG9yeSB9ID0gcmVxdWlyZSgnLi9mYWN0b3J5Jyk7XHJcbmNvbnN0IHsgcmVjYWxjTWF4Q2xvbmVzIH0gPSByZXF1aXJlKCcuL3JlY2FsY01heENsb25lcycpO1xyXG5jb25zdCB7IHVwZGF0ZVNpZGViYXIgfSA9IHJlcXVpcmUoJy4vc2lkZWJhcicpO1xyXG5jb25zdCB7IHByZXN0aWdlIH0gPSByZXF1aXJlKCcuL2pzb24vcHJlc3RpZ2UnKTtcclxuY29uc3QgeyByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCB9ID0gcmVxdWlyZSgnLi9yZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCcpO1xyXG5jb25zdCB7IHVwZGF0ZUJ1aWxkaW5nQnV0dG9uQ291bnQgfSA9IHJlcXVpcmUoJy4vdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCcpO1xyXG5jb25zdCB7IHVwZGF0ZUJ1aWxkaW5nTGlzdCB9ID0gcmVxdWlyZSgnLi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyBwb3B1bGF0ZVNraWxsc1RhYmxlIH0gPSByZXF1aXJlKCcuL3NraWxscycpO1xyXG5cclxuLy8gaW1wb3J0IGpvYkNvdW50cztcclxuLyogU0FWSU5HICovXHJcbi8vIHZhciBzYXZlID0ge1xyXG4vLyAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXHJcbi8vICAgICBjcmFmdGVkUmVzb3VyY2VzOiBjcmFmdGVkUmVzb3VyY2VzLFxyXG4vLyAgICAgc2tpbGxzOiBza2lsbHMsXHJcbi8vICAgICBwbGF5ZXJUb29sczogcGxheWVyVG9vbHNcclxuLy8gfVxyXG5cclxuZnVuY3Rpb24gc2F2ZUdhbWUoKSB7XHJcbiAgICBsZXQgc2F2ZSA9IHtcclxuICAgICAgICBza2lsbHM6IHt9LCAvLyBUaGlzIHdpbGwgaG9sZCB0aGUgZXhwZXJpZW5jZSBhbmQgbGV2ZWwgZm9yIGVhY2ggc2tpbGxcclxuICAgICAgICBjcmFmdGVkUmVzb3VyY2VzOiB7fSwgLy8gVGhpcyB3aWxsIGhvbGQgdGhlIHZhbHVlIGZvciBlYWNoIGNyYWZ0ZWQgaXRlbVxyXG4gICAgICAgIHJlc291cmNlczoge30sXHJcbiAgICAgICAgdG9vbHM6IFtdLFxyXG4gICAgICAgIHN0YWdlczogW10sXHJcbiAgICAgICAgdW5sb2Nrczoge30sXHJcbiAgICAgICAgam9iczoge30sXHJcbiAgICAgICAgYnVpbGRpbmdzOiB7fSxcclxuICAgICAgICB0aW1lOiB7fSxcclxuICAgICAgICBhbGxWaXNpYmxlQnV0dG9uczogW10sXHJcbiAgICAgICAgbWVzc2FnZTogW10sXHJcbiAgICAgICAgY29ubmVjdGlvbnM6IG5ldyBNYXAoKSxcclxuICAgICAgICBwZXJrczogW10sXHJcbiAgICAgICAgZmFjdG9yaWVzOiB7fSxcclxuICAgICAgICBwcmVzdGlnZToge30sXHJcbiAgICAgICAgbmV3QnVpbGRpbmdzOiB7fVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBFeHRyYWN0IGV4cCBhbmQgbGV2ZWwgZnJvbSBza2lsbHMgYW5kIHNhdmUgdG8gc2F2ZS5za2lsbHNcclxuICAgIGZvciAobGV0IHNraWxsIGluIHNraWxscykge1xyXG4gICAgICAgIHNhdmUuc2tpbGxzW3NraWxsXSA9IHtcclxuICAgICAgICAgICAgZXhwOiBza2lsbHNbc2tpbGxdLmV4cCxcclxuICAgICAgICAgICAgbGV2ZWw6IHNraWxsc1tza2lsbF0ubGV2ZWxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEV4dHJhY3QgdmFsdWUgZnJvbSBjcmFmdGVkUmVzb3VyY2VzIGFuZCBzYXZlIHRvIHNhdmUuY3JhZnRlZEl0ZW1zXHJcbiAgICBmb3IgKGxldCBpdGVtIGluIGNyYWZ0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICBpZiAoIXNhdmUuY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICBzYXZlLmNyYWZ0ZWRSZXNvdXJjZXNbaXRlbV0gPSB7IHZhbHVlOiAwLCBjcmFmdGVkT25jZTogZmFsc2UgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNhdmUuY3JhZnRlZFJlc291cmNlc1tpdGVtXS52YWx1ZSA9IGdldENyYWZ0ZWRSZXNvdXJjZShpdGVtKTtcclxuICAgICAgICBzYXZlLmNyYWZ0ZWRSZXNvdXJjZXNbaXRlbV0uY3JhZnRlZE9uY2UgPSBjcmFmdGVkUmVzb3VyY2VzW2l0ZW1dLmNyYWZ0ZWRPbmNlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpdGVtIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBpdGVtIGV4aXN0cyBpbiB0aGUgc2F2ZS5yZXNvdXJjZXMgb2JqZWN0LiBJZiBub3QsIGluaXRpYWxpemUgaXQuXHJcbiAgICAgICAgaWYgKCFzYXZlLnJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICBzYXZlLnJlc291cmNlc1tpdGVtXSA9IHsgdmFsdWU6IDAsIG1heDogMCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2F2ZS5yZXNvdXJjZXNbaXRlbV0udmFsdWUgPSBnZXRNYXRlcmlhbChpdGVtLCByZXNvdXJjZXMpO1xyXG4gICAgICAgIHNhdmUucmVzb3VyY2VzW2l0ZW1dLm1heCA9IHJlc291cmNlc1tpdGVtXS5tYXg7XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZS50b29scyA9IGdldEFsbFRvb2xzKCk7XHJcbiAgICBzYXZlLnN0YWdlcyA9IGdldEFsbFN0YWdlcygpO1xyXG4gICAgc2F2ZS5qb2JzID0gam9iQ291bnRzO1xyXG4gICAgc2F2ZS5wZXJrcyA9IGdldEFsbFBlcmtzKCk7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgc2F2ZS5jb25uZWN0aW9ucyA9IEFycmF5LmZyb20oZ2V0Q29ubmVjdGlvbnMoKS5lbnRyaWVzKCkpO1xyXG5cclxuICAgIGZvciAobGV0IHUgaW4gcG9uZGVycykge1xyXG4gICAgICAgIHNhdmUudW5sb2Nrc1t1XSA9IGlzUG9uZGVyZWQodSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgYiBpbiBidWlsZGluZ3MpIHtcclxuICAgICAgICBzYXZlLmJ1aWxkaW5nc1tiXSA9IGJ1aWxkaW5nc1tiXS5jb3VudDtcclxuICAgICAgICBpZiAoYnVpbGRpbmdzW2JdLmhhc093blByb3BlcnR5KCduYW1lJykpIHtcclxuICAgICAgICAgICAgLy8gc2F2ZSBuZXcgYnVpbGRpbmcgZGF0YSBcclxuICAgICAgICAgICAgc2F2ZS5uZXdCdWlsZGluZ3NbYl0gPSBidWlsZGluZ3NbYl07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKGFsbFZpc2libGVCdXR0b25zLnZhbHVlcygpKTtcclxuICAgIGZvciAobGV0IGEgaW4gYWxsVmlzaWJsZUJ1dHRvbnMpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhhKTtcclxuICAgICAgICBzYXZlLmFsbFZpc2libGVCdXR0b25zLnB1c2goYSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coc2F2ZS5hbGxWaXNpYmxlQnV0dG9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXh0cmFjdFRleHRGcm9tSFRNTChodG1sU3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IGh0bWxTdHJpbmc7XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gZGl2LnRleHRDb250ZW50O1xyXG4gICAgICAgIGNvbnN0IHNwYW5UZXh0ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgICAgcmV0dXJuIFt0ZXh0Q29udGVudCwgc3BhblRleHRdO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhhY3RpdmVGYWN0b3JpZXNQcm9kdWNpbmcpKSB7XHJcbiAgICAgICAgc2F2ZS5mYWN0b3JpZXNba2V5XSA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBodG1sU3RyaW5nID0gcmVxdWlyZSgnLi9tYWluJykuZ2V0TWVzc2FnZSgpLmlubmVySFRNTDtcclxuICAgIGNvbnN0IG1lc3NhZ2VUb29sdGlwID0gcmVxdWlyZSgnLi9tYWluJykuZ2V0TWVzc2FnZVRvb2x0aXAoKTtcclxuICAgIGNvbnN0IG1lc3NhZ2VBcnJheSA9IGV4dHJhY3RUZXh0RnJvbUhUTUwoaHRtbFN0cmluZyk7IC8vIFttZXNzYWdlLCBzcGFuXVxyXG4gICAgbWVzc2FnZUFycmF5LnB1c2gobWVzc2FnZVRvb2x0aXApO1xyXG4gICAgc2F2ZS5tZXNzYWdlID0gbWVzc2FnZUFycmF5O1xyXG5cclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhwcmVzdGlnZSkpIHtcclxuICAgICAgICBzYXZlLnByZXN0aWdlW2tleV0gPSB7IGNvc3Q6IHZhbC5jb3N0LCBsZXZlbDogdmFsLmxldmVsIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coY29tYmluZWRUZXh0KTsgLy8gXCJZb3UgZmluZCB5b3Vyc2VsZiBhbG9uZSBpbiBhIGZvcmVzdFwiXHJcbiAgICAvLyBjb25zb2xlLmxvZyhzcGFuVGV4dCk7IC8vIFwiYWxvbmVcIlxyXG5cclxuXHJcbiAgICBzYXZlLnRpbWVbJ3RvdGFsX3RpbWUnXSA9IHRvdGFsX3RpbWU7XHJcbiAgICBzYXZlLnRpbWVbJ3RpbWVfb2Zfc2F2ZSddID0gRGF0ZS5ub3coKTtcclxuICAgIC8vIFlvdSBjYW4gbm93IHVzZSB0aGUgc2F2ZSBvYmplY3QgdG8gc3RvcmUgdGhlIGRhdGEgc29tZXdoZXJlIG9yIGRpc3BsYXkgaXQgdG8gdGhlIHVzZXJcclxuXHJcbiAgICBjb25zb2xlLmxvZyhzYXZlKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHNhdmUpKTtcclxuXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNhdmVcIiwgSlNPTi5zdHJpbmdpZnkoc2F2ZSkpO1xyXG4gICAgcmV0dXJuIHNhdmU7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gbG9hZEdhbWUoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgR2FtZVwiKTtcclxuICAgIHZhciBzYXZlZ2FtZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzYXZlXCIpKTtcclxuICAgIGNvbnNvbGUubG9nKHNhdmVnYW1lKTtcclxuICAgIGlmIChzYXZlZ2FtZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIC8vIE5FVyBHQU1FXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5yZXNvdXJjZXMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHNhdmVnYW1lLnJlc291cmNlcykge1xyXG4gICAgICAgICAgICBpZiAoaS52YWx1ZU9mKCkgPT09IFwidW5kZWZpbmVkXCIgfHwgaSA9PT0gbnVsbCB8fCByZXNvdXJjZXNbaV0gPT09IG51bGwpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICByZXNvdXJjZXNbaV0udmFsdWUgPSBzYXZlZ2FtZS5yZXNvdXJjZXNbaV0udmFsdWU7XHJcbiAgICAgICAgICAgIHJlc291cmNlc1tpXS5tYXggPSBzYXZlZ2FtZS5yZXNvdXJjZXNbaV0ubWF4O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVwZGF0aW5nIHJlc291cmNlcyBmb3IgXCIgKyBpICsgXCIgdG8gXCIgKyBzYXZlZ2FtZS5yZXNvdXJjZXNbaV0udmFsdWUsIHNhdmVnYW1lLnJlc291cmNlc1tpXS5tYXgpO1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzW2ldLnZhbHVlICE9IDApIHJlcXVpcmUoJy4vc2lkZWJhcicpLnVwZGF0ZURpc3BsYXlWYWx1ZShpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5za2lsbHMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBzYXZlZ2FtZS5za2lsbHMpIHtcclxuICAgICAgICAgICAgc2tpbGxzW2ldLmV4cCA9IHNhdmVnYW1lLnNraWxsc1tpXS5leHA7XHJcbiAgICAgICAgICAgIHNraWxsc1tpXS5sZXZlbCA9IHNhdmVnYW1lLnNraWxsc1tpXS5sZXZlbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5jcmFmdGVkUmVzb3VyY2VzICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IG9mIE9iamVjdC5rZXlzKHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXMpKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsb2FkaW5nIGNyYWZ0ZWQnLCBrZXksIHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXNba2V5XSwgY3JhZnRlZFJlc291cmNlc1trZXldKTtcclxuICAgICAgICAgICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzW2tleV0pIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBjcmFmdGVkUmVzb3VyY2VzW2tleV0udmFsdWUgPSBzYXZlZ2FtZS5jcmFmdGVkUmVzb3VyY2VzW2tleV0udmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4oY3JhZnRlZFJlc291cmNlc1trZXldLnZhbHVlKSkgY3JhZnRlZFJlc291cmNlc1trZXldLnZhbHVlID0gMDtcclxuICAgICAgICAgICAgY3JhZnRlZFJlc291cmNlc1trZXldLmNyYWZ0ZWRPbmNlID0gc2F2ZWdhbWUuY3JhZnRlZFJlc291cmNlc1trZXldLmNyYWZ0ZWRPbmNlO1xyXG4gICAgICAgICAgICByZXF1aXJlKCcuL3NpZGViYXInKS51cGRhdGVEaXNwbGF5VmFsdWUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS50b29scyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBwbGF5ZXJUb29scyA9IHNhdmVnYW1lLnRvb2xzO1xyXG4gICAgICAgIC8vIFVuaW9uIHRoZSB0b29sIGxpc3RzIHRvZ2V0aGVyXHJcbiAgICAgICAgbGV0IHVuaW9uID0gWy4uLm5ldyBTZXQoWy4uLmdldEFsbFRvb2xzKCksIC4uLnNhdmVnYW1lLnRvb2xzXSldO1xyXG4gICAgICAgIC8vIHBsYXllclRvb2xzID0gdW5pb247XHJcbiAgICAgICAgZm9yIChsZXQgdG9vbCBpbiB1bmlvbikge1xyXG4gICAgICAgICAgICBhZGRUb29sKHRvb2wpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZm9yIChsZXQgdCBpbiBwbGF5ZXJUb29scykge1xyXG4gICAgICAgIC8vICAgICB1cGRhdGVUb29sVUkocGxheWVyVG9vbHNbdF0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnN0YWdlcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGxldCBzIGluIHNhdmVnYW1lLnN0YWdlcykge1xyXG4gICAgICAgICAgICBtYWtlVmlzaWJsZShzYXZlZ2FtZS5zdGFnZXNbc10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuam9icyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBqb2JDb3VudHMgPSBzYXZlZ2FtZS5qb2JzO1xyXG4gICAgICAgIGZvciAobGV0IGogaW4gc2F2ZWdhbWUuam9icykge1xyXG4gICAgICAgICAgICBqb2JDb3VudHNbal0gPSBzYXZlZ2FtZS5qb2JzW2pdO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhqKTtcclxuICAgICAgICAgICAgdXBkYXRlRGlzcGxheShqKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnVubG9ja3MgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgZm9yIChsZXQgdSBpbiBzYXZlZ2FtZS51bmxvY2tzKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBwb25kZXJzW3VdLmlzUG9uZGVyZWQgPSBzYXZlZ2FtZS51bmxvY2tzW3VdO1xyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignT2xkIHNhdmUgZGF0YSBpbmNsdWRlcyBvYnNvbGV0ZSBwb25kZXInLCB1KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNQb25kZXJlZCgnc2tpbGxzVGFibGUnKSkge1xyXG4gICAgICAgIHBvcHVsYXRlU2tpbGxzVGFibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQZXJrcyBiZWZvcmUgYnVpbGRpbmdzIHRvIHVwZGF0ZSBjb3N0c1xyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5wZXJrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBteVBlcmtzID0gc2F2ZWdhbWUucGVya3M7XHJcbiAgICAgICAgZm9yIChsZXQgW2ksIHBlcmtdIG9mIE9iamVjdC5lbnRyaWVzKHNhdmVnYW1lLnBlcmtzKSkge1xyXG4gICAgICAgICAgICBhZGRQZXJrKHBlcmspO1xyXG4gICAgICAgICAgICByZXF1aXJlKCcuL3NlbGVjdENvcnJlY3RQZXJrQnV0dG9uJykuc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24ocGVyayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnByZXN0aWdlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhzYXZlZ2FtZS5wcmVzdGlnZSkpIHtcclxuXHJcbiAgICAgICAgICAgIHByZXN0aWdlW2tleV0uY29zdCA9IHZhbFsnY29zdCddO1xyXG4gICAgICAgICAgICBwcmVzdGlnZVtrZXldLmxldmVsID0gdmFsWydsZXZlbCddO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLm5ld0J1aWxkaW5ncyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGxldCBiIGluIHNhdmVnYW1lLm5ld0J1aWxkaW5ncykge1xyXG4gICAgICAgICAgICBidWlsZGluZ3NbYl0gPSBzYXZlZ2FtZS5uZXdCdWlsZGluZ3NbYl07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuYnVpbGRpbmdzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGZvciAobGV0IGIgaW4gc2F2ZWdhbWUuYnVpbGRpbmdzKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGIsIHNhdmVnYW1lLmJ1aWxkaW5nc1tiXSk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBidWlsZGluZ3NbYl0uY291bnQgPSBzYXZlZ2FtZS5idWlsZGluZ3NbYl07XHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgYnV0dG9uIHRleHRcclxuICAgICAgICAgICAgICAgIGlmIChidWlsZGluZ3NbYl0uY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudChiLCBidWlsZGluZ3NbYl0uY291bnQsIGJ1aWxkaW5nc1tiXS5lbW9qaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY29zdHMgb2YgYWxsIHRoZSBidWlsZGluZ3NcclxuICAgICAgICAgICAgICAgICAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChiLCBidWlsZGluZ3MsIGhhc1BlcmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignZXJyb3Igd2l0aCBidWlsZGluZycsIGIsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB1cGRhdGVTaWRlYmFyKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEFmdGVyIHBvbmRlcnMgYW5kIGJ1aWxkaW5ncyB3ZSBjYW4gcmVjYWxjdWxhdGUgbWF4IGNsb25lc1xyXG4gICAgcmVjYWxjTWF4Q2xvbmVzKCk7XHJcbiAgICB1cGRhdGVCdWlsZGluZ0xpc3QoKTtcclxuXHJcblxyXG4gICAgLy8gSWYgd2UgaGF2ZSBhIGNsb25lLCB0aGVuIHdlIGF0ZSBmaXNoXHJcbiAgICBzZXRBdGVGaXNoKHJlc291cmNlcy5jbG9uZXMubWF4ID49IDEpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2F0ZWZpc2gnLCBhdGVGaXNoKTtcclxuICAgIGlmIChnZXRBdGVGaXNoKCkpIHtcclxuICAgICAgICBjb25zdCBmaXNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlYXRGaXNoXCIpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBmaXNoQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgICAvLyBDaGFuZ2UgdGhlIG1lc3NhZ2UgdG8gdGhlIGxhdGVzdCBvbmVcclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUubWVzc2FnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBbZnVsbCBtZXNzYWdlLCBzcGFuLCB0b29sdGlwXVxyXG4gICAgICAgIHJlcXVpcmUoJy4vY2hhbmdlTWVzc2FnZScpLmNoYW5nZU1lc3NhZ2Uoc2F2ZWdhbWUubWVzc2FnZVswXSwgc2F2ZWdhbWUubWVzc2FnZVsxXSwgc2F2ZWdhbWUubWVzc2FnZVsyXSA/IHNhdmVnYW1lLm1lc3NhZ2VbMl0gOiBudWxsKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIENhbGN1bGF0ZSByZXNvdXJjZXMgZWFybmVkIHdoaWxlIGF3YXlcclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUudGltZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXF1aXJlKCcuL21haW4nKS5zZXRUb3RhbFRpbWUoc2F2ZWdhbWUudGltZVt0b3RhbF90aW1lXSk7XHJcbiAgICAgICAgY29uc3QgdGltZV9kaWZmZXJlbmNlID0gRGF0ZS5ub3coKSAtIHNhdmVnYW1lLnRpbWVbJ3RpbWVfb2Zfc2F2ZSddO1xyXG4gICAgICAgIGZvciAobGV0IHIgaW4gcmVzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluYyA9IGNhbGNJbmNyZWFzZShyLCB0aW1lX2RpZmZlcmVuY2UpO1xyXG4gICAgICAgICAgICByZXNvdXJjZXNbcl0udmFsdWUgKz0gaW5jO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyLCB0aW1lX2RpZmZlcmVuY2UsIGluYyk7XHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcl0udmFsdWUgPiByZXNvdXJjZXNbcl0ubWF4KSByZXNvdXJjZXNbcl0udmFsdWUgPSByZXNvdXJjZXNbcl0ubWF4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLmFsbFZpc2libGVCdXR0b25zICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHNhdmVnYW1lLmFsbFZpc2libGVCdXR0b25zKTtcclxuICAgICAgICBmb3IgKGxldCBhIGluIHNhdmVnYW1lLmFsbFZpc2libGVCdXR0b25zKSB7XHJcbiAgICAgICAgICAgIHNldFZpc2libGVCdXR0b24oYSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLmNvbm5lY3Rpb25zICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHNldENvbm5lY3Rpb25zKG5ldyBNYXAoc2F2ZWdhbWUuY29ubmVjdGlvbnMpKTtcclxuXHJcbiAgICAgICAgaWYgKGdldENvbm5lY3Rpb25zKCkuc2l6ZSA9PT0gMCkgc2V0Q29ubmVjdGlvbnMobmV3IE1hcCgpKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhnZXRDb25uZWN0aW9ucygpKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZm9yIChsZXQgam9iIGluIGpvYkNvdW50cykge1xyXG4gICAgICAgIGRpc3RyaWJ1dGVXb3JrZXJzKGpvYiwgam9iQ291bnRzW2pvYl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUVtb2ppRGlzcGxheSgpO1xyXG5cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLmZhY3RvcmllcyAhPT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHNhdmVnYW1lLmZhY3RvcmllcykpXHJcbiAgICAgICAgICAgIGlmICh2YWwgPiAwKVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWw7ICsraSlcclxuICAgICAgICAgICAgICAgICAgICBsb2FkRmFjdG9yeShrZXkpO1xyXG5cclxuXHJcblxyXG59XHJcblxyXG5cclxuLy8gc2F2ZSB0aGUgdGltZSB3aGVuIHRoZSBwbGF5ZXIgZXhpdHMgdGhlIGJyb3dzZXIgdGFiXHJcbi8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsICgpID0+IHNhdmVHYW1lKCkpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHNhdmVHYW1lLFxyXG4gICAgbG9hZEdhbWVcclxufTtcclxuXHJcbndpbmRvdy5zYXZlR2FtZSA9IHNhdmVHYW1lOyIsIi8qKlxyXG4gKiBTZWxlY3QgdGhlIHBlcmsgYnV0dG9uIHRoYXQgd2UndmUgY2hvc2VuIGFuZCBkaXNhYmxlIHRoZSBvdGhlcnNcclxuICogQHBhcmFtIHtzdHJpbmd9IGFiaWxpdHlOYW1lIE5hbWUgb2YgdGhlIGNob3NlbiBwZXJrXHJcbiAqL1xyXG5mdW5jdGlvbiBzZWxlY3RDb3JyZWN0UGVya0J1dHRvbihhYmlsaXR5TmFtZSkge1xyXG4gICAgLy8gRGlzYWJsZSBhbGwgYnV0dG9uc1xyXG4gICAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGllck9uZUJ1dHRvbicpO1xyXG4gICAgbGV0IHNlbGVjdGVkQnV0dG9uO1xyXG4gICAgdHJ5IHsgc2VsZWN0ZWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHthYmlsaXR5TmFtZX1QZXJrYCk7IH1cclxuICAgIGNhdGNoIChlcnJvcikgeyB9XHJcbiAgICBpZiAoc2VsZWN0ZWRCdXR0b24pIHtcclxuICAgICAgICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBFbmFibGUgYW5kIGhpZ2hsaWdodCB0aGUgc2VsZWN0ZWQgYnV0dG9uXHJcbiAgICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRCdXR0b24sIGFiaWxpdHlOYW1lKTtcclxuICAgICAgICBzZWxlY3RlZEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgc2VsZWN0ZWRCdXR0b24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdObyBidXR0b24gZm91bmQgd2l0aCBhYmlsaXR5IG5hbWU6ICcgKyBhYmlsaXR5TmFtZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5zZWxlY3RDb3JyZWN0UGVya0J1dHRvbiA9IHNlbGVjdENvcnJlY3RQZXJrQnV0dG9uOyIsImNvbnN0IHsgZHJhd0FsbENvbm5lY3Rpb25zIH0gPSByZXF1aXJlKCcuL2pvYnMnKTtcclxuY29uc3QgeyB1cGRhdGVTaWRlYmFyIH0gPSByZXF1aXJlKCcuL3NpZGViYXInKTtcclxuY29uc3QgeyByZWZyZXNoVmFsdWVzLCBjb21iYXQsIHBhdXNlQW5pbWF0aW9uLCBiYXR0bGVSZXN1bHQsIHNpbXVsYXRlQmF0dGxlIH0gPSByZXF1aXJlKCcuL2NvbWJhdCcpO1xyXG5jb25zdCB7IGdldFNmeFZvbHVtZSB9ID0gcmVxdWlyZSgnLi9hdWRpbycpO1xyXG5cclxuZnVuY3Rpb24gZ2V0Q3VycmVudFRhYigpIHtcclxuICAgIGxldCB0YWIgPSAnJztcclxuICAgIGZvciAobGV0IGNvbnRlbnQgb2YgdGFiQ29udGFpbmVycykge1xyXG4gICAgICAgIGlmIChjb250ZW50LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgdGFiID0gY29udGVudC5pZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGFiO1xyXG59XHJcbmV4cG9ydHMuZ2V0Q3VycmVudFRhYiA9IGdldEN1cnJlbnRUYWI7XHJcbi8vIFN3aXRjaCB0YWJzXHJcbmxldCB0YWJDb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YWItY29udGVudCA+IC5jb250ZW50XCIpOyAvLyBEaXJlY3QgY2hpbGRyZW4gb25seVxyXG5cclxuZnVuY3Rpb24gc2hvd1RhYih0YWJOYW1lKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInNob3cgdGFiOiBcIiArIHRhYk5hbWUpO1xyXG4gICAgLy8gR2V0IGFsbCBtYWluIGNvbnRhaW5lciBkaXZzIGFuZCBoaWRlIHRoZW1cclxuICAgIGxldCBwcmV2VGFiID0gZ2V0Q3VycmVudFRhYigpO1xyXG5cclxuICAgIGlmICh0YWJOYW1lID09PSBwcmV2VGFiKSByZXR1cm47XHJcblxyXG4gICAgbGV0IHRhYkF1ZGlvID0gbmV3IEF1ZGlvKCcuL2F1ZGlvL3RhYi53YXYnKTtcclxuICAgIHRhYkF1ZGlvLnZvbHVtZSA9IGdldFNmeFZvbHVtZSgpO1xyXG4gICAgdGFiQXVkaW8ucGxheSgpO1xyXG5cclxuXHJcbiAgICBsZXQgcHJldlRhYkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmV2VGFiKTtcclxuICAgIHByZXZUYWJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgcHJldlRhYkVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICAgIC8vIEdldCBhbGwgdGFiIGJ1dHRvbnMgYW5kIHJlbW92ZSB0aGUgYWN0aXZlIGNsYXNzXHJcbiAgICBsZXQgdGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiLWJ1dHRvblwiKTtcclxuICAgIGZvciAobGV0IHRhYiBvZiB0YWJzKSB7XHJcbiAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2hvdyB0aGUgY2xpY2tlZCB0YWIncyBtYWluIGNvbnRhaW5lciBkaXYgYW5kIG1ha2UgdGhlIHRhYiBidXR0b24gYWN0aXZlXHJcbiAgICBsZXQgYWN0aXZlQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYk5hbWUpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7IGFjdGl2ZUNvbnRlbnQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTsgfSwgMTAwKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGFjdGl2ZUNvbnRlbnQuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgIH0sIDIwMCk7XHJcblxyXG5cclxuICAgIC8vIEdldCB0aGUgY2xpY2tlZCB0YWIgYnV0dG9uIGFuZCBtYWtlIGl0IGFjdGl2ZVxyXG4gICAgY29uc3QgdGFiU3RyaW5nID0gYCMke3RhYk5hbWV9QnV0dG9uYDtcclxuICAgIGxldCBhY3RpdmVUYWJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhYlN0cmluZyk7XHJcblxyXG4gICAgaWYgKGFjdGl2ZVRhYkJ1dHRvbikgYWN0aXZlVGFiQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgaWYgKHRhYk5hbWUgPT09ICdqb2JzVGFiJylcclxuICAgICAgICBkcmF3QWxsQ29ubmVjdGlvbnMoKTtcclxuXHJcbiAgICBpZiAodGFiTmFtZSA9PT0gJ2NvbWJhdFRhYicpIHtcclxuICAgICAgICByZWZyZXNoVmFsdWVzKCk7XHJcbiAgICAgICAgLy8gaWYgKGdldEluQ29tYmF0KCkpIHtcclxuICAgICAgICAvLyAgICAgLy8gSWYgcmV0dXJuaW5nIHRvIHRoZSBjb21iYXRUYWIgYW5kIGNvbWJhdCB3YXMgaW4gcHJvZ3Jlc3MsIHJlc3VtZSBjb21iYXRcclxuICAgICAgICAvLyAgICAgY29tYmF0KCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIFdoZW4gcmV0dXJuaW5nIHRvIHRoZSBjb21iYXRUYWIsIHJlc29sdmUgdGhlIGJhdHRsZSBpZiBpdCBoYXNuJ3QgYmVlbiByZXNvbHZlZCB5ZXRcclxuICAgICAgICBpZiAoYmF0dGxlUmVzdWx0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHNpbXVsYXRlQmF0dGxlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25zb2xlLmxvZyhwcmV2VGFiLCAnPicsIHRhYk5hbWUpO1xyXG5cclxuICAgIHVwZGF0ZVNpZGViYXIoKTtcclxufVxyXG5leHBvcnRzLnNob3dUYWIgPSBzaG93VGFiO1xyXG4iLCJjb25zdCB7IGNhbGNJbmNyZWFzZSB9ID0gcmVxdWlyZShcIi4vY2FsY0luY3JlYXNlXCIpO1xyXG5jb25zdCB7IGNhcGl0YWxpemVGaXJzdCB9ID0gcmVxdWlyZSgnLi9jYXBpdGFsaXplRmlyc3QnKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZShcIi4vZ2V0TWF0ZXJpYWxcIik7XHJcbmNvbnN0IHsgZ2V0TWF4IH0gPSByZXF1aXJlKFwiLi9oZWxwZXJcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL3Jlc291cmNlc1wiKTtcclxuLy8gQHRzLWlnbm9yZVxyXG5jb25zdCB7IGlzUG9uZGVyZWQgfSA9IHJlcXVpcmUoJy4vcG9uZGVyJyk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlR3JvdXBWaXNpYmlsaXR5KGdyb3VwTmFtZSkge1xyXG4gICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZ3JvdXAtJHtncm91cE5hbWV9YCk7XHJcbiAgICBjb25zdCB0b2dnbGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdG9nZ2xlLSR7Z3JvdXBOYW1lfWApOyAvLyBFbnN1cmUgeW91IGhhdmUgdGhpcyBidXR0b24gd2l0aCB0aGUgaWQgJ3RvZ2dsZS1ncm91cE5hbWUnXHJcblxyXG4gICAgQXJyYXkuZnJvbShncm91cC5jaGlsZHJlbikuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnUCcpIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgZ3JvdXAgaXMgY3VycmVudGx5IGhpZGRlblxyXG4gICAgaWYgKHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2Fycm93LWRvd24nKSkge1xyXG4gICAgICAgIHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhcnJvdy1kb3duJyk7XHJcbiAgICAgICAgdG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Fycm93LXJpZ2h0Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhcnJvdy1yaWdodCcpO1xyXG4gICAgICAgIHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhcnJvdy1kb3duJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyBGdW5jdGlvbiB0byBjcmVhdGUgYSBncm91cCBjb250YWluZXJcclxuZnVuY3Rpb24gY3JlYXRlUmVzb3VyY2VHcm91cENvbnRhaW5lcihncm91cE5hbWUpIHtcclxuICAgIGNvbnN0IGdyb3VwQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBncm91cENvbnRhaW5lci5jbGFzc05hbWUgPSAncmVzb3VyY2VHcm91cCc7XHJcbiAgICBncm91cENvbnRhaW5lci5pZCA9IGBncm91cC0ke2dyb3VwTmFtZX1gO1xyXG5cclxuICAgIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgdG9nZ2xlQnV0dG9uLnRleHRDb250ZW50ID0gZ3JvdXBOYW1lLnRvVXBwZXJDYXNlKCk7XHJcbiAgICB0b2dnbGVCdXR0b24ub25jbGljayA9ICgpID0+IHRvZ2dsZUdyb3VwVmlzaWJpbGl0eShncm91cE5hbWUpO1xyXG4gICAgdG9nZ2xlQnV0dG9uLmNsYXNzTmFtZSA9ICd0b2dnbGUtYnV0dG9uIGFycm93LWRvd24nO1xyXG4gICAgdG9nZ2xlQnV0dG9uLmlkID0gYHRvZ2dsZS0ke2dyb3VwTmFtZX1gO1xyXG5cclxuICAgIGdyb3VwQ29udGFpbmVyLmFwcGVuZENoaWxkKHRvZ2dsZUJ1dHRvbik7XHJcbiAgICByZXR1cm4gZ3JvdXBDb250YWluZXI7XHJcbn1cclxuXHJcblxyXG5cclxuLy8gSXRlcmF0ZXMgb3ZlciBlYWNoIGdyb3VwIGFuZCByZXNvdXJjZSB0byBjcmVhdGUgdGFnc1xyXG5mdW5jdGlvbiBpbml0aWFsaXplUmVzb3VyY2VUYWdzKHdpdGhHcm91cHMpIHtcclxuICAgIC8vIGlmIChpc1BvbmRlcmVkKCdvcmdhbml6YXRpb24nKSkgd2l0aEdyb3VwcyA9IHRydWU7XHJcbiAgICBjb25zb2xlLmxvZyhcImluaXRpYWx6aW5nIHJlc291cmNlIHRhZ3NcIik7XHJcbiAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgICAvLyBEZWZpbmUgZ3JvdXBzIGZvciB5b3VyIHJlc291cmNlc1xyXG4gICAgY29uc3QgcmVzb3VyY2VHcm91cHMgPSB7XHJcbiAgICAgICAgc3BlY2lhbDogWydjbG9uZXMnLCAnaHVza3MnLCAncG9uZGVyJywgJ3Zpb2xlbmNlJ10sXHJcbiAgICAgICAgZm9vZDogWydiZXJyaWVzJywgJ2Zpc2gnLCAnZ2FtZScsICd3aGVhdCcsICdicmVhZCcsICdmcmVzaHdhdGVyJ10sXHJcbiAgICAgICAgbWF0ZXJpYWxzOiBbJ3N0aWNrcycsICd2aW5lcycsICdyb2NrcycsICd3b29kJywgJ3NhbmQnLCAnY2xheScsICdoaWRlcycsICdoZXJicyddLFxyXG4gICAgICAgIHRvb2xzOiBbJ3NoYXJwcm9ja3MnLCAncm9wZScsICdoYW5kbGUnLCAnZmlzaGluZ3JvZCcsICdwaWNrYXhlJywgJ2F4ZScsICdzcGVhcicsICdzdGFmZiddLFxyXG4gICAgICAgIGFkdmFuY2VkOiBbJ2dsYXNzJywgJ3BhcGVyJywgJ2NyYXRlcycsICdtZWRpY2luZScsICdsZWF0aGVyJ10sXHJcbiAgICAgICAgbWV0YWw6IFsnb3JlJywgJ2dvbGQnLCAnaXJvbicsICdzaWx2ZXInLCAnc3RlZWwnXSxcclxuICAgICAgICBjb25zdHJ1Y3Rpb246IFsnYnJpY2tzJywgJ2JlYW1zJywgJ25haWxzJywgJ3NsYWJzJywgJ2NvbmNyZXRlJ10sXHJcbiAgICAgICAgLy8gLi4uIEFkZCBvdGhlciBncm91cHMgYXMgbmVjZXNzYXJ5XHJcbiAgICB9O1xyXG4gICAgZm9yIChsZXQgW2dyb3VwTmFtZSwgZ3JvdXBPZlJlc291cmNlc10gb2YgT2JqZWN0LmVudHJpZXMocmVzb3VyY2VHcm91cHMpKSB7XHJcblxyXG4gICAgICAgIGdyb3VwT2ZSZXNvdXJjZXMuZm9yRWFjaChyZXNvdXJjZU5hbWUgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZU5hbWUsIGdyb3VwTmFtZSk7XHJcbiAgICAgICAgICAgIGxldCBwYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc291cmNlLScgKyByZXNvdXJjZU5hbWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF3aXRoR3JvdXBzKSBncm91cE5hbWUgPSBudWxsOyAvLyBTZXQgZ3JvdXAgdG8gcmVzb3VyY2VzXHJcblxyXG4gICAgICAgICAgICBpZiAoIXBhcmVudEVsZW1lbnQpIHBhcmVudEVsZW1lbnQgPSBjcmVhdGVSZXNvdXJjZVRhZyhyZXNvdXJjZU5hbWUsIGdyb3VwTmFtZSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBhcmVudEVsZW1lbnQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIGVsZW1lbnQgaWYgd2Ugc2hvdWxkLCBvdGhlcndpc2UgY3JlYXRlIGEgcmVzb3VyY2UgdGFnXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc291cmNlTmFtZSwgc2hvdWxkSGlkZShyZXNvdXJjZU5hbWUpLCBnZXRNYXRlcmlhbChyZXNvdXJjZU5hbWUpKTtcclxuICAgICAgICAgICAgaWYgKHNob3VsZEhpZGUocmVzb3VyY2VOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2hvdWxkSGlkZSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaG91bGRIaWRlKHJlc291cmNlTmFtZSkge1xyXG5cclxuICAgIHZhciBzaG91bGRIaWRlID0gdHJ1ZTtcclxuICAgIC8vIGZvciAobGV0IGMgaW4gcGFyZW50RWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZygnaGFzIHBhc3NlZCcsIHJlc291cmNlTmFtZSwgcGFzc2VkU3RhZ2UoYykpO1xyXG4gICAgLy8gICAgIGlmIChyZXF1aXJlKCcuL3N0YWdlcycpLnBhc3NlZFN0YWdlKGMpKSB7IHNob3VsZEhpZGUgPSBmYWxzZTsgY29uc29sZS5sb2coJ2RvbnQgaGlkZScsIHJlc291cmNlTmFtZSwgYyk7IH1cclxuICAgIC8vIH1cclxuXHJcbiAgICBpZiAoZ2V0TWF0ZXJpYWwocmVzb3VyY2VOYW1lKSA+IDApIHtcclxuICAgICAgICBzaG91bGRIaWRlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHJlc291cmNlc1tyZXNvdXJjZU5hbWVdKSByZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS5pc1Zpc2libGUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlc291cmNlc1tyZXNvdXJjZU5hbWVdICYmIHJlc291cmNlc1tyZXNvdXJjZU5hbWVdLmlzVmlzaWJsZSkgeyBzaG91bGRIaWRlID0gZmFsc2U7IH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnc2hvdWxkIGhpZGU/JywgcmVzb3VyY2VOYW1lLCBzaG91bGRIaWRlKTtcclxuICAgIHJldHVybiBzaG91bGRIaWRlO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gYWJicmV2aWF0ZU51bWJlcihudW0pIHtcclxuICAgIGlmICh0eXBlb2YgbnVtICE9PSAnbnVtYmVyJykgcmV0dXJuIG51bTtcclxuICAgIGZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSwgdW5pdCkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDEwKSByZXR1cm4gcm91bmRUb0RlY2ltYWxzKHZhbHVlLCAyKSArIHVuaXQ7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgMTAwKSByZXR1cm4gcm91bmRUb0RlY2ltYWxzKHZhbHVlLCAxKSArIHVuaXQ7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgMTAwMCkgcmV0dXJuIHJvdW5kVG9EZWNpbWFscyh2YWx1ZSwgMCkgKyB1bml0O1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlKSArIHVuaXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcm91bmRUb0RlY2ltYWxzKG51bWJlciwgZGVjaW1hbHMpIHtcclxuICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLnBvdygxMCwgZGVjaW1hbHMpO1xyXG4gICAgICAgIHJldHVybiAoTWF0aC5yb3VuZChudW1iZXIgKiBmYWN0b3IpIC8gZmFjdG9yKS50b0ZpeGVkKGRlY2ltYWxzKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobnVtIDwgMWUzKSByZXR1cm4gcm91bmRUb0RlY2ltYWxzKG51bSwgMSk7IC8vIElmIGxlc3MgdGhhbiAxLDAwMFxyXG4gICAgaWYgKG51bSA8IDFlNikgcmV0dXJuIGZvcm1hdChudW0gLyAxZTMsICdLJyk7IC8vIFRob3VzYW5kc1xyXG4gICAgaWYgKG51bSA8IDFlOSkgcmV0dXJuIGZvcm1hdChudW0gLyAxZTYsICdNJyk7IC8vIE1pbGxpb25zXHJcbiAgICBpZiAobnVtIDwgMWUxMikgcmV0dXJuIGZvcm1hdChudW0gLyAxZTksICdCJyk7IC8vIEJpbGxpb25zXHJcbiAgICAvLyBBZGQgbW9yZSBjYXNlcyBmb3IgbGFyZ2VyIG51bWJlcnMgaWYgbmVlZGVkXHJcblxyXG4gICAgaWYgKG51bSA9PT0gSW5maW5pdHkpIG51bSA9ICfiiJ4nO1xyXG4gICAgcmV0dXJuIG51bS50b1N0cmluZygpO1xyXG59XHJcblxyXG4vKipcclxuICogVXBkYXRlcyB0aGUgcmVzb3VyY2UgY291bnQgYW5kIG1heGVzIG9mIGFsbCByZXNvdXJjZXNcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVTaWRlYmFyKCkge1xyXG4gICAgY29uc3QgYWxsTWF0ZXJpYWxzID0gcmVxdWlyZSgnLi9mYWN0b3J5JykuYWxsTWF0ZXJpYWxzO1xyXG4gICAgQXJyYXkuZnJvbShhbGxNYXRlcmlhbHMpLmZvckVhY2gociA9PiB7IGlmIChyZXNvdXJjZXNbcl0pIHVwZGF0ZURpc3BsYXlWYWx1ZShyKTsgfSk7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgZm9yIChjb25zdCBbaW5kZXgsIHJlc291cmNlTmFtZV0gb2YgT2JqZWN0LmVudHJpZXMoYWxsTWF0ZXJpYWxzKSkge1xyXG4gICAgICAgIGlmIChyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSkgY29udGludWU7XHJcbiAgICAgICAgY29uc3QgcGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZS0nICsgcmVzb3VyY2VOYW1lKTtcclxuICAgICAgICBpZiAoIXBhcmVudEVsZW1lbnQpIHsgY29uc29sZS53YXJuKCdubyBwYXJlbnQgZWxlbWVudCBmb3VuZCBmb3InLCByZXNvdXJjZU5hbWUpOyByZXR1cm47IH1cclxuXHJcbiAgICAgICAgaWYgKHNob3VsZEhpZGUocmVzb3VyY2VOYW1lKSkge1xyXG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRpc3BsYXlFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocmVzb3VyY2VOYW1lICsgJ1ZhbHVlJyk7XHJcbiAgICAgICAgaWYgKGRpc3BsYXlFbGVtKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFiYnJldmlhdGVOdW1iZXIocmVzb3VyY2VEYXRhKSk7XHJcbiAgICAgICAgICAgIHZhciBjb2xvciA9ICcjZmZmJztcclxuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gZ2V0TWF0ZXJpYWwocmVzb3VyY2VOYW1lKTtcclxuICAgICAgICAgICAgY29uc3QgbWF4ID0gZ2V0TWF4KHJlc291cmNlTmFtZSk7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBpZiAoYW1vdW50ID09PSBtYXgpIGNvbG9yID0gJyNmY2MnO1xyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgZWxzZSBpZiAoYW1vdW50IC8gbWF4ID4gLjYpIGNvbG9yID0gJyNlZWInO1xyXG5cclxuICAgICAgICAgICAgZGlzcGxheUVsZW0uaW5uZXJIVE1MID0gYDxzcGFuIHN0eWxlPVwiY29sb3I6JHtjb2xvcn1cIj4ke2FiYnJldmlhdGVOdW1iZXIoYW1vdW50KX0gLyAke2FiYnJldmlhdGVOdW1iZXIobWF4KX0gPC9zcGFuPmA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbi8vIENyZWF0ZSBhbGwgb3VyIHJlc291cmNlIHRhZ3MgaW4gdGhlIHNpZGViYXJcclxuY29uc3QgcmVzb3VyY2VzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc291cmNlcycpO1xyXG5mdW5jdGlvbiBjcmVhdGVSZXNvdXJjZVRhZyhyZXNvdXJjZU5hbWUsIGdyb3VwTmFtZSkge1xyXG4gICAgLy8gaWYgKCFyZXNvdXJjZXMuaGFzT3duUHJvcGVydHkocmVzb3VyY2VOYW1lKSkgdGhyb3cgXCJJbnZhbGlkIHJlc291cmNlOiBcIiArIHJlc291cmNlTmFtZTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgcmVzb3VyY2UgdGFnIGZvciBcIiwgcmVzb3VyY2VOYW1lLCBncm91cE5hbWUpO1xyXG4gICAgbGV0IGdyb3VwQ29udGFpbmVyO1xyXG4gICAgaWYgKGdyb3VwTmFtZSkge1xyXG4gICAgICAgIGdyb3VwQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGdyb3VwLSR7Z3JvdXBOYW1lfWApO1xyXG4gICAgICAgIGlmICghZ3JvdXBDb250YWluZXIpIHtcclxuICAgICAgICAgICAgZ3JvdXBDb250YWluZXIgPSBjcmVhdGVSZXNvdXJjZUdyb3VwQ29udGFpbmVyKGdyb3VwTmFtZSk7XHJcbiAgICAgICAgICAgIHJlc291cmNlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChncm91cENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdhcHBlbmRpbmcnLCBncm91cENvbnRhaW5lciwgcmVzb3VyY2VzQ29udGFpbmVyLCByZXNvdXJjZXNDb250YWluZXIuY2hpbGRFbGVtZW50Q291bnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGdyb3VwQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc291cmNlcycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKGdyb3VwQ29udGFpbmVyKTtcclxuXHJcbiAgICBjb25zdCByZXNvdXJjZURpc3BsYXlOYW1lID0gY2FwaXRhbGl6ZUZpcnN0KHJlc291cmNlTmFtZSkuc3BsaXQoJ18nKS5qb2luKCcgJyk7XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgcmVzb3VyY2VFbGVtZW50LmNsYXNzTmFtZSA9IGByZXNvdXJjZWA7XHJcbiAgICByZXNvdXJjZUVsZW1lbnQuaWQgPSBgcmVzb3VyY2UtJHtyZXNvdXJjZU5hbWV9YDtcclxuXHJcbiAgICBjb25zdCByZXNvdXJjZU5hbWVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgcmVzb3VyY2VOYW1lU3Bhbi5jbGFzc05hbWUgPSAncmVzb3VyY2VOYW1lJztcclxuICAgIHJlc291cmNlTmFtZVNwYW4udGV4dENvbnRlbnQgPSBgJHtyZXNvdXJjZURpc3BsYXlOYW1lfTpgO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlVmFsdWVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgcmVzb3VyY2VWYWx1ZVNwYW4uY2xhc3NOYW1lID0gJ3Jlc291cmNlVmFsdWUnO1xyXG4gICAgcmVzb3VyY2VWYWx1ZVNwYW4uaWQgPSBgJHtyZXNvdXJjZU5hbWV9VmFsdWVgO1xyXG4gICAgbGV0IG1heCA9IChnZXRNYXgocmVzb3VyY2VOYW1lKSAmJiBnZXRNYXgocmVzb3VyY2VOYW1lKSA8IEluZmluaXR5KSA/IGdldE1heChyZXNvdXJjZU5hbWUpLnRvRml4ZWQoMikgOiAn4oieJztcclxuXHJcbiAgICByZXNvdXJjZVZhbHVlU3Bhbi50ZXh0Q29udGVudCA9IGAke2dldE1hdGVyaWFsKHJlc291cmNlTmFtZSkudG9GaXhlZCgyKX0gLyAke21heH1gO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlUmF0ZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICByZXNvdXJjZVJhdGVTcGFuLmNsYXNzTmFtZSA9ICdyZXNvdXJjZVJhdGUnO1xyXG4gICAgcmVzb3VyY2VSYXRlU3Bhbi5pbm5lckhUTUwgPSBgKCtcclxuICAgICAgICAgICAgPHNwYW4gaWQ9XCIke3Jlc291cmNlTmFtZX1JbmNyZWFzZVJhdGVcIj4wPC9zcGFuPi9zKWA7XHJcblxyXG4gICAgcmVzb3VyY2VFbGVtZW50LmFwcGVuZENoaWxkKHJlc291cmNlTmFtZVNwYW4pO1xyXG4gICAgcmVzb3VyY2VFbGVtZW50LmFwcGVuZENoaWxkKHJlc291cmNlVmFsdWVTcGFuKTtcclxuICAgIHJlc291cmNlRWxlbWVudC5hcHBlbmRDaGlsZChyZXNvdXJjZVJhdGVTcGFuKTtcclxuXHJcbiAgICBncm91cENvbnRhaW5lci5hcHBlbmRDaGlsZChyZXNvdXJjZUVsZW1lbnQpO1xyXG5cclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIG9yZGVyaW5nXHJcblxyXG4gICAgLy8gRnVuY3Rpb24gdG8gY2hhbmdlIHRoZSBvcmRlciBvZiBhIHJlc291cmNlXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VSZXNvdXJjZU9yZGVyKHJlc291cmNlSWQsIG5ld09yZGVyKSB7XHJcbiAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZXNvdXJjZUlkKTtcclxuICAgICAgICBpZiAocmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgcmVzb3VyY2Uuc3R5bGUub3JkZXIgPSBuZXdPcmRlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1jbG9uZXNcIiwgMSk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utc3RpY2tzXCIsIDIpOyAvLyBNb3ZlIFwiU3RpY2tzXCIgdG8gb3JkZXIgMlxyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXZpbmVzXCIsIDMpOyAvLyBNb3ZlIFwiVmluZXNcIiB0byBvcmRlciAzXHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utcm9ja3NcIiwgNCk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtZmlzaFwiLCA1KTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1mcmVzaHdhdGVyXCIsIDYpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXdvb2RcIiwgNyk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utb3JlXCIsIDgpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXNhbmRcIiwgOSk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtY2xheVwiLCAxMCk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utd2hlYXRcIiwgMTEpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLWhpZGVzXCIsIDEyKTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1nYW1lXCIsIDEzKTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1oZXJic1wiLCAxNCk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtYmVycmllc1wiLCAxNSk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtcG9uZGVyXCIsIDUwKTtcclxuXHJcbiAgICByZXR1cm4gcmVzb3VyY2VFbGVtZW50O1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICB1cGRhdGVTaWRlYmFyLFxyXG4gICAgaW5pdGlhbGl6ZVJlc291cmNlVGFncyxcclxuICAgIHVwZGF0ZURpc3BsYXlWYWx1ZSxcclxuICAgIGFiYnJldmlhdGVOdW1iZXJcclxufTtcclxuLyoqXHJcbiAqIFVwZGF0ZXMgdGhlIGRpc3BsYXkgdmFsdWUgb2Ygb25lIHJlc291cmNlLCBhIHNwZWNpZmljIHVwZGF0ZVNpZGViYXIoKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF0ZXJpYWxcclxuICovXHJcbmZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlWYWx1ZShtYXRlcmlhbCkge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IHJlc291cmNlc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGAjJHttYXRlcmlhbH1WYWx1ZWApO1xyXG4gICAgY29uc3QgZWxlbWVudEluY3JlYXNlID0gcmVzb3VyY2VzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYCMke21hdGVyaWFsfUluY3JlYXNlUmF0ZWApO1xyXG4gICAgLy8gY29uc3QgY3JhZnRlZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGJ1dHRvbiNjcmFmdCR7Y2FwaXRhbGl6ZUZpcnN0KG1hdGVyaWFsKX1gKTtcclxuICAgIC8vIHRyeSB7IGlmICghZWxlbWVudCkgY3JlYXRlUmVzb3VyY2VUYWcobWF0ZXJpYWwpOyB9XHJcbiAgICAvLyBjYXRjaCAoZXJyb3IpIHsgfVxyXG4gICAgLy8gY29uc29sZS5sb2cobWF0ZXJpYWwsIGVsZW1lbnQsIGNyYWZ0ZWRCdXR0b24pO1xyXG4gICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBsZXQgbWF4ID0gKGdldE1heChtYXRlcmlhbCkgJiYgZ2V0TWF4KG1hdGVyaWFsKSA8IEluZmluaXR5KSA/IGdldE1heChtYXRlcmlhbCkudG9GaXhlZCgxKSA6ICfiiJ4nO1xyXG4gICAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gYCR7YWJicmV2aWF0ZU51bWJlcihnZXRNYXRlcmlhbChtYXRlcmlhbCkpfSAvICR7YWJicmV2aWF0ZU51bWJlcihnZXRNYXgobWF0ZXJpYWwpKX1gO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRJbmNyZWFzZSkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudEluY3JlYXNlLnRleHRDb250ZW50ID0gY2FsY0luY3JlYXNlKG1hdGVyaWFsLCAxMDAwKS50b0ZpeGVkKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG1hdGVyaWFsLCBzaG91bGRIaWRlKG1hdGVyaWFsKSwgZ2V0TWF0ZXJpYWwobWF0ZXJpYWwpKTtcclxuICAgICAgICAgICAgaWYgKHNob3VsZEhpZGUobWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVsZW1lbnQsIG1hdGVyaWFsLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVzb3VyY2VzW21hdGVyaWFsXSkge1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzW21hdGVyaWFsXS5pc0dldHRpbmcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpZGViYXJUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyZXNvdXJjZXNcIikucXVlcnlTZWxlY3RvcignI3Jlc291cmNlLScgKyBtYXRlcmlhbCk7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBpZiAoc2lkZWJhclRleHQpIHNpZGViYXJUZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGlmIChjcmFmdGVkQnV0dG9uKSB7XHJcbiAgICAvLyAgICAgY29uc3QgY291bnRTcGFuID0gY3JhZnRlZEJ1dHRvbi5xdWVyeVNlbGVjdG9yKGAjJHttYXRlcmlhbH1WYWx1ZWApO1xyXG4gICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKCdjcmFmdGVkIGJ1dHRvbiB3YXMgZm91bmQnLCBjb3VudFNwYW4sIG1hdGVyaWFsLCBnZXRDcmFmdGVkUmVzb3VyY2UobWF0ZXJpYWwpKTtcclxuICAgIC8vICAgICBpZiAoY291bnRTcGFuKSBjb3VudFNwYW4udGV4dENvbnRlbnQgPSBnZXRDcmFmdGVkUmVzb3VyY2UobWF0ZXJpYWwpLnRvRml4ZWQoMCk7XHJcbiAgICAvLyAgICAgZWxzZSBjb25zb2xlLndhcm4oYFJlc291cmNlIGJ1dHRvbiBmb3VuZCBidXQgbm8gY291bnQgc3BhbiBmb3I6ICR7bWF0ZXJpYWx9YCk7XHJcbiAgICAvLyB9XHJcbn1cclxuIiwiY29uc3QgeyBza2lsbHMgfSA9IHJlcXVpcmUoJy4vanNvbi9za2lsbHMnKTtcclxuY29uc3QgeyB0cmlnZ2VyRmxvYXRVcFRleHQgfSA9IHJlcXVpcmUoJy4vdHJpZ2dlckZsb2F0VXBUZXh0Jyk7XHJcblxyXG5mdW5jdGlvbiBpbnZlcnRTa2lsbHNUb1Jlc291cmNlcyhza2lsbHMpIHtcclxuICAgIGxldCByZXNvdXJjZVRvU2tpbGxNYXAgPSB7fTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtza2lsbCwgZGF0YV0gb2YgT2JqZWN0LmVudHJpZXMoc2tpbGxzKSkge1xyXG4gICAgICAgIGZvciAoY29uc3QgcmVzb3VyY2Ugb2YgZGF0YS5hZmZlY3RlZFJlc291cmNlcykge1xyXG4gICAgICAgICAgICBpZiAoIXJlc291cmNlVG9Ta2lsbE1hcFtyZXNvdXJjZV0pIHtcclxuICAgICAgICAgICAgICAgIHJlc291cmNlVG9Ta2lsbE1hcFtyZXNvdXJjZV0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNvdXJjZVRvU2tpbGxNYXBbcmVzb3VyY2VdLnB1c2goc2tpbGwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzb3VyY2VUb1NraWxsTWFwO1xyXG59XHJcbmNvbnN0IHJlc291cmNlVG9Ta2lsbE1hcCA9IGludmVydFNraWxsc1RvUmVzb3VyY2VzKHNraWxscyk7XHJcbmNvbnNvbGUubG9nKHJlc291cmNlVG9Ta2lsbE1hcCk7XHJcbi8qKlxyXG4gKiBVcGRhdGUgdGhlIHJlbGV2YW50IHNraWxsIG9mIGEgcmVzb3VyY2UgaW5jcmVhc2VkIGJ5IG51bVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzb3VyY2UgV2hpY2ggcmVzb3VyY2Ugd2FzIHVwZGF0ZWRcclxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBIb3cgbXVjaCB0aGUgcmVzb3VyY2UgaW5jcmVhc2VkXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVTa2lsbHMocmVzb3VyY2UsIG51bSkge1xyXG4gICAgbnVtID0gTWF0aC5hYnMobnVtKTtcclxuICAgIGlmIChyZXF1aXJlKCcuL3BvbmRlcicpLmlzUG9uZGVyZWQoJ2Zhc3RlclNraWxscycpKSBudW0gKj0gMS4wNTtcclxuXHJcbiAgICBpZiAoIXJlc291cmNlVG9Ta2lsbE1hcFtyZXNvdXJjZV0pIHJldHVybjtcclxuICAgIGNvbnN0IHNraWxsID0gcmVzb3VyY2VUb1NraWxsTWFwW3Jlc291cmNlXVswXS50b1N0cmluZygpO1xyXG4gICAgLy8gbWF4IGxldmVsIDEwMFxyXG4gICAgaWYgKHNraWxsc1tza2lsbF0ubGV2ZWwgPj0gMTAwKSB7XHJcbiAgICAgICAgc2tpbGxzW3NraWxsXS5sZXZlbCA9IDEwMDtcclxuICAgICAgICBza2lsbHNbc2tpbGxdLmV4cCA9IDA7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gXHJcbiAgICBza2lsbHNbc2tpbGxdLmV4cCArPSBudW0gLyBNYXRoLnBvdygxLjQsIHNraWxsc1tza2lsbF0ubGV2ZWwpO1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJVcGRhdGluZyBza2lsbDpcIiArIHNraWxsICsgXCIgdG8gXCIgKyBza2lsbHNbc2tpbGxdLmV4cClcclxuICAgIGlmIChza2lsbHNbc2tpbGxdLmV4cCA+PSAxMDApIHtcclxuXHJcbiAgICAgICAgc2tpbGxzW3NraWxsXS5sZXZlbCArPSAxO1xyXG4gICAgICAgIHNraWxsc1tza2lsbF0uZXhwID0gMDtcclxuXHJcbiAgICAgICAgLy8gTGV2ZWx1cCBwb3B1cFxyXG4gICAgICAgIGxldCBsZXZlbHVwID0gYExldmVsIHVwISAke3NraWxsfSDihpIgJHtza2lsbHNbc2tpbGxdLmxldmVsfWA7XHJcbiAgICAgICAgY29uc3QgcmVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVzdGlnZScpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHRyaWdnZXJGbG9hdFVwVGV4dChyZWN0LngsIHJlY3QueSwgbGV2ZWx1cCwgJyNGNEQwM0YnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBza2lsbHMgdGFibGUgdmlzdWFsaXphdGlvblxyXG4gICAgaWYgKHJlcXVpcmUoJy4vc3RhZ2VzJykucGFzc2VkU3RhZ2UoJ3NraWxsc1RhYmxlJykpIHtcclxuICAgICAgICBwb3B1bGF0ZVNraWxsc1RhYmxlKCk7XHJcbiAgICB9XHJcbn1cclxubGV0IGhhc0dlbmVyYXRlZFNraWxsVGFibGUgPSBmYWxzZTtcclxuLyoqXHJcbiAqIERyYXcgdGhlIHNraWxscyB0YWJsZSBhbmQgaW5pdGlhbGl6ZSBpZiBuZWVkZWRcclxuICovXHJcbmZ1bmN0aW9uIHBvcHVsYXRlU2tpbGxzVGFibGUoKSB7XHJcbiAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdza2lsbHNUYWJsZScpO1xyXG5cclxuICAgIC8vIElmIHRoZSB0YWJsZSBpcyBlbXB0eSwgY3JlYXRlIHRoZSByb3dzIGFuZCBwcm9ncmVzcyBiYXJzXHJcbiAgICBpZiAoIWhhc0dlbmVyYXRlZFNraWxsVGFibGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkdlbmVyYXRpbmcgdGFibGUgZm9yIHRoZSBmaXJzdCB0aW1lXCIpO1xyXG4gICAgICAgIGhhc0dlbmVyYXRlZFNraWxsVGFibGUgPSB0cnVlO1xyXG4gICAgICAgIC8vIFxyXG4gICAgICAgIGZvciAobGV0IHNraWxsIGluIHNraWxscykge1xyXG4gICAgICAgICAgICBsZXQgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgICAgICAgICB0ci5pZCA9ICd0ci0nICsgc2tpbGw7XHJcbiAgICAgICAgICAgIGxldCB0ZFByb2dyZXNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgdGRQcm9ncmVzcy5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcblxyXG4gICAgICAgICAgICBsZXQgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdwcm9ncmVzc0JhcicpO1xyXG4gICAgICAgICAgICAvLyBpZiAoaXNEYXJrKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBwcm9ncmVzc0Jhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzIyOEIyMic7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgLy8gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICAgICBwcm9ncmVzc0Jhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzUwQzg3OCc7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUuaGVpZ2h0ID0gJzIwcHgnO1xyXG4gICAgICAgICAgICBwcm9ncmVzc0Jhci5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2tpbGwnLCBza2lsbCk7IC8vIEFzc2lnbiBhIGRhdGEgYXR0cmlidXRlIGZvciBpZGVudGlmaWNhdGlvblxyXG5cclxuICAgICAgICAgICAgbGV0IHNraWxsVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBza2lsbFRleHQudGV4dENvbnRlbnQgPSAnW2xldmVsICcgKyBza2lsbHNbc2tpbGxdLmxldmVsICsgJ10gICAnICsgc2tpbGw7XHJcbiAgICAgICAgICAgIHNraWxsVGV4dC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2xldmVsLScgKyBza2lsbCk7XHJcbiAgICAgICAgICAgIHNraWxsVGV4dC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgIHNraWxsVGV4dC5zdHlsZS5sZWZ0ID0gJzEwcHgnO1xyXG4gICAgICAgICAgICBza2lsbFRleHQuc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgICAgICAgIHNraWxsVGV4dC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtNTAlKSc7XHJcblxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uZXhwID09IDAgJiYgc2tpbGxzW3NraWxsXS5sZXZlbCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0ci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRkUHJvZ3Jlc3MuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NCYXIpO1xyXG4gICAgICAgICAgICB0ZFByb2dyZXNzLmFwcGVuZENoaWxkKHNraWxsVGV4dCk7XHJcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkUHJvZ3Jlc3MpO1xyXG5cclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRyKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIERpc3BsYXkgZXZlcnl0aGluZyB3ZSBjYW5cclxuICAgICAgICBmb3IgKGxldCBza2lsbCBpbiBza2lsbHMpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmV4cCA+IDAgfHwgc2tpbGxzW3NraWxsXS5sZXZlbCA+IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RyLScgKyBza2lsbCkuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBwcm9ncmVzc0JhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wcm9ncmVzc0JhcltkYXRhLXNraWxsPVwiJHtza2lsbH1cIl1gKTtcclxuICAgICAgICAgICAgaWYgKHByb2dyZXNzQmFyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gc2tpbGxzW3NraWxsXS5leHAgKyAnJSc7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2tpbGxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsZXZlbC1cIiArIHNraWxsKTtcclxuICAgICAgICAgICAgICAgIHNraWxsTmFtZS50ZXh0Q29udGVudCA9ICdbbGV2ZWwgJyArIHNraWxsc1tza2lsbF0ubGV2ZWwgKyAnXSAgICcgKyBza2lsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgdXBkYXRlU2tpbGxzLFxyXG4gICAgcG9wdWxhdGVTa2lsbHNUYWJsZVxyXG5cclxufTsiLCJsZXQgc3RhZ2VzID0gW107XHJcbmZ1bmN0aW9uIHNldFN0YWdlKHN0YWdlKSB7XHJcbiAgICBzdGFnZXMucHVzaChzdGFnZSk7XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdGFnZSBTdGFnZSB0byBjaGVja1xyXG4gKiBAcmV0dXJucyBib29sZWFuIGlmIHN0YWdlIGluIHN0YWdlc1xyXG4gKi9cclxuZnVuY3Rpb24gcGFzc2VkU3RhZ2Uoc3RhZ2UpIHtcclxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHN0YWdlcykuaW5jbHVkZXMoc3RhZ2UpO1xyXG59XHJcbmZ1bmN0aW9uIGdldEFsbFN0YWdlcygpIHtcclxuICAgIHJldHVybiBzdGFnZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0U3RhZ2VzKCkge1xyXG4gICAgd2hpbGUgKHN0YWdlcy5sZW5ndGggPiAwKVxyXG4gICAgICAgIHN0YWdlcy5wb3AoKTtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHNldFN0YWdlLFxyXG4gICAgcGFzc2VkU3RhZ2UsXHJcbiAgICBnZXRBbGxTdGFnZXMsXHJcbiAgICByZXNldFN0YWdlc1xyXG59OyIsIi8qIFRPT0xTICovXHJcblxyXG5cclxuLy8gTGlzdCB0byBob2xkIHRoZSB0b29sc1xyXG5sZXQgcGxheWVyVG9vbHMgPSBbJ0JhcmUgSGFuZHMnXTtcclxuXHJcblxyXG4vKipcclxuICogRnVuY3Rpb24gdG8gY2hlY2sgaWYgYSB0b29sIGlzIHByZXNlbnQgaW4gdGhlIGxpc3QgXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b29sIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmZ1bmN0aW9uIGhhc1Rvb2wodG9vbCkge1xyXG4gICAgcmV0dXJuIHBsYXllclRvb2xzLmluY2x1ZGVzKHRvb2wpO1xyXG59XHJcblxyXG4vLyBGdW5jdGlvbiB0byBhZGQgYSB0b29sIGlmIGl0J3Mgbm90IGFscmVhZHkgcHJlc2VudFxyXG5mdW5jdGlvbiBhZGRUb29sKHRvb2wpIHtcclxuICAgIC8vIElnbm9yZSB0b29scyB0aGF0IGFyZSBqdXN0IG51bWJlcnNcclxuICAgIGlmICghaXNOYU4odG9vbCkgJiYgLy8gdXNlIHR5cGUgY29lcmNpb24gdG8gcGFyc2UgdGhlIF9lbnRpcmV0eV8gb2YgdGhlIHN0cmluZyAoYHBhcnNlRmxvYXRgIGFsb25lIGRvZXMgbm90IGRvIHRoaXMpLi4uXHJcbiAgICAgICAgIWlzTmFOKHBhcnNlRmxvYXQodG9vbCkpKSAvLyAuLi5hbmQgZW5zdXJlIHN0cmluZ3Mgb2Ygd2hpdGVzcGFjZSBmYWlsXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCFoYXNUb29sKHRvb2wpKSB7XHJcbiAgICAgICAgcGxheWVyVG9vbHMucHVzaCh0b29sKTtcclxuXHJcbiAgICAgICAgdXBkYXRlVG9vbFVJKHRvb2wpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbGxUb29scygpIHtcclxuICAgIHJldHVybiBwbGF5ZXJUb29scztcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVG9vbFVJKHRvb2wpIHtcclxuICAgIC8vIFVwZGF0ZSB0aGUgVUlcclxuICAgIHZhciB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9vbHMtbGlzdFwiKTtcclxuICAgIHZhciBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAgIGxpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRvb2wpKTtcclxuICAgIGlmICh1bCkgdWwuYXBwZW5kQ2hpbGQobGkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUb29sVmFsdWVGb3JSZXNvdXJjZShyZXNvdXJjZSkge1xyXG4gICAgaWYgKCFyZXNvdXJjZSkgcmV0dXJuIDE7XHJcbiAgICBpZiAoIXJlc291cmNlLnRvb2xzKSByZXR1cm4gMTtcclxuXHJcbiAgICAvLyBTb3J0IHRoZSB0b29scyBpbiBkZXNjZW5kaW5nIG9yZGVyIGJhc2VkIG9uIHRoZWlyIHZhbFxyXG4gICAgY29uc3Qgc29ydGVkVG9vbHMgPSByZXNvdXJjZS50b29scy5zb3J0KChhLCBiKSA9PiBiLnZhbCAtIGEudmFsKTtcclxuXHJcbiAgICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIHNvcnRlZCB0b29sc1xyXG4gICAgZm9yIChsZXQgdG9vbCBvZiBzb3J0ZWRUb29scykge1xyXG4gICAgICAgIGlmIChoYXNUb29sKHRvb2wudG9vbCkpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIHBsYXllciBoYXMgdGhlIHRvb2wsIHJldHVybiBpdHMgYXNzb2NpYXRlZCB2YWx1ZVxyXG4gICAgICAgICAgICByZXR1cm4gdG9vbC52YWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBJZiBub25lIG9mIHRoZSB0b29scyBhcmUgZm91bmQsIHJldHVybiB0aGUgZGVmYXVsdCB2YWx1ZVxyXG4gICAgcmV0dXJuIDE7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgaGFzVG9vbCxcclxuICAgIGFkZFRvb2wsXHJcbiAgICBnZXRBbGxUb29scyxcclxuICAgIGdldFRvb2xWYWx1ZUZvclJlc291cmNlXHJcbn07IiwiY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5cclxuXHJcbmNvbnN0IHJlc291cmNlTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZUxpc3QnKTtcclxuY29uc3QgZ29sZEFtb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvbGRBbW91bnQnKTtcclxuLy8gbGV0IGdvbGRBbW91bnQgPSAxMDAwOyAvLyBTYW1wbGUgc3RhcnRpbmcgYW1vdW50XHJcbi8vIGNvbnN0IHRyYWRlQm9udXMgPSAwLjk7IC8vIDEwJSBkaXNjb3VudFxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVUcmFkZVRhYmxlKHJlc291cmNlcykge1xyXG4gICAgZm9yIChsZXQgcmVzb3VyY2UgaW4gcmVzb3VyY2VzKSB7XHJcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgICBjb25zdCBwcmljZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkgKyAxMDsgLy8gUmFuZG9tIHByaWNlIGJldHdlZW4gMTAgYW5kIDExMCBmb3IgdGhpcyBleGFtcGxlLlxyXG5cclxuICAgICAgICByb3cuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJ0cmFkZXRkXCI+JHtyZXNvdXJjZX08L3RkPlxyXG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJ0cmFkZXRkXCI+JHtwcmljZX08L3RkPlxyXG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJ0cmFkZXRkXCIgc3R5bGU9XCJkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOnJvdztcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidXlCdG5cIiBkYXRhLXJlc291cmNlPVwiJHtyZXNvdXJjZX1cIiBkYXRhLXByaWNlPVwiJHtwcmljZX1cIj5CdXk8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzZWxsQnRuXCIgZGF0YS1yZXNvdXJjZT1cIiR7cmVzb3VyY2V9XCIgZGF0YS1wcmljZT1cIiR7cHJpY2V9XCI+U2VsbDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIHJlc291cmNlTGlzdC5hcHBlbmRDaGlsZChyb3cpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBidXkgYW5kIHNlbGwgYnV0dG9uc1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ1eUJ0bicpLmZvckVhY2goYnRuID0+IHtcclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJlc291cmNlJyk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc3QgcHJpY2UgPSBwYXJzZUZsb2F0KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wcmljZScpKTtcclxuICAgICAgICAgICAgYnV5UmVzb3VyY2UocmVzb3VyY2UsIHByaWNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGxCdG4nKS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yZXNvdXJjZScpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGNvbnN0IHByaWNlID0gcGFyc2VGbG9hdChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJpY2UnKSk7XHJcbiAgICAgICAgICAgIHNlbGxSZXNvdXJjZShyZXNvdXJjZSwgcHJpY2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU2ltaWxhcmx5LCB5b3UgY2FuIGFkZCBldmVudCBsaXN0ZW5lcnMgZm9yIHNlbGwgYnV0dG9ucyBoZXJlXHJcbn1cclxuXHJcbmV4cG9ydHMuZ2VuZXJhdGVUcmFkZVRhYmxlID0gZ2VuZXJhdGVUcmFkZVRhYmxlO1xyXG5cclxuZXhwb3J0cy5idXlSZXNvdXJjZSA9IGJ1eVJlc291cmNlO1xyXG5leHBvcnRzLnNlbGxSZXNvdXJjZSA9IHNlbGxSZXNvdXJjZTtcclxuXHJcbmZ1bmN0aW9uIGJ1eVJlc291cmNlKHJlc291cmNlLCBwcmljZSkge1xyXG5cclxuICAgIGlmIChnZXRNYXRlcmlhbCgnZ29sZCcsIHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKS5yZXNvdXJjZXMpID49IHByaWNlKSB7XHJcbiAgICAgICAgcmVxdWlyZSgnLi9yZXNvdXJjZXMnKS5pbmNyZWFzZU1hdGVyaWFsKCdnb2xkJywgLXByaWNlKTtcclxuICAgICAgICByZXF1aXJlKCcuL3Jlc291cmNlcycpLmluY3JlYXNlTWF0ZXJpYWwocmVzb3VyY2UsIHByaWNlKTtcclxuICAgICAgICBnb2xkQW1vdW50RWwudGV4dENvbnRlbnQgPSBnZXRNYXRlcmlhbCgnZ29sZCcsIHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKS5yZXNvdXJjZXMpO1xyXG4gICAgICAgIC8vIGFsZXJ0KGBZb3UgYm91Z2h0ICR7cmVzb3VyY2V9IGZvciAke3ByaWNlLnRvRml4ZWQoMil9IGdvbGQhYCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGFsZXJ0KFwiWW91IGRvbid0IGhhdmUgZW5vdWdoIGdvbGQhXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZWxsUmVzb3VyY2UocmVzb3VyY2UsIHByaWNlKSB7XHJcbiAgICBpZiAoZ2V0TWF0ZXJpYWwocmVzb3VyY2UsIHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKS5yZXNvdXJjZXMpID49IDEpIHtcclxuXHJcbiAgICAgICAgcmVxdWlyZSgnLi9yZXNvdXJjZXMnKS5pbmNyZWFzZU1hdGVyaWFsKCdnb2xkJywgcHJpY2UpO1xyXG4gICAgICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykuaW5jcmVhc2VNYXRlcmlhbChyZXNvdXJjZSwgLTEpO1xyXG4gICAgICAgIGdvbGRBbW91bnRFbC50ZXh0Q29udGVudCA9IGdldE1hdGVyaWFsKCdnb2xkJywgcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpLnJlc291cmNlcyk7XHJcbiAgICB9XHJcbiAgICAvLyBhbGVydChgWW91IHNvbGQgJHtyZXNvdXJjZX0gZm9yICR7cHJpY2UudG9GaXhlZCgyKX0gZ29sZCFgKTtcclxufSIsImZ1bmN0aW9uIHRyaWdnZXJGbG9hdFVwVGV4dCh4LCB5LCB0ZXh0LCBjb2xvcikge1xyXG4gICAgY29uc3QgZmxvYXRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBmbG9hdFRleHQudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgZmxvYXRUZXh0LnN0eWxlLmxlZnQgPSBgJHt4fXB4YDtcclxuICAgIGZsb2F0VGV4dC5zdHlsZS50b3AgPSBgJHt5IC0gMzB9cHhgO1xyXG4gICAgZmxvYXRUZXh0LnN0eWxlLmNvbG9yID0gY29sb3I7XHJcbiAgICBmbG9hdFRleHQuY2xhc3NMaXN0LmFkZCgnZmxvYXQtdXAtZmFkZS1vdXQnKTtcclxuXHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZsb2F0VGV4dCk7XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRoZSBlbGVtZW50IGZyb20gdGhlIERPTSBhZnRlciB0aGUgYW5pbWF0aW9uIGNvbXBsZXRlc1xyXG4gICAgZmxvYXRUZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsICgpID0+IHtcclxuICAgICAgICBmbG9hdFRleHQucmVtb3ZlKCk7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnRzLnRyaWdnZXJGbG9hdFVwVGV4dCA9IHRyaWdnZXJGbG9hdFVwVGV4dDtcclxuIiwiY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZShcIi4vZ2V0TWF0ZXJpYWxcIik7XHJcbmNvbnN0IHsgZ2V0TWF4IH0gPSByZXF1aXJlKFwiLi9oZWxwZXJcIik7XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVCb3VuY2VBbmltYXRpb24oKSB7XHJcbiAgICBjb25zdCBhbG9uZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxvbmUnKTtcclxuXHJcbiAgICBpZiAoZ2V0TWF0ZXJpYWwoJ2Nsb25lcycpIDwgZ2V0TWF4KCdjbG9uZXMnKSkge1xyXG4gICAgICAgIC8vIEFwcGx5IHRoZSBhbmltYXRpb25cclxuICAgICAgICBhbG9uZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYm91bmNpbmcnKTtcclxuXHJcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGFuaW1hdGlvbiB0byBjb21wbGV0ZSBwbHVzIGFuIGFkZGl0aW9uYWwgZGVsYXksIHRoZW4gY2hlY2sgdGhlIGNvbmRpdGlvbiBhZ2FpblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGFuaW1hdGlvbiBjbGFzcyB0byByZXNldFxyXG4gICAgICAgICAgICBhbG9uZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYm91bmNpbmcnKTtcclxuICAgICAgICAgICAgdm9pZCBhbG9uZUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgICAgICAvLyBSZWN1cnNpdmUgY2FsbCB0byByZS1jaGVjayB0aGUgY29uZGl0aW9uIGFuZCBwb3RlbnRpYWxseSByZWFwcGx5IHRoZSBhbmltYXRpb25cclxuICAgICAgICAgICAgdXBkYXRlQm91bmNlQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgfSwgMTEwMDApOyAvLyBXYWl0IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiAoMXMpICsgZGVsYXkgKDEwcylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBhbmltYXRpb24gY2xhc3MgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0XHJcbiAgICAgICAgYWxvbmVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JvdW5jaW5nJyk7XHJcbiAgICB9XHJcblxyXG59XHJcbmV4cG9ydHMudXBkYXRlQm91bmNlQW5pbWF0aW9uID0gdXBkYXRlQm91bmNlQW5pbWF0aW9uOyIsImNvbnN0IHsgY2FwaXRhbGl6ZUZpcnN0IH0gPSByZXF1aXJlKCcuL2NhcGl0YWxpemVGaXJzdCcpO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudChidWlsZGluZ05hbWUsIGJ1aWxkaW5nQ291bnQsIGVtb2ppKSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtidWlsZGluZ05hbWV9YCkudGV4dENvbnRlbnQgPSBgJHtlbW9qaX0gJHtjYXBpdGFsaXplRmlyc3QoYnVpbGRpbmdOYW1lKS5zcGxpdCgnXycpLmpvaW4oJyAnKX0gKCR7YnVpbGRpbmdDb3VudH0pYDtcclxuXHJcbn1cclxuZXhwb3J0cy51cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50ID0gdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudDsiLCJjb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpO1xyXG5jb25zdCB7IHVwZGF0ZVRvb2x0aXAsIGhpZGVUb29sdGlwIH0gPSByZXF1aXJlKCcuL3VwZGF0ZVRvb2x0aXAnKTtcclxuY29uc3QgeyBmaXRDaGFyVG9DZWxsIH0gPSByZXF1aXJlKCcuL2ZpdENoYXJUb0NlbGwnKTtcclxuXHJcbmNvbnN0IGJ1aWxkaW5nTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWlsZGluZ0xpc3QnKTtcclxuLy8gZnVuY3Rpb24gdXBkYXRlQnVpbGRpbmdMaXN0KCkge1xyXG4vLyAgICAgYnVpbGRpbmdMaXN0LmlubmVySFRNTCA9ICcnO1xyXG4vLyAgICAgbGV0IGkgPSAwO1xyXG4vLyAgICAgY29uc3QgZ3JpZFNpemUgPSA2O1xyXG4vLyAgICAgY29uc3QgbWF4Q2VsbFdpZHRoID0gMzY7XHJcbi8vICAgICBjb25zdCBtYXhDZWxsSGVpZ2h0ID0gNDg7XHJcbi8vICAgICBjb25zdCBpbml0aWFsRm9udFNpemUgPSAzNjsgLy8gc3RhcnRpbmcgZm9udCBzaXplXHJcblxyXG4vLyAgICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5ncykpIHtcclxuLy8gICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZhbC5jb3VudDsgKytqLCArK2kpIHtcclxuLy8gICAgICAgICAgICAgbGV0IGNvbCA9IChpICUgZ3JpZFNpemUgKyAxKS50b1N0cmluZygpO1xyXG4vLyAgICAgICAgICAgICBsZXQgcm93ID0gTWF0aC5mbG9vcihpIC8gZ3JpZFNpemUgKyAxKS50b1N0cmluZygpO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBiZXN0IGZvbnQgc2l6ZSBmb3IgdGhpcyBjaGFyYWN0ZXJcclxuLy8gICAgICAgICAgICAgLy8gY29uc3QgZm9udFNpemUgPSBmaXRDaGFyVG9DZWxsKHZhbC5lbW9qaSB8fCAnPycsIG1heENlbGxXaWR0aCwgbWF4Q2VsbEhlaWdodCwgaW5pdGlhbEZvbnRTaXplKTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIEFkZCB0aGUgc3BhbiB3aXRoIHRoZSBjYWxjdWxhdGVkIGZvbnQgc2l6ZVxyXG4vLyAgICAgICAgICAgICAvLyBhZGRUb0J1aWxkaW5nTGlzdChjb2wsIHJvdywgaW5pdGlhbEZvbnRTaXplLCBrZXksIHZhbC5lbW9qaSk7XHJcbi8vICAgICAgICAgICAgIGJ1aWxkaW5nTGlzdC5pbm5lckhUTUwgKz0gYDxzcGFuIGNsYXNzID0gJ3Rvb2x0aXAnIHN0eWxlPSdncmlkLWNvbHVtbjoke2NvbH07IGdyaWQtcm93OiR7cm93fTsgZm9udC1zaXplOiR7aW5pdGlhbEZvbnRTaXplfXB4JyB0b29sdGlwRGVzYz0nJHtrZXl9Jz4ke3ZhbC5lbW9qaSB8fCAnPyd9PC9zcGFuPmA7XHJcblxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gICAgIGJ1aWxkaW5nTGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnRvb2x0aXAnKS5mb3JFYWNoKChzcGFuKSA9PiB7XHJcbi8vICAgICAgICAgc3Bhbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1xyXG4vLyAgICAgICAgICAgICB1cGRhdGVUb29sdGlwKHNwYW4pO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcclxuLy8gICAgICAgICAgICAgaGlkZVRvb2x0aXAoKTtcclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgIH0pO1xyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVCdWlsZGluZ0xpc3QoKSB7XHJcbiAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgIGxldCBpID0gMDtcclxuICAgIGNvbnN0IGdyaWRTaXplID0gNjtcclxuICAgIGNvbnN0IGluaXRpYWxGb250U2l6ZSA9IDM2OyAvLyBTdGFydGluZyBmb250IHNpemVcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmdzKSkge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdmFsLmNvdW50OyArK2osICsraSkge1xyXG4gICAgICAgICAgICBsZXQgY29sID0gKGkgJSBncmlkU2l6ZSArIDEpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGxldCByb3cgPSBNYXRoLmZsb29yKGkgLyBncmlkU2l6ZSArIDEpLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICd0b29sdGlwJztcclxuICAgICAgICAgICAgc3Bhbi5zdHlsZS5ncmlkQ29sdW1uID0gY29sO1xyXG4gICAgICAgICAgICBzcGFuLnN0eWxlLmdyaWRSb3cgPSByb3c7XHJcbiAgICAgICAgICAgIHNwYW4uc3R5bGUuZm9udFNpemUgPSBgJHtpbml0aWFsRm9udFNpemV9cHhgO1xyXG4gICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZSgndG9vbHRpcERlc2MnLCBrZXkpO1xyXG4gICAgICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gdmFsLmVtb2ppIHx8ICc/JztcclxuXHJcbiAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHNwYW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDbGVhciB0aGUgZXhpc3RpbmcgY29udGVudCBhbmQgYXBwZW5kIHRoZSBuZXcgY29udGVudFxyXG4gICAgYnVpbGRpbmdMaXN0LmlubmVySFRNTCA9ICcnO1xyXG4gICAgYnVpbGRpbmdMaXN0LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcclxuXHJcbiAgICAvLyBFdmVudCBkZWxlZ2F0aW9uIGZvciB0b29sdGlwc1xyXG4gICAgYnVpbGRpbmdMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndG9vbHRpcCcpKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9LCB0cnVlKTtcclxuXHJcbiAgICBidWlsZGluZ0xpc3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0b29sdGlwJykpIHtcclxuICAgICAgICAgICAgaGlkZVRvb2x0aXAoKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB0cnVlKTtcclxufVxyXG5cclxuZXhwb3J0cy51cGRhdGVCdWlsZGluZ0xpc3QgPSB1cGRhdGVCdWlsZGluZ0xpc3Q7XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gYnVpbGRpbmdcclxuICovXHJcbi8vIGZ1bmN0aW9uIGFkZFRvQnVpbGRpbmdMaXN0KGtleSwgZW1vamkpIHtcclxuLy8gICAgIGJ1aWxkaW5nTGlzdC5pbm5lckhUTUwgKz0gYDxzcGFuIGNsYXNzID0gJ3Rvb2x0aXAnIHN0eWxlPSdncmlkLWNvbHVtbjoke2NvbH07IGdyaWQtcm93OiR7cm93fTsgZm9udC1zaXplOiR7Zm9udHNpemV9cHgnIHRvb2x0aXBEZXNjPScke2tleX0nPiR7ZW1vamkgfHwgJz8nfTwvc3Bhbj5gO1xyXG5cclxuLy8gfVxyXG4vLyBleHBvcnRzLmFkZFRvQnVpbGRpbmdMaXN0ID0gYWRkVG9CdWlsZGluZ0xpc3Q7IiwiY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKCcuL2pzb24vYnV0dG9ucycpO1xyXG5jb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZUNvbmZpZ0J5SWQgfSA9IHJlcXVpcmUoJy4vanNvbi9jcmFmdGVkUmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgZ2V0QnVpbGRpbmdDb3VudCB9ID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpO1xyXG5jb25zdCB7IGlzUG9uZGVyZWQsIGNhblVubG9jayB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2VLZXlCeUNvbmZpZyB9ID0gcmVxdWlyZShcIi4vanNvbi9jcmFmdGVkUmVzb3VyY2VzXCIpO1xyXG5jb25zdCB7IGlzQnV0dG9uSWRWaXNpYmxlLCBzZXRWaXNpYmxlQnV0dG9uIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IGNhbkNyYWZ0IH0gPSByZXF1aXJlKCcuL2NhbkNyYWZ0Jyk7XHJcbmNvbnN0IHsgY2FuQnV5QnVpbGRpbmcgfSA9IHJlcXVpcmUoJy4vY2FuQnV5QnVpbGRpbmcnKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZSgnLi9zdGFnZXMnKTtcclxuLyoqXHJcbiAqIENoYW5nZXMgdGhlIHN0YXRlcyBvZiBidXR0b25zIGJldHdlZW4gJ2hpZGRlbicsICdwdXJjaGFzYWJsZScsIGFuZCAnYnV0dG9uLWRpc2FibGVkJ1xyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSgpIHtcclxuICAgIGNvbnN0IHNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKTsgLy8gQWRqdXN0IHRoZSBzZWxlY3RvciBhY2NvcmRpbmdseVxyXG5cclxuICAgIHNlbGVjdEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbmZpZyA9IGJ1dHRvbnNbYnV0dG9uLmlkXTsgLyogZ2V0IHRoZSBidXR0b24ncyBjb25maWd1cmF0aW9uIHVzaW5nIGl0cyBkYXRhIGF0dHJpYnV0ZSBvciBJRCwgZXRjLiAqLztcclxuICAgICAgICBpZiAoIWJ1dHRvbkNvbmZpZykgeyAvKmNvbnNvbGUud2Fybignbm8gYnV0dG9uIGNvbmZpZyBmb3VuZCBmb3InLCBidXR0b24sIGJ1dHRvbi5pZCk7ICovcmV0dXJuOyB9XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcsIGJ1dHRvbkNvbmZpZy5yZXF1aXJlbWVudCk7XHJcbiAgICAgICAgLy8gUmVzZXQgYWxsIHN0YXRlcyBmaXJzdFxyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncHVyY2hhc2FibGUnLCAnYnV0dG9uLWRpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZSA9ICdoaWRkZW4nO1xyXG5cclxuICAgICAgICBpZiAoYnV0dG9uLmlkICYmIGlzQnV0dG9uSWRWaXNpYmxlKGJ1dHRvbi5pZCkpIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG4gICAgICAgIC8vIElmIHJlcXVpcmVtZW50IGlzIG1ldCwgaXQgc2hvdWxkIGJlIHZpc2libGVcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBsZXQgZ2V0TWF0ZXJpYWwgPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJykuZ2V0TWF0ZXJpYWw7XHJcbiAgICAgICAgICAgIGlmIChidXR0b25Db25maWcucmVxdWlyZW1lbnQgJiYgYnV0dG9uQ29uZmlnLnJlcXVpcmVtZW50KCkpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgcHVyY2hhc2FibGUgZ2F0aGVyIGJ1dHRvbnNcclxuICAgICAgICAgICAgICAgIGlmIChidXR0b25Db25maWcudGFiICYmICFidXR0b25Db25maWcuZGF0YV9idWlsZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgPT09ICdwcm9kdWN0aW9uJykgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHBvbmRlciBidXR0b25cclxuICAgICAgICAgICAgICAgIGlmIChidXR0b24uaWQgJiYgYnV0dG9uLmlkID09PSAnZ2F0aGVyUG9uZGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBwb25kZXIgdW5sb2Nrc1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgJiYgYnV0dG9uQ29uZmlnLnRhYiA9PT0gJ3BvbmRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24uY2xhc3NMaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmlkICYmIGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3VubG9jaycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5VbmxvY2soYnV0dG9uLmlkKSkgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIHBvbmRlciBidXR0b24gaXMgdW5sb2NrZWQsIGhpZGUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoYnV0dG9uLmdldEF0dHJpYnV0ZSgndW5sb2NrJykpKSBzdGF0ZSA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b24sIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdGFiIGJ1dHRvbnMgYWx3YXlzIGVpdGhlciBoaWRkZW4gb3IgZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgJiYgYnV0dG9uQ29uZmlnLnRhYiA9PT0gJ3RhYnMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAndmlzaWJsZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKCdFcnJvciB3aXRoIGNoZWNraW5nIHJlcXVpcmVtZW50IG9mIGJ1dHRvbjogJywgYnV0dG9uQ29uZmlnLCBlcnIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5pZCAmJiBidXR0b25Db25maWcuaWQuc2xpY2UoMCwgNSkgPT09ICdjcmFmdCcpIHtcclxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZW4ndCB1bmxvY2tlZCB0aGUgYnV0dG9uLCBuZXZlciBkaXNwbGF5IGl0XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkNvbmZpZy5yZXF1aXJlZFN0YWdlKTtcclxuICAgICAgICAgICAgLy8gaWYgKGJ1dHRvbkNvbmZpZy5yZXF1aXJlZFN0YWdlICYmICFwYXNzZWRTdGFnZShidXR0b25Db25maWcucmVxdWlyZWRTdGFnZSkpIHtcclxuICAgICAgICAgICAgLy8gICAgIHN0YXRlID0gJ2hpZGRlbic7XHJcblxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIG5ldmVyIGhpZGUgdGhpcyBidXR0b24gb25jZSBpdHMgYmVlbiB1bmxvY2tlZFxyXG4gICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLmNyYWZ0ZWRPbmNlKSBzdGF0ZSA9ICdidXR0b24tZGlzYWJsZWQnO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBjcmFmdGVkID0gZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZChidXR0b25Db25maWcuaWQpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjcmFmdGVkKTtcclxuICAgICAgICAgICAgaWYgKGNyYWZ0ZWQudmFsdWUgPiAwKSBzdGF0ZSA9ICdidXR0b24tZGlzYWJsZWQnO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UgY2FuIGFmZm9yZCB0aGlzIGNyYWZ0LCBpdCBzaG91bGQgYmUgcHVyY2hhc2FibGVcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWcoY3JhZnRlZCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGtleSk7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBpZiAoY2FuQ3JhZnQoa2V5KSlcclxuICAgICAgICAgICAgICAgIGlmICghYnV0dG9uQ29uZmlnLnJlcXVpcmVkU3RhZ2UgfHwgYnV0dG9uQ29uZmlnLnJlcXVpcmVkU3RhZ2UgJiYgcGFzc2VkU3RhZ2UoYnV0dG9uQ29uZmlnLnJlcXVpcmVkU3RhZ2UpKSBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHN0YXRlID0gJ2hpZGRlbic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB3ZSBjYW4gYWZmb3JkIHRoaXMgYnVpbGRpbmcsIGl0IHNob3VsZCBiZSBwdXJjaGFzYWJsZVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkNvbmZpZyk7XHJcbiAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5kYXRhX2J1aWxkaW5nKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgcHVyY2hhc2VkIGEgYnVpbGRpbmcsIGl0IHNob3VsZCBiZSB2aXNpYmxlXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBzdGF0ZSA9IGdldEJ1aWxkaW5nQ291bnQoYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcpID8gJ2J1dHRvbi1kaXNhYmxlZCcgOiBzdGF0ZTtcclxuICAgICAgICAgICAgLy8gRmluZCB0aGUgYnVpbGRpbmcgY29zdFxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b25Db25maWcpO1xyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgc3RhdGUgPSBjYW5CdXlCdWlsZGluZyhidXR0b25Db25maWcuZGF0YV9idWlsZGluZykgPyAncHVyY2hhc2FibGUnIDogc3RhdGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBoaWRkZW4gaXMgbWV0LCBpdCBzaG91bGQgYmUgaGlkZGVuXHJcbiAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5oaWRlKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gYnV0dG9uQ29uZmlnLmhpZGUoKSA/ICdoaWRkZW4nIDogc3RhdGU7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBjdXJyZW50IHN0YXRlXHJcbiAgICAgICAgaWYgKHN0YXRlICE9PSAnJykgYnV0dG9uLmNsYXNzTGlzdC5hZGQoc3RhdGUpO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgc3RhdGUgaXMgbm90LXB1cmNoYXNhYmxlLCBkaXNhYmxlIHRoZSBidXR0b25cclxuICAgICAgICAvLyBidXR0b24uZGlzYWJsZWQgPSBzdGF0ZSA9PT0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB0b29sdGlwIGZvciB0aGlzIGJ1dHRvbiBpZiBpdHMgYWN0aXZlXHJcbiAgICAgICAgLy8gaWYgKGJ1dHRvbiA9PT0gY3VycmVudEhvdmVyQnV0dG9uKSB1cGRhdGVUb29sdGlwKGJ1dHRvbik7XHJcbiAgICAgICAgLy8gSWYgdGhlIHN0YXRlIGlzIGhpZGRlbiwgc2V0IHRoZSBidXR0b24ncyBkaXNwbGF5IHRvIG5vbmVcclxuICAgICAgICBpZiAoc3RhdGUgPT09ICdoaWRkZW4nKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdoaWRpbmcnLCBidXR0b24pO1xyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxsIHZpc2libGUgJywgYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgc2V0VmlzaWJsZUJ1dHRvbihidXR0b24uaWQpO1xyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICcnOyAvLyBUaGlzIHdpbGwgcmV2ZXJ0IGl0IGJhY2sgdG8gaXRzIG9yaWdpbmFsIGRpc3BsYXkgc3RhdGUgb3IgZGVmYXVsdCAoZS5nLiwgJ2Jsb2NrJyBvciAnaW5saW5lLWJsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9iLWJ1dHRvbicpLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgICBjb25zdCBqb2IgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWpvYicpO1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncHVyY2hhc2FibGUnLCAnYnV0dG9uLWRpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgY29uc3QgcmVxUG9uZGVyID0gKHJlcXVpcmUoJy4vam9iUmVxdWlyZWRQb25kZXJzJykuam9iUmVxdWlyZWRQb25kZXJzKVtqb2JdO1xyXG4gICAgICAgIGlmIChyZXFQb25kZXIgPT09IG51bGwgfHwgcmVxUG9uZGVyID09PSB1bmRlZmluZWQpIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICBlbHNlIGlmIChpc1BvbmRlcmVkKHJlcVBvbmRlcikpIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICBlbHNlIGlmIChyZXFQb25kZXIgPT09ICdub3QtdW5sb2NrYWJsZScpIHN0YXRlID0gJ2hpZGRlbic7XHJcbiAgICAgICAgZWxzZSBzdGF0ZSA9ICdidXR0b24tZGlzYWJsZWQnO1xyXG5cclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coam9iLCBidXR0b24sIHJlcVBvbmRlciwgc3RhdGUpO1xyXG4gICAgICAgIC8vIGJ1dHRvbi5jbGFzc0xpc3QuXHJcbiAgICAgICAgaWYgKHN0YXRlID09PSAnaGlkZGVuJykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaGlkaW5nJywgYnV0dG9uKTtcclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsbCB2aXNpYmxlICcsIGJ1dHRvbi5pZCk7XHJcbiAgICAgICAgICAgIHNldFZpc2libGVCdXR0b24oYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoc3RhdGUpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJyc7IC8vIFRoaXMgd2lsbCByZXZlcnQgaXQgYmFjayB0byBpdHMgb3JpZ2luYWwgZGlzcGxheSBzdGF0ZSBvciBkZWZhdWx0IChlLmcuLCAnYmxvY2snIG9yICdpbmxpbmUtYmxvY2snKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmV4cG9ydHMudXBkYXRlQnV0dG9uVmlzaWJpbGl0eSA9IHVwZGF0ZUJ1dHRvblZpc2liaWxpdHk7IiwiY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZShcIi4vanNvbi9idWlsZGluZ3NcIik7XHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZShcIi4vanNvbi9wb25kZXJcIik7XHJcbmNvbnN0IHsgcmVzb3VyY2VzLCBnZXRSZXNvdXJjZUNvbmZpZ0J5SWQgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBjYWxjU2Vjb25kc1JlbWFpbmluZyB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBnZXRNYXggfSA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmNvbnN0IHRvb2x0aXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHluYW1pYy10b29sdGlwJyk7XHJcbmZ1bmN0aW9uIHNob3dUb29sdGlwKHRhcmdldCwgZGVzYywgZWZmZWN0LCBjb3N0KSB7XHJcbiAgICBsZXQgY29udGVudCA9ICcnO1xyXG5cclxuICAgIGlmIChkZXNjKSB7XHJcbiAgICAgICAgY29udGVudCArPSBgPHNwYW4gPiR7ZGVzY308L3NwYW4+PGhyPmA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVmZmVjdCkge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gYDxzcGFuIHN0eWxlPVwiY29sb3I6IzRjZlwiPiR7ZWZmZWN0fTwvc3Bhbj48aHI+YDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzTWF0ZXJpYWxzKGh0bWxTdHJpbmcsIHJlc291cmNlcykge1xyXG4gICAgICAgIC8vIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBleHRyYWN0IG1hdGVyaWFsIGFuZCBhbW91bnRcclxuICAgICAgICBjb25zdCByZWdleCA9IC9jbGFzcz1cInRvb2x0aXAtKFxcdyspIC4rP1wiPihbXFxkLl0rW0tNXT8pXFxzKFxcdyspPC9nO1xyXG4gICAgICAgIGxldCBtYXRjaDtcclxuICAgICAgICBsZXQgcHJvY2Vzc2VkU3RyaW5nID0gJyc7XHJcblxyXG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKGh0bWxTdHJpbmcpKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG1hdGNoWzFdO1xyXG4gICAgICAgICAgICBjb25zdCBhbW91bnRUZXh0ID0gbWF0Y2hbMl07XHJcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlQW1vdW50KGFtb3VudFRleHQpOyAvLyBDb252ZXJ0ICcxMjFLJyB0byAxMjEwMDAsIGZvciBleGFtcGxlXHJcblxyXG4gICAgICAgICAgICAvLyBQZXJmb3JtIHlvdXIgbG9naWMgaGVyZVxyXG4gICAgICAgICAgICBjb25zdCBoYXNFbm91Z2ggPSBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSA+PSBhbW91bnQ7XHJcbiAgICAgICAgICAgIHZhciBjb2xvckNsYXNzID0gaGFzRW5vdWdoID8gJ2Vub3VnaCcgOiAnbm90LWVub3VnaCc7XHJcbiAgICAgICAgICAgIGlmIChnZXRNYXgobWF0ZXJpYWwpIDwgYW1vdW50KSBjb2xvckNsYXNzID0gJ2V4Y2VlZHMtbWF4JztcclxuXHJcbiAgICAgICAgICAgIHByb2Nlc3NlZFN0cmluZyArPSBgPHNwYW4gY2xhc3M9XCJ0b29sdGlwLSR7bWF0ZXJpYWx9ICR7Y29sb3JDbGFzc31cIj4ke2Ftb3VudFRleHR9ICR7bWF0ZXJpYWx9PC9zcGFuPmA7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2Vjb25kc1JlbWFpbmluZyA9IDA7XHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbbWF0ZXJpYWxdKSBzZWNvbmRzUmVtYWluaW5nID0gY2FsY1NlY29uZHNSZW1haW5pbmcobWF0ZXJpYWwsIGFtb3VudCk7XHJcbiAgICAgICAgICAgIGlmIChzZWNvbmRzUmVtYWluaW5nID4gMCAmJiBjb2xvckNsYXNzICE9ICdleGNlZWRzLW1heCcpIHtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZFN0cmluZyArPSBgPHNwYW4gY2xhc3M9XCJ0aW1lLXJlbWFpbmluZ1wiPigke3NlY29uZHNSZW1haW5pbmcudG9GaXhlZCgwKX0gc2Vjb25kcyk8L3NwYW4+YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcm9jZXNzZWRTdHJpbmcgKz0gYDxicj5gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NlZFN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgYW1vdW50cyBsaWtlICcxMjFLJyBpbnRvIG51bWJlcnNcclxuICAgIGZ1bmN0aW9uIHBhcnNlQW1vdW50KGFtb3VudFRleHQpIHtcclxuICAgICAgICBsZXQgYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnRUZXh0KTtcclxuICAgICAgICBpZiAoYW1vdW50VGV4dC5pbmNsdWRlcygnSycpKSB7XHJcbiAgICAgICAgICAgIGFtb3VudCAqPSAxZTM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhbW91bnRUZXh0LmluY2x1ZGVzKCdNJykpIHtcclxuICAgICAgICAgICAgYW1vdW50ICo9IDFlNjtcclxuICAgICAgICB9IGVsc2UgaWYgKGFtb3VudFRleHQuaW5jbHVkZXMoJ0InKSkge1xyXG4gICAgICAgICAgICBhbW91bnQgKj0gMWU5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW1vdW50O1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2Nvc3Qgb2YgdG9vbHRpcDonLCBjb3N0KTtcclxuICAgICAgICBpZiAoY29zdC50b1N0cmluZygpLmluY2x1ZGVzKCdzcGFuJykpIHtcclxuICAgICAgICAgICAgLy8gY29udGVudCArPSBgPHNwYW4gc3R5bGU9XCJjb2xvcjojRjREMDNGXCI+JHtjb3N0fTwvc3Bhbj48YnI+YDtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3J1bm5pbmcgcHJvY21hdCBmb3IgJywgY29zdCk7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gcHJvY2Vzc01hdGVyaWFscyhjb3N0LCByZXNvdXJjZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHN0ciA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFttYXRlcmlhbCwgYW1vdW50XSBvZiBPYmplY3QuZW50cmllcyhjb3N0KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgbWF0ZXJpYWwgPSByZXE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNFbm91Z2ggPSBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSA+PSBhbW91bnQ7IC8qIFlvdXIgbG9naWMgdG8gY2hlY2sgaWYgdGhlcmUncyBlbm91Z2ggb2YgdGhlIG1hdGVyaWFsICovLyogWW91ciBsb2dpYyB0byBjaGVjayBpZiB0aGVyZSdzIGVub3VnaCBvZiB0aGUgbWF0ZXJpYWwgKi87XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JDbGFzcyA9IGhhc0Vub3VnaCA/ICdlbm91Z2gnIDogJ25vdC1lbm91Z2gnO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdldE1heChtYXRlcmlhbCkgPCBhbW91bnQpIGNvbG9yQ2xhc3MgPSAnZXhjZWVkcy1tYXgnO1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGA8c3BhbiBjbGFzcz1cInRvb2x0aXAtJHttYXRlcmlhbH0gJHtjb2xvckNsYXNzfVwiPiR7YW1vdW50LnRvRml4ZWQoMCl9ICR7bWF0ZXJpYWx9PC9zcGFuPmA7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZHNSZW1haW5pbmcgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1ttYXRlcmlhbF0pIHNlY29uZHNSZW1haW5pbmcgPSBjYWxjU2Vjb25kc1JlbWFpbmluZyhtYXRlcmlhbCwgYW1vdW50KTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNlY29uZHNSZW1haW5pbmcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZHNSZW1haW5pbmcgPiAwICYmIGNvbG9yQ2xhc3MgIT0gJ2V4Y2VlZHMtbWF4JykgeyBzdHIgKz0gYDxzcGFuIGNsYXNzPVwidGltZS1yZW1haW5pbmdcIj4oJHsoc2Vjb25kc1JlbWFpbmluZykudG9GaXhlZCgwKX0gc2Vjb25kcyk8L3NwYW4+YDsgfVxyXG4gICAgICAgICAgICAgICAgc3RyICs9IGA8YnI+YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250ZW50ICs9IHN0cjtcclxuXHJcblxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGNvc3QgIT09IHVuZGVmaW5lZCAmJiBjb3N0ICE9PSAndW5kZWZpbmVkJykgY29udGVudCArPSBjb3N0O1xyXG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJDb3VsZG4ndCBtYWtlIG5vcm1hbCBjb3N0IGZvciBidXR0b246IFwiLCB0YXJnZXQsIGNvc3QsIGVycm9yKTtcclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKHRhcmdldCwgY29udGVudCk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSAodGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0ICsgNSkgKyAncHgnO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdG9vbHRpcC5zdHlsZS50b3AgPSAodGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIHRvb2x0aXAub2Zmc2V0SGVpZ2h0IC8gMikgKyAncHgnO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxufVxyXG5cclxuZnVuY3Rpb24gaGlkZVRvb2x0aXAoKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbn1cclxuZXhwb3J0cy5oaWRlVG9vbHRpcCA9IGhpZGVUb29sdGlwO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlVG9vbHRpcChidXR0b24pIHtcclxuICAgIGNvbnN0IGRlc2MgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycpIHx8IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBEZXNjJyk7XHJcbiAgICBjb25zdCBlZmZlY3QgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZWZmZWN0Jyk7XHJcbiAgICAvLyBjb25zdCBjb3N0ID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnKTtcclxuICAgIGNvbnN0IGNvbmZpZyA9IGdldFJlc291cmNlQ29uZmlnQnlJZChidXR0b24uaWQpIHx8IGdldENyYWZ0ZWRSZXNvdXJjZUNvbmZpZ0J5SWQoYnV0dG9uLmlkKSB8fCBidWlsZGluZ3NbYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YV9idWlsZGluZycpXSB8fCBwb25kZXJzW2J1dHRvbi5nZXRBdHRyaWJ1dGUoJ3VubG9jaycpXTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGNvbmZpZyk7XHJcbiAgICBjb25zdCBjb3N0ID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgndG9vbHRpcENvc3QnKSB8fCBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcpIHx8IChjb25maWcgJiYgY29uZmlnLmNvc3QpO1xyXG4gICAgc2hvd1Rvb2x0aXAoYnV0dG9uLCBkZXNjLCBlZmZlY3QsIGNvc3QpO1xyXG59XHJcbmV4cG9ydHMudXBkYXRlVG9vbHRpcCA9IHVwZGF0ZVRvb2x0aXA7XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODA4KTtcbiJdLCJuYW1lcyI6WyJhdGVGaXNoIiwibW9kdWxlIiwiZXhwb3J0cyIsInNldEF0ZUZpc2giLCJib29sIiwiZ2V0QXRlRmlzaCIsIm11c2ljVm9sdW1lIiwic2Z4Vm9sdW1lIiwic2V0TXVzaWNWb2x1bWUiLCJ2b2wiLCJnZXRNdXNpY1ZvbHVtZSIsInNldFNmeFZvbHVtZSIsImdldFNmeFZvbHVtZSIsImJ1aWxkaW5ncyIsImlzUG9wQnVpbGRpbmciLCJpbmNyZWFzZU1hdGVyaWFsIiwiaW5jcmVhc2VNYXgiLCJ1cGRhdGVUb3RhbCIsImhhc1BlcmsiLCJnZXRNYXRlcmlhbCIsInBhc3NlZFN0YWdlIiwicmVjYWxjTWF4Q2xvbmVzIiwidXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCIsInJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0IiwiY2FuQnV5QnVpbGRpbmciLCJpc1BvbmRlcmVkIiwidXBkYXRlQnVpbGRpbmdMaXN0IiwiY2FwaXRhbGl6ZUZpcnN0IiwiYnV5QnVpbGRpbmciLCJidWlsZGluZ05hbWUiLCJjb25zb2xlIiwibG9nIiwiYnVpbGRpbmciLCJjb3VudCIsInJlc291cmNlIiwiY29zdCIsImFtb3VudCIsIk9iamVjdCIsImVudHJpZXMiLCJlZmZlY3RzIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiZW1vamkiLCJnZW5lcmF0ZUJ1aWxkaW5nVG9vbHRpcENvc3QiLCJtYXAiLCJtYXRlcmlhbCIsInRvRml4ZWQiLCJqb2luIiwiY3JlYXRlQnVpbGRpbmdCdXR0b24iLCJidWlsZGluZ0tleSIsImJhc2Vjb3N0IiwiY29zdHMiLCJyZXF1aXJlbWVudEZ1bmN0aW9uIiwiY29zdENvbmRpdGlvbiIsImV2ZXJ5IiwiTWF0aCIsImZsb29yIiwiY3JlYXRlUmVxdWlyZW1lbnRGdW5jdGlvbiIsInRvb2x0aXBEZXNjIiwiZXJyb3IiLCJidXlNYXhCdWlsZGluZ3MiLCJpIiwiZ2VuZXJhdGVFZmZlY3RTdHJpbmciLCJlZmZlY3RQYXJ0cyIsInZhbHVlIiwicHVzaCIsImJvb3N0IiwicGVyY2VudGFnZUJvb3N0Iiwicm91bmQiLCJyZXNvdXJjZXMiLCJjcmFmdGVkUmVzb3VyY2VzIiwic2tpbGxzIiwiZ2V0V29ya2VycyIsImdldEZhY3RvcnlQcm9kdWN0aW9uIiwiaGFzUHJlc3RpZ2UiLCJnZXRMZXZlbE9mUHJlc3RpZ2UiLCJoYXNUb29sIiwicGVya0Jvb3N0cyIsInNraWxsQm9vc3RzIiwicmVzb3VyY2VUb29sTWFwIiwiY2FsY0luY3JlYXNlIiwicmVzb3VyY2VOYW1lIiwiZGVsdGFfdGltZSIsInRvdGFsIiwiaGFzT3duUHJvcGVydHkiLCJpc0dldHRpbmciLCJwZXJrIiwiaW5jbHVkZXMiLCJhcHBseVBlcmtCb29zdCIsImNsb25lTXVsdCIsInNraWxsIiwiYm9vc3RzIiwiYWZmZWN0ZWRSZXNvdXJjZXMiLCJmb3JFYWNoIiwic2tpbGxSYXRpbyIsIm11bHQiLCJwb3ciLCJsZXZlbCIsImFwcGx5U2tpbGxCb29zdCIsImtleXMiLCJib29zdERhdGEiLCJpbmNyZWFzZSIsInRvb2xOYW1lIiwibG9nMTAiLCJhcHBseVRvb2xCb29zdCIsInBhcnNlRmxvYXQiLCJjYW5CdXkiLCJjYW5DcmFmdCIsInJlc291cmNlS2V5IiwicmVxdWlyZW1lbnRzIiwibWF0IiwiZXJyIiwid2FybiIsInN0ciIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJtZXNzYWdlRWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjaGFuZ2VNZXNzYWdlIiwibmV3TWVzc2FnZSIsImNsb25lV29yZHMiLCJ0b29sdGlwIiwibW9kaWZpZWRNZXNzYWdlIiwicmVwbGFjZSIsImlubmVySFRNTCIsImxvb3RUYWJsZSIsImh1c2tzIiwicHJvYmFiaWxpdHkiLCJxdWFudGl0eSIsIm5haWxzIiwic2xhYnMiLCJiZWFtcyIsImF4ZSIsInNwZWFyIiwiZ29sZCIsImlyb24iLCJzaWx2ZXIiLCJzdGVlbCIsImJyaWNrcyIsImN1cnJMb290IiwiZ2V0Q3Vyckxvb3QiLCJnZW5lcmF0ZUxvb3QiLCJsb290IiwicmFuZG9tIiwiYXJlbmEiLCJjcmVhdGVCYWxscyIsInRlYW0iLCJiYWxsIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInN0eWxlIiwibGVmdCIsInRvcCIsImFwcGVuZENoaWxkIiwicGxheWVyVHJvb3BzIiwiZW5lbXlUcm9vcHMiLCJhbmltYXRpb25zIiwiYW5pbVRpbWUiLCJzdGFydEFuaW1hdGlvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0YXJnZXRYIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJvZmZzZXRXaWR0aCIsImFuaW1hdGUiLCJ0cmFuc2Zvcm0iLCJkdXJhdGlvbiIsImZpbGwiLCJmaW5pc2hlZCIsInRoZW4iLCJyZW1vdmUiLCJ1cGRhdGUiLCJzZXRUaW1lb3V0IiwicGxheWVyQmFsbHMiLCJsZW5ndGgiLCJlbmVteUJhbGxzIiwiaGFzUmV3YXJkZWQiLCJjaGVja0ZvcldpbiIsImJhdHRsZVJlc3VsdCIsImNvbWJhdFJlc3VsdCIsInRleHRDb250ZW50IiwiZmlnaHRCdXR0b24iLCJkaXNhYmxlZCIsInN0YW5jZU11bHQiLCJnZXRTdGFuY2UiLCJsb290TmFtZSIsInBsYXllcldvblByZXZpb3VzQmF0dGxlIiwiZW5lbXlNaWdodCIsImdldE5leHRCYXR0bGVNaWdodCIsInJlZnJlc2hWYWx1ZXMiLCJpc0NvbGxpZGluZyIsImJhbGwxIiwiYmFsbDIiLCJyZWN0MSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJlY3QyIiwicmlnaHQiLCJib3R0b20iLCJwbGF5ZXIiLCJlbmVteSIsImoiLCJwbGF5ZXJCYWxsIiwiZW5lbXlCYWxsIiwiZ2V0Q3VyckVuZW15TWlnaHQiLCJjYWxjdWxhdGVQbGF5ZXJNaWdodCIsImNoYW5jZVNwcmVhZCIsImRldGVjdENvbGxpc2lvbnMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYWxjUm91bmRpbmciLCJwbGF5ZXJNaWdodCIsInBsYXllclJvdW5kaW5nIiwiY2VpbCIsImVuZW15Um91bmRpbmciLCJoaWdoZXJSb3VuZGluZyIsIm1heCIsInBsYXllckNvdW50IiwiZW5lbXlDb3VudCIsInRvU3RyaW5nIiwicXVlcnlTZWxlY3RvciIsIm1pZ2h0IiwicGxheWVyTWlnaHRFbGVtZW50IiwiZW5lbXlNaWdodEVsZW1lbnQiLCJjYWxjdWxhdGVXaW5DaGFuY2UiLCJjaGFuY2UiLCJzZXRBdHRyaWJ1dGUiLCJjaGFuY2VFbGVtZW50IiwiY29sb3IiLCJzdGFuY2UiLCJzdGFuY2VCdXR0b25zIiwic3dpdGNoU3RhbmNlIiwibmV3U3RhbmNlIiwiZWxlbWVudCIsInNldFN0YW5jZSIsImxvb3RMaXN0Iiwid2luZG93IiwiY29tYmF0IiwicGF1c2VBbmltYXRpb24iLCJwYXVzZSIsInNpbXVsYXRlQmF0dGxlIiwicGxheWVyQ2hhbmNlIiwiY2FsY3VsYXRlQmF0dGxlUmVzdWx0Iiwic2V0RW5lbXlNaWdodCIsInN3aXRjaGVkTWFudWZhY3R1cmVkTWFwIiwiYWxsTWF0ZXJpYWxzIiwiciIsImFjdGl2ZUZhY3Rvcmllc1Byb2R1Y2luZyIsImFjdGl2ZUZhY3Rvcmllc0NvbnN1bWluZyIsInVwZGF0ZUZhY3RvcnlSZXNvdXJjZVRyYWNraW5nIiwib2xkUHJvZHVjZWQiLCJuZXdQcm9kdWNlZCIsIkFycmF5IiwiZnJvbSIsImNyZWF0ZUZhY3RvcnlEaXYiLCJmYWN0b3JpZXNDb250YWluZXIiLCJmYWN0b3J5RGl2IiwibGVmdFRleHQiLCJhZGQiLCJyaWdodFNlbGVjdCIsIm9wdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjdXJyZW50UHJvZHVjZWQiLCJ0aGlzIiwiZ2V0QXR0cmlidXRlIiwiYXJyb3ciLCJzZWxlY3RFbGVtZW50IiwidGV4dCIsImluaXRpYWxPcHRpb24iLCJzZWxlY3RlZCIsImFkZEluaXRpYWxPcHRpb24iLCJtYW51ZmFjdHVyZUJ1bGsiLCJidWxrVXBncmFkZUNvc3QiLCJuZXdGYWN0b3J5U2lsdmVyQ29zdCIsImF0dGVtcHRNYW51ZmFjdHVyZSIsImZhY3RvcnkiLCJnb2FsUmVzb3VyY2UiLCJhcnIiLCJudW0iLCJtaW4iLCJtYW51ZmFjdHVyZSIsImJ1eUZhY3RvcnkiLCJidXlGYWN0b3J5QnV0dG9uIiwiZmFjdG9yeUF1ZGlvIiwiQXVkaW8iLCJ2b2x1bWUiLCJwbGF5IiwidXBncmFkZUJ1bGsiLCJsb2FkRmFjdG9yeSIsImNyYWZ0aW5nIiwiZGl2IiwiZml0Q2hhclRvQ2VsbCIsImNoYXIiLCJjZWxsV2lkdGgiLCJjZWxsSGVpZ2h0IiwiaW5pdGlhbEZvbnRTaXplIiwic3BhbiIsImZvbnRTaXplIiwicG9zaXRpb24iLCJ3aGl0ZVNwYWNlIiwidmlzaWJpbGl0eSIsImJvZHkiLCJjdXJyZW50Rm9udFNpemUiLCJvZmZzZXRIZWlnaHQiLCJyZW1vdmVDaGlsZCIsInNpZGViYXJQYXJlbnQiLCJlbW9qaUdhdGhlckRpdiIsInRvZ2dsZVJlc291cmNlIiwiZ2F0aGVyQXVkaW8iLCJzaWRlYmFyVGV4dCIsInJlc291cmNlQnV0dG9uIiwiZGVmYXVsdFRleHQiLCJmb250V2VpZ2h0Iiwia2V5IiwidmFsIiwickJ1dHRvbiIsInN0b3BBbGxHYXRoZXJpbmciLCJhY3RpdmVUZXh0IiwiYnV0dG9ucyIsImdlbmVyYXRlVG9vbHRpcENvc3QiLCJzaG93VGFiIiwiZ2VuZXJhdGVCdXR0b25zIiwidHJhY2UiLCJidXR0b24iLCJjcmVhdGVDb2x1bW5zIiwicGFyZW50IiwiY29sMSIsImNvbDIiLCJjb2wzIiwid2lkdGgiLCJkaXNwbGF5IiwicHJlcGVuZCIsInRhYnNDb250YWluZXIiLCJwcm9kdWN0aW9uQ29udGFpbmVyIiwiZXhwZXJpbWVudENvbnRhaW5lciIsInBvbmRlckNvbnRhaW5lciIsImV4cGVyaW1lbnRDb2x1bW5zIiwicG9uZGVyQ29sdW1ucyIsInByb2R1Y3Rpb25Db2x1bW5JbmRleCIsImV4cGVyaW1lbnRDb2x1bW5JbmRleCIsInBvbmRlckNvbHVtbkluZGV4IiwiYnRuIiwiYnV0dG9uRWxlbWVudCIsImlkIiwiY2xhc3MiLCJzcGxpdCIsInRvb2x0aXBFZmZlY3QiLCJ1bmxvY2siLCJkYXRhX2J1aWxkaW5nIiwiY3JhZnRlZFJlc291cmNlIiwidmFsdWVzIiwiZmluZCIsInRvb2x0aXBDb3N0IiwidGFiIiwiZ3JpZENvbHVtbiIsInJlcXVpcmVtZW50IiwicG9zc2libGVSZXNvdXJjZXMiLCJmaWx0ZXIiLCJwb3NzaWJsZUNyYWZ0ZWRSZXNvdXJjZXMiLCJnZXRSYW5kb21OdW1iZXIiLCJnZXRSYW5kb21FbW9qaSIsInJhbmdlcyIsInN0YXJ0IiwiZW5kIiwicmFuZG9tUmFuZ2UiLCJyYW5kb21Vbmljb2RlIiwiU3RyaW5nIiwiZnJvbUNvZGVQb2ludCIsImFkamVjdGl2ZXMiLCJidWlsZGluZ05hbWVzIiwibm91bnMiLCJ2ZXJicyIsInByZXBvc2l0aW9ucyIsImNvbmp1bmN0aW9ucyIsImdlbmVyYXRlUmFuZG9tQnVpbGRpbmciLCJyYW5kb21OYW1lIiwicmFuZG9tQWRqZWN0aXZlIiwicmFuZG9tQnVpbGRpbmdOYW1lIiwiZ2VuZXJhdGVCdWlsZGluZ05hbWUiLCJyYW5kb21EZXNjcmlwdGlvbiIsInJhbmRvbUFkamVjdGl2ZTIiLCJyYW5kb21Ob3VuIiwicmFuZG9tVmVyYiIsInJhbmRvbVByZXBvc2l0aW9uIiwicmFuZG9tQ29uanVuY3Rpb24iLCJkZXNjcmlwdGlvbiIsImdlbmVyYXRlQnVpbGRpbmdEZXNjcmlwdGlvbiIsIm51bVJlc291cmNlcyIsInJhbmRvbUNvc3RzIiwibnVtQ3JhZnRlZFJlc291cmNlcyIsInJhbmRvbUVmZmVjdHMiLCJudW1FZmZlY3RzIiwicmFuZG9tUmVzb3VyY2UiLCJyYW5kb21FZmZlY3RWYWx1ZSIsInJhbmRvbUJvb3N0cyIsIm51bUJvb3N0cyIsInJhbmRvbUJvb3N0VmFsdWUiLCJuYW1lIiwicmF0aW8iLCJnZXRDcmFmdGVkUmVzb3VyY2UiLCJ0b0xvd2VyQ2FzZSIsImlzUmVzb3VyY2UiLCJhbGxWaXNpYmxlQnV0dG9ucyIsIlNldCIsImdldE1heCIsImJhc2VNYXgiLCJJbmZpbml0eSIsImNhbGNDcmFmdEJvbnVzIiwiaXNCdXR0b25JZFZpc2libGUiLCJoYXMiLCJzZXRWaXNpYmxlQnV0dG9uIiwiY2xlYXJTaWRlYmFyIiwidHJpZ2dlckZsb2F0VXBUZXh0Iiwiam9iQXVkaW8iLCJqb2JDb3VudHMiLCJqb2JzVGFiIiwiZ2V0VG90YWxKb2JzIiwiam9iRGl2IiwiZGVjcmVtZW50RGl2Iiwiam9iTmFtZVNwYW4iLCJpbmNyZW1lbnREaXYiLCJldmVudCIsImpvYlR5cGUiLCJjbG9zZXN0IiwieCIsInBhZ2VYIiwieSIsInBhZ2VZIiwic2hpZnRLZXkiLCJkaWZmZXJlbmNlIiwiY3RybEtleSIsImRpc3RyaWJ1dGVXb3JrZXJzIiwidXBkYXRlRGlzcGxheSIsIm51bVdvcmtlcnMiLCJ3b3JrZXJzRGlzdHJpYnV0aW9uIiwiTWFwIiwidG90YWxXb3JrZXJzIiwibnVtYmVyT2ZSZXNvdXJjZXMiLCJwZXJSZXNvdXJjZSIsInNldCIsIm1vdmVCYWxsRnJvbUpvYlRvUmVzb3VyY2UiLCJyZW1haW5pbmdXb3JrZXJzIiwiZ2V0IiwiYWZmZWN0ZWRSZXNvdXJjZSIsImpvYkJ1dHRvbiIsInJlc291cmNlRGlzcGxheSIsImpvYkJ1dHRvblJlY3QiLCJyZXNvdXJjZVJlY3QiLCJoZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvcGFjaXR5Iiwic2Nyb2xsWCIsInNjcm9sbFkiLCJlYXNpbmciLCJvbmZpbmlzaCIsInRoaXNKb2JCdXR0b24iLCJqb2JFbGVtZW50IiwiY29ubmVjdGlvbnMiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0xpbmUiLCJzdGFydEVsZW1lbnQiLCJlbmRYIiwiZW5kWSIsInJlY3QiLCJzdGFydFgiLCJzdGFydFkiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJjb250ZXh0IiwiZnJvbVgiLCJmcm9tWSIsInRvWCIsInRvWSIsInJhZGl1cyIsImFuZ2xlIiwieF9jZW50ZXIiLCJ5X2NlbnRlciIsImF0YW4yIiwiY29zIiwic2luIiwiUEkiLCJjbG9zZVBhdGgiLCJkcmF3QXJyb3doZWFkIiwic3dpdGNoSm9iIiwib2xkSm9iSWQiLCJuZXdKb2JJZCIsIndvcmtlcnMiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjbGVhckpvYkFzc2lnbm1lbnRzIiwiY2xlYXJSZWN0IiwicmVhc3NpZ25Kb2JzQmFzZWRPblJlc291cmNlcyIsInVuZGVmaW5lZCIsImRhdGFKb2IiLCJvbGRJZCIsIm5ld0lkIiwibWF4ZWRPdXQiLCJyZXNvdXJjZUFycmF5IiwiZHJhd0FsbENvbm5lY3Rpb25zIiwib2xkQnV0dG9uIiwibmV3QnV0dG9uIiwibmV3WCIsIm5ld1kiLCJvZmZzZXRUb3AiLCJzZXRDb25uZWN0aW9ucyIsIm5ld0Nvbm5lY3Rpb25zIiwiZ2V0Q29ubmVjdGlvbnMiLCJyZXNldEFsbEpvYnMiLCJjb25jcmV0ZSIsIm1lZGljaW5lIiwiZmlzaCIsInZpb2xlbmNlIiwid29vZCIsInJvY2tzIiwidmluZXMiLCJzdGlja3MiLCJnYW1lIiwiY2xheSIsIndhdGVyIiwiY3JhdGVzIiwiaGVyYnMiLCJmcmVzaHdhdGVyIiwiZ2xhc3MiLCJwb25kZXIiLCJnZXRCdWlsZGluZ0NvdW50IiwiZ2V0Qm9vc3QiLCJyZXNldEJ1aWxkaW5ncyIsImhpZGUiLCJjcmFmdGVkT25jZSIsInJlcXVpcmVkU3RhZ2UiLCJ3aGVhdCIsInRvb2x0aXBjb3N0IiwiZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZCIsImMiLCJnZXRDcmFmdGVkUmVzb3VyY2VLZXlCeUNvbmZpZyIsImNvbmZpZyIsImsiLCJyZXNldENyYWZ0ZWRSZXNvdXJjZXMiLCJwZXJrcyIsInBvbmRlcnMiLCJyZXNldFBvbmRlcnMiLCJwcmVzdGlnZSIsInByZXMiLCJpc1Zpc2libGUiLCJnZXRSZXNvdXJjZUNvbmZpZ0J5SWQiLCJyZXNldFJlc291cmNlcyIsImdhdGhlcmluZyIsImV4cCIsIm1hc29ucnkiLCJuZWVkVG9vbHMiLCJjYXJwZW50cnkiLCJ0aGlua2luZyIsImZhcm1pbmciLCJmaXNoaW5nIiwiaHVudGluZyIsInNhdmVHYW1lIiwibG9hZEdhbWUiLCJhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zIiwiY3JhZnRBbGxSZXNvdXJjZXMiLCJjcmFmdFJlc291cmNlIiwidXBkYXRlUmVzb3VyY2VJbmNyZWFzZVJhdGVzIiwic2VsZWN0QWJpbGl0eSIsInJlc2V0UGVya3MiLCJtYWtlVmlzaWJsZSIsInVwZGF0ZUJ1dHRvblZpc2liaWxpdHkiLCJnZW5lcmF0ZVBvbmRlckJ1dHRvbnMiLCJhZGRUb29sIiwicmVzZXRTdGFnZXMiLCJpbml0aWFsaXplUmVzb3VyY2VUYWdzIiwidXBkYXRlU2lkZWJhciIsInVwZGF0ZURpc3BsYXlWYWx1ZSIsInVwZGF0ZUJvdW5jZUFuaW1hdGlvbiIsInVwZGF0ZVRvb2x0aXAiLCJoaWRlVG9vbHRpcCIsImdldEN1cnJlbnRUYWIiLCJ0b29sc1RvU3RhZ2VzIiwidmlzaWJpbGl0eVJ1bGVzIiwiY29uZGl0aW9uIiwiYWN0aW9uIiwibG9jYXRpb24iLCJocmVmIiwiYXVkaW9GaWxlcyIsImN1cnJlbnRBdWRpbyIsInRpbWVvdXRJZCIsInBsYXlSYW5kb21UcmFjayIsImN1cnJlbnRUaW1lIiwicmFuZG9tSW5kZXgiLCJjbGVhclRpbWVvdXQiLCJzaWxlbmNlRHVyYXRpb24iLCJvbmVuZGVkIiwic2NoZWR1bGVOZXh0VHJhY2siLCJ0b2dnbGVPcHRpb25zIiwidG9nZ2xlIiwiaXNEYXJrIiwiZmFkZVRvQmxhY2siLCJvdmVybGF5Iiwib3ZlcmxheVRleHQiLCJvdmVybGF5QnV0dG9uIiwibWlsbGlzZWNvbmRzX3Blcl9mcmFtZSIsImxhc3RfdGltZSIsInRvdGFsX3RpbWUiLCJhY2N1bXVsYXRlZF9sYWciLCJsb29wIiwiY3VycmVudF90aW1lIiwibm9ybWFsUmF0ZSIsInRpbWVfc2luY2VfbGFzdF9zYXZlIiwidGltZV9zaW5jZV9tYW51ZmF0dXJlIiwicnVsZSIsInNwbGljZSIsInRvb2wiLCJjdXJyZW50SG92ZXJCdXR0b24iLCJyZW5kZXIiLCJvcHRpb25BdWRpbyIsIm9wdGlvbnNNZW51Iiwib25iZWZvcmV1bmxvYWQiLCJjdXJyZW50bHlEZWxldGluZyIsImZhY3RvcnlCdXR0b25zIiwidXBncmFkZUJ1bGtCdXR0b24iLCJtYWtlRmFjdG9yeUJ1dHRvbnMiLCJ0YXJnZXQiLCJtYXRjaGVzIiwiYnVpbGRpbmdBdWRpbyIsImJ1aWxkaW5nU3RyaW5nIiwidW5sb2NrQXR0ciIsImNhblVubG9jayIsInBvbmRlckF1ZGlvIiwicmVsb2FkIiwiZ2V0UktleUZyb21JRCIsImNyYWZ0QXVkaW8iLCJjciIsImdldENSS2V5RnJvbUlEIiwiZmlzaEF1ZGlvIiwiZWF0RmlzaCIsImNvbmZpcm0iLCJkZWxldGVHYW1lIiwiZGFya01vZGVUb2dnbGUiLCJpc2VrYWkiLCJjbG9uZUF1ZGlvIiwiZSIsIm92ZXJsYXlCYWNrQnV0dG9uIiwiaHVza3NEdWUiLCJpc2VrYWlDb25maXJtQXVkaW8iLCJsYXN0QnVpbGRpbmciLCJyYW5kb21CdWlsZGluZyIsImlzZWthaUF1ZGlvIiwib2xkSHVza1ZhbHVlIiwiaHVza1ZhbHVlIiwiYnV0dG9uQ29udGFpbmVyIiwiZ3JpZFJvdyIsIm4iLCJhIiwic3FydCIsIm5leHRGaWJvbmFjY2kiLCJwcmV2ZW50RGVmYXVsdCIsInByZXZGaWJvbmFjY2kiLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwidXBkYXRlVUkiLCJyZXNvdXJjZURpdiIsInNldFRvdGFsVGltZSIsInRpbWUiLCJnZXRNZXNzYWdlIiwiZ2V0TWVzc2FnZVRvb2x0aXAiLCJzZXRTdGFnZSIsInN0YWdlIiwibXlQZXJrcyIsInBlcmtOYW1lIiwiYWRkUGVyayIsImIiLCJhYmlsaXR5TmFtZSIsImdldFBlcmtGcm9tVGllciIsInRpZXJOdW0iLCJnZXRBbGxQZXJrcyIsInVubG9ja0lkIiwidW5sb2NrS2V5IiwicG9uZGVyT2JqZWN0cyIsInBvbmRlcktleSIsInBvbmRlck9iaiIsImJ1dHRvbktleSIsInNldE1heCIsIm1heENsb25lcyIsIm15QnV0dG9uIiwibmV3VGV4dCIsImVmZmVjdFN0cmluZyIsImFiYnJldmlhdGVOdW1iZXIiLCJnZXRBbGxTdGFnZXMiLCJ1cGRhdGVTa2lsbHMiLCJyZXNvdXJjZXNDb250YWluZXIiLCJjaGVja2VkIiwiYXV0b0NyYWZ0VGFibGUiLCJjcmVhdGVDcmFmdGVkUmVzb3VyY2VCdXR0b24iLCJjb250YWluZXIiLCJlbW9qaURpc3BsYXkiLCJ1cGRhdGVFbW9qaURpc3BsYXkiLCJlbW9qaVN0ciIsInJlcGVhdCIsImFkanVzdEZvbnRTaXplIiwic3VmZmljaWVudFJlc291cmNlcyIsImNyYWZ0UmVzb3VyY2VRdWFudGl0eSIsImNyYWZ0Qm9udXMiLCJjcmFmdE9uZSIsImNhbGNTZWNvbmRzUmVtYWluaW5nIiwibmVlZGVkIiwicmF0ZSIsInJhdGVFbGVtZW50IiwiZ2V0QWxsVG9vbHMiLCJwb3B1bGF0ZVNraWxsc1RhYmxlIiwic2F2ZSIsInRvb2xzIiwic3RhZ2VzIiwidW5sb2NrcyIsImpvYnMiLCJtZXNzYWdlIiwiZmFjdG9yaWVzIiwibmV3QnVpbGRpbmdzIiwiaXRlbSIsInUiLCJodG1sU3RyaW5nIiwibWVzc2FnZVRvb2x0aXAiLCJtZXNzYWdlQXJyYXkiLCJleHRyYWN0VGV4dEZyb21IVE1MIiwiRGF0ZSIsIm5vdyIsInNldEl0ZW0iLCJzYXZlZ2FtZSIsImdldEl0ZW0iLCJ2YWx1ZU9mIiwiTnVtYmVyIiwiaXNOYU4iLCJ1bmlvbiIsInMiLCJjbG9uZXMiLCJ0aW1lX2RpZmZlcmVuY2UiLCJpbmMiLCJzaXplIiwiam9iIiwic2VsZWN0Q29ycmVjdFBlcmtCdXR0b24iLCJzZWxlY3RlZEJ1dHRvbiIsInJlbW92ZUF0dHJpYnV0ZSIsImNvbnRlbnQiLCJ0YWJDb250YWluZXJzIiwidGFiTmFtZSIsInByZXZUYWIiLCJ0YWJBdWRpbyIsInByZXZUYWJFbGVtZW50IiwidGFicyIsImFjdGl2ZUNvbnRlbnQiLCJ0YWJTdHJpbmciLCJhY3RpdmVUYWJCdXR0b24iLCJzaG91bGRIaWRlIiwiZm9ybWF0IiwidW5pdCIsInJvdW5kVG9EZWNpbWFscyIsIm51bWJlciIsImRlY2ltYWxzIiwiZmFjdG9yIiwiY3JlYXRlUmVzb3VyY2VUYWciLCJncm91cE5hbWUiLCJncm91cENvbnRhaW5lciIsInRvZ2dsZUJ1dHRvbiIsIm9uY2xpY2siLCJncm91cCIsImNoaWxkcmVuIiwidGFnTmFtZSIsInRvZ2dsZUdyb3VwVmlzaWJpbGl0eSIsImNyZWF0ZVJlc291cmNlR3JvdXBDb250YWluZXIiLCJyZXNvdXJjZURpc3BsYXlOYW1lIiwicmVzb3VyY2VFbGVtZW50IiwicmVzb3VyY2VOYW1lU3BhbiIsInJlc291cmNlVmFsdWVTcGFuIiwicmVzb3VyY2VSYXRlU3BhbiIsImNoYW5nZVJlc291cmNlT3JkZXIiLCJyZXNvdXJjZUlkIiwibmV3T3JkZXIiLCJvcmRlciIsImVsZW1lbnRJbmNyZWFzZSIsInBhcmVudEVsZW1lbnQiLCJpbmRleCIsImRpc3BsYXlFbGVtIiwid2l0aEdyb3VwcyIsInJlc291cmNlR3JvdXBzIiwic3BlY2lhbCIsImZvb2QiLCJtYXRlcmlhbHMiLCJhZHZhbmNlZCIsIm1ldGFsIiwiY29uc3RydWN0aW9uIiwiZ3JvdXBPZlJlc291cmNlcyIsInJlc291cmNlVG9Ta2lsbE1hcCIsImRhdGEiLCJpbnZlcnRTa2lsbHNUb1Jlc291cmNlcyIsImhhc0dlbmVyYXRlZFNraWxsVGFibGUiLCJ0YWJsZSIsInByb2dyZXNzQmFyIiwidHIiLCJ0ZFByb2dyZXNzIiwic2tpbGxUZXh0IiwiYWJzIiwibGV2ZWx1cCIsInBvcCIsInBsYXllclRvb2xzIiwidWwiLCJsaSIsImNyZWF0ZVRleHROb2RlIiwidXBkYXRlVG9vbFVJIiwiZ2V0VG9vbFZhbHVlRm9yUmVzb3VyY2UiLCJzb3J0ZWRUb29scyIsInNvcnQiLCJyZXNvdXJjZUxpc3QiLCJnb2xkQW1vdW50RWwiLCJidXlSZXNvdXJjZSIsInByaWNlIiwic2VsbFJlc291cmNlIiwiZ2VuZXJhdGVUcmFkZVRhYmxlIiwicm93IiwiZmxvYXRUZXh0IiwiYWxvbmVFbGVtZW50IiwiYnVpbGRpbmdDb3VudCIsImJ1aWxkaW5nTGlzdCIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNvbCIsImJ1dHRvbkNvbmZpZyIsInN0YXRlIiwiY3JhZnRlZCIsInJlcVBvbmRlciIsImRlc2MiLCJlZmZlY3QiLCJwYXJzZUFtb3VudCIsImFtb3VudFRleHQiLCJyZWdleCIsIm1hdGNoIiwicHJvY2Vzc2VkU3RyaW5nIiwiZXhlYyIsImNvbG9yQ2xhc3MiLCJzZWNvbmRzUmVtYWluaW5nIiwicHJvY2Vzc01hdGVyaWFscyIsInNob3dUb29sdGlwIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJzb3VyY2VSb290IjoiIn0=