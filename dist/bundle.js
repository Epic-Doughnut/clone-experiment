(()=>{var e={621:e=>{var t=!1;e.exports={ateFish:t,setAteFish:function(e){return t=e},getAteFish:function(){return t}}},151:(e,t,o)=>{const{buildings:s}=o(882),{buttons:n}=o(54),{resources:i}=o(587),{increaseMaterial:r,increaseMax:a}=o(594),{canBuyBuilding:c,updateSidebar:l}=o(78),{updateTotal:d}=o(150),{hasPerk:u}=o(134),{capitalizeFirst:f}=o(681),{getMaterial:p}=o(924),{passedStage:b}=o(751);function h(e,t,o){let s=t[e];if(s&&s.cost&&s.ratio)for(let e in s.cost)s.cost[e]=Math.round(s.basecost[e]*Math.pow(s.ratio,s.count)),o("Architect")&&(s.cost[e]*=.75);const n=document.querySelector("#"+e);var i=g(s.cost);if(!n)throw"Button not found for "+e;{n.setAttribute("data-tooltip-cost",i);const e=function(e){let t=[];for(let[o,s]of Object.entries(e.effects))t.push(`+${s} max ${o}`);for(let[o,s]of Object.entries(e.boost)){let e=Math.round(100*(s-1));t.push(`+${e}% ${o} production`)}return t.join(", ")}(s);n.setAttribute("data-tooltip-effect",e)}}function g(e){return Object.entries(e).map((([e,t])=>`${t.toFixed(2)} ${e}`)).join("\n")}function m(e,t){const o=t[e];o.cost=JSON.parse(JSON.stringify(o.basecost));const s=Object.entries(o.cost).map((([e,t])=>`${e}: ${t}`)).join(", "),n=function(e,t){return function(o){const s=Object.entries(e).every((([e,t])=>p(e,o)>=Math.floor(t/2))),n=!t.effects||!t.effects.clones||b("clones");return s&&n}}(o.cost,o);return{class:"tooltip "+e,tab:"production",text:`${e.charAt(0).toUpperCase()+e.slice(1)}`,tooltipDesc:t[e].tooltipDesc||"A mysterious building with untold benefits.",tooltipCost:s,requirement:()=>n(),data_building:e}}for(let e in s){const t=m(e,s);n[e]=t}function y(e){console.log("Buying building "+e);const t=s[e];if(c(e)){for(const e in t.cost)r(e,-t.cost[e]);for(const e in t.effects)a(e,t.effects[e]);t.count++,l(),d(),k(e,t.count),h(e,s,u)}}function k(e,t){document.getElementById(`${e}`).textContent=`${f(e).split("_").join(" ")} (${t})`}e.exports={recalculateBuildingCost:h,generateBuildingTooltipCost:g,createBuildingButton:m,updateBuildingButtonCount:k,buyMaxBuildings:function(e){for(;c(e);)y(e)},buyBuilding:y}},64:(e,t,o)=>{const{resources:s}=o(587),{craftedResources:n}=o(371),{getMaterial:i}=o(924);t.canCraft=function(e){let t=!0,o=n[e].cost;try{for(let e in o)if(i(e,s)<o[e]){t=!1;break}}catch(t){console.warn("Error in calculating requirements: ",e,o,t)}return t}},681:(e,t)=>{t.capitalizeFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},590:(e,t,o)=>{t.getCraftedResource=function(e,t){if(e=e.toLowerCase(),t||(t=o(371).craftedResources),t.hasOwnProperty(e))return t[e].value;throw"Invalid crafted resource:"+e}},924:(e,t,o)=>{const{getCraftedResource:s}=o(590);t.getMaterial=function(e,t){return t||(t=o(587).resources),t.hasOwnProperty(e)?t[e].value:s(e,null)}},78:(e,t,o)=>{const{resources:s}=o(587),{skills:n}=o(324),{buildings:i}=o(882),{getMaterial:r}=o(924);let a=new Set(["gatherSticks"]);function c(e){return s.hasOwnProperty(e)?s[e].max:1/0}function l(e){function t(e,t){return e<10?o(e,3)+t:e<100?o(e,2)+t:e<1e3?o(e,1)+t:Math.round(e)+t}function o(e,t){const o=Math.pow(10,t);return(Math.round(e*o)/o).toFixed(t)}return e<1e3?o(e,2):e<1e6?t(e/1e3,"K"):e<1e9?t(e/1e6,"M"):e<1e12?t(e/1e9,"B"):e.toString()}t.allVisibleButtons=a;const d=document.getElementById("levelUpMessage");let u=!1;function f(){const e=document.getElementById("skillsTable");if(u)for(let e in n){(n[e].exp>0||n[e].level>0)&&(document.querySelector("#tr-"+e).style.display="");let t=document.querySelector(`.progressBar[data-skill="${e}"]`);t&&(t.style.width=n[e].exp+"%",document.querySelector("#level-"+e).textContent="["+n[e].level+"]   "+e)}else{console.log("Generating table for the first time"),u=!0;for(let t in n){let o=document.createElement("tr");o.id="tr-"+t;let s=document.createElement("td");s.style.position="relative";let i=document.createElement("div");i.setAttribute("class","progressBar"),i.style.height="20px",i.setAttribute("data-skill",t);let r=document.createElement("span");r.textContent="["+n[t].level+"]   "+t,r.setAttribute("id","level-"+t),r.style.position="absolute",r.style.left="10px",r.style.top="50%",r.style.transform="translateY(-50%)",0==n[t].exp&&0==n[t].level&&(o.style.display="none"),s.appendChild(i),s.appendChild(r),o.appendChild(s),e.appendChild(o)}}}e.exports={getMaterial:r,getMax:c,updateSidebar:function(){for(const[n,i]of Object.entries(s)){const r=document.getElementById("resource-"+n);if(!r)return;var e=!0;for(let t in r.classList)o(751).passedStage(t)&&(e=!1,console.log("dont hide",n,t));i.value>0&&(e=!1,s[n].isVisible=!0),i.isVisible&&(e=!1),e&&(r.style.display="none");const a=document.getElementById(n+"Value");if(a){var t="#fff";i.value===c(n)?t="#fcc":i.value/c(n)>.6&&(t="#eeb"),a.innerHTML=`<span style="color:${t}">${l(i.value)} / ${l(c(n))} </span>`}}},updateSkills:function(e,t){t=Math.abs(t),o(369).isPondered("fasterSkills")&&(t*=1.05);for(let o in n)if(n[o].affectedResources.includes(e)){if(n[o].level>=100){n[o].level=100,n[o].exp=0;continue}n[o].exp+=t/Math.pow(1.4,n[o].level),n[o].exp>=100&&(n[o].level+=1,n[o].exp=0,d.textContent=`Level up! ${o} → ${n[o].level}`,d.classList.remove("hidden"),setTimeout((()=>{d.classList.add("hidden")}),3e3))}o(751).passedStage("skillsTable")&&f()},populateSkillsTable:f,calcCraftBonus:function(e){return 1},isButtonIdVisible:function(e){return a.has(e)},setVisibleButton:function(e){a.add(e)},canBuyBuilding:function(e){let t=!0;const o=i[e];for(const e in o.cost)if(o.cost[e]>r(e,s)){t=!1;break}return t},hasGeneratedSkillTable:u}},842:(e,t)=>{t.O={thinking:"thinking",fishing:"fishing",smithing:"not-unlockable",farming:"agriculture",combat:"combat",hunting:"hunting"}},150:(e,t,o)=>{const{skills:s}=o(324),{resources:n}=o(587),{getMaterial:i}=o(924),{isPondered:r}=o(369),a={};for(let e in s)a[e]=0;const c=document.getElementById("jobsTab");function l(){var e=0;for(let t in a)e+=a[t];return e}Object.keys(s).forEach((e=>{const t=document.createElement("div");t.classList.add("job-button"),t.setAttribute("data-job",e),t.id="job-button-"+e;const o=document.createElement("div");o.classList.add("btn-decrement"),o.textContent="-",t.appendChild(o);const s=document.createElement("span");s.classList.add("job-name"),s.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: 0`,t.appendChild(s);const n=document.createElement("div");n.classList.add("btn-increment"),n.textContent="+",t.appendChild(n),c.appendChild(t)})),document.querySelectorAll(".btn-increment").forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".job-button").getAttribute("data-job");i("clones",n)>l()&&a[e]++,u(e,a[e]),f(e),p(),console.log(d)}))})),document.querySelectorAll(".btn-decrement").forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".job-button").getAttribute("data-job");a[e]>0&&(a[e]--,u(e,a[e]),f(e),p())}))}));let d=new Map;function u(e,t){if(!s[e])return null;let o=s[e].affectedResources;o=o.filter((e=>e in n));let i=o.length,r=Math.floor(t/i);for(let e of o)d.set(e,r);let a=t-r*i;for(let e of o)a>0&&(d.set(e,d.get(e)+1),a--)}function f(e){const t=document.querySelector(`.job-button[data-job="${e}"]`);t||console.warn("Couldn't find job button for job: ",e);const s=t.querySelector(".job-name");s&&(s.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)}: ${a[e]}`),o(594).updateEmojiDisplay()}function p(){document.querySelector("#jobs-total").textContent="Assigned Clones: "+l()+" / "+i("clones",n)}let b=new Map,h=document.getElementById("lineCanvas"),g=h.getContext("2d");function m(e,t,o){let s=e.getBoundingClientRect(),n=s.left+s.width/2,i=scrollY+s.top+s.height/2;g.beginPath(),g.moveTo(n,i),g.lineTo(t,o),g.stroke(),function(e,t,o,s,n,i){let r,a,c,l=s,d=n;e.beginPath(),r=Math.atan2(n-o,s-t),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.moveTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.lineTo(a,c),r+=1/3*(2*Math.PI),a=i*Math.cos(r)+l,c=i*Math.sin(r)+d,e.lineTo(a,c),e.closePath(),e.fill()}(g,n,i,t,o,10)}function y(e,t){let o=a[e];a[e]=0,a[t]+=o,f(e),f(t)}h.width=window.innerWidth,h.height=window.innerHeight,e.exports={clearJobAssignments:function(){g.clearRect(0,0,h.width,h.height),b=new Map},reassignJobsBasedOnResources:function(){try{const e=b.entries();if(void 0===e)throw"Entries is undefined";for(let[t,o]of e){let e=document.getElementById(t).getAttribute("data-job");const r=t.replace("job-button-",""),c=o.replace("job-button-","");let l=!0,d=s[e].affectedResources;if(!d)return;for(const e of d)if(void 0!==n[e]&&i(e)<n[e].max){l=!1;break}l&&a[e]>0&&(y(r,c),u(r,a[r]),u(c,a[c]))}}catch(e){console.warn("reassignJobs",e)}},switchJob:y,drawAllConnections:function(){g.clearRect(0,0,h.width,h.height);try{for(let[e,t]of b.entries()){let o=document.getElementById(e),s=document.getElementById(t),n=s.getBoundingClientRect(),i=n.left+n.width/2,r=0;r=n.bottom>o.getBoundingClientRect().bottom?s.offsetTop-10:s.offsetTop+s.offsetHeight+10,m(o,i,r)}}catch(e){console.warn("drawAllConnections",e)}},getWorkers:function(e){return d.get(e)},updateTotal:p,setConnections:function(e){b=e},getConnections:function(){return b},distributeWorkers:u,updateDisplay:f,jobCounts:a}},882:e=>{const t={shelter:{basecost:{sticks:30},effects:{clones:1},boost:{},count:0,ratio:1.3,tooltipDesc:"For when you need a home away from home."},hut:{basecost:{sticks:50,vines:30},effects:{clones:1},boost:{},count:0,ratio:1.2,tooltipDesc:"A cozy, idyllic chunk of wood."},house:{basecost:{wood:50,rocks:20,fish:10},effects:{clones:2},boost:{},count:0,ratio:1.4,tooltipDesc:"Every clone's dream. Minus the white picket fence."},teepee:{basecost:{wood:10,hides:25,fish:15},effects:{clones:2},boost:{},count:0,ratio:1.5,tooltipDesc:"Wrap some hides around some wood and call it a home."},shed:{basecost:{wood:40},effects:{wood:50,sticks:50,rocks:20},boost:{},count:0,ratio:1.1,tooltipDesc:"The ultimate storage solution for the pack rat in you."},stockpile:{basecost:{rocks:30},effects:{wood:100},ratio:1.1,boost:{},count:0,tooltipDesc:"Chuck a bunch of logs in a pile, what could happen?"},drying_racks:{basecost:{sticks:30,fish:5},effects:{fish:20},boost:{},count:0,ratio:1.1,tooltipDesc:"Air drying: Nature's way of preserving food."},workshop:{basecost:{wood:40,sticks:20,rocks:10},effects:{rocks:50,ore:50,sand:100},boost:{},count:0,ratio:1.2,tooltipDesc:"DIY's dream destination."},barn:{basecost:{wood:30,wheat:5},effects:{wheat:100,berries:40,vines:40},boost:{},count:0,ratio:1.2,tooltipDesc:"Hay, what's in that building?"},herbalist_hut:{basecost:{sticks:50,vines:50,herbs:50},effects:{herbs:100,vines:100},boost:{herbs:1.2,vines:1.1},count:0,ratio:1.2,tooltipDesc:"A place for brewing and stewing."},bakery:{basecost:{wood:80,wheat:100,rocks:40},effects:{wheat:200},boost:{},count:0,ratio:1.25,tooltipDesc:"Freshly baked bread, hot and ready."},animal_pen:{basecost:{sticks:50,game:20,fish:25},effects:{game:100,hides:30},boost:{},count:0,ratio:1.2,tooltipDesc:"A place to put those lesser than you."},grove:{basecost:{wood:20,vines:20},effects:{},boost:{wood:1.05,sticks:1.1},count:0,ratio:1.2,tooltipDesc:"A nice grove of trees to find wood faster."},fish_traps:{basecost:{rope:40},effects:{},boost:{fish:1.05},count:0,ratio:1.2,tooltipDesc:"Fishing made easy. No patience required."},mine:{basecost:{rocks:30,wood:30},effects:{},boost:{ore:1.05,rocks:1.05},count:0,ratio:1.2,tooltipDesc:"Dig deep and find your inner ore."},campfire:{basecost:{rocks:20,sticks:20},effects:{},boost:{all:1.05},count:0,ratio:1.5,tooltipDesc:"Where stories are told and marshmallows are toasted."},lumber_yard:{basecost:{wood:200,iron:1},effects:{},boost:{wood:1.2},count:0,ratio:1.3,tooltipDesc:"Wood you like some more wood?"},stone_quarry:{basecost:{rocks:50,wood:20,rope:30},effects:{},boost:{rocks:1.1},count:0,ratio:1.3,tooltipDesc:"Rock on with your bad self!"},fishery:{basecost:{wood:40,rope:15},effects:{},boost:{fish:1.1},count:0,ratio:1.2,tooltipDesc:"Fish are friends. And food."},vineyard:{basecost:{wood:20,vines:50},effects:{},boost:{vines:1.1},count:0,ratio:1.2,tooltipDesc:"For the finest vines. What else would it grow?"},forge:{basecost:{rocks:40,ore:20,wood:100},effects:{},boost:{ore:1.2},count:0,ratio:1.2,tooltipDesc:"Melt, mold, and make marvelous metals."},water_well:{basecost:{rocks:30,rope:1,wood:10},effects:{freshwater:30},boost:{freshwater:1.1},count:0,ratio:1.4,tooltipDesc:"Fresh water on demand!"},tower:{basecost:{bricks:20,rocks:10,wood:30},effects:{},boost:{hides:1.05,game:1.1},count:0,ratio:1.3,tooltipDesc:"See things from afar."},tannery:{basecost:{wood:60,hides:40},effects:{hides:50},boost:{hides:1.1},count:0,ratio:1.3,tooltipDesc:"Treat hides to make quality leather."},marketplace:{basecost:{wood:100,rocks:50,berries:40,gold:1},effects:{},boost:{berries:1.2,herbs:1.2,ore:1.1},count:0,ratio:1.25,tooltipDesc:"A bustling hub of trade and barter."},windmill:{basecost:{wood:100,rocks:60,wheat:50},effects:{},boost:{wheat:1.2},count:0,ratio:1.3,tooltipDesc:"Grind grains efficiently with wind power."},telescope:{basecost:{glass:1,wood:10,ponder:10},effects:{},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"Look, up in the sky! It's a star!"},observatory:{basecost:{bricks:70,wood:30,glass:50,ponder:50},effects:{},boost:{ponder:1.2},count:0,ratio:1.3,tooltipDesc:"Stargazing has never been so... productive?"},library:{basecost:{wood:70,paper:25,glass:5,ponder:25},effects:{ponder:50},boost:{ponder:1.1},count:0,ratio:1.3,tooltipDesc:"Knowledge is power. And a fire hazard if not stored properly."},desk:{basecost:{wood:15,sticks:20,ponder:10},effects:{ponder:30},boost:{ponder:1.05},count:0,ratio:1.2,tooltipDesc:"A writer's block is no match for armor-piercing pencils!"}};e.exports={buildings:t,getBuildingCount:function(e){return t[e].count},getBoost:function(e,o){const s=t[e];if(s&&s.boost){if(s.boost[o])return s.boost[o];if(s.boost.all)return s.boost.all}return null}}},54:(e,t,o)=>{const{passedStage:s}=o(751),{getMaterial:n}=o(924),{hasTool:i}=o(609),{resources:r}=o(587),a={gatherSticks:{class:"tooltip startVisible",tab:"production",text:"𓀝 Gather Sticks",tooltipDesc:"Five, Six, Pick up sticks.",tooltipCost:"Free",requirement:()=>!0,hide:()=>!1},gatherVines:{class:"tooltip stick",tab:"production",text:"𓍯 Gather Vines",tooltipDesc:"Some vines are rubbery, others are gummy.",tooltipCost:"Free",requirement:()=>n("sticks",r)>=10||s("vines"),hide:()=>!1},gatherRocks:{class:"tooltip stick",tab:"production",text:"𓊖𓀩 Gather Rocks",tooltipDesc:"Not a single window to throw them through.",tooltipCost:"Free",requirement:()=>n("vines",r)>=10||s("rocks"),hide:()=>!1},gatherFish:{class:"tooltip fishing",tab:"production",text:"𓆝 𓆟 𓆞 Go Fish",tooltipDesc:"Got any tuna?",tooltipCost:"Free",requirement:()=>i("Spear")||i("Fishing Rod")||s("fishing"),hide:()=>!1},gatherWood:{class:"woodToggle wood",tab:"production",text:"𓌏 Chop Wood",tooltipDesc:"An axe hurts way less than using your hands.",tooltipCost:"",requirement:()=>i("Axe")||s("wood"),hide:()=>!1},gatherOre:{class:"tooltip ",tab:"production",text:"⛏ Mine Ore",tooltipDesc:"Diggy Diggy Hole",tooltipCost:"Free",requirement:()=>i("Pickaxe")||s("ore"),hide:()=>!1},productionTabButton:{class:"tab-button",text:"Production",showTab:"productionTab",tab:"tabs",requirement:()=>s("tab-button"),hide:()=>!1},experimentTabButton:{class:"tab-button",text:"Experiment",showTab:"experimentTab",tab:"tabs",requirement:()=>s("tab-button"),hide:()=>!1},ponderTabButton:{class:"tab-button",text:"Ponder",showTab:"ponderTab",tab:"tabs",requirement:()=>s("ponder-tab"),hide:()=>!1},jobsTabButton:{class:"tab-button",text:"Jobs",showTab:"jobsTab",tab:"tabs",requirement:()=>s("jobs-tab"),hide:()=>!1},skillsTabButton:{class:"tab-button",text:"Skills",showTab:"skillsTab",tab:"tabs",requirement:()=>s("skillsTable"),hide:()=>!1},perksTabButton:{class:"tab-button",text:"Perks",showTab:"perksTab",tab:"tabs",requirement:()=>s("perksTab"),hide:()=>!1},gatherPonder:{class:"tooltip",text:"Ponder",tooltipDesc:"Wrap your head around the great mysteries",tooltipCost:"Time",tab:"ponder",requirement:()=>s("ponder-tab"),hide:()=>!1}};e.exports={buttons:a}},371:(e,t,o)=>{const{getMaterial:s}=o(924),{getCraftedResource:n}=o(590),{resources:i}=o(587),{passedStage:r}=o(751),a={sharprocks:{text:"Sharp Rocks",id:"craftSharprocks",value:0,cost:{rocks:2},craftedOnce:!1,requirement:()=>s("rocks",i)>=5,tooltipDesc:"Craft a rock using nothing but rocks!",tooltipCost:"Rocks: 5",class:"craftRocks"},rope:{id:"craftRope",value:0,cost:{vines:3},craftedOnce:!1,requirement:()=>s("vines",i)>=3,tooltipDesc:"The basis of attaching things to other things.",tooltipCost:"Vines: 3",class:"rope"},handle:{id:"craftHandle",value:0,cost:{sticks:2},craftedOnce:!1,requirement:()=>n("sharpRocks")>=1,tooltipDesc:"Shear off that bark to hold it better",tooltipCost:"Sharp Rocks: 1",class:"craftRocks"},staff:{id:"craftStaff",value:0,cost:{handle:2,rope:1},craftedOnce:!1,requirement:()=>n("handle")>=1,tooltipDesc:"Stick some sheared sticks together",tooltipCost:"Handles: 2",class:"rope"},fishingrod:{id:"craftFishingrod",value:0,cost:{staff:1,rope:2},craftedOnce:!1,requirement:()=>r("fishing"),tooltipDesc:"A weapon feared by underwater life",tooltipCost:"",class:"rope"},spear:{id:"craftSpear",value:0,cost:{staff:1,sharpRocks:1,rope:1},craftedOnce:!1,requirement:()=>n("staff")>=1,tooltipDesc:"A long and pointy stick",tooltipCost:"Staffs: 1",class:"rope"},axe:{id:"craftAxe",value:0,cost:{handle:1,rope:1,sharprocks:2},craftedOnce:!1,requirement:()=>n("spear")>=1,tooltipDesc:"Put a rock straight through that handle",tooltipCost:"Spears: 1",class:"rope"},pickaxe:{id:"craftPickaxe",value:0,cost:{handle:1,sharpRocks:3,rope:1,rocks:10},craftedOnce:!1,requirement:()=>n("axe")>=1,tooltipDesc:"Sadly not made of diamonds",tooltipCost:"Axes: 1",class:"rope"},glass:{id:"craftGlass",value:0,cost:{sand:10},craftedOnce:!1,requirement:()=>r("glassBlowing")},paper:{id:"craftPaper",value:0,cost:{wood:12},craftedOnce:!1,requirement:()=>r("paper")},gold:{id:"craftGold",value:0,cost:{ore:100},craftedOnce:!1,requirement:()=>r("metalWorking"),tooltipDesc:"There's some yellow bits in this ore",tooltipCost:"",class:"metalWorking"},iron:{id:"craftIron",value:0,cost:{ore:20},craftedOnce:!1,requirement:()=>r("metalWorking"),tooltipDesc:"There's some sturdy-looking bits in this ore",tooltipCost:"",class:"metalWorking"},silver:{id:"craftSilver",value:0,cost:{ore:50},craftedOnce:!1,requirement:()=>r("metalWorking"),tooltipDesc:"There's some shiny gray bits in this ore",tooltipCost:"",class:"metalWorking"},bricks:{id:"craftBricks",value:0,cost:{clay:15},craftedOnce:!1,requirement:()=>s("clay",i)>5,tooltipDesc:"Leave some clay by the fire",tooltipCost:""}};e.exports={craftedResources:a,getCraftedResourceConfigById:function(e){for(let t in a)if(a[t].id===e)return a[t];return null},getCraftedResourceKeyByConfig:function(e){for(let t in a)if(a[t].id===e.id)return t;return null}}},55:e=>{e.exports={perks:{tier1:["Lumberjack","Miner","Botanist","Leader","Architect"],tier2:["Thinker","General","Merchant","Generalist","Specialist"]}}},397:e=>{e.exports={ponders:{ponder1:{id:"ponderPonder1",isPondered:!1,cost:{ponder:10},text:"Think Harder",tooltipDesc:"5% boost to pondering",requirement:()=>!0},"jobs-tab":{id:"ponderJobs-tab",isPondered:!1,cost:{ponder:20},text:"Understand Cloning",tooltipDesc:"Why are there two of you?",requirement:()=>!0,tooltipCost:"Sanity (20 Ponder)"},skillsTable:{id:"ponderSkillsTable",isPondered:!1,cost:{ponder:40},tooltipDesc:"You're starting to learn things, right?",requirement:()=>!0,text:"Notice Improvement"},fishing:{id:"ponderFishing",isPondered:!1,cost:{ponder:50,fish:50},tooltipDesc:"What if... your clones could go fishing?",requirement:()=>!0,text:"Fishing Job"},management:{id:"ponderManagement",isPondered:!1,cost:{ponder:200,clones:5},text:"Meta-jobs",requirement:()=>!0,tooltipDesc:"You managed to make clones manage each other. You call them "},fasterSkills:{id:"ponderFasterSkills",isPondered:!1,cost:{ponder:80},requirement:()=>!0,text:"Skills I",tooltipDesc:"Think Smarter. 5% bonus to skill exp"},thinking:{id:"ponderThinking",isPondered:!1,cost:{ponder:150},text:"Thinking Job",requirement:()=>!0,tooltipDesc:"Let your clones start thinking for themselves."},fasterResourceGain:{id:"ponderFasterResourceGain",isPondered:!1,cost:{ponder:120},requirement:()=>!0,text:"Productivity I",tooltipDesc:"Just work harder. 5% bonus to resource gain"},autoClone:{id:"ponderAutoClone",requirement:()=>!0,isPondered:!1,text:"Auto Clone",tooltipDesc:"Automatically produce clones",cost:{ponder:140,clones:20}},effectiveBuildings:{id:"ponderEffectiveBuildings",requirement:()=>!0,isPondered:!1,text:"Buildings I",tooltipDesc:"Increase building effects by 1%",cost:{ponder:140}},agriculture:{id:"ponderAgriculture",requirement:()=>!0,isPondered:!1,text:"Agriculture",tooltipDesc:"Find some seeds from all those plants",cost:{ponder:150}},combat:{id:"ponderCombat",requirement:()=>!0,isPondered:!1,text:"Combat",tooltipDesc:"Is there anyone to spar with besides you?",cost:{ponder:300,spear:100}},hunting:{id:"ponderHunting",requirement:()=>!0,isPondered:!1,text:"Hunting",tooltipDesc:"At least there are animals",cost:{ponder:140,fish:50}},perksTab:{id:"ponderPerksTab",requirement:()=>!0,isPondered:!1,text:"Perks",tooltipDesc:"Maybe you as the original should specialize",cost:{ponder:400}},autocraft:{id:"ponderAutocraft",requirement:()=>!0,isPondered:!1,text:"Auto Craft",tooltipDesc:"Automatically craft resources when they reach the storage limit",cost:{ponder:400,wood:1e3,rocks:500,wheat:1e3}},finish:{id:"ponderFinish",requirement:()=>!0,isPondered:!1,text:"Finish the Game",tooltipDesc:"That's it. You're done",cost:{ponder:1e3}}}}},587:e=>{const t={clones:{id:"makeClone",value:0,isVisible:!1,max:0},sticks:{id:"gatherSticks",isGetting:!1,isVisible:!0,activeText:"𓆱𓀜 Gathering Sticks",defaultText:"𓆱 Gather Sticks",value:0,emoji:"𓀝",max:50},vines:{id:"gatherVines",isGetting:!1,isVisible:!1,activeText:"𓍯𓀪 Gathering Vines",defaultText:"𓍯 Gather Vines",tools:[{tool:"Axe",val:1.5}],value:0,emoji:"𓀪",max:50},rocks:{id:"gatherRocks",isGetting:!1,isVisible:!1,activeText:"𓊖𓀩 Gathering Rocks",defaultText:"𓊖 Gather Rocks",value:0,emoji:"𓀩",max:30},fish:{id:"gatherFish",isGetting:!1,isVisible:!1,activeText:"𓆝𓆟𓆞 𓁃 Gone Fishing",defaultText:"𓆝𓆟𓆞 Go Fish",value:0,emoji:"𓁃",tools:[{tool:"Spear",val:1},{tool:"Fishing Rod",val:2}],max:10},wood:{id:"gatherWood",isGetting:!1,isVisible:!1,activeText:"𓀨 Chopping Wood",defaultText:"𓌏 Chop Wood",emoji:"𓀨",tools:[{tool:"Axe",val:1.5},{tool:"Chainsaw",val:3}],value:0,max:40},ponder:{id:"gatherPonder",isGetting:!1,isVisible:!1,activeText:"𓀁 Pondering",defaultText:"𓀁 Ponder",emoji:"𓀁",value:0,max:20},ore:{value:0,id:"gatherOre",isGetting:!1,isVisible:!1,activeText:"𓉸𓁄 Mining Ore",defaultText:"𓉸 Mine Ore",emoji:"𓁄",max:20},sand:{value:0,id:"gatherSand",isGetting:!1,isVisible:!1,activeText:"𓀩 Scooping Sand",defaultText:"𓀩 Scoop Sand",emoji:"𓀩",max:20},wheat:{value:0,id:"gatherWheat",isGetting:!1,isVisible:!1,activeText:"𓀩 Harvesting Wheat",defaultText:"𓀩 Harvest Wheat",emoji:"𓀝",max:20},freshwater:{value:0,id:"gatherFreshwater",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},hides:{value:0,id:"gatherHides",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀎",max:50},clay:{value:0,id:"gatherClay",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},berries:{value:0,id:"gatherBerries",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},herbs:{value:0,id:"gatherHerbs",isGetting:!1,isVisible:!1,activeText:"water",defaultText:"water",emoji:"𓀩",max:50},game:{value:0,id:"gatherGame",isGetting:!1,isVisible:!1,activeText:"𓃚𓀎 Hunting",defaultText:"𓀎 Hunt",emoji:"𓀎",max:50}};e.exports={resources:t,isResource:function(e){return e in t},getResourceConfigById:function(e){for(let o in t)if(t[o].id===e)return t[o];return null}}},324:e=>{e.exports={skills:{gathering:{exp:0,level:0,affectedResources:["sticks","vines","sand","herbs","berries"]},masonry:{exp:0,level:0,affectedResources:["rocks","ore","clay"],needTools:[{Pickaxe:["ore"]}]},carpentry:{exp:0,level:0,affectedResources:["wood","handle","staff","fishingrod"],needTools:[{Axe:["wood"]}]},thinking:{exp:0,level:0,affectedResources:["ponder"]},smithing:{exp:0,level:0,affectedResources:["axe","pickaxe","spear","glass","iron","silver","gold"]},farming:{exp:0,level:0,affectedResources:["wheat","freshwater"]},combat:{exp:0,level:0,affectedResources:[]},fishing:{exp:0,level:0,affectedResources:["fish","freshwater"]},hunting:{exp:0,level:0,affectedResources:["hides","game"]}}}},808:(e,t,o)=>{const{craftedResources:s,getCraftedResourceConfigById:n}=o(371),{buildings:i}=o(882),{ponders:r}=o(397),{buttons:a}=o(54),{resources:c,getResourceConfigById:l}=o(587),{saveGame:d,loadGame:u}=o(502),{createResourceTag:f,generateTooltipCost:p,appendCraftedResourceButtons:b,increaseMaterial:h,craftAllResources:g,craftResource:m,calcIncrease:y,updateResourceIncreaseRates:k,calcSecondsRemaining:v,increaseMax:x}=o(594),{recalculateBuildingCost:w,buyMaxBuildings:C,buyBuilding:T}=o(151),{hasPerk:B}=o(134),{updateSidebar:S,getMax:A}=o(78),{makeVisible:R}=o(123),{updateButtonVisibility:D}=o(667),{getCraftedResource:q}=o(590),{getMaterial:M}=o(924),{canUnlock:E,isPondered:P,generatePonderButtons:j}=o(369),{hasTool:F,addTool:I}=o(609),{getAteFish:O,setAteFish:L}=o(621),{drawAllConnections:$,updateTotal:G}=o(150),{capitalizeFirst:V}=o(681),{passedStage:W}=o(751),_=document.querySelector("#resources"),H=document.querySelector("#emojiGatherDisplay"),N={SharpRocks:"craftRocks",Spear:"fishing",FishingRod:"fishing",Axe:"wood",Pickaxe:"ore"},J=[{condition:()=>M("sticks",c)>=1,action:()=>R("stick")},{condition:()=>M("sticks",c)>=10,action:()=>R("vines")},{condition:()=>M("vines",c)>=10,action:()=>R("rocks")},{condition:()=>M("rocks",c)>=1,action:()=>{R("tab-button"),R("craftRocks")}},{condition:()=>M("fish",c)>=1,action:()=>R("fishing")},{condition:()=>F("Axe"),action:()=>R("wood")},{condition:()=>q("rope")>=1,action:()=>R("rope")},{condition:()=>M("fish",c)>=5&&!O(),action:()=>{document.getElementById("eatFish").style.display="block",document.getElementById("eatFish").classList.add("visible")}},{condition:()=>O(),action:()=>{R("clone"),R("ponder-tab")}}];let U=document.querySelectorAll(".tab-content > .content");function z(e){console.log("show tab: "+e);for(let e of U)e.classList.remove("active");let t=document.querySelectorAll(".tab-button");for(let e of t)e.classList.remove("active");document.getElementById(e).classList.add("active");const o=`#${e}Button`;let s=document.querySelector(o);s&&s.classList.add("active"),"jobsTab"===e&&$()}document.addEventListener("keydown",(function(e){switch(e.key){case"1":z("productionTab");break;case"2":W("tab-button")&&z("experimentTab");break;case"3":W("ponder-tab")&&z("ponderTab");break;case"4":W("jobs-tab")&&z("jobsTab");break;case"5":W("skillsTable")&&z("skillsTab");break;case"6":W("perksTab")&&z("perksTab")}}));const Y=document.getElementById("darkModeToggle"),K=document.body;K.classList.toggle("dark-mode"),Y.classList.toggle("dark");let Q=!0;const X=document.getElementById("overlay"),Z=document.getElementById("message");function ee(e,t){const o=e.replace(t,`<span id="alone" title="You feel peckish for some seafood">${t}</span>`);Z.innerHTML=o}let te=50,oe=null,se=0,ne=0;function ie(e){null===oe&&(oe=e);const t=e-oe;se+=t,ne+=t,oe=e;let o=te;for(ne>=10*te&&(te=ne/10);ne>=te;)ne-=te,ae(te);te=o,requestAnimationFrame(ie)}let re=0;function ae(e,t){for(let t in c)h(t,y(t,e));k(),function(){J.forEach((e=>{e.condition()&&e.action()}));for(let e in N)!F(e)&&q(e)>0&&(I(e),R(N[e]));try{D(),null!==de&&le(de)}catch(e){console.warn(e)}}(),re+=e,re>=1e4&&(d(),re=0)}const ce=document.getElementById("dynamic-tooltip");function le(e){const t=e.getAttribute("data-tooltip-desc")||e.getAttribute("tooltipDesc"),o=e.getAttribute("data-tooltip-effect"),s=l(e.id)||n(e.id)||i[e.getAttribute("data_building")]||r[e.getAttribute("unlock")],a=e.getAttribute("tooltipCost")||s.cost;!function(e,t,o,s){let n="";if(t&&(n+=`<span >${t}</span><hr>`),o&&(n+=`<span style="color:#00ABE7">${o}</span><hr>`),s)try{var i="";for(let e in s){const t=s[e];var r=M(e,c)>=t?"enough":"not-enough";A(e)<t&&(r="exceeds-max"),i+=`<span class="tooltip-${e} ${r}">${t.toFixed(0)} ${e}</span>`;const o=v(e,t);o>0&&"exceeds-max"!=r&&(i+=`<span class="time-remaining">(${o.toFixed(0)} seconds)</span>`),i+="<br>"}n+=i}catch(e){n+=s}ce.innerHTML=n,ce.style.left=e.getBoundingClientRect().right+5+"px",ce.style.top=e.getBoundingClientRect().top-ce.offsetHeight/2+"px",ce.style.display="block"}(e,t,o,a)}document.addEventListener("DOMContentLoaded",(e=>{function t(e){for(let t in s)if(s[t].id===e)return t;return""}j(r),b(),function(){console.log("Generating buttons"),console.trace();const e=e=>{const t=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div");return t.style.width="33.33%",o.style.width="33.33%",s.style.width="33.33%",t.style.display="inline-block",o.style.display="inline-block",s.style.display="inline-block",t.classList.add("visible"),o.classList.add("visible"),s.classList.add("visible"),e.prepend(s),e.prepend(o),e.prepend(t),[t,o,s]},t=document.getElementById("tabs"),o=document.getElementById("productionTab"),n=document.getElementById("experimentTab").querySelector(".button-columns"),r=document.getElementById("ponderTab"),c=e(o),l=e(n),d=e(r);let u=0,f=0,b=0;for(let e in a){const o=a[e],n=document.createElement("button");n.id=e,n.className=o.class,n.textContent=o.text,o.tooltipDesc&&n.setAttribute("data-tooltip-desc",o.tooltipDesc),o.tooltipEffect&&n.setAttribute("data-tooltip-effect",o.tooltipEffect),n.setAttribute("unlock",o.unlock),n.setAttribute("data_building",o.data_building);const r=Object.values(s).find((t=>t.id===e));r&&(o.tooltipCost=p(r.cost)),n.setAttribute("data-tooltip-cost",o.tooltipCost),o.showTab&&n.addEventListener("click",(()=>{z(o.showTab),console.log("Switching to tab: "+o.showTab)})),"production"===o.tab?(c[u].appendChild(n),u=(u+1)%3):"experiment"===o.tab?(l[f].appendChild(n),f=(f+1)%3):"tabs"===o.tab?t.appendChild(n):"ponder"===o.tab?(d[b].appendChild(n),b=(b+1)%3):o.tab,Object.keys(i).find((t=>t===e))&&w(e,i,B);try{o.requirement()||(n.style.display="none")}catch(e){}}}(),u(),S(),z("productionTab"),document.addEventListener("click",(e=>{if(e.target.matches("button")){const n=e.target;if(n.getAttribute("data_building")&&"undefined"!==n.getAttribute("data_building")&&n.classList.contains("purchasable")){var o=n.getAttribute("data_building");e.shiftKey?C(o):T(o)}if(n.classList.contains("unlock")){const e=n.getAttribute("unlock");if(console.log(e),r[e]){var s=!0;for(let t in r[e].cost)if(M(t,c)<r[e].cost[t]){console.log("Cannot unlock "+e),s=!1;break}if(s){for(let t in r[e].cost)h(t,-r[e].cost[t]);r[e].isPondered=!0,R(e),n.display="none",console.log("Unlocking "+e)}}}"undefined"!==n.id&&(console.log(n),"gather"===n.id.slice(0,6)&&function(e){const t=c[e],o=document.querySelector("#resources").querySelector("#resource-"+e),s=document.querySelector("#gather"+e.charAt(0).toUpperCase()+e.slice(1));t.isGetting?(t.isGetting=!1,s.textContent=t.defaultText,o&&(o.style.fontWeight="normal")):(function(){for(let e in c){c[e].isGetting=!1;const t=document.querySelector("#gather"+V(e));t&&(t.textContent=c[e].defaultText);const o=_.querySelector("#resource-"+e);o&&(o.style.fontWeight="normal")}}(),t.isGetting=!0,s.textContent=t.activeText,o&&(o.style.fontWeight="bold"),H.textContent=t.emoji,console.log(t.emoji))}(function(e){for(let t in c)if(c[t].id===e)return t;return""}(n.id)),"craft"===n.id.slice(0,5)&&(e.shiftKey?g(t(n.id)):m(t(n.id))),"saveButton"===n.id&&d(),"eatFish"===n.id&&(!O()&&M("fish",c)>=1&&(h("fish",-1),function(){const e=document.getElementById("overlay"),t=document.getElementById("overlay-text"),o=document.getElementById("overlay-button");e.style.display="flex",setTimeout((()=>{t.style.opacity="1"}),2e3),setTimeout((()=>{o.style.display="block"}),5e3)}(),L(!0),document.querySelector("#eatFish").style.display="none",setTimeout((()=>{ee("You are with yourself in a forest.","with yourself"),x("clones",1),h("clones",1)}),1e3))),"overlay-button"===n.id&&(X.style.display="none"),"deleteSaveButton"===n.id&&(localStorage.removeItem("save"),location.reload()),"clearJobAssignments"===n.id&&clearJobAssignments(),"darkModeToggle"===n.id&&(K.classList.toggle("dark-mode"),Y.classList.toggle("dark"),Q=!Q,Y.textContent=Q?"Light Mode":"Dark Mode"))}e.target.matches("#alone")&&(c.clones.value<c.clones.max&&(c.clones.value+=1),G())})),requestAnimationFrame(ie),document.querySelectorAll(".tooltip").forEach((e=>{e.addEventListener("mouseenter",(function(t){le(e),de=e})),e.addEventListener("onclick",(function(){le(e)})),e.addEventListener("mouseleave",(function(){ce.style.display="none",de=null}))})),G()}));var de=null;e.exports={updateSidebar:S,updateUI:function(e){const t=document.createElement("div");t.innerHTML=`${e}: ${c[e].value}`,document.body.appendChild(t)},setTotalTime:function(e){se=e},changeMessage:ee,getMessage:function(){return Z},total_time:se,currentHoverButton:de}},123:(e,t,o)=>{const{setStage:s,passedStage:n}=o(751),{updateButtonVisibility:i}=o(667);t.makeVisible=function(e){n(e)||s(e);const t=document.querySelectorAll("p."+e);t.forEach((e=>e.classList.add("visible"))),t.forEach((e=>e.style.display="")),i()}},134:(e,t,o)=>{const{buildings:s}=o(882),{recalculateBuildingCost:n}=o(151),{perks:i}=o(55),{selectCorrectPerkButton:r}=o(495);let a=[];function c(e){return a.includes(e)}function l(e){if(a.push(e),"Architect"===e)for(let e in s)n(e,s,c)}e.exports={hasPerk:c,addPerk:l,selectAbility:function(e){c(e)||window.confirm("Do you want to select "+e+"? This decision cannot be easily changed.")&&(l(e),r(e))},getPerkFromTier:function(e){for(let t in i["tier"+e])if(c(t))return t;return""},getAllPerks:function(){return a}}},369:(e,t,o)=>{const{capitalizeFirst:s}=o(681),{ponders:n}=o(397),{getMaterial:i}=o(924),{resources:r}=o(587),{buttons:a}=o(54);function c(e){return!!n[e]&&n[e].isPondered}e.exports={canUnlock:function(e){var t="";for(let o in n)n[o].id===e&&(t=o);if(""===t)return console.warn("invalid unlock id: ",e),!1;var o=!0;for(let e in n[t].cost)if(i(e,r)<n[t].cost[e]){o=!1;break}return o},isPondered:c,generatePonderButtons:function(e){for(const[t,i]of Object.entries(e)){const e=`ponder${s(t)}`;a[e]={class:"tooltip unlock",text:i.text||"Ponder a Mystery?",tooltipDesc:i.tooltipDesc||"Who knows what you'll discover",tooltipCost:i.tooltipCost,tab:"ponder",unlock:t,requirement:()=>o(78).getMax("ponder")>=n[t].cost.ponder/2,hide:()=>c(t)}}}}},594:(e,t,o)=>{const{resources:s}=o(587),{craftedResources:n}=o(371),{buildings:i,getBoost:r}=o(882),{ponders:a}=o(397),{buttons:c}=o(54),{skills:l}=o(324),{getWorkers:d,updateTotal:u,reassignJobsBasedOnResources:f}=o(150),{hasTool:p,getToolValueForResource:b}=o(609),{updateSidebar:h,updateSkills:g,calcCraftBonus:m}=o(78),{canCraft:y}=o(64),{capitalizeFirst:k}=o(681),{getMaterial:v}=o(924),{hasPerk:x}=o(134),{isPondered:w}=o(369),{getCraftedResource:C}=o(590);function T(e,t){var o=0;if(!s.hasOwnProperty(e))return o;"clones"===e&&w("autoClone")&&(o=1);var n=b(s[e]);s[e].isGetting&&(o+=n),o+=(x("Leader")?.375:.25)*d(e)||0,!x("Lumberjack")||"wood"!=e&&"sticks"!=e||(o*=1.25),!x("Miner")||"rocks"!=e&&"ore"!=e||(o*=1.25),!x("Botanist")||"vines"!=e&&"herbs"!=e&&"wheat"!=e||(o*=1.25);for(let t in l)if(l[t].affectedResources.includes(e)){let e=1.06;o*=1+(Math.pow(e,l[t].level)-1)/100}for(let t in i){const s=r(t,e);if(s){var a=Math.pow(s,i[t].count);w("effectiveBuildings")&&(a*=1.01),o*=a}}return"ponder"===e&&w("ponder1")&&(o*=1.05),w("fasterResourceGain")&&(o*=1.05),o*=t/1e3,parseFloat(o.toFixed(3))}const B=document.getElementById("resources");function S(e){if(!s.hasOwnProperty(e))throw"Invalid resource: "+e;const t=k(e).split("_").join(" "),o=document.createElement("p");o.className=`${e} resource`,o.id=`resource-${e}`;const n=document.createElement("span");n.className="resourceName",n.textContent=`${t}:`;const i=document.createElement("span");i.className="resourceValue",i.id=`${e}Value`,i.textContent=`${s[e].value.toFixed(1)} / ${s[e].max.toFixed(1)}`;const r=document.createElement("span");function a(e,t){const o=document.getElementById(e);o&&(o.style.order=t)}r.className="resourceRate",r.innerHTML=`(+\n            <span id="${e}IncreaseRate">0</span>/s)`,o.appendChild(n),o.appendChild(i),o.appendChild(r),B.appendChild(o),a("resource-clones",1),a("resource-sticks",2),a("resource-vines",3),a("resource-rocks",4),a("resource-fish",5),a("resource-freshwater",5.5),a("resource-wood",6),a("resource-ore",7),a("resource-sand",8),a("resource-clay",9),a("resource-wheat",10),a("resource-hides",11),a("resource-game",12),a("resource-herbs",13),a("resource-berries",14),a("resource-ponder",50)}function A(e){const t=B.querySelector(`#${e}Value`),o=document.querySelector(`button#craft${k(e)}`);try{t&&!o||S(e)}catch(e){}if(t){try{t.textContent=`${s[e].value.toFixed(1)} / ${s[e].max.toFixed(1)}`}catch(o){console.error(t,e,o)}if(s[e].isGetting){const t=document.querySelector("#resources").querySelector("#resource-"+e);t&&(t.style.fontWeight="bold")}}else if(o){const t=o.querySelector(`#${e}Value`);t?t.textContent=C(e).toFixed(0):console.warn(`Resource button found but no count span for: ${e}`)}}function R(e,t){if(0!=t){if(e=e.toLowerCase(),s.hasOwnProperty(e))w("fasterResourceGain")&&(t*=1.05),s[e].value<s[e].max&&t>0?(s[e].value+=t,g(e,t)):t<0?s[e].value+=t:(s[e].value=s[e].max,w("autocraft")&&j[e]&&F(j[e])),A(e),f();else{if(!n.hasOwnProperty(e))throw"Tried to increase Invalid material: "+e;n[e].value+=t,A(e),g(e,t)}h()}}function D(e){const t=document.createElement("button");t.className=e.class+" tooltip",t.setAttribute("id",e.id),t.requirement=e.requirement;const o=Object.keys(n).find((t=>n[t]===e)),s=parseFloat(n[o].value).toFixed(0);return t.innerHTML=`${e.text||k(o)}: <span id="${o+"Value"}">${s}</span>`,t.tab="experiment",t}const q=document.querySelector("#craftedResourceButtons");function M(e){var t="";for(let o in e)t+=`<span class="tooltip-${o} ${v(o,s)>=e[o]?"enough":"not-enough"}">${e[o]} ${o}</span><br>`;return t}const E=document.getElementById("emojiDisplay");function P(){let e="";for(let t in s){let o=d(t);if(void 0===o||0==o)continue;let n=s[t].emoji||"𓀟";n&&(e+=n.repeat(o))}E.textContent=e,function(){let e=48;for(E.style.fontSize=`${e}px`;E.offsetWidth>600&&e>30;)e-=1,E.style.fontSize=`${e}px`}()}P();const j={sticks:"handle",wood:"paper",rocks:"sharprocks",vines:"rope",sand:"glass",ore:"gold",clay:"bricks"};function F(e){try{const t=n[e].cost;let o=[];for(let e in t)o.push(v(e,s)/t[e]);!function(e,t){if(!n.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;if(y(e))for(let t=0;t<undefined;++t)I(e)}(Math.min(...o))}catch(t){console.log("Failed to craftall for: ",e,t)}}function I(e){if(!n.hasOwnProperty(e))throw"Invalid craft for missing resource: "+e;let t=n[e].cost;if(y(e)){for(let e in t)R(e,-t[e]);R(e,1),n[e].craftedOnce=!0,A(e)}}e.exports={getMaterial:v,increaseMaterial:R,setMax:function(e,t){s[e].max=t,h(),u()},increaseMax:function(e,t){s[e].max+=t,h(),u()},craftAllResources:F,craftResource:I,updateEmojiDisplay:P,updateDisplayValue:A,generateTooltipCost:M,calcSecondsRemaining:function(e,t){if(t<=s[e])return 0;const o=T(e,1e3);return 0==o?-1:Math.ceil(t-s[e].value)/o},createResourceTag:S,appendCraftedResourceButtons:function(){for(let e in n){const t=D(n[e]);t.setAttribute("data-tooltip-desc",n[e].tooltipDesc),t.setAttribute("data-tooltip-cost",M(n[e].cost)),q.appendChild(t),c[n[e].id]=n[e]}},calcIncrease:T,updateResourceIncreaseRates:function(){for(let t in s){const o=T(t,1e3);var e=document.getElementById(`${t}IncreaseRate`);e&&(e.textContent=o)}}}},502:(e,t,o)=>{const{updateBuildingButtonCount:s,recalculateBuildingCost:n}=o(151),{updateDisplayValue:i,calcIncrease:r,updateEmojiDisplay:a}=o(594),{addTool:c,getAllTools:l}=o(609),{allVisibleButtons:d,updateSidebar:u,populateSkillsTable:f,setVisibleButton:p}=o(78),{makeVisible:b}=o(123),{getCraftedResource:h}=o(590),{getMaterial:g}=o(924),{getAllPerks:m,addPerk:y,hasPerk:k}=o(134),{isPondered:v}=o(369),{jobCounts:x,setConnections:w,getConnections:C,distributeWorkers:T,updateDisplay:B}=o(150),{total_time:S}=o(808),{setAteFish:A,getAteFish:R}=o(621),{craftedResources:D}=o(371),{buildings:q}=o(882),{ponders:M}=o(397),{resources:E}=o(587),{skills:P}=o(324),{getAllStages:j}=o(751);e.exports={saveGame:function(){let e={skills:{},craftedResources:{},resources:{},tools:[],stages:[],unlocks:{},jobs:{},buildings:{},time:{},allVisibleButtons:[],message:[],connections:new Map,perks:[]};for(let t in P)e.skills[t]={exp:P[t].exp,level:P[t].level};for(let t in D)e.craftedResources.hasOwnProperty(t)||(e.craftedResources[t]={value:0,craftedOnce:!1}),e.craftedResources[t].value=h(t),e.craftedResources[t].craftedOnce=D[t].craftedOnce;for(let t in E)e.resources.hasOwnProperty(t)||(e.resources[t]={value:0,max:0}),e.resources[t].value=g(t,E),e.resources[t].max=E[t].max;e.tools=l(),e.stages=j(),e.jobs=x,e.perks=m(),e.connections=Array.from(C().entries());for(let t in M)e.unlocks[t]=v(t);for(let t in q)e.buildings[t]=q[t].count;for(let t in d)e.allVisibleButtons.push(t);const t=o(808).getMessage().innerHTML;return e.message=function(e){const t=document.createElement("div");return t.innerHTML=e,[t.textContent,t.querySelector("span").textContent]}(t),e.time.total_time=S,e.time.time_of_save=Date.now(),console.log(e),localStorage.setItem("save",JSON.stringify(e)),e},loadGame:function(){console.log("Loading Game");var e=JSON.parse(localStorage.getItem("save"));if(console.log(e),null!==e){if(void 0!==e.resources)for(let t in e.resources)"undefined"!==t.valueOf()&&null!==t&&(E[t].value=e.resources[t].value,E[t].max=e.resources[t].max,console.log("Updating resources for "+t+" to "+e.resources[t].value,e.resources[t].max),0!=E[t].value&&i(t));if(void 0!==e.skills)for(let t in e.skills)P[t].exp=e.skills[t].exp,P[t].level=e.skills[t].level;if(void 0!==e.craftedResources)for(var t of Object.keys(e.craftedResources))D[t].value=e.craftedResources[t].value,D[t].craftedOnce=e.craftedResources[t].craftedOnce,i(t);if(void 0!==e.tools){let t=[...new Set([...l(),...e.tools])];for(let e in t)c(e)}if(void 0!==e.stages)for(let t in e.stages)b(e.stages[t]);if(void 0!==e.jobs)for(let t in e.jobs)x[t]=e.jobs[t],B(t);if(void 0!==e.unlocks)for(let t in e.unlocks)M[t].isPondered=e.unlocks[t];if(v("skillsTable")&&f(),void 0!==e.buildings){for(let t in e.buildings)q[t].count=e.buildings[t],s(t,q[t].count),n(t,q,k);u()}if(A(E.clones.max>=1),R()&&(document.querySelector("#eatFish").style.display="none"),void 0!==e.message&&o(808).changeMessage(e.message[0],e.message[1]),void 0!==e.time){o(808).setTotalTime(e.time[S]);const t=Date.now()-e.time.time_of_save;for(let e in E){const o=r(e,t);E[e].value+=o,E[e].value>E[e].max&&(E[e].value=E[e].max)}}if(void 0!==e.allVisibleButtons){console.log(e.allVisibleButtons);for(let t in e.allVisibleButtons)p(t)}void 0!==e.connections&&(w(new Map(e.connections)),0===C().size&&w(new Map),console.log(C()));for(let e in x)T(e,x[e]);if(a(),void 0!==e.perks)for(let t in e.perks)y(t),o(495).selectCorrectPerkButton(t)}}}},495:(e,t)=>{t.selectCorrectPerkButton=function(e){let t=document.querySelectorAll(".tierOneButton"),o=document.querySelector(`.tierOneButton[onclick="selectAbility('${e}')"]`);o?(t.forEach((e=>{e.setAttribute("disabled","true")})),console.log(o,e),o.removeAttribute("disabled"),o.classList.add("selected")):console.warn("No button found with ability name: ",e)}},751:e=>{let t=[];e.exports={setStage:function(e){t.push(e)},passedStage:function(e){return t.includes(e)},getAllStages:function(){return t}}},609:e=>{let t=["Bare Hands"];function o(e){return t.includes(e)}e.exports={hasTool:o,addTool:function(e){(isNaN(e)||isNaN(parseFloat(e)))&&(o(e)||(t.push(e),function(e){var t=document.getElementById("tools-list"),o=document.createElement("li");o.appendChild(document.createTextNode(e)),t&&t.appendChild(o)}(e)))},getAllTools:function(){return t},getToolValueForResource:function(e){if(e.tools){const t=e.tools.sort(((e,t)=>t.val-e.val));for(let e of t)if(o(e.tool))return e.val}return 1}}},667:(e,t,o)=>{const{buttons:s}=o(54),{getCraftedResourceConfigById:n}=o(371),{getBuildingCount:i}=o(882),{isPondered:r,canUnlock:a}=o(369),{getCraftedResourceKeyByConfig:c}=o(371),{isButtonIdVisible:l,canBuyBuilding:d,setVisibleButton:u}=o(78),{canCraft:f}=o(64),{getMaterial:p}=o(924);t.updateButtonVisibility=function(){document.querySelectorAll("button").forEach((e=>{const t=s[e.id];if(t){e.classList.remove("hidden","purchasable","button-disabled");var o="hidden";e.id&&l(e.id)&&(o="button-disabled");try{t.requirement()&&(o="button-disabled",t.tab&&!t.data_building&&"production"===t.tab&&(o="purchasable"),e.id&&"gatherPonder"===e.id&&(o="purchasable"),t.tab&&"ponder"===t.tab&&e.id&&e.classList.contains("unlock")&&(a(e.id)&&(o="purchasable"),r(e.getAttribute("unlock"))&&(o="hidden")),t.tab&&"tabs"===t.tab&&(o="visible"))}catch(e){}if(t.id&&"craft"===t.id.slice(0,5)){t.craftedOnce&&(o="button-disabled");var p=n(t.id);p.value>0&&(o="button-disabled");const e=c(p);f(e)&&(o="purchasable")}t.data_building&&(o=i(t.data_building)?"button-disabled":o,o=d(t.data_building)?"purchasable":o),t.hide&&(o=t.hide()?"hidden":o),""!==o&&e.classList.add(o),"hidden"===o?e.style.display="none":(u(e.id),e.style.display="")}})),document.querySelectorAll(".job-button").forEach((e=>{const t=e.getAttribute("data-job");e.classList.remove("hidden","purchasable","button-disabled");var s;const n=o(842).O[t];"hidden"==(s=null==n||r(n)?"purchasable":"not-unlockable"===n?"hidden":"button-disabled")?e.style.display="none":(u(e.id),e.classList.add(s),e.style.display="")}))}}},t={};!function o(s){var n=t[s];if(void 0!==n)return n.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,o),i.exports}(808)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU9YLE9BSEErZixFQUFvQkYsR0FBVTlmLEVBQVFBLEVBQU9DLFFBQVM0ZixHQUcvQzdmLEVBQU9DLE9BQ2YsQ0NuQjBCNGYsQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2F0ZUZpc2guanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvYnVpbGRpbmdzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2NhbkNyYWZ0LmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2NhcGl0YWxpemVGaXJzdC5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9nZXRDcmFmdGVkUmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvZ2V0TWF0ZXJpYWwuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvaGVscGVyLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pvYlJlcXVpcmVkUG9uZGVycy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qb2JzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vYnVpbGRpbmdzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL2pzb24vYnV0dG9ucy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvanNvbi9wZXJrcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL3BvbmRlci5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL3Jlc291cmNlcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9qc29uL3NraWxscy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9tYWluLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL21ha2VWaXNpYmxlLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3BlcmtzLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3BvbmRlci5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy9yZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS8uL3NjcmlwdHMvc2F2aW5nLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3NlbGVjdENvcnJlY3RQZXJrQnV0dG9uLmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvLi9zY3JpcHRzL3N0YWdlcy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy90b29scy5qcyIsIndlYnBhY2s6Ly9jbG9uZS1pZGxlLy4vc2NyaXB0cy91cGRhdGVCdXR0b25WaXNpYmlsaXR5LmpzIiwid2VicGFjazovL2Nsb25lLWlkbGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2xvbmUtaWRsZS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGF0ZUZpc2ggPSBmYWxzZTtcclxuXHJcbmZ1bmN0aW9uIHNldEF0ZUZpc2goYm9vbCkge1xyXG4gICAgYXRlRmlzaCA9IGJvb2w7XHJcbiAgICByZXR1cm4gYXRlRmlzaDtcclxufVxyXG5mdW5jdGlvbiBnZXRBdGVGaXNoKCkge1xyXG4gICAgcmV0dXJuIGF0ZUZpc2g7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgYXRlRmlzaCxcclxuICAgIHNldEF0ZUZpc2gsXHJcbiAgICBnZXRBdGVGaXNoXHJcbn07IiwiY29uc3QgeyBidWlsZGluZ3MgfSA9IHJlcXVpcmUoJy4vanNvbi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyBidXR0b25zIH0gPSByZXF1aXJlKCcuL2pzb24vYnV0dG9ucycpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGluY3JlYXNlTWF0ZXJpYWwsIGluY3JlYXNlTWF4IH0gPSByZXF1aXJlKCcuL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGNhbkJ1eUJ1aWxkaW5nLCB1cGRhdGVTaWRlYmFyIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IHVwZGF0ZVRvdGFsIH0gPSByZXF1aXJlKCcuL2pvYnMnKTtcclxuY29uc3QgeyBoYXNQZXJrIH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbmNvbnN0IHsgY2FwaXRhbGl6ZUZpcnN0IH0gPSByZXF1aXJlKCcuL2NhcGl0YWxpemVGaXJzdCcpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcbmNvbnN0IHsgcGFzc2VkU3RhZ2UgfSA9IHJlcXVpcmUoJy4vc3RhZ2VzJyk7XHJcblxyXG4vKiBCVUlMRElOR1MgKi9cclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH0gYnVpbGRpbmcgXHJcbiAqIEByZXR1cm5zIFxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVFZmZlY3RTdHJpbmcoYnVpbGRpbmcpIHtcclxuICAgIGxldCBlZmZlY3RQYXJ0cyA9IFtdO1xyXG5cclxuICAgIGZvciAobGV0IFtyZXNvdXJjZSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5nLmVmZmVjdHMpKSB7XHJcbiAgICAgICAgLy8gZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVmZmVjdCkpIHtcclxuICAgICAgICBlZmZlY3RQYXJ0cy5wdXNoKGArJHt2YWx1ZX0gbWF4ICR7cmVzb3VyY2V9YCk7XHJcbiAgICAgICAgLy8gQWRkIG1vcmUgY29uZGl0aW9ucyBoZXJlIGlmIHlvdSBpbnRyb2R1Y2UgbmV3IHR5cGVzIG9mIGVmZmVjdHNcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgW3Jlc291cmNlLCBib29zdF0gb2YgT2JqZWN0LmVudHJpZXMoYnVpbGRpbmcuYm9vc3QpKSB7XHJcbiAgICAgICAgbGV0IHBlcmNlbnRhZ2VCb29zdCA9IE1hdGgucm91bmQoKGJvb3N0IC0gMSkgKiAxMDApO1xyXG4gICAgICAgIGVmZmVjdFBhcnRzLnB1c2goYCske3BlcmNlbnRhZ2VCb29zdH0lICR7cmVzb3VyY2V9IHByb2R1Y3Rpb25gKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGVmZmVjdFBhcnRzLmpvaW4oJywgJyk7XHJcbn1cclxuXHJcbi8vIFVzYWdlOlxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBidWlsZGluZ0tleSBcclxuICogQHBhcmFtIHtPYmplY3R9IGJ1aWxkaW5nc1xyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYXNQZXJrXHJcbiAqL1xyXG5mdW5jdGlvbiByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChidWlsZGluZ0tleSwgYnVpbGRpbmdzLCBoYXNQZXJrKSB7XHJcbiAgICBsZXQgYnVpbGRpbmcgPSBidWlsZGluZ3NbYnVpbGRpbmdLZXldO1xyXG4gICAgaWYgKGJ1aWxkaW5nICYmIGJ1aWxkaW5nLmNvc3QgJiYgYnVpbGRpbmcucmF0aW8pIHtcclxuICAgICAgICBmb3IgKGxldCBtYXRlcmlhbCBpbiBidWlsZGluZy5jb3N0KSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1aWxkaW5nLmJhc2Vjb3N0W21hdGVyaWFsXSwgYnVpbGRpbmcucmF0aW8sIGJ1aWxkaW5nLmNvdW50KTtcclxuICAgICAgICAgICAgYnVpbGRpbmcuY29zdFttYXRlcmlhbF0gPSBNYXRoLnJvdW5kKGJ1aWxkaW5nLmJhc2Vjb3N0W21hdGVyaWFsXSAqIE1hdGgucG93KGJ1aWxkaW5nLnJhdGlvLCBidWlsZGluZy5jb3VudCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGhhc1BlcmsoJ0FyY2hpdGVjdCcpKSBidWlsZGluZy5jb3N0W21hdGVyaWFsXSAqPSAwLjc1OyAvLyAyNSUgcmVkdWN0aW9uIGZvciBhcmNoaXRlY3RzXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSB0b29sdGlwIGNvc3RcclxuICAgIGNvbnN0IG15QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBidWlsZGluZ0tleSk7XHJcbiAgICB2YXIgbmV3VGV4dCA9IGdlbmVyYXRlQnVpbGRpbmdUb29sdGlwQ29zdChidWlsZGluZy5jb3N0KTtcclxuICAgIGlmIChteUJ1dHRvbikge1xyXG4gICAgICAgIG15QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBuZXdUZXh0KTtcclxuICAgICAgICBjb25zdCBlZmZlY3RTdHJpbmcgPSBnZW5lcmF0ZUVmZmVjdFN0cmluZyhidWlsZGluZyk7XHJcbiAgICAgICAgbXlCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZWZmZWN0JywgZWZmZWN0U3RyaW5nKTtcclxuXHJcbiAgICB9XHJcbiAgICBlbHNlIHsgdGhyb3cgXCJCdXR0b24gbm90IGZvdW5kIGZvciBcIiArIGJ1aWxkaW5nS2V5OyB9XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVCdWlsZGluZ1Rvb2x0aXBDb3N0KGNvc3QpIHtcclxuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhjb3N0KS5tYXAoKFttYXRlcmlhbCwgYW1vdW50XSkgPT4gYCR7YW1vdW50LnRvRml4ZWQoMil9ICR7bWF0ZXJpYWx9YCkuam9pbignXFxuJyk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVCdWlsZGluZ0J1dHRvbihidWlsZGluZ0tleSwgYnVpbGRpbmdzKSB7XHJcbiAgICBjb25zdCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ0tleV07XHJcblxyXG4gICAgLy8gYnVpbGRpbmcuY29zdCA9IGJ1aWxkaW5nLmJhc2Vjb3N0O1xyXG4gICAgYnVpbGRpbmcuY29zdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYnVpbGRpbmcuYmFzZWNvc3QpKTtcclxuXHJcbiAgICBjb25zdCBjb3N0cyA9IE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5nLmNvc3QpXHJcbiAgICAgICAgLm1hcCgoW21hdGVyaWFsLCBhbW91bnRdKSA9PiBgJHttYXRlcmlhbH06ICR7YW1vdW50fWApXHJcbiAgICAgICAgLmpvaW4oJywgJyk7XHJcblxyXG4gICAgLy8gY29uc3QgaGFsZkNvc3RSZXF1aXJlbWVudCA9IE9iamVjdC5lbnRyaWVzKGJ1aWxkaW5nLmNvc3QpXHJcbiAgICAvLyAgICAgLm1hcCgoW21hdGVyaWFsLCBhbW91bnRdKSA9PiBgZ2V0TWF0ZXJpYWwoJyR7bWF0ZXJpYWx9LHJlc291cmNlcycpID49ICR7TWF0aC5mbG9vcihhbW91bnQgLyAyKX1gKVxyXG4gICAgLy8gICAgIC5qb2luKCcgJiYgJyk7XHJcblxyXG4gICAgLy8gbGV0IHJlcXVpcmVtZW50U3RyaW5nID0gYHJldHVybiAke2hhbGZDb3N0UmVxdWlyZW1lbnR9YDtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgYnVpbGRpbmcgaGFzIGFuIGVmZmVjdCBvbiBjbG9uZXMgbWF4XHJcbiAgICAvLyBpZiAoYnVpbGRpbmcuZWZmZWN0cyAmJiBidWlsZGluZy5lZmZlY3RzWydjbG9uZXMnXSkge1xyXG4gICAgLy8gICAgIHJlcXVpcmVtZW50U3RyaW5nICs9IGAgJiYgcGFzc2VkU3RhZ2UoJ2Nsb25lcycpYDtcclxuICAgIC8vIH1cclxuICAgIGNvbnN0IHJlcXVpcmVtZW50RnVuY3Rpb24gPSBjcmVhdGVSZXF1aXJlbWVudEZ1bmN0aW9uKGJ1aWxkaW5nLmNvc3QsIGJ1aWxkaW5nKTtcclxuXHJcbiAgICBjb25zdCBidXR0b24gPSB7XHJcbiAgICAgICAgJ2NsYXNzJzogJ3Rvb2x0aXAgJyArIGJ1aWxkaW5nS2V5LFxyXG4gICAgICAgICd0YWInOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgJ3RleHQnOiBgJHtidWlsZGluZ0tleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGJ1aWxkaW5nS2V5LnNsaWNlKDEpfWAsXHJcbiAgICAgICAgJ3Rvb2x0aXBEZXNjJzogYnVpbGRpbmdzW2J1aWxkaW5nS2V5XS50b29sdGlwRGVzYyB8fCBcIkEgbXlzdGVyaW91cyBidWlsZGluZyB3aXRoIHVudG9sZCBiZW5lZml0cy5cIixcclxuICAgICAgICAndG9vbHRpcENvc3QnOiBjb3N0cyxcclxuICAgICAgICAncmVxdWlyZW1lbnQnOiAoKSA9PiByZXF1aXJlbWVudEZ1bmN0aW9uKCksXHJcbiAgICAgICAgJ2RhdGFfYnVpbGRpbmcnOiBidWlsZGluZ0tleSxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGJ1dHRvbjtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUmVxdWlyZW1lbnRGdW5jdGlvbihjb3N0cywgYnVpbGRpbmcpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAocmVzb3VyY2VzKSB7XHJcbiAgICAgICAgY29uc3QgY29zdENvbmRpdGlvbiA9IE9iamVjdC5lbnRyaWVzKGNvc3RzKVxyXG4gICAgICAgICAgICAuZXZlcnkoKFttYXRlcmlhbCwgYW1vdW50XSkgPT4gZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPj0gTWF0aC5mbG9vcihhbW91bnQgLyAyKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNsb25lQ29uZGl0aW9uID0gIWJ1aWxkaW5nLmVmZmVjdHMgfHwgIWJ1aWxkaW5nLmVmZmVjdHNbJ2Nsb25lcyddIHx8IHBhc3NlZFN0YWdlKCdjbG9uZXMnKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNvc3RDb25kaXRpb24gJiYgY2xvbmVDb25kaXRpb247XHJcbiAgICB9O1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmZvciAobGV0IGJ1aWxkaW5nS2V5IGluIGJ1aWxkaW5ncykge1xyXG4gICAgY29uc3QgYnV0dG9uID0gY3JlYXRlQnVpbGRpbmdCdXR0b24oYnVpbGRpbmdLZXksIGJ1aWxkaW5ncyk7XHJcbiAgICBidXR0b25zW2J1aWxkaW5nS2V5XSA9IGJ1dHRvbjtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiTWFkZSBidXR0b24gZm9yIFwiICsgYnVpbGRpbmdLZXkpO1xyXG59XHJcblxyXG5cclxuLy8gY29uc29sZS5sb2coYnV0dG9ucyk7XHJcblxyXG5mdW5jdGlvbiBnZXRCdWlsZGluZ0Nvc3QoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICByZXR1cm4gYnVpbGRpbmdzW2J1aWxkaW5nTmFtZV0uY29zdDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGJ1eUJ1aWxkaW5nKGJ1aWxkaW5nTmFtZSkge1xyXG4gICAgY29uc29sZS5sb2coXCJCdXlpbmcgYnVpbGRpbmcgXCIgKyBidWlsZGluZ05hbWUpO1xyXG4gICAgY29uc3QgYnVpbGRpbmcgPSBidWlsZGluZ3NbYnVpbGRpbmdOYW1lXTtcclxuXHJcblxyXG5cclxuICAgIGlmICghY2FuQnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKSkgcmV0dXJuO1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IHRoZSBjb3N0XHJcbiAgICBmb3IgKGNvbnN0IHJlc291cmNlIGluIGJ1aWxkaW5nLmNvc3QpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlJlZHVjaW5nIFwiLCByZXNvdXJjZSwgXCJieVwiLCBidWlsZGluZy5jb3N0W3Jlc291cmNlXSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coaW5jcmVhc2VNYXRlcmlhbCk7XHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChyZXNvdXJjZSwgLWJ1aWxkaW5nLmNvc3RbcmVzb3VyY2VdKTtcclxuICAgIH1cclxuICAgIC8vIEFkZCB0aGUgZWZmZWN0c1xyXG4gICAgZm9yIChjb25zdCByZXNvdXJjZSBpbiBidWlsZGluZy5lZmZlY3RzKSB7XHJcbiAgICAgICAgLy8gaWYgKGJ1aWxkaW5nLmVmZmVjdHNbZWZmZWN0XSkge1xyXG4gICAgICAgIGluY3JlYXNlTWF4KHJlc291cmNlLCBidWlsZGluZy5lZmZlY3RzW3Jlc291cmNlXSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIEFkZGl0aW9uYWwgbG9naWMgY2FuIGJlIGFkZGVkIGhlcmUgZm9yIG90aGVyIGVmZmVjdHMgKGUuZy4sIGluY3JlYXNlIHByb2R1Y3Rpb24gcmF0ZXMpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEFjdHVhbGx5IGJ1aWxkIHRoZSBidWlsZGluZ1xyXG4gICAgYnVpbGRpbmcuY291bnQrKztcclxuXHJcbiAgICB1cGRhdGVTaWRlYmFyKCk7XHJcblxyXG4gICAgdXBkYXRlVG90YWwoKTtcclxuICAgIC8vIFVwZGF0ZSBidXR0b24gdGV4dFxyXG4gICAgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudChidWlsZGluZ05hbWUsIGJ1aWxkaW5nLmNvdW50KTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIGNvc3Qgb2YgdGhlIGJ1aWxkaW5nXHJcbiAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChidWlsZGluZ05hbWUsIGJ1aWxkaW5ncywgaGFzUGVyayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJ1eU1heEJ1aWxkaW5ncyhidWlsZGluZ05hbWUpIHtcclxuICAgIHdoaWxlIChjYW5CdXlCdWlsZGluZyhidWlsZGluZ05hbWUpKSB7XHJcbiAgICAgICAgYnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudChidWlsZGluZ05hbWUsIGJ1aWxkaW5nQ291bnQpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2J1aWxkaW5nTmFtZX1gKS50ZXh0Q29udGVudCA9IGAke2NhcGl0YWxpemVGaXJzdChidWlsZGluZ05hbWUpLnNwbGl0KCdfJykuam9pbignICcpfSAoJHtidWlsZGluZ0NvdW50fSlgO1xyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuLy8gZnVuY3Rpb24gZG91YmxlU3RvcmFnZUVmZmVjdHNJZlBhc3NlZCgpIHtcclxuLy8gICAgIGlmIChwYXNzZWRTdGFnZShcImRvdWJsZVN0b3JhZ2UxXCIpKSB7XHJcbi8vICAgICAgICAgZm9yIChsZXQgYnVpbGRpbmdLZXkgaW4gYnVpbGRpbmdzKSB7XHJcbi8vICAgICAgICAgICAgIGxldCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ0tleV07XHJcblxyXG4vLyAgICAgICAgICAgICBpZiAoYnVpbGRpbmcuZWZmZWN0cykge1xyXG4vLyAgICAgICAgICAgICAgICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gYnVpbGRpbmcuZWZmZWN0cykge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nLmVmZmVjdHNbbWF0ZXJpYWxdLm1heCAqPSAyO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCxcclxuICAgIGdlbmVyYXRlQnVpbGRpbmdUb29sdGlwQ29zdCxcclxuICAgIGNyZWF0ZUJ1aWxkaW5nQnV0dG9uLFxyXG4gICAgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCxcclxuICAgIGJ1eU1heEJ1aWxkaW5ncyxcclxuICAgIGJ1eUJ1aWxkaW5nXHJcbn07IiwiY29uc3QgeyByZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vanNvbi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKFwiLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXNcIik7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuXHJcbmZ1bmN0aW9uIGNhbkNyYWZ0KHJlc291cmNlS2V5KSB7XHJcbiAgICBsZXQgY2FuQ3JhZnQgPSB0cnVlO1xyXG4gICAgbGV0IHJlcXVpcmVtZW50cyA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLmNvc3Q7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgYWxsIHJlcXVpcmVtZW50cyBhcmUgbWV0XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAobGV0IG1hdCBpbiByZXF1aXJlbWVudHMpIHtcclxuICAgICAgICAgICAgaWYgKGdldE1hdGVyaWFsKG1hdCwgcmVzb3VyY2VzKSA8IHJlcXVpcmVtZW50c1ttYXRdKSB7XHJcbiAgICAgICAgICAgICAgICBjYW5DcmFmdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGluIGNhbGN1bGF0aW5nIHJlcXVpcmVtZW50czogJywgcmVzb3VyY2VLZXksIHJlcXVpcmVtZW50cywgZXJyKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2FuQ3JhZnQ7XHJcbn1cclxuZXhwb3J0cy5jYW5DcmFmdCA9IGNhbkNyYWZ0OyIsIi8qKlxyXG4gKiBDYXBpdGFsaXplcyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc3RyaW5nXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgc3RyaW5nRXhhbXBsZVxyXG4gKiBAcmV0dXJucyBTdHJpbmdFeGFtcGxlXHJcbiAqL1xyXG5mdW5jdGlvbiBjYXBpdGFsaXplRmlyc3Qoc3RyKSB7XHJcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xyXG59XHJcbmV4cG9ydHMuY2FwaXRhbGl6ZUZpcnN0ID0gY2FwaXRhbGl6ZUZpcnN0OyIsIi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF0ZXJpYWxcclxuICogQHJldHVybnNcclxuICovXHJcbmZ1bmN0aW9uIGdldENyYWZ0ZWRSZXNvdXJjZShtYXRlcmlhbCwgY3JhZnRlZFJlc291cmNlcykge1xyXG5cclxuICAgIG1hdGVyaWFsID0gbWF0ZXJpYWwudG9Mb3dlckNhc2UoKTtcclxuICAgIGlmICghY3JhZnRlZFJlc291cmNlcykge1xyXG4gICAgICAgIGNyYWZ0ZWRSZXNvdXJjZXMgPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpLmNyYWZ0ZWRSZXNvdXJjZXM7XHJcbiAgICAgICAgLy8gY29uc29sZS53YXJuKCdNaXNzaW5nIGNyYWZ0ZWRSZXNvdXJjZXMgZGVmaW5pdGlvbiwgbG9hZGluZyBkZWZhdWx0JywgY3JhZnRlZFJlc291cmNlcyk7XHJcbiAgICB9XHJcbiAgICBpZiAoY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShtYXRlcmlhbCkpIHtcclxuICAgICAgICByZXR1cm4gY3JhZnRlZFJlc291cmNlc1ttYXRlcmlhbF0udmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IChcIkludmFsaWQgY3JhZnRlZCByZXNvdXJjZTpcIiArIG1hdGVyaWFsKTsgLy8gRm9yIGRlYnVnZ2luZ1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZ2V0Q3JhZnRlZFJlc291cmNlID0gZ2V0Q3JhZnRlZFJlc291cmNlO1xyXG4iLCJjb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi9nZXRDcmFmdGVkUmVzb3VyY2UnKTtcclxuLy8gY29uc3QgeyBjcmFmdGVkUmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL2pzb24vY3JhZnRlZFJlc291cmNlcycpO1xyXG5cclxuLy8gR2V0IGZ1bmN0aW9uIGZvciBtYXRlcmlhbHNcclxuLyoqXHJcbiAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIG1hdGVyaWFsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXRlcmlhbFxyXG4gKiBAcmV0dXJucyBWYWx1ZSBvZiBtYXRlcmlhbFxyXG4qL1xyXG5mdW5jdGlvbiBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSB7XHJcbiAgICBpZiAoIXJlc291cmNlcykgcmVzb3VyY2VzID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpLnJlc291cmNlcztcclxuICAgIGlmIChyZXNvdXJjZXMuaGFzT3duUHJvcGVydHkobWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlc1ttYXRlcmlhbF0udmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIG1hdGVyaWFsOlwiLCBtYXRlcmlhbCk7ICAvLyBGb3IgZGVidWdnaW5nXHJcbiAgICAgICAgcmV0dXJuIGdldENyYWZ0ZWRSZXNvdXJjZShtYXRlcmlhbCwgbnVsbCk7XHJcblxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZ2V0TWF0ZXJpYWwgPSBnZXRNYXRlcmlhbDsiLCJjb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZSgnLi9qc29uL3NraWxscycpO1xyXG5jb25zdCB7IGJ1aWxkaW5ncyB9ID0gcmVxdWlyZSgnLi9qc29uL2J1aWxkaW5ncycpO1xyXG5cclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG5cclxuXHJcbmxldCBhbGxWaXNpYmxlQnV0dG9ucyA9IG5ldyBTZXQoWydnYXRoZXJTdGlja3MnXSk7XHJcbmV4cG9ydHMuYWxsVmlzaWJsZUJ1dHRvbnMgPSBhbGxWaXNpYmxlQnV0dG9ucztcclxuXHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBidWlsZGluZ05hbWUgXHJcbiAqIEByZXR1cm5zIFxyXG4gKi9cclxuZnVuY3Rpb24gY2FuQnV5QnVpbGRpbmcoYnVpbGRpbmdOYW1lKSB7XHJcbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGVub3VnaCByZXNvdXJjZXNcclxuICAgIGxldCBjYW5CdXkgPSB0cnVlO1xyXG4gICAgY29uc3QgYnVpbGRpbmcgPSBidWlsZGluZ3NbYnVpbGRpbmdOYW1lXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHJlc291cmNlIGluIGJ1aWxkaW5nLmNvc3QpIHtcclxuICAgICAgICBpZiAoYnVpbGRpbmcuY29zdFtyZXNvdXJjZV0gPiBnZXRNYXRlcmlhbChyZXNvdXJjZSwgcmVzb3VyY2VzKSkge1xyXG4gICAgICAgICAgICBjYW5CdXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYW4gd2UgYnV5ICcsYnVpbGRpbmdOYW1lLGNhbkJ1eSk7XHJcbiAgICByZXR1cm4gY2FuQnV5O1xyXG59XHJcbi8vIENhbGN1bGF0ZSB0aGUgZmluYWwgbnVtYmVyIG9mIGNyYWZ0ZWQgZ29vZHMgZnJvbSBib251c2VzXHJcbi8vIEB0cy1pZ25vcmVcclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBjYWxjQ3JhZnRCb251cyhyZXNvdXJjZUtleSkge1xyXG4gICAgcmV0dXJuIDE7XHJcbn1cclxuXHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmZ1bmN0aW9uIGdldEFmZmVjdGVkUmVzb3VyY2VzKHNraWxsKSB7XHJcbiAgICBpZiAoc2tpbGxzW3NraWxsXSkge1xyXG4gICAgICAgIHJldHVybiBza2lsbHNbc2tpbGxdLmFmZmVjdGVkUmVzb3VyY2VzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7ICAvLyBvciBhbiBlbXB0eSBhcnJheSBbXSwgYmFzZWQgb24geW91ciBwcmVmZXJlbmNlXHJcbn1cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF0ZXJpYWwgXHJcbiAqIEByZXR1cm5zIE1heCBvZiBtYXRlcmlhbCBvciBJbmZpbml0eVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TWF4KG1hdGVyaWFsKSB7XHJcbiAgICBpZiAocmVzb3VyY2VzLmhhc093blByb3BlcnR5KG1hdGVyaWFsKSkge1xyXG4gICAgICAgIHJldHVybiByZXNvdXJjZXNbbWF0ZXJpYWxdLm1heDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdXBkYXRlU2lkZWJhcigpIHtcclxuICAgIGZvciAoY29uc3QgW3Jlc291cmNlTmFtZSwgcmVzb3VyY2VDb25maWddIG9mIE9iamVjdC5lbnRyaWVzKHJlc291cmNlcykpIHtcclxuXHJcbiAgICAgICAgY29uc3QgcGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNvdXJjZS0nICsgcmVzb3VyY2VOYW1lKTtcclxuICAgICAgICBpZiAoIXBhcmVudEVsZW1lbnQpIHJldHVybjtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhwYXJlbnRFbGVtZW50KTtcclxuICAgICAgICB2YXIgc2hvdWxkSGlkZSA9IHRydWU7XHJcbiAgICAgICAgZm9yIChsZXQgYyBpbiBwYXJlbnRFbGVtZW50LmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaGFzIHBhc3NlZCcsIHJlc291cmNlTmFtZSwgcGFzc2VkU3RhZ2UoYykpO1xyXG4gICAgICAgICAgICBpZiAocmVxdWlyZSgnLi9zdGFnZXMnKS5wYXNzZWRTdGFnZShjKSkgeyBzaG91bGRIaWRlID0gZmFsc2U7IGNvbnNvbGUubG9nKCdkb250IGhpZGUnLCByZXNvdXJjZU5hbWUsIGMpOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXNvdXJjZUNvbmZpZy52YWx1ZSA+IDApIHsgc2hvdWxkSGlkZSA9IGZhbHNlOyByZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS5pc1Zpc2libGUgPSB0cnVlOyB9XHJcbiAgICAgICAgaWYgKHJlc291cmNlQ29uZmlnLmlzVmlzaWJsZSkgeyBzaG91bGRIaWRlID0gZmFsc2U7IH1cclxuXHJcbiAgICAgICAgaWYgKHNob3VsZEhpZGUpIHtcclxuICAgICAgICAgICAgcGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkaXNwbGF5RWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJlc291cmNlTmFtZSArICdWYWx1ZScpO1xyXG4gICAgICAgIGlmIChkaXNwbGF5RWxlbSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhYmJyZXZpYXRlTnVtYmVyKHJlc291cmNlRGF0YSkpO1xyXG4gICAgICAgICAgICB2YXIgY29sb3IgPSAnI2ZmZic7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VDb25maWcudmFsdWUgPT09IGdldE1heChyZXNvdXJjZU5hbWUpKSBjb2xvciA9ICcjZmNjJztcclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc291cmNlQ29uZmlnLnZhbHVlIC8gZ2V0TWF4KHJlc291cmNlTmFtZSkgPiAuNikgY29sb3IgPSAnI2VlYic7XHJcblxyXG4gICAgICAgICAgICBkaXNwbGF5RWxlbS5pbm5lckhUTUwgPSBgPHNwYW4gc3R5bGU9XCJjb2xvcjoke2NvbG9yfVwiPiR7YWJicmV2aWF0ZU51bWJlcihyZXNvdXJjZUNvbmZpZy52YWx1ZSl9IC8gJHthYmJyZXZpYXRlTnVtYmVyKGdldE1heChyZXNvdXJjZU5hbWUpKX0gPC9zcGFuPmA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhYmJyZXZpYXRlTnVtYmVyKG51bSkge1xyXG4gICAgZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCB1bml0KSB7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgMTApIHJldHVybiByb3VuZFRvRGVjaW1hbHModmFsdWUsIDMpICsgdW5pdDtcclxuICAgICAgICBpZiAodmFsdWUgPCAxMDApIHJldHVybiByb3VuZFRvRGVjaW1hbHModmFsdWUsIDIpICsgdW5pdDtcclxuICAgICAgICBpZiAodmFsdWUgPCAxMDAwKSByZXR1cm4gcm91bmRUb0RlY2ltYWxzKHZhbHVlLCAxKSArIHVuaXQ7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUpICsgdW5pdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByb3VuZFRvRGVjaW1hbHMobnVtYmVyLCBkZWNpbWFscykge1xyXG4gICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XHJcbiAgICAgICAgcmV0dXJuIChNYXRoLnJvdW5kKG51bWJlciAqIGZhY3RvcikgLyBmYWN0b3IpLnRvRml4ZWQoZGVjaW1hbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChudW0gPCAxZTMpIHJldHVybiByb3VuZFRvRGVjaW1hbHMobnVtLCAyKTsgLy8gSWYgbGVzcyB0aGFuIDEsMDAwXHJcbiAgICBpZiAobnVtIDwgMWU2KSByZXR1cm4gZm9ybWF0KG51bSAvIDFlMywgJ0snKTsgLy8gVGhvdXNhbmRzXHJcbiAgICBpZiAobnVtIDwgMWU5KSByZXR1cm4gZm9ybWF0KG51bSAvIDFlNiwgJ00nKTsgLy8gTWlsbGlvbnNcclxuICAgIGlmIChudW0gPCAxZTEyKSByZXR1cm4gZm9ybWF0KG51bSAvIDFlOSwgJ0InKTsgLy8gQmlsbGlvbnNcclxuICAgIC8vIEFkZCBtb3JlIGNhc2VzIGZvciBsYXJnZXIgbnVtYmVycyBpZiBuZWVkZWRcclxuICAgIHJldHVybiBudW0udG9TdHJpbmcoKTtcclxufVxyXG5jb25zdCBsZXZlbFVwTWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbFVwTWVzc2FnZScpO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlU2tpbGxzKHJlc291cmNlLCBudW0pIHtcclxuICAgIG51bSA9IE1hdGguYWJzKG51bSk7XHJcbiAgICBpZiAocmVxdWlyZSgnLi9wb25kZXInKS5pc1BvbmRlcmVkKCdmYXN0ZXJTa2lsbHMnKSkgbnVtICo9IDEuMDU7XHJcbiAgICAvLyBcclxuICAgIGZvciAobGV0IHNraWxsIGluIHNraWxscykge1xyXG4gICAgICAgIC8vIFxyXG4gICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmFmZmVjdGVkUmVzb3VyY2VzLmluY2x1ZGVzKHJlc291cmNlKSkge1xyXG4gICAgICAgICAgICAvLyBtYXggbGV2ZWwgMTAwXHJcbiAgICAgICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmxldmVsID49IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgc2tpbGxzW3NraWxsXS5sZXZlbCA9IDEwMDtcclxuICAgICAgICAgICAgICAgIHNraWxsc1tza2lsbF0uZXhwID0gMDtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBza2lsbHNbc2tpbGxdLmV4cCArPSBudW0gLyBNYXRoLnBvdygxLjQsIHNraWxsc1tza2lsbF0ubGV2ZWwpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlVwZGF0aW5nIHNraWxsOlwiICsgc2tpbGwgKyBcIiB0byBcIiArIHNraWxsc1tza2lsbF0uZXhwKVxyXG5cclxuXHJcbiAgICAgICAgICAgIGlmIChza2lsbHNbc2tpbGxdLmV4cCA+PSAxMDApIHtcclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgc2tpbGxzW3NraWxsXS5sZXZlbCArPSAxO1xyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICBza2lsbHNbc2tpbGxdLmV4cCA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkxldmVsIFVwISBcIiArIHNraWxsICsgc2tpbGxzW3NraWxsXS5sZXZlbCk7XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIGxldmVsVXBNZXNzYWdlLnRleHRDb250ZW50ID0gYExldmVsIHVwISAke3NraWxsfSDihpIgJHtza2lsbHNbc2tpbGxdLmxldmVsfWA7XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIGxldmVsVXBNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSB0aGUgbWVzc2FnZSBhZnRlciAzIHNlY29uZHNcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldmVsVXBNZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxVcE1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICB9LCAzMDAwKTsgLy8gMzAwMCBtaWxsaXNlY29uZHMgKDMgc2Vjb25kcylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyZXF1aXJlKCcuL3N0YWdlcycpLnBhc3NlZFN0YWdlKCdza2lsbHNUYWJsZScpKSB7XHJcbiAgICAgICAgcG9wdWxhdGVTa2lsbHNUYWJsZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSA9IGZhbHNlO1xyXG5cclxuZnVuY3Rpb24gcG9wdWxhdGVTa2lsbHNUYWJsZSgpIHtcclxuICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NraWxsc1RhYmxlJyk7XHJcblxyXG4gICAgLy8gSWYgdGhlIHRhYmxlIGlzIGVtcHR5LCBjcmVhdGUgdGhlIHJvd3MgYW5kIHByb2dyZXNzIGJhcnNcclxuICAgIGlmICghaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiR2VuZXJhdGluZyB0YWJsZSBmb3IgdGhlIGZpcnN0IHRpbWVcIik7XHJcbiAgICAgICAgaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSA9IHRydWU7XHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgICAgIGxldCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICAgICAgICAgIHRyLmlkID0gJ3RyLScgKyBza2lsbDtcclxuICAgICAgICAgICAgbGV0IHRkUHJvZ3Jlc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgICAgICAgICB0ZFByb2dyZXNzLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuXHJcbiAgICAgICAgICAgIGxldCBwcm9ncmVzc0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBwcm9ncmVzc0Jhci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3Byb2dyZXNzQmFyJyk7XHJcbiAgICAgICAgICAgIC8vIGlmIChpc0RhcmspIHtcclxuICAgICAgICAgICAgLy8gICAgIHByb2dyZXNzQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMjI4QjIyJztcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAvLyBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICAgIHByb2dyZXNzQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjNTBDODc4JztcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBwcm9ncmVzc0Jhci5zdHlsZS5oZWlnaHQgPSAnMjBweCc7XHJcbiAgICAgICAgICAgIHByb2dyZXNzQmFyLnNldEF0dHJpYnV0ZSgnZGF0YS1za2lsbCcsIHNraWxsKTsgLy8gQXNzaWduIGEgZGF0YSBhdHRyaWJ1dGUgZm9yIGlkZW50aWZpY2F0aW9uXHJcblxyXG4gICAgICAgICAgICBsZXQgc2tpbGxUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIHNraWxsVGV4dC50ZXh0Q29udGVudCA9ICdbJyArIHNraWxsc1tza2lsbF0ubGV2ZWwgKyAnXSAgICcgKyBza2lsbDtcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnNldEF0dHJpYnV0ZSgnaWQnLCAnbGV2ZWwtJyArIHNraWxsKTtcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnN0eWxlLmxlZnQgPSAnMTBweCc7XHJcbiAgICAgICAgICAgIHNraWxsVGV4dC5zdHlsZS50b3AgPSAnNTAlJztcclxuICAgICAgICAgICAgc2tpbGxUZXh0LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC01MCUpJztcclxuXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBpZiAoc2tpbGxzW3NraWxsXS5leHAgPT0gMCAmJiBza2lsbHNbc2tpbGxdLmxldmVsID09IDApIHtcclxuICAgICAgICAgICAgICAgIHRyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGRQcm9ncmVzcy5hcHBlbmRDaGlsZChwcm9ncmVzc0Jhcik7XHJcbiAgICAgICAgICAgIHRkUHJvZ3Jlc3MuYXBwZW5kQ2hpbGQoc2tpbGxUZXh0KTtcclxuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRQcm9ncmVzcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodHIpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gRGlzcGxheSBldmVyeXRoaW5nIHdlIGNhblxyXG4gICAgICAgIGZvciAobGV0IHNraWxsIGluIHNraWxscykge1xyXG5cclxuICAgICAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uZXhwID4gMCB8fCBza2lsbHNbc2tpbGxdLmxldmVsID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdHItJyArIHNraWxsKS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHByb2dyZXNzQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnByb2dyZXNzQmFyW2RhdGEtc2tpbGw9XCIke3NraWxsfVwiXWApO1xyXG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3NCYXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBza2lsbHNbc2tpbGxdLmV4cCArICclJztcclxuICAgICAgICAgICAgICAgIGxldCBza2lsbE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xldmVsLVwiICsgc2tpbGwpO1xyXG4gICAgICAgICAgICAgICAgc2tpbGxOYW1lLnRleHRDb250ZW50ID0gJ1snICsgc2tpbGxzW3NraWxsXS5sZXZlbCArICddICAgJyArIHNraWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gaXNCdXR0b25JZFZpc2libGUoaWQpIHtcclxuICAgIHJldHVybiBhbGxWaXNpYmxlQnV0dG9ucy5oYXMoaWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRWaXNpYmxlQnV0dG9uKGlkKSB7XHJcbiAgICBhbGxWaXNpYmxlQnV0dG9ucy5hZGQoaWQpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGdldE1hdGVyaWFsLFxyXG4gICAgZ2V0TWF4LFxyXG4gICAgdXBkYXRlU2lkZWJhcixcclxuICAgIHVwZGF0ZVNraWxscyxcclxuICAgIHBvcHVsYXRlU2tpbGxzVGFibGUsXHJcbiAgICBjYWxjQ3JhZnRCb251cyxcclxuICAgIGlzQnV0dG9uSWRWaXNpYmxlLFxyXG4gICAgc2V0VmlzaWJsZUJ1dHRvbixcclxuICAgIGNhbkJ1eUJ1aWxkaW5nLFxyXG4gICAgaGFzR2VuZXJhdGVkU2tpbGxUYWJsZSxcclxufTtcclxuXHJcbiIsIi8qKlxyXG4gKiBBIG1hcCBvZiBhbGwgam9icyB0aGF0IHJlcXVpcmUgYSBwb25kZXIgdG8gYmUgdW5sb2NrZWRcclxuICpcclxuICogSm9iOiBSZXF1aXJlZFBvbmRlclxyXG4gKi9cclxuY29uc3Qgam9iUmVxdWlyZWRQb25kZXJzID0ge1xyXG4gICAgJ3RoaW5raW5nJzogJ3RoaW5raW5nJyxcclxuICAgICdmaXNoaW5nJzogJ2Zpc2hpbmcnLFxyXG4gICAgJ3NtaXRoaW5nJzogJ25vdC11bmxvY2thYmxlJyxcclxuICAgICdmYXJtaW5nJzogJ2FncmljdWx0dXJlJyxcclxuICAgICdjb21iYXQnOiAnY29tYmF0JyxcclxuICAgICdodW50aW5nJzogJ2h1bnRpbmcnXHJcbn07XHJcbmV4cG9ydHMuam9iUmVxdWlyZWRQb25kZXJzID0gam9iUmVxdWlyZWRQb25kZXJzO1xyXG4iLCIvLyBAdHMtbm9jaGVja1xyXG4vLyBERVBFTkRTIE9OOiBza2lsbHMuanMsIHBvbmRlci5qc1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZSgnLi9qc29uL3NraWxscycpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5cclxuXHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkIH0gPSByZXF1aXJlKFwiLi9wb25kZXJcIik7XHJcblxyXG4vKiBKT0JTIEZVTkNUSU9OQUxJVFkgKi9cclxuXHJcblxyXG5jb25zdCBqb2JDb3VudHMgPSB7fTtcclxuZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICBqb2JDb3VudHNbc2tpbGxdID0gMDtcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBqb2JzVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYnNUYWInKTtcclxuXHJcbk9iamVjdC5rZXlzKHNraWxscykuZm9yRWFjaChza2lsbCA9PiB7XHJcbiAgICBjb25zdCBqb2JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGpvYkRpdi5jbGFzc0xpc3QuYWRkKCdqb2ItYnV0dG9uJyk7XHJcbiAgICBqb2JEaXYuc2V0QXR0cmlidXRlKCdkYXRhLWpvYicsIHNraWxsKTtcclxuICAgIGpvYkRpdi5pZCA9ICdqb2ItYnV0dG9uLScgKyBza2lsbDtcclxuXHJcbiAgICBjb25zdCBkZWNyZW1lbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRlY3JlbWVudERpdi5jbGFzc0xpc3QuYWRkKCdidG4tZGVjcmVtZW50Jyk7XHJcbiAgICBkZWNyZW1lbnREaXYudGV4dENvbnRlbnQgPSAnLSc7XHJcbiAgICBqb2JEaXYuYXBwZW5kQ2hpbGQoZGVjcmVtZW50RGl2KTtcclxuXHJcbiAgICBjb25zdCBqb2JOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIGpvYk5hbWVTcGFuLmNsYXNzTGlzdC5hZGQoJ2pvYi1uYW1lJyk7XHJcbiAgICBqb2JOYW1lU3Bhbi50ZXh0Q29udGVudCA9IGAke3NraWxsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc2tpbGwuc2xpY2UoMSl9OiAwYDtcclxuICAgIGpvYkRpdi5hcHBlbmRDaGlsZChqb2JOYW1lU3Bhbik7XHJcblxyXG4gICAgY29uc3QgaW5jcmVtZW50RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBpbmNyZW1lbnREaXYuY2xhc3NMaXN0LmFkZCgnYnRuLWluY3JlbWVudCcpO1xyXG4gICAgaW5jcmVtZW50RGl2LnRleHRDb250ZW50ID0gJysnO1xyXG4gICAgam9iRGl2LmFwcGVuZENoaWxkKGluY3JlbWVudERpdik7XHJcblxyXG4gICAgam9ic1RhYi5hcHBlbmRDaGlsZChqb2JEaXYpO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idG4taW5jcmVtZW50JykuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGpvYlR5cGUgPSB0aGlzLmNsb3Nlc3QoJy5qb2ItYnV0dG9uJykuZ2V0QXR0cmlidXRlKCdkYXRhLWpvYicpO1xyXG4gICAgICAgIGlmIChnZXRNYXRlcmlhbCgnY2xvbmVzJywgcmVzb3VyY2VzKSA+IGdldFRvdGFsSm9icygpKSB7XHJcbiAgICAgICAgICAgIGpvYkNvdW50c1tqb2JUeXBlXSsrO1xyXG4gICAgICAgICAgICAvLyBpbmNyZWFzZU1hdGVyaWFsKCdjbG9uZXMnLCAtMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpc3RyaWJ1dGVXb3JrZXJzKGpvYlR5cGUsIGpvYkNvdW50c1tqb2JUeXBlXSk7XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheShqb2JUeXBlKTtcclxuICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHdvcmtlcnNEaXN0cmlidXRpb24pO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ0bi1kZWNyZW1lbnQnKS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3Qgam9iVHlwZSA9IHRoaXMuY2xvc2VzdCgnLmpvYi1idXR0b24nKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJyk7XHJcbiAgICAgICAgaWYgKGpvYkNvdW50c1tqb2JUeXBlXSA+IDApIHtcclxuICAgICAgICAgICAgam9iQ291bnRzW2pvYlR5cGVdLS07XHJcbiAgICAgICAgICAgIC8vIGluY3JlYXNlTWF0ZXJpYWwoJ2Nsb25lcycsIDEpO1xyXG4gICAgICAgICAgICBkaXN0cmlidXRlV29ya2Vycyhqb2JUeXBlLCBqb2JDb3VudHNbam9iVHlwZV0pO1xyXG4gICAgICAgICAgICB1cGRhdGVEaXNwbGF5KGpvYlR5cGUpO1xyXG4gICAgICAgICAgICB1cGRhdGVUb3RhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTtcclxuXHJcblxyXG5mdW5jdGlvbiBnZXRUb3RhbEpvYnMoKSB7XHJcbiAgICB2YXIgdG90YWwgPSAwO1xyXG4gICAgZm9yIChsZXQgaiBpbiBqb2JDb3VudHMpIHtcclxuICAgICAgICB0b3RhbCArPSBqb2JDb3VudHNbal07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG90YWw7XHJcbn1cclxuXHJcbi8vIEdsb2JhbCBmb3Igd2hpY2ggcmVzb3VyY2UgZWFjaCBjbG9uZSBnYXRoZXJzXHJcbmxldCB3b3JrZXJzRGlzdHJpYnV0aW9uID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiBkaXN0cmlidXRlV29ya2Vycyhza2lsbCwgdG90YWxXb3JrZXJzKSB7XHJcbiAgICBpZiAoIXNraWxsc1tza2lsbF0pIHJldHVybiBudWxsOyAgLy8gUmV0dXJuIG51bGwgaWYgdGhlIHNraWxsIGRvZXNuJ3QgZXhpc3RcclxuXHJcbiAgICBsZXQgYWZmZWN0ZWRSZXNvdXJjZXMgPSBza2lsbHNbc2tpbGxdLmFmZmVjdGVkUmVzb3VyY2VzO1xyXG5cclxuICAgIC8vIEZpbHRlciBhZmZlY3RlZFJlc291cmNlcyB0byBvbmx5IGNvbnRhaW4ga2V5cyB0aGF0IGFyZSBwcmVzZW50IGluIHRoZSByZXNvdXJjZXMgbWFwXHJcbiAgICBhZmZlY3RlZFJlc291cmNlcyA9IGFmZmVjdGVkUmVzb3VyY2VzLmZpbHRlcihyZXNvdXJjZSA9PiByZXNvdXJjZSBpbiByZXNvdXJjZXMpO1xyXG5cclxuICAgIC8vIGxldCBhO1xyXG4gICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBhZmZlY3RlZFJlc291cmNlcy5sZW5ndGg7IGEgPSBhZmZlY3RlZFJlc291cmNlc1tpXSkge1xyXG5cclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhhKTtcclxuICAgIC8vICAgICBpZiAoIXJlc291cmNlc1thXSkge1xyXG5cclxuICAgIC8vICAgICAgICAgY29uc3QgaW5kZXggPSBhZmZlY3RlZFJlc291cmNlcy5pbmRleE9mKGEpO1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhhLCBpbmRleCk7XHJcbiAgICAvLyAgICAgICAgIGxldCB4ID0gYWZmZWN0ZWRSZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICArK2k7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG4gICAgLy8gY29uc29sZS5sb2coYWZmZWN0ZWRSZXNvdXJjZXMpO1xyXG4gICAgbGV0IG51bWJlck9mUmVzb3VyY2VzID0gYWZmZWN0ZWRSZXNvdXJjZXMubGVuZ3RoO1xyXG5cclxuICAgIC8vIEluaXRpYWwgZXZlbiBkaXN0cmlidXRpb25cclxuICAgIGxldCBwZXJSZXNvdXJjZSA9IE1hdGguZmxvb3IodG90YWxXb3JrZXJzIC8gbnVtYmVyT2ZSZXNvdXJjZXMpO1xyXG5cclxuICAgIC8vIEV2ZW5seSBkaXN0cmlidXRlIHdvcmtlcnMgYW1vbmcgdGhlIGFmZmVjdGVkIHJlc291cmNlc1xyXG4gICAgZm9yIChsZXQgcmVzb3VyY2Ugb2YgYWZmZWN0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgICB3b3JrZXJzRGlzdHJpYnV0aW9uLnNldChyZXNvdXJjZSwgcGVyUmVzb3VyY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERpc3RyaWJ1dGUgYW55IHJlbWFpbmluZyB3b3JrZXJzIGR1ZSB0byByb3VuZGluZ1xyXG4gICAgbGV0IHJlbWFpbmluZ1dvcmtlcnMgPSB0b3RhbFdvcmtlcnMgLSAocGVyUmVzb3VyY2UgKiBudW1iZXJPZlJlc291cmNlcyk7XHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBvZiBhZmZlY3RlZFJlc291cmNlcykge1xyXG4gICAgICAgIGlmIChyZW1haW5pbmdXb3JrZXJzID4gMCkge1xyXG4gICAgICAgICAgICB3b3JrZXJzRGlzdHJpYnV0aW9uLnNldChyZXNvdXJjZSwgd29ya2Vyc0Rpc3RyaWJ1dGlvbi5nZXQocmVzb3VyY2UpICsgMSk7XHJcbiAgICAgICAgICAgIHJlbWFpbmluZ1dvcmtlcnMtLTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2cod29ya2Vyc0Rpc3RyaWJ1dGlvbik7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRXb3JrZXJzKHJlc291cmNlTmFtZSkge1xyXG4gICAgcmV0dXJuIHdvcmtlcnNEaXN0cmlidXRpb24uZ2V0KHJlc291cmNlTmFtZSk7XHJcbn1cclxuXHJcbi8vIGNvbnN0IGFsbEpvYkJ1dHRvbmJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpvYi1idXR0b24nKTtcclxuZnVuY3Rpb24gdXBkYXRlRGlzcGxheShqb2JUeXBlKSB7XHJcbiAgICBjb25zdCB0aGlzSm9iQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpvYi1idXR0b25bZGF0YS1qb2I9XCIke2pvYlR5cGV9XCJdYCk7XHJcbiAgICBpZiAoIXRoaXNKb2JCdXR0b24pIGNvbnNvbGUud2FybihcIkNvdWxkbid0IGZpbmQgam9iIGJ1dHRvbiBmb3Igam9iOiBcIiwgam9iVHlwZSk7XHJcbiAgICBjb25zdCBqb2JFbGVtZW50ID0gdGhpc0pvYkJ1dHRvbi5xdWVyeVNlbGVjdG9yKGAuam9iLW5hbWVgKTtcclxuICAgIGlmIChqb2JFbGVtZW50KSBqb2JFbGVtZW50LnRleHRDb250ZW50ID0gYCR7am9iVHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGpvYlR5cGUuc2xpY2UoMSl9OiAke2pvYkNvdW50c1tqb2JUeXBlXX1gO1xyXG5cclxuICAgIHJlcXVpcmUoJy4vcmVzb3VyY2VzJykudXBkYXRlRW1vamlEaXNwbGF5KCk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiB1cGRhdGVUb3RhbCgpIHtcclxuICAgIGNvbnN0IHRvdGFsRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqb2JzLXRvdGFsJyk7XHJcbiAgICB0b3RhbEVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkFzc2lnbmVkIENsb25lczogXCIgKyBnZXRUb3RhbEpvYnMoKSArIFwiIC8gXCIgKyBnZXRNYXRlcmlhbCgnY2xvbmVzJywgcmVzb3VyY2VzKTtcclxufVxyXG5cclxuXHJcbmxldCBzdGFydEJ1dHRvbiA9IG51bGw7XHJcbmxldCBjb25uZWN0aW9ucyA9IG5ldyBNYXAoKTsgIC8vIE1hcCB0byBzdG9yZSBjb25uZWN0aW9uc1xyXG5sZXQgbWFuYWdlbWVudCA9IHsgJ2Nvbm5lY3Rpb25zJzogY29ubmVjdGlvbnMsICdtaW5zJzoge30sICdtYXhlcyc6IHt9LCAndHJpZ2dlcnMnOiB7fSB9O1xyXG5sZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbmVDYW52YXMnKTtcclxuXHJcbmZ1bmN0aW9uIHNldENvbm5lY3Rpb25zKG5ld0Nvbm5lY3Rpb25zKSB7XHJcbiAgICBjb25uZWN0aW9ucyA9IG5ld0Nvbm5lY3Rpb25zO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb25uZWN0aW9ucygpIHtcclxuICAgIHJldHVybiBjb25uZWN0aW9ucztcclxufVxyXG5cclxuLy8gaWYgKGNhbnZhcykge1xyXG4vLyBAdHMtaWdub3JlXHJcbmxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuLy8gQHRzLWlnbm9yZVxyXG5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuLy8gQHRzLWlnbm9yZVxyXG5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4vLyB9XHJcblxyXG4vLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9iLWJ1dHRvbicpO1xyXG5cclxuLy8gICAgIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4vLyAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbi8vICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuYnRuLWRlY3JlbWVudCcpIHx8IGUudGFyZ2V0LmNsb3Nlc3QoJy5idG4taW5jcmVtZW50JykpIHJldHVybjtcclxuXHJcbi8vICAgICAgICAgICAgIGlmICghaXNQb25kZXJlZCgnbWFuYWdlbWVudCcpKSByZXR1cm47XHJcblxyXG4vLyAgICAgICAgICAgICBsZXQgam9iQnV0dG9uID0gZS50YXJnZXQuY2xvc2VzdCgnLmpvYi1idXR0b24nKTtcclxuXHJcbi8vICAgICAgICAgICAgIGlmIChqb2JCdXR0b24pIHtcclxuLy8gICAgICAgICAgICAgICAgIGlmICghc3RhcnRCdXR0b24pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdGFydEJ1dHRvbiA9IGpvYkJ1dHRvbjtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdGFydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQnKTtcclxuLy8gICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRCdXR0b24uaWQgJiYgam9iQnV0dG9uLmlkKSB7IC8vIEVuc3VyZSBib3RoIElEcyBhcmUgYXZhaWxhYmxlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuc2V0KHN0YXJ0QnV0dG9uLmlkLCBqb2JCdXR0b24uaWQpO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IGFsbCBjb25uZWN0aW9uc1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGRyYXdBbGxDb25uZWN0aW9ucygpO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgICAgICAvLyBSZXNldFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uID0gbnVsbDtcclxuLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTWlzc2luZyBJRCBmb3Igb25lIG9mIHRoZSBidXR0b25zOicsIHN0YXJ0QnV0dG9uLCBqb2JCdXR0b24pO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2xpY2tlZCBlbGVtZW50IGlzIG5vdCBpbnNpZGUgYSBqb2IgYnV0dG9uOicsIGUudGFyZ2V0KTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0pO1xyXG5cclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChlKSB7XHJcbi8vICAgICAgICAgaWYgKHN0YXJ0QnV0dG9uKSB7XHJcbi8vICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIERyYXcgZXhpc3RpbmcgY29ubmVjdGlvbnNcclxuLy8gICAgICAgICAgICAgZHJhd0FsbENvbm5lY3Rpb25zKCk7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBEcmF3IHRoZSBsaW5lIGZyb20gc3RhcnRCdXR0b24gdG8gY3VycmVudCBtb3VzZSBwb3NpdGlvblxyXG4vLyAgICAgICAgICAgICBkcmF3TGluZShzdGFydEJ1dHRvbiwgZS5jbGllbnRYLCBlLmNsaWVudFkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG4vLyB9KTtcclxuXHJcbmZ1bmN0aW9uIGRyYXdBbGxDb25uZWN0aW9ucygpIHtcclxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgIHRyeSB7XHJcblxyXG5cclxuICAgICAgICBmb3IgKGxldCBbb2xkSWQsIG5ld0lkXSBvZiBjb25uZWN0aW9ucy5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgbGV0IG9sZEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9sZElkKTtcclxuICAgICAgICAgICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5ld0lkKTtcclxuICAgICAgICAgICAgbGV0IHJlY3QgPSBuZXdCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIGxldCBuZXdYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIGxldCBuZXdZID0gMDtcclxuICAgICAgICAgICAgaWYgKHJlY3QuYm90dG9tID4gb2xkQnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSkgbmV3WSA9IG5ld0J1dHRvbi5vZmZzZXRUb3AgLSAxMDtcclxuICAgICAgICAgICAgZWxzZSBuZXdZID0gbmV3QnV0dG9uLm9mZnNldFRvcCArIG5ld0J1dHRvbi5vZmZzZXRIZWlnaHQgKyAxMDtcclxuICAgICAgICAgICAgZHJhd0xpbmUob2xkQnV0dG9uLCBuZXdYLCBuZXdZKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgY29uc29sZS53YXJuKCdkcmF3QWxsQ29ubmVjdGlvbnMnLCBlcnJvcik7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0Fycm93aGVhZChjb250ZXh0LCBmcm9tWCwgZnJvbVksIHRvWCwgdG9ZLCByYWRpdXMpIHtcclxuICAgIGxldCB4X2NlbnRlciA9IHRvWDtcclxuICAgIGxldCB5X2NlbnRlciA9IHRvWTtcclxuXHJcbiAgICBsZXQgYW5nbGU7XHJcbiAgICBsZXQgeDtcclxuICAgIGxldCB5O1xyXG5cclxuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgYW5nbGUgPSBNYXRoLmF0YW4yKHRvWSAtIGZyb21ZLCB0b1ggLSBmcm9tWCk7XHJcbiAgICB4ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpICsgeF9jZW50ZXI7XHJcbiAgICB5ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpICsgeV9jZW50ZXI7XHJcblxyXG4gICAgY29udGV4dC5tb3ZlVG8oeCwgeSk7XHJcblxyXG4gICAgYW5nbGUgKz0gKDEgLyAzKSAqICgyICogTWF0aC5QSSk7XHJcbiAgICB4ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpICsgeF9jZW50ZXI7XHJcbiAgICB5ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpICsgeV9jZW50ZXI7XHJcblxyXG4gICAgY29udGV4dC5saW5lVG8oeCwgeSk7XHJcblxyXG4gICAgYW5nbGUgKz0gKDEgLyAzKSAqICgyICogTWF0aC5QSSk7XHJcbiAgICB4ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpICsgeF9jZW50ZXI7XHJcbiAgICB5ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpICsgeV9jZW50ZXI7XHJcblxyXG4gICAgY29udGV4dC5saW5lVG8oeCwgeSk7XHJcblxyXG4gICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuXHJcbiAgICBjb250ZXh0LmZpbGwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0xpbmUoc3RhcnRFbGVtZW50LCBlbmRYLCBlbmRZKSB7XHJcbiAgICBsZXQgcmVjdCA9IHN0YXJ0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIC8vIGxldCBvZmZzZXQgPSBNYXRoLnJhbmRvbSgpICogMTAwICsgMTAwXHJcbiAgICBsZXQgc3RhcnRYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7IC8vIC0gb2Zmc2V0O1xyXG4gICAgLy8gZW5kWCAtPSBvZmZzZXQ7XHJcbiAgICBsZXQgc3RhcnRZID0gc2Nyb2xsWSArIHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xyXG5cclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xyXG4gICAgY3R4LmxpbmVUbyhlbmRYLCBlbmRZKTtcclxuICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAvLyBEcmF3IGFycm93IGF0IHRoZSBlbmQgb2YgdGhlIGxpbmVcclxuICAgIGRyYXdBcnJvd2hlYWQoY3R4LCBzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSwgMTApOyAgLy8gYWRqdXN0IHRoZSBsYXN0IHBhcmFtZXRlciBmb3IgYXJyb3cgc2l6ZVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhckpvYkFzc2lnbm1lbnRzKCkge1xyXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgY29ubmVjdGlvbnMgPSBuZXcgTWFwKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMoKSB7XHJcbiAgICAvLyBGb3IgZWFjaCBjb25uZWN0aW9uXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBjb25uZWN0aW9ucy5lbnRyaWVzKCk7XHJcbiAgICAgICAgaWYgKGVudHJpZXMgPT09IHVuZGVmaW5lZCkgdGhyb3cgJ0VudHJpZXMgaXMgdW5kZWZpbmVkJztcclxuXHJcbiAgICAgICAgZm9yIChsZXQgW29sZEpvYklkLCBuZXdKb2JJZF0gb2YgZW50cmllcykge1xyXG4gICAgICAgICAgICBsZXQgb2xkSm9iQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2xkSm9iSWQpO1xyXG4gICAgICAgICAgICBsZXQgZGF0YUpvYiA9IG9sZEpvYkJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtam9iJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBvbGRJZCA9IG9sZEpvYklkLnJlcGxhY2UoJ2pvYi1idXR0b24tJywgJycpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdJZCA9IG5ld0pvYklkLnJlcGxhY2UoJ2pvYi1idXR0b24tJywgJycpO1xyXG4gICAgICAgICAgICBsZXQgbWF4ZWRPdXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgbGV0IHJlc291cmNlQXJyYXkgPSBza2lsbHNbZGF0YUpvYl0uYWZmZWN0ZWRSZXNvdXJjZXM7XHJcbiAgICAgICAgICAgIGlmICghcmVzb3VyY2VBcnJheSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZUFycmF5KTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIHJlc291cmNlQXJyYXkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcl0gIT09IHVuZGVmaW5lZCAmJiBnZXRNYXRlcmlhbChyKSA8IHJlc291cmNlc1tyXS5tYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyLCBnZXRNYXRlcmlhbChyKSwgcmVzb3VyY2VzW3JdLm1heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ZWRPdXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG1heGVkT3V0ICYmIGpvYkNvdW50c1tkYXRhSm9iXSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaEpvYihvbGRJZCwgbmV3SWQpO1xyXG4gICAgICAgICAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMob2xkSWQsIGpvYkNvdW50c1tvbGRJZF0pO1xyXG4gICAgICAgICAgICAgICAgZGlzdHJpYnV0ZVdvcmtlcnMobmV3SWQsIGpvYkNvdW50c1tuZXdJZF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAocmVzb3VyY2VzW2FmZmVjdGVkUmVzb3VyY2VdLmN1cnJlbnRWYWx1ZSA+PSByZXNvdXJjZXNbYWZmZWN0ZWRSZXNvdXJjZV0ubWF4VmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gICAgIHN3aXRjaEpvYihvbGRKb2JJZCwgbmV3Sm9iSWQpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgY29uc29sZS53YXJuKCdyZWFzc2lnbkpvYnMnLCBlcnJvcik7IH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN3aXRjaEpvYihvbGRKb2JJZCwgbmV3Sm9iSWQpIHtcclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gc3dpdGNoZXMgd29ya2VycyBmcm9tIG9sZEpvYiB0byBuZXdKb2IuXHJcbiAgICAvLyBEZXBlbmRpbmcgb24geW91ciBhcHBsaWNhdGlvbiBzdHJ1Y3R1cmUsIHlvdSBjYW4gaW1wbGVtZW50IHRoaXMgZnVuY3Rpb24gYWNjb3JkaW5nbHkuXHJcbiAgICAvLyBGb3IgZXhhbXBsZSwgcmVkdWNlIHRoZSBjb3VudCBvZiB3b3JrZXJzIGluIG9sZEpvYiBhbmQgaW5jcmVhc2UgaW4gbmV3Sm9iLlxyXG4gICAgLy8gY29uc29sZS5sb2coYFN3aXRjaGluZyB3b3JrZXJzIGZyb20gJHtvbGRKb2JJZH0gdG8gJHtuZXdKb2JJZH1gKTtcclxuXHJcbiAgICBsZXQgd29ya2VycyA9IGpvYkNvdW50c1tvbGRKb2JJZF07XHJcbiAgICBqb2JDb3VudHNbb2xkSm9iSWRdID0gMDtcclxuICAgIGpvYkNvdW50c1tuZXdKb2JJZF0gKz0gd29ya2VycztcclxuICAgIHVwZGF0ZURpc3BsYXkob2xkSm9iSWQpO1xyXG4gICAgdXBkYXRlRGlzcGxheShuZXdKb2JJZCk7XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGNsZWFySm9iQXNzaWdubWVudHMsXHJcbiAgICByZWFzc2lnbkpvYnNCYXNlZE9uUmVzb3VyY2VzLFxyXG4gICAgc3dpdGNoSm9iLFxyXG4gICAgZHJhd0FsbENvbm5lY3Rpb25zLFxyXG4gICAgZ2V0V29ya2VycyxcclxuICAgIHVwZGF0ZVRvdGFsLFxyXG4gICAgc2V0Q29ubmVjdGlvbnMsXHJcbiAgICBnZXRDb25uZWN0aW9ucyxcclxuICAgIGRpc3RyaWJ1dGVXb3JrZXJzLFxyXG4gICAgdXBkYXRlRGlzcGxheSxcclxuICAgIGpvYkNvdW50c1xyXG59OyIsImNvbnN0IGJ1aWxkaW5ncyA9IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhPVVNJTkdcclxuICAgICAqL1xyXG4gICAgXCJzaGVsdGVyXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHsgXCJzdGlja3NcIjogMzAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyBcImNsb25lc1wiOiAxIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7fSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRm9yIHdoZW4geW91IG5lZWQgYSBob21lIGF3YXkgZnJvbSBob21lLlwiXHJcbiAgICB9LFxyXG4gICAgJ2h1dCc6IHtcclxuICAgICAgICBiYXNlY29zdDogeyAnc3RpY2tzJzogNTAsICd2aW5lcyc6IDMwIH0sXHJcbiAgICAgICAgJ2VmZmVjdHMnOiB7ICdjbG9uZXMnOiAxIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdBIGNvenksIGlkeWxsaWMgY2h1bmsgb2Ygd29vZC4nXHJcbiAgICB9LFxyXG4gICAgXCJob3VzZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwid29vZFwiOiA1MCwgXCJyb2Nrc1wiOiAyMCwgJ2Zpc2gnOiAxMCB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwiY2xvbmVzXCI6IDIgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuNCxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJFdmVyeSBjbG9uZSdzIGRyZWFtLiBNaW51cyB0aGUgd2hpdGUgcGlja2V0IGZlbmNlLlwiXHJcbiAgICB9LFxyXG4gICAgJ3RlZXBlZSc6IHtcclxuICAgICAgICBiYXNlY29zdDogeyAnd29vZCc6IDEwLCAnaGlkZXMnOiAyNSwgJ2Zpc2gnOiAxNSB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHsgJ2Nsb25lcyc6IDIgfSxcclxuICAgICAgICBib29zdDoge30sXHJcbiAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgcmF0aW86IDEuNSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJXcmFwIHNvbWUgaGlkZXMgYXJvdW5kIHNvbWUgd29vZCBhbmQgY2FsbCBpdCBhIGhvbWUuXCJcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTVE9SQUdFXHJcbiAgICAgKi9cclxuICAgIFwic2hlZFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7IFwid29vZFwiOiA0MCB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwid29vZFwiOiA1MCwgXCJzdGlja3NcIjogNTAsIFwicm9ja3NcIjogMjAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGUgdWx0aW1hdGUgc3RvcmFnZSBzb2x1dGlvbiBmb3IgdGhlIHBhY2sgcmF0IGluIHlvdS5cIlxyXG4gICAgfSxcclxuICAgICdzdG9ja3BpbGUnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgcm9ja3M6IDMwIH0sXHJcbiAgICAgICAgZWZmZWN0czogeyB3b29kOiAxMDAgfSxcclxuICAgICAgICByYXRpbzogMS4xLFxyXG4gICAgICAgIGJvb3N0OiB7fSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJDaHVjayBhIGJ1bmNoIG9mIGxvZ3MgaW4gYSBwaWxlLCB3aGF0IGNvdWxkIGhhcHBlbj9cIlxyXG4gICAgfSxcclxuICAgIFwiZHJ5aW5nX3JhY2tzXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHsgXCJzdGlja3NcIjogMzAsIFwiZmlzaFwiOiA1IH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJmaXNoXCI6IDIwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7fSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjEsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQWlyIGRyeWluZzogTmF0dXJlJ3Mgd2F5IG9mIHByZXNlcnZpbmcgZm9vZC5cIlxyXG4gICAgfSxcclxuICAgIFwid29ya3Nob3BcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjogeyBcIndvb2RcIjogNDAsIFwic3RpY2tzXCI6IDIwLCBcInJvY2tzXCI6IDEwIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgJ3JvY2tzJzogNTAsICdvcmUnOiA1MCwgJ3NhbmQnOiAxMDAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHt9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJESVkncyBkcmVhbSBkZXN0aW5hdGlvbi5cIlxyXG4gICAgfSxcclxuICAgICdiYXJuJzoge1xyXG4gICAgICAgICdiYXNlY29zdCc6IHsgJ3dvb2QnOiAzMCwgJ3doZWF0JzogNSB9LFxyXG4gICAgICAgICdlZmZlY3RzJzogeyAnd2hlYXQnOiAxMDAsICdiZXJyaWVzJzogNDAsICd2aW5lcyc6IDQwIH0sXHJcbiAgICAgICAgJ2Jvb3N0Jzoge30sXHJcbiAgICAgICAgJ2NvdW50JzogMCxcclxuICAgICAgICAncmF0aW8nOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSGF5LCB3aGF0J3MgaW4gdGhhdCBidWlsZGluZz9cIlxyXG4gICAgfSxcclxuICAgICdoZXJiYWxpc3RfaHV0Jzoge1xyXG4gICAgICAgIGJhc2Vjb3N0OiB7ICdzdGlja3MnOiA1MCwgJ3ZpbmVzJzogNTAsICdoZXJicyc6IDUwIH0sXHJcbiAgICAgICAgZWZmZWN0czogeyAnaGVyYnMnOiAxMDAsICd2aW5lcyc6IDEwMCB9LFxyXG4gICAgICAgIGJvb3N0OiB7ICdoZXJicyc6IDEuMiwgdmluZXM6IDEuMSB9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQSBwbGFjZSBmb3IgYnJld2luZyBhbmQgc3Rld2luZy5cIlxyXG4gICAgfSxcclxuICAgIFwiYmFrZXJ5XCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDgwLFxyXG4gICAgICAgICAgICBcIndoZWF0XCI6IDEwMCxcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiA0MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgJ3doZWF0JzogMjAwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7fSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjI1LFxyXG4gICAgICAgIFwidG9vbHRpcERlc2NcIjogXCJGcmVzaGx5IGJha2VkIGJyZWFkLCBob3QgYW5kIHJlYWR5LlwiXHJcbiAgICB9LFxyXG4gICAgXCJhbmltYWxfcGVuXCI6IHtcclxuICAgICAgICBiYXNlY29zdDoge1xyXG4gICAgICAgICAgICBzdGlja3M6IDUwLFxyXG4gICAgICAgICAgICBnYW1lOiAyMCxcclxuICAgICAgICAgICAgZmlzaDogMjVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVmZmVjdHM6IHsgJ2dhbWUnOiAxMDAsICdoaWRlcyc6IDMwIH0sXHJcbiAgICAgICAgYm9vc3Q6IHt9LFxyXG4gICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgIHJhdGlvOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQSBwbGFjZSB0byBwdXQgdGhvc2UgbGVzc2VyIHRoYW4geW91LlwiXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBST0RVQ1RJT04gQk9PU1RcclxuICAgICAqL1xyXG4gICAgXCJncm92ZVwiOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHsgJ3dvb2QnOiAyMCwgJ3ZpbmVzJzogMjAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7fSxcclxuICAgICAgICBib29zdDogeyAnd29vZCc6IDEuMDUsICdzdGlja3MnOiAxLjEgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkEgbmljZSBncm92ZSBvZiB0cmVlcyB0byBmaW5kIHdvb2QgZmFzdGVyLlwiXHJcbiAgICB9LFxyXG4gICAgXCJmaXNoX3RyYXBzXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb3BlXCI6IDQwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiZmlzaFwiOiAxLjA1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRmlzaGluZyBtYWRlIGVhc3kuIE5vIHBhdGllbmNlIHJlcXVpcmVkLlwiXHJcbiAgICB9LFxyXG4gICAgXCJtaW5lXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJyb2Nrc1wiOiAzMCxcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDMwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwib3JlXCI6IDEuMDUsICdyb2Nrcyc6IDEuMDVcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJEaWcgZGVlcCBhbmQgZmluZCB5b3VyIGlubmVyIG9yZS5cIlxyXG4gICAgfSxcclxuICAgIFwiY2FtcGZpcmVcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDIwLFxyXG4gICAgICAgICAgICBcInN0aWNrc1wiOiAyMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjogeyAnYWxsJzogMS4wNSB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuNSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJXaGVyZSBzdG9yaWVzIGFyZSB0b2xkIGFuZCBtYXJzaG1hbGxvd3MgYXJlIHRvYXN0ZWQuXCJcclxuICAgIH0sXHJcbiAgICBcImx1bWJlcl95YXJkXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDIwMCxcclxuICAgICAgICAgICAgXCJpcm9uXCI6IDFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDEuMlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIldvb2QgeW91IGxpa2Ugc29tZSBtb3JlIHdvb2Q/XCJcclxuICAgIH0sXHJcbiAgICBcInN0b25lX3F1YXJyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNTAsXHJcbiAgICAgICAgICAgIFwid29vZFwiOiAyMCxcclxuICAgICAgICAgICAgXCJyb3BlXCI6IDMwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiUm9jayBvbiB3aXRoIHlvdXIgYmFkIHNlbGYhXCJcclxuICAgIH0sXHJcbiAgICBcImZpc2hlcnlcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogNDAsXHJcbiAgICAgICAgICAgIFwicm9wZVwiOiAxNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHt9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcImZpc2hcIjogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRmlzaCBhcmUgZnJpZW5kcy4gQW5kIGZvb2QuXCJcclxuICAgIH0sXHJcbiAgICBcInZpbmV5YXJkXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDIwLFxyXG4gICAgICAgICAgICBcInZpbmVzXCI6IDUwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwidmluZXNcIjogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRm9yIHRoZSBmaW5lc3QgdmluZXMuIFdoYXQgZWxzZSB3b3VsZCBpdCBncm93P1wiXHJcbiAgICB9LFxyXG4gICAgXCJmb3JnZVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNDAsXHJcbiAgICAgICAgICAgIFwib3JlXCI6IDIwLFxyXG4gICAgICAgICAgICBcIndvb2RcIjogMTAwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwib3JlXCI6IDEuMlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIk1lbHQsIG1vbGQsIGFuZCBtYWtlIG1hcnZlbG91cyBtZXRhbHMuXCJcclxuICAgIH0sXHJcbiAgICAnd2F0ZXJfd2VsbCc6IHtcclxuICAgICAgICAnYmFzZWNvc3QnOiB7XHJcbiAgICAgICAgICAgICdyb2Nrcyc6IDMwLFxyXG4gICAgICAgICAgICAncm9wZSc6IDEsXHJcbiAgICAgICAgICAgICd3b29kJzogMTBcclxuICAgICAgICB9LFxyXG4gICAgICAgICdlZmZlY3RzJzogeyAnZnJlc2h3YXRlcic6IDMwIH0sXHJcbiAgICAgICAgJ2Jvb3N0Jzoge1xyXG4gICAgICAgICAgICAnZnJlc2h3YXRlcic6IDEuMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2NvdW50JzogMCxcclxuICAgICAgICAncmF0aW8nOiAxLjQsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiRnJlc2ggd2F0ZXIgb24gZGVtYW5kIVwiXHJcbiAgICB9LFxyXG4gICAgJ3Rvd2VyJzoge1xyXG4gICAgICAgICdiYXNlY29zdCc6IHtcclxuICAgICAgICAgICAgJ2JyaWNrcyc6IDIwLFxyXG4gICAgICAgICAgICAncm9ja3MnOiAxMCxcclxuICAgICAgICAgICAgJ3dvb2QnOiAzMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2VmZmVjdHMnOiB7fSxcclxuICAgICAgICAnYm9vc3QnOiB7ICdoaWRlcyc6IDEuMDUsICdnYW1lJzogMS4xIH0sXHJcbiAgICAgICAgJ2NvdW50JzogMCxcclxuICAgICAgICByYXRpbzogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlNlZSB0aGluZ3MgZnJvbSBhZmFyLlwiXHJcbiAgICB9LFxyXG4gICAgXCJ0YW5uZXJ5XCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDYwLFxyXG4gICAgICAgICAgICBcImhpZGVzXCI6IDQwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjogeyAnaGlkZXMnOiA1MCB9LFxyXG4gICAgICAgIFwiYm9vc3RcIjoge1xyXG4gICAgICAgICAgICBcImhpZGVzXCI6IDEuMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIFwidG9vbHRpcERlc2NcIjogXCJUcmVhdCBoaWRlcyB0byBtYWtlIHF1YWxpdHkgbGVhdGhlci5cIlxyXG4gICAgfSxcclxuICAgIFwibWFya2V0cGxhY2VcIjoge1xyXG4gICAgICAgIFwiYmFzZWNvc3RcIjoge1xyXG4gICAgICAgICAgICBcIndvb2RcIjogMTAwLFxyXG4gICAgICAgICAgICBcInJvY2tzXCI6IDUwLFxyXG4gICAgICAgICAgICBcImJlcnJpZXNcIjogNDAsXHJcbiAgICAgICAgICAgIFwiZ29sZFwiOiAxXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiYmVycmllc1wiOiAxLjIsXHJcbiAgICAgICAgICAgIFwiaGVyYnNcIjogMS4yLFxyXG4gICAgICAgICAgICAnb3JlJzogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjI1LFxyXG4gICAgICAgIFwidG9vbHRpcERlc2NcIjogXCJBIGJ1c3RsaW5nIGh1YiBvZiB0cmFkZSBhbmQgYmFydGVyLlwiXHJcbiAgICB9LFxyXG4gICAgXCJ3aW5kbWlsbFwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiAxMDAsXHJcbiAgICAgICAgICAgIFwicm9ja3NcIjogNjAsXHJcbiAgICAgICAgICAgIFwid2hlYXRcIjogNTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7fSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3aGVhdFwiOiAxLjJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291bnRcIjogMCxcclxuICAgICAgICBcInJhdGlvXCI6IDEuMyxcclxuICAgICAgICBcInRvb2x0aXBEZXNjXCI6IFwiR3JpbmQgZ3JhaW5zIGVmZmljaWVudGx5IHdpdGggd2luZCBwb3dlci5cIlxyXG4gICAgfSxcclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUE9OREVSXHJcbiAgICAgKi9cclxuICAgICd0ZWxlc2NvcGUnOiB7XHJcbiAgICAgICAgYmFzZWNvc3Q6IHtcclxuICAgICAgICAgICAgZ2xhc3M6IDEsXHJcbiAgICAgICAgICAgIHdvb2Q6IDEwLFxyXG4gICAgICAgICAgICBwb25kZXI6IDEwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBlZmZlY3RzOiB7fSxcclxuICAgICAgICBib29zdDogeyBwb25kZXI6IDEuMDUgfSxcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByYXRpbzogMS4yLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkxvb2ssIHVwIGluIHRoZSBza3khIEl0J3MgYSBzdGFyIVwiXHJcbiAgICB9LFxyXG4gICAgXCJvYnNlcnZhdG9yeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwiYnJpY2tzXCI6IDcwLFxyXG4gICAgICAgICAgICBcIndvb2RcIjogMzAsXHJcbiAgICAgICAgICAgIFwiZ2xhc3NcIjogNTAsXHJcbiAgICAgICAgICAgIFwicG9uZGVyXCI6IDUwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImVmZmVjdHNcIjoge30sXHJcbiAgICAgICAgXCJib29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwicG9uZGVyXCI6IDEuMlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3VudFwiOiAwLFxyXG4gICAgICAgIFwicmF0aW9cIjogMS4zLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIlN0YXJnYXppbmcgaGFzIG5ldmVyIGJlZW4gc28uLi4gcHJvZHVjdGl2ZT9cIlxyXG4gICAgfSxcclxuICAgIFwibGlicmFyeVwiOiB7XHJcbiAgICAgICAgXCJiYXNlY29zdFwiOiB7XHJcbiAgICAgICAgICAgIFwid29vZFwiOiA3MCxcclxuICAgICAgICAgICAgXCJwYXBlclwiOiAyNSxcclxuICAgICAgICAgICAgXCJnbGFzc1wiOiA1LFxyXG4gICAgICAgICAgICBcInBvbmRlclwiOiAyNVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJlZmZlY3RzXCI6IHsgXCJwb25kZXJcIjogNTAgfSxcclxuICAgICAgICBcImJvb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogMS4xXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjMsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiS25vd2xlZGdlIGlzIHBvd2VyLiBBbmQgYSBmaXJlIGhhemFyZCBpZiBub3Qgc3RvcmVkIHByb3Blcmx5LlwiXHJcbiAgICB9LFxyXG4gICAgXCJkZXNrXCI6IHtcclxuICAgICAgICBcImJhc2Vjb3N0XCI6IHtcclxuICAgICAgICAgICAgXCJ3b29kXCI6IDE1LFxyXG4gICAgICAgICAgICBcInN0aWNrc1wiOiAyMCxcclxuICAgICAgICAgICAgXCJwb25kZXJcIjogMTBcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZWZmZWN0c1wiOiB7IFwicG9uZGVyXCI6IDMwIH0sXHJcbiAgICAgICAgXCJib29zdFwiOiB7IFwicG9uZGVyXCI6IDEuMDUgfSxcclxuICAgICAgICBcImNvdW50XCI6IDAsXHJcbiAgICAgICAgXCJyYXRpb1wiOiAxLjIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQSB3cml0ZXIncyBibG9jayBpcyBubyBtYXRjaCBmb3IgYXJtb3ItcGllcmNpbmcgcGVuY2lscyFcIlxyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2V0QnVpbGRpbmdDb3VudChidWlsZGluZ05hbWUpIHtcclxuICAgIHJldHVybiBidWlsZGluZ3NbYnVpbGRpbmdOYW1lXS5jb3VudDtcclxufVxyXG5mdW5jdGlvbiBnZXRCb29zdChidWlsZGluZ05hbWUsIHJlc291cmNlKSB7XHJcbiAgICBjb25zdCBidWlsZGluZyA9IGJ1aWxkaW5nc1tidWlsZGluZ05hbWVdO1xyXG5cclxuICAgIGlmIChidWlsZGluZyAmJiBidWlsZGluZy5ib29zdCkge1xyXG4gICAgICAgIGlmIChidWlsZGluZy5ib29zdFtyZXNvdXJjZV0pIHJldHVybiBidWlsZGluZy5ib29zdFtyZXNvdXJjZV07XHJcbiAgICAgICAgaWYgKGJ1aWxkaW5nLmJvb3N0WydhbGwnXSkgcmV0dXJuIGJ1aWxkaW5nLmJvb3N0WydhbGwnXTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBidWlsZGluZ3M6IGJ1aWxkaW5ncyxcclxuICAgIGdldEJ1aWxkaW5nQ291bnQsXHJcbiAgICBnZXRCb29zdFxyXG59OyIsImNvbnN0IHsgcGFzc2VkU3RhZ2UgfSA9IHJlcXVpcmUoJy4uL3N0YWdlcycpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuLi9nZXRNYXRlcmlhbCcpO1xyXG5jb25zdCB7IGhhc1Rvb2wgfSA9IHJlcXVpcmUoJy4uL3Rvb2xzJyk7XHJcbmNvbnN0IHsgcmVzb3VyY2VzIH0gPSByZXF1aXJlKCcuL3Jlc291cmNlcycpO1xyXG5cclxuLyogQlVUVE9OUyAqL1xyXG5jb25zdCBidXR0b25zID0ge1xyXG5cclxuICAgIC8qIFBST0RVQ1RJT04gVEFCICovXHJcbiAgICAnZ2F0aGVyU3RpY2tzJzoge1xyXG4gICAgICAgIGNsYXNzOiAndG9vbHRpcCBzdGFydFZpc2libGUnLFxyXG4gICAgICAgIHRhYjogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHRleHQ6ICfwk4CdIEdhdGhlciBTdGlja3MnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnRml2ZSwgU2l4LCBQaWNrIHVwIHN0aWNrcy4nLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnRnJlZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2UgLy8gVGhpcyBidXR0b24gaXMgYWx3YXlzIHZpc2libGVcclxuICAgIH0sXHJcbiAgICAnZ2F0aGVyVmluZXMnOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwIHN0aWNrJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiAn8JONryBHYXRoZXIgVmluZXMnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnU29tZSB2aW5lcyBhcmUgcnViYmVyeSwgb3RoZXJzIGFyZSBndW1teS4nLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnRnJlZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGdldE1hdGVyaWFsKCdzdGlja3MnLCByZXNvdXJjZXMpID49IDEwIHx8IHBhc3NlZFN0YWdlKCd2aW5lcycpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2dhdGhlclJvY2tzJzoge1xyXG4gICAgICAgIGNsYXNzOiAndG9vbHRpcCBzdGljaycsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogJ/CTipbwk4CpIEdhdGhlciBSb2NrcycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdOb3QgYSBzaW5nbGUgd2luZG93IHRvIHRocm93IHRoZW0gdGhyb3VnaC4nLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnRnJlZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGdldE1hdGVyaWFsKCd2aW5lcycsIHJlc291cmNlcykgPj0gMTAgfHwgcGFzc2VkU3RhZ2UoJ3JvY2tzJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAnZ2F0aGVyRmlzaCc6IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgZmlzaGluZycsXHJcbiAgICAgICAgdGFiOiAncHJvZHVjdGlvbicsXHJcbiAgICAgICAgdGV4dDogJ/CThp0g8JOGnyDwk4aeIEdvIEZpc2gnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnR290IGFueSB0dW5hPycsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdGcmVlJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gaGFzVG9vbCgnU3BlYXInKSB8fCBoYXNUb29sKFwiRmlzaGluZyBSb2RcIikgfHwgcGFzc2VkU3RhZ2UoJ2Zpc2hpbmcnKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdnYXRoZXJXb29kJzoge1xyXG4gICAgICAgIGNsYXNzOiAnd29vZFRvZ2dsZSB3b29kJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiAn8JOMjyBDaG9wIFdvb2QnLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQW4gYXhlIGh1cnRzIHdheSBsZXNzIHRoYW4gdXNpbmcgeW91ciBoYW5kcy4nLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gaGFzVG9vbCgnQXhlJykgfHwgcGFzc2VkU3RhZ2UoJ3dvb2QnKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdnYXRoZXJPcmUnOiB7XHJcbiAgICAgICAgXCJjbGFzc1wiOiBcInRvb2x0aXAgXCIsXHJcbiAgICAgICAgXCJ0YWJcIjogXCJwcm9kdWN0aW9uXCIsXHJcbiAgICAgICAgXCJ0ZXh0XCI6IFwi4puPIE1pbmUgT3JlXCIsXHJcbiAgICAgICAgXCJ0b29sdGlwRGVzY1wiOiBcIkRpZ2d5IERpZ2d5IEhvbGVcIixcclxuICAgICAgICBcInRvb2x0aXBDb3N0XCI6IFwiRnJlZVwiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBoYXNUb29sKCdQaWNrYXhlJykgfHwgcGFzc2VkU3RhZ2UoJ29yZScpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgLyogVEFCUyAqL1xyXG4gICAgJ3Byb2R1Y3Rpb25UYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnUHJvZHVjdGlvbicsXHJcbiAgICAgICAgc2hvd1RhYjogJ3Byb2R1Y3Rpb25UYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgndGFiLWJ1dHRvbicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2V4cGVyaW1lbnRUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnRXhwZXJpbWVudCcsXHJcbiAgICAgICAgc2hvd1RhYjogJ2V4cGVyaW1lbnRUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgndGFiLWJ1dHRvbicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ3BvbmRlclRhYkJ1dHRvbic6IHtcclxuICAgICAgICBjbGFzczogJ3RhYi1idXR0b24nLFxyXG4gICAgICAgIHRleHQ6ICdQb25kZXInLFxyXG4gICAgICAgIHNob3dUYWI6ICdwb25kZXJUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgncG9uZGVyLXRhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgJ2pvYnNUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnSm9icycsXHJcbiAgICAgICAgc2hvd1RhYjogJ2pvYnNUYWInLFxyXG4gICAgICAgIHRhYjogJ3RhYnMnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgnam9icy10YWInKSxcclxuICAgICAgICBoaWRlOiAoKSA9PiBmYWxzZVxyXG4gICAgfSxcclxuICAgICdza2lsbHNUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnU2tpbGxzJyxcclxuICAgICAgICBzaG93VGFiOiAnc2tpbGxzVGFiJyxcclxuICAgICAgICB0YWI6ICd0YWJzJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoJ3NraWxsc1RhYmxlJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbiAgICAncGVya3NUYWJCdXR0b24nOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0YWItYnV0dG9uJyxcclxuICAgICAgICB0ZXh0OiAnUGVya3MnLFxyXG4gICAgICAgIHNob3dUYWI6ICdwZXJrc1RhYicsXHJcbiAgICAgICAgdGFiOiAndGFicycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdwZXJrc1RhYicpLFxyXG4gICAgICAgIGhpZGU6ICgpID0+IGZhbHNlXHJcbiAgICB9LFxyXG5cclxuICAgIC8qIFBPTkRFUiBUQUIgKi9cclxuICAgICdnYXRoZXJQb25kZXInOiB7XHJcbiAgICAgICAgY2xhc3M6ICd0b29sdGlwJyxcclxuICAgICAgICB0ZXh0OiAnUG9uZGVyJyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1dyYXAgeW91ciBoZWFkIGFyb3VuZCB0aGUgZ3JlYXQgbXlzdGVyaWVzJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1RpbWUnLFxyXG4gICAgICAgIHRhYjogJ3BvbmRlcicsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdwb25kZXItdGFiJyksXHJcbiAgICAgICAgaGlkZTogKCkgPT4gZmFsc2VcclxuICAgIH0sXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGJ1dHRvbnM6IGJ1dHRvbnNcclxufTsiLCIvKiBDUkFGVElORyBSRVNPVVJDRVMgKi9cclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi4vZ2V0TWF0ZXJpYWwnKTtcclxuY29uc3QgeyBnZXRDcmFmdGVkUmVzb3VyY2UgfSA9IHJlcXVpcmUoJy4uL2dldENyYWZ0ZWRSZXNvdXJjZScpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZSgnLi4vc3RhZ2VzJyk7XHJcblxyXG5cclxuY29uc3QgY3JhZnRlZFJlc291cmNlcyA9IHtcclxuICAgICdzaGFycHJvY2tzJzoge1xyXG4gICAgICAgIHRleHQ6ICdTaGFycCBSb2NrcycsXHJcbiAgICAgICAgaWQ6ICdjcmFmdFNoYXJwcm9ja3MnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3JvY2tzJzogMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gZ2V0TWF0ZXJpYWwoJ3JvY2tzJywgcmVzb3VyY2VzKSA+PSA1LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQ3JhZnQgYSByb2NrIHVzaW5nIG5vdGhpbmcgYnV0IHJvY2tzIScsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdSb2NrczogNScsXHJcbiAgICAgICAgY2xhc3M6ICdjcmFmdFJvY2tzJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdyb3BlJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRSb3BlJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICd2aW5lcyc6IDMgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGdldE1hdGVyaWFsKCd2aW5lcycsIHJlc291cmNlcykgPj0gMyxcclxuICAgICAgICB0b29sdGlwRGVzYzogJ1RoZSBiYXNpcyBvZiBhdHRhY2hpbmcgdGhpbmdzIHRvIG90aGVyIHRoaW5ncy4nLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnVmluZXM6IDMnLFxyXG4gICAgICAgIGNsYXNzOiAncm9wZSdcclxuICAgICAgICAvLyB0b29sOiAnQmFyZSBIYW5kcydcclxuICAgIH0sXHJcbiAgICAnaGFuZGxlJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRIYW5kbGUnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3N0aWNrcyc6IDIgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGdldENyYWZ0ZWRSZXNvdXJjZSgnc2hhcnBSb2NrcycpID49IDEsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdTaGVhciBvZmYgdGhhdCBiYXJrIHRvIGhvbGQgaXQgYmV0dGVyJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ1NoYXJwIFJvY2tzOiAxJyxcclxuICAgICAgICBjbGFzczogJ2NyYWZ0Um9ja3MnXHJcbiAgICAgICAgLy8gdG9vbDogJ1NoYXJwIFJvY2snXHJcbiAgICB9LFxyXG4gICAgJ3N0YWZmJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRTdGFmZicsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnaGFuZGxlJzogMiwgJ3JvcGUnOiAxIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRDcmFmdGVkUmVzb3VyY2UoJ2hhbmRsZScpID49IDEsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdTdGljayBzb21lIHNoZWFyZWQgc3RpY2tzIHRvZ2V0aGVyJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJ0hhbmRsZXM6IDInLFxyXG4gICAgICAgIGNsYXNzOiAncm9wZSdcclxuICAgICAgICAvLyB0b29sOiAnQmFyZSBIYW5kcydcclxuICAgIH0sXHJcbiAgICAnZmlzaGluZ3JvZCc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0RmlzaGluZ3JvZCcsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnc3RhZmYnOiAxLCAncm9wZSc6IDIgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdmaXNoaW5nJyksXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdBIHdlYXBvbiBmZWFyZWQgYnkgdW5kZXJ3YXRlciBsaWZlJyxcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdyb3BlJ1xyXG4gICAgICAgIC8vIHRvb2w6ICdCYXJlIEhhbmRzJ1xyXG4gICAgfSxcclxuICAgICdzcGVhcic6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0U3BlYXInLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHtcclxuICAgICAgICAgICAgJ3N0YWZmJzogMSxcclxuICAgICAgICAgICAgJ3NoYXJwUm9ja3MnOiAxLFxyXG4gICAgICAgICAgICAncm9wZSc6IDEsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IGdldENyYWZ0ZWRSZXNvdXJjZSgnc3RhZmYnKSA+PSAxLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnQSBsb25nIGFuZCBwb2ludHkgc3RpY2snLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnU3RhZmZzOiAxJyxcclxuICAgICAgICBjbGFzczogJ3JvcGUnXHJcbiAgICAgICAgLy8gdG9vbDogJ0JhcmUgSGFuZHMnXHJcbiAgICB9LFxyXG4gICAgJ2F4ZSc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0QXhlJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdoYW5kbGUnOiAxLCAncm9wZSc6IDEsICdzaGFycHJvY2tzJzogMiB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gZ2V0Q3JhZnRlZFJlc291cmNlKCdzcGVhcicpID49IDEsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdQdXQgYSByb2NrIHN0cmFpZ2h0IHRocm91Z2ggdGhhdCBoYW5kbGUnLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnU3BlYXJzOiAxJyxcclxuICAgICAgICBjbGFzczogJ3JvcGUnXHJcbiAgICAgICAgLy8gdG9vbDogJ0JhcmUgSGFuZHMnXHJcbiAgICB9LFxyXG4gICAgJ3BpY2theGUnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFBpY2theGUnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHtcclxuICAgICAgICAgICAgJ2hhbmRsZSc6IDEsXHJcbiAgICAgICAgICAgICdzaGFycFJvY2tzJzogMyxcclxuICAgICAgICAgICAgJ3JvcGUnOiAxLFxyXG4gICAgICAgICAgICAncm9ja3MnOiAxMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRDcmFmdGVkUmVzb3VyY2UoJ2F4ZScpID49IDEsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdTYWRseSBub3QgbWFkZSBvZiBkaWFtb25kcycsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdBeGVzOiAxJyxcclxuICAgICAgICBjbGFzczogJ3JvcGUnXHJcbiAgICB9LFxyXG5cclxuICAgICdnbGFzcyc6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0R2xhc3MnLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3NhbmQnOiAxMCB9LFxyXG4gICAgICAgIGNyYWZ0ZWRPbmNlOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gcGFzc2VkU3RhZ2UoXCJnbGFzc0Jsb3dpbmdcIilcclxuICAgIH0sXHJcbiAgICAncGFwZXInOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdFBhcGVyJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICd3b29kJzogMTIgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdwYXBlcicpLFxyXG4gICAgfSxcclxuICAgICdnb2xkJzoge1xyXG4gICAgICAgIGlkOiAnY3JhZnRHb2xkJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdvcmUnOiAxMDAgfSxcclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdtZXRhbFdvcmtpbmcnKSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGVyZSdzIHNvbWUgeWVsbG93IGJpdHMgaW4gdGhpcyBvcmVcIixcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdtZXRhbFdvcmtpbmcnXHJcbiAgICB9LFxyXG4gICAgJ2lyb24nOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdElyb24nLFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIGNvc3Q6IHsgJ29yZSc6IDIwIH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBwYXNzZWRTdGFnZSgnbWV0YWxXb3JraW5nJyksXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhlcmUncyBzb21lIHN0dXJkeS1sb29raW5nIGJpdHMgaW4gdGhpcyBvcmVcIixcclxuICAgICAgICB0b29sdGlwQ29zdDogJycsXHJcbiAgICAgICAgY2xhc3M6ICdtZXRhbFdvcmtpbmcnXHJcbiAgICB9LFxyXG4gICAgJ3NpbHZlcic6IHtcclxuICAgICAgICBpZDogJ2NyYWZ0U2lsdmVyJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBjb3N0OiB7ICdvcmUnOiA1MCB9LFxyXG5cclxuICAgICAgICBjcmFmdGVkT25jZTogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHBhc3NlZFN0YWdlKCdtZXRhbFdvcmtpbmcnKSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGVyZSdzIHNvbWUgc2hpbnkgZ3JheSBiaXRzIGluIHRoaXMgb3JlXCIsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICcnLFxyXG4gICAgICAgIGNsYXNzOiAnbWV0YWxXb3JraW5nJ1xyXG4gICAgfSxcclxuICAgICdicmlja3MnOiB7XHJcbiAgICAgICAgaWQ6ICdjcmFmdEJyaWNrcycsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgY29zdDogeyAnY2xheSc6IDE1IH0sXHJcbiAgICAgICAgY3JhZnRlZE9uY2U6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiBnZXRNYXRlcmlhbCgnY2xheScsIHJlc291cmNlcykgPiA1LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkxlYXZlIHNvbWUgY2xheSBieSB0aGUgZmlyZVwiLFxyXG4gICAgICAgIHRvb2x0aXBDb3N0OiAnJ1xyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZChpZCkge1xyXG4gICAgZm9yIChsZXQgYyBpbiBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZXNbY10uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmFmdGVkUmVzb3VyY2VzW2NdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDcmFmdGVkUmVzb3VyY2VLZXlCeUNvbmZpZyhjb25maWcpIHtcclxuICAgIGZvciAobGV0IGsgaW4gY3JhZnRlZFJlc291cmNlcykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGspO1xyXG4gICAgICAgIGlmIChjcmFmdGVkUmVzb3VyY2VzW2tdLmlkID09PSBjb25maWcuaWQpIHJldHVybiBrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY3JhZnRlZFJlc291cmNlcyxcclxuICAgIGdldENyYWZ0ZWRSZXNvdXJjZUNvbmZpZ0J5SWQsXHJcbiAgICBnZXRDcmFmdGVkUmVzb3VyY2VLZXlCeUNvbmZpZ1xyXG59OyIsIlxyXG5cclxuLyoqXHJcbiAqIFRpZXIgMSAoNDAwIHBvbmRlcik6XHJcbiAqIEx1bWJlcmphY2tcclxuICogICsyNSUgd29vZCBwcm9kdWN0aW9uXHJcbiAqICArMjUlIHN0aWNrcyBwcm9kdWN0aW9uXHJcbiAqIFxyXG4gKiBNaW5lclxyXG4gKiAgKzI1JSBzdG9uZSAmIG9yZSBwcm9kdWN0aW9uXHJcbiAqIFxyXG4gKiBCb3RhbmlzdFxyXG4gKiAgKzI1JSB2aW5lcyAmIGhlcmJzICYgd2hlYXQgcHJvZHVjdGlvblxyXG4gKiBcclxuICogTGVhZGVyXHJcbiAqICA1MCUgY2xvbmUgZWZmZWN0aXZlbmVzc1xyXG4gKiBcclxuICogQXJjaGl0ZWN0XHJcbiAqICAtMjUlIGJ1aWxkaW5nIGNvc3RcclxuICogXHJcbiAqIFxyXG4gKiBUaWVyIDIgKDE1MDAgcG9uZGVyKTpcclxuICogVGhpbmtlclxyXG4gKiAgKzUwJSBwb25kZXIgcHJvZHVjdGlvbiBhbmQgc3RvcmFnZVxyXG4gKiAgLTI1JSBwb25kZXIgY29zdFxyXG4gKiBcclxuICogR2VuZXJhbFxyXG4gKiAgKzUwJSBjb21iYXQgc3RyZW5ndGhcclxuICogICsyNSUgY2xvbmUgZWZmZWN0aXZlbmVzc1xyXG4gKiBcclxuICogTWVyY2hhbnRcclxuICogIC0yNSUgdHJhZGUgcHJpY2VcclxuICogICsyNSUgY2hhbmNlIG9mIHJhcmUgdHJhZGVcclxuICogXHJcbiAqIEdlbmVyYWxpc3RcclxuICogICsxMCUgZ2xvYmFsIHByb2R1Y3Rpb25cclxuICogXHJcbiAqIFNwZWNpYWxpc3RcclxuICogICsxMDAlIHNraWxsIGdhaW5cclxuICogICsxMCUgc2tpbGwgYm9udXMgdG8gcmVzb3VyY2VzXHJcbiAqIFxyXG4gKi9cclxuY29uc3QgcGVya3MgPSB7XHJcbiAgICAndGllcjEnOiBbJ0x1bWJlcmphY2snLCAnTWluZXInLCAnQm90YW5pc3QnLCAnTGVhZGVyJywgJ0FyY2hpdGVjdCddLFxyXG4gICAgJ3RpZXIyJzogWydUaGlua2VyJywgJ0dlbmVyYWwnLCAnTWVyY2hhbnQnLCAnR2VuZXJhbGlzdCcsICdTcGVjaWFsaXN0J11cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgcGVya3M6IHBlcmtzXHJcbn0iLCJsZXQgcG9uZGVycyA9IHtcclxuICAgICdwb25kZXIxJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyUG9uZGVyMScsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTAgfSxcclxuICAgICAgICB0ZXh0OiBcIlRoaW5rIEhhcmRlclwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIjUlIGJvb3N0IHRvIHBvbmRlcmluZ1wiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG5cclxuICAgIH0sXHJcbiAgICAnam9icy10YWInOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJKb2JzLXRhYicsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMjAgfSxcclxuICAgICAgICB0ZXh0OiBcIlVuZGVyc3RhbmQgQ2xvbmluZ1wiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiAnV2h5IGFyZSB0aGVyZSB0d28gb2YgeW91PycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdG9vbHRpcENvc3Q6ICdTYW5pdHkgKDIwIFBvbmRlciknLFxyXG5cclxuICAgIH0sXHJcbiAgICAnc2tpbGxzVGFibGUnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJTa2lsbHNUYWJsZScsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNDAgfSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJZb3UncmUgc3RhcnRpbmcgdG8gbGVhcm4gdGhpbmdzLCByaWdodD9cIixcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIk5vdGljZSBJbXByb3ZlbWVudFwiXHJcbiAgICB9LFxyXG4gICAgJ2Zpc2hpbmcnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJGaXNoaW5nJyxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA1MCwgJ2Zpc2gnOiA1MCB9LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIldoYXQgaWYuLi4geW91ciBjbG9uZXMgY291bGQgZ28gZmlzaGluZz9cIixcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIkZpc2hpbmcgSm9iXCJcclxuICAgIH0sXHJcbiAgICAnbWFuYWdlbWVudCc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlck1hbmFnZW1lbnQnLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDIwMCwgJ2Nsb25lcyc6IDUgfSxcclxuICAgICAgICB0ZXh0OiBcIk1ldGEtam9ic1wiLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIllvdSBtYW5hZ2VkIHRvIG1ha2UgY2xvbmVzIG1hbmFnZSBlYWNoIG90aGVyLiBZb3UgY2FsbCB0aGVtIFwiXHJcbiAgICB9LFxyXG4gICAgJ2Zhc3RlclNraWxscyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckZhc3RlclNraWxscycsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogODAgfSxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0ZXh0OiBcIlNraWxscyBJXCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiVGhpbmsgU21hcnRlci4gNSUgYm9udXMgdG8gc2tpbGwgZXhwXCJcclxuICAgIH0sXHJcbiAgICAndGhpbmtpbmcnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJUaGlua2luZycsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTUwIH0sXHJcbiAgICAgICAgdGV4dDogXCJUaGlua2luZyBKb2JcIixcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJMZXQgeW91ciBjbG9uZXMgc3RhcnQgdGhpbmtpbmcgZm9yIHRoZW1zZWx2ZXMuXCJcclxuXHJcbiAgICB9LFxyXG4gICAgJ2Zhc3RlclJlc291cmNlR2Fpbic6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckZhc3RlclJlc291cmNlR2FpbicsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTIwIH0sXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgdGV4dDogXCJQcm9kdWN0aXZpdHkgSVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkp1c3Qgd29yayBoYXJkZXIuIDUlIGJvbnVzIHRvIHJlc291cmNlIGdhaW5cIlxyXG4gICAgfSxcclxuICAgIC8vICdtZXRhbFdvcmtpbmcnOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJNZXRhbFdvcmtpbmcnLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgLy8gICAgIHRleHQ6IFwiTWV0YWwgV29ya2luZ1wiLFxyXG4gICAgLy8gICAgIHRvb2x0aXBEZXNjOiBcIlN0YXJ0IHByb2Nlc3NpbmcgdGhhdCBvcmVcIixcclxuICAgIC8vICAgICAvLyBjb3N0OiBbeyBtYXRlcmlhbDogJ3BvbmRlcicsIGFtb3VudDogMTAwIH0sIHsgbWF0ZXJpYWw6ICdvcmUnLCBhbW91bnQ6IDUwIH0sIHsgbWF0ZXJpYWw6ICdyb2NrcycsIGFtb3VudDogNTAgfV1cclxuICAgIC8vICAgICBjb3N0OiB7ICdwb25kZXInOiAxMDAsICdvcmUnOiA1MCwgJ3JvY2tzJzogNTAgfSxcclxuICAgIC8vIH0sXHJcbiAgICAnYXV0b0Nsb25lJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyQXV0b0Nsb25lJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkF1dG8gQ2xvbmVcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBdXRvbWF0aWNhbGx5IHByb2R1Y2UgY2xvbmVzXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTQwLCAnY2xvbmVzJzogMjAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgJ2VmZmVjdGl2ZUJ1aWxkaW5ncyc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckVmZmVjdGl2ZUJ1aWxkaW5ncycsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJCdWlsZGluZ3MgSVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkluY3JlYXNlIGJ1aWxkaW5nIGVmZmVjdHMgYnkgMSVcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxNDAgfSxcclxuICAgIH0sXHJcbiAgICAnYWdyaWN1bHR1cmUnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJBZ3JpY3VsdHVyZScsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJBZ3JpY3VsdHVyZVwiLFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBcIkZpbmQgc29tZSBzZWVkcyBmcm9tIGFsbCB0aG9zZSBwbGFudHNcIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAxNTAgfVxyXG4gICAgfSxcclxuICAgICdjb21iYXQnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJDb21iYXQnLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6IFwiQ29tYmF0XCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiSXMgdGhlcmUgYW55b25lIHRvIHNwYXIgd2l0aCBiZXNpZGVzIHlvdT9cIixcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiAzMDAsICdzcGVhcic6IDEwMCB9XHJcbiAgICB9LFxyXG4gICAgJ2h1bnRpbmcnOiB7XHJcbiAgICAgICAgaWQ6ICdwb25kZXJIdW50aW5nJyxcclxuICAgICAgICByZXF1aXJlbWVudDogKCkgPT4gdHJ1ZSxcclxuICAgICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICB0ZXh0OiBcIkh1bnRpbmdcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJBdCBsZWFzdCB0aGVyZSBhcmUgYW5pbWFsc1wiLFxyXG4gICAgICAgIGNvc3Q6IHsgJ3BvbmRlcic6IDE0MCwgJ2Zpc2gnOiA1MCB9XHJcbiAgICB9LFxyXG4gICAgJ3BlcmtzVGFiJzoge1xyXG4gICAgICAgIGlkOiAncG9uZGVyUGVya3NUYWInLFxyXG4gICAgICAgIHJlcXVpcmVtZW50OiAoKSA9PiB0cnVlLFxyXG4gICAgICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6ICdQZXJrcycsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6ICdNYXliZSB5b3UgYXMgdGhlIG9yaWdpbmFsIHNob3VsZCBzcGVjaWFsaXplJyxcclxuICAgICAgICBjb3N0OiB7ICdwb25kZXInOiA0MDAgfVxyXG4gICAgfSxcclxuICAgICdhdXRvY3JhZnQnOiB7XHJcbiAgICAgICAgaWQ6IFwicG9uZGVyQXV0b2NyYWZ0XCIsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJBdXRvIENyYWZ0XCIsXHJcbiAgICAgICAgdG9vbHRpcERlc2M6IFwiQXV0b21hdGljYWxseSBjcmFmdCByZXNvdXJjZXMgd2hlbiB0aGV5IHJlYWNoIHRoZSBzdG9yYWdlIGxpbWl0XCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogNDAwLCAnd29vZCc6IDEwMDAsICdyb2Nrcyc6IDUwMCwgJ3doZWF0JzogMTAwMCB9XHJcbiAgICB9LFxyXG4gICAgJ2ZpbmlzaCc6IHtcclxuICAgICAgICBpZDogJ3BvbmRlckZpbmlzaCcsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUsXHJcbiAgICAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgdGV4dDogXCJGaW5pc2ggdGhlIEdhbWVcIixcclxuICAgICAgICB0b29sdGlwRGVzYzogXCJUaGF0J3MgaXQuIFlvdSdyZSBkb25lXCIsXHJcbiAgICAgICAgY29zdDogeyAncG9uZGVyJzogMTAwMCB9XHJcbiAgICB9LFxyXG4gICAgLy8gJ2V4cGxvcmF0aW9uJzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyRXhwbG9yYXRpb24nLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIGNvc3Q6IFt7XHJcbiAgICAvLyAgICAgICAgIG1hdGVyaWFsOiAncG9uZGVyJyxcclxuICAgIC8vICAgICAgICAgYW1vdW50OiAxNjBcclxuICAgIC8vICAgICB9XVxyXG4gICAgLy8gfSxcclxuICAgIC8vICd0cmFkaW5nJzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyVHJhZGluZycsXHJcbiAgICAvLyAgICAgaXNQb25kZXJlZDogZmFsc2UsXHJcbiAgICAvLyAgICAgY29zdDogW3tcclxuICAgIC8vICAgICAgICAgbWF0ZXJpYWw6ICdwb25kZXInLFxyXG4gICAgLy8gICAgICAgICBhbW91bnQ6IDE4MFxyXG4gICAgLy8gICAgIH0sIHsgbWF0ZXJpYWw6ICdnb2xkJywgYW1vdW50OiAxMDAgfV1cclxuICAgIC8vIH0sXHJcbiAgICAvLyAnc2NpZW5jZSc6IHtcclxuICAgIC8vICAgICBpZDogJ3BvbmRlclNjaWVuY2UnLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIGNvc3Q6IFt7XHJcbiAgICAvLyAgICAgICAgIG1hdGVyaWFsOiAncG9uZGVyJyxcclxuICAgIC8vICAgICAgICAgYW1vdW50OiAyMDBcclxuICAgIC8vICAgICB9XVxyXG4gICAgLy8gfSxcclxuICAgIC8vICdtYWdpYyc6IHtcclxuICAgIC8vICAgICBpZDogJ3BvbmRlck1hZ2ljJyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICBjb3N0OiBbe1xyXG4gICAgLy8gICAgICAgICBtYXRlcmlhbDogJ3BvbmRlcicsXHJcbiAgICAvLyAgICAgICAgIGFtb3VudDogMjIwXHJcbiAgICAvLyAgICAgfV1cclxuICAgIC8vIH0sXHJcbiAgICAvLyAnZGlwbG9tYWN5Jzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyRGlwbG9tYWN5JyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICBjb3N0OiBbe1xyXG4gICAgLy8gICAgICAgICBtYXRlcmlhbDogJ3BvbmRlcicsXHJcbiAgICAvLyAgICAgICAgIGFtb3VudDogMjQwXHJcbiAgICAvLyAgICAgfV1cclxuICAgIC8vIH0sXHJcbiAgICAvLyAnY29uc3RydWN0aW9uJzoge1xyXG4gICAgLy8gICAgIGlkOiAncG9uZGVyQ29uc3RydWN0aW9uJyxcclxuICAgIC8vICAgICBpc1BvbmRlcmVkOiBmYWxzZSxcclxuICAgIC8vICAgICBjb3N0OiBbe1xyXG4gICAgLy8gICAgICAgICBtYXRlcmlhbDogJ3BvbmRlcicsXHJcbiAgICAvLyAgICAgICAgIGFtb3VudDogMjYwXHJcbiAgICAvLyAgICAgfV1cclxuICAgIC8vIH0sXHJcbiAgICAvLyAnYXJ0cyc6IHtcclxuICAgIC8vICAgICBpZDogJ3BvbmRlckFydHMnLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIGNvc3Q6IFt7XHJcbiAgICAvLyAgICAgICAgIG1hdGVyaWFsOiAncG9uZGVyJyxcclxuICAgIC8vICAgICAgICAgYW1vdW50OiAyODBcclxuICAgIC8vICAgICB9XVxyXG4gICAgLy8gfSxcclxuICAgIC8vICdhc3Ryb25vbXknOiB7XHJcbiAgICAvLyAgICAgaWQ6ICdwb25kZXJBc3Ryb25vbXknLFxyXG4gICAgLy8gICAgIGlzUG9uZGVyZWQ6IGZhbHNlLFxyXG4gICAgLy8gICAgIGNvc3Q6IFt7XHJcbiAgICAvLyAgICAgICAgIG1hdGVyaWFsOiAncG9uZGVyJyxcclxuICAgIC8vICAgICAgICAgYW1vdW50OiAzMDBcclxuICAgIC8vICAgICB9XVxyXG4gICAgLy8gfVxyXG59O1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgcG9uZGVyczogcG9uZGVyc1xyXG59OyIsIi8vIFN0YXRlIG9mIGVhY2ggcmVzb3VyY2VcclxuXHJcbi8vIFRPRE86IEFERCBSRVFVSVJFTUVOVFMgRk9SIEVBQ0ggVE8gTUFLRSBUSEVNIFZJU0lCTEVcclxuLy8gb3IganVzdCBkaXNwbGF5IHRoZW0gd2hlbiB5b3UgZ2V0IHlvdXIgZmlyc3Qgb25lP1xyXG5jb25zdCByZXNvdXJjZXMgPSB7XHJcbiAgICBcImNsb25lc1wiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcIm1ha2VDbG9uZVwiLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBtYXg6IDBcclxuICAgIH0sXHJcblxyXG4gICAgXCJzdGlja3NcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJTdGlja3NcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiB0cnVlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCThrHwk4CcIEdhdGhlcmluZyBTdGlja3NcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOGsSBHYXRoZXIgU3RpY2tzXCIsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAnScsXHJcbiAgICAgICAgbWF4OiA1MFxyXG4gICAgfSxcclxuICAgIFwidmluZXNcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJWaW5lc1wiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTja/wk4CqIEdhdGhlcmluZyBWaW5lc1wiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk42vIEdhdGhlciBWaW5lc1wiLFxyXG4gICAgICAgIFwidG9vbHNcIjogW3sgXCJ0b29sXCI6IFwiQXhlXCIsIFwidmFsXCI6IDEuNSB9XSxcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgZW1vamk6ICfwk4CqJyxcclxuICAgICAgICBtYXg6IDUwXHJcbiAgICB9LFxyXG4gICAgXCJyb2Nrc1wiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlclJvY2tzXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOKlvCTgKkgR2F0aGVyaW5nIFJvY2tzXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTipYgR2F0aGVyIFJvY2tzXCIsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgbWF4OiAzMFxyXG4gICAgfSxcclxuICAgIFwiZmlzaFwiOiB7XHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlckZpc2hcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4ad8JOGn/CThp4g8JOBgyBHb25lIEZpc2hpbmdcIixcclxuICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwi8JOGnfCThp/wk4aeIEdvIEZpc2hcIixcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgZW1vamk6ICfwk4GDJyxcclxuICAgICAgICBcInRvb2xzXCI6IFt7IFwidG9vbFwiOiBcIlNwZWFyXCIsIFwidmFsXCI6IDEgfSwgeyBcInRvb2xcIjogXCJGaXNoaW5nIFJvZFwiLCBcInZhbFwiOiAyIH1dLFxyXG4gICAgICAgIG1heDogMTBcclxuICAgIH0sXHJcbiAgICBcIndvb2RcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJXb29kXCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOAqCBDaG9wcGluZyBXb29kXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTjI8gQ2hvcCBXb29kXCIsXHJcbiAgICAgICAgZW1vamk6ICfwk4CoJyxcclxuICAgICAgICBcInRvb2xzXCI6IFt7IFwidG9vbFwiOiBcIkF4ZVwiLCBcInZhbFwiOiAxLjUgfSwgeyBcInRvb2xcIjogXCJDaGFpbnNhd1wiLCBcInZhbFwiOiAzIH1dLFxyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBtYXg6IDQwXHJcbiAgICB9LFxyXG4gICAgXCJwb25kZXJcIjoge1xyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJQb25kZXJcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4CBIFBvbmRlcmluZ1wiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4CBIFBvbmRlclwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAgScsXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIG1heDogMjBcclxuICAgIH0sXHJcbiAgICBcIm9yZVwiOiB7XHJcbiAgICAgICAgXCJ2YWx1ZVwiOiAwLFxyXG4gICAgICAgIFwiaWRcIjogXCJnYXRoZXJPcmVcIixcclxuICAgICAgICBcImlzR2V0dGluZ1wiOiBmYWxzZSxcclxuICAgICAgICBcImlzVmlzaWJsZVwiOiBmYWxzZSxcclxuICAgICAgICBcImFjdGl2ZVRleHRcIjogXCLwk4m48JOBhCBNaW5pbmcgT3JlXCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTibggTWluZSBPcmVcIixcclxuICAgICAgICBlbW9qaTogJ/CTgYQnLFxyXG4gICAgICAgIG1heDogMjBcclxuICAgIH0sXHJcbiAgICBcInNhbmRcIjoge1xyXG4gICAgICAgIFwidmFsdWVcIjogMCxcclxuICAgICAgICBcImlkXCI6IFwiZ2F0aGVyU2FuZFwiLFxyXG4gICAgICAgIFwiaXNHZXR0aW5nXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiaXNWaXNpYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiYWN0aXZlVGV4dFwiOiBcIvCTgKkgU2Nvb3BpbmcgU2FuZFwiLFxyXG4gICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCLwk4CpIFNjb29wIFNhbmRcIixcclxuICAgICAgICBlbW9qaTogJ/CTgKknLFxyXG4gICAgICAgIG1heDogMjBcclxuICAgIH0sXHJcbiAgICBcIndoZWF0XCI6IHtcclxuICAgICAgICBcInZhbHVlXCI6IDAsXHJcbiAgICAgICAgXCJpZFwiOiBcImdhdGhlcldoZWF0XCIsXHJcbiAgICAgICAgXCJpc0dldHRpbmdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJpc1Zpc2libGVcIjogZmFsc2UsXHJcbiAgICAgICAgXCJhY3RpdmVUZXh0XCI6IFwi8JOAqSBIYXJ2ZXN0aW5nIFdoZWF0XCIsXHJcbiAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIvCTgKkgSGFydmVzdCBXaGVhdFwiLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAnScsXHJcbiAgICAgICAgbWF4OiAyMFxyXG4gICAgfSxcclxuICAgICdmcmVzaHdhdGVyJzoge1xyXG4gICAgICAgICd2YWx1ZSc6IDAsXHJcbiAgICAgICAgJ2lkJzogJ2dhdGhlckZyZXNod2F0ZXInLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgZW1vamk6ICfwk4CpJyxcclxuICAgICAgICAnbWF4JzogNTBcclxuICAgIH0sXHJcbiAgICAnaGlkZXMnOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVySGlkZXMnLFxyXG4gICAgICAgICdpc0dldHRpbmcnOiBmYWxzZSxcclxuICAgICAgICAnaXNWaXNpYmxlJzogZmFsc2UsXHJcbiAgICAgICAgJ2FjdGl2ZVRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgICdkZWZhdWx0VGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgZW1vamk6ICfwk4COJyxcclxuICAgICAgICAnbWF4JzogNTBcclxuXHJcbiAgICB9LFxyXG4gICAgJ2NsYXknOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVyQ2xheScsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICd3YXRlcicsXHJcbiAgICAgICAgJ2RlZmF1bHRUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICBlbW9qaTogJ/CTgKknLFxyXG4gICAgICAgICdtYXgnOiA1MFxyXG4gICAgfSxcclxuICAgICdiZXJyaWVzJzoge1xyXG5cclxuICAgICAgICAndmFsdWUnOiAwLFxyXG4gICAgICAgICdpZCc6ICdnYXRoZXJCZXJyaWVzJyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcbiAgICB9LFxyXG4gICAgJ2hlcmJzJzoge1xyXG4gICAgICAgICd2YWx1ZSc6IDAsXHJcbiAgICAgICAgJ2lkJzogJ2dhdGhlckhlcmJzJyxcclxuICAgICAgICAnaXNHZXR0aW5nJzogZmFsc2UsXHJcbiAgICAgICAgJ2lzVmlzaWJsZSc6IGZhbHNlLFxyXG4gICAgICAgICdhY3RpdmVUZXh0JzogJ3dhdGVyJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAnd2F0ZXInLFxyXG4gICAgICAgIGVtb2ppOiAn8JOAqScsXHJcbiAgICAgICAgJ21heCc6IDUwXHJcbiAgICB9LFxyXG4gICAgJ2dhbWUnOiB7XHJcbiAgICAgICAgJ3ZhbHVlJzogMCxcclxuICAgICAgICAnaWQnOiAnZ2F0aGVyR2FtZScsXHJcbiAgICAgICAgJ2lzR2V0dGluZyc6IGZhbHNlLFxyXG4gICAgICAgICdpc1Zpc2libGUnOiBmYWxzZSxcclxuICAgICAgICAnYWN0aXZlVGV4dCc6ICfwk4Oa8JOAjiBIdW50aW5nJyxcclxuICAgICAgICAnZGVmYXVsdFRleHQnOiAn8JOAjiBIdW50JyxcclxuICAgICAgICBlbW9qaTogJ/CTgI4nLFxyXG4gICAgICAgICdtYXgnOiA1MFxyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBpc1Jlc291cmNlKHJlc291cmNlKSB7XHJcbiAgICAvLyByZXR1cm4gcmVzb3VyY2VzW3Jlc291cmNlXSAhPT0gbnVsbDtcclxuICAgIHJldHVybiByZXNvdXJjZSBpbiByZXNvdXJjZXM7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0UmVzb3VyY2VDb25maWdCeUlkKGlkKSB7XHJcbiAgICBmb3IgKGxldCByIGluIHJlc291cmNlcykge1xyXG4gICAgICAgIGlmIChyZXNvdXJjZXNbcl0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZXNbcl07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICByZXNvdXJjZXM6IHJlc291cmNlcyxcclxuICAgIGlzUmVzb3VyY2UsXHJcbiAgICBnZXRSZXNvdXJjZUNvbmZpZ0J5SWRcclxufTsiLCJjb25zdCBza2lsbHMgPSB7XHJcbiAgICBnYXRoZXJpbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnc3RpY2tzJywgJ3ZpbmVzJywgJ3NhbmQnLCAnaGVyYnMnLCAnYmVycmllcyddXHJcbiAgICB9LFxyXG4gICAgbWFzb25yeToge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWydyb2NrcycsICdvcmUnLCAnY2xheSddLFxyXG4gICAgICAgIG5lZWRUb29sczogW3sgJ1BpY2theGUnOiBbJ29yZSddIH1dXHJcbiAgICB9LFxyXG4gICAgY2FycGVudHJ5OiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ3dvb2QnLCAnaGFuZGxlJywgJ3N0YWZmJywgJ2Zpc2hpbmdyb2QnXSxcclxuICAgICAgICBuZWVkVG9vbHM6IFt7ICdBeGUnOiBbJ3dvb2QnXSB9XVxyXG4gICAgfSxcclxuICAgIHRoaW5raW5nOiB7XHJcbiAgICAgICAgZXhwOiAwLFxyXG4gICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgIGFmZmVjdGVkUmVzb3VyY2VzOiBbJ3BvbmRlciddXHJcbiAgICB9LFxyXG4gICAgc21pdGhpbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnYXhlJywgJ3BpY2theGUnLCAnc3BlYXInLCAnZ2xhc3MnLCAnaXJvbicsICdzaWx2ZXInLCAnZ29sZCddXHJcbiAgICB9LFxyXG4gICAgZmFybWluZzoge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWyd3aGVhdCcsICdmcmVzaHdhdGVyJ11cclxuICAgIH0sXHJcbiAgICBjb21iYXQ6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFtdXHJcbiAgICB9LFxyXG4gICAgZmlzaGluZzoge1xyXG4gICAgICAgIGV4cDogMCxcclxuICAgICAgICBsZXZlbDogMCxcclxuICAgICAgICBhZmZlY3RlZFJlc291cmNlczogWydmaXNoJywgJ2ZyZXNod2F0ZXInXVxyXG4gICAgfSxcclxuICAgIGh1bnRpbmc6IHtcclxuICAgICAgICBleHA6IDAsXHJcbiAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgYWZmZWN0ZWRSZXNvdXJjZXM6IFsnaGlkZXMnLCAnZ2FtZSddXHJcbiAgICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHNraWxsczogc2tpbGxzXHJcbn07IiwiLy8gQHRzLW5vY2hlY2tcclxuXHJcbmNvbnN0IHsgY3JhZnRlZFJlc291cmNlcywgZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZCB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuY29uc3QgeyBidWlsZGluZ3MgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpO1xyXG5jb25zdCB7IHBvbmRlcnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vcG9uZGVyXCIpO1xyXG5jb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnV0dG9uc1wiKTtcclxuY29uc3QgeyByZXNvdXJjZXMsIGdldFJlc291cmNlQ29uZmlnQnlJZCB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5cclxuY29uc3QgeyBzYXZlR2FtZSwgbG9hZEdhbWUgfSA9IHJlcXVpcmUoXCIuL3NhdmluZ1wiKTtcclxuY29uc3QgeyBjcmVhdGVSZXNvdXJjZVRhZywgZ2VuZXJhdGVUb29sdGlwQ29zdCwgYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucywgaW5jcmVhc2VNYXRlcmlhbCwgY3JhZnRBbGxSZXNvdXJjZXMsIGNyYWZ0UmVzb3VyY2UsIGNhbGNJbmNyZWFzZSwgdXBkYXRlUmVzb3VyY2VJbmNyZWFzZVJhdGVzLCBjYWxjU2Vjb25kc1JlbWFpbmluZywgaW5jcmVhc2VNYXggfSA9IHJlcXVpcmUoJy4vcmVzb3VyY2VzJyk7XHJcbmNvbnN0IHsgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QsIGJ1eU1heEJ1aWxkaW5ncywgYnV5QnVpbGRpbmcgfSA9IHJlcXVpcmUoJy4vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgaGFzUGVyayB9ID0gcmVxdWlyZSgnLi9wZXJrcycpO1xyXG5jb25zdCB7IHVwZGF0ZVNpZGViYXIsIGdldE1heCB9ID0gcmVxdWlyZSgnLi9oZWxwZXInKTtcclxuY29uc3QgeyBtYWtlVmlzaWJsZSB9ID0gcmVxdWlyZSgnLi9tYWtlVmlzaWJsZScpO1xyXG5jb25zdCB7IHVwZGF0ZUJ1dHRvblZpc2liaWxpdHkgfSA9IHJlcXVpcmUoJy4vdXBkYXRlQnV0dG9uVmlzaWJpbGl0eScpO1xyXG5jb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi9nZXRDcmFmdGVkUmVzb3VyY2UnKTtcclxuY29uc3QgeyBnZXRNYXRlcmlhbCB9ID0gcmVxdWlyZSgnLi9nZXRNYXRlcmlhbCcpO1xyXG4vLyBAdHMtaWdub3JlXHJcbmNvbnN0IHsgY2FuVW5sb2NrLCBpc1BvbmRlcmVkLCBnZW5lcmF0ZVBvbmRlckJ1dHRvbnMgfSA9IHJlcXVpcmUoXCIuL3BvbmRlclwiKTtcclxuY29uc3QgeyBoYXNUb29sLCBhZGRUb29sIH0gPSByZXF1aXJlKCcuL3Rvb2xzJyk7XHJcbmNvbnN0IHsgZ2V0QXRlRmlzaCwgc2V0QXRlRmlzaCB9ID0gcmVxdWlyZSgnLi9hdGVGaXNoJyk7XHJcbmNvbnN0IHsgZHJhd0FsbENvbm5lY3Rpb25zLCB1cGRhdGVUb3RhbCB9ID0gcmVxdWlyZSgnLi9qb2JzJyk7XHJcbmNvbnN0IHsgY2FwaXRhbGl6ZUZpcnN0IH0gPSByZXF1aXJlKCcuL2NhcGl0YWxpemVGaXJzdCcpO1xyXG5jb25zdCB7IHBhc3NlZFN0YWdlIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG4vKiBNWSBDT0RFIFNUQVJUUyBIRVJFICovXHJcblxyXG5cclxuXHJcbi8vIEluaXRpYWxpemUgdmFsdWVzXHJcbi8vIGxldCBza2lsbGVkID0gZmFsc2U7XHJcblxyXG5cclxuZnVuY3Rpb24gc2V0VG90YWxUaW1lKHRpbWUpIHtcclxuICAgIHRvdGFsX3RpbWUgPSB0aW1lO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuLyogR0FUSEVSSU5HIE1BVEVSSUFMUyovXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IHNpZGViYXJQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jlc291cmNlc1wiKTtcclxuZnVuY3Rpb24gc3RvcEFsbEdhdGhlcmluZygpIHtcclxuICAgIGZvciAobGV0IGtleSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICByZXNvdXJjZXNba2V5XS5pc0dldHRpbmcgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCByQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYXRoZXJcIiArIGNhcGl0YWxpemVGaXJzdChrZXkpKTtcclxuICAgICAgICBpZiAockJ1dHRvbikgckJ1dHRvbi50ZXh0Q29udGVudCA9IHJlc291cmNlc1trZXldLmRlZmF1bHRUZXh0O1xyXG5cclxuICAgICAgICAvLyBTZXQgc2lkZWJhciB0byBub3QgYm9sZFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjb25zdCBzaWRlYmFyVGV4dCA9IHNpZGViYXJQYXJlbnQucXVlcnlTZWxlY3RvcignI3Jlc291cmNlLScgKyBrZXkpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoc2lkZWJhclRleHQpIHNpZGViYXJUZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAnbm9ybWFsJztcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGVtb2ppR2F0aGVyRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vtb2ppR2F0aGVyRGlzcGxheScpO1xyXG5mdW5jdGlvbiB0b2dnbGVSZXNvdXJjZShyZXNvdXJjZUtleSkge1xyXG4gICAgY29uc3QgcmVzb3VyY2UgPSByZXNvdXJjZXNbcmVzb3VyY2VLZXldO1xyXG5cclxuICAgIC8vIGVtb2ppRGl2LnRleHRDb250ZW50ID0gJ/CThq4nO1xyXG4gICAgY29uc3Qgc2lkZWJhclBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzb3VyY2VzXCIpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3Qgc2lkZWJhclRleHQgPSBzaWRlYmFyUGFyZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXNvdXJjZS0nICsgcmVzb3VyY2VLZXkpO1xyXG4gICAgY29uc3QgcmVzb3VyY2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2F0aGVyJyArIHJlc291cmNlS2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVzb3VyY2VLZXkuc2xpY2UoMSkpO1xyXG5cclxuICAgIGlmICghcmVzb3VyY2UuaXNHZXR0aW5nKSB7XHJcbiAgICAgICAgc3RvcEFsbEdhdGhlcmluZygpOyAvLyBTdG9wIGFsbCBnYXRoZXJpbmcgYWN0aW9uc1xyXG4gICAgICAgIHJlc291cmNlLmlzR2V0dGluZyA9IHRydWU7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHJlc291cmNlQnV0dG9uLnRleHRDb250ZW50ID0gcmVzb3VyY2UuYWN0aXZlVGV4dDtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKHNpZGViYXJUZXh0KSBzaWRlYmFyVGV4dC5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBlbW9qaUdhdGhlckRpdi50ZXh0Q29udGVudCA9IHJlc291cmNlLmVtb2ppO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc291cmNlLmVtb2ppKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb3VyY2UuaXNHZXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHJlc291cmNlQnV0dG9uLnRleHRDb250ZW50ID0gcmVzb3VyY2UuZGVmYXVsdFRleHQ7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChzaWRlYmFyVGV4dCkgc2lkZWJhclRleHQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLyogQlVUVE9OUyBHRU5FUkFURSAqL1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVCdXR0b25zKCkge1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiR2VuZXJhdGluZyBidXR0b25zXCIpO1xyXG4gICAgY29uc29sZS50cmFjZSgpO1xyXG4gICAgLy8gQ3JlYXRlIHRoZSBjb2x1bW5zXHJcbiAgICBjb25zdCBjcmVhdGVDb2x1bW5zID0gKHBhcmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBjb25zdCBjb2wyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY29uc3QgY29sMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb2wxLnN0eWxlLndpZHRoID0gJzMzLjMzJSc7XHJcbiAgICAgICAgY29sMi5zdHlsZS53aWR0aCA9ICczMy4zMyUnO1xyXG4gICAgICAgIGNvbDMuc3R5bGUud2lkdGggPSAnMzMuMzMlJztcclxuXHJcbiAgICAgICAgY29sMS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcbiAgICAgICAgY29sMi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcbiAgICAgICAgY29sMy5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcblxyXG4gICAgICAgIGNvbDEuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgICAgIGNvbDIuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgICAgIGNvbDMuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG5cclxuICAgICAgICAvLyBwYXJlbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4OycgIC8vIFNldCBwYXJlbnQgdG8gYmUgYSBmbGV4IGNvbnRhaW5lclxyXG5cclxuICAgICAgICBwYXJlbnQucHJlcGVuZChjb2wzKTtcclxuICAgICAgICBwYXJlbnQucHJlcGVuZChjb2wyKTtcclxuICAgICAgICBwYXJlbnQucHJlcGVuZChjb2wxKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtjb2wxLCBjb2wyLCBjb2wzXTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdGFic0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJzJyk7XHJcbiAgICBjb25zdCBwcm9kdWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2R1Y3Rpb25UYWInKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGV4cGVyaW1lbnRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZXJpbWVudFRhYicpLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tY29sdW1ucycpO1xyXG4gICAgY29uc3QgcG9uZGVyQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvbmRlclRhYicpO1xyXG4gICAgLy8gY29uc3Qgam9iQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYnNUYWInKTtcclxuICAgIC8vIFlvdSBjYW4gYWRkIG1vcmUgY29udGFpbmVycyBmb3IgZGlmZmVyZW50IHRhYnMgYXMgbmVlZGVkXHJcblxyXG4gICAgY29uc3QgcHJvZHVjdGlvbkNvbHVtbnMgPSBjcmVhdGVDb2x1bW5zKHByb2R1Y3Rpb25Db250YWluZXIpO1xyXG4gICAgY29uc3QgZXhwZXJpbWVudENvbHVtbnMgPSBjcmVhdGVDb2x1bW5zKGV4cGVyaW1lbnRDb250YWluZXIpO1xyXG4gICAgY29uc3QgcG9uZGVyQ29sdW1ucyA9IGNyZWF0ZUNvbHVtbnMocG9uZGVyQ29udGFpbmVyKTtcclxuICAgIC8vIGNvbnN0IGpvYkNvbHVtbnMgPSBjcmVhdGVDb2x1bW5zKGpvYkNvbnRhaW5lcik7XHJcbiAgICAvLyBTaW1pbGFybHksIGNyZWF0ZSBjb2x1bW5zIGZvciBvdGhlciB0YWJzIGFzIG5lZWRlZFxyXG5cclxuICAgIGxldCBwcm9kdWN0aW9uQ29sdW1uSW5kZXggPSAwO1xyXG4gICAgbGV0IGV4cGVyaW1lbnRDb2x1bW5JbmRleCA9IDA7XHJcbiAgICBsZXQgcG9uZGVyQ29sdW1uSW5kZXggPSAwO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgbGV0IGpvYkNvbHVtbkluZGV4ID0gMDtcclxuXHJcbiAgICAvLyBBZGQgY291bnRlcnMgZm9yIG90aGVyIHRhYnMgYXMgbmVlZGVkXHJcblxyXG4gICAgZm9yIChsZXQga2V5IGluIGJ1dHRvbnMpIHtcclxuICAgICAgICBjb25zdCBidG4gPSBidXR0b25zW2tleV07XHJcbiAgICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG5cclxuICAgICAgICBidXR0b25FbGVtZW50LmlkID0ga2V5O1xyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NOYW1lID0gYnRuLmNsYXNzO1xyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBidG4udGV4dDtcclxuXHJcbiAgICAgICAgLy8gYnV0dG9uRWxlbWVudC5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgICBpZiAoYnRuLnRvb2x0aXBEZXNjKSBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWRlc2MnLCBidG4udG9vbHRpcERlc2MpO1xyXG4gICAgICAgIGlmIChidG4udG9vbHRpcEVmZmVjdCkgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1lZmZlY3QnLCBidG4udG9vbHRpcEVmZmVjdCk7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3VubG9jaycsIGJ0bi51bmxvY2spO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ0bik7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGFfYnVpbGRpbmcnLCBidG4uZGF0YV9idWlsZGluZyk7XHJcbiAgICAgICAgLy8gaWYgdGhpcyByZXNvdXJjZSBpc24ndCB1bmxvY2tlZCwgaGlkZSBpdFxyXG4gICAgICAgIC8vIGlmICghYnRuLmlzVmlzaWJsZSkgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJ1dHRvbiBjb3JyZXNwb25kcyB0byBhIGNyYWZ0ZWQgcmVzb3VyY2UgdXNpbmcgdGhlIElEXHJcbiAgICAgICAgY29uc3QgY3JhZnRlZFJlc291cmNlID0gT2JqZWN0LnZhbHVlcyhjcmFmdGVkUmVzb3VyY2VzKS5maW5kKHJlc291cmNlID0+IHJlc291cmNlLmlkID09PSBrZXkpO1xyXG5cclxuICAgICAgICBpZiAoY3JhZnRlZFJlc291cmNlKSB7XHJcbiAgICAgICAgICAgIGJ0bi50b29sdGlwQ29zdCA9IGdlbmVyYXRlVG9vbHRpcENvc3QoY3JhZnRlZFJlc291cmNlLmNvc3QpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcsIGJ0bi50b29sdGlwQ29zdCk7XHJcblxyXG4gICAgICAgIGlmIChidG4uc2hvd1RhYikge1xyXG4gICAgICAgICAgICBidXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2hvd1RhYihidG4uc2hvd1RhYik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN3aXRjaGluZyB0byB0YWI6IFwiICsgYnRuLnNob3dUYWIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXBwZW5kIHRvIHRoZSBhcHByb3ByaWF0ZSBjb2x1bW4gYmFzZWQgb24gdGhlIHRhYiBwcm9wZXJ0eVxyXG4gICAgICAgIGlmIChidG4udGFiID09PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgcHJvZHVjdGlvbkNvbHVtbnNbcHJvZHVjdGlvbkNvbHVtbkluZGV4XS5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgcHJvZHVjdGlvbkNvbHVtbkluZGV4ID0gKHByb2R1Y3Rpb25Db2x1bW5JbmRleCArIDEpICUgMztcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChidG4udGFiID09PSAnZXhwZXJpbWVudCcpIHtcclxuICAgICAgICAgICAgZXhwZXJpbWVudENvbHVtbnNbZXhwZXJpbWVudENvbHVtbkluZGV4XS5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgZXhwZXJpbWVudENvbHVtbkluZGV4ID0gKGV4cGVyaW1lbnRDb2x1bW5JbmRleCArIDEpICUgMztcclxuICAgICAgICB9IGVsc2UgaWYgKGJ0bi50YWIgPT09ICd0YWJzJykge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHRhYnNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChidG4udGFiID09PSAncG9uZGVyJykge1xyXG4gICAgICAgICAgICBwb25kZXJDb2x1bW5zW3BvbmRlckNvbHVtbkluZGV4XS5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgcG9uZGVyQ29sdW1uSW5kZXggPSAocG9uZGVyQ29sdW1uSW5kZXggKyAxKSAlIDM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChidG4udGFiID09PSAnam9iJykge1xyXG4gICAgICAgICAgICAvLyBqb2JDb2x1bW5zW2pvYkNvbHVtbkluZGV4XS5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgLy8gam9iQ29sdW1uSW5kZXggPSAoam9iQ29sdW1uSW5kZXggKyAxKSAlIDM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkZCBtb3JlIGNvbmRpdGlvbnMgZm9yIG90aGVyIHRhYnMgYXMgbmVlZGVkXHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0b29sdGlwIGZvciBidWlsZGluZ3NcclxuICAgICAgICBjb25zdCBidWlsZGluZyA9IE9iamVjdC5rZXlzKGJ1aWxkaW5ncykuZmluZChidWlsZGluZyA9PiBidWlsZGluZyA9PT0ga2V5KTtcclxuICAgICAgICBpZiAoYnVpbGRpbmcpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnVpbGRpbmcsIGtleSk7XHJcbiAgICAgICAgICAgIC8vIGJ0bi50b29sdGlwQ29zdCA9IGdlbmVyYXRlQnVpbGRpbmdUb29sdGlwQ29zdChidWlsZGluZ3NbYnVpbGRpbmddLmNvc3QpO1xyXG4gICAgICAgICAgICByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdChrZXksIGJ1aWxkaW5ncywgaGFzUGVyayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEhpZGUgdGhlIGJ1dHRvbnMgd2Ugc2hvdWxkbid0IHNlZSB5ZXRcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhidG4pO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICghYnRuLnJlcXVpcmVtZW50KCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbkVsZW1lbnQsIGJ0bi5yZXF1aXJlbWVudCgpKTtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ0Vycm9yIHdpdGggcmVxdWlyZW1lbnQgd2hpbGUgZ2VuZXJhdGluZyBidXR0b25zOiAnLCBidG4sIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCB0b29sc1RvU3RhZ2VzID0ge1xyXG4gICAgJ1NoYXJwUm9ja3MnOiAnY3JhZnRSb2NrcycsXHJcbiAgICAnU3BlYXInOiAnZmlzaGluZycsXHJcbiAgICBcIkZpc2hpbmdSb2RcIjogJ2Zpc2hpbmcnLFxyXG4gICAgJ0F4ZSc6ICd3b29kJyxcclxuICAgIFwiUGlja2F4ZVwiOiAnb3JlJ1xyXG59O1xyXG5cclxuLy8gVXBkYXRlIHZpc2liaWxpdHkgb2YgYXNzZXRzXHJcbmNvbnN0IHZpc2liaWxpdHlSdWxlcyA9IFtcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKFwic3RpY2tzXCIsIHJlc291cmNlcykgPj0gMSxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKFwic3RpY2tcIilcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbCgnc3RpY2tzJywgcmVzb3VyY2VzKSA+PSAxMCxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCd2aW5lcycpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoJ3ZpbmVzJywgcmVzb3VyY2VzKSA+PSAxMCxcclxuICAgICAgICBhY3Rpb246ICgpID0+IG1ha2VWaXNpYmxlKCdyb2NrcycpXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0TWF0ZXJpYWwoXCJyb2Nrc1wiLCByZXNvdXJjZXMpID49IDEsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB7IG1ha2VWaXNpYmxlKFwidGFiLWJ1dHRvblwiKTsgbWFrZVZpc2libGUoJ2NyYWZ0Um9ja3MnKTsgfVxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBnZXRNYXRlcmlhbChcImZpc2hcIiwgcmVzb3VyY2VzKSA+PSAxLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ2Zpc2hpbmcnKVxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBoYXNUb29sKFwiQXhlXCIpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4gbWFrZVZpc2libGUoJ3dvb2QnKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldENyYWZ0ZWRSZXNvdXJjZSgncm9wZScpID49IDEsXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgncm9wZScpXHJcbiAgICB9LFxyXG5cclxuICAgIHtcclxuICAgICAgICBjb25kaXRpb246ICgpID0+IGdldE1hdGVyaWFsKCdmaXNoJywgcmVzb3VyY2VzKSA+PSA1ICYmICFnZXRBdGVGaXNoKCksXHJcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VhdEZpc2gnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWF0RmlzaCcpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvbmRpdGlvbjogKCkgPT4gZ2V0QXRlRmlzaCgpLFxyXG4gICAgICAgIGFjdGlvbjogKCkgPT4geyBtYWtlVmlzaWJsZSgnY2xvbmUnKTsgbWFrZVZpc2libGUoJ3BvbmRlci10YWInKTsgfVxyXG4gICAgfSxcclxuICAgIC8vIHtcclxuICAgIC8vICAgICBjb25kaXRpb246ICgpID0+IGlzUG9uZGVyZWQoJ2pvYnMtdGFiJyksXHJcbiAgICAvLyAgICAgYWN0aW9uOiAoKSA9PiBtYWtlVmlzaWJsZSgnam9icy10YWInKVxyXG4gICAgLy8gfSxcclxuICAgIC8vIHtcclxuICAgIC8vICAgICBjb25kaXRpb246ICgpID0+IGlzUG9uZGVyZWQoJ3NraWxsc1RhYmxlJyksXHJcbiAgICAvLyAgICAgYWN0aW9uOiAoKSA9PiB7IG1ha2VWaXNpYmxlKFwic2tpbGxlZFwiKTsgcG9wdWxhdGVTa2lsbHNUYWJsZSgpOyB9XHJcbiAgICAvLyB9XHJcbl07XHJcblxyXG5mdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygndXBkYXRpbmcgdmlzaWJsZScpO1xyXG4gICAgdmlzaWJpbGl0eVJ1bGVzLmZvckVhY2gocnVsZSA9PiB7XHJcbiAgICAgICAgaWYgKHJ1bGUuY29uZGl0aW9uKCkpIHtcclxuICAgICAgICAgICAgcnVsZS5hY3Rpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBmb3IgKGxldCB0b29sIGluIHRvb2xzVG9TdGFnZXMpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKCFoYXNUb29sKHRvb2wpICYmIGdldENyYWZ0ZWRSZXNvdXJjZSh0b29sKSA+IDApIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBhZGRUb29sKHRvb2wpO1xyXG4gICAgICAgICAgICBtYWtlVmlzaWJsZSh0b29sc1RvU3RhZ2VzW3Rvb2xdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSgpO1xyXG4gICAgICAgIGlmIChjdXJyZW50SG92ZXJCdXR0b24gIT09IG51bGwpIHVwZGF0ZVRvb2x0aXAoY3VycmVudEhvdmVyQnV0dG9uKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIFN3aXRjaCB0YWJzXHJcbmxldCB0YWJDb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YWItY29udGVudCA+IC5jb250ZW50XCIpOyAvLyBEaXJlY3QgY2hpbGRyZW4gb25seVxyXG5mdW5jdGlvbiBzaG93VGFiKHRhYk5hbWUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwic2hvdyB0YWI6IFwiICsgdGFiTmFtZSk7XHJcbiAgICAvLyBHZXQgYWxsIG1haW4gY29udGFpbmVyIGRpdnMgYW5kIGhpZGUgdGhlbVxyXG4gICAgZm9yIChsZXQgY29udGVudCBvZiB0YWJDb250YWluZXJzKSB7XHJcbiAgICAgICAgY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBhbGwgdGFiIGJ1dHRvbnMgYW5kIHJlbW92ZSB0aGUgYWN0aXZlIGNsYXNzXHJcbiAgICBsZXQgdGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiLWJ1dHRvblwiKTtcclxuICAgIGZvciAobGV0IHRhYiBvZiB0YWJzKSB7XHJcbiAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2hvdyB0aGUgY2xpY2tlZCB0YWIncyBtYWluIGNvbnRhaW5lciBkaXYgYW5kIG1ha2UgdGhlIHRhYiBidXR0b24gYWN0aXZlXHJcbiAgICBsZXQgYWN0aXZlQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYk5hbWUpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgYWN0aXZlQ29udGVudC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgIC8vIEdldCB0aGUgY2xpY2tlZCB0YWIgYnV0dG9uIGFuZCBtYWtlIGl0IGFjdGl2ZVxyXG4gICAgY29uc3QgdGFiU3RyaW5nID0gYCMke3RhYk5hbWV9QnV0dG9uYDtcclxuICAgIGxldCBhY3RpdmVUYWJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhYlN0cmluZyk7XHJcblxyXG4gICAgaWYgKGFjdGl2ZVRhYkJ1dHRvbikgYWN0aXZlVGFiQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgaWYgKHRhYk5hbWUgPT09ICdqb2JzVGFiJykge1xyXG4gICAgICAgIGRyYXdBbGxDb25uZWN0aW9ucygpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyogSE9US0VZUyAqL1xyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xyXG4gICAgICAgIGNhc2UgJzEnOlxyXG4gICAgICAgICAgICBzaG93VGFiKCdwcm9kdWN0aW9uVGFiJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJzInOlxyXG4gICAgICAgICAgICBpZiAocGFzc2VkU3RhZ2UoJ3RhYi1idXR0b24nKSkgc2hvd1RhYignZXhwZXJpbWVudFRhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAvLyBBZGQgY2FzZXMgZm9yIG90aGVyIHRhYnMgYXMgbmVlZGVkXHJcbiAgICAgICAgY2FzZSAnMyc6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgncG9uZGVyLXRhYicpKSBzaG93VGFiKCdwb25kZXJUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnNCc6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgnam9icy10YWInKSkgc2hvd1RhYignam9ic1RhYicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICc1JzpcclxuICAgICAgICAgICAgaWYgKHBhc3NlZFN0YWdlKCdza2lsbHNUYWJsZScpKSBzaG93VGFiKCdza2lsbHNUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnNic6XHJcbiAgICAgICAgICAgIGlmIChwYXNzZWRTdGFnZSgncGVya3NUYWInKSkgc2hvd1RhYigncGVya3NUYWInKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbi8qIERBUksgTU9ERSAqL1xyXG5jb25zdCBkYXJrTW9kZVRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGFya01vZGVUb2dnbGVcIik7XHJcbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xyXG5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2RhcmstbW9kZScpO1xyXG4vLyBAdHMtaWdub3JlXHJcbmRhcmtNb2RlVG9nZ2xlLmNsYXNzTGlzdC50b2dnbGUoJ2RhcmsnKTtcclxubGV0IGlzRGFyayA9IHRydWU7XHJcblxyXG5cclxuLyogQ1VUU0NFTkVTICovXHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gZWF0RmlzaCgpIHtcclxuICAgIGlmICghZ2V0QXRlRmlzaCgpICYmIGdldE1hdGVyaWFsKCdmaXNoJywgcmVzb3VyY2VzKSA+PSAxKSB7XHJcbiAgICAgICAgLy8gZWF0IGEgZmlzaCBhbmQgYmxhY2tvdXRcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbCgnZmlzaCcsIC0xKTtcclxuICAgICAgICAvLyBDYWxsIHRoaXMgZnVuY3Rpb24gdG8gc3RhcnQgdGhlIHNlcXVlbmNlXHJcbiAgICAgICAgZmFkZVRvQmxhY2soKTtcclxuICAgICAgICAvLyBIaWRlIGZpc2ggYnV0dG9uXHJcbiAgICAgICAgc2V0QXRlRmlzaCh0cnVlKTtcclxuICAgICAgICBjb25zdCBmaXNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlYXRGaXNoXCIpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBmaXNoQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYW5nZU1lc3NhZ2UoXCJZb3UgYXJlIHdpdGggeW91cnNlbGYgaW4gYSBmb3Jlc3QuXCIsICd3aXRoIHlvdXJzZWxmJyk7XHJcbiAgICAgICAgICAgIGluY3JlYXNlTWF4KCdjbG9uZXMnLCAxKTtcclxuICAgICAgICAgICAgaW5jcmVhc2VNYXRlcmlhbCgnY2xvbmVzJywgMSk7XHJcbiAgICAgICAgfSwgMTAwMCk7IC8vIGRlbGF5IG9mIDFzXHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZmFkZVRvQmxhY2soKSB7XHJcbiAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKTtcclxuICAgIGNvbnN0IG92ZXJsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktdGV4dCcpO1xyXG4gICAgY29uc3Qgb3ZlcmxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5LWJ1dHRvbicpO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgb3ZlcmxheVRleHQuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgIH0sIDIwMDApO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBvdmVybGF5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgfSwgNTAwMCk7XHJcbn1cclxuXHJcbmNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpO1xyXG4vLyBAdHMtaWdub3JlXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gaGlkZU92ZXJsYXkoKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbn1cclxuXHJcblxyXG4vLyBNZXNzYWdlIFxyXG5jb25zdCBtZXNzYWdlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlJyk7XHJcbmZ1bmN0aW9uIGNoYW5nZU1lc3NhZ2UobmV3TWVzc2FnZSwgY2xvbmVXb3Jkcykge1xyXG4gICAgY29uc3QgbW9kaWZpZWRNZXNzYWdlID0gbmV3TWVzc2FnZS5yZXBsYWNlKGNsb25lV29yZHMsIGA8c3BhbiBpZD1cImFsb25lXCIgdGl0bGU9XCJZb3UgZmVlbCBwZWNraXNoIGZvciBzb21lIHNlYWZvb2RcIj4ke2Nsb25lV29yZHN9PC9zcGFuPmApO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgbWVzc2FnZUVsZW1lbnQuaW5uZXJIVE1MID0gbW9kaWZpZWRNZXNzYWdlO1xyXG59XHJcbmZ1bmN0aW9uIGdldE1lc3NhZ2UoKSB7XHJcbiAgICByZXR1cm4gbWVzc2FnZUVsZW1lbnQ7XHJcbn1cclxuXHJcbi8qIEdBTUUgTE9PUCAqL1xyXG5cclxuXHJcbmxldCBtaWxsaXNlY29uZHNfcGVyX2ZyYW1lID0gNTA7XHJcbmxldCBsYXN0X3RpbWUgPSBudWxsO1xyXG5sZXQgdG90YWxfdGltZSA9IDA7XHJcbmxldCBhY2N1bXVsYXRlZF9sYWcgPSAwO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGxvb3AoY3VycmVudF90aW1lKSB7XHJcbiAgICBpZiAobGFzdF90aW1lID09PSBudWxsKSBsYXN0X3RpbWUgPSBjdXJyZW50X3RpbWU7XHJcblxyXG4gICAgY29uc3QgZGVsdGFfdGltZSA9IGN1cnJlbnRfdGltZSAtIGxhc3RfdGltZTtcclxuXHJcbiAgICB0b3RhbF90aW1lICs9IGRlbHRhX3RpbWU7XHJcbiAgICBhY2N1bXVsYXRlZF9sYWcgKz0gZGVsdGFfdGltZTtcclxuXHJcbiAgICBsYXN0X3RpbWUgPSBjdXJyZW50X3RpbWU7XHJcblxyXG4gICAgLy8gQ2F0Y2ggdXAgYWxsIHRoZSBtaXNzZWQgdGlja3NcclxuICAgIGxldCBub3JtYWxSYXRlID0gbWlsbGlzZWNvbmRzX3Blcl9mcmFtZTtcclxuICAgIC8vIHNpbXVsYXRlIHdpdGggbGVzcyBmaWRlbGl0eSB0byBtYWtlIHVwIHRpbWVcclxuICAgIC8vIHdoaWxlIChhY2N1bXVsYXRlZF9sYWcgPj0gMTAwICogbWlsbGlzZWNvbmRzX3Blcl9mcmFtZSkge1xyXG4gICAgLy8gICAgIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUgKj0gMTAwO1xyXG4gICAgLy8gfVxyXG4gICAgaWYgKGFjY3VtdWxhdGVkX2xhZyA+PSAxMCAqIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUpIHtcclxuICAgICAgICBtaWxsaXNlY29uZHNfcGVyX2ZyYW1lID0gYWNjdW11bGF0ZWRfbGFnIC8gMTA7XHJcbiAgICB9XHJcbiAgICB3aGlsZSAoYWNjdW11bGF0ZWRfbGFnID49IG1pbGxpc2Vjb25kc19wZXJfZnJhbWUpIHtcclxuXHJcbiAgICAgICAgYWNjdW11bGF0ZWRfbGFnIC09IG1pbGxpc2Vjb25kc19wZXJfZnJhbWU7XHJcbiAgICAgICAgdXBkYXRlKG1pbGxpc2Vjb25kc19wZXJfZnJhbWUsIHRvdGFsX3RpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIG1pbGxpc2Vjb25kc19wZXJfZnJhbWUgPSBub3JtYWxSYXRlO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG59XHJcblxyXG5cclxubGV0IHRpbWVfc2luY2VfbGFzdF9zYXZlID0gMDtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZShkZWx0YV90aW1lLCB0b3RhbF90aW1lKSB7XHJcblxyXG4gICAgZm9yIChsZXQga2V5IGluIHJlc291cmNlcykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwidXBkYXRpbmcgXCIgKyBrZXkpO1xyXG5cclxuICAgICAgICBpbmNyZWFzZU1hdGVyaWFsKGtleSwgY2FsY0luY3JlYXNlKGtleSwgZGVsdGFfdGltZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcygpO1xyXG5cclxuICAgIHJlbmRlcigpO1xyXG5cclxuICAgIC8vIFNhdmUgdGhlIGdhbWUgZXZlcnkgMTAgc2Vjb25kc1xyXG4gICAgdGltZV9zaW5jZV9sYXN0X3NhdmUgKz0gZGVsdGFfdGltZTtcclxuICAgIHRvdGFsX3RpbWUgKz0gZGVsdGFfdGltZTtcclxuICAgIGlmICh0aW1lX3NpbmNlX2xhc3Rfc2F2ZSA+PSAxMDAwMCkge1xyXG4gICAgICAgIHNhdmVHYW1lKCk7XHJcbiAgICAgICAgdGltZV9zaW5jZV9sYXN0X3NhdmUgPSAwO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLy8gd2luZG93LnNldEludGVydmFsKHJlbmRlciwgMTAwKSAvLyBVcGRhdGUgdmlzdWFscyAxMCB0aW1lcyBwZXIgc2Vjb25kXHJcbi8vIHdpbmRvdy5zZXRJbnRlcnZhbCh0aWNrLCAxMDAwKTsgLy8gRXZlcnkgdGljayBsYXN0cyBmb3IgMSBzZWNvbmRcclxuLy8gd2luZG93LnNldEludGVydmFsKHNhdmVHYW1lLCAxMDAwMCk7IC8vIFNhdmUgdGhlIGdhbWUgZXZlcnkgMTAgc2Vjb25kc1xyXG5cclxuXHJcblxyXG4vLyBjb25zdCBteVJlc291cmNlcyA9IHt9O1xyXG5cclxuLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRSZXNvdXJjZUJ0blwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZUZvcm1cIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuLy8gfSk7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gYWRkUmVzb3VyY2UoKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCByZXNvdXJjZU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc291cmNlTmFtZVwiKS52YWx1ZTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGFjdGl2ZVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc291cmNlQWN0aXZlVGV4dFwiKS52YWx1ZTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGRlZmF1bHRUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZURlZmF1bHRUZXh0XCIpLnZhbHVlO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IGJ0blRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blRleHRcIikudmFsdWU7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBidG5Ub29sdGlwRGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuVG9vbHRpcERlc2NcIikudmFsdWU7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBidG5Ub29sdGlwQ29zdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuVG9vbHRpcENvc3RcIikudmFsdWU7XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdmFyIG5ld1Jlc291cmNlID0gbXlSZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSA9IHtcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBpZDogXCJnYXRoZXJcIiArIHJlc291cmNlTmFtZSxcclxuICAgICAgICBpc0dldHRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGFjdGl2ZVRleHQ6IGFjdGl2ZVRleHQsXHJcbiAgICAgICAgZGVmYXVsdFRleHQ6IGRlZmF1bHRUZXh0LFxyXG4gICAgICAgIC8vIC4uLiBBZGQgb3RoZXIgYXR0cmlidXRlcyBhcyBmZXRjaGVkIGZyb20gZm9ybSAuLi5cclxuICAgIH07XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSBidXR0b24gb2JqZWN0XHJcbiAgICB2YXIgbmV3QnV0dG9uID0gYnV0dG9uc1tcImdhdGhlclwiICsgcmVzb3VyY2VOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVzb3VyY2VOYW1lLnNsaWNlKDEpXSA9IHtcclxuICAgICAgICBjbGFzczogJ3Rvb2x0aXAgJyxcclxuICAgICAgICB0YWI6ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICB0ZXh0OiBidG5UZXh0LFxyXG4gICAgICAgIHRvb2x0aXBEZXNjOiBidG5Ub29sdGlwRGVzYyxcclxuICAgICAgICB0b29sdGlwQ29zdDogYnRuVG9vbHRpcENvc3QsXHJcbiAgICAgICAgcmVxdWlyZW1lbnQ6ICgpID0+IHRydWUgLy8gQnkgZGVmYXVsdCwgbWFraW5nIHRoaXMgYWx3YXlzIHZpc2libGUuIE1vZGlmeSBhcyBuZWVkZWQuXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnNvbGUubG9nKG5ld1Jlc291cmNlKTtcclxuICAgIGNvbnNvbGUubG9nKG5ld0J1dHRvbik7XHJcblxyXG4gICAgLy8gSGlkZSBmb3JtIG9uY2UgcmVzb3VyY2UgaXMgYWRkZWRcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VGb3JtXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAvLyBPcHRpb25hbGx5LCB5b3UgY2FuIHVwZGF0ZSB0aGUgVUkgdG8gc2hvdyB0aGUgYWRkZWQgcmVzb3VyY2VcclxuICAgIC8vIHVwZGF0ZVVJKHJlc291cmNlTmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVVJKHJlc291cmNlTmFtZSkge1xyXG4gICAgLy8gSGVyZSB5b3UgY2FuIGNyZWF0ZSBhIG5ldyBET00gZWxlbWVudCB0byBkaXNwbGF5IHRoZSBhZGRlZCByZXNvdXJjZVxyXG4gICAgY29uc3QgcmVzb3VyY2VEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgcmVzb3VyY2VEaXYuaW5uZXJIVE1MID0gYCR7cmVzb3VyY2VOYW1lfTogJHtyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS52YWx1ZX1gO1xyXG5cclxuICAgIC8vIEFwcGVuZCB0byBzb21lIGNvbnRhaW5lclxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZXNvdXJjZURpdik7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5jb25zdCB0b29sdGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R5bmFtaWMtdG9vbHRpcCcpO1xyXG5cclxuZnVuY3Rpb24gc2hvd1Rvb2x0aXAodGFyZ2V0LCBkZXNjLCBlZmZlY3QsIGNvc3QpIHtcclxuICAgIGxldCBjb250ZW50ID0gJyc7XHJcblxyXG4gICAgaWYgKGRlc2MpIHtcclxuICAgICAgICBjb250ZW50ICs9IGA8c3BhbiA+JHtkZXNjfTwvc3Bhbj48aHI+YDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWZmZWN0KSB7XHJcbiAgICAgICAgY29udGVudCArPSBgPHNwYW4gc3R5bGU9XCJjb2xvcjojMDBBQkU3XCI+JHtlZmZlY3R9PC9zcGFuPjxocj5gO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb3N0KSB7XHJcbiAgICAgICAgLy8gY29udGVudCArPSBgPHNwYW4gc3R5bGU9XCJjb2xvcjojRjREMDNGXCI+JHtjb3N0fTwvc3Bhbj48YnI+YDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgc3RyID0gJyc7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG1hdGVyaWFsIGluIGNvc3QpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnN0IG1hdGVyaWFsID0gcmVxO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gY29zdFttYXRlcmlhbF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNFbm91Z2ggPSBnZXRNYXRlcmlhbChtYXRlcmlhbCwgcmVzb3VyY2VzKSA+PSBhbW91bnQ7LyogWW91ciBsb2dpYyB0byBjaGVjayBpZiB0aGVyZSdzIGVub3VnaCBvZiB0aGUgbWF0ZXJpYWwgKi87XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JDbGFzcyA9IGhhc0Vub3VnaCA/ICdlbm91Z2gnIDogJ25vdC1lbm91Z2gnO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdldE1heChtYXRlcmlhbCkgPCBhbW91bnQpIGNvbG9yQ2xhc3MgPSAnZXhjZWVkcy1tYXgnO1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGA8c3BhbiBjbGFzcz1cInRvb2x0aXAtJHttYXRlcmlhbH0gJHtjb2xvckNsYXNzfVwiPiR7YW1vdW50LnRvRml4ZWQoMCl9ICR7bWF0ZXJpYWx9PC9zcGFuPmA7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kc1JlbWFpbmluZyA9IGNhbGNTZWNvbmRzUmVtYWluaW5nKG1hdGVyaWFsLCBhbW91bnQpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2Vjb25kc1JlbWFpbmluZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kc1JlbWFpbmluZyA+IDAgJiYgY29sb3JDbGFzcyAhPSAnZXhjZWVkcy1tYXgnKSB7IHN0ciArPSBgPHNwYW4gY2xhc3M9XCJ0aW1lLXJlbWFpbmluZ1wiPigkeyhzZWNvbmRzUmVtYWluaW5nKS50b0ZpeGVkKDApfSBzZWNvbmRzKTwvc3Bhbj5gOyB9XHJcbiAgICAgICAgICAgICAgICBzdHIgKz0gYDxicj5gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gc3RyO1xyXG5cclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29udGVudCArPSBjb3N0O1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKFwiQ291bGRuJ3QgbWFrZSBub3JtYWwgY29zdCBmb3IgYnV0dG9uOiBcIiwgdGFyZ2V0LCBjb3N0LCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2codGFyZ2V0LCBjb250ZW50KTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRvb2x0aXAuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRvb2x0aXAuc3R5bGUubGVmdCA9ICh0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQgKyA1KSArICdweCc7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLnN0eWxlLnRvcCA9ICh0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gdG9vbHRpcC5vZmZzZXRIZWlnaHQgLyAyKSArICdweCc7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoaWRlVG9vbHRpcCgpIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVG9vbHRpcChidXR0b24pIHtcclxuICAgIGNvbnN0IGRlc2MgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZGVzYycpIHx8IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBEZXNjJyk7XHJcbiAgICBjb25zdCBlZmZlY3QgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtZWZmZWN0Jyk7XHJcbiAgICAvLyBjb25zdCBjb3N0ID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnKTtcclxuXHJcbiAgICBjb25zdCBjb25maWcgPSBnZXRSZXNvdXJjZUNvbmZpZ0J5SWQoYnV0dG9uLmlkKSB8fCBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkKGJ1dHRvbi5pZCkgfHwgYnVpbGRpbmdzW2J1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGFfYnVpbGRpbmcnKV0gfHwgcG9uZGVyc1tidXR0b24uZ2V0QXR0cmlidXRlKCd1bmxvY2snKV07XHJcbiAgICAvLyBjb25zb2xlLmxvZyhjb25maWcpO1xyXG4gICAgY29uc3QgY29zdCA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3Rvb2x0aXBDb3N0JykgfHwgY29uZmlnLmNvc3Q7XHJcbiAgICBzaG93VG9vbHRpcChidXR0b24sIGRlc2MsIGVmZmVjdCwgY29zdCk7XHJcbn1cclxuXHJcblxyXG4vLyBBZnRlciBhbGwgaGFzIGJlZW4gbG9hZGVkXHJcbi8vIEB0cy1pZ25vcmVcclxuLy8gQHRzLWlnbm9yZVxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKGV2ZW50KSA9PiB7XHJcbiAgICBnZW5lcmF0ZVBvbmRlckJ1dHRvbnMocG9uZGVycyk7XHJcbiAgICBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zKCk7XHJcbiAgICBnZW5lcmF0ZUJ1dHRvbnMoKTsgLy8gQ2FsbCB0aGlzIG9uY2Ugb24gcGFnZSBsb2FkIG9yIGdhbWUgaW5pdGlhbGl6YXRpb25cclxuXHJcbiAgICBsb2FkR2FtZSgpO1xyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG4gICAgc2hvd1RhYigncHJvZHVjdGlvblRhYicpO1xyXG4gICAgLy8gcmVxdWlyZSgnLi90cmFkZScpLmdlbmVyYXRlVHJhZGVUYWJsZShyZXNvdXJjZXMpO1xyXG4gICAgLy8gY3JlYXRlUmVzb3VyY2VUYWcoJ3N0aWNrcycpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFJLZXlGcm9tSUQoaWQpIHtcclxuICAgICAgICBmb3IgKGxldCByIGluIHJlc291cmNlcykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZXNbcl0uaWQsIGlkKTtcclxuICAgICAgICAgICAgaWYgKHJlc291cmNlc1tyXS5pZCA9PT0gaWQpIHJldHVybiByO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRDUktleUZyb21JRChpZCkge1xyXG4gICAgICAgIGZvciAobGV0IHIgaW4gY3JhZnRlZFJlc291cmNlcykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNvdXJjZXNbcl0uaWQsIGlkKTtcclxuICAgICAgICAgICAgaWYgKGNyYWZ0ZWRSZXNvdXJjZXNbcl0uaWQgPT09IGlkKSByZXR1cm4gcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoXCJidXR0b25cIikpIHtcclxuICAgICAgICAgICAgLy8gb25lIG9mIG91ciBidXR0b25zIHdhcyBjbGlja2VkXHJcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NsaWNrZWQnLCBidXR0b24pO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRvb2x0aXBzIFxyXG4gICAgICAgICAgICAvLyBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygndG9vbHRpcCcpKSB1cGRhdGVUb29sdGlwKGJ1dHRvbik7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGFfYnVpbGRpbmcnKSAmJiBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhX2J1aWxkaW5nJykgIT09ICd1bmRlZmluZWQnICYmIGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3B1cmNoYXNhYmxlJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIHZhciBidWlsZGluZyA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGFfYnVpbGRpbmcnKTtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBidXlNYXhCdWlsZGluZ3MoYnVpbGRpbmcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnV5QnVpbGRpbmcoYnVpbGRpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3VubG9jaycpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1bmxvY2tBdHRyID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgndW5sb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2xpY2snKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVubG9ja0F0dHIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvbmRlcnNbdW5sb2NrQXR0cl0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FuVW5sb2NrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBtYXRlcmlhbCBpbiBwb25kZXJzW3VubG9ja0F0dHJdLmNvc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldE1hdGVyaWFsKG1hdGVyaWFsLCByZXNvdXJjZXMpIDwgcG9uZGVyc1t1bmxvY2tBdHRyXS5jb3N0W21hdGVyaWFsXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDYW5ub3QgdW5sb2NrIFwiICsgdW5sb2NrQXR0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5VbmxvY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuVW5sb2NrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IG1hdGVyaWFsIGluIHBvbmRlcnNbdW5sb2NrQXR0cl0uY29zdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChtYXRlcmlhbCwgLXBvbmRlcnNbdW5sb2NrQXR0cl0uY29zdFttYXRlcmlhbF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbmRlcnNbdW5sb2NrQXR0cl0uaXNQb25kZXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VWaXNpYmxlKHVubG9ja0F0dHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgcmVzb3VyY2VLZXkgKyBcIlZhbHVlXCIpLnRleHRDb250ZW50ID0gY3JhZnRlZFJlc291cmNlc1tyZXNvdXJjZUtleV0udmFsdWUudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSB0aGlzIGJ1dHRvbiBkaXNhcHBlYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5sb2NraW5nIFwiICsgdW5sb2NrQXR0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBpZiAoYnV0dG9uLmlkICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgIGlmIChidXR0b24uaWQuc2xpY2UoMCwgNikgPT09IFwiZ2F0aGVyXCIpIHRvZ2dsZVJlc291cmNlKGdldFJLZXlGcm9tSUQoYnV0dG9uLmlkKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZC5zbGljZSgwLCA1KSA9PT0gJ2NyYWZ0JylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIGNyYWZ0QWxsUmVzb3VyY2VzKGdldENSS2V5RnJvbUlEKGJ1dHRvbi5pZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgY3JhZnRSZXNvdXJjZShnZXRDUktleUZyb21JRChidXR0b24uaWQpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmlkID09PSAnc2F2ZUJ1dHRvbicpIHNhdmVHYW1lKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZCA9PT0gJ2VhdEZpc2gnKSBlYXRGaXNoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZCA9PT0gJ292ZXJsYXktYnV0dG9uJykgaGlkZU92ZXJsYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmlkID09PSAnZGVsZXRlU2F2ZUJ1dHRvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc2F2ZScpOyBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChidXR0b24uaWQgPT09ICdjbGVhckpvYkFzc2lnbm1lbnRzJykgY2xlYXJKb2JBc3NpZ25tZW50cygpO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZCA9PT0gJ2RhcmtNb2RlVG9nZ2xlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyay1tb2RlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGRhcmtNb2RlVG9nZ2xlLmNsYXNzTGlzdC50b2dnbGUoJ2RhcmsnKTtcclxuICAgICAgICAgICAgICAgICAgICBpc0RhcmsgPSAhaXNEYXJrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBkYXJrTW9kZVRvZ2dsZS50ZXh0Q29udGVudCA9IGlzRGFyayA/IFwiTGlnaHQgTW9kZVwiIDogXCJEYXJrIE1vZGVcIjtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQubWF0Y2hlcyhcIiNhbG9uZVwiKSkge1xyXG4gICAgICAgICAgICAvLyBpbmNyZWFzZU1hdGVyaWFsKCdjbG9uZXMnLCAxKTtcclxuICAgICAgICAgICAgLy8gSGFyZGNvZGVkIGluc3RlYWQgdG8gYXZvaWQgaW5jcmVhc2UgYWZmZWN0ZWQgYnkgcHJvZHVjdGl2aXR5IGJvbnVzZXNcclxuICAgICAgICAgICAgaWYgKHJlc291cmNlc1snY2xvbmVzJ10udmFsdWUgPCByZXNvdXJjZXNbJ2Nsb25lcyddLm1heCkgcmVzb3VyY2VzWydjbG9uZXMnXS52YWx1ZSArPSAxO1xyXG5cclxuICAgICAgICAgICAgdXBkYXRlVG90YWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG5cclxuICAgIC8vIFNhbXBsZSB1c2FnZTpcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b29sdGlwJykuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbik7XHJcbiAgICAgICAgLy8gRXh0cmFjdCB0aGUgZGF0YSBmcm9tIHlvdXIgYnVpbGRpbmcgb3IgYW55IG90aGVyIGRhdGEgLSBzb3VyY2VcclxuICAgICAgICAvLyBjb25zdCBjb250ZW50ID0gXCJZb3VyIHRvb2x0aXAgY29udGVudCBoZXJlXCI7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuICAgICAgICAgICAgY3VycmVudEhvdmVyQnV0dG9uID0gYnV0dG9uO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gVE9ETzogbW92ZSB0aGlzIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ29uY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRvb2x0aXAoYnV0dG9uKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7IGhpZGVUb29sdGlwKCk7IGN1cnJlbnRIb3ZlckJ1dHRvbiA9IG51bGw7IH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBqb2JzIGNvdW50ZXJcclxuICAgIHVwZGF0ZVRvdGFsKCk7XHJcblxyXG5cclxufSk7XHJcblxyXG52YXIgY3VycmVudEhvdmVyQnV0dG9uID0gbnVsbDtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cclxuICAgIHVwZGF0ZVNpZGViYXIsXHJcbiAgICB1cGRhdGVVSSxcclxuICAgIHNldFRvdGFsVGltZSxcclxuICAgIGNoYW5nZU1lc3NhZ2UsXHJcblxyXG4gICAgZ2V0TWVzc2FnZSxcclxuICAgIHRvdGFsX3RpbWUsXHJcbiAgICBjdXJyZW50SG92ZXJCdXR0b25cclxuXHJcbn07XHJcbiIsIlxyXG5jb25zdCB7IHNldFN0YWdlLCBwYXNzZWRTdGFnZSB9ID0gcmVxdWlyZSgnLi9zdGFnZXMnKTtcclxuY29uc3QgeyB1cGRhdGVCdXR0b25WaXNpYmlsaXR5IH0gPSByZXF1aXJlKCcuL3VwZGF0ZUJ1dHRvblZpc2liaWxpdHknKTtcclxuXHJcbi8qKlxyXG4gKiBNYWtlIGV2ZXJ5dGhpbmcgd2l0aCB0aGUgY2xhc3MgXCJzdGFnZVwiIHZpc2libGVcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0YWdlXHJcbiAqL1xyXG5mdW5jdGlvbiBtYWtlVmlzaWJsZShzdGFnZSkge1xyXG4gICAgaWYgKCFwYXNzZWRTdGFnZShzdGFnZSkpIHtcclxuICAgICAgICBzZXRTdGFnZShzdGFnZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdGFnZUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInAuXCIgKyBzdGFnZSk7XHJcbiAgICBzdGFnZUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKSk7XHJcbiAgICAvLyBcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHN0YWdlRWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnKTtcclxuICAgIHVwZGF0ZUJ1dHRvblZpc2liaWxpdHkoKTtcclxufVxyXG5leHBvcnRzLm1ha2VWaXNpYmxlID0gbWFrZVZpc2libGU7IiwiY29uc3QgeyBidWlsZGluZ3MgfSA9IHJlcXVpcmUoJy4vanNvbi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyByZWNhbGN1bGF0ZUJ1aWxkaW5nQ29zdCB9ID0gcmVxdWlyZSgnLi9idWlsZGluZ3MnKTtcclxuY29uc3QgeyBwZXJrcyB9ID0gcmVxdWlyZSgnLi9qc29uL3BlcmtzJyk7XHJcbmNvbnN0IHsgc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24gfSA9IHJlcXVpcmUoJy4vc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24nKTtcclxubGV0IG15UGVya3MgPSBbXTtcclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IHBlcmtOYW1lIFxyXG4gKiBAcmV0dXJucyBib29sZWFuXHJcbiAqL1xyXG5mdW5jdGlvbiBoYXNQZXJrKHBlcmtOYW1lKSB7XHJcbiAgICByZXR1cm4gbXlQZXJrcy5pbmNsdWRlcyhwZXJrTmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEFsbFBlcmtzKCkge1xyXG4gICAgcmV0dXJuIG15UGVya3M7XHJcbn1cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGVya05hbWUgUGVyayB0byBhZGRcclxuICovXHJcbmZ1bmN0aW9uIGFkZFBlcmsocGVya05hbWUpIHtcclxuICAgIG15UGVya3MucHVzaChwZXJrTmFtZSk7XHJcblxyXG4gICAgLy8gRG8gYWxsIHRoZSBvbmUtdGltZSB1cGRhdGVzXHJcbiAgICBzd2l0Y2ggKHBlcmtOYW1lKSB7XHJcbiAgICAgICAgY2FzZSAnQXJjaGl0ZWN0JzpcclxuICAgICAgICAgICAgZm9yIChsZXQgYiBpbiBidWlsZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGIsIGJ1aWxkaW5ncywgaGFzUGVyayk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdGllck51bSBcclxuICovXHJcbmZ1bmN0aW9uIGdldFBlcmtGcm9tVGllcih0aWVyTnVtKSB7XHJcbiAgICBmb3IgKGxldCBwZXJrIGluIHBlcmtzWyd0aWVyJyArIHRpZXJOdW1dKSB7XHJcbiAgICAgICAgaWYgKGhhc1BlcmsocGVyaykpIHJldHVybiBwZXJrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5vIHBlcmsgZm9yIHRoaXMgdGllclxyXG4gICAgcmV0dXJuICcnO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc2VsZWN0QWJpbGl0eShhYmlsaXR5TmFtZSkge1xyXG4gICAgaWYgKGhhc1BlcmsoYWJpbGl0eU5hbWUpKSByZXR1cm47XHJcblxyXG4gICAgbGV0IGNvbmZpcm1TZWxlY3Rpb24gPSB3aW5kb3cuY29uZmlybShcIkRvIHlvdSB3YW50IHRvIHNlbGVjdCBcIiArIGFiaWxpdHlOYW1lICsgXCI/IFRoaXMgZGVjaXNpb24gY2Fubm90IGJlIGVhc2lseSBjaGFuZ2VkLlwiKTtcclxuXHJcbiAgICBpZiAoIWNvbmZpcm1TZWxlY3Rpb24pIHJldHVybjtcclxuICAgIGFkZFBlcmsoYWJpbGl0eU5hbWUpO1xyXG5cclxuICAgIC8vIGZvciAobGV0IGkgPSAxOyBpIDw9IDE7ICsraSlcclxuICAgIHNlbGVjdENvcnJlY3RQZXJrQnV0dG9uKGFiaWxpdHlOYW1lKTtcclxuXHJcbiAgICAvLyBteVBlcmtzLnB1c2goYWJpbGl0eU5hbWUpO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgaGFzUGVyayxcclxuICAgIGFkZFBlcmssXHJcbiAgICBzZWxlY3RBYmlsaXR5LFxyXG4gICAgZ2V0UGVya0Zyb21UaWVyLFxyXG4gICAgZ2V0QWxsUGVya3NcclxufTsiLCIvLyBERVBFTkRTIE9OOiBqc29uL2J1dHRvbnMuanNcclxuY29uc3QgeyBjYXBpdGFsaXplRmlyc3QgfSA9IHJlcXVpcmUoJy4vY2FwaXRhbGl6ZUZpcnN0Jyk7XHJcbmNvbnN0IHsgcG9uZGVycyB9ID0gcmVxdWlyZSgnLi9qc29uL3BvbmRlcicpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcblxyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoJy4vanNvbi9idXR0b25zJyk7XHJcblxyXG5mdW5jdGlvbiBpc1BvbmRlcmVkKGlkKSB7XHJcbiAgICAvLyBDaGVjayBpZiB0aGUgaWQgZXhpc3RzIGluIHRoZSB1bmxvY2tzIG1hcFxyXG4gICAgLy8gSWYgdGhlIGlkIGRvZXNuJ3QgZXhpc3QgaW4gdGhlIG1hcCwgcmV0dXJuIGZhbHNlXHJcblxyXG4gICAgcmV0dXJuIHBvbmRlcnNbaWRdID8gcG9uZGVyc1tpZF0uaXNQb25kZXJlZCA6IGZhbHNlO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY2FuVW5sb2NrKHVubG9ja0lkKSB7XHJcbiAgICAvLyBHZXQgdGhlIGtleSBmcm9tIHRoaXMgaWRcclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYW4gdW5sb2NrPyAnLCB1bmxvY2tJZCk7XHJcbiAgICB2YXIgdW5sb2NrS2V5ID0gJyc7XHJcbiAgICBmb3IgKGxldCB1bmxvY2sgaW4gcG9uZGVycykge1xyXG4gICAgICAgIGlmIChwb25kZXJzW3VubG9ja10uaWQgPT09IHVubG9ja0lkKSB7XHJcbiAgICAgICAgICAgIHVubG9ja0tleSA9IHVubG9jaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHVubG9ja0tleSA9PT0gJycpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJpbnZhbGlkIHVubG9jayBpZDogXCIsIHVubG9ja0lkKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGVub3VnaCByZXNvdXJjZXNcclxuICAgIHZhciBjYW5CdXkgPSB0cnVlO1xyXG4gICAgZm9yIChsZXQgbWF0ZXJpYWwgaW4gcG9uZGVyc1t1bmxvY2tLZXldLmNvc3QpIHtcclxuICAgICAgICBpZiAoZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPCBwb25kZXJzW3VubG9ja0tleV0uY29zdFttYXRlcmlhbF0pIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYW5ub3QgdW5sb2NrIFwiICsgdW5sb2NrSWQpO1xyXG4gICAgICAgICAgICBjYW5CdXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdjYW4gd2UgdW5sb2NrICcsIHVubG9ja0lkLCBjYW5CdXkpO1xyXG4gICAgcmV0dXJuIGNhbkJ1eTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUG9uZGVyQnV0dG9ucyhwb25kZXJPYmplY3RzKSB7XHJcbiAgICAvLyBjb25zdCBnZW5lcmF0ZWRCdXR0b25zID0ge307XHJcblxyXG4gICAgZm9yIChjb25zdCBbcG9uZGVyS2V5LCBwb25kZXJPYmpdIG9mIE9iamVjdC5lbnRyaWVzKHBvbmRlck9iamVjdHMpKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvbktleSA9IGBwb25kZXIke2NhcGl0YWxpemVGaXJzdChwb25kZXJLZXkpfWA7IC8vIGUuZy4gcG9uZGVyRmlzaGluZ1xyXG5cclxuICAgICAgICBidXR0b25zW2J1dHRvbktleV0gPSB7XHJcbiAgICAgICAgICAgIGNsYXNzOiAndG9vbHRpcCB1bmxvY2snLFxyXG4gICAgICAgICAgICB0ZXh0OiBwb25kZXJPYmoudGV4dCB8fCAnUG9uZGVyIGEgTXlzdGVyeT8nLFxyXG4gICAgICAgICAgICB0b29sdGlwRGVzYzogcG9uZGVyT2JqLnRvb2x0aXBEZXNjIHx8IFwiV2hvIGtub3dzIHdoYXQgeW91J2xsIGRpc2NvdmVyXCIsXHJcbiAgICAgICAgICAgIHRvb2x0aXBDb3N0OiBwb25kZXJPYmoudG9vbHRpcENvc3QsXHJcbiAgICAgICAgICAgIHRhYjogJ3BvbmRlcicsXHJcbiAgICAgICAgICAgIHVubG9jazogcG9uZGVyS2V5LFxyXG4gICAgICAgICAgICByZXF1aXJlbWVudDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVpcmUoJy4vaGVscGVyJykuZ2V0TWF4KCdwb25kZXInKSA+PSBwb25kZXJzW3BvbmRlcktleV0uY29zdFsncG9uZGVyJ10gLyAyO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGlkZTogKCkgPT4gaXNQb25kZXJlZChwb25kZXJLZXkpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uS2V5LCBidXR0b25zW2J1dHRvbktleV0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyByZXR1cm4gZ2VuZXJhdGVkQnV0dG9ucztcclxufVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgY2FuVW5sb2NrLFxyXG4gICAgaXNQb25kZXJlZCxcclxuICAgIGdlbmVyYXRlUG9uZGVyQnV0dG9uc1xyXG59OyIsIlxyXG4vLyBERVBFTkRTIE9OOiB0b29scy5qcywgam9icy5qc1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZShcIi4vanNvbi9yZXNvdXJjZXNcIik7XHJcbmNvbnN0IHsgY3JhZnRlZFJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuY29uc3QgeyBidWlsZGluZ3MsIGdldEJvb3N0IH0gPSByZXF1aXJlKFwiLi9qc29uL2J1aWxkaW5nc1wiKTtcclxuLy8gQHRzLWlnbm9yZVxyXG5jb25zdCB7IHBvbmRlcnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vcG9uZGVyXCIpO1xyXG5jb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnV0dG9uc1wiKTtcclxuY29uc3QgeyBza2lsbHMgfSA9IHJlcXVpcmUoJy4vanNvbi9za2lsbHMnKTtcclxuXHJcbmNvbnN0IHsgZ2V0V29ya2VycywgdXBkYXRlVG90YWwsIHJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IGhhc1Rvb2wsIGdldFRvb2xWYWx1ZUZvclJlc291cmNlIH0gPSByZXF1aXJlKCcuL3Rvb2xzJyk7XHJcbmNvbnN0IHsgdXBkYXRlU2lkZWJhciwgdXBkYXRlU2tpbGxzLCBjYWxjQ3JhZnRCb251cyB9ID0gcmVxdWlyZShcIi4vaGVscGVyXCIpO1xyXG5jb25zdCB7IGNhbkNyYWZ0IH0gPSByZXF1aXJlKCcuL2NhbkNyYWZ0Jyk7XHJcbmNvbnN0IHsgY2FwaXRhbGl6ZUZpcnN0IH0gPSByZXF1aXJlKCcuL2NhcGl0YWxpemVGaXJzdCcpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcblxyXG5jb25zdCB7IGhhc1BlcmsgfSA9IHJlcXVpcmUoJy4vcGVya3MnKTtcclxuY29uc3QgeyBpc1BvbmRlcmVkIH0gPSByZXF1aXJlKCcuL3BvbmRlcicpO1xyXG5jb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZSB9ID0gcmVxdWlyZSgnLi9nZXRDcmFmdGVkUmVzb3VyY2UnKTtcclxuLy8gY29uc29sZS5sb2coY2FwaXRhbGl6ZUZpcnN0KTtcclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IGpvYiBcclxuICogQHBhcmFtIHtzdHJpbmd9IHJlc291cmNlIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbi8vIEB0cy1pZ25vcmVcclxuZnVuY3Rpb24gaXNSZXNvdXJjZUFmZmVjdGVkQnlKb2Ioam9iLCByZXNvdXJjZSkge1xyXG4gICAgY29uc3Qgc2tpbGwgPSBza2lsbHNbam9iXTtcclxuICAgIGlmICghc2tpbGwpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICBpZiAoc2tpbGwuYWZmZWN0ZWRSZXNvdXJjZXMuaW5jbHVkZXMocmVzb3VyY2UpKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIHRvb2wgcmVxdWlyZW1lbnQgZm9yIHRoaXMgcmVzb3VyY2VcclxuICAgICAgICBpZiAoc2tpbGwubmVlZFRvb2xzICYmIEFycmF5LmlzQXJyYXkoc2tpbGwubmVlZFRvb2xzKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB0b29sT2JqIG9mIHNraWxsLm5lZWRUb29scykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdG9vbCBpbiB0b29sT2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2xPYmpbdG9vbF0uaW5jbHVkZXMocmVzb3VyY2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHBsYXllciBoYXMgdGhpcyB0b29sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBub3csIGp1c3QgcmV0dXJuaW5nIHRydWUgdG8gaW5kaWNhdGUgdGhlIHJlc291cmNlIGlzIGFmZmVjdGVkIGFuZCBhIHRvb2wgaXMgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJ1dCB5b3UgbWF5IHdhbnQgdG8gcmVwbGFjZSB0aGlzIHdpdGggYSBjaGVjayB0byBzZWUgaWYgdGhlIHBsYXllciBwb3NzZXNzZXMgdGhlIHJlcXVpcmVkIHRvb2xcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhc1Rvb2wodG9vbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFdlIG5lZWRlZCBhIHRvb2wgYnV0IG5vdCBmb3IgdGhpc1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgbm8gdG9vbCByZXF1aXJlbWVudCB3YXMgZm91bmQgZm9yIHRoZSByZXNvdXJjZSwgaXQncyBzdGlsbCBhZmZlY3RlZCBieSB0aGUgam9iXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIENsb25lcyB3b3JrIGF0IDEvNCB0aGUgc3BlZWQgYnkgZGVmYXVsdFxyXG52YXIgY2xvbmVNdWx0ID0gMC4yNTtcclxuLy8gY29uc29sZS5sb2coJ2luaXRpYWwnLCB3b3JrZXJzRGlzdHJpYnV0aW9uKTtcclxuZnVuY3Rpb24gY2FsY0luY3JlYXNlKHJlc291cmNlTmFtZSwgZGVsdGFfdGltZSkge1xyXG4gICAgdmFyIHRvdGFsID0gMDtcclxuXHJcbiAgICAvLyBjbG9uZXMgaW5jcmVhc2UgYnkgMSBwZXIgc2Vjb25kIGFzIGxvbmcgYXMgdGhlcmUncyBzcGFjZVxyXG4gICAgLy8gaWYgKHJlc291cmNlID09PSAnY2xvbmVzJyAmJiBwYXNzZWRTdGFnZSgnY2xvbmUnKSkge1xyXG4gICAgLy8gICAgIHRvdGFsID0gMTtcclxuICAgIC8vICAgICByZXR1cm4gdG90YWw7XHJcbiAgICAvLyB9XHJcbiAgICBpZiAoIXJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZU5hbWUpKSByZXR1cm4gdG90YWw7XHJcblxyXG4gICAgaWYgKHJlc291cmNlTmFtZSA9PT0gJ2Nsb25lcycgJiYgaXNQb25kZXJlZCgnYXV0b0Nsb25lJykpIHRvdGFsID0gMTtcclxuICAgIC8vIENoZWNrIHRvb2xzXHJcbiAgICB2YXIgY3VyclRvb2wgPSBnZXRUb29sVmFsdWVGb3JSZXNvdXJjZShyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSk7XHJcbiAgICAvLyBHYXRoZXJpbmcgcGVyc29uYWxseVxyXG4gICAgaWYgKHJlc291cmNlc1tyZXNvdXJjZU5hbWVdLmlzR2V0dGluZykge1xyXG4gICAgICAgIHRvdGFsICs9IGN1cnJUb29sO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGpvYnNcclxuICAgIGxldCBsZWFkZXJNdWx0ID0gaGFzUGVyaygnTGVhZGVyJykgPyBjbG9uZU11bHQgKiAxLjUgOiBjbG9uZU11bHQ7XHJcbiAgICB0b3RhbCArPSBsZWFkZXJNdWx0ICogZ2V0V29ya2VycyhyZXNvdXJjZU5hbWUpIHx8IDA7XHJcblxyXG5cclxuICAgIC8vIEFwcGx5IHBlcmtzIHByb2R1Y3Rpb24gYm9vc3RcclxuICAgIGlmIChoYXNQZXJrKCdMdW1iZXJqYWNrJykgJiYgKHJlc291cmNlTmFtZSA9PSAnd29vZCcgfHwgcmVzb3VyY2VOYW1lID09ICdzdGlja3MnKSkgdG90YWwgKj0gMS4yNTtcclxuICAgIGlmIChoYXNQZXJrKCdNaW5lcicpICYmIChyZXNvdXJjZU5hbWUgPT0gJ3JvY2tzJyB8fCByZXNvdXJjZU5hbWUgPT0gJ29yZScpKSB0b3RhbCAqPSAxLjI1O1xyXG4gICAgaWYgKGhhc1BlcmsoJ0JvdGFuaXN0JykgJiYgKHJlc291cmNlTmFtZSA9PSAndmluZXMnIHx8IHJlc291cmNlTmFtZSA9PSAnaGVyYnMnIHx8IHJlc291cmNlTmFtZSA9PSAnd2hlYXQnKSkgdG90YWwgKj0gMS4yNTtcclxuXHJcbiAgICAvLyBBcHBseSBza2lsbHMgdG8gYWxsIGNsb25lc1xyXG4gICAgZm9yIChsZXQgc2tpbGwgaW4gc2tpbGxzKSB7XHJcbiAgICAgICAgaWYgKHNraWxsc1tza2lsbF0uYWZmZWN0ZWRSZXNvdXJjZXMuaW5jbHVkZXMocmVzb3VyY2VOYW1lKSkge1xyXG4gICAgICAgICAgICBsZXQgc2tpbGxSYXRpbyA9IDEuMDY7XHJcbiAgICAgICAgICAgIHZhciBtdWx0ID0gMSArIChNYXRoLnBvdyhza2lsbFJhdGlvLCBza2lsbHNbc2tpbGxdLmxldmVsKSAtIDEpIC8gMTAwO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIk11bHRpcGx5aW5nIGdhaW4gYnkgXCIgKyBtdWx0KTtcclxuICAgICAgICAgICAgdG90YWwgKj0gbXVsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEFsbCBidWlsZGluZ3MgYWZ0ZXIgbGV2ZWxcclxuICAgIGZvciAobGV0IGJ1aWxkaW5nIGluIGJ1aWxkaW5ncykge1xyXG4gICAgICAgIGNvbnN0IGJvb3N0RGF0YSA9IGdldEJvb3N0KGJ1aWxkaW5nLCByZXNvdXJjZU5hbWUpO1xyXG4gICAgICAgIGlmIChib29zdERhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGluY3JlYXNlID0gTWF0aC5wb3coYm9vc3REYXRhLCBidWlsZGluZ3NbYnVpbGRpbmddLmNvdW50KTtcclxuICAgICAgICAgICAgaWYgKGlzUG9uZGVyZWQoJ2VmZmVjdGl2ZUJ1aWxkaW5ncycpKSBpbmNyZWFzZSAqPSAxLjAxO1xyXG4gICAgICAgICAgICB0b3RhbCAqPSBpbmNyZWFzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocmVzb3VyY2VOYW1lID09PSAncG9uZGVyJykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUE9OREVSSU5HIElOQzogXCIsdG90YWwpO1xyXG4gICAgICAgIGlmIChpc1BvbmRlcmVkKCdwb25kZXIxJykpIHRvdGFsICo9IDEuMDU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ2Zhc3RlclJlc291cmNlR2FpbicpKSB0b3RhbCAqPSAxLjA1O1xyXG5cclxuICAgIC8vIENvbnZlcnQgZnJvbSBzZWNvbmRzIHRvIG1pbGxpc2Vjb25kc1xyXG4gICAgdG90YWwgKj0gZGVsdGFfdGltZSAvIDEwMDA7XHJcbiAgICAvLyByb3VuZCB0b3RhbCB0byBuZWFyZXN0IHRob3VzYW5kdGhcclxuICAgIHRvdGFsID0gcGFyc2VGbG9hdCh0b3RhbC50b0ZpeGVkKDMpKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwidGltZSBmb3IgcmVzb3VyY2VzXCIsIGRlbHRhX3RpbWUsIHJlc291cmNlTmFtZSwgdG90YWwpO1xyXG4gICAgcmV0dXJuIHRvdGFsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjU2Vjb25kc1JlbWFpbmluZyhyZXNvdXJjZU5hbWUsIG5lZWRlZCkge1xyXG4gICAgaWYgKG5lZWRlZCA8PSByZXNvdXJjZXNbcmVzb3VyY2VOYW1lXSkgcmV0dXJuIDA7XHJcblxyXG4gICAgLy8gSG93IG11Y2ggcGVyIHNlY29uZFxyXG4gICAgY29uc3QgaW5jcmVhc2UgPSBjYWxjSW5jcmVhc2UocmVzb3VyY2VOYW1lLCAxMDAwKTtcclxuICAgIGlmIChpbmNyZWFzZSA9PSAwKSByZXR1cm4gLTE7XHJcbiAgICAvLyBjb25zb2xlLmxvZygncGluZycpO1xyXG4gICAgLy8gRGlmZmVyZW5jZSBvdmVyIHRpbWVcclxuICAgIGNvbnN0IHRpbWVSZW1haW5pbmcgPSBNYXRoLmNlaWwobmVlZGVkIC0gcmVzb3VyY2VzW3Jlc291cmNlTmFtZV0udmFsdWUpIC8gaW5jcmVhc2U7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ2NhbGMgbWlsbGknLCByZXNvdXJjZU5hbWUsIG5lZWRlZCwgdGltZVJlbWFpbmluZyk7XHJcbiAgICAvLyBpZiAodGltZVJlbWFpbmluZyA9PSBJbmZpbml0eSB8fCB0aW1lUmVtYWluaW5nID09IC1JbmZpbml0eSkgcmV0dXJuIC0xO1xyXG4gICAgcmV0dXJuIHRpbWVSZW1haW5pbmc7XHJcbn1cclxuXHJcbi8vIENyZWF0ZSBhbGwgb3VyIHJlc291cmNlIHRhZ3MgaW4gdGhlIHNpZGViYXJcclxuY29uc3QgcmVzb3VyY2VzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc291cmNlcycpO1xyXG5mdW5jdGlvbiBjcmVhdGVSZXNvdXJjZVRhZyhyZXNvdXJjZU5hbWUpIHtcclxuICAgIGlmICghcmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlTmFtZSkpIHRocm93IFwiSW52YWxpZCByZXNvdXJjZTogXCIgKyByZXNvdXJjZU5hbWU7XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VEaXNwbGF5TmFtZSA9IGNhcGl0YWxpemVGaXJzdChyZXNvdXJjZU5hbWUpLnNwbGl0KCdfJykuam9pbignICcpO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgIHJlc291cmNlRWxlbWVudC5jbGFzc05hbWUgPSBgJHtyZXNvdXJjZU5hbWV9IHJlc291cmNlYDtcclxuICAgIHJlc291cmNlRWxlbWVudC5pZCA9IGByZXNvdXJjZS0ke3Jlc291cmNlTmFtZX1gO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlTmFtZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICByZXNvdXJjZU5hbWVTcGFuLmNsYXNzTmFtZSA9ICdyZXNvdXJjZU5hbWUnO1xyXG4gICAgcmVzb3VyY2VOYW1lU3Bhbi50ZXh0Q29udGVudCA9IGAke3Jlc291cmNlRGlzcGxheU5hbWV9OmA7XHJcblxyXG4gICAgY29uc3QgcmVzb3VyY2VWYWx1ZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICByZXNvdXJjZVZhbHVlU3Bhbi5jbGFzc05hbWUgPSAncmVzb3VyY2VWYWx1ZSc7XHJcbiAgICByZXNvdXJjZVZhbHVlU3Bhbi5pZCA9IGAke3Jlc291cmNlTmFtZX1WYWx1ZWA7XHJcbiAgICByZXNvdXJjZVZhbHVlU3Bhbi50ZXh0Q29udGVudCA9IGAke3Jlc291cmNlc1tyZXNvdXJjZU5hbWVdLnZhbHVlLnRvRml4ZWQoMSl9IC8gJHtyZXNvdXJjZXNbcmVzb3VyY2VOYW1lXS5tYXgudG9GaXhlZCgxKX1gO1xyXG5cclxuICAgIGNvbnN0IHJlc291cmNlUmF0ZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICByZXNvdXJjZVJhdGVTcGFuLmNsYXNzTmFtZSA9ICdyZXNvdXJjZVJhdGUnO1xyXG4gICAgcmVzb3VyY2VSYXRlU3Bhbi5pbm5lckhUTUwgPSBgKCtcclxuICAgICAgICAgICAgPHNwYW4gaWQ9XCIke3Jlc291cmNlTmFtZX1JbmNyZWFzZVJhdGVcIj4wPC9zcGFuPi9zKWA7XHJcblxyXG4gICAgcmVzb3VyY2VFbGVtZW50LmFwcGVuZENoaWxkKHJlc291cmNlTmFtZVNwYW4pO1xyXG4gICAgcmVzb3VyY2VFbGVtZW50LmFwcGVuZENoaWxkKHJlc291cmNlVmFsdWVTcGFuKTtcclxuICAgIHJlc291cmNlRWxlbWVudC5hcHBlbmRDaGlsZChyZXNvdXJjZVJhdGVTcGFuKTtcclxuXHJcbiAgICByZXNvdXJjZXNDb250YWluZXIuYXBwZW5kQ2hpbGQocmVzb3VyY2VFbGVtZW50KTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIG9yZGVyaW5nXHJcblxyXG4gICAgLy8gRnVuY3Rpb24gdG8gY2hhbmdlIHRoZSBvcmRlciBvZiBhIHJlc291cmNlXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VSZXNvdXJjZU9yZGVyKHJlc291cmNlSWQsIG5ld09yZGVyKSB7XHJcbiAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZXNvdXJjZUlkKTtcclxuICAgICAgICBpZiAocmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgcmVzb3VyY2Uuc3R5bGUub3JkZXIgPSBuZXdPcmRlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1jbG9uZXNcIiwgMSk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utc3RpY2tzXCIsIDIpOyAvLyBNb3ZlIFwiU3RpY2tzXCIgdG8gb3JkZXIgMlxyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXZpbmVzXCIsIDMpOyAvLyBNb3ZlIFwiVmluZXNcIiB0byBvcmRlciAzXHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utcm9ja3NcIiwgNCk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtZmlzaFwiLCA1KTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1mcmVzaHdhdGVyXCIsIDUuNSk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utd29vZFwiLCA2KTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1vcmVcIiwgNyk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2Utc2FuZFwiLCA4KTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1jbGF5XCIsIDkpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXdoZWF0XCIsIDEwKTtcclxuICAgIGNoYW5nZVJlc291cmNlT3JkZXIoXCJyZXNvdXJjZS1oaWRlc1wiLCAxMSk7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtZ2FtZVwiLCAxMik7XHJcbiAgICBjaGFuZ2VSZXNvdXJjZU9yZGVyKFwicmVzb3VyY2UtaGVyYnNcIiwgMTMpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLWJlcnJpZXNcIiwgMTQpO1xyXG4gICAgY2hhbmdlUmVzb3VyY2VPcmRlcihcInJlc291cmNlLXBvbmRlclwiLCA1MCk7XHJcblxyXG5cclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiB1cGRhdGVEaXNwbGF5VmFsdWUobWF0ZXJpYWwpIHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSByZXNvdXJjZXNDb250YWluZXIucXVlcnlTZWxlY3RvcihgIyR7bWF0ZXJpYWx9VmFsdWVgKTtcclxuICAgIGNvbnN0IGNyYWZ0ZWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBidXR0b24jY3JhZnQke2NhcGl0YWxpemVGaXJzdChtYXRlcmlhbCl9YCk7XHJcbiAgICB0cnkgeyBpZiAoIWVsZW1lbnQgfHwgY3JhZnRlZEJ1dHRvbikgY3JlYXRlUmVzb3VyY2VUYWcobWF0ZXJpYWwpOyB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgfVxyXG5cclxuXHJcblxyXG4gICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gYCR7cmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZS50b0ZpeGVkKDEpfSAvICR7cmVzb3VyY2VzW21hdGVyaWFsXS5tYXgudG9GaXhlZCgxKX1gO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVsZW1lbnQsIG1hdGVyaWFsLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVzb3VyY2VzW21hdGVyaWFsXS5pc0dldHRpbmcpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2lkZWJhclRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jlc291cmNlc1wiKS5xdWVyeVNlbGVjdG9yKCcjcmVzb3VyY2UtJyArIG1hdGVyaWFsKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBpZiAoc2lkZWJhclRleHQpIHNpZGViYXJUZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoY3JhZnRlZEJ1dHRvbikge1xyXG4gICAgICAgIGNvbnN0IGNvdW50U3BhbiA9IGNyYWZ0ZWRCdXR0b24ucXVlcnlTZWxlY3RvcihgIyR7bWF0ZXJpYWx9VmFsdWVgKTtcclxuICAgICAgICBpZiAoY291bnRTcGFuKSBjb3VudFNwYW4udGV4dENvbnRlbnQgPSBnZXRDcmFmdGVkUmVzb3VyY2UobWF0ZXJpYWwpLnRvRml4ZWQoMCk7XHJcbiAgICAgICAgZWxzZSBjb25zb2xlLndhcm4oYFJlc291cmNlIGJ1dHRvbiBmb3VuZCBidXQgbm8gY291bnQgc3BhbiBmb3I6ICR7bWF0ZXJpYWx9YCk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBjb25zb2xlLndhcm4oYE5vIGRpc3BsYXkgZWxlbWVudCBmb3VuZCBmb3IgbWF0ZXJpYWw6ICR7bWF0ZXJpYWx9YCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRNYXgobWF0ZXJpYWwsIG51bSkge1xyXG4gICAgcmVzb3VyY2VzW21hdGVyaWFsXS5tYXggPSBudW07XHJcbiAgICB1cGRhdGVTaWRlYmFyKCk7XHJcbiAgICB1cGRhdGVUb3RhbCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbmNyZWFzZU1heChtYXRlcmlhbCwgbnVtKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcImluY3JlYXNlIG1heCBcIiwgbWF0ZXJpYWwsIG51bSk7XHJcbiAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLm1heCArPSBudW07XHJcbiAgICB1cGRhdGVTaWRlYmFyKCk7XHJcbiAgICB1cGRhdGVUb3RhbCgpO1xyXG59XHJcblxyXG4vLyBHZW5lcmljIGluY3JlYXNlXHJcbmZ1bmN0aW9uIGluY3JlYXNlTWF0ZXJpYWwobWF0ZXJpYWwsIG51bSkge1xyXG4gICAgLy8gRW5zdXJlIHdlIGFjdHVhbGx5IG5lZWQgdG8gZG8gYW55dGhpbmdcclxuICAgIGlmIChudW0gPT0gMCkgcmV0dXJuO1xyXG4gICAgbWF0ZXJpYWwgPSBtYXRlcmlhbC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2luY3JlYXNlIG1hdGVyaWFsJywgbWF0ZXJpYWwsIG51bSk7XHJcbiAgICAvLyBpZiAoTWF0aC5hYnMobnVtKSA+IDUpIGNvbnNvbGUubG9nKCdjaGFuZ2luZycsIG1hdGVyaWFsLCAnYnknLCBudW0pO1xyXG5cclxuICAgIC8vIFRoaXMgY2hlY2sgZW5zdXJlcyB0aGF0IHRoZSBtYXRlcmlhbCBrZXkgZXhpc3RzIGluIHRoZSByZXNvdXJjZXMgbWFwLlxyXG4gICAgaWYgKHJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShtYXRlcmlhbCkpIHtcclxuICAgICAgICBpZiAoaXNQb25kZXJlZCgnZmFzdGVyUmVzb3VyY2VHYWluJykpIG51bSAqPSAxLjA1O1xyXG5cclxuICAgICAgICBpZiAocmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSA8IHJlc291cmNlc1ttYXRlcmlhbF0ubWF4ICYmIG51bSA+IDApIHsgLy8gQWRkaW5nIHJlc291cmNlc1xyXG4gICAgICAgICAgICByZXNvdXJjZXNbbWF0ZXJpYWxdLnZhbHVlICs9IG51bTtcclxuICAgICAgICAgICAgdXBkYXRlU2tpbGxzKG1hdGVyaWFsLCBudW0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobnVtIDwgMCkgeyAvLyBTdWJ0cmFjdGluZyByZXNvdXJjZXNcclxuICAgICAgICAgICAgcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSArPSBudW07XHJcbiAgICAgICAgfSBlbHNlIHsgLy8gQWxyZWFkeSBhdCBtYXhcclxuICAgICAgICAgICAgcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSA9IHJlc291cmNlc1ttYXRlcmlhbF0ubWF4O1xyXG4gICAgICAgICAgICBpZiAoaXNQb25kZXJlZCgnYXV0b2NyYWZ0JykgJiYgYXV0b0NyYWZ0VGFibGVbbWF0ZXJpYWxdKSB7XHJcbiAgICAgICAgICAgICAgICBjcmFmdEFsbFJlc291cmNlcyhhdXRvQ3JhZnRUYWJsZVttYXRlcmlhbF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICB1cGRhdGVEaXNwbGF5VmFsdWUobWF0ZXJpYWwpO1xyXG4gICAgICAgIHJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMoKTtcclxuXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChjcmFmdGVkUmVzb3VyY2VzLmhhc093blByb3BlcnR5KG1hdGVyaWFsKSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjcmFmdGluZyBhIG1hdGVyaWFsJywgbWF0ZXJpYWwsIG51bSk7XHJcbiAgICAgICAgY3JhZnRlZFJlc291cmNlc1ttYXRlcmlhbF0udmFsdWUgKz0gbnVtO1xyXG4gICAgICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShtYXRlcmlhbCk7XHJcbiAgICAgICAgdXBkYXRlU2tpbGxzKG1hdGVyaWFsLCBudW0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgXCJUcmllZCB0byBpbmNyZWFzZSBJbnZhbGlkIG1hdGVyaWFsOiBcIiArIG1hdGVyaWFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNyYWZ0ZWQgbWF0ZXJpYWxzIGhhdmUgbm8gbWF4LCBhIGxhIEtpdHRlbnMgR2FtZVxyXG5cclxuXHJcblxyXG4gICAgdXBkYXRlU2lkZWJhcigpO1xyXG5cclxuXHJcblxyXG4gICAgLy8gcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZSArPSBudW07XHJcbiAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgbWF0ZXJpYWwgKyBcIlZhbHVlXCIpLnRleHRDb250ZW50ID0gcmVzb3VyY2VzW21hdGVyaWFsXS52YWx1ZTtcclxuXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiB1cGRhdGVSZXNvdXJjZUluY3JlYXNlUmF0ZXMoKSB7XHJcbiAgICAvLyBjb25zdCByZXNvdXJjZXMgPSBbXCJjbG9uZXNcIiwgXCJzdGlja3NcIiwgXCJ2aW5lc1wiLCBcInJvY2tzXCIsIFwiZmlzaFwiLCBcIndvb2RcIiwgXCJwb25kZXJcIl07XHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImluY3JlYXNlIG9mIFwiICsgcmVzb3VyY2UpO1xyXG4gICAgICAgIGNvbnN0IHJhdGUgPSBjYWxjSW5jcmVhc2UocmVzb3VyY2UsIDEwMDApO1xyXG4gICAgICAgIHZhciByYXRlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3Jlc291cmNlfUluY3JlYXNlUmF0ZWApO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAocmF0ZUVsZW1lbnQpIHJhdGVFbGVtZW50LnRleHRDb250ZW50ID0gcmF0ZTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFxyXG4gKiBAcmV0dXJucyBCdXR0b25cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbihjb25maWcpIHtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgYnV0dG9uLmNsYXNzTmFtZSA9IGNvbmZpZy5jbGFzcyArICcgdG9vbHRpcCc7XHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdpZCcsIGNvbmZpZy5pZCk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBidXR0b24ucmVxdWlyZW1lbnQgPSBjb25maWcucmVxdWlyZW1lbnQ7XHJcbiAgICBjb25zdCByZXNvdXJjZU5hbWUgPSBPYmplY3Qua2V5cyhjcmFmdGVkUmVzb3VyY2VzKS5maW5kKGtleSA9PiBjcmFmdGVkUmVzb3VyY2VzW2tleV0gPT09IGNvbmZpZyk7XHJcbiAgICBjb25zdCBjbGVhbkNvdW50ID0gcGFyc2VGbG9hdChjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlTmFtZV0udmFsdWUpLnRvRml4ZWQoMCk7XHJcbiAgICBidXR0b24uaW5uZXJIVE1MID0gYCR7Y29uZmlnLnRleHQgfHwgY2FwaXRhbGl6ZUZpcnN0KHJlc291cmNlTmFtZSl9OiA8c3BhbiBpZD1cIiR7cmVzb3VyY2VOYW1lICsgXCJWYWx1ZVwifVwiPiR7Y2xlYW5Db3VudH08L3NwYW4+YDtcclxuICAgIC8vIGJ1dHRvbi50b29sdGlwRGVzYyA9IGNvbmZpZy50b29sdGlwRGVzYzsgXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBidXR0b24udGFiID0gJ2V4cGVyaW1lbnQnO1xyXG5cclxuICAgIHJldHVybiBidXR0b247XHJcbn1cclxuXHJcblxyXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3JhZnRlZFJlc291cmNlQnV0dG9ucycpO1xyXG5mdW5jdGlvbiBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b25zKCkge1xyXG5cclxuICAgIC8vIEZvciBlYWNoIHJlc291cmNlLCBjcmVhdGUgYSBidXR0b24gdXNpbmcgdGhlIGNhcHR1cmVkIGNvdW50c1xyXG4gICAgZm9yIChsZXQgbmFtZSBpbiBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcblxyXG4gICAgICAgIC8vIGNvbmZpZy5jb3VudCA9IGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0udmFsdWU7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gY3JlYXRlQ3JhZnRlZFJlc291cmNlQnV0dG9uKGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0pO1xyXG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgY3JhZnRlZFJlc291cmNlc1tuYW1lXS50b29sdGlwRGVzYyk7XHJcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwLWNvc3QnLCBnZW5lcmF0ZVRvb2x0aXBDb3N0KGNyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uY29zdCkpO1xyXG5cclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgICAgICBidXR0b25zW2NyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uaWRdID0gY3JhZnRlZFJlc291cmNlc1tuYW1lXTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5mdW5jdGlvbiBhcHBlbmRDcmFmdGVkUmVzb3VyY2VCdXR0b24obmFtZSkge1xyXG5cclxuICAgIGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbihjcmFmdGVkUmVzb3VyY2VzW25hbWVdKTtcclxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC1kZXNjJywgY3JhZnRlZFJlc291cmNlc1tuYW1lXS50b29sdGlwRGVzYyk7XHJcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAtY29zdCcsIGdlbmVyYXRlVG9vbHRpcENvc3QoY3JhZnRlZFJlc291cmNlc1tuYW1lXS5jb3N0KSk7XHJcblxyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICBidXR0b25zW2NyYWZ0ZWRSZXNvdXJjZXNbbmFtZV0uaWRdID0gY3JhZnRlZFJlc291cmNlc1tuYW1lXTtcclxuXHJcbn1cclxuXHJcbi8vIENhbGwgdGhlIGZ1bmN0aW9uIHRvIHJlcGxhY2UgPHA+IGVsZW1lbnRzIHdpdGggdGhlIGJ1dHRvbnNcclxuLy8gYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9uKCdzdGlja3MnKTtcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVG9vbHRpcENvc3QocmVxdWlyZW1lbnRzKSB7XHJcbiAgICB2YXIgc3RyID0gJyc7XHJcbiAgICBmb3IgKGxldCBtYXRlcmlhbCBpbiByZXF1aXJlbWVudHMpIHtcclxuXHJcbiAgICAgICAgY29uc3QgaGFzRW5vdWdoID0gZ2V0TWF0ZXJpYWwobWF0ZXJpYWwsIHJlc291cmNlcykgPj0gcmVxdWlyZW1lbnRzW21hdGVyaWFsXTsvKiBZb3VyIGxvZ2ljIHRvIGNoZWNrIGlmIHRoZXJlJ3MgZW5vdWdoIG9mIHRoZSBtYXRlcmlhbCAqLztcclxuICAgICAgICBjb25zdCBjb2xvckNsYXNzID0gaGFzRW5vdWdoID8gJ2Vub3VnaCcgOiAnbm90LWVub3VnaCc7XHJcbiAgICAgICAgc3RyICs9IGA8c3BhbiBjbGFzcz1cInRvb2x0aXAtJHttYXRlcmlhbH0gJHtjb2xvckNsYXNzfVwiPiR7cmVxdWlyZW1lbnRzW21hdGVyaWFsXX0gJHttYXRlcmlhbH08L3NwYW4+PGJyPmA7XHJcblxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0cjtcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBlbW9qaURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1vamlEaXNwbGF5Jyk7XHJcbmZ1bmN0aW9uIHVwZGF0ZUVtb2ppRGlzcGxheSgpIHtcclxuICAgIGxldCBlbW9qaVN0ciA9IFwiXCI7XHJcblxyXG4gICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBqb2JDb3VudHMgbWFwIHRvIGdldCBlYWNoIGpvYiBhbmQgaXRzIGNvdW50XHJcbiAgICBmb3IgKGxldCByZXNvdXJjZSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAvLyBsZXQgcmVzb3VyY2UgPSByZXNvdXJjZXNbZ2V0QWZmZWN0ZWRSZXNvdXJjZXMoam9iKVswXV07XHJcbiAgICAgICAgbGV0IGNvdW50ID0gZ2V0V29ya2VycyhyZXNvdXJjZSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzb3VyY2UsIGNvdW50KTtcclxuICAgICAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCB8fCBjb3VudCA9PSAwKSBjb250aW51ZTtcclxuICAgICAgICBsZXQgZW1vamkgPSByZXNvdXJjZXNbcmVzb3VyY2VdLmVtb2ppIHx8ICfwk4CfJzsgIC8vIGdldCB0aGUgZW1vamkgY29ycmVzcG9uZGluZyB0byB0aGUgam9iIGZyb20gdGhlIHJlc291cmNlcyBtYXBcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhqb2IsIGVtb2ppKTtcclxuICAgICAgICBpZiAoZW1vamkpIHtcclxuICAgICAgICAgICAgZW1vamlTdHIgKz0gZW1vamkucmVwZWF0KGNvdW50KTsgIC8vIHJlcGVhdCB0aGUgZW1vamkgYmFzZWQgb24gdGhlIGNvdW50XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVtb2ppRGlzcGxheS50ZXh0Q29udGVudCA9IGVtb2ppU3RyOyAgLy8gdXBkYXRlIHRoZSBlbW9qaURpc3BsYXkgZGl2IHdpdGggdGhlIGdlbmVyYXRlZCBlbW9qaSBzdHJpbmdcclxuXHJcbiAgICBmdW5jdGlvbiBhZGp1c3RGb250U2l6ZSgpIHtcclxuICAgICAgICBsZXQgZm9udFNpemUgPSA0ODsgIC8vIFN0YXJ0aW5nIGZvbnQgc2l6ZVxyXG5cclxuICAgICAgICBlbW9qaURpc3BsYXkuc3R5bGUuZm9udFNpemUgPSBgJHtmb250U2l6ZX1weGA7XHJcblxyXG4gICAgICAgIHdoaWxlICgoZW1vamlEaXNwbGF5Lm9mZnNldFdpZHRoID4gNjAwKSAmJiBmb250U2l6ZSA+IDMwKSB7XHJcbiAgICAgICAgICAgIC8vIDEwIGlzIGEgbWluaW11bSBmb250LXNpemUgdGhyZXNob2xkIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcFxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlbW9qaURpc3BsYXkub2Zmc2V0V2lkdGgsIGVtb2ppRGlzcGxheS5vZmZzZXRIZWlnaHQpO1xyXG4gICAgICAgICAgICBmb250U2l6ZSAtPSAxOyAvLyBkZWNyZWFzZSB0aGUgZm9udCBzaXplXHJcbiAgICAgICAgICAgIGVtb2ppRGlzcGxheS5zdHlsZS5mb250U2l6ZSA9IGAke2ZvbnRTaXplfXB4YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsbCB0aGlzIGZ1bmN0aW9uIHdoZW5ldmVyIHRoZSBjb250ZW50IG9mICNlbW9qaURpc3BsYXkgY2hhbmdlc1xyXG4gICAgYWRqdXN0Rm9udFNpemUoKTtcclxuXHJcbn1cclxuXHJcbi8vIENhbGwgdXBkYXRlRW1vamlEaXNwbGF5IGV2ZXJ5IHRpbWUgam9iQ291bnRzIGlzIHVwZGF0ZWQ6XHJcbi8vIEZvciBleGFtcGxlOlxyXG4vLyBqb2JDb3VudHMuc2V0KCdmaXNoaW5nJywgNCk7XHJcbnVwZGF0ZUVtb2ppRGlzcGxheSgpO1xyXG5cclxuXHJcbmNvbnN0IGF1dG9DcmFmdFRhYmxlID0ge1xyXG4gICAgJ3N0aWNrcyc6ICdoYW5kbGUnLFxyXG4gICAgJ3dvb2QnOiAncGFwZXInLFxyXG4gICAgJ3JvY2tzJzogJ3NoYXJwcm9ja3MnLFxyXG4gICAgJ3ZpbmVzJzogJ3JvcGUnLFxyXG4gICAgJ3NhbmQnOiAnZ2xhc3MnLFxyXG4gICAgJ29yZSc6ICdnb2xkJyxcclxuICAgICdjbGF5JzogJ2JyaWNrcydcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNyYWZ0QWxsUmVzb3VyY2VzKHJlc291cmNlS2V5KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvc3QgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jb3N0O1xyXG4gICAgICAgIGxldCBzdWZmaWNpZW50UmVzb3VyY2VzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgbWF0IGluIGNvc3QpIHtcclxuICAgICAgICAgICAgLy8gaWYgKGdldE1hdGVyaWFsKG1hdCwgcmVzb3VyY2VzKSA8IGNvc3RbbWF0XSkge1xyXG4gICAgICAgICAgICBzdWZmaWNpZW50UmVzb3VyY2VzLnB1c2goZ2V0TWF0ZXJpYWwobWF0LCByZXNvdXJjZXMpIC8gY29zdFttYXRdKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3JhZnRSZXNvdXJjZVF1YW50aXR5KE1hdGgubWluKC4uLnN1ZmZpY2llbnRSZXNvdXJjZXMpKTtcclxuXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGNyYWZ0YWxsIGZvcjogJywgcmVzb3VyY2VLZXksIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JhZnRSZXNvdXJjZVF1YW50aXR5KHJlc291cmNlS2V5LCBxdWFudGl0eSkge1xyXG4gICAgaWYgKCFjcmFmdGVkUmVzb3VyY2VzLmhhc093blByb3BlcnR5KHJlc291cmNlS2V5KSkgdGhyb3cgXCJJbnZhbGlkIGNyYWZ0IGZvciBtaXNzaW5nIHJlc291cmNlOiBcIiArIHJlc291cmNlS2V5O1xyXG5cclxuICAgIGlmICghY2FuQ3JhZnQocmVzb3VyY2VLZXkpKSByZXR1cm47IC8vIFRha2VzIGNhcmUgb2YgcXVhbnRpdHkgPCAxXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWFudGl0eTsgKytpKSB7XHJcbiAgICAgICAgY3JhZnRSZXNvdXJjZShyZXNvdXJjZUtleSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIENyYWZ0IGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIGNyYWZ0UmVzb3VyY2UocmVzb3VyY2VLZXkpIHtcclxuICAgIGlmICghY3JhZnRlZFJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZUtleSkpIHRocm93IFwiSW52YWxpZCBjcmFmdCBmb3IgbWlzc2luZyByZXNvdXJjZTogXCIgKyByZXNvdXJjZUtleTtcclxuXHJcblxyXG4gICAgbGV0IGNvc3QgPSBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jb3N0O1xyXG5cclxuICAgIGlmICghY2FuQ3JhZnQocmVzb3VyY2VLZXkpKSByZXR1cm47XHJcblxyXG5cclxuICAgIGZvciAobGV0IG1hdCBpbiBjb3N0KSB7XHJcbiAgICAgICAgaW5jcmVhc2VNYXRlcmlhbChtYXQsIC1jb3N0W21hdF0pO1xyXG4gICAgfVxyXG4gICAgaW5jcmVhc2VNYXRlcmlhbChyZXNvdXJjZUtleSwgMSB8fCBjYWxjQ3JhZnRCb251cyhyZXNvdXJjZUtleSkpO1xyXG4gICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIHJlc291cmNlS2V5ICsgXCJWYWx1ZVwiKS50ZXh0Q29udGVudCA9IGNyYWZ0ZWRSZXNvdXJjZXNbcmVzb3VyY2VLZXldLnZhbHVlLnRvRml4ZWQoMik7XHJcbiAgICBjcmFmdGVkUmVzb3VyY2VzW3Jlc291cmNlS2V5XS5jcmFmdGVkT25jZSA9IHRydWU7XHJcbiAgICB1cGRhdGVEaXNwbGF5VmFsdWUocmVzb3VyY2VLZXkpO1xyXG59XHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgZ2V0TWF0ZXJpYWwsXHJcbiAgICBpbmNyZWFzZU1hdGVyaWFsLFxyXG4gICAgc2V0TWF4LFxyXG4gICAgaW5jcmVhc2VNYXgsXHJcbiAgICBjcmFmdEFsbFJlc291cmNlcyxcclxuICAgIGNyYWZ0UmVzb3VyY2UsXHJcbiAgICB1cGRhdGVFbW9qaURpc3BsYXksXHJcbiAgICB1cGRhdGVEaXNwbGF5VmFsdWUsXHJcbiAgICBnZW5lcmF0ZVRvb2x0aXBDb3N0LFxyXG4gICAgY2FsY1NlY29uZHNSZW1haW5pbmcsXHJcbiAgICBjcmVhdGVSZXNvdXJjZVRhZyxcclxuICAgIGFwcGVuZENyYWZ0ZWRSZXNvdXJjZUJ1dHRvbnMsXHJcbiAgICBjYWxjSW5jcmVhc2UsXHJcbiAgICB1cGRhdGVSZXNvdXJjZUluY3JlYXNlUmF0ZXNcclxuXHJcbn07IiwiLy8gREVQRU5EUyBPTjogcmVzb3VyY2VzLmpzXHJcbmNvbnN0IHsgdXBkYXRlQnVpbGRpbmdCdXR0b25Db3VudCwgcmVjYWxjdWxhdGVCdWlsZGluZ0Nvc3QgfSA9IHJlcXVpcmUoJy4vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgdXBkYXRlRGlzcGxheVZhbHVlLCBjYWxjSW5jcmVhc2UsIHVwZGF0ZUVtb2ppRGlzcGxheSB9ID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMnKTtcclxuY29uc3QgeyBhZGRUb29sLCBnZXRBbGxUb29scyB9ID0gcmVxdWlyZSgnLi90b29scycpO1xyXG5jb25zdCB7IGFsbFZpc2libGVCdXR0b25zLCB1cGRhdGVTaWRlYmFyLCBwb3B1bGF0ZVNraWxsc1RhYmxlLCBzZXRWaXNpYmxlQnV0dG9uIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IG1ha2VWaXNpYmxlIH0gPSByZXF1aXJlKCcuL21ha2VWaXNpYmxlJyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlIH0gPSByZXF1aXJlKCcuL2dldENyYWZ0ZWRSZXNvdXJjZScpO1xyXG5jb25zdCB7IGdldE1hdGVyaWFsIH0gPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJyk7XHJcblxyXG5jb25zdCB7IGdldEFsbFBlcmtzLCBhZGRQZXJrLCBoYXNQZXJrIH0gPSByZXF1aXJlKCcuL3BlcmtzJyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCB9ID0gcmVxdWlyZSgnLi9wb25kZXInKTtcclxuY29uc3QgeyBqb2JDb3VudHMsIHNldENvbm5lY3Rpb25zLCBnZXRDb25uZWN0aW9ucywgZGlzdHJpYnV0ZVdvcmtlcnMsIHVwZGF0ZURpc3BsYXkgfSA9IHJlcXVpcmUoJy4vam9icycpO1xyXG5jb25zdCB7IHRvdGFsX3RpbWUgfSA9IHJlcXVpcmUoJy4vbWFpbicpO1xyXG5jb25zdCB7IHNldEF0ZUZpc2gsIGdldEF0ZUZpc2ggfSA9IHJlcXVpcmUoJy4vYXRlRmlzaCcpO1xyXG5cclxuXHJcbmNvbnN0IHsgY3JhZnRlZFJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuY29uc3QgeyBidWlsZGluZ3MgfSA9IHJlcXVpcmUoXCIuL2pzb24vYnVpbGRpbmdzXCIpO1xyXG5jb25zdCB7IHBvbmRlcnMgfSA9IHJlcXVpcmUoXCIuL2pzb24vcG9uZGVyXCIpO1xyXG5jb25zdCB7IHJlc291cmNlcyB9ID0gcmVxdWlyZSgnLi9qc29uL3Jlc291cmNlcycpO1xyXG5jb25zdCB7IHNraWxscyB9ID0gcmVxdWlyZShcIi4vanNvbi9za2lsbHNcIik7XHJcbmNvbnN0IHsgZ2V0QWxsU3RhZ2VzIH0gPSByZXF1aXJlKCcuL3N0YWdlcycpO1xyXG5cclxuLy8gaW1wb3J0IGpvYkNvdW50cztcclxuLyogU0FWSU5HICovXHJcbi8vIHZhciBzYXZlID0ge1xyXG4vLyAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXHJcbi8vICAgICBjcmFmdGVkUmVzb3VyY2VzOiBjcmFmdGVkUmVzb3VyY2VzLFxyXG4vLyAgICAgc2tpbGxzOiBza2lsbHMsXHJcbi8vICAgICBwbGF5ZXJUb29sczogcGxheWVyVG9vbHNcclxuLy8gfVxyXG5cclxuZnVuY3Rpb24gc2F2ZUdhbWUoKSB7XHJcbiAgICBsZXQgc2F2ZSA9IHtcclxuICAgICAgICBza2lsbHM6IHt9LCAvLyBUaGlzIHdpbGwgaG9sZCB0aGUgZXhwZXJpZW5jZSBhbmQgbGV2ZWwgZm9yIGVhY2ggc2tpbGxcclxuICAgICAgICBjcmFmdGVkUmVzb3VyY2VzOiB7fSwgLy8gVGhpcyB3aWxsIGhvbGQgdGhlIHZhbHVlIGZvciBlYWNoIGNyYWZ0ZWQgaXRlbVxyXG4gICAgICAgIHJlc291cmNlczoge30sXHJcbiAgICAgICAgdG9vbHM6IFtdLFxyXG4gICAgICAgIHN0YWdlczogW10sXHJcbiAgICAgICAgdW5sb2Nrczoge30sXHJcbiAgICAgICAgam9iczoge30sXHJcbiAgICAgICAgYnVpbGRpbmdzOiB7fSxcclxuICAgICAgICB0aW1lOiB7fSxcclxuICAgICAgICBhbGxWaXNpYmxlQnV0dG9uczogW10sXHJcbiAgICAgICAgbWVzc2FnZTogW10sXHJcbiAgICAgICAgY29ubmVjdGlvbnM6IG5ldyBNYXAoKSxcclxuICAgICAgICBwZXJrczogW11cclxuICAgIH07XHJcblxyXG4gICAgLy8gRXh0cmFjdCBleHAgYW5kIGxldmVsIGZyb20gc2tpbGxzIGFuZCBzYXZlIHRvIHNhdmUuc2tpbGxzXHJcbiAgICBmb3IgKGxldCBza2lsbCBpbiBza2lsbHMpIHtcclxuICAgICAgICBzYXZlLnNraWxsc1tza2lsbF0gPSB7XHJcbiAgICAgICAgICAgIGV4cDogc2tpbGxzW3NraWxsXS5leHAsXHJcbiAgICAgICAgICAgIGxldmVsOiBza2lsbHNbc2tpbGxdLmxldmVsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFeHRyYWN0IHZhbHVlIGZyb20gY3JhZnRlZFJlc291cmNlcyBhbmQgc2F2ZSB0byBzYXZlLmNyYWZ0ZWRJdGVtc1xyXG4gICAgZm9yIChsZXQgaXRlbSBpbiBjcmFmdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgaWYgKCFzYXZlLmNyYWZ0ZWRSZXNvdXJjZXMuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgc2F2ZS5jcmFmdGVkUmVzb3VyY2VzW2l0ZW1dID0geyB2YWx1ZTogMCwgY3JhZnRlZE9uY2U6IGZhbHNlIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzYXZlLmNyYWZ0ZWRSZXNvdXJjZXNbaXRlbV0udmFsdWUgPSBnZXRDcmFmdGVkUmVzb3VyY2UoaXRlbSk7XHJcbiAgICAgICAgc2F2ZS5jcmFmdGVkUmVzb3VyY2VzW2l0ZW1dLmNyYWZ0ZWRPbmNlID0gY3JhZnRlZFJlc291cmNlc1tpdGVtXS5jcmFmdGVkT25jZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaXRlbSBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgaXRlbSBleGlzdHMgaW4gdGhlIHNhdmUucmVzb3VyY2VzIG9iamVjdC4gSWYgbm90LCBpbml0aWFsaXplIGl0LlxyXG4gICAgICAgIGlmICghc2F2ZS5yZXNvdXJjZXMuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgc2F2ZS5yZXNvdXJjZXNbaXRlbV0gPSB7IHZhbHVlOiAwLCBtYXg6IDAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNhdmUucmVzb3VyY2VzW2l0ZW1dLnZhbHVlID0gZ2V0TWF0ZXJpYWwoaXRlbSwgcmVzb3VyY2VzKTtcclxuICAgICAgICBzYXZlLnJlc291cmNlc1tpdGVtXS5tYXggPSByZXNvdXJjZXNbaXRlbV0ubWF4O1xyXG4gICAgfVxyXG5cclxuICAgIHNhdmUudG9vbHMgPSBnZXRBbGxUb29scygpO1xyXG4gICAgc2F2ZS5zdGFnZXMgPSBnZXRBbGxTdGFnZXMoKTtcclxuICAgIHNhdmUuam9icyA9IGpvYkNvdW50cztcclxuICAgIHNhdmUucGVya3MgPSBnZXRBbGxQZXJrcygpO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHNhdmUuY29ubmVjdGlvbnMgPSBBcnJheS5mcm9tKGdldENvbm5lY3Rpb25zKCkuZW50cmllcygpKTtcclxuXHJcbiAgICBmb3IgKGxldCB1IGluIHBvbmRlcnMpIHtcclxuICAgICAgICBzYXZlLnVubG9ja3NbdV0gPSBpc1BvbmRlcmVkKHUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGIgaW4gYnVpbGRpbmdzKSB7XHJcbiAgICAgICAgc2F2ZS5idWlsZGluZ3NbYl0gPSBidWlsZGluZ3NbYl0uY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coYWxsVmlzaWJsZUJ1dHRvbnMudmFsdWVzKCkpO1xyXG4gICAgZm9yIChsZXQgYSBpbiBhbGxWaXNpYmxlQnV0dG9ucykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGEpO1xyXG4gICAgICAgIHNhdmUuYWxsVmlzaWJsZUJ1dHRvbnMucHVzaChhKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhzYXZlLmFsbFZpc2libGVCdXR0b25zKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHRyYWN0VGV4dEZyb21IVE1MKGh0bWxTdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZztcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dENvbnRlbnQgPSBkaXYudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgY29uc3Qgc3BhblRleHQgPSBkaXYucXVlcnlTZWxlY3Rvcignc3BhbicpLnRleHRDb250ZW50O1xyXG5cclxuICAgICAgICByZXR1cm4gW3RleHRDb250ZW50LCBzcGFuVGV4dF07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaHRtbFN0cmluZyA9IHJlcXVpcmUoJy4vbWFpbicpLmdldE1lc3NhZ2UoKS5pbm5lckhUTUw7XHJcblxyXG4gICAgc2F2ZS5tZXNzYWdlID0gZXh0cmFjdFRleHRGcm9tSFRNTChodG1sU3RyaW5nKTsgLy8gW21lc3NhZ2UsIHNwYW5dXHJcblxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKGNvbWJpbmVkVGV4dCk7IC8vIFwiWW91IGZpbmQgeW91cnNlbGYgYWxvbmUgaW4gYSBmb3Jlc3RcIlxyXG4gICAgLy8gY29uc29sZS5sb2coc3BhblRleHQpOyAvLyBcImFsb25lXCJcclxuXHJcblxyXG4gICAgc2F2ZS50aW1lWyd0b3RhbF90aW1lJ10gPSB0b3RhbF90aW1lO1xyXG4gICAgc2F2ZS50aW1lWyd0aW1lX29mX3NhdmUnXSA9IERhdGUubm93KCk7XHJcbiAgICAvLyBZb3UgY2FuIG5vdyB1c2UgdGhlIHNhdmUgb2JqZWN0IHRvIHN0b3JlIHRoZSBkYXRhIHNvbWV3aGVyZSBvciBkaXNwbGF5IGl0IHRvIHRoZSB1c2VyXHJcblxyXG4gICAgY29uc29sZS5sb2coc2F2ZSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShzYXZlKSk7XHJcblxyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzYXZlXCIsIEpTT04uc3RyaW5naWZ5KHNhdmUpKTtcclxuICAgIHJldHVybiBzYXZlO1xyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGxvYWRHYW1lKCkge1xyXG4gICAgY29uc29sZS5sb2coXCJMb2FkaW5nIEdhbWVcIik7XHJcbiAgICB2YXIgc2F2ZWdhbWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2F2ZVwiKSk7XHJcbiAgICBjb25zb2xlLmxvZyhzYXZlZ2FtZSk7XHJcbiAgICBpZiAoc2F2ZWdhbWUgPT09IG51bGwpIHtcclxuICAgICAgICAvLyBORVcgR0FNRVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUucmVzb3VyY2VzICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBzYXZlZ2FtZS5yZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgaWYgKGkudmFsdWVPZigpID09PSBcInVuZGVmaW5lZFwiIHx8IGkgPT09IG51bGwpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICByZXNvdXJjZXNbaV0udmFsdWUgPSBzYXZlZ2FtZS5yZXNvdXJjZXNbaV0udmFsdWU7XHJcbiAgICAgICAgICAgIHJlc291cmNlc1tpXS5tYXggPSBzYXZlZ2FtZS5yZXNvdXJjZXNbaV0ubWF4O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVwZGF0aW5nIHJlc291cmNlcyBmb3IgXCIgKyBpICsgXCIgdG8gXCIgKyBzYXZlZ2FtZS5yZXNvdXJjZXNbaV0udmFsdWUsIHNhdmVnYW1lLnJlc291cmNlc1tpXS5tYXgpO1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzW2ldLnZhbHVlICE9IDApIHVwZGF0ZURpc3BsYXlWYWx1ZShpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5za2lsbHMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBzYXZlZ2FtZS5za2lsbHMpIHtcclxuICAgICAgICAgICAgc2tpbGxzW2ldLmV4cCA9IHNhdmVnYW1lLnNraWxsc1tpXS5leHA7XHJcbiAgICAgICAgICAgIHNraWxsc1tpXS5sZXZlbCA9IHNhdmVnYW1lLnNraWxsc1tpXS5sZXZlbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5jcmFmdGVkUmVzb3VyY2VzICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IG9mIE9iamVjdC5rZXlzKHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXMpKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsb2FkaW5nIGNyYWZ0ZWQnLCBrZXksIHNhdmVnYW1lLmNyYWZ0ZWRSZXNvdXJjZXNba2V5XSwgY3JhZnRlZFJlc291cmNlc1trZXldKTtcclxuICAgICAgICAgICAgY3JhZnRlZFJlc291cmNlc1trZXldLnZhbHVlID0gc2F2ZWdhbWUuY3JhZnRlZFJlc291cmNlc1trZXldLnZhbHVlO1xyXG4gICAgICAgICAgICBjcmFmdGVkUmVzb3VyY2VzW2tleV0uY3JhZnRlZE9uY2UgPSBzYXZlZ2FtZS5jcmFmdGVkUmVzb3VyY2VzW2tleV0uY3JhZnRlZE9uY2U7XHJcbiAgICAgICAgICAgIHVwZGF0ZURpc3BsYXlWYWx1ZShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLnRvb2xzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIHBsYXllclRvb2xzID0gc2F2ZWdhbWUudG9vbHM7XHJcbiAgICAgICAgLy8gVW5pb24gdGhlIHRvb2wgbGlzdHMgdG9nZXRoZXJcclxuICAgICAgICBsZXQgdW5pb24gPSBbLi4ubmV3IFNldChbLi4uZ2V0QWxsVG9vbHMoKSwgLi4uc2F2ZWdhbWUudG9vbHNdKV07XHJcbiAgICAgICAgLy8gcGxheWVyVG9vbHMgPSB1bmlvbjtcclxuICAgICAgICBmb3IgKGxldCB0b29sIGluIHVuaW9uKSB7XHJcbiAgICAgICAgICAgIGFkZFRvb2wodG9vbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBmb3IgKGxldCB0IGluIHBsYXllclRvb2xzKSB7XHJcbiAgICAgICAgLy8gICAgIHVwZGF0ZVRvb2xVSShwbGF5ZXJUb29sc1t0XSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUuc3RhZ2VzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGZvciAobGV0IHMgaW4gc2F2ZWdhbWUuc3RhZ2VzKSB7XHJcbiAgICAgICAgICAgIG1ha2VWaXNpYmxlKHNhdmVnYW1lLnN0YWdlc1tzXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5qb2JzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIGpvYkNvdW50cyA9IHNhdmVnYW1lLmpvYnM7XHJcbiAgICAgICAgZm9yIChsZXQgaiBpbiBzYXZlZ2FtZS5qb2JzKSB7XHJcbiAgICAgICAgICAgIGpvYkNvdW50c1tqXSA9IHNhdmVnYW1lLmpvYnNbal07XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGopO1xyXG4gICAgICAgICAgICB1cGRhdGVEaXNwbGF5KGopO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUudW5sb2NrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGxldCB1IGluIHNhdmVnYW1lLnVubG9ja3MpIHtcclxuICAgICAgICAgICAgcG9uZGVyc1t1XS5pc1BvbmRlcmVkID0gc2F2ZWdhbWUudW5sb2Nrc1t1XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzUG9uZGVyZWQoJ3NraWxsc1RhYmxlJykpIHtcclxuICAgICAgICBwb3B1bGF0ZVNraWxsc1RhYmxlKCk7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLmJ1aWxkaW5ncyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBmb3IgKGxldCBiIGluIHNhdmVnYW1lLmJ1aWxkaW5ncykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhiLCBzYXZlZ2FtZS5idWlsZGluZ3NbYl0pO1xyXG4gICAgICAgICAgICBidWlsZGluZ3NbYl0uY291bnQgPSBzYXZlZ2FtZS5idWlsZGluZ3NbYl07XHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBidXR0b24gdGV4dFxyXG4gICAgICAgICAgICB1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50KGIsIGJ1aWxkaW5nc1tiXS5jb3VudCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGNvc3RzIG9mIGFsbCB0aGUgYnVpbGRpbmdzXHJcbiAgICAgICAgICAgIHJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0KGIsIGJ1aWxkaW5ncywgaGFzUGVyayk7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIG1heCBhcyBpbmZsdWVuY2VkIGJ5IHRoaXMgYnVpbGRpbmdcclxuICAgICAgICAgICAgLy8gVE9ETzogRG9uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGJ1aWxkaW5nIGJvb3N0c1xyXG4gICAgICAgICAgICAvLyBpZiAoYnVpbGRpbmdzW2JdLmVmZmVjdHMpIHtcclxuICAgICAgICAgICAgLy8gICAgIGZvciAobGV0IG1hdCBpbiBidWlsZGluZ3NbYl0uZWZmZWN0cykge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHNldE1heChtYXQsIGJ1aWxkaW5nc1tiXS5jb3VudCAqIGJ1aWxkaW5nc1tiXS5lZmZlY3RzW21hdF0pO1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0ZVNpZGViYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB3ZSBoYXZlIGEgY2xvbmUsIHRoZW4gd2UgYXRlIGZpc2hcclxuICAgIHNldEF0ZUZpc2gocmVzb3VyY2VzLmNsb25lcy5tYXggPj0gMSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnYXRlZmlzaCcsIGF0ZUZpc2gpO1xyXG4gICAgaWYgKGdldEF0ZUZpc2goKSkge1xyXG4gICAgICAgIGNvbnN0IGZpc2hCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VhdEZpc2hcIik7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGZpc2hCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxuICAgIC8vIENoYW5nZSB0aGUgbWVzc2FnZSB0byB0aGUgbGF0ZXN0IG9uZVxyXG4gICAgaWYgKHR5cGVvZiBzYXZlZ2FtZS5tZXNzYWdlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIFtmdWxsIG1lc3NhZ2UsIHNwYW5dXHJcbiAgICAgICAgcmVxdWlyZSgnLi9tYWluJykuY2hhbmdlTWVzc2FnZShzYXZlZ2FtZS5tZXNzYWdlWzBdLCBzYXZlZ2FtZS5tZXNzYWdlWzFdKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIENhbGN1bGF0ZSByZXNvdXJjZXMgZWFybmVkIHdoaWxlIGF3YXlcclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUudGltZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXF1aXJlKCcuL21haW4nKS5zZXRUb3RhbFRpbWUoc2F2ZWdhbWUudGltZVt0b3RhbF90aW1lXSk7XHJcbiAgICAgICAgY29uc3QgdGltZV9kaWZmZXJlbmNlID0gRGF0ZS5ub3coKSAtIHNhdmVnYW1lLnRpbWVbJ3RpbWVfb2Zfc2F2ZSddO1xyXG4gICAgICAgIGZvciAobGV0IHIgaW4gcmVzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluYyA9IGNhbGNJbmNyZWFzZShyLCB0aW1lX2RpZmZlcmVuY2UpO1xyXG4gICAgICAgICAgICByZXNvdXJjZXNbcl0udmFsdWUgKz0gaW5jO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyLCB0aW1lX2RpZmZlcmVuY2UsIGluYyk7XHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbcl0udmFsdWUgPiByZXNvdXJjZXNbcl0ubWF4KSByZXNvdXJjZXNbcl0udmFsdWUgPSByZXNvdXJjZXNbcl0ubWF4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLmFsbFZpc2libGVCdXR0b25zICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHNhdmVnYW1lLmFsbFZpc2libGVCdXR0b25zKTtcclxuICAgICAgICBmb3IgKGxldCBhIGluIHNhdmVnYW1lLmFsbFZpc2libGVCdXR0b25zKSB7XHJcbiAgICAgICAgICAgIHNldFZpc2libGVCdXR0b24oYSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNhdmVnYW1lLmNvbm5lY3Rpb25zICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHNldENvbm5lY3Rpb25zKG5ldyBNYXAoc2F2ZWdhbWUuY29ubmVjdGlvbnMpKTtcclxuXHJcbiAgICAgICAgaWYgKGdldENvbm5lY3Rpb25zKCkuc2l6ZSA9PT0gMCkgc2V0Q29ubmVjdGlvbnMobmV3IE1hcCgpKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhnZXRDb25uZWN0aW9ucygpKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZm9yIChsZXQgam9iIGluIGpvYkNvdW50cykge1xyXG4gICAgICAgIGRpc3RyaWJ1dGVXb3JrZXJzKGpvYiwgam9iQ291bnRzW2pvYl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUVtb2ppRGlzcGxheSgpO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygc2F2ZWdhbWUucGVya3MgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgLy8gbXlQZXJrcyA9IHNhdmVnYW1lLnBlcmtzO1xyXG4gICAgICAgIGZvciAobGV0IHBlcmsgaW4gc2F2ZWdhbWUucGVya3MpIHtcclxuICAgICAgICAgICAgYWRkUGVyayhwZXJrKTtcclxuICAgICAgICAgICAgcmVxdWlyZSgnLi9zZWxlY3RDb3JyZWN0UGVya0J1dHRvbicpLnNlbGVjdENvcnJlY3RQZXJrQnV0dG9uKHBlcmspO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4vLyBzYXZlIHRoZSB0aW1lIHdoZW4gdGhlIHBsYXllciBleGl0cyB0aGUgYnJvd3NlciB0YWJcclxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKCkgPT4gc2F2ZUdhbWUoKSk7XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgc2F2ZUdhbWUsXHJcbiAgICBsb2FkR2FtZVxyXG59OyIsIi8qKlxyXG4gKiBTZWxlY3QgdGhlIHBlcmsgYnV0dG9uIHRoYXQgd2UndmUgY2hvc2VuIGFuZCBkaXNhYmxlIHRoZSBvdGhlcnNcclxuICogQHBhcmFtIHtzdHJpbmd9IGFiaWxpdHlOYW1lIE5hbWUgb2YgdGhlIGNob3NlbiBwZXJrXHJcbiAqL1xyXG5mdW5jdGlvbiBzZWxlY3RDb3JyZWN0UGVya0J1dHRvbihhYmlsaXR5TmFtZSkge1xyXG4gICAgLy8gRGlzYWJsZSBhbGwgYnV0dG9uc1xyXG4gICAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGllck9uZUJ1dHRvbicpO1xyXG4gICAgbGV0IHNlbGVjdGVkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRpZXJPbmVCdXR0b25bb25jbGljaz1cInNlbGVjdEFiaWxpdHkoJyR7YWJpbGl0eU5hbWV9JylcIl1gKTtcclxuICAgIGlmIChzZWxlY3RlZEJ1dHRvbikge1xyXG4gICAgICAgIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEVuYWJsZSBhbmQgaGlnaGxpZ2h0IHRoZSBzZWxlY3RlZCBidXR0b25cclxuICAgICAgICBjb25zb2xlLmxvZyhzZWxlY3RlZEJ1dHRvbiwgYWJpbGl0eU5hbWUpO1xyXG4gICAgICAgIHNlbGVjdGVkQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgICBzZWxlY3RlZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ05vIGJ1dHRvbiBmb3VuZCB3aXRoIGFiaWxpdHkgbmFtZTogJywgYWJpbGl0eU5hbWUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuc2VsZWN0Q29ycmVjdFBlcmtCdXR0b24gPSBzZWxlY3RDb3JyZWN0UGVya0J1dHRvbjsiLCJsZXQgc3RhZ2VzID0gW107XHJcbmZ1bmN0aW9uIHNldFN0YWdlKHN0YWdlKSB7XHJcbiAgICBzdGFnZXMucHVzaChzdGFnZSk7XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdGFnZSBTdGFnZSB0byBjaGVja1xyXG4gKiBAcmV0dXJucyBib29sZWFuIGlmIHN0YWdlIGluIHN0YWdlc1xyXG4gKi9cclxuZnVuY3Rpb24gcGFzc2VkU3RhZ2Uoc3RhZ2UpIHtcclxuICAgIHJldHVybiBzdGFnZXMuaW5jbHVkZXMoc3RhZ2UpO1xyXG59XHJcbmZ1bmN0aW9uIGdldEFsbFN0YWdlcygpIHtcclxuICAgIHJldHVybiBzdGFnZXM7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgc2V0U3RhZ2UsXHJcbiAgICBwYXNzZWRTdGFnZSxcclxuICAgIGdldEFsbFN0YWdlc1xyXG59OyIsIi8qIFRPT0xTICovXHJcblxyXG5cclxuLy8gTGlzdCB0byBob2xkIHRoZSB0b29sc1xyXG5sZXQgcGxheWVyVG9vbHMgPSBbJ0JhcmUgSGFuZHMnXTtcclxuXHJcblxyXG4vKipcclxuICogRnVuY3Rpb24gdG8gY2hlY2sgaWYgYSB0b29sIGlzIHByZXNlbnQgaW4gdGhlIGxpc3QgXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b29sIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmZ1bmN0aW9uIGhhc1Rvb2wodG9vbCkge1xyXG4gICAgcmV0dXJuIHBsYXllclRvb2xzLmluY2x1ZGVzKHRvb2wpO1xyXG59XHJcblxyXG4vLyBGdW5jdGlvbiB0byBhZGQgYSB0b29sIGlmIGl0J3Mgbm90IGFscmVhZHkgcHJlc2VudFxyXG5mdW5jdGlvbiBhZGRUb29sKHRvb2wpIHtcclxuICAgIC8vIElnbm9yZSB0b29scyB0aGF0IGFyZSBqdXN0IG51bWJlcnNcclxuICAgIGlmICghaXNOYU4odG9vbCkgJiYgLy8gdXNlIHR5cGUgY29lcmNpb24gdG8gcGFyc2UgdGhlIF9lbnRpcmV0eV8gb2YgdGhlIHN0cmluZyAoYHBhcnNlRmxvYXRgIGFsb25lIGRvZXMgbm90IGRvIHRoaXMpLi4uXHJcbiAgICAgICAgIWlzTmFOKHBhcnNlRmxvYXQodG9vbCkpKSAvLyAuLi5hbmQgZW5zdXJlIHN0cmluZ3Mgb2Ygd2hpdGVzcGFjZSBmYWlsXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCFoYXNUb29sKHRvb2wpKSB7XHJcbiAgICAgICAgcGxheWVyVG9vbHMucHVzaCh0b29sKTtcclxuXHJcbiAgICAgICAgdXBkYXRlVG9vbFVJKHRvb2wpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbGxUb29scygpIHtcclxuICAgIHJldHVybiBwbGF5ZXJUb29scztcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVG9vbFVJKHRvb2wpIHtcclxuICAgIC8vIFVwZGF0ZSB0aGUgVUlcclxuICAgIHZhciB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9vbHMtbGlzdFwiKTtcclxuICAgIHZhciBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAgIGxpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRvb2wpKTtcclxuICAgIGlmICh1bCkgdWwuYXBwZW5kQ2hpbGQobGkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUb29sVmFsdWVGb3JSZXNvdXJjZShyZXNvdXJjZSkge1xyXG4gICAgaWYgKHJlc291cmNlLnRvb2xzKSB7XHJcbiAgICAgICAgLy8gU29ydCB0aGUgdG9vbHMgaW4gZGVzY2VuZGluZyBvcmRlciBiYXNlZCBvbiB0aGVpciB2YWxcclxuICAgICAgICBjb25zdCBzb3J0ZWRUb29scyA9IHJlc291cmNlLnRvb2xzLnNvcnQoKGEsIGIpID0+IGIudmFsIC0gYS52YWwpO1xyXG5cclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIHNvcnRlZCB0b29sc1xyXG4gICAgICAgIGZvciAobGV0IHRvb2wgb2Ygc29ydGVkVG9vbHMpIHtcclxuICAgICAgICAgICAgaWYgKGhhc1Rvb2wodG9vbC50b29sKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBsYXllciBoYXMgdGhlIHRvb2wsIHJldHVybiBpdHMgYXNzb2NpYXRlZCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2wudmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIG5vbmUgb2YgdGhlIHRvb2xzIGFyZSBmb3VuZCwgcmV0dXJuIHRoZSBkZWZhdWx0IHZhbHVlXHJcbiAgICByZXR1cm4gMTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBoYXNUb29sLFxyXG4gICAgYWRkVG9vbCxcclxuICAgIGdldEFsbFRvb2xzLFxyXG4gICAgZ2V0VG9vbFZhbHVlRm9yUmVzb3VyY2VcclxufTsiLCJjb25zdCB7IGJ1dHRvbnMgfSA9IHJlcXVpcmUoJy4vanNvbi9idXR0b25zJyk7XHJcbmNvbnN0IHsgZ2V0Q3JhZnRlZFJlc291cmNlQ29uZmlnQnlJZCB9ID0gcmVxdWlyZSgnLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXMnKTtcclxuY29uc3QgeyBnZXRCdWlsZGluZ0NvdW50IH0gPSByZXF1aXJlKCcuL2pzb24vYnVpbGRpbmdzJyk7XHJcbmNvbnN0IHsgaXNQb25kZXJlZCwgY2FuVW5sb2NrIH0gPSByZXF1aXJlKCcuL3BvbmRlcicpO1xyXG5jb25zdCB7IGdldENyYWZ0ZWRSZXNvdXJjZUtleUJ5Q29uZmlnIH0gPSByZXF1aXJlKFwiLi9qc29uL2NyYWZ0ZWRSZXNvdXJjZXNcIik7XHJcbmNvbnN0IHsgaXNCdXR0b25JZFZpc2libGUsIGNhbkJ1eUJ1aWxkaW5nLCBzZXRWaXNpYmxlQnV0dG9uIH0gPSByZXF1aXJlKCcuL2hlbHBlcicpO1xyXG5jb25zdCB7IGNhbkNyYWZ0IH0gPSByZXF1aXJlKCcuL2NhbkNyYWZ0Jyk7XHJcbmNvbnN0IHsgZ2V0TWF0ZXJpYWwgfSA9IHJlcXVpcmUoJy4vZ2V0TWF0ZXJpYWwnKTtcclxuLyoqXHJcbiAqIENoYW5nZXMgdGhlIHN0YXRlcyBvZiBidXR0b25zIGJldHdlZW4gJ2hpZGRlbicsICdwdXJjaGFzYWJsZScsIGFuZCAnYnV0dG9uLWRpc2FibGVkJ1xyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlQnV0dG9uVmlzaWJpbGl0eSgpIHtcclxuICAgIGNvbnN0IHNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKTsgLy8gQWRqdXN0IHRoZSBzZWxlY3RvciBhY2NvcmRpbmdseVxyXG5cclxuICAgIHNlbGVjdEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbmZpZyA9IGJ1dHRvbnNbYnV0dG9uLmlkXTsgLyogZ2V0IHRoZSBidXR0b24ncyBjb25maWd1cmF0aW9uIHVzaW5nIGl0cyBkYXRhIGF0dHJpYnV0ZSBvciBJRCwgZXRjLiAqLyAvKiBnZXQgdGhlIGJ1dHRvbidzIGNvbmZpZ3VyYXRpb24gdXNpbmcgaXRzIGRhdGEgYXR0cmlidXRlIG9yIElELCBldGMuICovLyogZ2V0IHRoZSBidXR0b24ncyBjb25maWd1cmF0aW9uIHVzaW5nIGl0cyBkYXRhIGF0dHJpYnV0ZSBvciBJRCwgZXRjLiAqLyAvKiBnZXQgdGhlIGJ1dHRvbidzIGNvbmZpZ3VyYXRpb24gdXNpbmcgaXRzIGRhdGEgYXR0cmlidXRlIG9yIElELCBldGMuICovO1xyXG4gICAgICAgIGlmICghYnV0dG9uQ29uZmlnKSByZXR1cm47XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcsIGJ1dHRvbkNvbmZpZy5yZXF1aXJlbWVudCk7XHJcbiAgICAgICAgLy8gUmVzZXQgYWxsIHN0YXRlcyBmaXJzdFxyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncHVyY2hhc2FibGUnLCAnYnV0dG9uLWRpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZSA9ICdoaWRkZW4nO1xyXG5cclxuICAgICAgICBpZiAoYnV0dG9uLmlkICYmIGlzQnV0dG9uSWRWaXNpYmxlKGJ1dHRvbi5pZCkpIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG4gICAgICAgIC8vIElmIHJlcXVpcmVtZW50IGlzIG1ldCwgaXQgc2hvdWxkIGJlIHZpc2libGVcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBsZXQgZ2V0TWF0ZXJpYWwgPSByZXF1aXJlKCcuL2dldE1hdGVyaWFsJykuZ2V0TWF0ZXJpYWw7XHJcbiAgICAgICAgICAgIGlmIChidXR0b25Db25maWcucmVxdWlyZW1lbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSAnYnV0dG9uLWRpc2FibGVkJztcclxuICAgICAgICAgICAgICAgIC8vIGFsd2F5cyBwdXJjaGFzYWJsZSBnYXRoZXIgYnV0dG9uc1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy50YWIgJiYgIWJ1dHRvbkNvbmZpZy5kYXRhX2J1aWxkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLnRhYiA9PT0gJ3Byb2R1Y3Rpb24nKSBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcG9uZGVyIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5pZCAmJiBidXR0b24uaWQgPT09ICdnYXRoZXJQb25kZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHBvbmRlciB1bmxvY2tzXHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLnRhYiAmJiBidXR0b25Db25maWcudGFiID09PSAncG9uZGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbi5jbGFzc0xpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24uaWQgJiYgYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygndW5sb2NrJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhblVubG9jayhidXR0b24uaWQpKSBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGEgcG9uZGVyIGJ1dHRvbiBpcyB1bmxvY2tlZCwgaGlkZSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQb25kZXJlZChidXR0b24uZ2V0QXR0cmlidXRlKCd1bmxvY2snKSkpIHN0YXRlID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbiwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyB0YWIgYnV0dG9ucyBhbHdheXMgZWl0aGVyIGhpZGRlbiBvciBlbmFibGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLnRhYiAmJiBidXR0b25Db25maWcudGFiID09PSAndGFicycpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9ICd2aXNpYmxlJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ0Vycm9yIHdpdGggY2hlY2tpbmcgcmVxdWlyZW1lbnQgb2YgYnV0dG9uOiAnLCBidXR0b25Db25maWcsIGVycik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYnV0dG9uQ29uZmlnLmlkICYmIGJ1dHRvbkNvbmZpZy5pZC5zbGljZSgwLCA1KSA9PT0gJ2NyYWZ0Jykge1xyXG4gICAgICAgICAgICAvLyBuZXZlciBoaWRlIHRoaXMgYnV0dG9uIG9uY2UgaXRzIGJlZW4gdW5sb2NrZWRcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbkNvbmZpZy5jcmFmdGVkT25jZSkgc3RhdGUgPSAnYnV0dG9uLWRpc2FibGVkJztcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBJZiB3ZSBjYW4gYWZmb3JkIHRoaXMgY3JhZnQsIGl0IHNob3VsZCBiZSBwdXJjaGFzYWJsZVxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgdmFyIGNyYWZ0ZWQgPSBnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkKGJ1dHRvbkNvbmZpZy5pZCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNyYWZ0ZWQpO1xyXG4gICAgICAgICAgICBpZiAoY3JhZnRlZC52YWx1ZSA+IDApIHN0YXRlID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWcoY3JhZnRlZCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGtleSk7XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICBpZiAoY2FuQ3JhZnQoa2V5KSkgc3RhdGUgPSAncHVyY2hhc2FibGUnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgd2UgY2FuIGFmZm9yZCB0aGlzIGJ1aWxkaW5nLCBpdCBzaG91bGQgYmUgcHVyY2hhc2FibGVcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhidXR0b25Db25maWcpO1xyXG4gICAgICAgIGlmIChidXR0b25Db25maWcuZGF0YV9idWlsZGluZykge1xyXG4gICAgICAgICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IHB1cmNoYXNlZCBhIGJ1aWxkaW5nLCBpdCBzaG91bGQgYmUgdmlzaWJsZVxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgc3RhdGUgPSBnZXRCdWlsZGluZ0NvdW50KGJ1dHRvbkNvbmZpZy5kYXRhX2J1aWxkaW5nKSA/ICdidXR0b24tZGlzYWJsZWQnIDogc3RhdGU7XHJcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGJ1aWxkaW5nIGNvc3RcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnV0dG9uQ29uZmlnKTtcclxuICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIHN0YXRlID0gY2FuQnV5QnVpbGRpbmcoYnV0dG9uQ29uZmlnLmRhdGFfYnVpbGRpbmcpID8gJ3B1cmNoYXNhYmxlJyA6IHN0YXRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgaGlkZGVuIGlzIG1ldCwgaXQgc2hvdWxkIGJlIGhpZGRlblxyXG4gICAgICAgIGlmIChidXR0b25Db25maWcuaGlkZSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9IGJ1dHRvbkNvbmZpZy5oaWRlKCkgPyAnaGlkZGVuJyA6IHN0YXRlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgY3VycmVudCBzdGF0ZVxyXG4gICAgICAgIGlmIChzdGF0ZSAhPT0gJycpIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKHN0YXRlKTtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHN0YXRlIGlzIG5vdC1wdXJjaGFzYWJsZSwgZGlzYWJsZSB0aGUgYnV0dG9uXHJcbiAgICAgICAgLy8gYnV0dG9uLmRpc2FibGVkID0gc3RhdGUgPT09ICdidXR0b24tZGlzYWJsZWQnO1xyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdG9vbHRpcCBmb3IgdGhpcyBidXR0b24gaWYgaXRzIGFjdGl2ZVxyXG4gICAgICAgIC8vIGlmIChidXR0b24gPT09IGN1cnJlbnRIb3ZlckJ1dHRvbikgdXBkYXRlVG9vbHRpcChidXR0b24pO1xyXG4gICAgICAgIC8vIElmIHRoZSBzdGF0ZSBpcyBoaWRkZW4sIHNldCB0aGUgYnV0dG9uJ3MgZGlzcGxheSB0byBub25lXHJcbiAgICAgICAgaWYgKHN0YXRlID09PSAnaGlkZGVuJykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaGlkaW5nJyxidXR0b24pO1xyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxsIHZpc2libGUgJywgYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgc2V0VmlzaWJsZUJ1dHRvbihidXR0b24uaWQpO1xyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICcnOyAvLyBUaGlzIHdpbGwgcmV2ZXJ0IGl0IGJhY2sgdG8gaXRzIG9yaWdpbmFsIGRpc3BsYXkgc3RhdGUgb3IgZGVmYXVsdCAoZS5nLiwgJ2Jsb2NrJyBvciAnaW5saW5lLWJsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9iLWJ1dHRvbicpLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgICBjb25zdCBqb2IgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWpvYicpO1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncHVyY2hhc2FibGUnLCAnYnV0dG9uLWRpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZSA9ICdwdXJjaGFzYWJsZSc7XHJcbiAgICAgICAgY29uc3QgcmVxUG9uZGVyID0gKHJlcXVpcmUoJy4vam9iUmVxdWlyZWRQb25kZXJzJykuam9iUmVxdWlyZWRQb25kZXJzKVtqb2JdO1xyXG4gICAgICAgIGlmIChyZXFQb25kZXIgPT09IG51bGwgfHwgcmVxUG9uZGVyID09PSB1bmRlZmluZWQpIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICBlbHNlIGlmIChpc1BvbmRlcmVkKHJlcVBvbmRlcikpIHN0YXRlID0gJ3B1cmNoYXNhYmxlJztcclxuICAgICAgICBlbHNlIGlmIChyZXFQb25kZXIgPT09ICdub3QtdW5sb2NrYWJsZScpIHN0YXRlID0gJ2hpZGRlbic7XHJcbiAgICAgICAgZWxzZSBzdGF0ZSA9ICdidXR0b24tZGlzYWJsZWQnO1xyXG5cclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coam9iLCBidXR0b24sIHJlcVBvbmRlciwgc3RhdGUpO1xyXG4gICAgICAgIC8vIGJ1dHRvbi5jbGFzc0xpc3QuXHJcbiAgICAgICAgaWYgKHN0YXRlID09PSAnaGlkZGVuJykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaGlkaW5nJyxidXR0b24pO1xyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxsIHZpc2libGUgJywgYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgc2V0VmlzaWJsZUJ1dHRvbihidXR0b24uaWQpO1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChzdGF0ZSk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnJzsgLy8gVGhpcyB3aWxsIHJldmVydCBpdCBiYWNrIHRvIGl0cyBvcmlnaW5hbCBkaXNwbGF5IHN0YXRlIG9yIGRlZmF1bHQgKGUuZy4sICdibG9jaycgb3IgJ2lubGluZS1ibG9jaycpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0cy51cGRhdGVCdXR0b25WaXNpYmlsaXR5ID0gdXBkYXRlQnV0dG9uVmlzaWJpbGl0eTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwOCk7XG4iXSwibmFtZXMiOlsiYXRlRmlzaCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXRBdGVGaXNoIiwiYm9vbCIsImdldEF0ZUZpc2giLCJidWlsZGluZ3MiLCJidXR0b25zIiwicmVzb3VyY2VzIiwiaW5jcmVhc2VNYXRlcmlhbCIsImluY3JlYXNlTWF4IiwiY2FuQnV5QnVpbGRpbmciLCJ1cGRhdGVTaWRlYmFyIiwidXBkYXRlVG90YWwiLCJoYXNQZXJrIiwiY2FwaXRhbGl6ZUZpcnN0IiwiZ2V0TWF0ZXJpYWwiLCJwYXNzZWRTdGFnZSIsInJlY2FsY3VsYXRlQnVpbGRpbmdDb3N0IiwiYnVpbGRpbmdLZXkiLCJidWlsZGluZyIsImNvc3QiLCJyYXRpbyIsIm1hdGVyaWFsIiwiTWF0aCIsInJvdW5kIiwiYmFzZWNvc3QiLCJwb3ciLCJjb3VudCIsIm15QnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmV3VGV4dCIsImdlbmVyYXRlQnVpbGRpbmdUb29sdGlwQ29zdCIsInNldEF0dHJpYnV0ZSIsImVmZmVjdFN0cmluZyIsImVmZmVjdFBhcnRzIiwicmVzb3VyY2UiLCJ2YWx1ZSIsIk9iamVjdCIsImVudHJpZXMiLCJlZmZlY3RzIiwicHVzaCIsImJvb3N0IiwicGVyY2VudGFnZUJvb3N0Iiwiam9pbiIsImdlbmVyYXRlRWZmZWN0U3RyaW5nIiwibWFwIiwiYW1vdW50IiwidG9GaXhlZCIsImNyZWF0ZUJ1aWxkaW5nQnV0dG9uIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiY29zdHMiLCJyZXF1aXJlbWVudEZ1bmN0aW9uIiwiY29zdENvbmRpdGlvbiIsImV2ZXJ5IiwiZmxvb3IiLCJjbG9uZUNvbmRpdGlvbiIsImNyZWF0ZVJlcXVpcmVtZW50RnVuY3Rpb24iLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwidG9vbHRpcERlc2MiLCJidXR0b24iLCJidXlCdWlsZGluZyIsImJ1aWxkaW5nTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGVCdWlsZGluZ0J1dHRvbkNvdW50IiwiYnVpbGRpbmdDb3VudCIsImdldEVsZW1lbnRCeUlkIiwidGV4dENvbnRlbnQiLCJzcGxpdCIsImJ1eU1heEJ1aWxkaW5ncyIsImNyYWZ0ZWRSZXNvdXJjZXMiLCJjYW5DcmFmdCIsInJlc291cmNlS2V5IiwicmVxdWlyZW1lbnRzIiwibWF0IiwiZXJyIiwid2FybiIsInN0ciIsImdldENyYWZ0ZWRSZXNvdXJjZSIsInRvTG93ZXJDYXNlIiwiaGFzT3duUHJvcGVydHkiLCJza2lsbHMiLCJhbGxWaXNpYmxlQnV0dG9ucyIsIlNldCIsImdldE1heCIsIm1heCIsIkluZmluaXR5IiwiYWJicmV2aWF0ZU51bWJlciIsIm51bSIsImZvcm1hdCIsInVuaXQiLCJyb3VuZFRvRGVjaW1hbHMiLCJudW1iZXIiLCJkZWNpbWFscyIsImZhY3RvciIsInRvU3RyaW5nIiwibGV2ZWxVcE1lc3NhZ2UiLCJoYXNHZW5lcmF0ZWRTa2lsbFRhYmxlIiwicG9wdWxhdGVTa2lsbHNUYWJsZSIsInRhYmxlIiwic2tpbGwiLCJleHAiLCJsZXZlbCIsInN0eWxlIiwiZGlzcGxheSIsInByb2dyZXNzQmFyIiwid2lkdGgiLCJ0ciIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsInRkUHJvZ3Jlc3MiLCJwb3NpdGlvbiIsImhlaWdodCIsInNraWxsVGV4dCIsImxlZnQiLCJ0b3AiLCJ0cmFuc2Zvcm0iLCJhcHBlbmRDaGlsZCIsInJlc291cmNlTmFtZSIsInJlc291cmNlQ29uZmlnIiwicGFyZW50RWxlbWVudCIsInNob3VsZEhpZGUiLCJjIiwiY2xhc3NMaXN0IiwiaXNWaXNpYmxlIiwiZGlzcGxheUVsZW0iLCJjb2xvciIsImlubmVySFRNTCIsInVwZGF0ZVNraWxscyIsImFicyIsImFmZmVjdGVkUmVzb3VyY2VzIiwiaW5jbHVkZXMiLCJyZW1vdmUiLCJzZXRUaW1lb3V0IiwiYWRkIiwiY2FsY0NyYWZ0Qm9udXMiLCJpc0J1dHRvbklkVmlzaWJsZSIsImhhcyIsInNldFZpc2libGVCdXR0b24iLCJjYW5CdXkiLCJpc1BvbmRlcmVkIiwiam9iQ291bnRzIiwiam9ic1RhYiIsImdldFRvdGFsSm9icyIsInRvdGFsIiwiaiIsImtleXMiLCJmb3JFYWNoIiwiam9iRGl2IiwiZGVjcmVtZW50RGl2Iiwiam9iTmFtZVNwYW4iLCJpbmNyZW1lbnREaXYiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImpvYlR5cGUiLCJ0aGlzIiwiY2xvc2VzdCIsImdldEF0dHJpYnV0ZSIsImRpc3RyaWJ1dGVXb3JrZXJzIiwidXBkYXRlRGlzcGxheSIsIndvcmtlcnNEaXN0cmlidXRpb24iLCJNYXAiLCJ0b3RhbFdvcmtlcnMiLCJmaWx0ZXIiLCJudW1iZXJPZlJlc291cmNlcyIsImxlbmd0aCIsInBlclJlc291cmNlIiwic2V0IiwicmVtYWluaW5nV29ya2VycyIsImdldCIsInRoaXNKb2JCdXR0b24iLCJqb2JFbGVtZW50IiwiY29ubmVjdGlvbnMiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0xpbmUiLCJzdGFydEVsZW1lbnQiLCJlbmRYIiwiZW5kWSIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzdGFydFgiLCJzdGFydFkiLCJzY3JvbGxZIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiY29udGV4dCIsImZyb21YIiwiZnJvbVkiLCJ0b1giLCJ0b1kiLCJyYWRpdXMiLCJhbmdsZSIsIngiLCJ5IiwieF9jZW50ZXIiLCJ5X2NlbnRlciIsImF0YW4yIiwiY29zIiwic2luIiwiUEkiLCJjbG9zZVBhdGgiLCJmaWxsIiwiZHJhd0Fycm93aGVhZCIsInN3aXRjaEpvYiIsIm9sZEpvYklkIiwibmV3Sm9iSWQiLCJ3b3JrZXJzIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2xlYXJKb2JBc3NpZ25tZW50cyIsImNsZWFyUmVjdCIsInJlYXNzaWduSm9ic0Jhc2VkT25SZXNvdXJjZXMiLCJ1bmRlZmluZWQiLCJkYXRhSm9iIiwib2xkSWQiLCJyZXBsYWNlIiwibmV3SWQiLCJtYXhlZE91dCIsInJlc291cmNlQXJyYXkiLCJyIiwiZXJyb3IiLCJkcmF3QWxsQ29ubmVjdGlvbnMiLCJvbGRCdXR0b24iLCJuZXdCdXR0b24iLCJuZXdYIiwibmV3WSIsImJvdHRvbSIsIm9mZnNldFRvcCIsIm9mZnNldEhlaWdodCIsImdldFdvcmtlcnMiLCJzZXRDb25uZWN0aW9ucyIsIm5ld0Nvbm5lY3Rpb25zIiwiZ2V0Q29ubmVjdGlvbnMiLCJyb2NrcyIsIndvb2QiLCJ2aW5lcyIsInN0aWNrcyIsImdhbWUiLCJmaXNoIiwiZ2xhc3MiLCJwb25kZXIiLCJnZXRCdWlsZGluZ0NvdW50IiwiZ2V0Qm9vc3QiLCJoYXNUb29sIiwiY2xhc3MiLCJ0YWIiLCJ0ZXh0IiwidG9vbHRpcENvc3QiLCJyZXF1aXJlbWVudCIsImhpZGUiLCJzaG93VGFiIiwiY3JhZnRlZE9uY2UiLCJnZXRDcmFmdGVkUmVzb3VyY2VDb25maWdCeUlkIiwiZ2V0Q3JhZnRlZFJlc291cmNlS2V5QnlDb25maWciLCJjb25maWciLCJrIiwicGVya3MiLCJwb25kZXJzIiwiZW1vamkiLCJpc1Jlc291cmNlIiwiZ2V0UmVzb3VyY2VDb25maWdCeUlkIiwiZ2F0aGVyaW5nIiwibWFzb25yeSIsIm5lZWRUb29scyIsImNhcnBlbnRyeSIsInRoaW5raW5nIiwic21pdGhpbmciLCJmYXJtaW5nIiwiY29tYmF0IiwiZmlzaGluZyIsImh1bnRpbmciLCJzYXZlR2FtZSIsImxvYWRHYW1lIiwiY3JlYXRlUmVzb3VyY2VUYWciLCJnZW5lcmF0ZVRvb2x0aXBDb3N0IiwiYXBwZW5kQ3JhZnRlZFJlc291cmNlQnV0dG9ucyIsImNyYWZ0QWxsUmVzb3VyY2VzIiwiY3JhZnRSZXNvdXJjZSIsImNhbGNJbmNyZWFzZSIsInVwZGF0ZVJlc291cmNlSW5jcmVhc2VSYXRlcyIsImNhbGNTZWNvbmRzUmVtYWluaW5nIiwibWFrZVZpc2libGUiLCJ1cGRhdGVCdXR0b25WaXNpYmlsaXR5IiwiY2FuVW5sb2NrIiwiZ2VuZXJhdGVQb25kZXJCdXR0b25zIiwiYWRkVG9vbCIsInNpZGViYXJQYXJlbnQiLCJlbW9qaUdhdGhlckRpdiIsInRvb2xzVG9TdGFnZXMiLCJ2aXNpYmlsaXR5UnVsZXMiLCJjb25kaXRpb24iLCJhY3Rpb24iLCJ0YWJDb250YWluZXJzIiwidGFiTmFtZSIsImNvbnRlbnQiLCJ0YWJzIiwidGFiU3RyaW5nIiwiYWN0aXZlVGFiQnV0dG9uIiwiZXZlbnQiLCJrZXkiLCJkYXJrTW9kZVRvZ2dsZSIsImJvZHkiLCJ0b2dnbGUiLCJpc0RhcmsiLCJvdmVybGF5IiwibWVzc2FnZUVsZW1lbnQiLCJjaGFuZ2VNZXNzYWdlIiwibmV3TWVzc2FnZSIsImNsb25lV29yZHMiLCJtb2RpZmllZE1lc3NhZ2UiLCJtaWxsaXNlY29uZHNfcGVyX2ZyYW1lIiwibGFzdF90aW1lIiwidG90YWxfdGltZSIsImFjY3VtdWxhdGVkX2xhZyIsImxvb3AiLCJjdXJyZW50X3RpbWUiLCJkZWx0YV90aW1lIiwibm9ybWFsUmF0ZSIsInVwZGF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInRpbWVfc2luY2VfbGFzdF9zYXZlIiwicnVsZSIsInRvb2wiLCJjdXJyZW50SG92ZXJCdXR0b24iLCJ1cGRhdGVUb29sdGlwIiwicmVuZGVyIiwidG9vbHRpcCIsImRlc2MiLCJlZmZlY3QiLCJ0YXJnZXQiLCJjb2xvckNsYXNzIiwic2Vjb25kc1JlbWFpbmluZyIsInJpZ2h0Iiwic2hvd1Rvb2x0aXAiLCJnZXRDUktleUZyb21JRCIsInRyYWNlIiwiY3JlYXRlQ29sdW1ucyIsInBhcmVudCIsImNvbDEiLCJjb2wyIiwiY29sMyIsInByZXBlbmQiLCJ0YWJzQ29udGFpbmVyIiwicHJvZHVjdGlvbkNvbnRhaW5lciIsImV4cGVyaW1lbnRDb250YWluZXIiLCJwb25kZXJDb250YWluZXIiLCJwcm9kdWN0aW9uQ29sdW1ucyIsImV4cGVyaW1lbnRDb2x1bW5zIiwicG9uZGVyQ29sdW1ucyIsInByb2R1Y3Rpb25Db2x1bW5JbmRleCIsImV4cGVyaW1lbnRDb2x1bW5JbmRleCIsInBvbmRlckNvbHVtbkluZGV4IiwiYnV0dG9uRWxlbWVudCIsImNsYXNzTmFtZSIsInRvb2x0aXBFZmZlY3QiLCJ1bmxvY2siLCJkYXRhX2J1aWxkaW5nIiwiY3JhZnRlZFJlc291cmNlIiwidmFsdWVzIiwiZmluZCIsImdlbmVyYXRlQnV0dG9ucyIsIm1hdGNoZXMiLCJjb250YWlucyIsInNoaWZ0S2V5IiwidW5sb2NrQXR0ciIsInNpZGViYXJUZXh0IiwicmVzb3VyY2VCdXR0b24iLCJpc0dldHRpbmciLCJkZWZhdWx0VGV4dCIsImZvbnRXZWlnaHQiLCJyQnV0dG9uIiwic3RvcEFsbEdhdGhlcmluZyIsImFjdGl2ZVRleHQiLCJ0b2dnbGVSZXNvdXJjZSIsImdldFJLZXlGcm9tSUQiLCJvdmVybGF5VGV4dCIsIm92ZXJsYXlCdXR0b24iLCJvcGFjaXR5IiwiZmFkZVRvQmxhY2siLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwibG9jYXRpb24iLCJyZWxvYWQiLCJlIiwidXBkYXRlVUkiLCJyZXNvdXJjZURpdiIsInNldFRvdGFsVGltZSIsInRpbWUiLCJnZXRNZXNzYWdlIiwic2V0U3RhZ2UiLCJzdGFnZSIsInN0YWdlRWxlbWVudHMiLCJlbGVtZW50Iiwic2VsZWN0Q29ycmVjdFBlcmtCdXR0b24iLCJteVBlcmtzIiwicGVya05hbWUiLCJhZGRQZXJrIiwiYiIsInNlbGVjdEFiaWxpdHkiLCJhYmlsaXR5TmFtZSIsImNvbmZpcm0iLCJnZXRQZXJrRnJvbVRpZXIiLCJ0aWVyTnVtIiwicGVyayIsImdldEFsbFBlcmtzIiwidW5sb2NrSWQiLCJ1bmxvY2tLZXkiLCJwb25kZXJPYmplY3RzIiwicG9uZGVyS2V5IiwicG9uZGVyT2JqIiwiYnV0dG9uS2V5IiwiZ2V0VG9vbFZhbHVlRm9yUmVzb3VyY2UiLCJjdXJyVG9vbCIsImNsb25lTXVsdCIsInNraWxsUmF0aW8iLCJib29zdERhdGEiLCJpbmNyZWFzZSIsInBhcnNlRmxvYXQiLCJyZXNvdXJjZXNDb250YWluZXIiLCJyZXNvdXJjZURpc3BsYXlOYW1lIiwicmVzb3VyY2VFbGVtZW50IiwicmVzb3VyY2VOYW1lU3BhbiIsInJlc291cmNlVmFsdWVTcGFuIiwicmVzb3VyY2VSYXRlU3BhbiIsImNoYW5nZVJlc291cmNlT3JkZXIiLCJyZXNvdXJjZUlkIiwibmV3T3JkZXIiLCJvcmRlciIsInVwZGF0ZURpc3BsYXlWYWx1ZSIsImNyYWZ0ZWRCdXR0b24iLCJjb3VudFNwYW4iLCJhdXRvQ3JhZnRUYWJsZSIsImNyZWF0ZUNyYWZ0ZWRSZXNvdXJjZUJ1dHRvbiIsImNsZWFuQ291bnQiLCJjb250YWluZXIiLCJlbW9qaURpc3BsYXkiLCJ1cGRhdGVFbW9qaURpc3BsYXkiLCJlbW9qaVN0ciIsInJlcGVhdCIsImZvbnRTaXplIiwib2Zmc2V0V2lkdGgiLCJhZGp1c3RGb250U2l6ZSIsInN1ZmZpY2llbnRSZXNvdXJjZXMiLCJxdWFudGl0eSIsImkiLCJjcmFmdFJlc291cmNlUXVhbnRpdHkiLCJtaW4iLCJzZXRNYXgiLCJuZWVkZWQiLCJjZWlsIiwibmFtZSIsInJhdGUiLCJyYXRlRWxlbWVudCIsImdldEFsbFRvb2xzIiwiZ2V0QWxsU3RhZ2VzIiwic2F2ZSIsInRvb2xzIiwic3RhZ2VzIiwidW5sb2NrcyIsImpvYnMiLCJtZXNzYWdlIiwiaXRlbSIsIkFycmF5IiwiZnJvbSIsInUiLCJhIiwiaHRtbFN0cmluZyIsImRpdiIsImV4dHJhY3RUZXh0RnJvbUhUTUwiLCJEYXRlIiwibm93Iiwic2V0SXRlbSIsInNhdmVnYW1lIiwiZ2V0SXRlbSIsInZhbHVlT2YiLCJ1bmlvbiIsInMiLCJjbG9uZXMiLCJ0aW1lX2RpZmZlcmVuY2UiLCJpbmMiLCJzaXplIiwiam9iIiwic2VsZWN0ZWRCdXR0b24iLCJyZW1vdmVBdHRyaWJ1dGUiLCJwbGF5ZXJUb29scyIsImlzTmFOIiwidWwiLCJsaSIsImNyZWF0ZVRleHROb2RlIiwidXBkYXRlVG9vbFVJIiwic29ydGVkVG9vbHMiLCJzb3J0IiwidmFsIiwiYnV0dG9uQ29uZmlnIiwic3RhdGUiLCJjcmFmdGVkIiwicmVxUG9uZGVyIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJzb3VyY2VSb290IjoiIn0=